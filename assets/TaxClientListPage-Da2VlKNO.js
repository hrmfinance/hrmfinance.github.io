import{G as ct,c as $,D as mt,e as B,t as x,j as g,i as n,a as y,B as ee,v as T,b as S,F as te,S as w,w as K,W as ut,aC as gt,aD as vt,aB as ft,M as ht,d as Pt}from"./index-lxO5XhQ-.js";import{j as bt,l as xt}from"./taxPortalApi-Cxlifo7n.js";import{T as Y,b as re,c as wt,d as $t}from"./drakeTypes-DGPIb3y3.js";import{p as St,a as Ct}from"./aamvaParser-DwE1p5zq.js";import{l as _t}from"./zipCodeLookup-Bhswoe-K.js";var Nt=x("<div><div>Loading clients..."),kt=x("<div><div></div><div></div><div>"),J=x("<div>"),Tt=x("<div><button>Manual Entry</button><button>Scan ID</button><button>Import from Notary"),At=x("<div><button>Driver's License</button><button>Passport"),It=x('<div><div><svg viewBox="0 0 24 24"fill=none stroke=#9333ea><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"></path></svg><span>Scan with External Scanner</span><span>Recommended</span></div><div><input type=text autofocus><button><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"clip-rule=evenodd></path></svg>Process</button></div><div><span></span><button><svg viewBox="0 0 20 20"fill=currentColor><path d="M4 5a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V7a2 2 0 00-2-2h-1.586a1 1 0 01-.707-.293l-1.121-1.121A2 2 0 0011.172 3H8.828a2 2 0 00-1.414.586L6.293 4.707A1 1 0 015.586 5H4zm6 9a3 3 0 100-6 3 3 0 000 6z"></path></svg>Use Camera Instead'),Bt=x("<div><div><span></span><button>Close"),Mt=x("<div><span>Expires:</span> <span>"),Lt=x("<div><span>Gender:</span> <span>"),Ot=x("<div><div><div><span>âœ“</span> ID Scanned Successfully</div><button>Rescan</button></div><div><div><span>ID Number:</span> <span></span></div><div><span>State:</span> <span>"),Et=x("<div>Client data loaded. Review and edit fields below before creating."),zt=x("<div><label>Search Notary Client"),Yt=x("<div><label>Address </label><div><div>"),Dt=x("<div><label>Tax Year</label><div>"),Rt=x("<div><div><div><h1>Tax Clients</h1><p>Manage your tax clients and their documents</p></div></div><div><div></div><div><div><span>Status:</span><div></div></div><div><span>Payment:</span><div>"),pe=x("<button>"),Ft=x("<span>"),Xt=x("<div><div></div><div><div><span> </span></div><div><div><span></span></div><div><span></span></div></div><div>Last activity: ");const Gt=()=>{const ce=ct(),[me,ue]=$([]),[le,ge]=$(!0),[D,Ae]=$(""),[L,Ie]=$("all"),[O,Be]=$("all"),[Me,X]=$(!1),[p,P]=$({firstName:"",middleName:"",lastName:"",email:"",phone:"",ssn:"",dateOfBirth:"",address:"",city:"",state:"",zipCode:"",taxYear:2024}),[ve,fe]=$(!1),[C,he]=$("manual"),[Pe,se]=$(null),[Le,R]=$(!1),[M,j]=$(null),[W,_]=$(null),[be,oe]=$(""),[A,xe]=$("id");mt(async()=>{ge(!0);try{const a=(await bt()).map(d=>({...d,lastActivity:d.updatedAt||d.createdAt,requiredDocs:8}));ue(a)}catch(t){B("Error loading tax clients:",t)}finally{ge(!1)}});const ae=()=>{let t=me();const a=D().toLowerCase().trim();return a&&(t=t.filter(d=>d.firstName.toLowerCase().includes(a)||d.lastName.toLowerCase().includes(a)||d.email?.toLowerCase().includes(a)||d.phone?.includes(a))),L()!=="all"&&(t=t.filter(d=>(d.workflowStatus||"intake")===L())),O()!=="all"&&(t=t.filter(d=>(d.paymentStatus||"pending")===O())),t},Oe=t=>t?new Date(t).toISOString().split("T")[0]:"",Ee=t=>{if(!t.residences)return null;const a=Object.values(t.residences);return a.find(d=>!d.toDate)||a[a.length-1]||null},ze=t=>{se(t);const a=Ee(t);P({firstName:t.firstName||"",middleName:t.middleName||"",lastName:t.lastName||"",email:t.email||"",phone:t.phoneNumber||"",ssn:t.ss||"",dateOfBirth:Oe(t.dateOfBirth||t.dob),address:a?.addressLineOne||"",city:a?.city||"",state:a?.state||"",zipCode:a?.zipcode||"",taxYear:p().taxYear})},ne=t=>{he(t),se(null),j(null),_(null),P({firstName:"",middleName:"",lastName:"",email:"",phone:"",ssn:"",dateOfBirth:"",address:"",city:"",state:"",zipCode:"",taxYear:p().taxYear})},Ye=(t,a)=>{B("Barcode scan received:",a,t.length,"chars");const d=St(t);if(!d){B("Failed to parse barcode data"),_({type:"error",text:"Could not read ID barcode. Please try again or enter manually."}),setTimeout(()=>_(null),5e3);return}B("Parsed AAMVA data:",d);const N=Ct(d);B("Converted idInfo:",N),j(N),P({firstName:d.firstName||"",middleName:d.middleName||"",lastName:d.lastName||"",email:"",phone:"",ssn:"",dateOfBirth:d.dateOfBirth||"",address:d.address||"",city:d.city||"",state:d.state||"",zipCode:d.zipCode||"",taxYear:p().taxYear}),R(!1),oe(""),_({type:"success",text:`ID scanned: ${d.firstName} ${d.lastName} (${d.idState} ${d.idNumber})`})},De=t=>{B("MRZ scan received:",t);const a={idNumber:t.documentNumber,idState:t.issuingCountry,idType:t.documentType==="P"?"passport":"state_id",firstName:t.firstName,middleName:t.middleName,lastName:t.lastName,dateOfBirth:t.dateOfBirth,gender:t.gender==="unknown"?void 0:t.gender,expirationDate:t.expirationDate,country:t.nationality};j(a),P({firstName:t.firstName||"",middleName:t.middleName||"",lastName:t.lastName||"",email:"",phone:"",ssn:"",dateOfBirth:t.dateOfBirth||"",address:"",city:"",state:"",zipCode:"",taxYear:p().taxYear}),R(!1),oe(""),_({type:"success",text:`${t.documentType==="P"?"Passport":"ID"} scanned: ${t.firstName} ${t.lastName} (${t.issuingCountry} ${t.documentNumber})`})},we=t=>{if(B("ML Scanner result:",t),!t.parsed){_({type:"error",text:"Could not read document. Please try again or position the document better."}),setTimeout(()=>_(null),5e3);return}if(t.type==="ID"){const a=t.parsed;B("Parsed AAMVA data:",a);const d={idNumber:a.documentNumber,idState:a.state,idType:"state_id",firstName:a.firstName,middleName:a.middleName,lastName:a.lastName,dateOfBirth:a.dateOfBirth,gender:a.gender==="unknown"?void 0:a.gender,expirationDate:a.expirationDate};j(d),P({firstName:a.firstName||"",middleName:a.middleName||"",lastName:a.lastName||"",email:"",phone:"",ssn:"",dateOfBirth:a.dateOfBirth||"",address:a.streetAddress||"",city:a.city||"",state:a.state||"",zipCode:a.postalCode||"",taxYear:p().taxYear}),R(!1),_({type:"success",text:`ID scanned: ${a.firstName} ${a.lastName} (${a.state} ${a.documentNumber})`})}else if(t.type==="PASSPORT"){const a=t.parsed;De(a)}},$e=()=>{const t=be().trim();if(!t){_({type:"error",text:"Please scan or paste barcode data first."}),setTimeout(()=>_(null),3e3);return}Ye(t,"EXTERNAL")},Re=t=>{t.key==="Enter"&&(t.preventDefault(),$e())},Fe=async()=>{const t=p();if(!(!t.firstName.trim()||!t.lastName.trim())){fe(!0);try{const a=await xt({firstName:t.firstName.trim(),middleName:t.middleName?.trim()||void 0,lastName:t.lastName.trim(),email:t.email.trim()||void 0,phone:t.phone.trim()||void 0,ssn:t.ssn?.trim()||void 0,dateOfBirth:t.dateOfBirth||void 0,address:t.address?.trim()||void 0,city:t.city?.trim()||void 0,state:t.state?.trim()||void 0,zipCode:t.zipCode?.trim()||void 0,taxYear:t.taxYear,idInfo:M()||void 0}),d={...a,workflowStatus:a.workflowStatus||"intake",paymentStatus:a.paymentStatus||"pending",lastActivity:Date.now(),requiredDocs:8};ue([d,...me()]),X(!1),P({firstName:"",middleName:"",lastName:"",email:"",phone:"",ssn:"",dateOfBirth:"",address:"",city:"",state:"",zipCode:"",taxYear:2024}),he("manual"),se(null),j(null),_(null),ce(`/tax-client/${a.id}`)}catch(a){B("Error creating client:",a),alert("Error creating client. Please try again.")}finally{fe(!1)}}},Xe=t=>{ce(`/tax-client/${t}`)},je=(t,a)=>`${t.charAt(0)}${a.charAt(0)}`.toUpperCase(),Z=t=>Y[t||"intake"],We=t=>wt[t||"intake"],ie=t=>re[t||"pending"],Ze=t=>$t[t||"pending"],Ue=t=>{if(!t)return"No activity";const d=Date.now()-t,N=Math.floor(d/(1e3*60*60*24)),E=Math.floor(d/(1e3*60*60)),U=Math.floor(d/(1e3*60));return N>30?new Date(t).toLocaleDateString():N>0?`${N} day${N>1?"s":""} ago`:E>0?`${E} hour${E>1?"s":""} ago`:U>0?`${U} min ago`:"Just now"},Ve=[{value:"all",label:"All",color:"#6b7280"},{value:"intake",label:"Intake",color:Y.intake},{value:"collecting_docs",label:"Collecting",color:Y.collecting_docs},{value:"in_review",label:"In Review",color:Y.in_review},{value:"ready_to_file",label:"Ready",color:Y.ready_to_file},{value:"filed",label:"Filed",color:Y.filed},{value:"completed",label:"Completed",color:Y.completed}],Ge=[{value:"all",label:"All",color:"#6b7280"},{value:"pending",label:"Pending",color:re.pending},{value:"partial",label:"Partial",color:re.partial},{value:"paid",label:"Paid",color:re.paid}],qe={padding:"1.5rem","max-width":"1400px",margin:"0 auto","min-height":"100vh",background:"var(--background-color)"},He={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"1.5rem","flex-wrap":"wrap",gap:"1rem"},Ke={display:"flex",gap:"1rem","margin-bottom":"1.5rem","flex-wrap":"wrap","align-items":"center"},Je={flex:"1","min-width":"250px","max-width":"400px"},Se={display:"flex",gap:"0.5rem","flex-wrap":"wrap"},Ce=(t,a)=>({padding:"0.5rem 1rem",border:`1px solid ${t?a:"var(--border-color)"}`,"border-radius":"9999px",background:t?a:"transparent",color:t?"white":"var(--text-primary)",cursor:"pointer","font-size":"0.875rem","font-weight":"500",transition:"all 0.2s","white-space":"nowrap"}),Qe={display:"grid","grid-template-columns":"repeat(auto-fill, minmax(320px, 1fr))",gap:"1rem"},et={background:"var(--surface-color)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-md)",padding:"1.25rem",cursor:"pointer",transition:"all 0.2s ease",display:"flex",gap:"1rem","align-items":"flex-start"},tt=t=>({width:"48px",height:"48px","min-width":"48px","border-radius":"50%",background:`linear-gradient(135deg, ${Z(t)}, ${Z(t)}dd)`,color:"white",display:"flex","align-items":"center","justify-content":"center","font-weight":"600","font-size":"1rem"}),rt={flex:"1","min-width":"0"},lt={"font-weight":"600","font-size":"1rem",color:"var(--text-primary)",margin:"0 0 0.25rem 0",display:"flex","align-items":"center",gap:"0.5rem","flex-wrap":"wrap"},st={background:"var(--primary-color)",color:"white",padding:"0.125rem 0.5rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500"},ot=t=>({display:"inline-flex","align-items":"center",gap:"0.25rem",padding:"0.25rem 0.5rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500",background:`${Z(t)}20`,color:Z(t)}),at=t=>({display:"inline-flex","align-items":"center",gap:"0.25rem",padding:"0.25rem 0.5rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500",background:`${ie(t)}20`,color:ie(t)}),_e=t=>({width:"8px",height:"8px","border-radius":"50%",background:t}),nt={"font-size":"0.75rem",color:"var(--text-muted)","margin-top":"0.25rem"},Ne={"text-align":"center",padding:"4rem 2rem",color:"var(--text-muted)"},de={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},it={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"1.5rem"};return(()=>{var t=Rt(),a=t.firstChild,d=a.firstChild,N=d.firstChild,E=N.nextSibling,U=a.nextSibling,ye=U.firstChild,Q=ye.nextSibling,F=Q.firstChild,V=F.firstChild,ke=V.nextSibling,G=F.nextSibling,q=G.firstChild,Te=q.nextSibling;return g(t,qe),g(a,He),N.style.setProperty("font-size","1.75rem"),N.style.setProperty("font-weight","700"),N.style.setProperty("margin","0 0 0.25rem 0"),N.style.setProperty("color","var(--text-primary)"),E.style.setProperty("color","var(--text-muted)"),E.style.setProperty("margin","0"),E.style.setProperty("font-size","0.875rem"),n(a,y(ee,{onClick:()=>X(!0),children:"+ New Client"}),null),g(U,Ke),g(ye,Je),n(ye,y(T,{label:"",placeholder:"Search clients by name, email, or phone...",get value(){return D()},onChange:r=>Ae(r)})),Q.style.setProperty("display","flex"),Q.style.setProperty("flex-direction","column"),Q.style.setProperty("gap","0.75rem"),F.style.setProperty("display","flex"),F.style.setProperty("align-items","center"),F.style.setProperty("gap","0.5rem"),F.style.setProperty("flex-wrap","wrap"),V.style.setProperty("font-size","0.75rem"),V.style.setProperty("font-weight","600"),V.style.setProperty("color","var(--text-muted)"),V.style.setProperty("min-width","60px"),n(ke,y(te,{each:Ve,children:r=>(()=>{var e=pe();return e.$$click=()=>Ie(r.value),n(e,()=>r.label),S(l=>g(e,Ce(L()===r.value,r.color),l)),e})()})),G.style.setProperty("display","flex"),G.style.setProperty("align-items","center"),G.style.setProperty("gap","0.5rem"),G.style.setProperty("flex-wrap","wrap"),q.style.setProperty("font-size","0.75rem"),q.style.setProperty("font-weight","600"),q.style.setProperty("color","var(--text-muted)"),q.style.setProperty("min-width","60px"),n(Te,y(te,{each:Ge,children:r=>(()=>{var e=pe();return e.$$click=()=>Be(r.value),n(e,()=>r.label),S(l=>g(e,Ce(O()===r.value,r.color),l)),e})()})),n(t,y(w,{get when(){return le()},get children(){var r=Nt(),e=r.firstChild;return e.style.setProperty("font-size","1.25rem"),e.style.setProperty("margin-bottom","0.5rem"),S(l=>g(r,Ne,l)),r}}),null),n(t,y(w,{get when(){return K(()=>!le())()&&ae().length===0},get children(){var r=kt(),e=r.firstChild,l=e.nextSibling,o=l.nextSibling;return e.style.setProperty("font-size","3rem"),e.style.setProperty("margin-bottom","1rem"),e.style.setProperty("opacity","0.5"),n(e,()=>D()||L()!=="all"||O()!=="all"?"(no results)":"(empty)"),l.style.setProperty("font-size","1.25rem"),l.style.setProperty("margin-bottom","0.5rem"),n(l,()=>D()||L()!=="all"||O()!=="all"?"No clients match your search criteria":"No tax clients yet"),o.style.setProperty("margin-bottom","1.5rem"),n(o,()=>D()||L()!=="all"||O()!=="all"?"Try adjusting your filters or search term":"Add your first client to get started"),n(r,y(w,{get when(){return K(()=>!D()&&L()==="all")()&&O()==="all"},get children(){return y(ee,{onClick:()=>X(!0),children:"+ Add First Client"})}}),null),S(s=>g(r,Ne,s)),r}}),null),n(t,y(w,{get when(){return K(()=>!le())()&&ae().length>0},get children(){var r=J();return g(r,Qe),n(r,y(te,{get each(){return ae()},children:e=>(()=>{var l=Xt(),o=l.firstChild,s=o.nextSibling,m=s.firstChild,i=m.firstChild,c=i.firstChild,v=m.nextSibling,h=v.firstChild,k=h.firstChild,f=h.nextSibling,I=f.firstChild,b=v.nextSibling;return b.firstChild,l.addEventListener("mouseleave",u=>{u.currentTarget.style.boxShadow="none",u.currentTarget.style.borderColor="var(--border-color)"}),l.addEventListener("mouseenter",u=>{u.currentTarget.style.boxShadow="var(--shadow-md)",u.currentTarget.style.borderColor="var(--primary-color)"}),l.$$click=()=>Xe(e.id),g(l,et),n(o,()=>je(e.firstName,e.lastName)),g(s,rt),g(m,lt),i.style.setProperty("overflow","hidden"),i.style.setProperty("text-overflow","ellipsis"),i.style.setProperty("white-space","nowrap"),n(i,()=>e.firstName,c),n(i,()=>e.lastName,null),n(m,y(w,{get when(){return e.taxYear},get children(){var u=Ft();return g(u,st),n(u,()=>e.taxYear),u}}),null),v.style.setProperty("display","flex"),v.style.setProperty("gap","0.5rem"),v.style.setProperty("flex-wrap","wrap"),v.style.setProperty("margin-top","0.25rem"),n(h,()=>We(e.workflowStatus),null),n(f,()=>Ze(e.paymentStatus),null),g(b,nt),n(b,()=>Ue(e.lastActivity),null),S(u=>{var H=tt(e.workflowStatus),z=ot(e.workflowStatus),dt=_e(Z(e.workflowStatus)),yt=at(e.paymentStatus),pt=_e(ie(e.paymentStatus));return u.e=g(o,H,u.e),u.t=g(h,z,u.t),u.a=g(k,dt,u.a),u.o=g(f,yt,u.o),u.i=g(I,pt,u.i),u},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),l})()})),r}}),null),n(t,y(ht,{get isOpen(){return Me()},onClose:()=>X(!1),title:"New Tax Client",maxWidth:"90vw",get children(){return[(()=>{var r=Tt(),e=r.firstChild,l=e.nextSibling,o=l.nextSibling;return r.style.setProperty("display","flex"),r.style.setProperty("gap","0.5rem"),r.style.setProperty("margin-bottom","1.5rem"),r.style.setProperty("padding-bottom","1rem"),r.style.setProperty("border-bottom","1px solid var(--border-color)"),e.$$click=()=>ne("manual"),e.style.setProperty("flex","1"),e.style.setProperty("padding","0.75rem 1rem"),e.style.setProperty("border-radius","var(--border-radius-md)"),e.style.setProperty("cursor","pointer"),e.style.setProperty("font-weight","600"),e.style.setProperty("transition","all 0.2s"),l.$$click=()=>ne("scan"),l.style.setProperty("flex","1"),l.style.setProperty("padding","0.75rem 1rem"),l.style.setProperty("border-radius","var(--border-radius-md)"),l.style.setProperty("cursor","pointer"),l.style.setProperty("font-weight","600"),l.style.setProperty("transition","all 0.2s"),o.$$click=()=>ne("import"),o.style.setProperty("flex","1"),o.style.setProperty("padding","0.75rem 1rem"),o.style.setProperty("border-radius","var(--border-radius-md)"),o.style.setProperty("cursor","pointer"),o.style.setProperty("font-weight","600"),o.style.setProperty("transition","all 0.2s"),S(s=>{var m=`2px solid ${C()==="manual"?"var(--primary-color)":"var(--border-color)"}`,i=C()==="manual"?"var(--primary-color)":"transparent",c=C()==="manual"?"white":"var(--text-primary)",v=`2px solid ${C()==="scan"?"#10b981":"var(--border-color)"}`,h=C()==="scan"?"#10b981":"transparent",k=C()==="scan"?"white":"var(--text-primary)",f=`2px solid ${C()==="import"?"var(--primary-color)":"var(--border-color)"}`,I=C()==="import"?"var(--primary-color)":"transparent",b=C()==="import"?"white":"var(--text-primary)";return m!==s.e&&((s.e=m)!=null?e.style.setProperty("border",m):e.style.removeProperty("border")),i!==s.t&&((s.t=i)!=null?e.style.setProperty("background",i):e.style.removeProperty("background")),c!==s.a&&((s.a=c)!=null?e.style.setProperty("color",c):e.style.removeProperty("color")),v!==s.o&&((s.o=v)!=null?l.style.setProperty("border",v):l.style.removeProperty("border")),h!==s.i&&((s.i=h)!=null?l.style.setProperty("background",h):l.style.removeProperty("background")),k!==s.n&&((s.n=k)!=null?l.style.setProperty("color",k):l.style.removeProperty("color")),f!==s.s&&((s.s=f)!=null?o.style.setProperty("border",f):o.style.removeProperty("border")),I!==s.h&&((s.h=I)!=null?o.style.setProperty("background",I):o.style.removeProperty("background")),b!==s.r&&((s.r=b)!=null?o.style.setProperty("color",b):o.style.removeProperty("color")),s},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0}),r})(),y(w,{get when(){return W()},get children(){var r=J();return r.style.setProperty("padding","0.75rem 1rem"),r.style.setProperty("margin-bottom","1rem"),r.style.setProperty("border-radius","var(--border-radius-md)"),r.style.setProperty("font-size","0.875rem"),n(r,()=>W()?.text),S(e=>{var l=W()?.type==="success"?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)",o=`1px solid ${W()?.type==="success"?"#10b981":"#ef4444"}`,s=W()?.type==="success"?"#059669":"#dc2626";return l!==e.e&&((e.e=l)!=null?r.style.setProperty("background",l):r.style.removeProperty("background")),o!==e.t&&((e.t=o)!=null?r.style.setProperty("border",o):r.style.removeProperty("border")),s!==e.a&&((e.a=s)!=null?r.style.setProperty("color",s):r.style.removeProperty("color")),e},{e:void 0,t:void 0,a:void 0}),r}}),y(w,{get when(){return K(()=>C()==="scan")()&&!M()},get children(){return[(()=>{var r=At(),e=r.firstChild,l=e.nextSibling;return r.style.setProperty("display","flex"),r.style.setProperty("gap","0.5rem"),r.style.setProperty("margin-bottom","1rem"),e.$$click=()=>xe("id"),e.style.setProperty("flex","1"),e.style.setProperty("padding","0.5rem 1rem"),e.style.setProperty("border-radius","8px"),e.style.setProperty("cursor","pointer"),e.style.setProperty("font-weight","600"),e.style.setProperty("font-size","0.875rem"),l.$$click=()=>xe("passport"),l.style.setProperty("flex","1"),l.style.setProperty("padding","0.5rem 1rem"),l.style.setProperty("border-radius","8px"),l.style.setProperty("cursor","pointer"),l.style.setProperty("font-weight","600"),l.style.setProperty("font-size","0.875rem"),S(o=>{var s=`2px solid ${A()==="id"?"#10b981":"var(--border-color)"}`,m=A()==="id"?"#10b981":"transparent",i=A()==="id"?"white":"var(--text-primary)",c=`2px solid ${A()==="passport"?"#3b82f6":"var(--border-color)"}`,v=A()==="passport"?"#3b82f6":"transparent",h=A()==="passport"?"white":"var(--text-primary)";return s!==o.e&&((o.e=s)!=null?e.style.setProperty("border",s):e.style.removeProperty("border")),m!==o.t&&((o.t=m)!=null?e.style.setProperty("background",m):e.style.removeProperty("background")),i!==o.a&&((o.a=i)!=null?e.style.setProperty("color",i):e.style.removeProperty("color")),c!==o.o&&((o.o=c)!=null?l.style.setProperty("border",c):l.style.removeProperty("border")),v!==o.i&&((o.i=v)!=null?l.style.setProperty("background",v):l.style.removeProperty("background")),h!==o.n&&((o.n=h)!=null?l.style.setProperty("color",h):l.style.removeProperty("color")),o},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),r})(),(()=>{var r=It(),e=r.firstChild,l=e.firstChild,o=l.nextSibling,s=o.nextSibling,m=e.nextSibling,i=m.firstChild,c=i.nextSibling,v=c.firstChild,h=m.nextSibling,k=h.firstChild,f=k.nextSibling,I=f.firstChild;return r.style.setProperty("padding","1rem"),r.style.setProperty("margin-bottom","1rem"),r.style.setProperty("background","linear-gradient(135deg, #fdf4ff 0%, #f5f3ff 100%)"),r.style.setProperty("border-radius","12px"),r.style.setProperty("border","1px solid #e9d5ff"),e.style.setProperty("display","flex"),e.style.setProperty("align-items","center"),e.style.setProperty("gap","0.5rem"),e.style.setProperty("margin-bottom","0.75rem"),l.style.setProperty("width","20px"),l.style.setProperty("height","20px"),o.style.setProperty("font-weight","600"),o.style.setProperty("color","#7c3aed"),s.style.setProperty("font-size","0.75rem"),s.style.setProperty("color","#9333ea"),s.style.setProperty("background","#f3e8ff"),s.style.setProperty("padding","0.125rem 0.5rem"),s.style.setProperty("border-radius","9999px"),m.style.setProperty("display","flex"),m.style.setProperty("gap","0.5rem"),m.style.setProperty("align-items","stretch"),i.addEventListener("blur",b=>b.currentTarget.style.borderColor="#c4b5fd"),i.addEventListener("focus",b=>b.currentTarget.style.borderColor="#8b5cf6"),i.$$keydown=Re,i.$$input=b=>oe(b.currentTarget.value),i.style.setProperty("flex","1"),i.style.setProperty("padding","0.75rem 1rem"),i.style.setProperty("font-size","0.9375rem"),i.style.setProperty("border","2px solid #c4b5fd"),i.style.setProperty("border-radius","8px"),i.style.setProperty("background","white"),i.style.setProperty("outline","none"),i.style.setProperty("transition","border-color 0.2s"),c.$$click=$e,c.style.setProperty("padding","0.75rem 1.25rem"),c.style.setProperty("font-size","0.9375rem"),c.style.setProperty("font-weight","600"),c.style.setProperty("border-radius","8px"),c.style.setProperty("border","none"),c.style.setProperty("background","linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)"),c.style.setProperty("color","white"),c.style.setProperty("cursor","pointer"),c.style.setProperty("display","flex"),c.style.setProperty("align-items","center"),c.style.setProperty("gap","0.5rem"),c.style.setProperty("transition","all 0.2s"),c.style.setProperty("white-space","nowrap"),v.style.setProperty("width","18px"),v.style.setProperty("height","18px"),h.style.setProperty("display","flex"),h.style.setProperty("justify-content","space-between"),h.style.setProperty("align-items","center"),h.style.setProperty("margin-top","0.75rem"),k.style.setProperty("font-size","0.75rem"),k.style.setProperty("color","#7c3aed"),n(k,()=>A()==="id"?"Scan the PDF417 barcode on the back of the ID":"Scan the MRZ zone at the bottom of the passport"),f.$$click=()=>R(!0),f.style.setProperty("padding","0.375rem 0.75rem"),f.style.setProperty("font-size","0.75rem"),f.style.setProperty("font-weight","500"),f.style.setProperty("border-radius","6px"),f.style.setProperty("border","1px solid #c4b5fd"),f.style.setProperty("background","white"),f.style.setProperty("color","#7c3aed"),f.style.setProperty("cursor","pointer"),f.style.setProperty("display","flex"),f.style.setProperty("align-items","center"),f.style.setProperty("gap","0.375rem"),I.style.setProperty("width","14px"),I.style.setProperty("height","14px"),S(()=>ut(i,"placeholder",A()==="id"?"Click here and scan ID barcode...":"Click here and scan passport MRZ...")),S(()=>i.value=be()),r})(),y(w,{get when(){return Le()},get children(){var r=Bt(),e=r.firstChild,l=e.firstChild,o=l.nextSibling;return r.style.setProperty("margin-bottom","1rem"),r.style.setProperty("border-radius","12px"),r.style.setProperty("overflow","hidden"),r.style.setProperty("border","2px solid var(--primary-color)"),e.style.setProperty("display","flex"),e.style.setProperty("justify-content","space-between"),e.style.setProperty("align-items","center"),e.style.setProperty("padding","0.75rem 1rem"),e.style.setProperty("background","var(--primary-color)"),e.style.setProperty("color","white"),l.style.setProperty("font-weight","600"),n(l,()=>A()==="id"?"Scanning Driver's License":"Scanning Passport"),o.$$click=()=>R(!1),o.style.setProperty("background","rgba(255,255,255,0.2)"),o.style.setProperty("border","none"),o.style.setProperty("border-radius","4px"),o.style.setProperty("padding","0.25rem 0.5rem"),o.style.setProperty("color","white"),o.style.setProperty("cursor","pointer"),o.style.setProperty("font-size","0.875rem"),n(r,y(w,{get when(){return A()==="id"},get children(){return y(gt,{onScan:we,onError:s=>{B("Scanner error:",s),_({type:"error",text:s.message})},autoStart:!0,showGuides:!0})}}),null),n(r,y(w,{get when(){return A()==="passport"},get children(){return y(vt,{onScan:we,onError:s=>{B("Scanner error:",s),_({type:"error",text:s.message})},autoStart:!0,showGuides:!0})}}),null),r}})]}}),y(w,{get when(){return M()},get children(){var r=Ot(),e=r.firstChild,l=e.firstChild,o=l.nextSibling,s=e.nextSibling,m=s.firstChild,i=m.firstChild,c=i.nextSibling,v=c.nextSibling,h=m.nextSibling,k=h.firstChild,f=k.nextSibling,I=f.nextSibling;return r.style.setProperty("padding","1rem"),r.style.setProperty("background","rgba(16, 185, 129, 0.05)"),r.style.setProperty("border","1px solid #10b981"),r.style.setProperty("border-radius","var(--border-radius-md)"),r.style.setProperty("margin-bottom","1.5rem"),e.style.setProperty("display","flex"),e.style.setProperty("justify-content","space-between"),e.style.setProperty("align-items","center"),e.style.setProperty("margin-bottom","0.75rem"),l.style.setProperty("font-weight","600"),l.style.setProperty("color","#059669"),l.style.setProperty("display","flex"),l.style.setProperty("align-items","center"),l.style.setProperty("gap","0.5rem"),o.$$click=()=>R(!0),o.style.setProperty("padding","0.25rem 0.75rem"),o.style.setProperty("border","1px solid #10b981"),o.style.setProperty("border-radius","var(--border-radius-sm)"),o.style.setProperty("background","transparent"),o.style.setProperty("color","#059669"),o.style.setProperty("cursor","pointer"),o.style.setProperty("font-size","0.75rem"),s.style.setProperty("display","grid"),s.style.setProperty("grid-template-columns","repeat(2, 1fr)"),s.style.setProperty("gap","0.5rem"),s.style.setProperty("font-size","0.875rem"),i.style.setProperty("color","var(--text-muted)"),v.style.setProperty("font-weight","500"),n(v,()=>M()?.idNumber),k.style.setProperty("color","var(--text-muted)"),I.style.setProperty("font-weight","500"),n(I,()=>M()?.idState),n(s,y(w,{get when(){return M()?.expirationDate},get children(){var b=Mt(),u=b.firstChild,H=u.nextSibling,z=H.nextSibling;return u.style.setProperty("color","var(--text-muted)"),z.style.setProperty("font-weight","500"),n(z,()=>M()?.expirationDate),b}}),null),n(s,y(w,{get when(){return M()?.gender},get children(){var b=Lt(),u=b.firstChild,H=u.nextSibling,z=H.nextSibling;return u.style.setProperty("color","var(--text-muted)"),z.style.setProperty("font-weight","500"),n(z,()=>M()?.gender),b}}),null),r}}),y(w,{get when(){return C()==="import"},get children(){var r=zt(),e=r.firstChild;return r.style.setProperty("margin-bottom","1.5rem"),e.style.setProperty("display","block"),e.style.setProperty("font-weight","500"),e.style.setProperty("margin-bottom","0.5rem"),e.style.setProperty("color","var(--text-primary)"),n(r,y(ft,{placeholder:"Search by name, email, or A#...",onSelect:ze}),null),n(r,y(w,{get when(){return Pe()},get children(){var l=Et();return l.style.setProperty("margin-top","0.75rem"),l.style.setProperty("padding","0.75rem"),l.style.setProperty("background","var(--success-light, #d1fae5)"),l.style.setProperty("border-radius","var(--border-radius-sm)"),l.style.setProperty("font-size","0.875rem"),l.style.setProperty("color","var(--success-color, #059669)"),l}}),null),r}}),(()=>{var r=J();return n(r,y(T,{label:"First Name",get value(){return p().firstName},onChange:e=>P({...p(),firstName:e}),required:!0,placeholder:"Enter first name"}),null),n(r,y(T,{label:"Middle Name",get value(){return p().middleName},onChange:e=>P({...p(),middleName:e}),placeholder:"Enter middle name"}),null),n(r,y(T,{label:"Last Name",get value(){return p().lastName},onChange:e=>P({...p(),lastName:e}),required:!0,placeholder:"Enter last name"}),null),n(r,y(T,{label:"SSN",get value(){return p().ssn},onChange:e=>P({...p(),ssn:e}),placeholder:"XXX-XX-XXXX"}),null),S(e=>g(r,de,e)),r})(),(()=>{var r=J();return n(r,y(T,{label:"Email",type:"email",get value(){return p().email},onChange:e=>P({...p(),email:e}),placeholder:"client@email.com"}),null),n(r,y(T,{label:"Phone",type:"tel",get value(){return p().phone},onChange:e=>P({...p(),phone:e}),placeholder:"(555) 123-4567"}),null),n(r,y(T,{label:"Date of Birth",type:"date",get value(){return p().dateOfBirth},onChange:e=>P({...p(),dateOfBirth:e})}),null),S(e=>g(r,{...de,"margin-top":"1rem"},e)),r})(),y(w,{get when(){return K(()=>C()==="import")()&&Pe()||C()==="scan"&&M()},get children(){var r=Yt(),e=r.firstChild;e.firstChild;var l=e.nextSibling,o=l.firstChild;return r.style.setProperty("margin-top","1rem"),e.style.setProperty("display","block"),e.style.setProperty("font-weight","500"),e.style.setProperty("margin-bottom","0.5rem"),e.style.setProperty("color","var(--text-primary)"),n(e,()=>C()==="scan"?"(from ID)":"(from Notary)",null),o.style.setProperty("grid-column","span 2"),n(o,y(T,{label:"",get value(){return p().address},onChange:s=>P({...p(),address:s}),placeholder:"Street address"})),n(l,y(T,{label:"",get value(){return p().city},onChange:s=>P({...p(),city:s}),placeholder:"City"}),null),n(l,y(T,{label:"",get value(){return p().state},onChange:s=>P({...p(),state:s}),placeholder:"State"}),null),n(l,y(T,{label:"",get value(){return p().zipCode},onChange:async s=>{P({...p(),zipCode:s});const m=s.replace(/\D/g,"");if(m.length===5){const i=await _t(m);i&&P(c=>({...c,city:i.city,state:i.stateAbbreviation}))}},placeholder:"ZIP Code"}),null),S(s=>g(l,de,s)),r}}),(()=>{var r=Dt(),e=r.firstChild,l=e.nextSibling;return r.style.setProperty("margin-top","1rem"),e.style.setProperty("display","block"),e.style.setProperty("font-weight","500"),e.style.setProperty("margin-bottom","0.5rem"),e.style.setProperty("color","var(--text-primary)"),l.style.setProperty("display","flex"),l.style.setProperty("gap","0.5rem"),n(l,y(te,{each:[2024,2025],children:o=>(()=>{var s=pe();return s.$$click=()=>P({...p(),taxYear:o}),s.style.setProperty("padding","0.75rem 1.5rem"),s.style.setProperty("border-radius","var(--border-radius-md)"),s.style.setProperty("cursor","pointer"),s.style.setProperty("font-weight","600"),s.style.setProperty("transition","all 0.2s"),n(s,o),S(m=>{var i=`2px solid ${p().taxYear===o?"var(--primary-color)":"var(--border-color)"}`,c=p().taxYear===o?"var(--primary-color)":"transparent",v=p().taxYear===o?"white":"var(--text-primary)";return i!==m.e&&((m.e=i)!=null?s.style.setProperty("border",i):s.style.removeProperty("border")),c!==m.t&&((m.t=c)!=null?s.style.setProperty("background",c):s.style.removeProperty("background")),v!==m.a&&((m.a=v)!=null?s.style.setProperty("color",v):s.style.removeProperty("color")),m},{e:void 0,t:void 0,a:void 0}),s})()})),r})(),(()=>{var r=J();return g(r,it),n(r,y(ee,{variant:"secondary",onClick:()=>X(!1),children:"Cancel"}),null),n(r,y(ee,{onClick:Fe,get disabled(){return!p().firstName.trim()||!p().lastName.trim()||ve()},get children(){return ve()?"Creating...":"Create Client"}}),null),r})()]}}),null),S(r=>{var e=Se,l=Se;return r.e=g(ke,e,r.e),r.t=g(Te,l,r.t),r},{e:void 0,t:void 0}),t})()};Pt(["click","input","keydown"]);export{Gt as default};
