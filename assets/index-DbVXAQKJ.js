(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const a of c.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();const ri=!1,ni=(t,e)=>t===e,tn=Symbol("solid-proxy"),Lo=typeof Proxy=="function",oi=Symbol("solid-track"),rn={equals:ni};let No=zo;const or=1,nn=2,To={owned:null,cleanups:null,context:null,owner:null};var at=null;let un=null,ii=null,mt=null,kt=null,Gt=null,cn=0;function Mr(t,e){const n=mt,i=at,l=t.length===0,c=e===void 0?i:e,a=l?To:{owned:null,cleanups:null,context:c?c.context:null,owner:c},s=l?t:()=>t(()=>Ot(()=>Rr(a)));at=a,mt=null;try{return ir(s,!0)}finally{mt=n,at=i}}function re(t,e){e=e?Object.assign({},rn,e):rn;const n={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},i=l=>(typeof l=="function"&&(l=l(n.value)),jo(n,l));return[Oo.bind(n),i]}function z(t,e,n){const i=Rn(t,e,!1,or);zr(i)}function gr(t,e,n){No=di;const i=Rn(t,e,!1,or);i.user=!0,Gt?Gt.push(i):zr(i)}function ze(t,e,n){n=n?Object.assign({},rn,n):rn;const i=Rn(t,e,!0,0);return i.observers=null,i.observerSlots=null,i.comparator=n.equals||void 0,zr(i),Oo.bind(i)}function li(t){return ir(t,!1)}function Ot(t){if(mt===null)return t();const e=mt;mt=null;try{return t()}finally{mt=e}}function Tn(t,e,n){const i=Array.isArray(t);let l,c=n&&n.defer;return a=>{let s;if(i){s=Array(t.length);for(let y=0;y<t.length;y++)s[y]=t[y]()}else s=t();if(c)return c=!1,a;const d=Ot(()=>e(s,l,a));return l=s,d}}function _r(t){gr(()=>Ot(t))}function wr(t){return at===null||(at.cleanups===null?at.cleanups=[t]:at.cleanups.push(t)),t}function Bo(){return at}function Mo(t,e){const n=at,i=mt;at=t,mt=null;try{return ir(e,!0)}catch(l){On(l)}finally{at=n,mt=i}}function ai(t){const e=mt,n=at;return Promise.resolve().then(()=>{mt=e,at=n;let i;return ir(t,!1),mt=at=null,i?i.done:void 0})}const[Bu,Mu]=re(!1);function Ro(t,e){const n=Symbol("context");return{id:n,Provider:yi(n),defaultValue:t}}function Bn(t){let e;return at&&at.context&&(e=at.context[t.id])!==void 0?e:t.defaultValue}function Mn(t){const e=ze(t),n=ze(()=>In(e()));return n.toArray=()=>{const i=n();return Array.isArray(i)?i:i!=null?[i]:[]},n}function Oo(){if(this.sources&&this.state)if(this.state===or)zr(this);else{const t=kt;kt=null,ir(()=>ln(this),!1),kt=t}if(mt){const t=this.observers?this.observers.length:0;mt.sources?(mt.sources.push(this),mt.sourceSlots.push(t)):(mt.sources=[this],mt.sourceSlots=[t]),this.observers?(this.observers.push(mt),this.observerSlots.push(mt.sources.length-1)):(this.observers=[mt],this.observerSlots=[mt.sources.length-1])}return this.value}function jo(t,e,n){let i=t.value;return(!t.comparator||!t.comparator(i,e))&&(t.value=e,t.observers&&t.observers.length&&ir(()=>{for(let l=0;l<t.observers.length;l+=1){const c=t.observers[l],a=un&&un.running;a&&un.disposed.has(c),(a?!c.tState:!c.state)&&(c.pure?kt.push(c):Gt.push(c),c.observers&&Fo(c)),a||(c.state=or)}if(kt.length>1e6)throw kt=[],new Error},!1)),e}function zr(t){if(!t.fn)return;Rr(t);const e=cn;si(t,t.value,e)}function si(t,e,n){let i;const l=at,c=mt;mt=at=t;try{i=t.fn(e)}catch(a){return t.pure&&(t.state=or,t.owned&&t.owned.forEach(Rr),t.owned=null),t.updatedAt=n+1,On(a)}finally{mt=c,at=l}(!t.updatedAt||t.updatedAt<=n)&&(t.updatedAt!=null&&"observers"in t?jo(t,i):t.value=i,t.updatedAt=n)}function Rn(t,e,n,i=or,l){const c={fn:t,state:i,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:at,context:at?at.context:null,pure:n};return at===null||at!==To&&(at.owned?at.owned.push(c):at.owned=[c]),c}function on(t){if(t.state===0)return;if(t.state===nn)return ln(t);if(t.suspense&&Ot(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<cn);)t.state&&e.push(t);for(let n=e.length-1;n>=0;n--)if(t=e[n],t.state===or)zr(t);else if(t.state===nn){const i=kt;kt=null,ir(()=>ln(t,e[0]),!1),kt=i}}function ir(t,e){if(kt)return t();let n=!1;e||(kt=[]),Gt?n=!0:Gt=[],cn++;try{const i=t();return ci(n),i}catch(i){n||(Gt=null),kt=null,On(i)}}function ci(t){if(kt&&(zo(kt),kt=null),t)return;const e=Gt;Gt=null,e.length&&ir(()=>No(e),!1)}function zo(t){for(let e=0;e<t.length;e++)on(t[e])}function di(t){let e,n=0;for(e=0;e<t.length;e++){const i=t[e];i.user?t[n++]=i:on(i)}for(e=0;e<n;e++)on(t[e])}function ln(t,e){t.state=0;for(let n=0;n<t.sources.length;n+=1){const i=t.sources[n];if(i.sources){const l=i.state;l===or?i!==e&&(!i.updatedAt||i.updatedAt<cn)&&on(i):l===nn&&ln(i,e)}}}function Fo(t){for(let e=0;e<t.observers.length;e+=1){const n=t.observers[e];n.state||(n.state=nn,n.pure?kt.push(n):Gt.push(n),n.observers&&Fo(n))}}function Rr(t){let e;if(t.sources)for(;t.sources.length;){const n=t.sources.pop(),i=t.sourceSlots.pop(),l=n.observers;if(l&&l.length){const c=l.pop(),a=n.observerSlots.pop();i<l.length&&(c.sourceSlots[a]=i,l[i]=c,n.observerSlots[i]=a)}}if(t.tOwned){for(e=t.tOwned.length-1;e>=0;e--)Rr(t.tOwned[e]);delete t.tOwned}if(t.owned){for(e=t.owned.length-1;e>=0;e--)Rr(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function ui(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function On(t,e=at){throw ui(t)}function In(t){if(typeof t=="function"&&!t.length)return In(t());if(Array.isArray(t)){const e=[];for(let n=0;n<t.length;n++){const i=In(t[n]);Array.isArray(i)?e.push.apply(e,i):e.push(i)}return e}return t}function yi(t,e){return function(i){let l;return z(()=>l=Ot(()=>(at.context={...at.context,[t]:i.value},Mn(()=>i.children))),void 0),l}}const mi=Symbol("fallback");function Yn(t){for(let e=0;e<t.length;e++)t[e]()}function vi(t,e,n={}){let i=[],l=[],c=[],a=0,s=e.length>1?[]:null;return wr(()=>Yn(c)),()=>{let d=t()||[],y=d.length,b,E;return d[oi],Ot(()=>{let I,C,P,x,h,M,U,j,ne;if(y===0)a!==0&&(Yn(c),c=[],i=[],l=[],a=0,s&&(s=[])),n.fallback&&(i=[mi],l[0]=Mr(V=>(c[0]=V,n.fallback())),a=1);else if(a===0){for(l=new Array(y),E=0;E<y;E++)i[E]=d[E],l[E]=Mr(D);a=y}else{for(P=new Array(y),x=new Array(y),s&&(h=new Array(y)),M=0,U=Math.min(a,y);M<U&&i[M]===d[M];M++);for(U=a-1,j=y-1;U>=M&&j>=M&&i[U]===d[j];U--,j--)P[j]=l[U],x[j]=c[U],s&&(h[j]=s[U]);for(I=new Map,C=new Array(j+1),E=j;E>=M;E--)ne=d[E],b=I.get(ne),C[E]=b===void 0?-1:b,I.set(ne,E);for(b=M;b<=U;b++)ne=i[b],E=I.get(ne),E!==void 0&&E!==-1?(P[E]=l[b],x[E]=c[b],s&&(h[E]=s[b]),E=C[E],I.set(ne,E)):c[b]();for(E=M;E<y;E++)E in P?(l[E]=P[E],c[E]=x[E],s&&(s[E]=h[E],s[E](E))):l[E]=Mr(D);l=l.slice(0,a=y),i=d.slice(0)}return l});function D(I){if(c[E]=I,s){const[C,P]=re(E);return s[E]=P,e(d[E],C)}return e(d[E])}}}function u(t,e){return Ot(()=>t(e||{}))}function Ur(){return!0}const En={get(t,e,n){return e===tn?n:t.get(e)},has(t,e){return e===tn?!0:t.has(e)},set:Ur,deleteProperty:Ur,getOwnPropertyDescriptor(t,e){return{configurable:!0,enumerable:!0,get(){return t.get(e)},set:Ur,deleteProperty:Ur}},ownKeys(t){return t.keys()}};function yn(t){return(t=typeof t=="function"?t():t)?t:{}}function gi(){for(let t=0,e=this.length;t<e;++t){const n=this[t]();if(n!==void 0)return n}}function Dn(...t){let e=!1;for(let a=0;a<t.length;a++){const s=t[a];e=e||!!s&&tn in s,t[a]=typeof s=="function"?(e=!0,ze(s)):s}if(Lo&&e)return new Proxy({get(a){for(let s=t.length-1;s>=0;s--){const d=yn(t[s])[a];if(d!==void 0)return d}},has(a){for(let s=t.length-1;s>=0;s--)if(a in yn(t[s]))return!0;return!1},keys(){const a=[];for(let s=0;s<t.length;s++)a.push(...Object.keys(yn(t[s])));return[...new Set(a)]}},En);const n={},i=Object.create(null);for(let a=t.length-1;a>=0;a--){const s=t[a];if(!s)continue;const d=Object.getOwnPropertyNames(s);for(let y=d.length-1;y>=0;y--){const b=d[y];if(b==="__proto__"||b==="constructor")continue;const E=Object.getOwnPropertyDescriptor(s,b);if(!i[b])i[b]=E.get?{enumerable:!0,configurable:!0,get:gi.bind(n[b]=[E.get.bind(s)])}:E.value!==void 0?E:void 0;else{const D=n[b];D&&(E.get?D.push(E.get.bind(s)):E.value!==void 0&&D.push(()=>E.value))}}}const l={},c=Object.keys(i);for(let a=c.length-1;a>=0;a--){const s=c[a],d=i[s];d&&d.get?Object.defineProperty(l,s,d):l[s]=d?d.value:void 0}return l}function pi(t,...e){if(Lo&&tn in t){const l=new Set(e.length>1?e.flat():e[0]),c=e.map(a=>new Proxy({get(s){return a.includes(s)?t[s]:void 0},has(s){return a.includes(s)&&s in t},keys(){return a.filter(s=>s in t)}},En));return c.push(new Proxy({get(a){return l.has(a)?void 0:t[a]},has(a){return l.has(a)?!1:a in t},keys(){return Object.keys(t).filter(a=>!l.has(a))}},En)),c}const n={},i=e.map(()=>({}));for(const l of Object.getOwnPropertyNames(t)){const c=Object.getOwnPropertyDescriptor(t,l),a=!c.get&&!c.set&&c.enumerable&&c.writable&&c.configurable;let s=!1,d=0;for(const y of e)y.includes(l)&&(s=!0,a?i[d][l]=c.value:Object.defineProperty(i[d],l,c)),++d;s||(a?n[l]=c.value:Object.defineProperty(n,l,c))}return[...i,n]}const fi=t=>`Stale read from <${t}>.`;function dt(t){const e="fallback"in t&&{fallback:()=>t.fallback};return ze(vi(()=>t.each,t.children,e||void 0))}function qe(t){const e=t.keyed,n=ze(()=>t.when,void 0,void 0),i=e?n:ze(n,void 0,{equals:(l,c)=>!l==!c});return ze(()=>{const l=i();if(l){const c=t.children;return typeof c=="function"&&c.length>0?Ot(()=>c(e?l:()=>{if(!Ot(i))throw fi("Show");return n()})):c}return t.fallback},void 0,void 0)}const bi=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],hi=new Set(["className","value","readOnly","noValidate","formNoValidate","isMap","noModule","playsInline",...bi]),Si=new Set(["innerHTML","textContent","innerText","children"]),$i=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Pi=Object.assign(Object.create(null),{class:"className",novalidate:{$:"noValidate",FORM:1},formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function xi(t,e){const n=Pi[t];return typeof n=="object"?n[e]?n.$:void 0:n}const Ci=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),F=t=>ze(()=>t());function _i(t,e,n){let i=n.length,l=e.length,c=i,a=0,s=0,d=e[l-1].nextSibling,y=null;for(;a<l||s<c;){if(e[a]===n[s]){a++,s++;continue}for(;e[l-1]===n[c-1];)l--,c--;if(l===a){const b=c<i?s?n[s-1].nextSibling:n[c-s]:d;for(;s<c;)t.insertBefore(n[s++],b)}else if(c===s)for(;a<l;)(!y||!y.has(e[a]))&&e[a].remove(),a++;else if(e[a]===n[c-1]&&n[s]===e[l-1]){const b=e[--l].nextSibling;t.insertBefore(n[s++],e[a++].nextSibling),t.insertBefore(n[--c],b),e[l]=n[c]}else{if(!y){y=new Map;let E=s;for(;E<c;)y.set(n[E],E++)}const b=y.get(e[a]);if(b!=null)if(s<b&&b<c){let E=a,D=1,I;for(;++E<l&&E<c&&!((I=y.get(e[E]))==null||I!==b+D);)D++;if(D>b-s){const C=e[a];for(;s<b;)t.insertBefore(n[s++],C)}else t.replaceChild(n[s++],e[a++])}else a++;else e[a++].remove()}}}const Wn="_$DX_DELEGATE";function wi(t,e,n,i={}){let l;return Mr(c=>{l=c,e===document?t():r(e,t(),e.firstChild?null:void 0,n)},i.owner),()=>{l(),e.textContent=""}}function k(t,e,n,i){let l;const c=()=>{const s=document.createElement("template");return s.innerHTML=t,s.content.firstChild},a=()=>(l||(l=c())).cloneNode(!0);return a.cloneNode=a,a}function yt(t,e=window.document){const n=e[Wn]||(e[Wn]=new Set);for(let i=0,l=t.length;i<l;i++){const c=t[i];n.has(c)||(n.add(c),e.addEventListener(c,Ni))}}function Ze(t,e,n){n==null?t.removeAttribute(e):t.setAttribute(e,n)}function ki(t,e,n){n?t.setAttribute(e,""):t.removeAttribute(e)}function jn(t,e){e==null?t.removeAttribute("class"):t.className=e}function pr(t,e,n,i){if(i)Array.isArray(n)?(t[`$$${e}`]=n[0],t[`$$${e}Data`]=n[1]):t[`$$${e}`]=n;else if(Array.isArray(n)){const l=n[0];t.addEventListener(e,n[0]=c=>l.call(t,n[1],c))}else t.addEventListener(e,n,typeof n!="function"&&n)}function Ai(t,e,n={}){const i=Object.keys(e||{}),l=Object.keys(n);let c,a;for(c=0,a=l.length;c<a;c++){const s=l[c];!s||s==="undefined"||e[s]||(Hn(t,s,!1),delete n[s])}for(c=0,a=i.length;c<a;c++){const s=i[c],d=!!e[s];!s||s==="undefined"||n[s]===d||!d||(Hn(t,s,!0),n[s]=d)}return n}function o(t,e,n){if(!e)return n?Ze(t,"style"):e;const i=t.style;if(typeof e=="string")return i.cssText=e;typeof n=="string"&&(i.cssText=n=void 0),n||(n={}),e||(e={});let l,c;for(c in n)e[c]==null&&i.removeProperty(c),delete n[c];for(c in e)l=e[c],l!==n[c]&&(i.setProperty(c,l),n[c]=l);return n}function Ii(t,e={},n,i){const l={};return z(()=>l.children=Or(t,e.children,l.children)),z(()=>typeof e.ref=="function"&&Ei(e.ref,t)),z(()=>Di(t,e,n,!0,l,!0)),l}function Ei(t,e,n){return Ot(()=>t(e,n))}function r(t,e,n,i){if(n!==void 0&&!i&&(i=[]),typeof e!="function")return Or(t,e,i,n);z(l=>Or(t,e(),l,n),i)}function Di(t,e,n,i,l={},c=!1){e||(e={});for(const a in l)if(!(a in e)){if(a==="children")continue;l[a]=Gn(t,a,null,l[a],n,c,e)}for(const a in e){if(a==="children")continue;const s=e[a];l[a]=Gn(t,a,s,l[a],n,c,e)}}function Li(t){return t.toLowerCase().replace(/-([a-z])/g,(e,n)=>n.toUpperCase())}function Hn(t,e,n){const i=e.trim().split(/\s+/);for(let l=0,c=i.length;l<c;l++)t.classList.toggle(i[l],n)}function Gn(t,e,n,i,l,c,a){let s,d,y,b,E;if(e==="style")return o(t,n,i);if(e==="classList")return Ai(t,n,i);if(n===i)return i;if(e==="ref")c||n(t);else if(e.slice(0,3)==="on:"){const D=e.slice(3);i&&t.removeEventListener(D,i,typeof i!="function"&&i),n&&t.addEventListener(D,n,typeof n!="function"&&n)}else if(e.slice(0,10)==="oncapture:"){const D=e.slice(10);i&&t.removeEventListener(D,i,!0),n&&t.addEventListener(D,n,!0)}else if(e.slice(0,2)==="on"){const D=e.slice(2).toLowerCase(),I=Ci.has(D);if(!I&&i){const C=Array.isArray(i)?i[0]:i;t.removeEventListener(D,C)}(I||n)&&(pr(t,D,n,I),I&&yt([D]))}else e.slice(0,5)==="attr:"?Ze(t,e.slice(5),n):e.slice(0,5)==="bool:"?ki(t,e.slice(5),n):(E=e.slice(0,5)==="prop:")||(y=Si.has(e))||(b=xi(e,t.tagName))||(d=hi.has(e))||(s=t.nodeName.includes("-")||"is"in a)?(E&&(e=e.slice(5),d=!0),e==="class"||e==="className"?jn(t,n):s&&!d&&!y?t[Li(e)]=n:t[b||e]=n):Ze(t,$i[e]||e,n);return n}function Ni(t){let e=t.target;const n=`$$${t.type}`,i=t.target,l=t.currentTarget,c=d=>Object.defineProperty(t,"target",{configurable:!0,value:d}),a=()=>{const d=e[n];if(d&&!e.disabled){const y=e[`${n}Data`];if(y!==void 0?d.call(e,y,t):d.call(e,t),t.cancelBubble)return}return e.host&&typeof e.host!="string"&&!e.host._$host&&e.contains(t.target)&&c(e.host),!0},s=()=>{for(;a()&&(e=e._$host||e.parentNode||e.host););};if(Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return e||document}}),t.composedPath){const d=t.composedPath();c(d[0]);for(let y=0;y<d.length-2&&(e=d[y],!!a());y++){if(e._$host){e=e._$host,s();break}if(e.parentNode===l)break}}else s();c(i)}function Or(t,e,n,i,l){for(;typeof n=="function";)n=n();if(e===n)return n;const c=typeof e,a=i!==void 0;if(t=a&&n[0]&&n[0].parentNode||t,c==="string"||c==="number"){if(c==="number"&&(e=e.toString(),e===n))return n;if(a){let s=n[0];s&&s.nodeType===3?s.data!==e&&(s.data=e):s=document.createTextNode(e),n=$r(t,n,i,s)}else n!==""&&typeof n=="string"?n=t.firstChild.data=e:n=t.textContent=e}else if(e==null||c==="boolean")n=$r(t,n,i);else{if(c==="function")return z(()=>{let s=e();for(;typeof s=="function";)s=s();n=Or(t,s,n,i)}),()=>n;if(Array.isArray(e)){const s=[],d=n&&Array.isArray(n);if(Ln(s,e,n,l))return z(()=>n=Or(t,s,n,i,!0)),()=>n;if(s.length===0){if(n=$r(t,n,i),a)return n}else d?n.length===0?Jn(t,s,i):_i(t,n,s):(n&&$r(t),Jn(t,s));n=s}else if(e.nodeType){if(Array.isArray(n)){if(a)return n=$r(t,n,i,e);$r(t,n,null,e)}else n==null||n===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);n=e}}return n}function Ln(t,e,n,i){let l=!1;for(let c=0,a=e.length;c<a;c++){let s=e[c],d=n&&n[t.length],y;if(!(s==null||s===!0||s===!1))if((y=typeof s)=="object"&&s.nodeType)t.push(s);else if(Array.isArray(s))l=Ln(t,s,d)||l;else if(y==="function")if(i){for(;typeof s=="function";)s=s();l=Ln(t,Array.isArray(s)?s:[s],Array.isArray(d)?d:[d])||l}else t.push(s),l=!0;else{const b=String(s);d&&d.nodeType===3&&d.data===b?t.push(d):t.push(document.createTextNode(b))}}return l}function Jn(t,e,n=null){for(let i=0,l=e.length;i<l;i++)t.insertBefore(e[i],n)}function $r(t,e,n,i){if(n===void 0)return t.textContent="";const l=i||document.createTextNode("");if(e.length){let c=!1;for(let a=e.length-1;a>=0;a--){const s=e[a];if(l!==s){const d=s.parentNode===t;!c&&!a?d?t.replaceChild(l,s):t.insertBefore(l,n):d&&s.remove()}else c=!0}}else t.insertBefore(l,n);return[l]}const Ti=!1;function qo(){let t=new Set;function e(l){return t.add(l),()=>t.delete(l)}let n=!1;function i(l,c){if(n)return!(n=!1);const a={to:l,options:c,defaultPrevented:!1,preventDefault:()=>a.defaultPrevented=!0};for(const s of t)s.listener({...a,from:s.location,retry:d=>{d&&(n=!0),s.navigate(l,{...c,resolve:!1})}});return!a.defaultPrevented}return{subscribe:e,confirm:i}}let Nn;function zn(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),Nn=window.history.state._depth}zn();function Bi(t){return{...t,_depth:window.history.state&&window.history.state._depth}}function Mi(t,e){let n=!1;return()=>{const i=Nn;zn();const l=i==null?null:Nn-i;if(n){n=!1;return}l&&e(l)?(n=!0,window.history.go(-l)):t()}}const Ri=/^(?:[a-z0-9]+:)?\/\//i,Oi=/^\/+|(\/)\/+$/g,Uo="http://sr";function vr(t,e=!1){const n=t.replace(Oi,"$1");return n?e||/^[?#]/.test(n)?n:"/"+n:""}function en(t,e,n){if(Ri.test(e))return;const i=vr(t),l=n&&vr(n);let c="";return!l||e.startsWith("/")?c=i:l.toLowerCase().indexOf(i.toLowerCase())!==0?c=i+l:c=l,(c||"/")+vr(e,!c)}function ji(t,e){if(t==null)throw new Error(e);return t}function zi(t,e){return vr(t).replace(/\/*(\*.*)?$/g,"")+vr(e)}function Vo(t){const e={};return t.searchParams.forEach((n,i)=>{i in e?Array.isArray(e[i])?e[i].push(n):e[i]=[e[i],n]:e[i]=n}),e}function Fi(t,e,n){const[i,l]=t.split("/*",2),c=i.split("/").filter(Boolean),a=c.length;return s=>{const d=s.split("/").filter(Boolean),y=d.length-a;if(y<0||y>0&&l===void 0&&!e)return null;const b={path:a?"":"/",params:{}},E=D=>n===void 0?void 0:n[D];for(let D=0;D<a;D++){const I=c[D],C=I[0]===":",P=C?d[D]:d[D].toLowerCase(),x=C?I.slice(1):I.toLowerCase();if(C&&mn(P,E(x)))b.params[x]=P;else if(C||!mn(P,x))return null;b.path+=`/${P}`}if(l){const D=y?d.slice(-y).join("/"):"";if(mn(D,E(l)))b.params[l]=D;else return null}return b}}function mn(t,e){const n=i=>i===t;return e===void 0?!0:typeof e=="string"?n(e):typeof e=="function"?e(t):Array.isArray(e)?e.some(n):e instanceof RegExp?e.test(t):!1}function qi(t){const[e,n]=t.pattern.split("/*",2),i=e.split("/").filter(Boolean);return i.reduce((l,c)=>l+(c.startsWith(":")?2:3),i.length-(n===void 0?0:1))}function Yo(t){const e=new Map,n=Bo();return new Proxy({},{get(i,l){return e.has(l)||Mo(n,()=>e.set(l,ze(()=>t()[l]))),e.get(l)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(t())}})}function Wo(t){let e=/(\/?\:[^\/]+)\?/.exec(t);if(!e)return[t];let n=t.slice(0,e.index),i=t.slice(e.index+e[0].length);const l=[n,n+=e[1]];for(;e=/^(\/\:[^\/]+)\?/.exec(i);)l.push(n+=e[1]),i=i.slice(e[0].length);return Wo(i).reduce((c,a)=>[...c,...l.map(s=>s+a)],[])}const Ui=100,Ho=Ro(),Fn=Ro(),Fr=()=>ji(Bn(Ho),"<A> and 'use' router primitives can be only used inside a Route."),Vi=()=>Bn(Fn)||Fr().base,Yi=t=>{const e=Vi();return ze(()=>e.resolvePath(t()))},Wi=t=>{const e=Fr();return ze(()=>{const n=t();return n!==void 0?e.renderPath(n):n})},qn=()=>Fr().navigatorFactory(),Hi=()=>Fr().location,Gi=()=>Fr().params;function Ji(t,e=""){const{component:n,preload:i,load:l,children:c,info:a}=t,s=!c||Array.isArray(c)&&!c.length,d={key:t,component:n,preload:i||l,info:a};return Go(t.path).reduce((y,b)=>{for(const E of Wo(b)){const D=zi(e,E);let I=s?D:D.split("/*",1)[0];I=I.split("/").map(C=>C.startsWith(":")||C.startsWith("*")?C:encodeURIComponent(C)).join("/"),y.push({...d,originalPath:b,pattern:I,matcher:Fi(I,!s,t.matchFilters)})}return y},[])}function Qi(t,e=0){return{routes:t,score:qi(t[t.length-1])*1e4-e,matcher(n){const i=[];for(let l=t.length-1;l>=0;l--){const c=t[l],a=c.matcher(n);if(!a)return null;i.unshift({...a,route:c})}return i}}}function Go(t){return Array.isArray(t)?t:[t]}function Jo(t,e="",n=[],i=[]){const l=Go(t);for(let c=0,a=l.length;c<a;c++){const s=l[c];if(s&&typeof s=="object"){s.hasOwnProperty("path")||(s.path="");const d=Ji(s,e);for(const y of d){n.push(y);const b=Array.isArray(s.children)&&s.children.length===0;if(s.children&&!b)Jo(s.children,y.pattern,n,i);else{const E=Qi([...n],i.length);i.push(E)}n.pop()}}}return n.length?i:i.sort((c,a)=>a.score-c.score)}function vn(t,e){for(let n=0,i=t.length;n<i;n++){const l=t[n].matcher(e);if(l)return l}return[]}function Ki(t,e,n){const i=new URL(Uo),l=ze(b=>{const E=t();try{return new URL(E,i)}catch{return console.error(`Invalid path ${E}`),b}},i,{equals:(b,E)=>b.href===E.href}),c=ze(()=>l().pathname),a=ze(()=>l().search,!0),s=ze(()=>l().hash),d=()=>"",y=Tn(a,()=>Vo(l()));return{get pathname(){return c()},get search(){return a()},get hash(){return s()},get state(){return e()},get key(){return d()},query:n?n(y):Yo(y)}}let yr;function Zi(){return yr}function Xi(t,e,n,i={}){const{signal:[l,c],utils:a={}}=t,s=a.parsePath||(se=>se),d=a.renderPath||(se=>se),y=a.beforeLeave||qo(),b=en("",i.base||"");if(b===void 0)throw new Error(`${b} is not a valid base path`);b&&!l().value&&c({value:b,replace:!0,scroll:!1});const[E,D]=re(!1);let I;const C=(se,A)=>{A.value===P()&&A.state===h()||(I===void 0&&D(!0),yr=se,I=A,ai(()=>{I===A&&(x(I.value),M(I.state),ne[1](m=>m.filter(B=>B.pending)))}).finally(()=>{I===A&&li(()=>{yr=void 0,se==="navigate"&&X(I),D(!1),I=void 0})}))},[P,x]=re(l().value),[h,M]=re(l().state),U=Ki(P,h,a.queryWrapper),j=[],ne=re([]),V=ze(()=>typeof i.transformUrl=="function"?vn(e(),i.transformUrl(U.pathname)):vn(e(),U.pathname)),le=()=>{const se=V(),A={};for(let m=0;m<se.length;m++)Object.assign(A,se[m].params);return A},ae=a.paramsWrapper?a.paramsWrapper(le,e):Yo(le),me={pattern:b,path:()=>b,outlet:()=>null,resolvePath(se){return en(b,se)}};return z(Tn(l,se=>C("native",se),{defer:!0})),{base:me,location:U,params:ae,isRouting:E,renderPath:d,parsePath:s,navigatorFactory:ie,matches:V,beforeLeave:y,preloadRoute:p,singleFlight:i.singleFlight===void 0?!0:i.singleFlight,submissions:ne};function ye(se,A,m){Ot(()=>{if(typeof A=="number"){A&&(a.go?a.go(A):console.warn("Router integration does not support relative routing"));return}const B=!A||A[0]==="?",{replace:g,resolve:_,scroll:S,state:w}={replace:!1,resolve:!B,scroll:!0,...m},de=_?se.resolvePath(A):en(B&&U.pathname||"",A);if(de===void 0)throw new Error(`Path '${A}' is not a routable path`);if(j.length>=Ui)throw new Error("Too many redirects");const $=P();(de!==$||w!==h())&&(Ti||y.confirm(de,m)&&(j.push({value:$,replace:g,scroll:S,state:h()}),C("navigate",{value:de,state:w})))})}function ie(se){return se=se||Bn(Fn)||me,(A,m)=>ye(se,A,m)}function X(se){const A=j[0];A&&(c({...se,replace:A.replace,scroll:A.scroll}),j.length=0)}function p(se,A){const m=vn(e(),se.pathname),B=yr;yr="preload";for(let g in m){const{route:_,params:S}=m[g];_.component&&_.component.preload&&_.component.preload();const{preload:w}=_;A&&w&&Mo(n(),()=>w({params:S,location:{pathname:se.pathname,search:se.search,hash:se.hash,query:Vo(se),state:null,key:""},intent:"preload"}))}yr=B}}function el(t,e,n,i){const{base:l,location:c,params:a}=t,{pattern:s,component:d,preload:y}=i().route,b=ze(()=>i().path);d&&d.preload&&d.preload();const E=y?y({params:a,location:c,intent:yr||"initial"}):void 0;return{parent:e,pattern:s,path:b,outlet:()=>d?u(d,{params:a,location:c,data:E,get children(){return n()}}):n(),resolvePath(I){return en(l.path(),I,b())}}}const tl=t=>e=>{const{base:n}=e,i=Mn(()=>e.children),l=ze(()=>Jo(i(),e.base||""));let c;const a=Xi(t,l,()=>c,{base:n,singleFlight:e.singleFlight,transformUrl:e.transformUrl});return t.create&&t.create(a),u(Ho.Provider,{value:a,get children(){return u(rl,{routerState:a,get root(){return e.root},get preload(){return e.rootPreload||e.rootLoad},get children(){return[F(()=>(c=Bo())&&null),u(nl,{routerState:a,get branches(){return l()}})]}})}})};function rl(t){const e=t.routerState.location,n=t.routerState.params,i=ze(()=>t.preload&&Ot(()=>{t.preload({params:n,location:e,intent:Zi()||"initial"})}));return u(qe,{get when(){return t.root},keyed:!0,get fallback(){return t.children},children:l=>u(l,{params:n,location:e,get data(){return i()},get children(){return t.children}})})}function nl(t){const e=[];let n;const i=ze(Tn(t.routerState.matches,(l,c,a)=>{let s=c&&l.length===c.length;const d=[];for(let y=0,b=l.length;y<b;y++){const E=c&&c[y],D=l[y];a&&E&&D.route.key===E.route.key?d[y]=a[y]:(s=!1,e[y]&&e[y](),Mr(I=>{e[y]=I,d[y]=el(t.routerState,d[y-1]||t.routerState.base,Qn(()=>i()[y+1]),()=>t.routerState.matches()[y])}))}return e.splice(l.length).forEach(y=>y()),a&&s?a:(n=d[0],d)}));return Qn(()=>i()&&n)()}const Qn=t=>()=>u(qe,{get when(){return t()},keyed:!0,children:e=>u(Fn.Provider,{value:e,get children(){return e.outlet()}})}),qt=t=>{const e=Mn(()=>t.children);return Dn(t,{get children(){return e()}})};function ol([t,e],n,i){return[t,i?l=>e(i(l)):e]}function il(t){let e=!1;const n=l=>typeof l=="string"?{value:l}:l,i=ol(re(n(t.get()),{equals:(l,c)=>l.value===c.value&&l.state===c.state}),void 0,l=>(!e&&t.set(l),l));return t.init&&wr(t.init((l=t.get())=>{e=!0,i[1](n(l)),e=!1})),tl({signal:i,create:t.create,utils:t.utils})}function ll(t,e,n){return t.addEventListener(e,n),()=>t.removeEventListener(e,n)}function al(t,e){const n=t&&document.getElementById(t);n?n.scrollIntoView():e&&window.scrollTo(0,0)}const sl=new Map;function cl(t=!0,e=!1,n="/_server",i){return l=>{const c=l.base.path(),a=l.navigatorFactory(l.base);let s,d;function y(P){return P.namespaceURI==="http://www.w3.org/2000/svg"}function b(P){if(P.defaultPrevented||P.button!==0||P.metaKey||P.altKey||P.ctrlKey||P.shiftKey)return;const x=P.composedPath().find(V=>V instanceof Node&&V.nodeName.toUpperCase()==="A");if(!x||e&&!x.hasAttribute("link"))return;const h=y(x),M=h?x.href.baseVal:x.href;if((h?x.target.baseVal:x.target)||!M&&!x.hasAttribute("state"))return;const j=(x.getAttribute("rel")||"").split(/\s+/);if(x.hasAttribute("download")||j&&j.includes("external"))return;const ne=h?new URL(M,document.baseURI):new URL(M);if(!(ne.origin!==window.location.origin||c&&ne.pathname&&!ne.pathname.toLowerCase().startsWith(c.toLowerCase())))return[x,ne]}function E(P){const x=b(P);if(!x)return;const[h,M]=x,U=l.parsePath(M.pathname+M.search+M.hash),j=h.getAttribute("state");P.preventDefault(),a(U,{resolve:!1,replace:h.hasAttribute("replace"),scroll:!h.hasAttribute("noscroll"),state:j?JSON.parse(j):void 0})}function D(P){const x=b(P);if(!x)return;const[h,M]=x;l.preloadRoute(M,h.getAttribute("preload")!=="false")}function I(P){clearTimeout(s);const x=b(P);if(!x)return d=null;const[h,M]=x;d!==h&&(s=setTimeout(()=>{l.preloadRoute(M,h.getAttribute("preload")!=="false"),d=h},20))}function C(P){if(P.defaultPrevented)return;let x=P.submitter&&P.submitter.hasAttribute("formaction")?P.submitter.getAttribute("formaction"):P.target.getAttribute("action");if(!x)return;if(!x.startsWith("https://action/")){const M=new URL(x,Uo);if(x=l.parsePath(M.pathname+M.search),!x.startsWith(n))return}if(P.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const h=sl.get(x);if(h){P.preventDefault();const M=new FormData(P.target,P.submitter);h.call({r:l,f:P.target},P.target.enctype==="multipart/form-data"?M:new URLSearchParams(M))}}yt(["click","submit"]),document.addEventListener("click",E),t&&(document.addEventListener("mousemove",I,{passive:!0}),document.addEventListener("focusin",D,{passive:!0}),document.addEventListener("touchstart",D,{passive:!0})),document.addEventListener("submit",C),wr(()=>{document.removeEventListener("click",E),t&&(document.removeEventListener("mousemove",I),document.removeEventListener("focusin",D),document.removeEventListener("touchstart",D)),document.removeEventListener("submit",C)})}}function dl(t){const e=t.replace(/^.*?#/,"");if(!e.startsWith("/")){const[,n="/"]=window.location.hash.split("#",2);return`${n}#${e}`}return e}function ul(t){const e=()=>window.location.hash.slice(1),n=qo();return il({get:e,set({value:i,replace:l,scroll:c,state:a}){l?window.history.replaceState(Bi(a),"","#"+i):window.history.pushState(a,"","#"+i);const s=i.indexOf("#"),d=s>=0?i.slice(s+1):"";al(d,c),zn()},init:i=>ll(window,"hashchange",Mi(i,l=>!n.confirm(l&&l<0?l:e()))),create:cl(t.preload,t.explicitLinks,t.actionBase),utils:{go:i=>window.history.go(i),renderPath:i=>`#${i}`,parsePath:dl,beforeLeave:n}})(t)}var yl=k("<a>");function Xt(t){t=Dn({inactiveClass:"inactive",activeClass:"active"},t);const[,e]=pi(t,["href","state","class","activeClass","inactiveClass","end"]),n=Yi(()=>t.href),i=Wi(n),l=Hi(),c=ze(()=>{const a=n();if(a===void 0)return[!1,!1];const s=vr(a.split(/[?#]/,1)[0]).toLowerCase(),d=decodeURI(vr(l.pathname).toLowerCase());return[t.end?s===d:d.startsWith(s+"/")||d===s,s===d]});return(()=>{var a=yl();return Ii(a,Dn(e,{get href(){return i()||t.href},get state(){return JSON.stringify(t.state)},get classList(){return{...t.class&&{[t.class]:!0},[t.inactiveClass]:!c()[0],[t.activeClass]:c()[0],...e.classList}},link:"",get"aria-current"(){return c()[1]?"page":void 0}}),!1),a})()}const lt=(t=300+Math.random()*700)=>new Promise(e=>setTimeout(e,t)),sr=(t="")=>`${t}${Date.now()}-${Math.random().toString(36).substr(2,9)}`;let Ee={products:[{id:"prod-001",name:"Wireless Headphones",sku:"WH-001",productCode:"WH-001",productName:"Wireless Headphones",description:"High-quality wireless bluetooth headphones",category:"Electronics",unitOfMeasure:"pcs",unitCost:45,sellingPrice:89.99,minStockLevel:10,maxStockLevel:100,isActive:!0,createdDate:"2024-01-15T10:00:00Z",lastModified:"2024-01-15T10:00:00Z",businessId:"YB100423253156428"},{id:"prod-002",name:"USB-C Cable",sku:"USB-001",description:"3ft USB-C charging cable",category:"Accessories",unitOfMeasure:"pcs",unitCost:8.5,sellingPrice:19.99,minStockLevel:25,maxStockLevel:200,isActive:!0,createdDate:"2024-01-16T10:00:00Z",lastModified:"2024-01-16T10:00:00Z",businessId:"YB100423253156428"},{id:"prod-003",name:"Laptop Stand",sku:"LS-001",description:"Adjustable aluminum laptop stand",category:"Office",unitOfMeasure:"pcs",unitCost:25,sellingPrice:49.99,minStockLevel:5,maxStockLevel:50,isActive:!0,createdDate:"2024-01-17T10:00:00Z",lastModified:"2024-01-17T10:00:00Z",businessId:"YB100423253156428"}],locations:[{id:"loc-001",name:"Main Warehouse",code:"WH-001",type:"warehouse",address:"123 Industrial Dr, City, State 12345",isActive:!0,createdDate:"2024-01-01T10:00:00Z"},{id:"loc-002",name:"Retail Store - Downtown",code:"ST-001",type:"store",address:"456 Main St, City, State 12345",isActive:!0,createdDate:"2024-01-01T10:00:00Z"},{id:"loc-003",name:"Retail Store - Mall",code:"ST-002",type:"store",address:"789 Mall Blvd, City, State 12345",isActive:!0,createdDate:"2024-01-01T10:00:00Z"}],movements:[{id:"mov-001",productId:"prod-001",productName:"Wireless Headphones",productSku:"WH-001",locationId:"loc-001",locationName:"Main Warehouse",movementType:"in",quantity:50,unitCost:45,totalCost:2250,referenceNumber:"PO-001",notes:"Initial stock purchase",createdBy:"admin",createdDate:"2024-01-15T10:00:00Z",invoiceId:"INV-1000001"},{id:"mov-002",productId:"prod-002",productName:"USB-C Cable",productSku:"USB-001",locationId:"loc-001",locationName:"Main Warehouse",movementType:"in",quantity:100,unitCost:8.5,totalCost:850,referenceNumber:"PO-001",notes:"Bulk purchase",createdBy:"admin",createdDate:"2024-01-15T10:05:00Z",invoiceId:"INV-1000001"}],accounts:[{id:"acc-001",accountNumber:"1000",accountName:"Cash",accountType:"asset",category:"currentAssets",balance:5e4,parentAccountId:null,description:"Cash and cash equivalents",isActive:!0,createdDate:"2024-01-01T10:00:00Z",lastModified:"2024-01-01T10:00:00Z"},{id:"acc-002",accountNumber:"1100",accountName:"Accounts Receivable",accountType:"asset",category:"currentAssets",balance:25e3,parentAccountId:null,description:"Money owed by customers",isActive:!0,createdDate:"2024-01-01T10:00:00Z",lastModified:"2024-01-01T10:00:00Z"}],journalEntries:[{id:"je-001",entryNumber:"JE-001",date:"2024-01-15",description:"Initial cash deposit",reference:"DEP-001",status:"posted",createdBy:"admin",createdAt:"2024-01-15T10:00:00Z",postedAt:"2024-01-15T10:05:00Z",lines:[{id:"jel-001",accountId:"acc-001",accountName:"Cash",description:"Initial deposit",debitAmount:5e4,creditAmount:0},{id:"jel-002",accountId:"acc-003",accountName:"Owner Equity",description:"Initial capital",debitAmount:0,creditAmount:5e4}]}]};const ft=(t=.05)=>Math.random()<t,bt=()=>{const t=["Network timeout","Connection refused","Server temporarily unavailable","Invalid request"];throw new Error(t[Math.floor(Math.random()*t.length)])},Tt={products:{async getAll(t,e){await lt(),ft()&&bt();let n=[...Ee.products];if(t&&t.trim()){const i=t.toLowerCase();n=n.filter(l=>l.name.toLowerCase().includes(i)||l.sku.toLowerCase().includes(i)||l.category.toLowerCase().includes(i)||l.description.toLowerCase().includes(i))}return e?.category&&(n=n.filter(i=>i.category===e.category)),e?.isActive!==void 0&&(n=n.filter(i=>i.isActive===e.isActive)),n},async getById(t){return await lt(),ft()&&bt(),Ee.products.find(e=>e.id===t)||null},async create(t){if(await lt(),ft()&&bt(),Ee.products.some(n=>n.sku===t.sku))throw new Error("SKU already exists");const e={...t,id:sr("prod-"),createdDate:new Date().toISOString(),lastModified:new Date().toISOString()};return Ee.products.push(e),e},async update(t,e){await lt(),ft()&&bt();const n=Ee.products.findIndex(l=>l.id===t);if(n===-1)throw new Error("Product not found");if(e.sku&&Ee.products.some(l=>l.id!==t&&l.sku===e.sku))throw new Error("SKU already exists");const i={...Ee.products[n],...e,lastModified:new Date().toISOString()};return Ee.products[n]=i,i},async delete(t){await lt(),ft()&&bt();const e=Ee.products.findIndex(i=>i.id===t);if(e===-1)throw new Error("Product not found");return Ee.movements.some(i=>i.productId===t)?{success:!1,message:"Cannot delete product with existing movements"}:(Ee.products.splice(e,1),{success:!0,message:"Product deleted successfully"})}},locations:{async getAll(t){await lt(),ft()&&bt();let e=[...Ee.locations];return t?.type&&(e=e.filter(n=>n.type===t.type)),t?.isActive!==void 0&&(e=e.filter(n=>n.isActive===t.isActive)),e},async getById(t){return await lt(),Ee.locations.find(e=>e.id===t)||null},async create(t){if(await lt(),ft()&&bt(),Ee.locations.some(n=>n.code===t.code))throw new Error("Location code already exists");const e={...t,id:sr("loc-"),createdDate:new Date().toISOString()};return Ee.locations.push(e),e},async update(t,e){await lt(),ft()&&bt();const n=Ee.locations.findIndex(i=>i.id===t);if(n===-1)throw new Error("Location not found");if(e.code&&Ee.locations.some(i=>i.id!==t&&i.code===e.code))throw new Error("Location code already exists");return Ee.locations[n]={...Ee.locations[n],...e},Ee.locations[n]}},movements:{async getAll(t){await lt(),ft()&&bt();let e=[...Ee.movements];if(t?.productId&&(e=e.filter(n=>n.productId===t.productId)),t?.locationId&&(e=e.filter(n=>n.locationId===t.locationId)),t?.movementType&&(e=e.filter(n=>n.movementType===t.movementType)),t?.dateFrom&&(e=e.filter(n=>n.createdDate>=t.dateFrom)),t?.dateTo&&(e=e.filter(n=>n.createdDate<=t.dateTo)),t?.search){const n=t.search.toLowerCase();e=e.filter(i=>i.productName.toLowerCase().includes(n)||i.productSku.toLowerCase().includes(n)||i.referenceNumber.toLowerCase().includes(n)||i.notes.toLowerCase().includes(n))}return e.sort((n,i)=>new Date(i.createdDate).getTime()-new Date(n.createdDate).getTime()),e},async getById(t){return await lt(),Ee.movements.find(e=>e.id===t)||null},async create(t){if(await lt(),ft()&&bt(),!Ee.products.find(l=>l.id===t.productId))throw new Error("Product not found");if(!Ee.locations.find(l=>l.id===t.locationId))throw new Error("Location not found");if(t.movementType==="out"){const l=await this.getStockLevel(t.productId,t.locationId);if(l<t.quantity)throw new Error(`Insufficient stock. Available: ${l}, Requested: ${t.quantity}`)}const i={...t,id:sr("mov-"),createdDate:new Date().toISOString()};return Ee.movements.push(i),i},async update(t,e){await lt(),ft()&&bt();const n=Ee.movements.findIndex(l=>l.id===t);if(n===-1)throw new Error("Movement not found");const i={...Ee.movements[n],...e,lastModified:new Date().toISOString()};return Ee.movements[n]=i,i},async delete(t){await lt(),ft()&&bt();const e=Ee.movements.findIndex(n=>n.id===t);if(e===-1)throw new Error("Movement not found");return Ee.movements.splice(e,1),{success:!0,message:"Movement deleted successfully"}},async createBulk(t){await lt(),ft()&&bt();const e=[],n=[],i=new Date().toISOString(),l=Ee.locations.find(c=>c.id===t.locationId);if(!l)return{success:!1,movements:[],errors:["Invalid location"]};for(let c=0;c<t.items.length;c++){const a=t.items[c],s=Ee.products.find(b=>b.id===a.productId);if(!s){e.push(`Item ${c+1}: Product not found`);continue}if(a.quantity<=0){e.push(`Item ${c+1}: Quantity must be greater than 0`);continue}if(t.movementType==="out"){const b=await this.getStockLevel(a.productId,t.locationId);if(a.quantity>b){e.push(`Item ${c+1}: Insufficient stock. Available: ${b}, Requested: ${a.quantity}`);continue}}const d=a.unitCost||s.unitCost,y={id:sr("mov-"),productId:s.id,productName:s.name,productSku:s.sku,locationId:t.locationId,locationName:l.name,movementType:t.movementType,quantity:a.quantity,unitCost:d,totalCost:a.quantity*d,referenceNumber:t.referenceNumber,notes:a.notes||t.generalNotes||"",createdBy:t.createdBy,createdDate:i,invoiceId:t.invoiceId,fromLocationId:t.fromLocationId,fromLocationName:t.fromLocationId?Ee.locations.find(b=>b.id===t.fromLocationId)?.name:void 0};n.push(y)}return e.length>0?{success:!1,movements:[],errors:e}:(Ee.movements.push(...n),{success:!0,movements:n,errors:[]})},async getStockLevel(t,e){return await lt(50),Ee.movements.filter(n=>n.productId===t&&n.locationId===e).reduce((n,i)=>{switch(i.movementType){case"in":case"adjustment":return n+i.quantity;case"out":return n-i.quantity;case"transfer":return i.locationId===e?n+i.quantity:n;default:return n}},0)},async getStockLevels(){await lt();const t=new Map;for(const e of Ee.movements){const n=`${e.productId}-${e.locationId}`;let i=t.get(n);switch(i||(i={id:n,productId:e.productId,locationId:e.locationId,quantity:0,reservedQuantity:0,availableQuantity:0,averageCost:0,lastMovementDate:e.createdDate,lastMovementType:e.movementType},t.set(n,i)),e.movementType){case"in":case"adjustment":i.quantity+=e.quantity;break;case"out":i.quantity-=e.quantity;break;case"transfer":e.locationId===e.locationId&&(i.quantity+=e.quantity);break}new Date(e.createdDate)>new Date(i.lastMovementDate)&&(i.lastMovementDate=e.createdDate,i.lastMovementType=e.movementType),i.averageCost=e.unitCost,i.availableQuantity=i.quantity-i.reservedQuantity}return Array.from(t.values())}},accounts:{async getAll(t){await lt(),ft()&&bt();let e=[...Ee.accounts];return t?.accountType&&(e=e.filter(n=>n.accountType===t.accountType)),t?.category&&(e=e.filter(n=>n.category===t.category)),t?.isActive!==void 0&&(e=e.filter(n=>n.isActive===t.isActive)),e},async getById(t){return await lt(),Ee.accounts.find(e=>e.id===t)||null},async create(t){if(await lt(),ft()&&bt(),Ee.accounts.some(n=>n.accountNumber===t.accountNumber))throw new Error("Account number already exists");const e={...t,id:sr("acc-"),createdDate:new Date().toISOString(),lastModified:new Date().toISOString()};return Ee.accounts.push(e),e},async update(t,e){await lt(),ft()&&bt();const n=Ee.accounts.findIndex(i=>i.id===t);if(n===-1)throw new Error("Account not found");if(e.accountNumber&&Ee.accounts.some(i=>i.id!==t&&i.accountNumber===e.accountNumber))throw new Error("Account number already exists");return Ee.accounts[n]={...Ee.accounts[n],...e,lastModified:new Date().toISOString()},Ee.accounts[n]}},journal:{async getAll(t){await lt(),ft()&&bt();let e=[...Ee.journalEntries];return t?.status&&(e=e.filter(n=>n.status===t.status)),t?.accountId&&(e=e.filter(n=>n.lines.some(i=>i.accountId===t.accountId))),t?.dateFrom&&(e=e.filter(n=>n.date>=t.dateFrom)),t?.dateTo&&(e=e.filter(n=>n.date<=t.dateTo)),e.sort((n,i)=>new Date(i.createdAt).getTime()-new Date(n.createdAt).getTime())},async getById(t){return await lt(),Ee.journalEntries.find(e=>e.id===t)||null},async create(t){await lt(),ft()&&bt();const e=t.lines.reduce((s,d)=>s+(d.debitAmount||0),0),n=t.lines.reduce((s,d)=>s+(d.creditAmount||0),0);if(Math.abs(e-n)>.01)throw new Error(`Entry is not balanced. Debit: ${e}, Credit: ${n}`);const i=Ee.journalEntries.sort((s,d)=>d.entryNumber.localeCompare(s.entryNumber))[0],c=`JE-${((i?parseInt(i.entryNumber.split("-")[1]):0)+1).toString().padStart(3,"0")}`,a={...t,id:sr("je-"),entryNumber:c,createdAt:new Date().toISOString(),lines:t.lines.map(s=>({...s,id:sr("jel-")}))};return Ee.journalEntries.push(a),a},async update(t,e){await lt(),ft()&&bt();const n=Ee.journalEntries.findIndex(i=>i.id===t);if(n===-1)throw new Error("Journal entry not found");if(Ee.journalEntries[n].status==="posted")throw new Error("Cannot modify posted entries");return Ee.journalEntries[n]={...Ee.journalEntries[n],...e},Ee.journalEntries[n]},async post(t){await lt(),ft()&&bt();const e=Ee.journalEntries.findIndex(c=>c.id===t);if(e===-1)throw new Error("Journal entry not found");const n=Ee.journalEntries[e];if(n.status==="posted")throw new Error("Entry is already posted");const i=n.lines.reduce((c,a)=>c+(a.debitAmount||0),0),l=n.lines.reduce((c,a)=>c+(a.creditAmount||0),0);if(Math.abs(i-l)>.01)throw new Error("Entry must be balanced before posting");return Ee.journalEntries[e]={...n,status:"posted",postedAt:new Date().toISOString()},n.lines.forEach(c=>{const a=Ee.accounts.findIndex(s=>s.id===c.accountId);if(a!==-1){const s=Ee.accounts[a],d=c.debitAmount||0,y=c.creditAmount||0;["asset","expense"].includes(s.accountType)?s.balance+=d-y:s.balance+=y-d}}),Ee.journalEntries[e]}},utils:{async getNextEntryNumber(){await lt(100);const t=Ee.journalEntries.sort((n,i)=>i.entryNumber.localeCompare(n.entryNumber))[0];return`JE-${((t?parseInt(t.entryNumber.split("-")[1]):0)+1).toString().padStart(3,"0")}`},async getNextProductCode(t){await lt(100);const e=t.toUpperCase().slice(0,3),n=Ee.products.filter(l=>l.productCode?.startsWith(e)).sort((l,c)=>(c.productCode||"").localeCompare(l.productCode||""));if(n.length===0)return`${e}001`;const i=parseInt(n[0].productCode?.slice(-3)||"0");return`${e}${(i+1).toString().padStart(3,"0")}`},async healthCheck(){return await lt(50),{status:"healthy",timestamp:new Date().toISOString(),version:"1.0.0"}},async resetDatabase(){return await lt(200),Ee={products:[...Ee.products.slice(0,3)],locations:[...Ee.locations.slice(0,3)],movements:[...Ee.movements.slice(0,2)],accounts:[...Ee.accounts.slice(0,2)],journalEntries:[...Ee.journalEntries.slice(0,1)]},{success:!0,message:"Database reset to initial state"}},async getStats(){return await lt(100),{products:Ee.products.length,locations:Ee.locations.length,movements:Ee.movements.length,accounts:Ee.accounts.length,journalEntries:Ee.journalEntries.length,totalStockValue:Ee.movements.reduce((t,e)=>e.movementType==="in"?t+e.totalCost:e.movementType==="out"?t-e.totalCost:t,0)}}}},an=async t=>{const i=await fetch("https://qvamarkets.com/gql_api",{method:"POST",headers:{"Content-Type":"application/json","Accept-Encoding":"gzip, deflate, br",Authorization:"eyJhbGciOiJSUzI1NiIsImtpZCI6IjhlOGZjOGU1NTZmN2E3NmQwOGQzNTgyOWQ2ZjkwYWUyZTEyY2ZkMGQiLCJ0eXAiOiJKV1QifQ"},body:JSON.stringify(t)});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const l=await i.json();if(l.errors)throw new Error(l.errors[0]?.message||"GraphQL error");return l.data},ml=t=>({ENTRY:"in",in:"in",TRANSFER:"transfer",transfer:"transfer",SALES:"out",out:"out",adjustment:"adjustment"})[t],Kn=t=>({ENTRY:"ENTRY",in:"ENTRY",TRANSFER:"TRANSFER",transfer:"TRANSFER",SALES:"SALES",out:"SALES",adjustment:"adjustment"})[t];function vl(t){var e=[];return t&&Object.keys(t).map(n=>{e.push(t[n])}),e}const gl=()=>(typeof window<"u"&&localStorage.getItem("hrmfinance-api-mode"),"real");let mr=gl();const jr={getMode(){return mr},setMode(t){mr=t,typeof window<"u"&&localStorage.setItem("hrmfinance-api-mode",t)},isFakeMode(){return mr==="fake"},isRealMode(){return mr==="real"},isHybridMode(){return mr==="hybrid"}},Rt=async(t,e,n=!0)=>{if(mr==="fake")return e();if(mr==="real")return t();try{return await t()}catch(i){if(console.warn("Real API failed, falling back to fake server:",i),n)return e();throw i}},Zn={async getAll(t,e){const n=await an({query:"getScanYabaProducts",queryString:"!* contain :search0 AND !* contain :search1 AND !* contain :search2 AND !* contain :search3 AND !* contain :search4",params:{businessId:"YB100423253156428",":search0":"produ"}});return vl(n)},async getById(t){return Rt(async()=>(await this.getAll()).find(n=>n.id===t)||null,()=>Tt.products.getById(t))},async create(t){return Rt(async()=>{throw console.log("Creating product via real API:",t),new Error("Real API not implemented yet")},()=>Tt.products.create(t))},async update(t,e){return Rt(async()=>{throw console.log("Updating product via real API:",t,e),new Error("Real API not implemented yet")},()=>Tt.products.update(t,e))},async delete(t){return Rt(async()=>{throw console.log("Deleting product via real API:",t),new Error("Real API not implemented yet")},()=>Tt.products.delete(t))}},qr={async getInventory(t,e){if(console.log(t),!(t&&t?.trim()))return[];let n={businessId:"YB100423253156428"};return t&&t.split(" ").map((c,a)=>{c&&(n[":search"+a]=c.trim())}),await an({query:"getScanYabaInventory",queryString:"!* contain :search0 AND !* contain :search1 AND !* contain :search2 AND !* contain :search3 AND !* contain :search4",params:n})},async getProducts(t){if(!(t&&t?.trim()))return[];let e={businessId:"YB100423253156428"};t&&t.split(" ").map((l,c)=>{l&&(e[":search"+c]=l.trim())});let n={query:"getScanYabaProducts",queryString:"!* contain :search0 AND !* contain :search1 AND !* contain :search2 AND !* contain :search3 AND !* contain :search4",params:e};return console.log("getProducts:",t,n),await an(n)}},Xn={async getAll(t){return Rt(async()=>{throw console.log("Getting accounts via real API:",t),new Error("Real API not implemented yet")},()=>Tt.accounts.getAll(t))},async getById(t){return Rt(async()=>{throw console.log("Getting account by ID via real API:",t),new Error("Real API not implemented yet")},()=>Tt.accounts.getById(t))},async create(t){return Rt(async()=>{throw console.log("Creating account via real API:",t),new Error("Real API not implemented yet")},()=>Tt.accounts.create(t))},async update(t,e){return Rt(async()=>{throw console.log("Updating account via real API:",t,e),new Error("Real API not implemented yet")},()=>Tt.accounts.update(t,e))}},eo={async getNextEntryNumber(){return Rt(async()=>{throw console.log("Getting next entry number via real API"),new Error("Real API not implemented yet")},()=>Tt.utils.getNextEntryNumber())},async getNextProductCode(t){return Rt(async()=>{throw console.log("Getting next product code via real API:",t),new Error("Real API not implemented yet")},()=>Tt.utils.getNextProductCode(t))},async healthCheck(){return Rt(async()=>{const t=await fetch("/api/health");if(!t.ok)throw new Error("Health check failed");return t.json()},()=>Tt.utils.healthCheck())},async getStats(){return Rt(async()=>{throw console.log("Getting stats via real API"),new Error("Real API not implemented yet")},()=>Tt.utils.getStats())}},pl=()=>{jr.setMode("real"),console.log("ðŸš€ HRM Finance initialized in REAL API mode for production")};pl();var fl=k("<button>");const Ae=t=>{const e=()=>{const n={"font-family":"inherit",cursor:t.disabled?"not-allowed":"pointer",border:"none","border-radius":"var(--border-radius-sm)","font-weight":"500",transition:"all 0.2s ease","text-decoration":"none",display:"inline-flex","align-items":"center","justify-content":"center",gap:"0.5rem",opacity:t.disabled?"0.6":"1"},i={sm:{padding:"0.5rem 1rem","font-size":"0.875rem"},md:{padding:"0.75rem 1.5rem","font-size":"1rem"},lg:{padding:"1rem 2rem","font-size":"1.125rem"}},l={primary:{background:"linear-gradient(135deg, var(--primary-color), var(--primary-dark))",color:"white","box-shadow":"var(--shadow-sm)"},secondary:{background:"var(--surface-color)",color:"var(--text-primary)",border:"1px solid var(--border-color)"},outline:{background:"transparent",color:"var(--primary-color)",border:"1px solid var(--primary-color)"}};return{...n,...i[t.size||"md"],...l[t.variant||"primary"]}};return(()=>{var n=fl();return pr(n,"click",t.onClick,!0),r(n,()=>t.children),z(i=>{var l=e(),c=t.disabled,a=t.type||"button",s=`btn btn-${t.variant||"primary"} ${t.className||""}`;return i.e=o(n,l,i.e),c!==i.t&&(n.disabled=i.t=c),a!==i.a&&Ze(n,"type",i.a=a),s!==i.o&&jn(n,i.o=s),i},{e:void 0,t:void 0,a:void 0,o:void 0}),n})()};yt(["click"]);var bl=k("<div><div><div><h2></h2><button>Ã—</button></div><div>");const Pt=t=>{const e={position:"fixed",top:"0",left:"0",right:"0",bottom:"0","background-color":"rgba(0, 0, 0, 0.5)",display:"flex","align-items":"center","justify-content":"center","z-index":"1000"},n={background:"var(--surface-color)","border-radius":"var(--border-radius)","box-shadow":"var(--shadow-lg)","max-width":"920px",width:"90%","max-height":"80vh",overflow:"auto",position:"relative"},i={padding:"1.5rem","border-bottom":"1px solid var(--border-color)",display:"flex","justify-content":"space-between","align-items":"center"},l={"font-size":"1.25rem","font-weight":"600",color:"var(--text-primary)",margin:"0"},c={background:"none",border:"none","font-size":"1.5rem",cursor:"pointer",color:"var(--text-muted)",padding:"0.5rem","border-radius":"var(--border-radius-sm)"},a={padding:"1.5rem"},s=d=>{d.target===d.currentTarget&&t.onClose()};return u(qe,{get when(){return t.isOpen},get children(){var d=bl(),y=d.firstChild,b=y.firstChild,E=b.firstChild,D=E.nextSibling,I=b.nextSibling;return d.$$click=s,o(b,i),o(E,l),r(E,()=>t.title),D.addEventListener("mouseleave",C=>C.target.style.background="none"),D.addEventListener("mouseenter",C=>C.target.style.background="var(--background-color)"),pr(D,"click",t.onClose,!0),o(D,c),o(I,a),r(I,()=>t.children),z(C=>{var P=e,x=n;return C.e=o(d,P,C.e),C.t=o(y,x,C.t),C},{e:void 0,t:void 0}),d}})};yt(["click"]);var to=k("<div>"),hl=k("<h3>"),Sl=k("<p>");const Oe=t=>{const e={background:"var(--surface-color)","border-radius":"var(--border-radius)",padding:"1.5rem","box-shadow":"var(--shadow-sm)",border:"1px solid var(--border-color)",transition:"all 0.2s ease",cursor:t.onClick?"pointer":"default"},n={"margin-bottom":"1rem"},i={"font-size":"1.25rem","font-weight":"600",color:"var(--text-primary)",margin:"0 0 0.5rem 0"},l={"font-size":"0.875rem",color:"var(--text-muted)",margin:"0"};return(()=>{var c=to();return pr(c,"click",t.onClick,!0),r(c,(()=>{var a=F(()=>!!(t.title||t.subtitle));return()=>a()&&(()=>{var s=to();return o(s,n),r(s,(()=>{var d=F(()=>!!t.title);return()=>d()&&(()=>{var y=hl();return o(y,i),r(y,()=>t.title),y})()})(),null),r(s,(()=>{var d=F(()=>!!t.subtitle);return()=>d()&&(()=>{var y=Sl();return o(y,l),r(y,()=>t.subtitle),y})()})(),null),s})()})(),null),r(c,()=>t.children,null),z(a=>{var s=e,d=`card ${t.className||""}`;return a.e=o(c,s,a.e),d!==a.t&&jn(c,a.t=d),a},{e:void 0,t:void 0}),c})()};yt(["click"]);var $l=k("<div><label></label><input>"),Pl=k("<span>*");const it=t=>{const e={display:"block","font-weight":"500","margin-bottom":"0.5rem",color:"var(--text-primary)"},n={width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem","font-family":"inherit",background:"var(--surface-color)",color:"var(--text-primary)",transition:"border-color 0.2s ease"},i={"margin-bottom":"1rem"};return(()=>{var l=$l(),c=l.firstChild,a=c.nextSibling;return o(l,i),o(c,e),r(c,()=>t.label,null),r(c,(()=>{var s=F(()=>!!t.required);return()=>s()&&(()=>{var d=Pl();return d.style.setProperty("color","var(--primary-color)"),d})()})(),null),a.addEventListener("blur",s=>s.target.style.borderColor="var(--border-color)"),a.addEventListener("focus",s=>s.target.style.borderColor="var(--primary-color)"),a.$$input=s=>t.onChange(s.target.value),o(a,n),z(s=>{var d=t.type||"text",y=t.placeholder,b=t.required,E=t.disabled;return d!==s.e&&Ze(a,"type",s.e=d),y!==s.t&&Ze(a,"placeholder",s.t=y),b!==s.a&&(a.required=s.a=b),E!==s.o&&(a.disabled=s.o=E),s},{e:void 0,t:void 0,a:void 0,o:void 0}),z(()=>a.value=t.value),l})()};yt(["input"]);const xl={en:{common:{save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",add:"Add",close:"Close",search:"Search",filter:"Filter",reset:"Reset",back:"Back",next:"Next",previous:"Previous",yes:"Yes",no:"No",loading:"Loading...",error:"Error",success:"Success",warning:"Warning",info:"Information",confirm:"Confirm",actions:"Actions",status:"Status",active:"Active",inactive:"Inactive",date:"Date",time:"Time",description:"Description",notes:"Notes",amount:"Amount",total:"Total",subtotal:"Subtotal",currency:"USD",language:"Language",english:"English",spanish:"Spanish",noDataFound:"No data found",required:"Required",optional:"Optional",all:"All",none:"None",select:"Select",clear:"Clear",searching:"Searching...",refresh:"Refresh",showAll:"Show All",products:"products",filtered:"Filtered",view:"View",suggested:"Suggested",clearFilters:"Clear Filters",enhanced:"Enhanced",legacy:"Legacy",email:"Email",phone:"Phone",address:"Address",name:"Name",code:"Code",category:"Category",type:"Type",quantity:"Quantity",price:"Price",cost:"Cost",value:"Value",balance:"Balance",created:"Created",modified:"Modified",details:"Details",summary:"Summary",history:"History",new:"New",addNew:"Add New",unknown:"Unknown",notAvailable:"N/A",remove:"Remove",startDate:"Start Date",endDate:"End Date",from:"From",invoice:"Invoice",reference:"Reference",createdBy:"Created By",units:"units"},navigation:{dashboard:"Dashboard",accounts:"Chart of Accounts",balanceSheet:"Balance Sheet",inventory:"Inventory",employees:"Employees",entryBooks:"Entry Books",consolidate:"Bank Consolidation",reports:"Reports",settings:"Settings"},dashboard:{title:"Dashboard",welcome:"Welcome to HRM Finance",totalRevenue:"Total Revenue",overview:"Overview",recentActivity:"Recent Activity",quickActions:"Quick Actions",employeeCount:"Employee Count",pendingInvoices:"Pending Invoices",cashBalance:"Cash Balance",totalAssets:"Total Assets",totalLiabilities:"Total Liabilities",totalExpenses:"Total Expenses",netIncome:"Net Income",netLoss:"Net Loss",monthlyPayroll:"Monthly Payroll",current:"Current",newHires:"+3 new hires",outstanding:"Outstanding",totalOutstanding:"$23,450 total",lastUpdatedToday:"Last updated today",commonTasks:"Common tasks",generateReport:"Generate Report",latestUpdates:"Latest updates",invoicePaid:"Invoice #1234 paid",hoursAgo:"2 hours ago",newEmployeeOnboarded:"New employee onboarded",dayAgo:"1 day ago",monthlyReportGenerated:"Monthly report generated",daysAgo:"2 days ago"},accounts:{title:"Chart of Accounts",accountNumber:"Account Number",accountName:"Account Name",accountType:"Account Type",category:"Category",balance:"Balance",parentAccount:"Parent Account",subAccounts:"Sub-accounts",addAccount:"Add Account",editAccount:"Edit Account",deleteAccount:"Delete Account",accountDetails:"Account Details",transactions:"Transactions",accountHistory:"Account History",backToAccounts:"Back to Accounts",accountNotFound:"Account not found",accountInformation:"Account Information",accountPurpose:"Account purpose",transactionHistory:"Transaction History",noTransactions:"No transactions found for this account",createdDate:"Created Date",lastModified:"Last Modified",noDescription:"No description provided.",totalCount:"Total count",basicDetails:"Basic details",currentBalance:"Current balance",classification:"Classification",allTransactions:"All account transactions",reference:"Reference",allAccounts:"All Accounts",types:{asset:"Asset",liability:"Liability",equity:"Equity",revenue:"Revenue",expense:"Expense"},categories:{currentAssets:"Current Assets",fixedAssets:"Fixed Assets",currentLiabilities:"Current Liabilities",longTermLiabilities:"Long-term Liabilities",ownersEquity:"Owner's Equity",operatingRevenue:"Operating Revenue",operatingExpenses:"Operating Expenses"}},inventory:{title:"Inventory Management",overview:"Overview",products:"Products & Stock",movements:"Movements",locations:"Locations",bulkMovement:"Bulk Movement",addMovement:"Add Movement",addProduct:"Add Product",addLocation:"Add Location",singleMovement:"Add Single Movement",addNewItem:"Add New Item",activeProducts:"Active Products",lowStockAlert:"Low Stock Items",totalValue:"Total Stock Value",activeLocations:"Active Locations",productsNeedRestocking:"products need restocking",recentMovements:"Recent Movements",noProducts:"No products at this location",productName:"Product Name",productCode:"Product Code",sku:"SKU",unitOfMeasure:"Unit of Measure",unitCost:"Unit Cost",minStockLevel:"Min Stock Level",maxStockLevel:"Max Stock Level",locationName:"Location Name",locationType:"Location Type",locationCode:"Location Code",movementType:"Movement Type",referenceNumber:"Reference Number",invoiceNumber:"Invoice Number",fromLocation:"From Location",toLocation:"To Location",stockIn:"Stock In",stockOut:"Stock Out",transfer:"Transfer",adjustment:"Adjustment",inStock:"In Stock",lowStock:"Low Stock",outOfStock:"Out of Stock",stockLevels:"Stock Levels",stockByLocation:"Stock by Location",searchProducts:"Search products by name, SKU, or category...",searchProductsStock:"Search products and check stock levels...",searchResult:"Search Result",searchResults:"Search Results",searchFallback:"Showing local results",tryDifferentTerm:"Try a different search term or check spelling.",showingTopResults:"Showing top {{count}} results",searchLocations:"Search locations...",noMovements:"No movements found",productDetails:"Product Details",locationDetails:"Location Details",movementDetails:"Movement Details",totalProducts:"Total Products",totalLocations:"Total Locations",lastSeen:"Last seen",warehouseType:"Warehouse",storeType:"Store",supplierType:"Supplier",customerType:"Customer",currentlyManaged:"Currently managed",needAttention:"Need attention",currentWorth:"Current worth",warehousesStores:"Warehouses & stores",thisMonth:"This Month",latestActivities:"Latest inventory activities",searchMovements:"Search Movements",countingSheet:"Counting Sheet",physicalCount:"Physical Count",physicalInventoryCount:"Physical Inventory Count",setupPhysicalCount:"Setup Physical Inventory Count",setupDescription:"Configure your physical inventory count settings and begin the counting process.",countWillInclude:"This count will include {{count}} products from {{location}} in {{category}} category.",startCounting:"Start Physical Count",counted:"Counted",remaining:"Remaining",variances:"Variances",complete:"Complete",systemQty:"System Qty",variance:"Variance",addNotes:"Add notes...",reviewAndConfirm:"Review and Confirm Adjustments",reviewDescription:"Review the inventory adjustments below and confirm to update your system.",stockIncreases:"Stock Increases",stockDecreases:"Stock Decreases",totalAdjustments:"Total Adjustments",confirmAdjustments:"Confirm Adjustments",adjustment:"Adjustment",perfectCount:"Perfect Count!",noVariances:"No variances found. Your physical count matches the system exactly.",physicalCountAdjustment:"Physical count adjustment",inventoryCountingSheetTitle:"INVENTORY COUNTING SHEET",location:"Location",allCategories:"All Categories",countedBy:"Counted by",verifiedBy:"Verified by",instructions:"Instructions",countInstructions:["Count all items physically present at this location",'Write the actual count in the "Physical Count" column',"Leave blank if item is not found",'Note any discrepancies in the "Notes" column',"Sign and date when complete"],productName:"Product Name",unit:"Unit",totalProductsListed:"Total Products Listed",itemsCounted:"Items Counted",discrepanciesFound:"Discrepancies Found",counterSignature:"Counter Signature",supervisorSignature:"Supervisor Signature",downloadCSV:"Download CSV",noAdjustmentsToDownload:"No adjustments to download",stockIncrease:"Stock Increase",stockDecrease:"Stock Decrease",sortBy:"Sort By",allLocations:"All Locations",searchByProduct:"Search by product, location, reference, notes, invoice...",allProducts:"All Products",allTypes:"All Types",startDate:"Start Date",endDate:"End Date",totalMovements:"Total Movements",totalItems:"Total Items",adjustMovements:"Try adjusting your filters or check back later.",inventoryMovements:"Inventory Movements",createdBy:"Created By",view:"View",enhanced:"Enhanced",legacy:"Legacy",addSingleMovement:"Add Single Movement",inStockSubtitle:"In stock",itemsBelowThreshold:"Items below threshold",inventoryWorth:"Inventory worth",quantity:"Quantity",units:"units",normal:"Normal",productsAndStock:"Products & Stock",lowStockItems:"Low Stock Items",totalStockValue:"Total Stock Value",warehousesAndStores:"Warehouses & stores",andMore:"...and {count} more",latestInventoryActivities:"Latest inventory activities",min:"Min",max:"Max",cost:"Cost",noProductsFound:"No products found matching your search.",noProductsAvailable:"No products available.",noLocationsFound:"No locations found matching your search.",noLocationsAvailable:"No locations available.",searchPlaceholder:"Search by product, location, reference, notes, invoice...",noMovementsFound:"No movements found",tryAdjustingFilters:"Try adjusting your filters or check back later.",transfers:"Transfers",adjustments:"Adjustments",bulk:"Bulk",product:"Product",location:"Location",store:"Store",supplier:"Supplier",warehouse:"Warehouse",movement:"Movement",editMovement:"Edit Movement",updateMovement:"Update Movement",movementInformation:"Movement Information",locationInformation:"Location Information"},employees:{title:"Employee Management",employeeList:"Employee List",addEmployee:"Add Employee",editEmployee:"Edit Employee",employeeDetails:"Employee Details",personalInfo:"Personal Information",employmentInfo:"Employment Information",payrollInfo:"Payroll Information",firstName:"First Name",lastName:"Last Name",fullName:"Full Name",email:"Email",phone:"Phone",address:"Address",dateOfBirth:"Date of Birth",employeeId:"Employee ID",department:"Department",position:"Position",hireDate:"Hire Date",employmentStatus:"Employment Status",salary:"Salary",payFrequency:"Pay Frequency",taxId:"Tax ID",bankAccount:"Bank Account",emergencyContact:"Emergency Contact",activeEmployees:"Active Employees",inactiveEmployees:"Inactive Employees",totalPayroll:"Total Payroll",searchEmployees:"Search employees...",enterFullName:"Enter employee's full name",enterPosition:"Enter job position",enterEmail:"Enter email address",enterPhone:"Enter phone number",enterSalary:"Enter annual salary",departments:{engineering:"Engineering",product:"Product",design:"Design",marketing:"Marketing",sales:"Sales",humanResources:"Human Resources",finance:"Finance",operations:"Operations",analytics:"Analytics"}},entryBooks:{title:"Entry Books",bookName:"Book Name",bookType:"Book Type",createBook:"Create Book",editBook:"Edit Book",salesBook:"Sales Book",purchaseBook:"Purchase Book",cashBook:"Cash Book",generalBook:"General Book",entries:"Entries",addEntry:"Add Entry",period:"Period",startDate:"Start Date",endDate:"End Date",bookBalance:"Book Balance",reconciledBalance:"Reconciled Balance",difference:"Difference",reconcile:"Reconcile",isReconciled:"Is Reconciled",noBooks:"No entry books found",createFirst:"Create your first entry book to get started",bookDetails:"Book Details",entriesCount:"entries",bookOverview:"Book overview and details",bookEntries:"Book Entries",allEntries:"All entries in this book",noEntries:"No entries found",addFirst:"Add your first entry to this book",entryDate:"Entry Date",entryDescription:"Entry Description",entryAmount:"Entry Amount",entryReference:"Entry Reference",subtitle:"Manage accounting entries and general ledger records",viewReconciliation:"View Reconciliation",totalEntries:"Total Entries",allJournalEntries:"All journal entries",postedEntriesOnly:"Posted entries only",fromPostedEntries:"From {count} posted entries",needBankReconciliation:"Need bank reconciliation",allReconciled:"All reconciled",sortBy:"Sort By",fromDate:"From Date",toDate:"To Date",order:"Order",newest:"Newest",oldest:"Oldest",resetFilters:"Reset Filters",activeFilters:"Active filters",from:"From",to:"To",entriesFound:"{count} entries found",noJournalEntries:"No Journal Entries",startByCreating:"Start by creating your first entry",noEntriesMatch:"No journal entries match your current filters.",createFirstEntry:"Create First Entry",void:"Void",confirmVoid:"Are you sure you want to void this journal entry?",entryBookRecords:"Entry Book Records"},banking:{title:"Bank Consolidation",bankAccount:"Bank Account",statementDate:"Statement Date",beginningBalance:"Beginning Balance",endingBalance:"Ending Balance",deposits:"Deposits",withdrawals:"Withdrawals",bankCharges:"Bank Charges",interest:"Interest",reconcile:"Reconcile",matched:"Matched",unmatched:"Unmatched",importStatement:"Import Statement",manualEntry:"Manual Entry",autoMatch:"Auto Match",clearAll:"Clear All",reconciliationStatus:"Reconciliation Status",difference:"Difference",bookBalance:"Book Balance",statementBalance:"Statement Balance",outstandingChecks:"Outstanding Checks",depositsInTransit:"Deposits in Transit",reconciled:"Reconciled",notReconciled:"Not Reconciled",unreconciled:"Unreconciled",reconciliation:"Reconciliation",compareStatements:"Compare bank statements with entry book records",importCSV:"Import CSV",startNewReconciliation:"Start New Reconciliation",bankAccountInfo:"Bank Account Info",currentAccountDetails:"Current account details",lastReconciled:"Last reconciled",bankTransactions:"Bank Transactions",selectedPeriod:"Selected period",pending:"pending",bookEntriesForComparison:"Book entries for comparison",reconciliationRate:"Reconciliation Rate",completionStatus:"Completion status",recentReconciliationSessions:"Recent Reconciliation Sessions",latestActivity:"Latest activity",noRecentSessions:"No recent reconciliation sessions found.",startFirstReconciliation:"Start First Reconciliation",entryBookRecords:"Entry Book Records",pleaseUploadCSV:"Please upload a CSV file",csvRequiresHeaderAndData:"CSV file must have at least a header and one data row",successfullyParsed:"Successfully parsed {count} rows",errorParsingCSV:"Error parsing CSV file. Please check the format.",dateDescriptionRequired:"Date and Description columns are required",importedTransaction:"Imported transaction",successfullyImported:"Successfully imported {count} bank transactions",errorImportingTransactions:"Error importing transactions. Please check your data.",importBankStatementCSV:"Import Bank Statement CSV",dropCSVHere:"Drop CSV file here",clickToUploadCSV:"Click to upload or drag and drop CSV file",supportedFormat:"Supported format: CSV with Date, Description, and Amount columns",mapCSVColumns:"Map CSV Columns",dateColumn:"Date Column",selectColumn:"Select column...",descriptionColumn:"Description Column",referenceColumn:"Reference Column",amountDebitColumn:"Amount/Debit Column",creditColumn:"Credit Column",balanceColumn:"Balance Column",andMoreRows:"... and {count} more rows",importing:"Importing...",importTransactions:"Import {count} Transactions",reconciliationComparison:"Reconciliation Comparison",bankStatements:"Bank Statements",totalTransactions:"Total transactions",totalEntries:"Total entries",unreconciledBank:"Unreconciled Bank",unreconciledBooks:"Unreconciled Books",needAttention:"Need attention",unreconcile:"Unreconcile",clickToReconcile:"Click to reconcile",potentialMatchesFound:"Potential Matches Found",clickRecordToReconcile:"Click on a record below to reconcile",exactMatch:"Exact Match",possibleMatch:"Possible Match",selected:"Selected",clearSelection:"Clear Selection"},journal:{title:"Journal Entries",entryNumber:"Entry Number",entryDate:"Entry Date",debit:"Debit",credit:"Credit",account:"Account",memo:"Memo",reference:"Reference",createEntry:"Create Entry",editEntry:"Edit Entry",deleteEntry:"Delete Entry",posted:"Posted",draft:"Draft",reversed:"Reversed",recurringEntry:"Recurring Entry",attachments:"Attachments",totalDebits:"Total Debits",totalCredits:"Total Credits",outOfBalance:"Out of Balance",balanced:"Balanced",addEntry:"Add Journal Entry",allEntries:"All Entries",totalDebit:"Total Debit",totalCredit:"Total Credit",debitShort:"Dr.",creditShort:"Cr.",noReference:"No reference",createdBy:"By",totalAmount:"Total Amount",lines:"Lines",entryNotBalancedShort:"Entry is not balanced",accountLines:"Account Lines",noDescription:"No description",andMoreLines:"... and {count} more lines",viewDetails:"View Details",entryLines:"Journal Entry Lines",addLine:"Add Line",lineDescription:"Line description",notBalanced:"Not Balanced",updateEntry:"Update Entry",saveAsDraft:"Save as Draft",entryDetails:"Journal Entry Details",entryNotFound:"Entry Not Found",entryNotFoundMessage:"The journal entry you're looking for could not be found or may have been deleted.",editEntryTooltip:"Edit this journal entry",post:"Post",entryMustBeBalanced:"Entry must be balanced to post",postEntryTooltip:"Post this journal entry",voidEntryTooltip:"Void this journal entry",journalLines:"Journal Lines",balanceStatus:"Balance Status",unbalanced:"Unbalanced",difference:"difference",createdAt:"Created At",postedAt:"Posted At",quickActions:"Quick Actions",postEntry:"Post Entry",fixBalance:"Fix Balance",voidEntry:"Void Entry",draftEntry:"Draft Entry",draftEntryDescription:"This entry can be edited and posted.",entryMustBeBalancedBeforePosting:"Entry must be balanced before posting.",postedEntry:"Posted Entry",postedEntryDescription:"This entry has been posted to the general ledger. Editing will create a new draft copy.",voidEntryDescription:"This entry has been voided and cannot be modified.",confirmEditPosted:"This entry has been posted. Editing will create a new draft copy. Continue?",confirmPost:"Are you sure you want to post this journal entry? This action cannot be undone.",confirmVoid:"Are you sure you want to void this journal entry?",minTwoLinesRequired:"At least 2 line items are required",entryNotBalanced:"Entry is not balanced. Debit: ${debit}, Credit: ${credit}",lineAccountRequired:"Line {lineNumber}: Account is required",lineAmountRequired:"Line {lineNumber}: Either debit or credit amount must be provided",lineBothAmounts:"Line {lineNumber}: Cannot have both debit and credit amounts",enterEntryDescription:"Enter journal entry description",enterReferenceNumber:"Enter reference number"},forms:{requiredField:"This field is required",invalidEmail:"Invalid email address",invalidNumber:"Invalid number",invalidDate:"Invalid date",selectOption:"Please select an option",enterValue:"Please enter a value",confirmDelete:"Are you sure you want to delete this item?",unsavedChanges:"You have unsaved changes. Do you want to continue?",saveSuccess:"Saved successfully",saveError:"Error saving data",deleteSuccess:"Deleted successfully",deleteError:"Error deleting item",duplicateAccountNumber:"Account number already exists",descriptionRequired:"Description is required",errorOccurred:"An error occurred",errorPostingEntry:"An error occurred while posting the entry"},modals:{addInventory:"Add Inventory Movement",bulkMovement:"Bulk Inventory Movement",addProduct:"Add New Product",addLocation:"Add New Location",inventoryDetail:"Inventory Item Details",quickAdd:"Quick Add",selectProduct:"Select Product",selectLocation:"Select Location",enterQuantity:"Enter quantity",enterCost:"Enter unit cost",enterReference:"Enter reference number",addNotes:"Add notes (optional)",generalInformation:"General Information",stockInformation:"Stock Information",locationInformation:"Location Information",movementInformation:"Movement Information",addToInventory:"Add to Inventory",createProduct:"Create Product",createLocation:"Create Location",processing:"Processing...",addingMovement:"Adding movement...",creatingProduct:"Creating product...",creatingLocation:"Creating location..."},products:{title:"Products",addNew:"Add New Product",totalProducts:"Total Products",inCatalog:"In catalog",activeProducts:"Active Products",currentlyAvailable:"Currently available",outOfStock:"Out of Stock",needsRestock:"Needs restock",productCatalog:"Product Catalog",manageYourProducts:"Manage your products and pricing",inStock:"In Stock",furniture:"Furniture",electronics:"Electronics",supplies:"Supplies",lighting:"Lighting",searchPlaceholder:"Search products by name, SKU, or category...",allCategories:"All Categories",clearFilters:"Clear filters",noResults:"No products found matching your criteria.",noProducts:"No products available.",showing:"Showing",filtered:"Filtered results",allProducts:"All products",searchResult:"Search Result",stock:"Stock",lowStock:"Low Stock"},invoices:{title:"Invoices",createNew:"Create New Invoice",totalOutstanding:"Total Outstanding",unpaidInvoices:"Unpaid invoices",thisMonth:"This Month",revenueCollected:"Revenue collected",overdue:"Overdue",pastDueInvoices:"Past due invoices",recentInvoices:"Recent Invoices",latestBillingActivity:"Latest billing activity",paid:"Paid",pending:"Pending"}},es:{common:{save:"Guardar",cancel:"Cancelar",delete:"Eliminar",edit:"Editar",add:"Agregar",close:"Cerrar",search:"Buscar",filter:"Filtrar",reset:"Restablecer",back:"AtrÃ¡s",next:"Siguiente",previous:"Anterior",yes:"SÃ­",no:"No",loading:"Cargando...",error:"Error",success:"Ã‰xito",warning:"Advertencia",info:"InformaciÃ³n",confirm:"Confirmar",actions:"Acciones",status:"Estado",active:"Activo",inactive:"Inactivo",date:"Fecha",time:"Hora",description:"DescripciÃ³n",notes:"Notas",amount:"Monto",total:"Total",subtotal:"Subtotal",currency:"USD",language:"Idioma",english:"InglÃ©s",spanish:"EspaÃ±ol",noDataFound:"No se encontraron datos",required:"Requerido",optional:"Opcional",all:"Todos",none:"Ninguno",select:"Seleccionar",clear:"Limpiar",view:"Ver",suggested:"Sugerido",clearFilters:"Limpiar Filtros",enhanced:"Mejorado",legacy:"ClÃ¡sico",email:"Correo ElectrÃ³nico",phone:"TelÃ©fono",address:"DirecciÃ³n",name:"Nombre",code:"CÃ³digo",category:"CategorÃ­a",type:"Tipo",quantity:"Cantidad",price:"Precio",cost:"Costo",value:"Valor",balance:"Saldo",created:"Creado",modified:"Modificado",details:"Detalles",summary:"Resumen",history:"Historial",new:"Nuevo",addNew:"Agregar Nuevo",unknown:"Desconocido",notAvailable:"N/A",remove:"Remover",startDate:"Fecha de Inicio",endDate:"Fecha de Fin",from:"De",invoice:"Factura",reference:"Referencia",createdBy:"Creado Por",units:"unidades"},navigation:{dashboard:"Panel de Control",accounts:"Plan de Cuentas",balanceSheet:"Balance General",inventory:"Inventario",employees:"Empleados",entryBooks:"Libros de Entrada",consolidate:"ConsolidaciÃ³n Bancaria",reports:"Reportes",settings:"ConfiguraciÃ³n"},dashboard:{title:"Panel de Control",welcome:"Bienvenido a HRM Finance",totalRevenue:"Ingresos Totales",overview:"Resumen",recentActivity:"Actividad Reciente",quickActions:"Acciones RÃ¡pidas",employeeCount:"NÃºmero de Empleados",pendingInvoices:"Facturas Pendientes",cashBalance:"Saldo en Efectivo",totalAssets:"Activos Totales",totalLiabilities:"Pasivos Totales",totalExpenses:"Gastos Totales",netIncome:"Ingreso Neto",netLoss:"PÃ©rdida Neta",monthlyPayroll:"NÃ³mina Mensual",current:"Actual",newHires:"+3 nuevas contrataciones",outstanding:"Pendiente",totalOutstanding:"$23,450 total",lastUpdatedToday:"Ãšltima actualizaciÃ³n hoy",commonTasks:"Tareas comunes",generateReport:"Generar Reporte",latestUpdates:"Ãšltimas actualizaciones",invoicePaid:"Factura #1234 pagada",hoursAgo:"hace 2 horas",newEmployeeOnboarded:"Nuevo empleado incorporado",dayAgo:"hace 1 dÃ­a",monthlyReportGenerated:"Reporte mensual generado",daysAgo:"hace 2 dÃ­as"},accounts:{title:"Plan de Cuentas",accountNumber:"NÃºmero de Cuenta",accountName:"Nombre de Cuenta",accountType:"Tipo de Cuenta",category:"CategorÃ­a",balance:"Saldo",parentAccount:"Cuenta Padre",subAccounts:"Subcuentas",addAccount:"Agregar Cuenta",editAccount:"Editar Cuenta",deleteAccount:"Eliminar Cuenta",accountDetails:"Detalles de Cuenta",transactions:"Transacciones",accountHistory:"Historial de Cuenta",backToAccounts:"Volver a Cuentas",accountNotFound:"Cuenta no encontrada",accountInformation:"InformaciÃ³n de Cuenta",accountPurpose:"PropÃ³sito de la cuenta",transactionHistory:"Historial de Transacciones",noTransactions:"No se encontraron transacciones para esta cuenta",createdDate:"Fecha de CreaciÃ³n",lastModified:"Ãšltima ModificaciÃ³n",noDescription:"No se proporcionÃ³ descripciÃ³n.",totalCount:"Conteo total",basicDetails:"Detalles bÃ¡sicos",currentBalance:"Saldo actual",classification:"ClasificaciÃ³n",allTransactions:"Todas las transacciones de la cuenta",reference:"Referencia",types:{asset:"Activo",liability:"Pasivo",equity:"Patrimonio",revenue:"Ingreso",expense:"Gasto"},categories:{currentAssets:"Activos Corrientes",fixedAssets:"Activos Fijos",currentLiabilities:"Pasivos Corrientes",longTermLiabilities:"Pasivos a Largo Plazo",ownersEquity:"Patrimonio del Propietario",operatingRevenue:"Ingresos Operacionales",operatingExpenses:"Gastos Operacionales"}},inventory:{title:"GestiÃ³n de Inventario",overview:"Resumen",products:"Productos y Stock",movements:"Movimientos",locations:"Ubicaciones",bulkMovement:"Movimiento Masivo",addMovement:"Agregar Movimiento",addProduct:"Agregar Producto",addLocation:"Agregar UbicaciÃ³n",singleMovement:"Agregar Movimiento Individual",addNewItem:"Agregar Nuevo ArtÃ­culo",activeProducts:"Productos Activos",lowStockAlert:"ArtÃ­culos con Stock Bajo",totalValue:"Valor Total del Stock",activeLocations:"Ubicaciones Activas",productsNeedRestocking:"productos necesitan reabastecimiento",recentMovements:"Movimientos Recientes",noProducts:"No hay productos en esta ubicaciÃ³n",productName:"Nombre del Producto",productCode:"CÃ³digo del Producto",sku:"SKU",unitOfMeasure:"Unidad de Medida",unitCost:"Costo Unitario",minStockLevel:"Nivel MÃ­nimo de Stock",maxStockLevel:"Nivel MÃ¡ximo de Stock",locationName:"Nombre de UbicaciÃ³n",locationType:"Tipo de UbicaciÃ³n",locationCode:"CÃ³digo de UbicaciÃ³n",movementType:"Tipo de Movimiento",referenceNumber:"NÃºmero de Referencia",invoiceNumber:"NÃºmero de Factura",fromLocation:"Desde UbicaciÃ³n",toLocation:"Hacia UbicaciÃ³n",stockIn:"Entrada de Stock",stockOut:"Salida de Stock",transfer:"Transferencia",adjustment:"Ajuste",inStock:"En Stock",lowStock:"Stock Bajo",outOfStock:"Sin Stock",stockLevels:"Niveles de Stock",stockByLocation:"Stock por UbicaciÃ³n",searchProducts:"Buscar productos...",searchLocations:"Buscar ubicaciones...",noMovements:"No se encontraron movimientos",productDetails:"Detalles del Producto",locationDetails:"Detalles de UbicaciÃ³n",movementDetails:"Detalles del Movimiento",totalProducts:"Total de Productos",totalLocations:"Total de Ubicaciones",lastSeen:"Visto por Ãºltima vez",warehouseType:"AlmacÃ©n",storeType:"Tienda",supplierType:"Proveedor",customerType:"Cliente",currentlyManaged:"Gestionados actualmente",needAttention:"Necesitan atenciÃ³n",currentWorth:"Valor actual",warehousesStores:"Almacenes y tiendas",thisMonth:"Este Mes",latestActivities:"Ãšltimas actividades de inventario",searchMovements:"Buscar Movimientos",countingSheet:"Hoja de Conteo",physicalCount:"Conteo FÃ­sico",physicalInventoryCount:"Conteo FÃ­sico de Inventario",setupPhysicalCount:"Configurar Conteo FÃ­sico de Inventario",setupDescription:"Configure los ajustes de su conteo fÃ­sico de inventario y comience el proceso de conteo.",countWillInclude:"Este conteo incluirÃ¡ {{count}} productos de {{location}} en la categorÃ­a {{category}}.",startCounting:"Iniciar Conteo FÃ­sico",counted:"Contado",remaining:"Restante",variances:"Variaciones",complete:"Completo",systemQty:"Cant. Sistema",variance:"VariaciÃ³n",addNotes:"Agregar notas...",reviewAndConfirm:"Revisar y Confirmar Ajustes",reviewDescription:"Revise los ajustes de inventario a continuaciÃ³n y confirme para actualizar su sistema.",stockIncreases:"Aumentos de Stock",stockDecreases:"Disminuciones de Stock",totalAdjustments:"Ajustes Totales",confirmAdjustments:"Confirmar Ajustes",adjustment:"Ajuste",perfectCount:"Â¡Conteo Perfecto!",noVariances:"No se encontraron variaciones. Su conteo fÃ­sico coincide exactamente con el sistema.",physicalCountAdjustment:"Ajuste de conteo fÃ­sico",inventoryCountingSheetTitle:"HOJA DE CONTEO DE INVENTARIO",location:"UbicaciÃ³n",allCategories:"Todas las CategorÃ­as",countedBy:"Contado por",verifiedBy:"Verificado por",instructions:"Instrucciones",countInstructions:["Contar todos los artÃ­culos fÃ­sicamente presentes en esta ubicaciÃ³n",'Escribir el conteo real en la columna "Conteo FÃ­sico"',"Dejar en blanco si el artÃ­culo no se encuentra",'Anotar cualquier discrepancia en la columna "Notas"',"Firmar y fechar cuando estÃ© completo"],productName:"Nombre del Producto",unit:"Unidad",totalProductsListed:"Total de Productos Listados",itemsCounted:"ArtÃ­culos Contados",discrepanciesFound:"Discrepancias Encontradas",counterSignature:"Firma del Contador",supervisorSignature:"Firma del Supervisor",downloadCSV:"Descargar CSV",noAdjustmentsToDownload:"No hay ajustes para descargar",stockIncrease:"Aumento de Stock",stockDecrease:"DisminuciÃ³n de Stock",sortBy:"Ordenar Por",allLocations:"Todas las Ubicaciones",searchByProduct:"Buscar por producto, ubicaciÃ³n, referencia, notas, factura...",allProducts:"Todos los Productos",allTypes:"Todos los Tipos",startDate:"Fecha de Inicio",endDate:"Fecha de Fin",totalMovements:"Movimientos Totales",totalItems:"ArtÃ­culos Totales",adjustMovements:"Intenta ajustar tus filtros o revisa mÃ¡s tarde.",inventoryMovements:"Movimientos de Inventario",createdBy:"Creado Por",view:"Ver",enhanced:"Mejorado",legacy:"ClÃ¡sico",addSingleMovement:"Agregar Movimiento Individual",inStockSubtitle:"En stock",itemsBelowThreshold:"ArtÃ­culos bajo el umbral",inventoryWorth:"Valor del inventario",quantity:"Cantidad",units:"unidades",normal:"Normal",productsAndStock:"Productos y Stock",lowStockItems:"ArtÃ­culos con Stock Bajo",totalStockValue:"Valor Total del Stock",warehousesAndStores:"Almacenes y tiendas",andMore:"...y {count} mÃ¡s",latestInventoryActivities:"Ãšltimas actividades de inventario",min:"MÃ­n",max:"MÃ¡x",cost:"Costo",noProductsFound:"No se encontraron productos que coincidan con su bÃºsqueda.",noProductsAvailable:"No hay productos disponibles.",noLocationsFound:"No se encontraron ubicaciones que coincidan con su bÃºsqueda.",noLocationsAvailable:"No hay ubicaciones disponibles.",searchPlaceholder:"Buscar por producto, ubicaciÃ³n, referencia, notas, factura...",noMovementsFound:"No se encontraron movimientos",tryAdjustingFilters:"Intenta ajustar tus filtros o revisa mÃ¡s tarde.",transfers:"Transferencias",adjustments:"Ajustes",bulk:"Masivo",product:"Producto",location:"UbicaciÃ³n",store:"Tienda",supplier:"Proveedor",warehouse:"AlmacÃ©n",movement:"Movimiento",editMovement:"Editar Movimiento",updateMovement:"Actualizar Movimiento",movementInformation:"InformaciÃ³n del Movimiento",locationInformation:"InformaciÃ³n de UbicaciÃ³n"},employees:{title:"GestiÃ³n de Empleados",employeeList:"Lista de Empleados",addEmployee:"Agregar Empleado",editEmployee:"Editar Empleado",employeeDetails:"Detalles del Empleado",personalInfo:"InformaciÃ³n Personal",employmentInfo:"InformaciÃ³n Laboral",payrollInfo:"InformaciÃ³n de NÃ³mina",firstName:"Nombre",lastName:"Apellido",fullName:"Nombre Completo",email:"Correo ElectrÃ³nico",phone:"TelÃ©fono",address:"DirecciÃ³n",dateOfBirth:"Fecha de Nacimiento",employeeId:"ID de Empleado",department:"Departamento",position:"Puesto",hireDate:"Fecha de ContrataciÃ³n",employmentStatus:"Estado Laboral",salary:"Salario",payFrequency:"Frecuencia de Pago",taxId:"ID Fiscal",bankAccount:"Cuenta Bancaria",emergencyContact:"Contacto de Emergencia",activeEmployees:"Empleados Activos",inactiveEmployees:"Empleados Inactivos",totalPayroll:"NÃ³mina Total",searchEmployees:"Buscar empleados...",enterFullName:"Ingrese el nombre completo del empleado",enterPosition:"Ingrese el puesto de trabajo",enterEmail:"Ingrese la direcciÃ³n de correo electrÃ³nico",enterPhone:"Ingrese el nÃºmero de telÃ©fono",enterSalary:"Ingrese el salario anual",departments:{engineering:"IngenierÃ­a",product:"Producto",design:"DiseÃ±o",marketing:"Marketing",sales:"Ventas",humanResources:"Recursos Humanos",finance:"Finanzas",operations:"Operaciones",analytics:"AnalÃ­tica"}},entryBooks:{title:"Libros de Entrada",bookName:"Nombre del Libro",bookType:"Tipo de Libro",createBook:"Crear Libro",editBook:"Editar Libro",salesBook:"Libro de Ventas",purchaseBook:"Libro de Compras",cashBook:"Libro de Caja",generalBook:"Libro General",entries:"Entradas",addEntry:"Agregar Entrada",period:"PerÃ­odo",startDate:"Fecha de Inicio",endDate:"Fecha de Fin",bookBalance:"Saldo del Libro",reconciledBalance:"Saldo Conciliado",difference:"Diferencia",reconcile:"Conciliar",isReconciled:"EstÃ¡ Conciliado",noBooks:"No se encontraron libros de entrada",createFirst:"Crea tu primer libro de entrada para comenzar",bookDetails:"Detalles del Libro",entriesCount:"entradas",bookOverview:"Resumen y detalles del libro",bookEntries:"Entradas del Libro",allEntries:"Todas las entradas en este libro",noEntries:"No se encontraron entradas",addFirst:"Agrega tu primera entrada a este libro",entryDate:"Fecha de Entrada",entryDescription:"DescripciÃ³n de Entrada",entryAmount:"Monto de Entrada",entryReference:"Referencia de Entrada"},banking:{title:"ConsolidaciÃ³n Bancaria",bankAccount:"Cuenta Bancaria",statementDate:"Fecha del Estado",beginningBalance:"Saldo Inicial",endingBalance:"Saldo Final",deposits:"DepÃ³sitos",withdrawals:"Retiros",bankCharges:"Cargos Bancarios",interest:"Intereses",reconcile:"Conciliar",matched:"Conciliado",unmatched:"No Conciliado",importStatement:"Importar Estado",manualEntry:"Entrada Manual",autoMatch:"Coincidencia AutomÃ¡tica",clearAll:"Limpiar Todo",reconciliationStatus:"Estado de ConciliaciÃ³n",difference:"Diferencia",bookBalance:"Saldo en Libros",statementBalance:"Saldo del Estado",outstandingChecks:"Cheques Pendientes",depositsInTransit:"DepÃ³sitos en TrÃ¡nsito",reconciled:"Conciliado",notReconciled:"No Conciliado",unreconciled:"No Conciliado",reconciliation:"ConciliaciÃ³n",compareStatements:"Comparar estados bancarios con registros de libros de entrada",importCSV:"Importar CSV",startNewReconciliation:"Iniciar Nueva ConciliaciÃ³n",bankAccountInfo:"InformaciÃ³n de Cuenta Bancaria",currentAccountDetails:"Detalles de cuenta actual",lastReconciled:"Ãšltima conciliaciÃ³n",bankTransactions:"Transacciones Bancarias",selectedPeriod:"PerÃ­odo seleccionado",pending:"pendiente",bookEntriesForComparison:"Entradas de libros para comparaciÃ³n",reconciliationRate:"Tasa de ConciliaciÃ³n",completionStatus:"Estado de finalizaciÃ³n",recentReconciliationSessions:"Sesiones de ConciliaciÃ³n Recientes",latestActivity:"Actividad reciente",noRecentSessions:"No se encontraron sesiones de conciliaciÃ³n recientes.",startFirstReconciliation:"Iniciar Primera ConciliaciÃ³n",entryBookRecords:"Registros de Libros de Entrada",pleaseUploadCSV:"Por favor suba un archivo CSV",csvRequiresHeaderAndData:"El archivo CSV debe tener al menos un encabezado y una fila de datos",successfullyParsed:"Se analizaron exitosamente {count} filas",errorParsingCSV:"Error al analizar el archivo CSV. Verifique el formato.",dateDescriptionRequired:"Las columnas de Fecha y DescripciÃ³n son requeridas",importedTransaction:"TransacciÃ³n importada",successfullyImported:"Se importaron exitosamente {count} transacciones bancarias",errorImportingTransactions:"Error al importar transacciones. Verifique sus datos.",importBankStatementCSV:"Importar CSV de Estado Bancario",dropCSVHere:"Suelte el archivo CSV aquÃ­",clickToUploadCSV:"Haga clic para cargar o arrastre y suelte el archivo CSV",supportedFormat:"Formato soportado: CSV con columnas de Fecha, DescripciÃ³n y Monto",mapCSVColumns:"Mapear Columnas CSV",dateColumn:"Columna de Fecha",selectColumn:"Seleccionar columna...",descriptionColumn:"Columna de DescripciÃ³n",referenceColumn:"Columna de Referencia",amountDebitColumn:"Columna de Monto/DÃ©bito",creditColumn:"Columna de CrÃ©dito",balanceColumn:"Columna de Saldo",andMoreRows:"... y {count} filas mÃ¡s",importing:"Importando...",importTransactions:"Importar {count} Transacciones",reconciliationComparison:"ComparaciÃ³n de ConciliaciÃ³n",bankStatements:"Estados Bancarios",totalTransactions:"Transacciones totales",totalEntries:"Entradas totales",unreconciledBank:"Banco No Conciliado",unreconciledBooks:"Libros No Conciliados",needAttention:"Necesitan atenciÃ³n",unreconcile:"Desconciliar",clickToReconcile:"Hacer clic para conciliar",potentialMatchesFound:"Coincidencias Potenciales Encontradas",clickRecordToReconcile:"Haga clic en un registro a continuaciÃ³n para conciliar",exactMatch:"Coincidencia Exacta",possibleMatch:"Posible Coincidencia",selected:"Seleccionado",clearSelection:"Limpiar SelecciÃ³n"},journal:{title:"Asientos Contables",entryNumber:"NÃºmero de Asiento",entryDate:"Fecha del Asiento",debit:"DÃ©bito",credit:"CrÃ©dito",account:"Cuenta",memo:"Memo",reference:"Referencia",createEntry:"Crear Asiento",editEntry:"Editar Asiento",deleteEntry:"Eliminar Asiento",posted:"Registrado",draft:"Borrador",reversed:"Revertido",recurringEntry:"Asiento Recurrente",attachments:"Adjuntos",totalDebits:"DÃ©bitos Totales",totalCredits:"CrÃ©ditos Totales",outOfBalance:"Desbalanceado",balanced:"Balanceado"},forms:{requiredField:"Este campo es requerido",invalidEmail:"DirecciÃ³n de correo invÃ¡lida",invalidNumber:"NÃºmero invÃ¡lido",invalidDate:"Fecha invÃ¡lida",selectOption:"Por favor seleccione una opciÃ³n",enterValue:"Por favor ingrese un valor",confirmDelete:"Â¿EstÃ¡ seguro de que desea eliminar este elemento?",unsavedChanges:"Tiene cambios sin guardar. Â¿Desea continuar?",saveSuccess:"Guardado exitosamente",saveError:"Error al guardar datos",deleteSuccess:"Eliminado exitosamente",deleteError:"Error al eliminar elemento",duplicateAccountNumber:"El nÃºmero de cuenta ya existe"},modals:{addInventory:"Agregar Movimiento de Inventario",bulkMovement:"Movimiento Masivo de Inventario",addProduct:"Agregar Nuevo Producto",addLocation:"Agregar Nueva UbicaciÃ³n",inventoryDetail:"Detalles del ArtÃ­culo de Inventario",quickAdd:"Agregar RÃ¡pido",selectProduct:"Seleccionar Producto",selectLocation:"Seleccionar UbicaciÃ³n",enterQuantity:"Ingresar cantidad",enterCost:"Ingresar costo unitario",enterReference:"Ingresar nÃºmero de referencia",addNotes:"Agregar notas (opcional)",generalInformation:"InformaciÃ³n General",stockInformation:"InformaciÃ³n de Stock",locationInformation:"InformaciÃ³n de UbicaciÃ³n",movementInformation:"InformaciÃ³n de Movimiento",addToInventory:"Agregar al Inventario",createProduct:"Crear Producto",createLocation:"Crear UbicaciÃ³n",processing:"Procesando...",addingMovement:"Agregando movimiento...",creatingProduct:"Creando producto...",creatingLocation:"Creando ubicaciÃ³n..."},products:{title:"Productos",addNew:"Agregar Nuevo Producto",totalProducts:"Total de Productos",inCatalog:"En catÃ¡logo",activeProducts:"Productos Activos",currentlyAvailable:"Actualmente disponibles",outOfStock:"Sin Stock",needsRestock:"Necesita reabastecimiento",productCatalog:"CatÃ¡logo de Productos",manageYourProducts:"Gestiona tus productos y precios",inStock:"En Stock",furniture:"Muebles",electronics:"ElectrÃ³nicos",supplies:"Suministros",lighting:"IluminaciÃ³n"},invoices:{title:"Facturas",createNew:"Crear Nueva Factura",totalOutstanding:"Total Pendiente",unpaidInvoices:"Facturas no pagadas",thisMonth:"Este Mes",revenueCollected:"Ingresos recaudados",overdue:"Vencidas",pastDueInvoices:"Facturas vencidas",recentInvoices:"Facturas Recientes",latestBillingActivity:"Actividad de facturaciÃ³n reciente",paid:"Pagado",pending:"Pendiente"}}},Cl=()=>{if(typeof window<"u"){const t=localStorage.getItem("hrmfinance-language");if(t&&["en","es"].includes(t))return t}return"en"},[ro,_l]=re(Cl()),He=()=>({t:(i,l,c)=>{const a=ro(),s=i.split(".");let d=xl[a];for(const b of s)if(d&&typeof d=="object"&&b in d)d=d[b];else return l||i;let y=typeof d=="string"?d:l||i;return c&&typeof y=="string"&&Object.keys(c).forEach(b=>{const E=c[b],D=`{{${b}}}`;y=y.replace(new RegExp(D,"g"),String(E))}),y},language:()=>ro(),setLanguage:i=>{_l(i),typeof window<"u"&&localStorage.setItem("hrmfinance-language",i)}});var wl=k("<div><label></label><select><option value>"),kl=k("<span>*"),Al=k("<option>");const _t=t=>{const{t:e}=He(),n={display:"block","font-weight":"500","margin-bottom":"0.5rem",color:"var(--text-primary)"},i={width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem","font-family":"inherit",background:"var(--surface-color)",color:"var(--text-primary)",transition:"border-color 0.2s ease"},l={"margin-bottom":"1rem"};return(()=>{var c=wl(),a=c.firstChild,s=a.nextSibling,d=s.firstChild;return o(c,l),o(a,n),r(a,()=>t.label,null),r(a,(()=>{var y=F(()=>!!t.required);return()=>y()&&(()=>{var b=kl();return b.style.setProperty("color","var(--primary-color)"),b})()})(),null),s.addEventListener("blur",y=>y.target.style.borderColor="var(--border-color)"),s.addEventListener("focus",y=>y.target.style.borderColor="var(--primary-color)"),s.addEventListener("change",y=>t.onChange(y.target.value)),o(s,i),r(d,()=>e("forms.selectOption")),r(s,()=>t.options.map(y=>(()=>{var b=Al();return r(b,()=>y.label),z(()=>b.value=y.value),b})()),null),z(y=>{var b=t.required,E=t.disabled;return b!==y.e&&(s.required=y.e=b),E!==y.t&&(s.disabled=y.t=E),y},{e:void 0,t:void 0}),z(()=>s.value=t.value),c})()};var Il=k("<div><span>:</span><select><option value=en>ðŸ‡ºðŸ‡¸ </option><option value=es>ðŸ‡ªðŸ‡¸ ");const El=()=>{const{t,language:e,setLanguage:n}=He(),i={display:"flex","align-items":"center",gap:"0.5rem","margin-left":"auto"},l={padding:"0.5rem 1rem","border-radius":"var(--border-radius-sm)",border:"1px solid var(--border-color)",background:"var(--surface-color)",color:"var(--text-primary)",cursor:"pointer","font-size":"0.875rem","font-weight":"500",transition:"all 0.2s ease","min-width":"120px"},c={"font-weight":"500",color:"var(--text-muted)","font-size":"0.875rem"},a=s=>{const d=s.target;n(d.value)};return(()=>{var s=Il(),d=s.firstChild,y=d.firstChild,b=d.nextSibling,E=b.firstChild;E.firstChild;var D=E.nextSibling;return D.firstChild,o(s,i),o(d,c),r(d,()=>t("common.language"),y),b.addEventListener("change",a),o(b,l),r(E,()=>t("common.english"),null),r(D,()=>t("common.spanish"),null),z(()=>b.value=e()),s})()};var Dl=k("<main><div>"),Ll=k("<header><h1>");const zt=t=>{const e={"min-height":"100vh",background:"var(--background-color)"},n={"max-width":"1200px",margin:"0 auto",padding:"2rem"},i={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"2rem"},l={"font-size":"2rem","font-weight":"700",color:"var(--text-primary)",margin:"0"};return(()=>{var c=Dl(),a=c.firstChild;return o(c,e),o(a,n),r(a,(()=>{var s=F(()=>!!t.title);return()=>s()&&(()=>{var d=Ll(),y=d.firstChild;return o(d,i),o(y,l),r(y,()=>t.title),r(d,u(El,{}),null),d})()})(),null),r(a,()=>t.children,null),c})()};var Nl=k(`<nav><div><div></div></div><style>
        .nav-active {
          background: linear-gradient(135deg, var(--primary-color), var(--primary-dark)) !important;
          color: white !important;
          box-shadow: var(--shadow-sm);
        }
        
        nav a:hover:not(.nav-active) {
          background: var(--background-color);
          color: var(--text-primary);
        }
        
        @media (max-width: 768px) {
          nav div:first-child {
            flex-direction: column;
            gap: 1rem;
            padding: 1rem;
          }
          
          nav div:last-child {
            flex-wrap: wrap;
            justify-content: center;
          }
        }
      `);const Tl=()=>{const{t}=He(),e={background:"var(--surface-color)","border-bottom":"1px solid var(--border-color)","box-shadow":"var(--shadow-sm)","backdrop-filter":"blur(10px)",position:"sticky",top:"0","z-index":"100"},n={display:"flex","align-items":"center","justify-content":"space-between",padding:"1rem 2rem","max-width":"1200px",margin:"0 auto"},i={"font-size":"1.5rem","font-weight":"700",color:"var(--primary-color)","text-decoration":"none","margin-right":"2rem"},l={display:"flex",gap:"0.5rem","align-items":"center"},c={"text-decoration":"none",color:"var(--text-secondary)",padding:"0.5rem 1rem","border-radius":"var(--border-radius-sm)","font-weight":"500","font-size":"0.875rem",transition:"all 0.2s ease","white-space":"nowrap"};return(()=>{var a=Nl(),s=a.firstChild,d=s.firstChild;return o(s,n),r(s,u(Xt,{href:"/",style:i,children:"HRM Finance"}),d),o(d,l),r(d,u(Xt,{href:"/",style:c,activeClass:"nav-active",get children(){return t("navigation.dashboard")}}),null),r(d,u(Xt,{href:"/accounts",style:c,activeClass:"nav-active",get children(){return t("navigation.accounts")}}),null),r(d,u(Xt,{href:"/entry-books",style:c,activeClass:"nav-active",get children(){return t("navigation.entryBooks")}}),null),r(d,u(Xt,{href:"/employees",style:c,activeClass:"nav-active",get children(){return t("navigation.employees")}}),null),r(d,u(Xt,{href:"/bank-consolidations",style:c,activeClass:"nav-active",get children(){return t("navigation.consolidate")}}),null),r(d,u(Xt,{href:"/balance-sheet",style:c,activeClass:"nav-active",get children(){return t("navigation.balanceSheet")}}),null),r(d,u(Xt,{href:"/inventory",style:c,activeClass:"nav-active",get children(){return t("navigation.inventory")}}),null),z(y=>o(a,e,y)),a})()};var Bl=k('<button title="Open Dev Tools">ðŸ› ï¸'),Ml=k("<span>(<!>)"),Rl=k("<div><span></span><span>"),no=k("<div>"),Ol=k("<div>Database reset only available in fake mode"),jl=k("<div><div>Loading..."),zl=k("<div><div><h3>ðŸ› ï¸ Dev Tools</h3><button>âœ•</button></div><div><div>API Mode</div><div><button>Fake Server</button><button>Real API</button><button>Hybrid</button></div><div>Current: <strong></strong></div></div><div><div>Health Status</div></div><div><div>Database Stats</div></div><div><div>Actions</div><div><button>ðŸ”„ Refresh Stats</button><button>ðŸ’Š Health Check</button></div><div><button>ðŸ—‘ï¸ Reset DB</button></div></div><div><div>Info</div><div>â€¢ <strong>Fake Server:</strong> Uses local mock data<br>â€¢ <strong>Real API:</strong> Connects to actual backend<br>â€¢ <strong>Hybrid:</strong> Real API with fake fallback<br>â€¢ Settings are saved in localStorage"),Fl=k("<div>Loading..."),ql=k("<div><span>:</span><span>");const Ul=()=>{const[t,e]=re(!1),[n,i]=re(jr.getMode()),[l,c]=re({}),[a,s]=re(null),[d,y]=re(!1);_r(async()=>{await b(),await E()});const b=async()=>{try{const le=await eo.getStats();c(le)}catch(le){console.error("Failed to load stats:",le)}},E=async()=>{try{const le=await eo.healthCheck();s(le)}catch(le){console.error("Health check failed:",le),s({status:"error",error:le.message})}},D=async le=>{y(!0);try{jr.setMode(le),i(le),await b(),await E()}catch(ae){console.error("Failed to change API mode:",ae)}finally{y(!1)}},I=async()=>{if(confirm("Are you sure you want to reset the fake database to its initial state?")){y(!0);try{const le=await Tt.utils.resetDatabase();alert(le.message),await b()}catch(le){console.error("Failed to reset database:",le),alert("Failed to reset database")}finally{y(!1)}}},C={position:"fixed",bottom:"20px",right:"20px","z-index":"10000","font-family":"monospace"},P={background:"#1a1a1a",color:"#fff",border:"1px solid #333","border-radius":"8px",padding:"16px","min-width":"300px","max-width":"400px","box-shadow":"0 4px 20px rgba(0,0,0,0.3)"},x={background:"#007acc",color:"#fff",border:"none","border-radius":"50%",width:"50px",height:"50px",cursor:"pointer","font-size":"20px","box-shadow":"0 2px 10px rgba(0,0,0,0.2)",display:"flex","align-items":"center","justify-content":"center"},h={background:"#333",color:"#fff",border:"1px solid #555","border-radius":"4px",padding:"6px 12px",cursor:"pointer","font-size":"12px","margin-right":"8px","margin-bottom":"8px"},M={...h,background:"#007acc","border-color":"#007acc"},U={"margin-bottom":"16px","padding-bottom":"12px","border-bottom":"1px solid #333"},j={"font-size":"14px","font-weight":"bold","margin-bottom":"8px",color:"#007acc"},ne={display:"flex","justify-content":"space-between","font-size":"12px","margin-bottom":"4px"},V=le=>({display:"inline-block",width:"8px",height:"8px","border-radius":"50%","margin-right":"8px",background:le==="healthy"?"#00ff00":le==="error"?"#ff0000":"#ffff00"});return(()=>{var le=no();return r(le,u(qe,{get when(){return!t()},get children(){var ae=Bl();return ae.$$click=()=>e(!0),o(ae,x),ae}}),null),r(le,u(qe,{get when(){return t()},get children(){var ae=zl(),me=ae.firstChild,ye=me.firstChild,ie=ye.nextSibling,X=me.nextSibling,p=X.firstChild,se=p.nextSibling,A=se.firstChild,m=A.nextSibling,B=m.nextSibling,g=se.nextSibling,_=g.firstChild,S=_.nextSibling,w=X.nextSibling,de=w.firstChild,$=w.nextSibling,N=$.firstChild,J=$.nextSibling,H=J.firstChild,q=H.nextSibling,Q=q.firstChild,ee=Q.nextSibling,ce=q.nextSibling,R=ce.firstChild,Y=J.nextSibling,ge=Y.firstChild,fe=ge.nextSibling;return o(ae,P),me.style.setProperty("display","flex"),me.style.setProperty("justify-content","space-between"),me.style.setProperty("align-items","center"),me.style.setProperty("margin-bottom","16px"),ye.style.setProperty("margin","0"),ye.style.setProperty("color","#007acc"),ye.style.setProperty("font-size","16px"),ie.$$click=()=>e(!1),A.$$click=()=>D("fake"),m.$$click=()=>D("real"),B.$$click=()=>D("hybrid"),g.style.setProperty("font-size","11px"),g.style.setProperty("color","#888"),g.style.setProperty("margin-top","4px"),r(S,n),r(g,()=>n()==="fake"&&" (Using fake server)",null),r(g,()=>n()==="real"&&" (Using real API)",null),r(g,()=>n()==="hybrid"&&" (Real API with fallback)",null),r(w,u(qe,{get when(){return a()},get fallback(){return(()=>{var Z=Fl();return Z.style.setProperty("font-size","12px"),Z})()},get children(){return[(()=>{var Z=Rl(),W=Z.firstChild,T=W.nextSibling;return Z.style.setProperty("display","flex"),Z.style.setProperty("align-items","center"),Z.style.setProperty("font-size","12px"),r(T,()=>a()?.status||"Unknown"),r(Z,u(qe,{get when(){return a()?.timestamp},get children(){var oe=Ml(),te=oe.firstChild,pe=te.nextSibling;return pe.nextSibling,oe.style.setProperty("margin-left","8px"),oe.style.setProperty("color","#888"),r(oe,()=>new Date(a().timestamp).toLocaleTimeString(),pe),oe}}),null),z(oe=>o(W,V(a()?.status||"unknown"),oe)),Z})(),u(qe,{get when(){return a()?.error},get children(){var Z=no();return Z.style.setProperty("font-size","11px"),Z.style.setProperty("color","#ff6666"),Z.style.setProperty("margin-top","4px"),r(Z,()=>a().error),Z}})]}}),null),r($,u(dt,{get each(){return Object.entries(l())},children:([Z,W])=>(()=>{var T=ql(),oe=T.firstChild,te=oe.firstChild,pe=oe.nextSibling;return o(T,ne),oe.style.setProperty("text-transform","capitalize"),r(oe,Z,te),pe.style.setProperty("color","#00ff00"),r(pe,W),T})()}),null),Q.$$click=b,ee.$$click=E,ce.style.setProperty("margin-top","8px"),R.$$click=I,r(J,u(qe,{get when(){return n()!=="fake"},get children(){var Z=Ol();return Z.style.setProperty("font-size","11px"),Z.style.setProperty("color","#888"),Z.style.setProperty("margin-top","4px"),Z}}),null),fe.style.setProperty("font-size","11px"),fe.style.setProperty("color","#888"),fe.style.setProperty("line-height","1.4"),r(ae,u(qe,{get when(){return d()},get children(){var Z=jl(),W=Z.firstChild;return Z.style.setProperty("position","absolute"),Z.style.setProperty("top","0"),Z.style.setProperty("left","0"),Z.style.setProperty("right","0"),Z.style.setProperty("bottom","0"),Z.style.setProperty("background","rgba(0,0,0,0.7)"),Z.style.setProperty("display","flex"),Z.style.setProperty("align-items","center"),Z.style.setProperty("justify-content","center"),Z.style.setProperty("border-radius","8px"),W.style.setProperty("color","#fff"),W.style.setProperty("font-size","14px"),Z}}),null),z(Z=>{var W={...h,padding:"4px 8px"},T=U,oe=j,te=n()==="fake"?M:h,pe=d(),ve=n()==="real"?M:h,v=d(),f=n()==="hybrid"?M:h,K=d(),G=U,O=j,ue=U,L=j,be=U,Pe=j,$e=h,_e=d(),Le=h,Ue=d(),xe={...h,background:"#cc4400","border-color":"#cc4400"},we=d()||n()!=="fake",Te=j;return Z.e=o(ie,W,Z.e),Z.t=o(X,T,Z.t),Z.a=o(p,oe,Z.a),Z.o=o(A,te,Z.o),pe!==Z.i&&(A.disabled=Z.i=pe),Z.n=o(m,ve,Z.n),v!==Z.s&&(m.disabled=Z.s=v),Z.h=o(B,f,Z.h),K!==Z.r&&(B.disabled=Z.r=K),Z.d=o(w,G,Z.d),Z.l=o(de,O,Z.l),Z.u=o($,ue,Z.u),Z.c=o(N,L,Z.c),Z.w=o(J,be,Z.w),Z.m=o(H,Pe,Z.m),Z.f=o(Q,$e,Z.f),_e!==Z.y&&(Q.disabled=Z.y=_e),Z.g=o(ee,Le,Z.g),Ue!==Z.p&&(ee.disabled=Z.p=Ue),Z.b=o(R,xe,Z.b),we!==Z.T&&(R.disabled=Z.T=we),Z.A=o(ge,Te,Z.A),Z},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0}),ae}}),null),z(ae=>o(le,C,ae)),le})()};yt(["click"]);var Vl=k("<div>$124,350"),Yl=k("<div>+12% from last month"),Wl=k("<div>247"),Pr=k("<div>"),Hl=k("<div>18"),Gl=k("<div>$89,250"),Jl=k("<div><div><div></div><div></div></div><div><div></div><div></div></div><div><div></div><div>");const Ql=()=>{const{t}=He(),e={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"},n={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem"},i={"font-size":"2rem","font-weight":"700",color:"var(--primary-color)",margin:"0.5rem 0"},l={"font-size":"0.875rem",color:"var(--text-muted)","text-transform":"uppercase","letter-spacing":"0.5px"};return u(zt,{get title(){return t("dashboard.title")},get children(){return[(()=>{var c=Pr();return o(c,e),r(c,u(Oe,{get title(){return t("dashboard.totalRevenue")},get subtitle(){return t("dashboard.overview")},get children(){return[(()=>{var a=Vl();return z(s=>o(a,i,s)),a})(),(()=>{var a=Yl();return z(s=>o(a,l,s)),a})()]}}),null),r(c,u(Oe,{get title(){return t("dashboard.employeeCount")},get subtitle(){return t("dashboard.current")},get children(){return[(()=>{var a=Wl();return z(s=>o(a,i,s)),a})(),(()=>{var a=Pr();return r(a,()=>t("dashboard.newHires")),z(s=>o(a,l,s)),a})()]}}),null),r(c,u(Oe,{get title(){return t("dashboard.pendingInvoices")},get subtitle(){return t("dashboard.outstanding")},get children(){return[(()=>{var a=Hl();return z(s=>o(a,i,s)),a})(),(()=>{var a=Pr();return r(a,()=>t("dashboard.totalOutstanding")),z(s=>o(a,l,s)),a})()]}}),null),r(c,u(Oe,{get title(){return t("dashboard.cashBalance")},get subtitle(){return t("accounts.title")},get children(){return[(()=>{var a=Gl();return z(s=>o(a,i,s)),a})(),(()=>{var a=Pr();return r(a,()=>t("dashboard.lastUpdatedToday")),z(s=>o(a,l,s)),a})()]}}),null),c})(),(()=>{var c=Pr();return o(c,n),r(c,u(Oe,{get title(){return t("dashboard.quickActions")},get subtitle(){return t("dashboard.commonTasks")},get children(){var a=Pr();return a.style.setProperty("display","flex"),a.style.setProperty("flex-direction","column"),a.style.setProperty("gap","1rem"),r(a,u(Ae,{variant:"primary",get children(){return t("invoices.createNew")}}),null),r(a,u(Ae,{variant:"secondary",get children(){return t("employees.addEmployee")}}),null),r(a,u(Ae,{variant:"outline",get children(){return t("dashboard.generateReport")}}),null),a}}),null),r(c,u(Oe,{get title(){return t("dashboard.recentActivity")},get subtitle(){return t("dashboard.latestUpdates")},get children(){var a=Jl(),s=a.firstChild,d=s.firstChild,y=d.nextSibling,b=s.nextSibling,E=b.firstChild,D=E.nextSibling,I=b.nextSibling,C=I.firstChild,P=C.nextSibling;return a.style.setProperty("display","flex"),a.style.setProperty("flex-direction","column"),a.style.setProperty("gap","0.75rem"),s.style.setProperty("border-bottom","1px solid var(--border-color)"),s.style.setProperty("padding-bottom","0.5rem"),d.style.setProperty("font-weight","500"),r(d,()=>t("dashboard.invoicePaid")),y.style.setProperty("font-size","0.875rem"),y.style.setProperty("color","var(--text-muted)"),r(y,()=>t("dashboard.hoursAgo")),b.style.setProperty("border-bottom","1px solid var(--border-color)"),b.style.setProperty("padding-bottom","0.5rem"),E.style.setProperty("font-weight","500"),r(E,()=>t("dashboard.newEmployeeOnboarded")),D.style.setProperty("font-size","0.875rem"),D.style.setProperty("color","var(--text-muted)"),r(D,()=>t("dashboard.dayAgo")),C.style.setProperty("font-weight","500"),r(C,()=>t("dashboard.monthlyReportGenerated")),P.style.setProperty("font-size","0.875rem"),P.style.setProperty("color","var(--text-muted)"),r(P,()=>t("dashboard.daysAgo")),a}}),null),c})()]}})},Kl=[{id:"1",accountNumber:"1000",name:"Cash and Cash Equivalents",type:"Asset",category:"Current Assets",description:"Cash on hand and in bank accounts",balance:45230.5,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-15"},{id:"1001",accountNumber:"1001",name:"Petty Cash",type:"Asset",category:"Current Assets",description:"Small amounts of cash for minor expenses",balance:500,isActive:!0,parentAccountId:"1",createdDate:"2024-01-01",lastModified:"2024-01-15"},{id:"1002",accountNumber:"1002",name:"Bank - Checking Account",type:"Asset",category:"Current Assets",description:"Main operating checking account",balance:32730.5,isActive:!0,parentAccountId:"1",createdDate:"2024-01-01",lastModified:"2024-01-15"},{id:"1003",accountNumber:"1003",name:"Bank - Savings Account",type:"Asset",category:"Current Assets",description:"Interest-bearing savings account",balance:12e3,isActive:!0,parentAccountId:"1",createdDate:"2024-01-01",lastModified:"2024-01-15"},{id:"2",accountNumber:"1100",name:"Accounts Receivable",type:"Asset",category:"Current Assets",description:"Money owed by customers",balance:23450.75,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-14"},{id:"2001",accountNumber:"1101",name:"Trade Receivables",type:"Asset",category:"Current Assets",description:"Receivables from regular customers",balance:18450.75,isActive:!0,parentAccountId:"2",createdDate:"2024-01-01",lastModified:"2024-01-14"},{id:"2002",accountNumber:"1102",name:"Employee Advances",type:"Asset",category:"Current Assets",description:"Money advanced to employees",balance:5e3,isActive:!0,parentAccountId:"2",createdDate:"2024-01-01",lastModified:"2024-01-14"},{id:"3",accountNumber:"1200",name:"Inventory",type:"Asset",category:"Current Assets",description:"Products held for sale",balance:78920.25,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-13"},{id:"4",accountNumber:"1500",name:"Equipment",type:"Asset",category:"Fixed Assets",description:"Office equipment and machinery",balance:125e3,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-12"},{id:"5",accountNumber:"2000",name:"Accounts Payable",type:"Liability",category:"Current Liabilities",description:"Money owed to suppliers",balance:15670.3,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-11"},{id:"6",accountNumber:"2100",name:"Accrued Expenses",type:"Liability",category:"Current Liabilities",description:"Expenses incurred but not yet paid",balance:8945.6,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-10"},{id:"7",accountNumber:"2500",name:"Long-term Debt",type:"Liability",category:"Long-term Liabilities",description:"Long-term loans and mortgages",balance:85e3,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-09"},{id:"8",accountNumber:"3000",name:"Owner's Equity",type:"Equity",category:"Owner's Equity",description:"Owner's investment in the business",balance:15e4,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-08"},{id:"9",accountNumber:"3100",name:"Retained Earnings",type:"Equity",category:"Owner's Equity",description:"Accumulated profits retained in business",balance:32450.8,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-07"},{id:"10",accountNumber:"4000",name:"Sales Revenue",type:"Revenue",category:"Operating Revenue",description:"Revenue from product sales",balance:245678.9,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-06"},{id:"11",accountNumber:"4100",name:"Service Revenue",type:"Revenue",category:"Operating Revenue",description:"Revenue from services provided",balance:89432.15,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-05"},{id:"12",accountNumber:"5000",name:"Cost of Goods Sold",type:"Expense",category:"Operating Expenses",description:"Direct costs of producing goods",balance:125678.45,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-04"},{id:"13",accountNumber:"5100",name:"Salaries Expense",type:"Expense",category:"Operating Expenses",description:"Employee salary expenses",balance:98765.32,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-03"},{id:"14",accountNumber:"5200",name:"Rent Expense",type:"Expense",category:"Operating Expenses",description:"Office rent expenses",balance:24e3,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-02"}],Zl=[{id:"1",accountId:"1",date:"2024-01-15",description:"Customer payment received",debitAmount:5e3,creditAmount:0,reference:"INV-2024-001",type:"debit"},{id:"2",accountId:"2",date:"2024-01-15",description:"Customer payment received",debitAmount:0,creditAmount:5e3,reference:"INV-2024-001",type:"credit"},{id:"3",accountId:"5",date:"2024-01-14",description:"Office supplies purchased",debitAmount:0,creditAmount:1250,reference:"PO-2024-001",type:"credit"}],[Ut,Vr]=re(Kl),[gn,Xl]=re(Zl),et={get accounts(){return Ut()},get transactions(){return gn()},fetchAllAccount(t){const e={...t,id:Date.now().toString(),createdDate:new Date().toISOString().split("T")[0],lastModified:new Date().toISOString().split("T")[0]};return Vr([...Ut(),e]),e},addAccount(t){const e={...t,id:Date.now().toString(),createdDate:new Date().toISOString().split("T")[0],lastModified:new Date().toISOString().split("T")[0]};return Vr([...Ut(),e]),e},updateAccount(t,e){Vr(Ut().map(n=>n.id===t?{...n,...e,lastModified:new Date().toISOString().split("T")[0]}:n))},deleteAccount(t){Vr(Ut().filter(e=>e.id!==t))},getAccountById(t){return Ut().find(e=>e.id===t)},getAccountsByType(t){return Ut().filter(e=>e.type===t)},getAccountTransactions(t){return gn().filter(e=>e.accountId===t)},addTransaction(t){const e={...t,id:Date.now().toString()};Xl([...gn(),e]);const n=this.getAccountById(t.accountId);if(n){const i=t.type==="debit"?t.debitAmount:-t.creditAmount;this.updateAccount(t.accountId,{balance:n.balance+i})}return e},getTotalByType(t){return Ut().filter(e=>e.type===t&&e.isActive).reduce((e,n)=>e+n.balance,0)},getAccountCategories(t){const e=this.getAccountsByType(t);return[...new Set(e.map(n=>n.category))]},getSubAccounts(t){return Ut().filter(e=>e.parentAccountId===t)},getParentAccounts(){return Ut().filter(t=>!t.parentAccountId)},getAccountHierarchy(){return this.getParentAccounts().map(e=>({...e,subAccounts:this.getSubAccounts(e.id)}))},getAccountWithSubAccounts(t){const e=this.getAccountById(t);return e?{...e,subAccounts:this.getSubAccounts(t),parentAccount:e.parentAccountId?this.getAccountById(e.parentAccountId):null}:null},getAccountPath(t){const e=this.getAccountById(t);if(!e)return[];const n=[e];let i=e;for(;i.parentAccountId;){const l=this.getAccountById(i.parentAccountId);if(l)n.unshift(l),i=l;else break}return n},getTotalBalanceWithSubAccounts(t){const e=this.getAccountById(t);if(!e)return 0;const i=this.getSubAccounts(t).reduce((l,c)=>l+this.getTotalBalanceWithSubAccounts(c.id),0);return e.balance+i},canDeleteAccount(t){const e=this.getSubAccounts(t);if(e.length>0)return{canDelete:!1,reason:`Account has ${e.length} sub-account(s). Delete or move sub-accounts first.`};const n=this.getAccountTransactions(t);return n.length>0?{canDelete:!1,reason:`Account has ${n.length} transaction(s). Cannot delete account with transaction history.`}:{canDelete:!0}}};var er=k("<div>"),Er=k("<div> ");const ea=()=>{const{t}=He(),e={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"},n={"font-size":"1.5rem","font-weight":"600",color:"var(--primary-color)","margin-bottom":"0.5rem"},i={"font-size":"0.875rem",color:"var(--text-muted)"},l=P=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(P),c=et.getTotalByType("Asset"),a=et.getTotalByType("Liability"),s=et.getTotalByType("Equity"),d=et.getTotalByType("Revenue"),y=et.getTotalByType("Expense"),b=et.getAccountsByType("Asset").length,E=et.getAccountsByType("Liability").length,D=et.getAccountsByType("Equity").length,I=et.getAccountsByType("Revenue").length,C=et.getAccountsByType("Expense").length;return(()=>{var P=er();return o(P,e),r(P,u(Oe,{get title(){return t("dashboard.totalAssets")},get subtitle(){return t("dashboard.overview")},get children(){return[(()=>{var x=er();return r(x,()=>l(c)),z(h=>o(x,n,h)),x})(),(()=>{var x=Er(),h=x.firstChild;return r(x,b,h),r(x,()=>t("navigation.accounts"),null),z(M=>o(x,i,M)),x})()]}}),null),r(P,u(Oe,{get title(){return t("dashboard.totalLiabilities")},get subtitle(){return t("dashboard.overview")},get children(){return[(()=>{var x=er();return r(x,()=>l(a)),z(h=>o(x,n,h)),x})(),(()=>{var x=Er(),h=x.firstChild;return r(x,E,h),r(x,()=>t("navigation.accounts"),null),z(M=>o(x,i,M)),x})()]}}),null),r(P,u(Oe,{get title(){return t("dashboard.totalEquity")},get subtitle(){return t("accounts.categories.ownersEquity")},get children(){return[(()=>{var x=er();return r(x,()=>l(s)),z(h=>o(x,n,h)),x})(),(()=>{var x=Er(),h=x.firstChild;return r(x,D,h),r(x,()=>t("navigation.accounts"),null),z(M=>o(x,i,M)),x})()]}}),null),r(P,u(Oe,{get title(){return t("dashboard.totalRevenue")},get subtitle(){return t("accounts.categories.operatingRevenue")},get children(){return[(()=>{var x=er();return r(x,()=>l(d)),z(h=>o(x,n,h)),x})(),(()=>{var x=Er(),h=x.firstChild;return r(x,I,h),r(x,()=>t("navigation.accounts"),null),z(M=>o(x,i,M)),x})()]}}),null),r(P,u(Oe,{get title(){return t("dashboard.totalExpenses")},get subtitle(){return t("accounts.categories.operatingExpenses")},get children(){return[(()=>{var x=er();return r(x,()=>l(y)),z(h=>o(x,n,h)),x})(),(()=>{var x=Er(),h=x.firstChild;return r(x,C,h),r(x,()=>t("navigation.accounts"),null),z(M=>o(x,i,M)),x})()]}}),null),r(P,u(Oe,{get title(){return t("dashboard.netIncome")},get subtitle(){return`${t("dashboard.totalRevenue")} - ${t("dashboard.totalExpenses")}`},get children(){return[(()=>{var x=er();return r(x,()=>l(d-y)),z(h=>o(x,{...n,color:d-y>=0?"#4caf50":"#f44336"},h)),x})(),(()=>{var x=er();return r(x,()=>d-y>=0?t("dashboard.netIncome"):t("dashboard.netLoss")),z(h=>o(x,i,h)),x})()]}}),null),P})()};var ta=k("<div><div></div><div>"),ra=k("<h3>"),Dr=k("<div>");const na=t=>{const{t:e}=He();qn();const n={display:"flex","justify-content":"flex-end","margin-top":"1rem","padding-top":"1rem","border-top":"1px solid var(--border-color)"},i={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"1rem"},l={"font-size":"0.875rem","font-weight":"600",color:"var(--text-muted)","text-transform":"uppercase","letter-spacing":"0.5px"},c={padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500","text-transform":"uppercase","letter-spacing":"0.5px"},a={"font-size":"1.5rem","font-weight":"600",color:"var(--primary-color)","margin-bottom":"0.5rem"},s={"font-size":"0.875rem",color:"var(--text-muted)","margin-bottom":"0.5rem"},d={"font-size":"0.875rem",color:"var(--text-secondary)","line-height":"1.4"},y=D=>({Asset:{bg:"#e8f5e8",color:"#2d7d32"},Liability:{bg:"#fff3e0",color:"#f57c00"},Equity:{bg:"#e3f2fd",color:"#1976d2"},Revenue:{bg:"#e8f5e8",color:"#388e3c"},Expense:{bg:"#ffebee",color:"#d32f2f"}})[D]||{bg:"#f5f5f5",color:"#666"},b=D=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(D),E=y(t.account.type);return u(Oe,{get children(){return[(()=>{var D=ta(),I=D.firstChild,C=I.nextSibling;return o(D,i),o(I,l),r(I,()=>t.account.accountNumber),r(C,()=>e(`accounts.types.${t.account.type.toLowerCase()}`)),z(P=>o(C,{...c,background:E.bg,color:E.color},P)),D})(),(()=>{var D=ra();return D.style.setProperty("margin","0 0 0.5rem 0"),D.style.setProperty("font-size","1.1rem"),r(D,()=>t.account.name),D})(),(()=>{var D=Dr();return o(D,s),r(D,()=>t.account.category),D})(),(()=>{var D=Dr();return o(D,a),r(D,()=>b(t.account.balance)),D})(),(()=>{var D=Dr();return o(D,d),r(D,()=>t.account.description),D})(),F(()=>F(()=>!t.account.isActive)()&&(()=>{var D=Dr();return D.style.setProperty("margin-top","0.5rem"),D.style.setProperty("padding","0.25rem 0.75rem"),D.style.setProperty("border-radius","9999px"),D.style.setProperty("font-size","0.75rem"),D.style.setProperty("font-weight","500"),D.style.setProperty("background","#ffebee"),D.style.setProperty("color","#d32f2f"),D.style.setProperty("text-align","center"),r(D,()=>e("common.inactive")),D})()),(()=>{var D=Dr();return o(D,n),r(D,u(Ae,{variant:"primary",size:"sm",onClick:()=>t.onViewDetails?.(t.account),get children(){return[F(()=>e("common.view"))," ",F(()=>e("accounts.accountDetails"))]}})),D})()]}})};var oa=k("<div><div><div><div></div><h3></h3></div></div><div><div></div><div>"),ia=k("<div>"),la=k("<button>"),aa=k("<div><h4> (<!>)"),sa=k("<div><div><div></div><div> â€¢ </div></div><div>");const ca=t=>{const{t:e}=He(),n=qn(),[i,l]=re(!0),c={"margin-bottom":"1rem"},a={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"1rem"},s={display:"flex","align-items":"center",gap:"1rem"},d={background:"none",border:"none",cursor:"pointer","font-size":"1.2rem",color:"var(--text-muted)",padding:"0.25rem","border-radius":"var(--border-radius-sm)",transition:"all 0.2s ease"},y={"font-size":"0.875rem","font-weight":"600",color:"var(--text-muted)","text-transform":"uppercase"},b={"font-size":"1.1rem","font-weight":"600",color:"var(--text-primary)",margin:"0"},E={"font-size":"1.25rem","font-weight":"600",color:"var(--primary-color)"},D={padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500","text-transform":"uppercase","letter-spacing":"0.5px"},I={"margin-left":"1rem","border-left":"2px solid var(--border-color)","padding-left":"1rem","margin-top":"1rem"},C={display:"flex","justify-content":"space-between","align-items":"center",padding:"0.75rem","margin-bottom":"0.5rem",background:"var(--background-color)","border-radius":"var(--border-radius-sm)",border:"1px solid var(--border-color)",cursor:"pointer",transition:"all 0.2s ease"},P={flex:"1"},x={"font-weight":"500","margin-bottom":"0.25rem"},h={"font-size":"0.875rem",color:"var(--text-muted)"},M={"font-weight":"600",color:"var(--primary-color)"},U={display:"flex",gap:"0.5rem"},j=ye=>({Asset:{bg:"#e8f5e8",color:"#2d7d32"},Liability:{bg:"#fff3e0",color:"#f57c00"},Equity:{bg:"#e3f2fd",color:"#1976d2"},Revenue:{bg:"#e8f5e8",color:"#388e3c"},Expense:{bg:"#ffebee",color:"#d32f2f"}})[ye]||{bg:"#f5f5f5",color:"#666"},ne=ye=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(ye),V=ye=>{t.onViewDetails?t.onViewDetails(ye):n(`/accounts/${ye.id}`)},le=()=>{t.onAddSubAccount&&t.onAddSubAccount(t.account)},ae=t.account.balance+t.account.subAccounts.reduce((ye,ie)=>ye+ie.balance,0),me=j(t.account.type);return u(Oe,{className:"account-hierarchy-card",style:c,get children(){return[(()=>{var ye=oa(),ie=ye.firstChild,X=ie.firstChild,p=X.firstChild,se=p.nextSibling,A=ie.nextSibling,m=A.firstChild,B=m.nextSibling;return o(ye,a),o(ie,s),r(ie,(()=>{var g=F(()=>t.account.subAccounts.length>0);return()=>g()&&(()=>{var _=la();return _.addEventListener("mouseleave",S=>S.target.style.background="none"),_.addEventListener("mouseenter",S=>S.target.style.background="var(--background-color)"),_.$$click=()=>l(!i()),o(_,d),r(_,()=>i()?"â–¼":"â–¶"),_})()})(),X),X.$$click=()=>V(t.account),X.style.setProperty("cursor","pointer"),o(p,y),r(p,()=>t.account.accountNumber),o(se,b),r(se,()=>t.account.name),A.style.setProperty("text-align","right"),o(m,E),r(m,()=>ne(ae)),r(B,()=>e(`accounts.types.${t.account.type.toLowerCase()}`)),z(g=>o(B,{...D,background:me.bg,color:me.color},g)),ye})(),(()=>{var ye=ia();return o(ye,U),r(ye,u(Ae,{variant:"secondary",size:"sm",onClick:()=>V(t.account),get children(){return[F(()=>e("common.view"))," ",F(()=>e("accounts.accountDetails"))]}}),null),r(ye,u(Ae,{variant:"outline",size:"sm",onClick:le,get children(){return[F(()=>e("common.add"))," ",F(()=>e("accounts.subAccounts"))]}}),null),ye})(),F(()=>F(()=>!!(i()&&t.account.subAccounts.length>0))()&&(()=>{var ye=aa(),ie=ye.firstChild,X=ie.firstChild,p=X.nextSibling;return p.nextSibling,o(ye,I),ie.style.setProperty("margin","0 0 1rem 0"),ie.style.setProperty("font-size","1rem"),ie.style.setProperty("color","var(--text-muted)"),r(ie,()=>e("accounts.subAccounts"),X),r(ie,()=>t.account.subAccounts.length,p),r(ye,()=>t.account.subAccounts.map(se=>(()=>{var A=sa(),m=A.firstChild,B=m.firstChild,g=B.nextSibling,_=g.firstChild,S=m.nextSibling;return A.addEventListener("mouseleave",w=>{w.currentTarget.style.background="var(--background-color)",w.currentTarget.style.transform="translateY(0)"}),A.addEventListener("mouseenter",w=>{w.currentTarget.style.background="var(--surface-color)",w.currentTarget.style.transform="translateY(-1px)"}),A.$$click=()=>V(se),o(A,C),o(m,P),o(B,x),r(B,()=>se.name),o(g,h),r(g,()=>se.accountNumber,_),r(g,()=>se.description,null),o(S,M),r(S,()=>ne(se.balance)),A})()),null),ye})())]}})};yt(["click"]);var da=k("<form><div>");const ua=t=>{const{t:e}=He(),[n,i]=re({accountNumber:"",name:"",type:"",category:"",description:"",balance:"0",isActive:"true"}),l=[{value:"Asset",label:e("accounts.types.asset")},{value:"Liability",label:e("accounts.types.liability")},{value:"Equity",label:e("accounts.types.equity")},{value:"Revenue",label:e("accounts.types.revenue")},{value:"Expense",label:e("accounts.types.expense")}],c=()=>{const b=n().type;return b?{Asset:[{value:"Current Assets",label:e("accounts.categories.currentAssets")},{value:"Fixed Assets",label:e("accounts.categories.fixedAssets")}],Liability:[{value:"Current Liabilities",label:e("accounts.categories.currentLiabilities")},{value:"Long-term Liabilities",label:e("accounts.categories.longTermLiabilities")}],Equity:[{value:"Owner's Equity",label:e("accounts.categories.ownersEquity")}],Revenue:[{value:"Operating Revenue",label:e("accounts.categories.operatingRevenue")}],Expense:[{value:"Operating Expenses",label:e("accounts.categories.operatingExpenses")}]}[b]||[]:[]},a=[{value:"true",label:e("common.active")},{value:"false",label:e("common.inactive")}],s={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},d=b=>{b.preventDefault();const E=n();if(!E.accountNumber||!E.name||!E.type||!E.category){alert(e("forms.requiredField"));return}if(et.accounts.find(C=>C.accountNumber===E.accountNumber)){alert(e("forms.duplicateAccountNumber"));return}const I={accountNumber:E.accountNumber,name:E.name,type:E.type,category:E.category,description:E.description,balance:parseFloat(E.balance)||0,isActive:E.isActive==="true"};et.addAccount(I),i({accountNumber:"",name:"",type:"",category:"",description:"",balance:"0",isActive:"true"}),t.onClose()},y=(b,E)=>{i(D=>{const I={...D,[b]:E};return b==="type"&&(I.category=""),I})};return u(Pt,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return e("accounts.addAccount")},get children(){var b=da(),E=b.firstChild;return b.addEventListener("submit",d),r(b,u(it,{get label(){return e("accounts.accountNumber")},get value(){return n().accountNumber},onChange:D=>y("accountNumber",D),get placeholder(){return e("accounts.accountNumber")},required:!0}),E),r(b,u(it,{get label(){return e("accounts.accountName")},get value(){return n().name},onChange:D=>y("name",D),get placeholder(){return e("accounts.accountName")},required:!0}),E),r(b,u(_t,{get label(){return e("accounts.accountType")},get value(){return n().type},onChange:D=>y("type",D),options:l,required:!0}),E),r(b,u(_t,{get label(){return e("accounts.category")},get value(){return n().category},onChange:D=>y("category",D),get options(){return c()},required:!0}),E),r(b,u(it,{get label(){return e("common.description")},get value(){return n().description},onChange:D=>y("description",D),get placeholder(){return e("common.description")}}),E),r(b,u(it,{get label(){return e("accounts.balance")},type:"number",get value(){return n().balance},onChange:D=>y("balance",D),get placeholder(){return e("accounts.balance")}}),E),r(b,u(_t,{get label(){return e("common.status")},get value(){return n().isActive},onChange:D=>y("isActive",D),options:a,required:!0}),E),o(E,s),r(E,u(Ae,{variant:"secondary",type:"button",get onClick(){return t.onClose},get children(){return e("common.cancel")}}),null),r(E,u(Ae,{variant:"primary",type:"submit",get children(){return e("accounts.addAccount")}}),null),b}})};var ya=k("<form><div>"),ma=k("<div><div></div><div> - </div><div> â€¢ ");const va=t=>{const{t:e}=He(),[n,i]=re({accountNumber:"",name:"",category:"",description:"",balance:"0",isActive:"true"}),l=()=>t.parentAccount?{Asset:[{value:"Current Assets",label:e("accounts.categories.currentAssets")},{value:"Fixed Assets",label:e("accounts.categories.fixedAssets")}],Liability:[{value:"Current Liabilities",label:e("accounts.categories.currentLiabilities")},{value:"Long-term Liabilities",label:e("accounts.categories.longTermLiabilities")}],Equity:[{value:"Owner's Equity",label:e("accounts.categories.ownersEquity")}],Revenue:[{value:"Operating Revenue",label:e("accounts.categories.operatingRevenue")}],Expense:[{value:"Operating Expenses",label:e("accounts.categories.operatingExpenses")}]}[t.parentAccount.type]||[]:[],c=[{value:"true",label:e("common.active")},{value:"false",label:e("common.inactive")}],a={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},s={background:"var(--background-color)",padding:"1rem","border-radius":"var(--border-radius-sm)","margin-bottom":"1.5rem",border:"1px solid var(--border-color)"},d={"font-size":"0.875rem","font-weight":"500",color:"var(--text-muted)","margin-bottom":"0.5rem"},y={"font-weight":"600",color:"var(--text-primary)"},b={"font-size":"0.875rem",color:"var(--text-secondary)"},E=P=>{P.preventDefault();const x=n();if(!x.accountNumber||!x.name||!x.category||!t.parentAccount){alert(e("forms.requiredField"));return}if(et.accounts.find(U=>U.accountNumber===x.accountNumber)){alert(e("forms.duplicateAccountNumber"));return}const M={accountNumber:x.accountNumber,name:x.name,type:t.parentAccount.type,category:x.category,description:x.description,balance:parseFloat(x.balance)||0,isActive:x.isActive==="true",parentAccountId:t.parentAccount.id};et.addAccount(M),i({accountNumber:"",name:"",category:"",description:"",balance:"0",isActive:"true"}),t.onClose()},D=(P,x)=>{i(h=>({...h,[P]:x}))},I=()=>{if(!t.parentAccount)return"";const P=t.parentAccount.accountNumber,h=et.getSubAccounts(t.parentAccount.id).length+1;return(parseInt(P)+h).toString()},C=()=>n().accountNumber===""&&t.parentAccount?I():n().accountNumber;return u(Pt,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return`${e("common.add")} ${e("accounts.subAccounts")}`},get children(){return[F(()=>F(()=>!!t.parentAccount)()&&(()=>{var P=ma(),x=P.firstChild,h=x.nextSibling,M=h.firstChild,U=h.nextSibling,j=U.firstChild;return o(P,s),o(x,d),r(x,()=>e("accounts.parentAccount")),o(h,y),r(h,()=>t.parentAccount.accountNumber,M),r(h,()=>t.parentAccount.name,null),o(U,b),r(U,()=>e(`accounts.types.${t.parentAccount.type.toLowerCase()}`),j),r(U,()=>t.parentAccount.category,null),P})()),(()=>{var P=ya(),x=P.firstChild;return P.addEventListener("submit",E),r(P,u(it,{get label(){return e("accounts.accountNumber")},get value(){return C()},onChange:h=>D("accountNumber",h),get placeholder(){return`${e("common.suggested")}: ${I()}`},required:!0}),x),r(P,u(it,{get label(){return e("accounts.accountName")},get value(){return n().name},onChange:h=>D("name",h),get placeholder(){return e("accounts.accountName")},required:!0}),x),r(P,u(_t,{get label(){return e("accounts.category")},get value(){return n().category},onChange:h=>D("category",h),get options(){return l()},required:!0}),x),r(P,u(it,{get label(){return e("common.description")},get value(){return n().description},onChange:h=>D("description",h),get placeholder(){return e("common.description")}}),x),r(P,u(it,{get label(){return e("accounts.balance")},type:"number",get value(){return n().balance},onChange:h=>D("balance",h),get placeholder(){return e("accounts.balance")}}),x),r(P,u(_t,{get label(){return e("common.status")},get value(){return n().isActive},onChange:h=>D("isActive",h),options:c,required:!0}),x),o(x,a),r(x,u(Ae,{variant:"secondary",type:"button",get onClick(){return t.onClose},get children(){return e("common.cancel")}}),null),r(x,u(Ae,{variant:"primary",type:"submit",get children(){return[F(()=>e("common.add"))," ",F(()=>e("accounts.subAccounts"))]}}),null),P})()]}})};var ga=k("<form><div>"),pa=k("<div>");const fa=t=>{const{t:e}=He(),[n,i]=re({accountNumber:"",name:"",type:"",category:"",description:"",balance:"0",isActive:"true"}),[l,c]=re(null);gr(()=>{t.account&&(i({accountNumber:t.account.accountNumber,name:t.account.name,type:t.account.type,category:t.account.category,description:t.account.description,balance:t.account.balance.toString(),isActive:t.account.isActive.toString()}),c(null))});const a=[{value:"Asset",label:e("accounts.types.asset")},{value:"Liability",label:e("accounts.types.liability")},{value:"Equity",label:e("accounts.types.equity")},{value:"Revenue",label:e("accounts.types.revenue")},{value:"Expense",label:e("accounts.types.expense")}],s=()=>{const I=n().type;return I?{Asset:[{value:"Current Assets",label:e("accounts.categories.currentAssets")},{value:"Fixed Assets",label:e("accounts.categories.fixedAssets")}],Liability:[{value:"Current Liabilities",label:e("accounts.categories.currentLiabilities")},{value:"Long-term Liabilities",label:e("accounts.categories.longTermLiabilities")}],Equity:[{value:"Owner's Equity",label:e("accounts.categories.ownersEquity")}],Revenue:[{value:"Operating Revenue",label:e("accounts.categories.operatingRevenue")}],Expense:[{value:"Operating Expenses",label:e("accounts.categories.operatingExpenses")}]}[I]||[]:[]},d=[{value:"true",label:e("common.active")},{value:"false",label:e("common.inactive")}],y={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},b=I=>{if(I.preventDefault(),c(null),!t.account)return;const C=n();if(!C.accountNumber||!C.name||!C.type||!C.category){c(e("forms.requiredField"));return}if(et.accounts.find(h=>h.accountNumber===C.accountNumber&&h.id!==t.account.id)){c(e("forms.duplicateAccountNumber"));return}const x={accountNumber:C.accountNumber,name:C.name,type:C.type,category:C.category,description:C.description,balance:parseFloat(C.balance)||0,isActive:C.isActive==="true"};try{et.updateAccount(t.account.id,x),t.onClose()}catch(h){c(h instanceof Error?h.message:e("forms.saveError"))}},E=()=>{if(!t.account)return;const I=et.canDeleteAccount(t.account.id);if(!I.canDelete){c(I.reason||e("forms.deleteError"));return}const C=e("forms.confirmDelete");if(confirm(C))try{et.deleteAccount(t.account.id),t.onClose()}catch(P){c(P instanceof Error?P.message:e("forms.deleteError"))}},D=(I,C)=>{i(P=>{const x={...P,[I]:C};return I==="type"&&(x.category=""),x}),l()&&c(null)};return t.account?u(Pt,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return e("accounts.editAccount")},get children(){var I=ga(),C=I.firstChild;return I.addEventListener("submit",b),r(I,u(it,{get label(){return e("accounts.accountNumber")},get value(){return n().accountNumber},onChange:P=>D("accountNumber",P),get placeholder(){return e("accounts.accountNumber")},required:!0}),C),r(I,u(it,{get label(){return e("accounts.accountName")},get value(){return n().name},onChange:P=>D("name",P),get placeholder(){return e("accounts.accountName")},required:!0}),C),r(I,u(_t,{get label(){return e("accounts.accountType")},get value(){return n().type},onChange:P=>D("type",P),options:a,required:!0}),C),r(I,u(_t,{get label(){return e("accounts.category")},get value(){return n().category},onChange:P=>D("category",P),get options(){return s()},required:!0}),C),r(I,u(it,{get label(){return e("common.description")},get value(){return n().description},onChange:P=>D("description",P),get placeholder(){return e("common.description")}}),C),r(I,u(it,{get label(){return e("accounts.balance")},type:"number",get value(){return n().balance},onChange:P=>D("balance",P),get placeholder(){return e("accounts.balance")}}),C),r(I,u(_t,{get label(){return e("common.status")},get value(){return n().isActive},onChange:P=>D("isActive",P),options:d,required:!0}),C),r(I,(()=>{var P=F(()=>!!l());return()=>P()&&(()=>{var x=pa();return x.style.setProperty("padding","1rem"),x.style.setProperty("border-radius","var(--border-radius-sm)"),x.style.setProperty("margin-top","1rem"),x.style.setProperty("background","#f8d7da"),x.style.setProperty("color","#721c24"),x.style.setProperty("border","1px solid #f5c6cb"),r(x,l),x})()})(),C),o(C,y),r(C,u(Ae,{variant:"outline",type:"button",onClick:E,style:{color:"#dc3545","border-color":"#dc3545","margin-right":"auto"},get children(){return e("accounts.deleteAccount")}}),null),r(C,u(Ae,{variant:"secondary",type:"button",get onClick(){return t.onClose},get children(){return e("common.cancel")}}),null),r(C,u(Ae,{variant:"primary",type:"submit",get children(){return e("common.save")}}),null),I}}):null};var ba=k("<div><div>âš ï¸</div><div></div><div></div><div>"),ha=k("<div><div></div><div></div><div>"),Sa=k("<div><button></button><button> (<!>)"),pn=k("<div>"),$a=k("<div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span>"),Pa=k("<div><div><div></div><div> â€¢ </div></div><div>");const xa=t=>{const{t:e}=He(),[n,i]=re("details"),[l,c]=re(!1),a=ze(()=>t.account?et.getAccountById(t.account.id)||t.account:null),s={display:"flex","justify-content":"space-between","align-items":"center",padding:"0.75rem 0","border-bottom":"1px solid var(--border-color)"},d={"font-weight":"500",color:"var(--text-muted)","font-size":"0.875rem"},y={"font-weight":"600",color:"var(--text-primary)"},b={"text-align":"center","margin-bottom":"2rem"},E={"font-size":"1.5rem","font-weight":"600",color:"var(--text-primary)",margin:"0.5rem 0"},D={"font-size":"2rem","font-weight":"700",color:"var(--primary-color)","margin-bottom":"0.5rem"},I={padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500","text-transform":"uppercase","letter-spacing":"0.5px","margin-bottom":"1rem"},C={display:"flex","border-bottom":"1px solid var(--border-color)","margin-bottom":"1.5rem"},P=me=>({padding:"0.75rem 1rem",background:"none",border:"none",cursor:"pointer","font-weight":"500",color:me?"var(--primary-color)":"var(--text-muted)","border-bottom":me?"2px solid var(--primary-color)":"2px solid transparent",transition:"all 0.2s ease"}),x={display:"flex","justify-content":"space-between","align-items":"center",padding:"1rem 0","border-bottom":"1px solid var(--border-color)"},h={flex:"1"},M={"font-size":"0.875rem",color:"var(--text-muted)"},U={"font-weight":"500","margin-bottom":"0.25rem"},j=me=>({"font-weight":"600",color:me==="debit"?"#4caf50":"#f44336"}),ne={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},V=me=>({Asset:{bg:"#e8f5e8",color:"#2d7d32"},Liability:{bg:"#fff3e0",color:"#f57c00"},Equity:{bg:"#e3f2fd",color:"#1976d2"},Revenue:{bg:"#e8f5e8",color:"#388e3c"},Expense:{bg:"#ffebee",color:"#d32f2f"}})[me]||{bg:"#f5f5f5",color:"#666"},le=me=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(me),ae=me=>new Date(me).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return u(Pt,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return e("accounts.accountDetails")},get children(){return[F(()=>F(()=>!a())()?(()=>{var me=ba(),ye=me.firstChild,ie=ye.nextSibling,X=ie.nextSibling,p=X.nextSibling;return me.style.setProperty("text-align","center"),me.style.setProperty("padding","3rem"),me.style.setProperty("color","var(--text-muted)"),ye.style.setProperty("font-size","1.5rem"),ye.style.setProperty("margin-bottom","1rem"),ie.style.setProperty("font-size","1.1rem"),ie.style.setProperty("margin-bottom","0.5rem"),r(ie,()=>e("common.error")),X.style.setProperty("font-size","0.875rem"),r(X,()=>e("common.noDataFound")),p.style.setProperty("margin-top","2rem"),r(p,u(Ae,{variant:"primary",get onClick(){return t.onClose},get children(){return e("common.close")}})),me})():(()=>{const me=ze(()=>V(a().type)),ye=ze(()=>et.getAccountTransactions(a().id));return[(()=>{var ie=ha(),X=ie.firstChild,p=X.nextSibling,se=p.nextSibling;return o(ie,b),o(X,E),r(X,()=>a().name),o(p,D),r(p,()=>le(a().balance)),r(se,()=>e(`accounts.types.${a().type.toLowerCase()}`)),z(A=>o(se,{...I,background:me().bg,color:me().color},A)),ie})(),(()=>{var ie=Sa(),X=ie.firstChild,p=X.nextSibling,se=p.firstChild,A=se.nextSibling;return A.nextSibling,o(ie,C),X.$$click=()=>i("details"),r(X,()=>e("accounts.accountDetails")),p.$$click=()=>i("transactions"),r(p,()=>e("accounts.transactions"),se),r(p,()=>ye().length,A),z(m=>{var B=P(n()==="details"),g=P(n()==="transactions");return m.e=o(X,B,m.e),m.t=o(p,g,m.t),m},{e:void 0,t:void 0}),ie})(),F(()=>F(()=>n()==="details")()&&(()=>{var ie=$a(),X=ie.firstChild,p=X.firstChild,se=p.nextSibling,A=X.nextSibling,m=A.firstChild,B=m.nextSibling,g=A.nextSibling,_=g.firstChild,S=_.nextSibling,w=g.nextSibling,de=w.firstChild,$=de.nextSibling,N=w.nextSibling,J=N.firstChild,H=J.nextSibling,q=N.nextSibling,Q=q.firstChild,ee=Q.nextSibling;return r(p,()=>e("accounts.accountNumber")),r(se,()=>a().accountNumber),r(m,()=>e("accounts.category")),r(B,()=>a().category),r(_,()=>e("common.description")),r(S,()=>a().description),r(de,()=>e("common.status")),r($,(()=>{var ce=F(()=>!!a().isActive);return()=>ce()?e("common.active"):e("common.inactive")})()),r(J,()=>e("accounts.createdDate")),r(H,()=>ae(a().createdDate)),r(Q,()=>e("accounts.lastModified")),r(ee,()=>ae(a().lastModified)),z(ce=>{var R=s,Y=d,ge=y,fe=s,Z=d,W=y,T=s,oe=d,te=y,pe=s,ve=d,v=y,f=s,K=d,G=y,O=s,ue=d,L=y;return ce.e=o(X,R,ce.e),ce.t=o(p,Y,ce.t),ce.a=o(se,ge,ce.a),ce.o=o(A,fe,ce.o),ce.i=o(m,Z,ce.i),ce.n=o(B,W,ce.n),ce.s=o(g,T,ce.s),ce.h=o(_,oe,ce.h),ce.r=o(S,te,ce.r),ce.d=o(w,pe,ce.d),ce.l=o(de,ve,ce.l),ce.u=o($,v,ce.u),ce.c=o(N,f,ce.c),ce.w=o(J,K,ce.w),ce.m=o(H,G,ce.m),ce.f=o(q,O,ce.f),ce.y=o(Q,ue,ce.y),ce.g=o(ee,L,ce.g),ce},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0}),ie})()),F(()=>F(()=>n()==="transactions")()&&(()=>{var ie=pn();return r(ie,(()=>{var X=F(()=>ye().length===0);return()=>X()?(()=>{var p=pn();return p.style.setProperty("text-align","center"),p.style.setProperty("color","var(--text-muted)"),p.style.setProperty("padding","2rem"),r(p,()=>e("common.noDataFound")),p})():ye().map(p=>(()=>{var se=Pa(),A=se.firstChild,m=A.firstChild,B=m.nextSibling,g=B.firstChild,_=A.nextSibling;return o(se,x),o(A,h),o(m,U),r(m,()=>p.description),o(B,M),r(B,()=>ae(p.date),g),r(B,()=>p.reference,null),r(_,()=>p.type==="debit"?"+":"-",null),r(_,()=>le(p.type==="debit"?p.debitAmount:p.creditAmount),null),z(S=>o(_,j(p.type),S)),se})())})()),ie})()),(()=>{var ie=pn();return o(ie,ne),r(ie,u(Ae,{variant:"secondary",get onClick(){return t.onClose},get children(){return e("common.close")}}),null),r(ie,u(Ae,{variant:"primary",onClick:()=>c(!0),get children(){return e("accounts.editAccount")}}),null),ie})()]})()),F(()=>F(()=>!!a())()&&u(fa,{get isOpen(){return l()},onClose:()=>{c(!1)},get account(){return a()}}))]}})};yt(["click"]);const Ca="https://qvamarkets.com/gql_api",[_a,oo]=re(!1),[wa,fn]=re(null);class ka{baseUrl;constructor(e=Ca){this.baseUrl=e}async request(e,n,i,l){oo(!0),fn(null);try{const c=n.startsWith("http")?n:`${this.baseUrl}${n}`,a={method:e,headers:{"Content-Type":"application/json",Accept:"application/json",...l}};i&&(e==="POST"||e==="PUT"||e==="PATCH")&&(a.body=JSON.stringify(i));const s=await fetch(c,a);if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const d=await s.json();if(d.errors&&d.errors.length>0)throw new Error(d.errors[0].message);return d.data||d}catch(c){const a=c instanceof Error?c.message:"Unknown error occurred";throw fn(a),c}finally{oo(!1)}}async graphql(e){return this.request("POST","",e)}async get(e,n){return this.request("GET",e,void 0,n)}async post(e,n,i){return this.request("POST",e,n,i)}async put(e,n,i){return this.request("PUT",e,n,i)}async patch(e,n,i){return this.request("PATCH",e,n,i)}async delete(e,n){return this.request("DELETE",e,void 0,n)}getLoadingState(){return _a()}getErrorState(){return wa()}clearError(){fn(null)}}const Yr=new ka,Un=`
  fragment AccountFields on Account {
    id
    accountNumber
    name
    type
    category
    description
    balance
    isActive
    parentAccountId
    createdDate
    lastModified
  }
`,Aa=`
  query GetAccountById($id: ID!) {
    account(id: $id) {
      ...AccountFields
    }
  }
  ${Un}
`,Ia=`
  mutation CreateAccount($input: CreateAccountInput!) {
    createAccount(input: $input) {
      ...AccountFields
    }
  }
  ${Un}
`,Ea=`
  mutation UpdateAccount($id: ID!, $input: UpdateAccountInput!) {
    updateAccount(id: $id, input: $input) {
      ...AccountFields
    }
  }
  ${Un}
`,Da=`
  mutation DeleteAccount($id: ID!) {
    deleteAccount(id: $id) {
      success
      message
    }
  }
`;class La{async getAccounts(e,n){try{if(jr.isFakeMode())return await Xn.getAll(e);const i=await an({query:"getAllYabaProducts",params:{businessId:"YB100423253156428"}});return console.log("Real API accounts response:",i),i?.accounts||[]}catch(i){if(console.error("Error fetching accounts:",i),jr.isHybridMode())return console.warn("Falling back to fake API for accounts"),await Xn.getAll(e);throw i}}async getAccountById(e){try{return(await Yr.graphql({query:Aa,variables:{id:e}})).account}catch(n){throw console.error("Error fetching account:",n),n}}async createAccount(e){try{return(await Yr.graphql({query:Ia,variables:{input:e}})).createAccount}catch(n){throw console.error("Error creating account:",n),n}}async updateAccount(e,n){try{return(await Yr.graphql({query:Ea,variables:{id:e,input:n}})).updateAccount}catch(i){throw console.error("Error updating account:",i),i}}async deleteAccount(e){try{return(await Yr.graphql({query:Da,variables:{id:e}})).deleteAccount}catch(n){throw console.error("Error deleting account:",n),n}}async getAccountsByType(e){return this.getAccounts({type:e})}async getAccountHierarchy(){const e=await this.getAccounts();return this.buildHierarchy(e)}buildHierarchy(e){const n=new Map,i=[];return e.forEach(l=>{n.set(l.id,{...l,subAccounts:[]})}),e.forEach(l=>{const c=n.get(l.id);if(l.parentAccountId){const a=n.get(l.parentAccountId);a&&(a.subAccounts=a.subAccounts||[],a.subAccounts.push(c))}else i.push(c)}),i}async getAccountBalance(e){const n=await this.getAccountById(e);return n?n.balance:0}async searchAccounts(e){return this.getAccounts({search:e})}}const Na=new La;var Ta=k("<div><h2></h2><div><span>:</span><button></button><button>"),Ba=k("<div><span>:"),io=k("<div>"),Ma=k("<button>");const Ra=()=>{const{t}=He(),[e,n]=re(!1),[i,l]=re(!1),[c,a]=re(!1),[s,d]=re(null),[y,b]=re(null),[E,D]=re("All"),[I,C]=re("hierarchy"),P=ae=>{d(ae),a(!0)},x=ae=>{b(ae),l(!0)},h=()=>E()==="All"?I()==="hierarchy"?et.getAccountHierarchy():et.accounts:I()==="hierarchy"?et.getAccountHierarchy().filter(ae=>ae.type===E()):et.getAccountsByType(E()),M={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(350px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"},U={display:"flex",gap:"1rem","margin-bottom":"2rem","align-items":"center"},j=ae=>({padding:"0.5rem 1rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)",background:ae?"var(--primary-color)":"var(--surface-color)",color:ae?"white":"var(--text-primary)",cursor:"pointer","font-weight":"500",transition:"all 0.2s ease"}),ne={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"2rem"},V={display:"flex",gap:"0.5rem","align-items":"center","margin-left":"auto","margin-right":"1rem"},le=ae=>({padding:"0.5rem 1rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)",background:ae?"var(--primary-color)":"var(--surface-color)",color:ae?"white":"var(--text-primary)",cursor:"pointer","font-weight":"500","font-size":"0.875rem",transition:"all 0.2s ease"});return u(zt,{get title(){return t("accounts.title")},get children(){return[u(ea,{}),(()=>{var ae=Ta(),me=ae.firstChild,ye=me.nextSibling,ie=ye.firstChild,X=ie.firstChild,p=ie.nextSibling,se=p.nextSibling;return o(ae,ne),me.style.setProperty("margin","0"),me.style.setProperty("font-size","1.5rem"),r(me,()=>t("accounts.title")),o(ye,V),ie.style.setProperty("font-weight","500"),ie.style.setProperty("color","var(--text-muted)"),ie.style.setProperty("font-size","0.875rem"),r(ie,()=>t("common.view"),X),p.$$click=()=>C("hierarchy"),r(p,()=>t("accounts.accountHierarchy")),se.$$click=()=>{C("flat"),Na.getAccounts()},r(se,()=>t("common.all")),r(ae,u(Ae,{variant:"primary",onClick:()=>n(!0),get children(){return t("accounts.addAccount")}}),null),z(A=>{var m=le(I()==="hierarchy"),B=le(I()==="flat");return A.e=o(p,m,A.e),A.t=o(se,B,A.t),A},{e:void 0,t:void 0}),ae})(),(()=>{var ae=Ba(),me=ae.firstChild,ye=me.firstChild;return o(ae,U),me.style.setProperty("font-weight","500"),me.style.setProperty("color","var(--text-muted)"),r(me,()=>t("common.filter"),ye),r(ae,()=>[t("common.all"),t("accounts.types.asset"),t("accounts.types.liability"),t("accounts.types.equity"),t("accounts.types.revenue"),t("accounts.types.expense")].map((ie,X)=>{const se=["All","Asset","Liability","Equity","Revenue","Expense"][X];return(()=>{var A=Ma();return A.$$click=()=>D(se),r(A,ie),z(m=>o(A,j(E()===se),m)),A})()}),null),ae})(),(()=>{var ae=io();return r(ae,(()=>{var me=F(()=>I()==="hierarchy");return()=>me()?h().map(ye=>u(ca,{account:ye,onAddSubAccount:x,onViewDetails:P})):h().map(ye=>u(na,{account:ye,onViewDetails:P}))})()),z(me=>o(ae,I()==="hierarchy"?{display:"flex","flex-direction":"column",gap:"1rem"}:M,me)),ae})(),F(()=>F(()=>h().length===0)()&&(()=>{var ae=io();return ae.style.setProperty("text-align","center"),ae.style.setProperty("color","var(--text-muted)"),ae.style.setProperty("padding","3rem"),ae.style.setProperty("font-size","1.1rem"),r(ae,()=>t("common.noDataFound")),ae})()),u(ua,{get isOpen(){return e()},onClose:()=>n(!1)}),u(va,{get isOpen(){return i()},onClose:()=>l(!1),get parentAccount(){return y()}}),u(xa,{get isOpen(){return c()},onClose:()=>a(!1),get account(){return s()}})]}})};yt(["click"]);var Oa=k("<div><h2>"),xr=k("<div>"),ja=k("<div><div><div></div><h1></h1><div></div></div><div>"),za=k("<div><button></button><button> (<!>)"),Wr=k("<div><span></span><span>"),Fa=k("<p>"),qa=k("<div><div></div><div>"),Ua=k("<div><div><div></div><div> â€¢ </div></div><div>");const Va=()=>{const{t}=He(),e=Gi(),n=qn(),[i,l]=re(null),[c,a]=re("overview");_r(()=>{const p=et.getAccountById(e.id);p?l(p):n("/accounts")});const s={display:"flex","align-items":"center",gap:"0.5rem","margin-bottom":"1rem"},d={display:"flex","align-items":"center",gap:"1rem","margin-bottom":"2rem"},y={"font-size":"1rem","font-weight":"600",color:"var(--text-muted)","text-transform":"uppercase"},b={"font-size":"2.5rem","font-weight":"700",color:"var(--primary-color)"},E={padding:"0.5rem 1rem","border-radius":"9999px","font-size":"0.875rem","font-weight":"500","text-transform":"uppercase","letter-spacing":"0.5px"},D={display:"flex","border-bottom":"1px solid var(--border-color)","margin-bottom":"2rem"},I=p=>({padding:"1rem 2rem",background:"none",border:"none",cursor:"pointer","font-weight":"500",color:p?"var(--primary-color)":"var(--text-muted)","border-bottom":p?"2px solid var(--primary-color)":"2px solid transparent",transition:"all 0.2s ease"}),C={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"},P={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem"},x={display:"flex","justify-content":"space-between","align-items":"center",padding:"0.75rem 0","border-bottom":"1px solid var(--border-color)"},h={"font-weight":"500",color:"var(--text-muted)"},M={"font-weight":"600",color:"var(--text-primary)"},U={display:"flex","justify-content":"space-between","align-items":"center",padding:"1rem 0","border-bottom":"1px solid var(--border-color)"},j={flex:"1"},ne={"font-weight":"500","margin-bottom":"0.25rem"},V={"font-size":"0.875rem",color:"var(--text-muted)"},le=p=>({"font-weight":"600",color:p==="debit"?"#4caf50":"#f44336"});if(!i())return u(zt,{get title(){return t("accounts.accountDetails")},get children(){var p=Oa(),se=p.firstChild;return p.style.setProperty("text-align","center"),p.style.setProperty("padding","3rem"),r(se,()=>t("common.error")),r(p,u(Ae,{variant:"primary",onClick:()=>n("/accounts"),get children(){return[F(()=>t("common.back"))," ",F(()=>t("navigation.accounts"))]}}),null),p}});const ae=p=>({Asset:{bg:"#e8f5e8",color:"#2d7d32"},Liability:{bg:"#fff3e0",color:"#f57c00"},Equity:{bg:"#e3f2fd",color:"#1976d2"},Revenue:{bg:"#e8f5e8",color:"#388e3c"},Expense:{bg:"#ffebee",color:"#d32f2f"}})[p]||{bg:"#f5f5f5",color:"#666"},me=p=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(p),ye=p=>new Date(p).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),ie=ae(i().type),X=et.getAccountTransactions(i().id);return u(zt,{get title(){return i().name},get children(){return[(()=>{var p=xr();return o(p,s),r(p,u(Ae,{variant:"secondary",onClick:()=>n("/accounts"),get children(){return["â† ",F(()=>t("common.back"))," ",F(()=>t("navigation.accounts"))]}})),p})(),(()=>{var p=ja(),se=p.firstChild,A=se.firstChild,m=A.nextSibling,B=m.nextSibling,g=se.nextSibling;return o(p,d),o(A,y),r(A,()=>i().accountNumber),m.style.setProperty("margin","0.5rem 0"),m.style.setProperty("font-size","2rem"),r(m,()=>i().name),o(B,b),r(B,()=>me(i().balance)),r(g,()=>i().type),z(_=>o(g,{...E,background:ie.bg,color:ie.color},_)),p})(),(()=>{var p=za(),se=p.firstChild,A=se.nextSibling,m=A.firstChild,B=m.nextSibling;return B.nextSibling,o(p,D),se.$$click=()=>a("overview"),r(se,()=>t("dashboard.overview")),A.$$click=()=>a("transactions"),r(A,()=>t("accounts.transactions"),m),r(A,()=>X.length,B),z(g=>{var _=I(c()==="overview"),S=I(c()==="transactions");return g.e=o(se,_,g.e),g.t=o(A,S,g.t),g},{e:void 0,t:void 0}),p})(),F(()=>F(()=>c()==="overview")()&&(()=>{var p=qa(),se=p.firstChild,A=se.nextSibling;return o(se,C),r(se,u(Oe,{get title(){return t("accounts.balance")},get subtitle(){return t("dashboard.overview")},get children(){var m=xr();return m.style.setProperty("font-size","1.5rem"),m.style.setProperty("font-weight","600"),m.style.setProperty("color","var(--primary-color)"),r(m,()=>me(i().balance)),m}}),null),r(se,u(Oe,{get title(){return t("accounts.accountType")},get subtitle(){return t("accounts.category")},get children(){var m=xr();return m.style.setProperty("font-size","1.5rem"),m.style.setProperty("font-weight","600"),m.style.setProperty("color","var(--primary-color)"),r(m,()=>t(`accounts.types.${i().type.toLowerCase()}`)),m}}),null),r(se,u(Oe,{get title(){return t("common.status")},get subtitle(){return t("accounts.accountDetails")},get children(){var m=xr();return m.style.setProperty("font-size","1.5rem"),m.style.setProperty("font-weight","600"),r(m,(()=>{var B=F(()=>!!i().isActive);return()=>B()?t("common.active"):t("common.inactive")})()),z(B=>(B=i().isActive?"#4caf50":"#f44336")!=null?m.style.setProperty("color",B):m.style.removeProperty("color")),m}}),null),r(se,u(Oe,{get title(){return t("accounts.transactions")},get subtitle(){return t("common.total")},get children(){var m=xr();return m.style.setProperty("font-size","1.5rem"),m.style.setProperty("font-weight","600"),m.style.setProperty("color","var(--primary-color)"),r(m,()=>X.length),m}}),null),o(A,P),r(A,u(Oe,{get title(){return t("accounts.accountDetails")},get subtitle(){return t("dashboard.overview")},get children(){return[(()=>{var m=Wr(),B=m.firstChild,g=B.nextSibling;return r(B,()=>t("accounts.accountNumber")),r(g,()=>i().accountNumber),z(_=>{var S=x,w=h,de=M;return _.e=o(m,S,_.e),_.t=o(B,w,_.t),_.a=o(g,de,_.a),_},{e:void 0,t:void 0,a:void 0}),m})(),(()=>{var m=Wr(),B=m.firstChild,g=B.nextSibling;return r(B,()=>t("accounts.category")),r(g,()=>i().category),z(_=>{var S=x,w=h,de=M;return _.e=o(m,S,_.e),_.t=o(B,w,_.t),_.a=o(g,de,_.a),_},{e:void 0,t:void 0,a:void 0}),m})(),(()=>{var m=Wr(),B=m.firstChild,g=B.nextSibling;return r(B,()=>t("common.date")),r(g,()=>ye(i().createdDate)),z(_=>{var S=x,w=h,de=M;return _.e=o(m,S,_.e),_.t=o(B,w,_.t),_.a=o(g,de,_.a),_},{e:void 0,t:void 0,a:void 0}),m})(),(()=>{var m=Wr(),B=m.firstChild,g=B.nextSibling;return r(B,()=>t("common.date")),r(g,()=>ye(i().lastModified)),z(_=>{var S=x,w=h,de=M;return _.e=o(m,S,_.e),_.t=o(B,w,_.t),_.a=o(g,de,_.a),_},{e:void 0,t:void 0,a:void 0}),m})()]}}),null),r(A,u(Oe,{get title(){return t("common.description")},get subtitle(){return t("accounts.accountDetails")},get children(){var m=Fa();return m.style.setProperty("margin","0"),m.style.setProperty("color","var(--text-secondary)"),r(m,()=>i().description||t("common.noDataFound")),m}}),null),p})()),F(()=>F(()=>c()==="transactions")()&&u(Oe,{get title(){return t("accounts.accountHistory")},get subtitle(){return t("accounts.transactions")},get children(){return F(()=>X.length===0)()?(()=>{var p=xr();return p.style.setProperty("text-align","center"),p.style.setProperty("color","var(--text-muted)"),p.style.setProperty("padding","2rem"),r(p,()=>t("common.noDataFound")),p})():X.map(p=>(()=>{var se=Ua(),A=se.firstChild,m=A.firstChild,B=m.nextSibling,g=B.firstChild,_=A.nextSibling;return o(se,U),o(A,j),o(m,ne),r(m,()=>p.description),o(B,V),r(B,()=>ye(p.date),g),r(B,()=>p.reference,null),r(_,()=>p.type==="debit"?"+":"-",null),r(_,()=>me(p.type==="debit"?p.debitAmount:p.creditAmount),null),z(S=>o(_,le(p.type),S)),se})())}}))]}})};yt(["click"]);var Ya=k("<div><div><h1></h1><p> </p></div><div><input type=date>"),Yt=k("<div><span></span><span>"),Wa=k("<div><div></div><div>"),Ha=k("<div><div><div></div><div></div></div><div><div></div><div></div></div><div><div></div><div>"),Ga=k("<div><div> (<!> = <!> + <!>)</div><div> = "),Ja=k("<span>(<!>: <!>)");const Qa=()=>{const{t}=He(),[e,n]=re(new Date().toISOString().split("T")[0]),[i,l]=re(0),[c,a]=re(0),[s,d]=re(0);_r(()=>{y()});const y=()=>{const C=et.getAccountsByType("Asset"),P=et.getAccountsByType("Liability"),x=et.getAccountsByType("Equity"),h=C.reduce((j,ne)=>j+ne.balance,0),M=P.reduce((j,ne)=>j+ne.balance,0),U=x.reduce((j,ne)=>j+ne.balance,0);l(h),a(M),d(U)},b=C=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(C),E={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"2rem"},D={"margin-bottom":"2rem"},I={"font-weight":"bold","font-size":"1.1rem","border-top":"2px solid var(--border-color)","padding-top":"0.5rem","margin-top":"1rem"};return u(zt,{get title(){return t("balanceSheet.title")},get children(){return[(()=>{var C=Ya(),P=C.firstChild,x=P.firstChild,h=x.nextSibling,M=h.firstChild,U=P.nextSibling,j=U.firstChild;return o(C,E),x.style.setProperty("margin","0"),r(x,()=>t("balanceSheet.title")),h.style.setProperty("margin","0.5rem 0 0 0"),h.style.setProperty("color","var(--text-muted)"),r(h,()=>t("balanceSheet.asOf"),M),r(h,()=>new Date(e()).toLocaleDateString(),null),U.style.setProperty("display","flex"),U.style.setProperty("gap","1rem"),j.addEventListener("change",ne=>n(ne.target.value)),j.style.setProperty("padding","0.5rem"),j.style.setProperty("border","1px solid var(--border-color)"),j.style.setProperty("border-radius","var(--border-radius-sm)"),r(U,u(Ae,{variant:"primary",onClick:y,get children(){return t("balanceSheet.generateReport")}}),null),z(()=>j.value=e()),C})(),(()=>{var C=Wa(),P=C.firstChild,x=P.nextSibling;return C.style.setProperty("display","grid"),C.style.setProperty("grid-template-columns","1fr 1fr"),C.style.setProperty("gap","2rem"),r(P,u(Oe,{get title(){return t("balanceSheet.assets")},style:D,get children(){return[(()=>{var h=Yt(),M=h.firstChild,U=M.nextSibling;return h.style.setProperty("display","flex"),h.style.setProperty("justify-content","space-between"),h.style.setProperty("align-items","center"),r(M,()=>t("balanceSheet.currentAssets")),r(U,()=>b(i()*.6)),h})(),(()=>{var h=Yt(),M=h.firstChild,U=M.nextSibling;return h.style.setProperty("display","flex"),h.style.setProperty("justify-content","space-between"),h.style.setProperty("align-items","center"),r(M,()=>t("balanceSheet.nonCurrentAssets")),r(U,()=>b(i()*.4)),h})(),(()=>{var h=Yt(),M=h.firstChild,U=M.nextSibling;return r(M,()=>t("balanceSheet.totalAssets")),r(U,()=>b(i())),z(j=>o(h,{...I,display:"flex","justify-content":"space-between"},j)),h})()]}})),r(x,u(Oe,{get title(){return t("balanceSheet.liabilities")},style:D,get children(){return[(()=>{var h=Yt(),M=h.firstChild,U=M.nextSibling;return h.style.setProperty("display","flex"),h.style.setProperty("justify-content","space-between"),h.style.setProperty("align-items","center"),r(M,()=>t("balanceSheet.currentLiabilities")),r(U,()=>b(c()*.7)),h})(),(()=>{var h=Yt(),M=h.firstChild,U=M.nextSibling;return h.style.setProperty("display","flex"),h.style.setProperty("justify-content","space-between"),h.style.setProperty("align-items","center"),r(M,()=>t("balanceSheet.nonCurrentLiabilities")),r(U,()=>b(c()*.3)),h})(),(()=>{var h=Yt(),M=h.firstChild,U=M.nextSibling;return r(M,()=>t("balanceSheet.totalLiabilities")),r(U,()=>b(c())),z(j=>o(h,{...I,display:"flex","justify-content":"space-between"},j)),h})()]}}),null),r(x,u(Oe,{get title(){return t("balanceSheet.equity")},get children(){return[(()=>{var h=Yt(),M=h.firstChild,U=M.nextSibling;return h.style.setProperty("display","flex"),h.style.setProperty("justify-content","space-between"),h.style.setProperty("align-items","center"),r(M,()=>t("balanceSheet.commonStock")),r(U,()=>b(s()*.8)),h})(),(()=>{var h=Yt(),M=h.firstChild,U=M.nextSibling;return h.style.setProperty("display","flex"),h.style.setProperty("justify-content","space-between"),h.style.setProperty("align-items","center"),r(M,()=>t("balanceSheet.retainedEarnings")),r(U,()=>b(s()*.2)),h})(),(()=>{var h=Yt(),M=h.firstChild,U=M.nextSibling;return r(M,()=>t("balanceSheet.totalEquity")),r(U,()=>b(s())),z(j=>o(h,{...I,display:"flex","justify-content":"space-between"},j)),h})()]}}),null),C})(),u(Oe,{get title(){return t("dashboard.overview")},style:{"margin-top":"2rem"},get children(){return[(()=>{var C=Ha(),P=C.firstChild,x=P.firstChild,h=x.nextSibling,M=P.nextSibling,U=M.firstChild,j=U.nextSibling,ne=M.nextSibling,V=ne.firstChild,le=V.nextSibling;return C.style.setProperty("display","grid"),C.style.setProperty("grid-template-columns","repeat(3, 1fr)"),C.style.setProperty("gap","2rem"),P.style.setProperty("text-align","center"),x.style.setProperty("font-size","0.875rem"),x.style.setProperty("color","var(--text-muted)"),x.style.setProperty("margin-bottom","0.5rem"),r(x,()=>t("balanceSheet.totalAssets")),h.style.setProperty("font-size","1.5rem"),h.style.setProperty("font-weight","bold"),h.style.setProperty("color","var(--primary-color)"),r(h,()=>b(i())),M.style.setProperty("text-align","center"),U.style.setProperty("font-size","0.875rem"),U.style.setProperty("color","var(--text-muted)"),U.style.setProperty("margin-bottom","0.5rem"),r(U,()=>t("balanceSheet.totalLiabilities")),j.style.setProperty("font-size","1.5rem"),j.style.setProperty("font-weight","bold"),j.style.setProperty("color","#f44336"),r(j,()=>b(c())),ne.style.setProperty("text-align","center"),V.style.setProperty("font-size","0.875rem"),V.style.setProperty("color","var(--text-muted)"),V.style.setProperty("margin-bottom","0.5rem"),r(V,()=>t("balanceSheet.totalEquity")),le.style.setProperty("font-size","1.5rem"),le.style.setProperty("font-weight","bold"),le.style.setProperty("color","#4caf50"),r(le,()=>b(s())),C})(),(()=>{var C=Ga(),P=C.firstChild,x=P.firstChild,h=x.nextSibling,M=h.nextSibling,U=M.nextSibling,j=U.nextSibling,ne=j.nextSibling;ne.nextSibling;var V=P.nextSibling,le=V.firstChild;return C.style.setProperty("margin-top","2rem"),C.style.setProperty("text-align","center"),P.style.setProperty("font-size","0.875rem"),P.style.setProperty("color","var(--text-muted)"),P.style.setProperty("margin-bottom","0.5rem"),r(P,()=>t("common.total"),x),r(P,()=>t("balanceSheet.totalAssets"),h),r(P,()=>t("balanceSheet.totalLiabilities"),U),r(P,()=>t("balanceSheet.totalEquity"),ne),V.style.setProperty("font-size","1.2rem"),V.style.setProperty("font-weight","bold"),r(V,()=>b(i()),le),r(V,()=>b(c()+s()),null),r(V,(()=>{var ae=F(()=>Math.abs(i()-(c()+s()))>.01);return()=>ae()&&(()=>{var me=Ja(),ye=me.firstChild,ie=ye.nextSibling,X=ie.nextSibling,p=X.nextSibling;return p.nextSibling,me.style.setProperty("font-size","0.875rem"),me.style.setProperty("color","#f44336"),me.style.setProperty("display","block"),r(me,()=>t("common.error"),ie),r(me,()=>b(i()-(c()+s())),p),me})()})(),null),z(ae=>(ae=Math.abs(i()-(c()+s()))<.01?"#4caf50":"#f44336")!=null?V.style.setProperty("color",ae):V.style.removeProperty("color")),C})()]}})]}})};yt(["click"]);const Ka=[{id:"YY_8801",code:"YY_8801",name:"YABA SUR",bussinesId:"YB100423253156428",type:"store",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8802",name:"CENTER",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8803",name:"BISONET",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8804",name:"IRVIN",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8805",name:"KATTY",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8814",name:"YABASUR OR",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8816",name:"YABA GLOBAL",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8818",name:"YABASURAUSTIN",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8844",name:"YABANEBRASKA",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8847",name:"YABAOFICINA AZ",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_3251",name:"YABA FASHION",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_32",name:"YABA MESQUITE",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_33",name:"YABASUR ARIZONA",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8635",name:"FASHION MESQUITE",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8665",name:"IRVIN FASHION",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8901",name:"ALMACEN CENTRAL YABA",bussinesId:"YB100423253156428",type:"warehouse",address:"123 Industrial Dr, City, State 12345",isActive:!0,createdDate:"2024-01-01"}],Za=[{id:"1",name:'MacBook Pro 16"',price:2399,quantity:75,category:"Electronics",description:"Apple MacBook Pro 16-inch with M2 Pro chip",sku:"MBP-16-M2P",supplier:"Apple Inc.",minStock:10,location:"Warehouse A",lastUpdated:"2024-01-15"},{id:"2",name:'Dell Monitor 27"',price:299,quantity:35,category:"Electronics",description:"Dell 27-inch 4K UHD Monitor",sku:"DELL-MON-27-4K",supplier:"Dell Technologies",minStock:15,location:"Warehouse B",lastUpdated:"2024-01-14"},{id:"3",name:"Wireless Mouse",price:49.99,quantity:12,category:"Accessories",description:"Ergonomic wireless mouse with precision tracking",sku:"MOUSE-WL-001",supplier:"Logitech",minStock:25,location:"Warehouse A",lastUpdated:"2024-01-13"}],Hr=()=>{const t=new Map;return Mt().forEach(e=>{const n=`${e.productId}-${e.locationId}`;let i=t.get(n);i||(i={id:n,productId:e.productId,locationId:e.locationId,quantity:0,reservedQuantity:0,availableQuantity:0,averageCost:0,lastMovementDate:e.createdDate,lastMovementType:e.movementType},t.set(n,i)),e.movementType==="in"||e.movementType==="transfer"?(e.locationId===e.toLocationId||e.movementType==="in")&&(i.quantity+=e.quantity*1):e.movementType==="out"?i.quantity-=e.quantity*1:e.movementType==="adjustment"&&(i.quantity=e.quantity*1),new Date(e.createdDate)>new Date(i.lastMovementDate)&&(i.lastMovementDate=e.createdDate,i.lastMovementType=e.movementType),i.averageCost=e.unitCost*1,i.availableQuantity=i.quantity*1-i.reservedQuantity*1}),Array.from(t.values())},[cr,lo]=re([]),[dr,ao]=re(Ka),[Mt,Gr]=re([]),[tr,Br]=re([]),Xa=()=>{const t=new Map;return Mt().forEach(e=>{const n=`${e.productId}-${e.locationId}`;let i=t.get(n);i||(i={id:n,productId:e.productId,locationId:e.locationId,quantity:0,reservedQuantity:0,availableQuantity:0,averageCost:0,lastMovementDate:e.createdDate,lastMovementType:e.movementType},t.set(n,i)),e.movementType==="in"||e.movementType==="transfer"?(e.locationId===e.toLocationId||e.movementType==="in")&&(i.quantity+=e.quantity*1):e.movementType==="out"?i.quantity-=e.quantity*1:e.movementType==="adjustment"&&(i.quantity=e.quantity*1),new Date(e.createdDate)>new Date(i.lastMovementDate)&&(i.lastMovementDate=e.createdDate,i.lastMovementType=e.movementType),i.averageCost=e.unitCost*1,i.availableQuantity=i.quantity*1-i.reservedQuantity*1}),Array.from(t.values())};Br(Xa());const[Jr,bn]=re(Za),De={get products(){return cr()},get locations(){return dr()},get movements(){return Mt()},get stockLevels(){return tr()},getProductById:t=>cr().find(e=>e.id===t),getProductsBySku:t=>cr().filter(e=>e.sku.toLowerCase().includes(t.toLowerCase())),getProductsByCategory:t=>cr().filter(e=>e.category===t),getActiveProducts:()=>cr().filter(t=>t.isActive),getLocationById:t=>dr().find(e=>e.id===t),getLocationsByType:t=>dr().filter(e=>e.type===t),getActiveLocations:()=>dr().filter(t=>t.isActive),getMovementsByProduct:t=>Mt().filter(e=>e.productId===t),updMovements:t=>{Gr([...t]),Br(Hr())},getMovementsByLocation:t=>Mt().filter(e=>e.locationId===t),getMovementsByDateRange:(t,e)=>Mt().filter(n=>n.createdDate>=t&&n.createdDate<=e),getStockByProduct:t=>tr().filter(e=>e.productId===t),getStockByLocation:t=>tr().filter(e=>e.locationId===t),getStockByProductAndLocation:(t,e)=>tr().find(n=>n.productId===t&&n.locationId===e),getTotalStockByProduct:t=>tr().filter(e=>e.productId===t).reduce((e,n)=>e*1+n.quantity*1,0),getLastLocationByProduct:t=>{const e=Mt().filter(n=>n.productId===t).sort((n,i)=>new Date(i.createdDate).getTime()-new Date(n.createdDate).getTime());if(e.length>0)return dr().find(n=>n.id===e[0].locationId)},getLowStockProducts:()=>(cr()||[])?.map(t=>{const e=tr().filter(n=>n.productId===t.id).reduce((n,i)=>n+i.quantity,0);return{...t,currentStock:e}}).filter(t=>t.currentStock<=t.minStockLevel),addInventoryMovement:t=>{const e={...t,id:`mov-${Date.now()}`,createdDate:new Date().toISOString()};Gr(n=>[...n,e]),Br(Hr())},addBulkInventoryMovements:t=>{const e=[],n=[],i=new Date().toISOString(),l=dr().find(a=>a.id===t.locationId);if(!l)return{success:!1,errors:["Invalid location"]};let c;if(t.movementType==="transfer"){if(!t.fromLocationId)return{success:!1,errors:["From location required for transfers"]};if(c=dr().find(a=>a.id===t.fromLocationId),!c)return{success:!1,errors:["Invalid from location"]};if(t.fromLocationId===t.locationId)return{success:!1,errors:["From and to locations cannot be the same"]}}return t.items.forEach((a,s)=>{const d=cr().find(D=>D.id===a.productId);if(!d){e.push(`Item ${s+1}: Product not found`);return}if(a.quantity<=0){e.push(`Item ${s+1}: Quantity must be greater than 0`);return}if(t.movementType==="out"){const D=tr().filter(I=>I.productId===a.productId&&I.locationId===t.locationId).reduce((I,C)=>I+C.quantity,0);if(a.quantity>D){e.push(`Item ${s+1}: Insufficient stock. Available: ${D}, Requested: ${a.quantity}`);return}}if(t.movementType==="transfer"){const D=tr().filter(I=>I.productId===a.productId&&I.locationId===t.fromLocationId).reduce((I,C)=>I+C.quantity,0);if(a.quantity>D){e.push(`Item ${s+1}: Insufficient stock at ${c?.name}. Available: ${D}, Requested: ${a.quantity}`);return}}const y=a.unitCost||d.unitCost,b=a.quantity*y,E={id:`mov-${Date.now()}-${s}`,productId:d.id,productName:d.name,productSku:d.sku,locationId:t.locationId,locationName:l.name,movementType:t.movementType,quantity:a.quantity,unitCost:y,totalCost:b,minStock:10,referenceNumber:t.referenceNumber,notes:a.notes||t.generalNotes||"",createdBy:t.createdBy,createdDate:i,invoiceId:t.invoiceId,fromLocationId:t.fromLocationId,fromLocationName:c?.name};if(n.push(E),t.movementType==="transfer"&&c){const D={id:`mov-${Date.now()}-${s}-out`,productId:d.id,productName:d.name,productSku:d.sku,locationId:t.fromLocationId,locationName:c.name,movementType:"out",quantity:a.quantity,unitCost:y,totalCost:b,minStock:10,referenceNumber:t.referenceNumber,notes:`Transfer to ${l.name}`+(a.notes?` - ${a.notes}`:""),createdBy:t.createdBy,createdDate:i,invoiceId:t.invoiceId,toLocationId:t.locationId,toLocationName:l.name};n.push(D)}}),e.length>0?{success:!1,errors:e}:(Gr(a=>[...a,...n]),Br(Hr()),{success:!0,errors:[]})},getMovementsByInvoice:t=>Mt().filter(e=>e.invoiceId===t),getInvoiceSummary:t=>{const e=Mt().filter(c=>c.invoiceId===t);if(e.length===0)return null;const n=e.reduce((c,a)=>c+a.totalCost,0),i=new Set(e.map(c=>c.productId)).size,l=e[0];return{invoiceId:t,referenceNumber:l.referenceNumber,movementType:l.movementType,location:l.locationName,fromLocation:l.fromLocationName,productCount:i,totalItems:e.reduce((c,a)=>c+a.quantity,0),totalValue:n,createdDate:l.createdDate,createdBy:l.createdBy}},addProduct:t=>{const e={...t,id:`prod-${Date.now()}`,createdDate:new Date().toISOString(),lastModified:new Date().toISOString()};lo(n=>[...n,e])},addLocation:t=>{const e={...t,id:`loc-${Date.now()}`,createdDate:new Date().toISOString()};ao(n=>[...n,e])},updateProduct:(t,e)=>{lo(n=>n.map(i=>i.id===t?{...i,...e,lastModified:new Date().toISOString()}:i))},updateLocation:(t,e)=>{ao(n=>n.map(i=>i.id===t?{...i,...e}:i))},updateMovement:(t,e)=>{Gr(n=>n.map(i=>i.id===t?{...i,...e,lastModified:new Date().toISOString()}:i)),Br(Hr())},get inventory(){return Jr()},addItem(t){const e={...t,id:Date.now().toString(),lastUpdated:new Date().toISOString().split("T")[0]};return bn([...Jr(),e]),e},updateItem(t,e){bn(Jr().map(n=>n.id===t?{...n,...e,lastUpdated:new Date().toISOString().split("T")[0]}:n))},deleteItem(t){bn(Jr().filter(e=>e.id!==t))},getItemById(t){return Mt().find(e=>e.id===t)},getLowStockItems(){return Mt().filter(t=>t.quantity*1<=t.minStock*1)},getTotalValue(){return Mt().reduce((t,e)=>t*1+e.unitCost*1*e.quantity*1,0)}};var so=k("<div>"),es=k("<div><div><input type=text autocomplete=off>"),ts=k("<button type=button>+"),rs=k("<div><div><div><div></div><div><span>: </span><span>â€¢</span><span></span><span>â€¢</span><span></span></div></div><div><div> </div><div>");const Qo=t=>{const{t:e}=He(),[n,i]=re(!1),[l,c]=re(""),[a,s]=re(-1),d=ze(()=>t.value?De.getProductById(t.value):null),y=ze(()=>{const A=l().toLowerCase();return A?De.getActiveProducts().filter(m=>m.name.toLowerCase().includes(A)||m.sku.toLowerCase().includes(A)||m.category.toLowerCase().includes(A)):De.getActiveProducts()}),b=()=>{i(!0),c(""),s(-1)},E=A=>{const m=A.target;c(m.value),i(!0),s(-1)},D=A=>{t.onChange(A.id),i(!1),c(""),s(-1)},I=A=>{const m=y();switch(A.key){case"ArrowDown":A.preventDefault(),s(B=>Math.min(B+1,m.length-1));break;case"ArrowUp":A.preventDefault(),s(B=>Math.max(B-1,-1));break;case"Enter":A.preventDefault(),a()>=0&&m[a()]&&D(m[a()]);break;case"Escape":i(!1),c(""),s(-1);break}},C=A=>{setTimeout(()=>{i(!1),c(""),s(-1)},150)},P=A=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(A),x=A=>De.stockLevels.filter(m=>m.productId===A).reduce((m,B)=>m+B.quantity,0),h={position:"relative",width:"100%",...t.style},M={width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)",cursor:t.disabled?"not-allowed":"text",opacity:t.disabled?"0.6":"1"},U={position:"absolute",top:"100%",left:"0",right:"0","z-index":"1000","max-height":"300px","overflow-y":"auto",background:"var(--surface-color)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","box-shadow":"0 4px 12px rgba(0,0,0,0.15)","margin-top":"2px"},j=A=>({padding:"0.75rem",cursor:"pointer","border-bottom":"1px solid "+A?"var(--primary-color)":"var(--border-color)",background:A?"var(--strip-color)":"transparent",color:A?"var(--primary-color)":"var(--text-primary)",transition:"all 0.2s ease"}),ne={display:"flex","justify-content":"space-between","align-items":"center"},V={flex:"1"},le={"font-weight":"500","margin-bottom":"0.25rem"},ae={"font-size":"0.875rem",color:"var(--text-muted)",display:"flex",gap:"0.5rem"},me={"text-align":"right","font-size":"0.875rem"},ye={padding:"1rem","text-align":"center",color:"var(--text-muted)","font-style":"italic"},ie=()=>n()&&l()?l():d()?`${d().name} (${d().sku})`:"",X={display:"flex","align-items":"stretch",width:"100%"},p={padding:"0.75rem",border:"1px solid var(--border-color)","border-left":"none","border-radius":"0 var(--border-radius-sm) var(--border-radius-sm) 0",background:"var(--surface-color)",cursor:"pointer",color:"var(--primary-color)","font-weight":"600","font-size":"1rem",transition:"all 0.2s ease","min-width":"40px",display:"flex","align-items":"center","justify-content":"center"},se={...M,"border-radius":t.onAddNew?"var(--border-radius-sm) 0 0 var(--border-radius-sm)":"var(--border-radius-sm)","border-right":t.onAddNew?"none":"1px solid var(--border-color)"};return(()=>{var A=es(),m=A.firstChild,B=m.firstChild;return o(m,X),B.addEventListener("blur",C),B.$$keydown=I,B.$$click=b,B.$$input=E,r(m,(()=>{var g=F(()=>!!t.onAddNew);return()=>g()&&(()=>{var _=ts();return _.addEventListener("mouseleave",S=>{S.currentTarget.style.background="var(--surface-color)",S.currentTarget.style.color="var(--primary-color)"}),_.addEventListener("mouseenter",S=>{S.currentTarget.style.background="var(--primary-color)",S.currentTarget.style.color="white"}),pr(_,"click",t.onAddNew,!0),o(_,p),z(()=>Ze(_,"title",e("inventory.addProduct","Add new product"))),_})()})(),null),r(A,u(qe,{get when(){return n()},get children(){var g=so();return r(g,u(qe,{get when(){return y().length>0},get fallback(){return(()=>{var _=so();return o(_,ye),r(_,(()=>{var S=F(()=>!!l());return()=>S()?e("inventory.noProductsFound","No products found matching your search."):e("inventory.noProductsAvailable","No products available.")})()),_})()},get children(){return u(dt,{get each(){return y()},children:(_,S)=>{const w=x(_.id),de=w<=_.minStockLevel;return(()=>{var $=rs(),N=$.firstChild,J=N.firstChild,H=J.firstChild,q=H.nextSibling,Q=q.firstChild,ee=Q.firstChild,ce=Q.nextSibling,R=ce.nextSibling,Y=R.nextSibling,ge=Y.nextSibling,fe=J.nextSibling,Z=fe.firstChild,W=Z.firstChild,T=Z.nextSibling;return $.addEventListener("mouseenter",()=>s(S())),$.$$click=()=>D(_),o(N,ne),o(J,V),o(H,le),r(H,()=>_.name),o(q,ae),r(Q,()=>e("inventory.sku","SKU"),ee),r(Q,()=>_.sku,null),r(R,()=>_.category),r(ge,()=>P(_.unitCost)),o(fe,me),Z.style.setProperty("font-weight","600"),(de?"#f44336":"var(--text-primary)")!=null?Z.style.setProperty("color",de?"#f44336":"var(--text-primary)"):Z.style.removeProperty("color"),r(Z,w,W),r(Z,()=>_.unitOfMeasure,null),T.style.setProperty("color","var(--text-muted)"),r(T,()=>de?e("inventory.lowStock","Low Stock"):e("inventory.inStock","In Stock")),z(oe=>o($,j(S()===a()),oe)),$})()}})}})),z(_=>o(g,U,_)),g}}),null),z(g=>{var _=h,S=se,w=t.placeholder||e("inventory.searchProducts","Search products by name, SKU, or category..."),de=t.disabled,$=t.required;return g.e=o(A,_,g.e),g.t=o(B,S,g.t),w!==g.a&&Ze(B,"placeholder",g.a=w),de!==g.o&&(B.disabled=g.o=de),$!==g.i&&(B.required=g.i=$),g},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),z(()=>B.value=ie()),A})()};yt(["input","click","keydown"]);var co=k("<div>"),ns=k("<div><div><input type=text autocomplete=off>"),os=k("<button type=button>+"),is=k("<div><div><div><div> </div><div><span>: </span><span></span></div><div>");const sn=t=>{const{t:e}=He(),[n,i]=re(!1),[l,c]=re(""),[a,s]=re(-1),d=ze(()=>t.value?De.getLocationById(t.value):null),y=ze(()=>{let A=De.getActiveLocations();t.filterType&&(A=A.filter(B=>B.type===t.filterType));const m=l().toLowerCase();return m?A.filter(B=>B.name.toLowerCase().includes(m)||B.code.toLowerCase().includes(m)||B.type.toLowerCase().includes(m)||B.address.toLowerCase().includes(m)):A}),b=()=>{i(!0),c(""),s(-1)},E=A=>{const m=A.target;c(m.value),i(!0),s(-1)},D=A=>{t.onChange(A.id),i(!1),c(""),s(-1)},I=A=>{const m=y();switch(A.key){case"ArrowDown":A.preventDefault(),s(B=>Math.min(B+1,m.length-1));break;case"ArrowUp":A.preventDefault(),s(B=>Math.max(B-1,-1));break;case"Enter":A.preventDefault(),a()>=0&&m[a()]&&D(m[a()]);break;case"Escape":i(!1),c(""),s(-1);break}},C=A=>{setTimeout(()=>{i(!1),c(""),s(-1)},150)},P=A=>({warehouse:"ðŸ­",store:"ðŸª",supplier:"ðŸšš",customer:"ðŸ‘¥"})[A]||"ðŸ“",x=A=>({warehouse:"#2196F3",store:"#4CAF50",supplier:"#FF9800",customer:"#9C27B0"})[A]||"#757575",h={position:"relative",width:"100%",...t.style},M={width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)",cursor:t.disabled?"not-allowed":"text",opacity:t.disabled?"0.6":"1"},U={display:"flex","align-items":"stretch",width:"100%"},j={padding:"0.75rem",border:"1px solid var(--border-color)","border-left":"none","border-radius":"0 var(--border-radius-sm) var(--border-radius-sm) 0",background:"var(--surface-color)",cursor:"pointer",color:"var(--primary-color)","font-weight":"600","font-size":"1rem",transition:"all 0.2s ease","min-width":"40px",display:"flex","align-items":"center","justify-content":"center"},ne={...M,"border-radius":t.onAddNew?"var(--border-radius-sm) 0 0 var(--border-radius-sm)":"var(--border-radius-sm)","border-right":t.onAddNew?"none":"1px solid var(--border-color)"},V={position:"absolute",top:"100%",left:"0",right:"0","z-index":"1000","max-height":"300px","overflow-y":"auto",background:"var(--surface-color)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","box-shadow":"0 4px 12px rgba(0,0,0,0.15)","margin-top":"2px"},le=A=>({padding:"0.75rem",cursor:"pointer","border-bottom":"1px solid var(--border-color)",background:A?"var(--strip-color)":"transparent",color:A?"var(--primary-dark)":"var(--text-primary)",transition:"all 0.2s ease"}),ae={display:"flex","justify-content":"space-between","align-items":"center"},me={flex:"1"},ye={"font-weight":"500","margin-bottom":"0.25rem"},ie={"font-size":"0.875rem",color:"var(--text-muted)",display:"flex",gap:"0.5rem","align-items":"center"},X=A=>({padding:"0.2rem 0.5rem","border-radius":"var(--border-radius-sm)","font-size":"0.7rem","font-weight":"500",background:x(A),color:"white","text-transform":"uppercase"}),p={padding:"1rem","text-align":"center",color:"var(--text-muted)","font-style":"italic"},se=()=>n()&&l()?l():d()?`${d().name} (${d().code})`:"";return(()=>{var A=ns(),m=A.firstChild,B=m.firstChild;return o(m,U),B.addEventListener("blur",C),B.$$keydown=I,B.$$click=b,B.$$input=E,r(m,(()=>{var g=F(()=>!!t.onAddNew);return()=>g()&&(()=>{var _=os();return _.addEventListener("mouseleave",S=>{S.currentTarget.style.background="var(--surface-color)",S.currentTarget.style.color="var(--primary-color)"}),_.addEventListener("mouseenter",S=>{S.currentTarget.style.background="var(--primary-color)",S.currentTarget.style.color="white"}),pr(_,"click",t.onAddNew,!0),o(_,j),z(()=>Ze(_,"title",e("inventory.addLocation","Add new location"))),_})()})(),null),r(A,u(qe,{get when(){return n()},get children(){var g=co();return r(g,u(qe,{get when(){return y().length>0},get fallback(){return(()=>{var _=co();return o(_,p),r(_,(()=>{var S=F(()=>!!l());return()=>S()?e("inventory.noLocationsFound","No locations found matching your search."):e("inventory.noLocationsAvailable","No locations available.")})()),_})()},get children(){return u(dt,{get each(){return y()},children:(_,S)=>(()=>{var w=is(),de=w.firstChild,$=de.firstChild,N=$.firstChild,J=N.firstChild,H=N.nextSibling,q=H.firstChild,Q=q.firstChild,ee=q.nextSibling,ce=H.nextSibling;return w.addEventListener("mouseenter",()=>s(S())),w.$$click=()=>D(_),o(de,ae),o($,me),o(N,ye),r(N,()=>P(_.type),J),r(N,()=>_.name,null),o(H,ie),r(q,()=>e("inventory.locationCode","Code"),Q),r(q,()=>_.code,null),r(ee,()=>_.type),ce.style.setProperty("font-size","0.75rem"),ce.style.setProperty("color","var(--text-muted)"),ce.style.setProperty("margin-top","0.25rem"),r(ce,()=>_.address),z(R=>{var Y=le(S()===a()),ge=X(_.type);return R.e=o(w,Y,R.e),R.t=o(ee,ge,R.t),R},{e:void 0,t:void 0}),w})()})}})),z(_=>o(g,V,_)),g}}),null),z(g=>{var _=h,S=ne,w=t.placeholder||e("inventory.searchLocations","Search locations by name, code, or type..."),de=t.disabled,$=t.required;return g.e=o(A,_,g.e),g.t=o(B,S,g.t),w!==g.a&&Ze(B,"placeholder",g.a=w),de!==g.o&&(B.disabled=g.o=de),$!==g.i&&(B.required=g.i=$),g},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),z(()=>B.value=se()),A})()};yt(["input","click","keydown"]);var ls=k("<form><div><label> *</label><input type=text required></div><div><div><label> *</label><input type=text required></div><div><label> *</label><input type=text list=categories required><datalist id=categories><option value=Electronics></option><option value=Accessories></option><option value=Office></option><option value=Furniture></option><option value=Software></option><option value=Hardware></option></datalist></div></div><div><label></label><textarea></textarea></div><div><div><label></label><select><option value=pcs></option><option value=kg></option><option value=lbs></option><option value=m></option><option value=ft></option><option value=l></option><option value=gal></option><option value=box></option><option value=pack></option></select></div><div><label></label><input type=number min=0 step=0.01 placeholder=0.00></div></div><div><div><label></label><input type=number min=0 step=0.01 placeholder=0.00></div><div></div></div><div><div><label></label><input type=number min=0 step=1></div><div><label></label><input type=number min=1 step=1></div></div><div>"),as=k("<div>");const dn=t=>{const{t:e}=He(),[n,i]=re(""),[l,c]=re(""),[a,s]=re(""),[d,y]=re(""),[b,E]=re("pcs"),[D,I]=re(0),[C,P]=re(0),[x,h]=re(10),[M,U]=re(100),[j,ne]=re(""),V=()=>{i(""),c(""),s(""),y(""),E("pcs"),I(0),P(0),h(10),U(100),ne("")},le=m=>{if(m.preventDefault(),ne(""),!n().trim()){ne(e("forms.productNameRequired"));return}if(!l().trim()){ne(e("forms.skuRequired"));return}if(!d().trim()){ne(e("forms.categoryRequired"));return}if(D()<0){ne(e("forms.unitCostNotNegative"));return}if(C()<0){ne(e("forms.sellingPriceNotNegative"));return}if(x()<0){ne(e("forms.minStockNotNegative"));return}if(M()<=x()){ne(e("forms.maxStockGreaterThanMin"));return}if(De.getProductsBySku(l()).length>0){ne(e("forms.skuAlreadyExists"));return}const g={name:n().trim(),sku:l().trim().toUpperCase(),description:a().trim(),category:d().trim(),unitOfMeasure:b(),unitCost:D(),sellingPrice:C(),minStockLevel:x(),maxStockLevel:M(),isActive:!0,businessId:"default-business"};De.addProduct(g);const _=`prod-${Date.now()}`;t.onProductAdded&&t.onProductAdded(_),V(),t.onClose()},ae=()=>{V(),t.onClose()},me={"margin-bottom":"1.5rem"},ye={display:"block","margin-bottom":"0.5rem","font-weight":"500",color:"var(--text-primary)"},ie={width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)"},X={...ie,cursor:"pointer"},p={color:"#f44336","font-size":"0.875rem","margin-bottom":"1rem"},se={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},A={display:"grid","grid-template-columns":"1fr 1fr",gap:"1rem"};return u(Pt,{get isOpen(){return t.isOpen},onClose:ae,get title(){return e("inventory.addNewProduct")},get children(){var m=ls(),B=m.firstChild,g=B.firstChild,_=g.firstChild,S=g.nextSibling,w=B.nextSibling,de=w.firstChild,$=de.firstChild,N=$.firstChild,J=$.nextSibling,H=de.nextSibling,q=H.firstChild,Q=q.firstChild,ee=q.nextSibling,ce=w.nextSibling,R=ce.firstChild,Y=R.nextSibling,ge=ce.nextSibling,fe=ge.firstChild,Z=fe.firstChild,W=Z.nextSibling,T=W.firstChild,oe=T.nextSibling,te=oe.nextSibling,pe=te.nextSibling,ve=pe.nextSibling,v=ve.nextSibling,f=v.nextSibling,K=f.nextSibling,G=K.nextSibling,O=fe.nextSibling,ue=O.firstChild,L=ue.nextSibling,be=ge.nextSibling,Pe=be.firstChild,$e=Pe.firstChild,_e=$e.nextSibling,Le=be.nextSibling,Ue=Le.firstChild,xe=Ue.firstChild,we=xe.nextSibling,Te=Ue.nextSibling,Ne=Te.firstChild,Be=Ne.nextSibling,Fe=Le.nextSibling;return m.addEventListener("submit",le),r(g,()=>e("inventory.productName"),_),S.addEventListener("change",Se=>i(Se.target.value)),r($,()=>e("inventory.sku"),N),J.addEventListener("change",Se=>c(Se.target.value)),r(q,()=>e("inventory.category"),Q),ee.addEventListener("change",Se=>y(Se.target.value)),r(R,()=>e("common.description")),Y.addEventListener("change",Se=>s(Se.target.value)),r(Z,()=>e("inventory.unitOfMeasure")),W.addEventListener("change",Se=>E(Se.target.value)),r(T,()=>e("inventory.pieces")),r(oe,()=>e("inventory.kilograms")),r(te,()=>e("inventory.pounds")),r(pe,()=>e("inventory.meters")),r(ve,()=>e("inventory.feet")),r(v,()=>e("inventory.liters")),r(f,()=>e("inventory.gallons")),r(K,()=>e("inventory.boxes")),r(G,()=>e("inventory.packs")),r(ue,()=>e("inventory.unitCost")),L.addEventListener("change",Se=>I(Number(Se.target.value))),r($e,()=>e("inventory.sellingPrice")),_e.addEventListener("change",Se=>P(Number(Se.target.value))),r(xe,()=>e("inventory.minimumStockLevel")),we.addEventListener("change",Se=>h(Number(Se.target.value))),r(Ne,()=>e("inventory.maximumStockLevel")),Be.addEventListener("change",Se=>U(Number(Se.target.value))),r(m,(()=>{var Se=F(()=>!!j());return()=>Se()&&(()=>{var je=as();return o(je,p),r(je,j),je})()})(),Fe),o(Fe,se),r(Fe,u(Ae,{variant:"secondary",type:"button",onClick:ae,get children(){return e("common.cancel")}}),null),r(Fe,u(Ae,{variant:"primary",type:"submit",get children(){return e("inventory.addProduct")}}),null),z(Se=>{var je=me,Qe=ye,Ye=ie,he=e("inventory.enterProductName"),Ge=A,rt=ye,tt=ie,ot=e("inventory.enterSkuCode"),Ke=ye,st=ie,ut=e("inventory.enterCategory"),ke=me,Ie=ye,Me={...ie,"min-height":"80px",resize:"vertical"},Re=e("inventory.enterProductDescription"),We=A,Ve=ye,nt=X,Ce=ye,Xe=ie,vt=A,wt=ye,ht=ie,pt=A,xt=ye,St=ie,Lt=ye,At=ie;return Se.e=o(B,je,Se.e),Se.t=o(g,Qe,Se.t),Se.a=o(S,Ye,Se.a),he!==Se.o&&Ze(S,"placeholder",Se.o=he),Se.i=o(w,Ge,Se.i),Se.n=o($,rt,Se.n),Se.s=o(J,tt,Se.s),ot!==Se.h&&Ze(J,"placeholder",Se.h=ot),Se.r=o(q,Ke,Se.r),Se.d=o(ee,st,Se.d),ut!==Se.l&&Ze(ee,"placeholder",Se.l=ut),Se.u=o(ce,ke,Se.u),Se.c=o(R,Ie,Se.c),Se.w=o(Y,Me,Se.w),Re!==Se.m&&Ze(Y,"placeholder",Se.m=Re),Se.f=o(ge,We,Se.f),Se.y=o(Z,Ve,Se.y),Se.g=o(W,nt,Se.g),Se.p=o(ue,Ce,Se.p),Se.b=o(L,Xe,Se.b),Se.T=o(be,vt,Se.T),Se.A=o($e,wt,Se.A),Se.O=o(_e,ht,Se.O),Se.I=o(Le,pt,Se.I),Se.S=o(xe,xt,Se.S),Se.W=o(we,St,Se.W),Se.C=o(Ne,Lt,Se.C),Se.B=o(Be,At,Se.B),Se},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0,O:void 0,I:void 0,S:void 0,W:void 0,C:void 0,B:void 0}),z(()=>S.value=n()),z(()=>J.value=l()),z(()=>ee.value=d()),z(()=>Y.value=a()),z(()=>W.value=b()),z(()=>L.value=D()),z(()=>_e.value=C()),z(()=>we.value=x()),z(()=>Be.value=M()),m}})};var ss=k('<form><div><label> *</label><input type=text required></div><div><div><label> *<button type=button title="Generate code automatically"></button></label><input type=text required><div></div></div><div><label> *</label><select required><option value=warehouse> </option><option value=store> </option><option value=supplier> </option><option value=customer> </option></select><div></div></div></div><div><label> *</label><textarea required></textarea></div><div>'),cs=k("<div><div>:</div><div><span></span><div><div></div><div>"),ds=k("<div>");const Vn=t=>{const{t:e}=He(),[n,i]=re(""),[l,c]=re(""),[a,s]=re("warehouse"),[d,y]=re(""),[b,E]=re(""),D=()=>{i(""),c(""),s("warehouse"),y(""),E("")},I=()=>{if(n()){const ie=a()==="warehouse"?"WH":a()==="store"?"ST":a()==="supplier"?"SUP":"CUST",X=n().toUpperCase().replace(/[^A-Z0-9]/g,"").substring(0,3),p=String(Math.floor(Math.random()*1e3)).padStart(3,"0");c(`${ie}-${X}-${p}`)}},C=ie=>{if(ie.preventDefault(),E(""),!n().trim()){E(e("forms.locationNameRequired"));return}if(!l().trim()){E(e("forms.locationCodeRequired"));return}if(!d().trim()){E(e("forms.addressRequired"));return}if(De.locations.filter(A=>A.code.toLowerCase()===l().toLowerCase()).length>0){E(e("forms.locationCodeExists"));return}const p={name:n().trim(),code:l().trim().toUpperCase(),type:a(),address:d().trim(),isActive:!0};De.addLocation(p);const se=`loc-${Date.now()}`;t.onLocationAdded&&t.onLocationAdded(se),D(),t.onClose()},P=()=>{D(),t.onClose()},x={"margin-bottom":"1.5rem"},h={display:"block","margin-bottom":"0.5rem","font-weight":"500",color:"var(--text-primary)"},M={width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)"},U={...M,cursor:"pointer"},j={color:"#f44336","font-size":"0.875rem","margin-bottom":"1rem"},ne={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},V={display:"grid","grid-template-columns":"2fr 1fr",gap:"1rem"},le={"font-size":"0.875rem",color:"var(--text-muted)","margin-top":"0.25rem"},ae={padding:"0.25rem 0.5rem","font-size":"0.75rem","margin-left":"0.5rem",background:"var(--background-color)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)",cursor:"pointer",color:"var(--text-muted)"},me=ie=>({warehouse:"ðŸ­",store:"ðŸª",supplier:"ðŸšš",customer:"ðŸ‘¥"})[ie]||"ðŸ“",ye=ie=>({warehouse:e("inventory.warehouseDescription"),store:e("inventory.storeDescription"),supplier:e("inventory.supplierDescription"),customer:e("inventory.customerDescription")})[ie]||"";return u(Pt,{get isOpen(){return t.isOpen},onClose:P,get title(){return e("inventory.addNewLocation")},get children(){var ie=ss(),X=ie.firstChild,p=X.firstChild,se=p.firstChild,A=p.nextSibling,m=X.nextSibling,B=m.firstChild,g=B.firstChild,_=g.firstChild,S=_.nextSibling,w=g.nextSibling,de=w.nextSibling,$=B.nextSibling,N=$.firstChild,J=N.firstChild,H=N.nextSibling,q=H.firstChild,Q=q.firstChild,ee=q.nextSibling,ce=ee.firstChild,R=ee.nextSibling,Y=R.firstChild,ge=R.nextSibling,fe=ge.firstChild,Z=H.nextSibling,W=m.nextSibling,T=W.firstChild,oe=T.firstChild,te=T.nextSibling,pe=W.nextSibling;return ie.addEventListener("submit",C),r(p,()=>e("inventory.locationName"),se),A.addEventListener("change",ve=>i(ve.target.value)),o(m,V),r(g,()=>e("inventory.locationCode"),_),S.$$click=I,o(S,ae),r(S,()=>e("common.generate")),w.addEventListener("change",ve=>c(ve.target.value)),r(de,()=>e("inventory.uniqueIdentifierHelp")),r(N,()=>e("inventory.locationType"),J),H.addEventListener("change",ve=>s(ve.target.value)),r(q,()=>me("warehouse"),Q),r(q,()=>e("inventory.warehouse"),null),r(ee,()=>me("store"),ce),r(ee,()=>e("inventory.store"),null),r(R,()=>me("supplier"),Y),r(R,()=>e("inventory.supplier"),null),r(ge,()=>me("customer"),fe),r(ge,()=>e("inventory.customer"),null),r(Z,()=>ye(a())),r(T,()=>e("common.address"),oe),te.addEventListener("change",ve=>y(ve.target.value)),r(ie,(()=>{var ve=F(()=>!!n());return()=>ve()&&(()=>{var v=cs(),f=v.firstChild,K=f.firstChild,G=f.nextSibling,O=G.firstChild,ue=O.nextSibling,L=ue.firstChild,be=L.nextSibling;return v.style.setProperty("padding","1rem"),v.style.setProperty("background","var(--background-color)"),v.style.setProperty("border-radius","var(--border-radius-sm)"),v.style.setProperty("border","1px solid var(--border-color)"),v.style.setProperty("margin-bottom","1rem"),f.style.setProperty("font-weight","500"),f.style.setProperty("margin-bottom","0.5rem"),r(f,()=>e("common.preview"),K),G.style.setProperty("display","flex"),G.style.setProperty("align-items","center"),G.style.setProperty("gap","0.5rem"),O.style.setProperty("font-size","1.2rem"),r(O,()=>me(a())),L.style.setProperty("font-weight","600"),r(L,n),be.style.setProperty("font-size","0.875rem"),be.style.setProperty("color","var(--text-muted)"),r(be,(()=>{var Pe=F(()=>!!l());return()=>Pe()&&`${l()} â€¢ `})(),null),r(be,a,null),v})()})(),pe),r(ie,(()=>{var ve=F(()=>!!b());return()=>ve()&&(()=>{var v=ds();return o(v,j),r(v,b),v})()})(),pe),o(pe,ne),r(pe,u(Ae,{variant:"secondary",type:"button",onClick:P,get children(){return e("common.cancel")}}),null),r(pe,u(Ae,{variant:"primary",type:"submit",get children(){return e("inventory.addLocation")}}),null),z(ve=>{var v=x,f=h,K=M,G=e("inventory.enterLocationName"),O=h,ue=M,L=e("inventory.enterUniqueCode"),be=le,Pe=h,$e=U,_e=le,Le=x,Ue=h,xe={...M,"min-height":"100px",resize:"vertical"},we=e("inventory.enterCompleteAddress");return ve.e=o(X,v,ve.e),ve.t=o(p,f,ve.t),ve.a=o(A,K,ve.a),G!==ve.o&&Ze(A,"placeholder",ve.o=G),ve.i=o(g,O,ve.i),ve.n=o(w,ue,ve.n),L!==ve.s&&Ze(w,"placeholder",ve.s=L),ve.h=o(de,be,ve.h),ve.r=o(N,Pe,ve.r),ve.d=o(H,$e,ve.d),ve.l=o(Z,_e,ve.l),ve.u=o(W,Le,ve.u),ve.c=o(T,Ue,ve.c),ve.w=o(te,xe,ve.w),we!==ve.m&&Ze(te,"placeholder",ve.m=we),ve},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0}),z(()=>A.value=n()),z(()=>w.value=l()),z(()=>H.value=a()),z(()=>te.value=d()),ie}})};yt(["click"]);var us=k("<form><div>"),uo=k("<div><label> *"),ys=k("<div><label> *</label><select required><option value=in></option><option value=out></option><option value=transfer></option><option value=adjustment>"),ms=k("<div><label>"),vs=k("<div><label> *</label><input type=number min=0 step=1 required>"),gs=k("<div><label></label><input type=number min=0 step=0.01>"),ps=k("<div><label></label><input type=text>"),fs=k("<div><label></label><textarea>"),bs=k("<div><div><span>:</span><span> </span></div><div><span>:</span><span></span></div><div><span>:</span><span> "),hs=k("<div><div><span>:</span><span>"),Ss=k("<div>");const $s=t=>{const{t:e}=He(),[n,i]=re({name:"",price:"",quantity:"",category:"",description:"",sku:"",supplier:"",minStock:"",location:""}),[l,c]=re(""),[a,s]=re(""),[d,y]=re("in"),[b,E]=re(0),[D,I]=re(0),[C,P]=re(""),[x,h]=re(""),[M,U]=re(""),[j,ne]=re(""),[V,le]=re(!1),[ae,me]=re(!1),ye=()=>t.mode==="movement",ie=ze(()=>l()?De.getProductById(l()):null),X=ze(()=>a()?De.getLocationById(a()):null),p=ze(()=>M()?De.getLocationById(M()):null),se=ze(()=>b()*D()),A=ze(()=>!l()||!a()?0:De.getStockByProductAndLocation(l(),a())?.quantity||0),m=[{value:"Electronics",label:"Electronics"},{value:"Accessories",label:"Accessories"},{value:"Furniture",label:"Furniture"},{value:"Office Supplies",label:"Office Supplies"},{value:"Software",label:"Software"},{value:"Hardware",label:"Hardware"},{value:"Consumables",label:"Consumables"}],B=[{value:"Warehouse A",label:"Warehouse A"},{value:"Warehouse B",label:"Warehouse B"},{value:"Warehouse C",label:"Warehouse C"},{value:"Storage Room",label:"Storage Room"},{value:"Main Office",label:"Main Office"}],g={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},_=()=>{c(""),s(""),y("in"),E(0),I(0),P(""),h(""),U(""),ne("")},S=()=>{i({name:"",price:"",quantity:"",category:"",description:"",sku:"",supplier:"",minStock:"",location:""})},w=ge=>{if(ge.preventDefault(),ye()){if(ne(""),!l()){ne(e("forms.selectProduct"));return}if(!a()){ne(e("forms.selectLocation"));return}if(b()<=0){ne(e("forms.quantityGreaterThanZero"));return}if(D()<0){ne(e("forms.unitCostNotNegative"));return}if(d()==="transfer"&&!M()){ne(e("forms.selectFromLocation"));return}if(d()==="transfer"&&M()===a()){ne(e("forms.sameLocationError"));return}if(d()==="out"&&b()>A()){ne(e("forms.insufficientStock",{currentStock:A()}));return}const fe=ie(),Z=X(),W={productId:fe.id,productName:fe.name,productSku:fe.sku,locationId:Z.id,locationName:Z.name,movementType:d(),quantity:b(),unitCost:D()||fe.unitCost,totalCost:se()||b()*fe.unitCost,referenceNumber:C()||`AUTO-${Date.now()}`,notes:x(),createdBy:"admin",fromLocationId:d()==="transfer"?M():void 0,fromLocationName:d()==="transfer"?p()?.name:void 0};De.addInventoryMovement(W),_()}else{const fe=n();if(!fe.name||!fe.price||!fe.quantity||!fe.category||!fe.sku||!fe.supplier||!fe.minStock||!fe.location){alert(e("forms.fillAllRequired"));return}const Z={name:fe.name,price:parseFloat(fe.price),quantity:parseInt(fe.quantity),category:fe.category,description:fe.description,sku:fe.sku,supplier:fe.supplier,minStock:parseInt(fe.minStock),location:fe.location};De.addItem(Z),S()}t.onClose()},de=(ge,fe)=>{i(Z=>({...Z,[ge]:fe}))},$=()=>{ye()?_():S(),t.onClose()},N=ge=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(ge),J={width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)"},H={...J,cursor:"pointer"},q={color:"#f44336","font-size":"0.875rem","margin-top":"0.5rem"},Q={padding:"1rem",background:"var(--background-color)","border-radius":"var(--border-radius-sm)",border:"1px solid var(--border-color)","margin-bottom":"1rem"},ee={display:"flex","justify-content":"space-between","margin-bottom":"0.5rem"},ce={"font-weight":"500",color:"var(--text-muted)"},R={"font-weight":"600",color:"var(--text-primary)"},Y=()=>ye()?e("inventory.addMovement"):e("inventory.addNewItem");return u(Pt,{get isOpen(){return t.isOpen},onClose:$,get title(){return Y()},get children(){return[(()=>{var ge=us(),fe=ge.firstChild;return ge.addEventListener("submit",w),r(ge,(()=>{var Z=F(()=>!!ye());return()=>Z()?[(()=>{var W=uo(),T=W.firstChild,oe=T.firstChild;return W.style.setProperty("margin-bottom","1.5rem"),T.style.setProperty("display","block"),T.style.setProperty("margin-bottom","0.5rem"),T.style.setProperty("font-weight","500"),r(T,()=>e("inventory.product"),oe),r(W,u(Qo,{get value(){return l()},onChange:te=>{c(te);const pe=De.getProductById(te);pe&&I(pe.unitCost)},get placeholder(){return e("inventory.searchProductsPlaceholder")},onAddNew:()=>le(!0),required:!0}),null),W})(),(()=>{var W=ys(),T=W.firstChild,oe=T.firstChild,te=T.nextSibling,pe=te.firstChild,ve=pe.nextSibling,v=ve.nextSibling,f=v.nextSibling;return W.style.setProperty("margin-bottom","1.5rem"),T.style.setProperty("display","block"),T.style.setProperty("margin-bottom","0.5rem"),T.style.setProperty("font-weight","500"),r(T,()=>e("inventory.movementType"),oe),te.addEventListener("change",K=>y(K.target.value)),r(pe,()=>e("inventory.stockInPurchase")),r(ve,()=>e("inventory.stockOutSale")),r(v,()=>e("inventory.transferBetween")),r(f,()=>e("inventory.stockAdjustment")),z(K=>o(te,H,K)),z(()=>te.value=d()),W})(),F(()=>F(()=>d()==="transfer")()&&(()=>{var W=uo(),T=W.firstChild,oe=T.firstChild;return W.style.setProperty("margin-bottom","1.5rem"),T.style.setProperty("display","block"),T.style.setProperty("margin-bottom","0.5rem"),T.style.setProperty("font-weight","500"),r(T,()=>e("inventory.fromLocation"),oe),r(W,u(sn,{get value(){return M()},onChange:te=>U(te),get placeholder(){return e("inventory.searchSourceLocation")},onAddNew:()=>me(!0),required:!0}),null),W})()),(()=>{var W=ms(),T=W.firstChild;return W.style.setProperty("margin-bottom","1.5rem"),T.style.setProperty("display","block"),T.style.setProperty("margin-bottom","0.5rem"),T.style.setProperty("font-weight","500"),r(T,(()=>{var oe=F(()=>d()==="transfer");return()=>oe()?e("inventory.toLocation")+" *":e("inventory.locationName")+" *"})()),r(W,u(sn,{get value(){return a()},onChange:oe=>s(oe),get placeholder(){return F(()=>d()==="transfer")()?e("inventory.searchDestinationLocation"):e("inventory.searchLocation")},onAddNew:()=>me(!0),required:!0}),null),W})(),F(()=>F(()=>!!(ie()&&X()))()&&(()=>{var W=bs(),T=W.firstChild,oe=T.firstChild,te=oe.firstChild,pe=oe.nextSibling,ve=pe.firstChild,v=T.nextSibling,f=v.firstChild,K=f.firstChild,G=f.nextSibling,O=v.nextSibling,ue=O.firstChild,L=ue.firstChild,be=ue.nextSibling,Pe=be.firstChild;return r(oe,()=>e("inventory.currentStockAt",{location:X()?.name}),te),r(pe,A,ve),r(pe,()=>ie()?.unitOfMeasure,null),r(f,()=>e("inventory.productCost"),K),r(G,()=>N(ie()?.unitCost||0)),r(ue,()=>e("inventory.minStockLevel"),L),r(be,()=>ie()?.minStockLevel,Pe),r(be,()=>ie()?.unitOfMeasure,null),z($e=>{var _e=Q,Le=ee,Ue=ce,xe=R,we=ee,Te=ce,Ne=R,Be=ee,Fe=ce,Se=R;return $e.e=o(W,_e,$e.e),$e.t=o(T,Le,$e.t),$e.a=o(oe,Ue,$e.a),$e.o=o(pe,xe,$e.o),$e.i=o(v,we,$e.i),$e.n=o(f,Te,$e.n),$e.s=o(G,Ne,$e.s),$e.h=o(O,Be,$e.h),$e.r=o(ue,Fe,$e.r),$e.d=o(be,Se,$e.d),$e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0}),W})()),(()=>{var W=vs(),T=W.firstChild,oe=T.firstChild,te=T.nextSibling;return W.style.setProperty("margin-bottom","1.5rem"),T.style.setProperty("display","block"),T.style.setProperty("margin-bottom","0.5rem"),T.style.setProperty("font-weight","500"),r(T,()=>e("inventory.quantity"),oe),te.addEventListener("change",pe=>E(Number(pe.target.value))),z(pe=>o(te,J,pe)),z(()=>te.value=b()),W})(),(()=>{var W=gs(),T=W.firstChild,oe=T.nextSibling;return W.style.setProperty("margin-bottom","1.5rem"),T.style.setProperty("display","block"),T.style.setProperty("margin-bottom","0.5rem"),T.style.setProperty("font-weight","500"),r(T,()=>e("inventory.unitCost")),oe.addEventListener("change",te=>I(Number(te.target.value))),z(te=>{var pe=J,ve=e("inventory.willUseDefaultCost");return te.e=o(oe,pe,te.e),ve!==te.t&&Ze(oe,"placeholder",te.t=ve),te},{e:void 0,t:void 0}),z(()=>oe.value=D()),W})(),F(()=>F(()=>b()>0&&D()>0)()&&(()=>{var W=hs(),T=W.firstChild,oe=T.firstChild,te=oe.firstChild,pe=oe.nextSibling;return r(oe,()=>e("inventory.totalCost"),te),r(pe,()=>N(se())),z(ve=>{var v=Q,f=ee,K=ce,G={...R,"font-size":"1.2rem",color:"var(--primary-color)"};return ve.e=o(W,v,ve.e),ve.t=o(T,f,ve.t),ve.a=o(oe,K,ve.a),ve.o=o(pe,G,ve.o),ve},{e:void 0,t:void 0,a:void 0,o:void 0}),W})()),(()=>{var W=ps(),T=W.firstChild,oe=T.nextSibling;return W.style.setProperty("margin-bottom","1.5rem"),T.style.setProperty("display","block"),T.style.setProperty("margin-bottom","0.5rem"),T.style.setProperty("font-weight","500"),r(T,()=>e("common.referenceNumber")),oe.addEventListener("change",te=>P(te.target.value)),z(te=>{var pe=J,ve=e("common.referenceNumberPlaceholder");return te.e=o(oe,pe,te.e),ve!==te.t&&Ze(oe,"placeholder",te.t=ve),te},{e:void 0,t:void 0}),z(()=>oe.value=C()),W})(),(()=>{var W=fs(),T=W.firstChild,oe=T.nextSibling;return W.style.setProperty("margin-bottom","1.5rem"),T.style.setProperty("display","block"),T.style.setProperty("margin-bottom","0.5rem"),T.style.setProperty("font-weight","500"),r(T,()=>e("common.notes")),oe.addEventListener("change",te=>h(te.target.value)),z(te=>{var pe={...J,"min-height":"100px",resize:"vertical"},ve=e("inventory.additionalNotesPlaceholder");return te.e=o(oe,pe,te.e),ve!==te.t&&Ze(oe,"placeholder",te.t=ve),te},{e:void 0,t:void 0}),z(()=>oe.value=x()),W})(),F(()=>F(()=>!!j())()&&(()=>{var W=Ss();return o(W,q),r(W,j),W})())]:[u(it,{get label(){return e("inventory.itemName")},get value(){return n().name},onChange:W=>de("name",W),get placeholder(){return e("inventory.enterItemName")},required:!0}),u(it,{get label(){return e("inventory.sku")},get value(){return n().sku},onChange:W=>de("sku",W),get placeholder(){return e("inventory.enterSkuCode")},required:!0}),u(_t,{get label(){return e("inventory.category")},get value(){return n().category},onChange:W=>de("category",W),options:m,required:!0}),u(it,{get label(){return e("common.description")},get value(){return n().description},onChange:W=>de("description",W),get placeholder(){return e("inventory.enterItemDescription")}}),u(it,{get label(){return e("common.price")},type:"number",get value(){return n().price},onChange:W=>de("price",W),get placeholder(){return e("common.enterPrice")},required:!0}),u(it,{get label(){return e("inventory.quantity")},type:"number",get value(){return n().quantity},onChange:W=>de("quantity",W),get placeholder(){return e("inventory.enterQuantity")},required:!0}),u(it,{get label(){return e("inventory.minimumStock")},type:"number",get value(){return n().minStock},onChange:W=>de("minStock",W),get placeholder(){return e("inventory.enterMinStockLevel")},required:!0}),u(it,{get label(){return e("inventory.supplier")},get value(){return n().supplier},onChange:W=>de("supplier",W),get placeholder(){return e("inventory.enterSupplierName")},required:!0}),u(_t,{get label(){return e("inventory.location")},get value(){return n().location},onChange:W=>de("location",W),options:B,required:!0})]})(),fe),o(fe,g),r(fe,u(Ae,{variant:"secondary",type:"button",onClick:$,get children(){return e("common.cancel")}}),null),r(fe,u(Ae,{variant:"primary",type:"submit",get children(){return F(()=>!!ye())()?e("inventory.addMovement"):e("inventory.addItem")}}),null),ge})(),u(dn,{get isOpen(){return V()},onClose:()=>le(!1),onProductAdded:ge=>{c(ge),le(!1)}}),u(Vn,{get isOpen(){return ae()},onClose:()=>me(!1),onLocationAdded:ge=>{d()==="transfer"&&!M()?U(ge):s(ge),me(!1)}})]}})};var Ps=k("<form><div><div><label> *</label><input type=text required></div><div><label> *</label><input type=text required></div></div><div><label> *</label><select required><option value=in></option><option value=out></option><option value=transfer></option><option value=adjustment></option></select></div><div><div><label></label></div></div><div><div><h3></h3></div></div><div><label></label><textarea></textarea></div><div>"),xs=k("<div><label> *"),Cs=k("<div><div></div><div></div><div></div><div></div><div>"),hn=k("<div>"),_s=k("<div><input type=number min=0 step=1 required><input type=number min=0 step=0.01><input type=text>"),ws=k("<div><h4></h4><div><span>:</span><span></span></div><div><span>:</span><span></span></div><div><span>:</span><span></span></div><div><span>:</span><span>"),ks=k("<div>â€¢ ");const As=t=>{const{t:e}=He(),[n,i]=re(`INV-${Date.now()}`),[l,c]=re(""),[a,s]=re("in"),[d,y]=re(""),[b,E]=re(""),[D,I]=re(""),[C,P]=re([]),[x,h]=re([]),[M,U]=re(!1),[j,ne]=re(!1),V=()=>{P(q=>[...q,{productId:"",quantity:0,unitCost:0,notes:""}])},le=q=>{P(Q=>Q.filter((ee,ce)=>ce!==q))},ae=(q,Q,ee)=>{P(ce=>ce.map((R,Y)=>Y===q?{...R,[Q]:ee}:R))},me=()=>{i(`INV-${Date.now()}`),c(""),s("in"),y(""),E(""),I(""),P([]),h([])},ye=q=>{q.preventDefault(),h([]);const Q=[];if(l()||Q.push(e("forms.referenceNumberRequired")),d()||Q.push(e("forms.locationRequired")),a()==="transfer"&&!b()&&Q.push(e("forms.fromLocationRequired")),C().length===0&&Q.push(e("forms.atLeastOneProduct")),C().forEach((R,Y)=>{R.productId||Q.push(e("forms.itemProductRequired",{index:Y+1})),R.quantity<=0&&Q.push(e("forms.itemQuantityRequired",{index:Y+1}))}),Q.length>0){h(Q);return}const ee={invoiceId:n(),referenceNumber:l(),movementType:a(),locationId:d(),fromLocationId:a()==="transfer"?b():void 0,items:C(),generalNotes:D(),createdBy:"admin"},ce=De.addBulkInventoryMovements(ee);ce.success?(me(),t.onClose()):h(ce.errors)},ie=()=>{me(),t.onClose()},X=ze(()=>C().reduce((q,Q)=>{const ee=De.getProductById(Q.productId),ce=Q.unitCost||ee?.unitCost||0;return q+Q.quantity*ce},0)),p=ze(()=>C().reduce((q,Q)=>q+Q.quantity,0)),se={"margin-bottom":"1.5rem"},A={display:"block","margin-bottom":"0.5rem","font-weight":"500",color:"var(--text-primary)"},m={width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)"},B={...m,cursor:"pointer"},g={display:"grid",gap:"0.5rem","align-items":"end","margin-bottom":"0.5rem",padding:"0.75rem",background:"var(--background-color)","border-radius":"var(--border-radius-sm)",border:"1px solid var(--border-color)"},_={display:"grid","grid-template-columns":"2fr 1fr 1fr 2fr auto",gap:"0.5rem","align-items":"end","margin-bottom":"0.5rem",padding:"0.75rem",background:"var(--background-color)","border-radius":"var(--border-radius-sm)",border:"1px solid var(--border-color)"},S={display:"grid","grid-template-columns":"2fr 1fr 1fr 2fr auto",gap:"0.5rem","font-weight":"600","font-size":"0.875rem",color:"var(--text-muted)","margin-bottom":"0.5rem","padding-left":"0.75rem"},w={padding:"1rem",background:"var(--surface-color)","border-radius":"var(--border-radius-sm)",border:"1px solid var(--border-color)","margin-bottom":"1rem"},de={display:"flex","justify-content":"space-between","margin-bottom":"0.5rem"},$={color:"#f44336","font-size":"0.875rem","margin-bottom":"1rem"},N={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},J=q=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(q),H=q=>({in:e("inventory.purchaseReceive"),out:e("inventory.saleIssue"),transfer:e("inventory.transfer"),adjustment:e("inventory.adjustment")})[q]||q;return u(Pt,{get isOpen(){return t.isOpen},onClose:ie,get title(){return e("inventory.bulkMovement")},get children(){return[(()=>{var q=Ps(),Q=q.firstChild,ee=Q.firstChild,ce=ee.firstChild,R=ce.firstChild,Y=ce.nextSibling,ge=ee.nextSibling,fe=ge.firstChild,Z=fe.firstChild,W=fe.nextSibling,T=Q.nextSibling,oe=T.firstChild,te=oe.firstChild,pe=oe.nextSibling,ve=pe.firstChild,v=ve.nextSibling,f=v.nextSibling,K=f.nextSibling,G=T.nextSibling,O=G.firstChild,ue=O.firstChild,L=G.nextSibling,be=L.firstChild,Pe=be.firstChild,$e=L.nextSibling,_e=$e.firstChild,Le=_e.nextSibling,Ue=$e.nextSibling;return q.addEventListener("submit",ye),Q.style.setProperty("display","grid"),Q.style.setProperty("grid-template-columns","1fr 1fr"),Q.style.setProperty("gap","1rem"),Q.style.setProperty("margin-bottom","1.5rem"),r(ce,()=>e("common.invoiceDocumentId"),R),Y.addEventListener("change",xe=>i(xe.target.value)),r(fe,()=>e("common.referenceNumber"),Z),W.addEventListener("change",xe=>c(xe.target.value)),r(oe,()=>e("inventory.movementType"),te),pe.addEventListener("change",xe=>s(xe.target.value)),r(ve,()=>e("inventory.purchaseReceive")),r(v,()=>e("inventory.saleIssue")),r(f,()=>e("inventory.transfer")),r(K,()=>e("inventory.adjustment")),G.style.setProperty("display","grid"),G.style.setProperty("gap","1rem"),G.style.setProperty("margin-bottom","1.5rem"),r(G,(()=>{var xe=F(()=>a()==="transfer");return()=>xe()&&(()=>{var we=xs(),Te=we.firstChild,Ne=Te.firstChild;return r(Te,()=>e("inventory.fromLocation"),Ne),r(we,u(sn,{get value(){return b()},onChange:Be=>E(Be),get placeholder(){return e("inventory.searchSourceLocation")},onAddNew:()=>ne(!0),required:!0}),null),z(Be=>o(Te,A,Be)),we})()})(),O),r(ue,(()=>{var xe=F(()=>a()==="transfer");return()=>xe()?e("inventory.toLocation")+" *":e("inventory.location")+" *"})()),r(O,u(sn,{get value(){return d()},onChange:xe=>y(xe),get placeholder(){return F(()=>a()==="transfer")()?e("inventory.searchDestinationLocation"):e("inventory.searchLocation")},onAddNew:()=>ne(!0),required:!0}),null),be.style.setProperty("display","flex"),be.style.setProperty("justify-content","space-between"),be.style.setProperty("align-items","center"),be.style.setProperty("margin-bottom","1rem"),Pe.style.setProperty("margin","0"),Pe.style.setProperty("font-size","1.1rem"),r(Pe,()=>e("inventory.products")),r(be,u(Ae,{variant:"outline",type:"button",onClick:V,get children(){return e("inventory.addProduct")}}),null),r(L,(()=>{var xe=F(()=>C().length>0);return()=>xe()&&[(()=>{var we=Cs(),Te=we.firstChild,Ne=Te.nextSibling,Be=Ne.nextSibling,Fe=Be.nextSibling;return o(we,S),r(Te,()=>e("inventory.product")),r(Ne,()=>e("inventory.quantity")),r(Be,()=>e("inventory.unitCost")),r(Fe,()=>e("common.notes")),we})(),u(dt,{get each(){return C()},children:(we,Te)=>[(()=>{var Ne=hn();return o(Ne,g),r(Ne,u(Qo,{get value(){return we.productId},onChange:Be=>{ae(Te(),"productId",Be);const Fe=De.getProductById(Be);Fe&&!we.unitCost&&ae(Te(),"unitCost",Fe.unitCost)},get placeholder(){return e("inventory.searchProduct")},onAddNew:()=>U(!0),required:!0})),Ne})(),(()=>{var Ne=_s(),Be=Ne.firstChild,Fe=Be.nextSibling,Se=Fe.nextSibling;return o(Ne,_),Be.addEventListener("change",je=>ae(Te(),"quantity",Number(je.target.value))),Fe.addEventListener("change",je=>ae(Te(),"unitCost",Number(je.target.value))),Se.addEventListener("change",je=>ae(Te(),"notes",je.target.value)),r(Ne,u(Ae,{variant:"outline",size:"sm",type:"button",onClick:()=>le(Te()),style:{color:"#f44336","border-color":"#f44336"},get children(){return e("common.remove")}}),null),z(je=>{var Qe=m,Ye=m,he=e("common.auto"),Ge=m,rt=e("common.optionalNotes");return je.e=o(Be,Qe,je.e),je.t=o(Fe,Ye,je.t),he!==je.a&&Ze(Fe,"placeholder",je.a=he),je.o=o(Se,Ge,je.o),rt!==je.i&&Ze(Se,"placeholder",je.i=rt),je},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),z(()=>Be.value=we.quantity),z(()=>Fe.value=we.unitCost),z(()=>Se.value=we.notes),Ne})()]})]})(),null),r(L,(()=>{var xe=F(()=>C().length===0);return()=>xe()&&(()=>{var we=hn();return we.style.setProperty("text-align","center"),we.style.setProperty("padding","2rem"),we.style.setProperty("background","var(--background-color)"),we.style.setProperty("border-radius","var(--border-radius-sm)"),we.style.setProperty("border","1px solid var(--border-color)"),we.style.setProperty("color","var(--text-muted)"),r(we,()=>e("inventory.noProductsAdded")),we})()})(),null),r(q,(()=>{var xe=F(()=>C().length>0);return()=>xe()&&(()=>{var we=ws(),Te=we.firstChild,Ne=Te.nextSibling,Be=Ne.firstChild,Fe=Be.firstChild,Se=Be.nextSibling,je=Ne.nextSibling,Qe=je.firstChild,Ye=Qe.firstChild,he=Qe.nextSibling,Ge=je.nextSibling,rt=Ge.firstChild,tt=rt.firstChild,ot=rt.nextSibling,Ke=Ge.nextSibling,st=Ke.firstChild,ut=st.firstChild,ke=st.nextSibling;return o(we,w),Te.style.setProperty("margin","0 0 1rem 0"),Te.style.setProperty("font-size","1rem"),r(Te,()=>e("common.summary")),r(Be,()=>e("inventory.totalProducts"),Fe),Se.style.setProperty("font-weight","600"),r(Se,()=>C().length),r(Qe,()=>e("inventory.totalItems"),Ye),he.style.setProperty("font-weight","600"),r(he,p),r(rt,()=>e("inventory.totalValue"),tt),ot.style.setProperty("font-weight","600"),ot.style.setProperty("color","var(--primary-color)"),r(ot,()=>J(X())),r(st,()=>e("inventory.movementType"),ut),ke.style.setProperty("font-weight","600"),r(ke,()=>H(a())),z(Ie=>{var Me=de,Re=de,We=de,Ve=de;return Ie.e=o(Ne,Me,Ie.e),Ie.t=o(je,Re,Ie.t),Ie.a=o(Ge,We,Ie.a),Ie.o=o(Ke,Ve,Ie.o),Ie},{e:void 0,t:void 0,a:void 0,o:void 0}),we})()})(),$e),r(_e,()=>e("common.generalNotes")),Le.addEventListener("change",xe=>I(xe.target.value)),r(q,(()=>{var xe=F(()=>x().length>0);return()=>xe()&&(()=>{var we=hn();return o(we,$),r(we,u(dt,{get each(){return x()},children:Te=>(()=>{var Ne=ks();return Ne.firstChild,r(Ne,Te,null),Ne})()})),we})()})(),Ue),o(Ue,N),r(Ue,u(Ae,{variant:"secondary",type:"button",onClick:ie,get children(){return e("common.cancel")}}),null),r(Ue,u(Ae,{variant:"primary",type:"submit",get children(){return e("inventory.createMovement")}}),null),z(xe=>{var we=A,Te=m,Ne=A,Be=m,Fe=e("common.referenceNumberPlaceholder"),Se=se,je=A,Qe=B,Ye=a()==="transfer"?"1fr 1fr":"1fr",he=A,Ge=se,rt=se,tt=A,ot={...m,"min-height":"80px",resize:"vertical"},Ke=e("inventory.generalNotesPlaceholder");return xe.e=o(ce,we,xe.e),xe.t=o(Y,Te,xe.t),xe.a=o(fe,Ne,xe.a),xe.o=o(W,Be,xe.o),Fe!==xe.i&&Ze(W,"placeholder",xe.i=Fe),xe.n=o(T,Se,xe.n),xe.s=o(oe,je,xe.s),xe.h=o(pe,Qe,xe.h),Ye!==xe.r&&((xe.r=Ye)!=null?G.style.setProperty("grid-template-columns",Ye):G.style.removeProperty("grid-template-columns")),xe.d=o(ue,he,xe.d),xe.l=o(L,Ge,xe.l),xe.u=o($e,rt,xe.u),xe.c=o(_e,tt,xe.c),xe.w=o(Le,ot,xe.w),Ke!==xe.m&&Ze(Le,"placeholder",xe.m=Ke),xe},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0}),z(()=>Y.value=n()),z(()=>W.value=l()),z(()=>pe.value=a()),z(()=>Le.value=D()),q})(),u(dn,{get isOpen(){return M()},onClose:()=>U(!1),onProductAdded:q=>{U(!1)}}),u(Vn,{get isOpen(){return j()},onClose:()=>ne(!1),onLocationAdded:q=>{a()==="transfer"&&!b()?E(q):y(q),ne(!1)}})]}})};var Is=k("<div><div></div><div></div><div></div><div>"),Es=k("<div><strong>:</strong> "),Ds=k("<div><div><span></span><span></span></div><div><span></span><span> </span></div><div><span></span><span> </span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span>"),Ls=k("<div>");const Ns=t=>{const{t:e}=He(),n={display:"flex","justify-content":"space-between","align-items":"center",padding:"0.75rem 0","border-bottom":"1px solid var(--border-color)"},i={"font-weight":"500",color:"var(--text-muted)","font-size":"0.875rem"},l={"font-weight":"600",color:"var(--text-primary)"},c={"text-align":"center","margin-bottom":"2rem"},a={"font-size":"1.5rem","font-weight":"600",color:"var(--text-primary)",margin:"0.5rem 0"},s={color:"var(--text-muted)","font-size":"1rem"},d={"font-size":"1.25rem","font-weight":"600",color:"var(--primary-color)","margin-bottom":"1rem"},y=(P,x)=>({padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500","text-transform":"uppercase","letter-spacing":"0.5px",background:P>x?"#d4edda":"#f8d7da",color:P>x?"#155724":"#721c24"}),b={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},E={"margin-bottom":"1.5rem",padding:"1rem",background:"var(--background-color)","border-radius":"var(--border-radius-sm)",color:"var(--text-secondary)"};if(!t.item)return null;const D=P=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(P),I=P=>new Date(P).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),C=t.item.price*t.item.quantity;return u(Pt,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return e("inventory.itemDetails")},get children(){return[(()=>{var P=Is(),x=P.firstChild,h=x.nextSibling,M=h.nextSibling,U=M.nextSibling;return o(P,c),o(x,a),r(x,()=>t.item.name),o(h,s),r(h,()=>t.item.category),o(M,d),r(M,()=>D(t.item.price)),r(U,(()=>{var j=F(()=>t.item.quantity>t.item.minStock);return()=>j()?e("inventory.inStock"):e("inventory.lowStockAlert")})()),z(j=>o(U,y(t.item.quantity,t.item.minStock),j)),P})(),(()=>{var P=Es(),x=P.firstChild,h=x.firstChild;return x.nextSibling,o(P,E),r(x,()=>e("common.description"),h),r(P,()=>t.item.description,null),P})(),(()=>{var P=Ds(),x=P.firstChild,h=x.firstChild,M=h.nextSibling,U=x.nextSibling,j=U.firstChild,ne=j.nextSibling,V=ne.firstChild,le=U.nextSibling,ae=le.firstChild,me=ae.nextSibling,ye=me.firstChild,ie=le.nextSibling,X=ie.firstChild,p=X.nextSibling,se=ie.nextSibling,A=se.firstChild,m=A.nextSibling,B=se.nextSibling,g=B.firstChild,_=g.nextSibling,S=B.nextSibling,w=S.firstChild,de=w.nextSibling;return r(h,()=>e("inventory.sku")),r(M,()=>t.item.sku),r(j,()=>e("inventory.quantity")),r(ne,()=>t.item.quantity,V),r(ne,()=>e("common.units"),null),r(ae,()=>e("inventory.minimumStock")),r(me,()=>t.item.minStock,ye),r(me,()=>e("common.units"),null),r(X,()=>e("inventory.totalValue")),r(p,()=>D(C)),r(A,()=>e("inventory.supplier")),r(m,()=>t.item.supplier),r(g,()=>e("inventory.location")),r(_,()=>t.item.location),r(w,()=>e("common.lastUpdated")),r(de,()=>I(t.item.lastUpdated)),z($=>{var N=n,J=i,H=l,q=n,Q=i,ee=l,ce=n,R=i,Y=l,ge=n,fe=i,Z=l,W=n,T=i,oe=l,te=n,pe=i,ve=l,v=n,f=i,K=l;return $.e=o(x,N,$.e),$.t=o(h,J,$.t),$.a=o(M,H,$.a),$.o=o(U,q,$.o),$.i=o(j,Q,$.i),$.n=o(ne,ee,$.n),$.s=o(le,ce,$.s),$.h=o(ae,R,$.h),$.r=o(me,Y,$.r),$.d=o(ie,ge,$.d),$.l=o(X,fe,$.l),$.u=o(p,Z,$.u),$.c=o(se,W,$.c),$.w=o(A,T,$.w),$.m=o(m,oe,$.m),$.f=o(B,te,$.f),$.y=o(g,pe,$.y),$.g=o(_,ve,$.g),$.p=o(S,v,$.p),$.b=o(w,f,$.b),$.T=o(de,K,$.T),$},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0}),P})(),(()=>{var P=Ls();return o(P,b),r(P,u(Ae,{variant:"secondary",get onClick(){return t.onClose},get children(){return e("common.close")}}),null),r(P,u(Ae,{variant:"primary",onClick:()=>{console.log("Edit item:",t.item.id)},get children(){return e("common.editItem")}}),null),P})()]}})};var Ts=k("<div>ðŸ”„"),Bs=k("<button type=button>Ã—"),Ms=k("<div>âš ï¸ "),yo=k("<div>"),Rs=k("<div><div><input type=text autocomplete=off>"),Os=k("<div><div><div><div></div><div><span>: </span><span>â€¢</span><span></span><span>â€¢</span><span></span></div></div><div><div> </div><div>"),js=k("<span>âš ï¸ ");const zs=t=>{const{t:e}=He(),[n,i]=re(""),[l,c]=re(!1),[a,s]=re(null),[d,y]=re([]),[b,E]=re(!1),[D,I]=re(-1),[C,P]=re(null),x=t.searchDelay||300;t.maxResults;const h=async N=>{if(!N.trim()||N.trim().length<3){y([]),t.onSearchResults?.([]);return}try{c(!0),s(null);try{console.log("apiResults",N),t.onSearchResults?.(N)}catch(J){console.warn("API search failed, using local fallback:",J),s("API search failed, showing local results")}}catch(J){const H=J instanceof Error?J.message:"Search failed";s(H),y([]),t.onSearchResults?.([])}finally{c(!1)}},M=N=>{const H=N.target.value;i(H),s(null),console.log(),t.showResults,C()&&clearTimeout(C());const q=setTimeout(()=>{h(H)},x);P(q)},U=N=>{i(N.name),E(!1),I(-1),t.onInventorySelect?.(N)},j=N=>{if(!(!b()||d().length===0))switch(N.key){case"ArrowDown":N.preventDefault(),I(J=>Math.min(J+1,d().length-1));break;case"ArrowUp":N.preventDefault(),I(J=>Math.max(J-1,-1));break;case"Enter":N.preventDefault(),D()>=0&&d()[D()]&&U(d()[D()]);break;case"Escape":E(!1),I(-1);break}},ne=()=>{t.showResults!==!1&&d().length>0&&E(!0)},V=()=>{setTimeout(()=>{E(!1),I(-1)},150)},le=()=>{i(""),y([]),s(null),E(!1),I(-1),t.onSearchResults?.([]),C()&&(clearTimeout(C()),P(null))},ae=N=>De.stockLevels.filter(J=>J.inventoryId===N).reduce((J,H)=>J+H.quantity,0),me=N=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(N),ye={position:"relative",width:"100%",...t.style},ie={position:"relative",display:"flex","align-items":"center"},X={width:"100%",padding:"0.75rem","padding-right":n()?"2.5rem":"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)",cursor:t.disabled?"not-allowed":"text",opacity:t.disabled?"0.6":"1",outline:"none",transition:"border-color 0.2s ease"},p={position:"absolute",right:"0.5rem",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"var(--text-muted)","font-size":"1.2rem","line-height":"1",padding:"0.25rem","border-radius":"50%",transition:"all 0.2s ease"},se={position:"absolute",right:n()?"2.5rem":"0.75rem",top:"50%",transform:"translateY(-50%)","font-size":"0.875rem",color:"var(--text-muted)"},A={position:"absolute",top:"100%",left:"0",right:"0","z-index":"1000","max-height":"300px","overflow-y":"auto",background:"var(--surface-color)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","box-shadow":"0 4px 12px rgba(0,0,0,0.15)","margin-top":"2px"},m=N=>({padding:"0.75rem",cursor:"pointer","border-bottom":"1px solid var(--border-color)",background:N?"var(--strip-color)":"transparent",transition:"background-color 0.2s ease"}),B={display:"flex","justify-content":"space-between","align-items":"center"},g={flex:"1"},_={"font-weight":"500","margin-bottom":"0.25rem",color:"var(--text-primary)"},S={"font-size":"0.875rem",color:"var(--text-muted)",display:"flex",gap:"0.5rem"},w={"text-align":"right","font-size":"0.875rem"},de={padding:"1rem","text-align":"center",color:"var(--text-muted)","font-style":"italic"},$={padding:"0.5rem 1rem",background:"#fff3cd",color:"#856404","border-bottom":"1px solid var(--border-color)","font-size":"0.875rem"};return(()=>{var N=Rs(),J=N.firstChild,H=J.firstChild;return H.addEventListener("blur",V),H.addEventListener("focus",ne),H.$$keydown=j,H.$$input=M,r(J,u(qe,{get when(){return l()},get children(){var q=Ts();return z(Q=>o(q,se,Q)),q}}),null),r(J,u(qe,{get when(){return F(()=>!!n())()&&!l()},get children(){var q=Bs();return q.addEventListener("mouseleave",Q=>{Q.currentTarget.style.background="none",Q.currentTarget.style.color="var(--text-muted)"}),q.addEventListener("mouseenter",Q=>{Q.currentTarget.style.background="var(--border-color)",Q.currentTarget.style.color="var(--text-primary)"}),q.$$click=le,z(Q=>{var ee=p,ce=e("common.clear","Clear search");return Q.e=o(q,ee,Q.e),ce!==Q.t&&Ze(q,"title",Q.t=ce),Q},{e:void 0,t:void 0}),q}}),null),r(N,u(qe,{get when(){return b()&&t.showResults!==!1},get children(){var q=yo();return r(q,u(qe,{get when(){return a()},get children(){var Q=Ms();return Q.firstChild,o(Q,$),r(Q,a,null),Q}}),null),r(q,u(qe,{get when(){return d().length>0},get fallback(){return F(()=>!!(n()&&!l()))()&&(()=>{var Q=yo();return o(Q,de),r(Q,()=>e("inventory.noInventorysFound","No inventorys found matching your search.")),Q})()},get children(){return u(dt,{get each(){return d()},children:(Q,ee)=>{const ce=ae(Q.id),R=ce<=Q.minStockLevel;return(()=>{var Y=Os(),ge=Y.firstChild,fe=ge.firstChild,Z=fe.firstChild,W=Z.nextSibling,T=W.firstChild,oe=T.firstChild,te=T.nextSibling,pe=te.nextSibling,ve=pe.nextSibling,v=ve.nextSibling,f=fe.nextSibling,K=f.firstChild,G=K.firstChild,O=K.nextSibling;return Y.addEventListener("mouseenter",()=>I(ee())),Y.$$click=()=>U(Q),o(ge,B),o(fe,g),o(Z,_),r(Z,()=>Q.name),o(W,S),r(T,()=>e("inventory.sku","SKU"),oe),r(T,()=>Q.sku,null),r(pe,()=>Q.category),r(v,()=>me(Q.unitCost)),o(f,w),K.style.setProperty("font-weight","600"),(R?"#f44336":"var(--text-primary)")!=null?K.style.setProperty("color",R?"#f44336":"var(--text-primary)"):K.style.removeProperty("color"),r(K,ce,G),r(K,()=>Q.unitOfMeasure,null),O.style.setProperty("color","var(--text-muted)"),r(O,()=>R?(()=>{var ue=js();return ue.firstChild,ue.style.setProperty("color","#f44336"),r(ue,()=>e("inventory.lowStock","Low Stock"),null),ue})():e("inventory.inStock","In Stock")),z(ue=>o(Y,m(ee()===D()),ue)),Y})()}})}}),null),z(Q=>o(q,A,Q)),q}}),null),z(q=>{var Q=ye,ee=ie,ce=X,R=t.placeholder||e("inventory.searchInventorys","Search inventorys by name, SKU, or category..."),Y=t.disabled;return q.e=o(N,Q,q.e),q.t=o(J,ee,q.t),q.a=o(H,ce,q.a),R!==q.o&&Ze(H,"placeholder",q.o=R),Y!==q.i&&(H.disabled=q.i=Y),q},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),z(()=>H.value=n()),N})()};yt(["input","keydown","click"]);var Fs=k("<div>"),Sn=k("<div><span>:</span><span>"),qs=k("<div><button> "),Us=k("<div><div><div><h3></h3><div>: </div></div><div><span></span></div></div><div><h4></h4><div><span>:</span><span></span></div><div><span>:</span><span> </span></div><div><span>:</span><span></span></div><div><span> <!>:</span><span></span></div></div><div><h4></h4><div><span>:</span><span></span></div></div><div><h4></h4><div><span>:</span><span></span></div><div><span>:</span><span>");const Vs=t=>{const{t:e}=He(),n=I=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(I),i=I=>new Date(I).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),l=I=>({in:{bg:"#e8f5e8",color:"#2d7d32"},out:{bg:"#ffebee",color:"#d32f2f"},transfer:{bg:"#e3f2fd",color:"#1976d2"},adjustment:{bg:"#fff3e0",color:"#f57c00"}})[I]||{bg:"#f5f5f5",color:"#666"},c=I=>({in:"ðŸ“¦",out:"ðŸ“¤",transfer:"ðŸ”„",adjustment:"âš–ï¸"})[I]||"ðŸ“‹",a=()=>t.movement,s={display:"flex","justify-content":"space-between","align-items":"center",padding:"0.75rem 0","border-bottom":"1px solid var(--border-color)"},d={"font-weight":"500",color:"var(--text-muted)","font-size":"0.875rem"},y={"font-weight":"600",color:"var(--text-primary)","text-align":"right"},b={"margin-bottom":"1.5rem"},E={"font-weight":"600","margin-bottom":"0.75rem","padding-bottom":"0.5rem","border-bottom":"2px solid var(--border-color)"},D=I=>({display:"inline-flex","align-items":"center",gap:"0.5rem",padding:"0.5rem 1rem","border-radius":"9999px","font-size":"0.875rem","font-weight":"600","text-transform":"uppercase","letter-spacing":"0.5px",background:l(I).bg,color:l(I).color});return u(Pt,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return e("inventory.movementDetails")},size:"lg",get children(){return u(qe,{get when(){return a()},get fallback(){return(()=>{var I=Fs();return r(I,()=>e("common.noDataFound")),I})()},children:I=>(()=>{var C=Us(),P=C.firstChild,x=P.firstChild,h=x.firstChild,M=h.nextSibling,U=M.firstChild,j=x.nextSibling,ne=j.firstChild,V=P.nextSibling,le=V.firstChild,ae=le.nextSibling,me=ae.firstChild,ye=me.firstChild,ie=me.nextSibling,X=ae.nextSibling,p=X.firstChild,se=p.firstChild,A=p.nextSibling,m=A.firstChild,B=X.nextSibling,g=B.firstChild,_=g.firstChild,S=g.nextSibling,w=B.nextSibling,de=w.firstChild,$=de.firstChild,N=$.nextSibling;N.nextSibling;var J=de.nextSibling,H=V.nextSibling,q=H.firstChild,Q=q.nextSibling,ee=Q.firstChild,ce=ee.firstChild,R=ee.nextSibling,Y=H.nextSibling,ge=Y.firstChild,fe=ge.nextSibling,Z=fe.firstChild,W=Z.firstChild,T=Z.nextSibling,oe=fe.nextSibling,te=oe.firstChild,pe=te.firstChild,ve=te.nextSibling;return P.style.setProperty("display","flex"),P.style.setProperty("justify-content","space-between"),P.style.setProperty("align-items","center"),P.style.setProperty("margin-bottom","1.5rem"),P.style.setProperty("padding-bottom","1rem"),P.style.setProperty("border-bottom","2px solid var(--border-color)"),h.style.setProperty("margin","0 0 0.5rem 0"),h.style.setProperty("font-size","1.25rem"),r(h,()=>I().productName),M.style.setProperty("font-size","0.875rem"),M.style.setProperty("color","var(--text-muted)"),r(M,()=>e("inventory.sku"),U),r(M,()=>I().productSku,null),ne.style.setProperty("font-size","1.2rem"),r(ne,()=>c(I().movementType)),r(j,()=>I().movementType,null),r(le,()=>e("inventory.movementInformation")),r(me,()=>e("inventory.referenceNumber"),ye),r(ie,()=>I().referenceNumber),r(p,()=>e("common.quantity"),se),r(A,()=>I().quantity,m),r(A,()=>e("common.units"),null),r(g,()=>e("inventory.unitCost"),_),r(S,()=>n(I().unitCost)),r(de,()=>e("common.total"),$),r(de,()=>e("common.value"),N),r(J,()=>n(I().totalCost)),r(q,()=>e("inventory.locationInformation")),r(ee,()=>e("inventory.location"),ce),r(R,()=>I().locationName),r(H,u(qe,{get when(){return I().fromLocationName},get children(){var v=Sn(),f=v.firstChild,K=f.firstChild,G=f.nextSibling;return r(f,()=>e("common.from"),K),r(G,()=>I().fromLocationName),z(O=>{var ue=s,L=d,be=y;return O.e=o(v,ue,O.e),O.t=o(f,L,O.t),O.a=o(G,be,O.a),O},{e:void 0,t:void 0,a:void 0}),v}}),null),r(H,u(qe,{get when(){return I().invoiceId},get children(){var v=Sn(),f=v.firstChild,K=f.firstChild,G=f.nextSibling;return r(f,()=>e("common.invoice"),K),r(G,()=>I().invoiceId),z(O=>{var ue=s,L=d,be={...y,color:"var(--primary-color)"};return O.e=o(v,ue,O.e),O.t=o(f,L,O.t),O.a=o(G,be,O.a),O},{e:void 0,t:void 0,a:void 0}),v}}),null),r(ge,()=>e("common.details")),r(Z,()=>e("common.createdBy"),W),r(T,()=>I().createdBy),r(te,()=>e("common.created"),pe),r(ve,()=>i(I().createdDate)),r(Y,u(qe,{get when(){return I().notes},get children(){var v=Sn(),f=v.firstChild,K=f.firstChild,G=f.nextSibling;return r(f,()=>e("common.notes"),K),r(G,()=>I().notes),z(O=>{var ue={...s,"border-bottom":"none"},L=d,be={...y,"font-style":"italic","max-width":"60%","white-space":"pre-wrap"};return O.e=o(v,ue,O.e),O.t=o(f,L,O.t),O.a=o(G,be,O.a),O},{e:void 0,t:void 0,a:void 0}),v}}),null),r(C,u(qe,{get when(){return t.onEdit},get children(){var v=qs(),f=v.firstChild,K=f.firstChild;return v.style.setProperty("display","flex"),v.style.setProperty("justify-content","flex-end"),v.style.setProperty("margin-top","1.5rem"),v.style.setProperty("padding-top","1rem"),v.style.setProperty("border-top","1px solid var(--border-color)"),f.addEventListener("mouseleave",G=>{G.currentTarget.style.transform="translateY(0)",G.currentTarget.style.boxShadow="none"}),f.addEventListener("mouseenter",G=>{G.currentTarget.style.transform="translateY(-1px)",G.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.15)"}),f.$$click=()=>t.onEdit?.(I()),f.style.setProperty("padding","0.5rem 1.5rem"),f.style.setProperty("border-radius","var(--border-radius-sm)"),f.style.setProperty("border","1px solid var(--primary-color)"),f.style.setProperty("background","var(--primary-color)"),f.style.setProperty("color","white"),f.style.setProperty("cursor","pointer"),f.style.setProperty("font-weight","500"),f.style.setProperty("transition","all 0.2s ease"),r(f,()=>e("common.edit"),K),r(f,()=>e("inventory.movement"),null),v}}),null),z(v=>{var f=D(I().movementType),K=b,G=E,O=s,ue=d,L=y,be=s,Pe=d,$e={...y,"font-size":"1.1rem",color:"var(--primary-color)"},_e=s,Le=d,Ue=y,xe=s,we=d,Te={...y,"font-size":"1.1rem",color:"var(--primary-color)"},Ne=b,Be=E,Fe=s,Se=d,je=y,Qe=b,Ye=E,he=s,Ge=d,rt=y,tt=s,ot=d,Ke=y;return v.e=o(j,f,v.e),v.t=o(V,K,v.t),v.a=o(le,G,v.a),v.o=o(ae,O,v.o),v.i=o(me,ue,v.i),v.n=o(ie,L,v.n),v.s=o(X,be,v.s),v.h=o(p,Pe,v.h),v.r=o(A,$e,v.r),v.d=o(B,_e,v.d),v.l=o(g,Le,v.l),v.u=o(S,Ue,v.u),v.c=o(w,xe,v.c),v.w=o(de,we,v.w),v.m=o(J,Te,v.m),v.f=o(H,Ne,v.f),v.y=o(q,Be,v.y),v.g=o(Q,Fe,v.g),v.p=o(ee,Se,v.p),v.b=o(R,je,v.b),v.T=o(Y,Qe,v.T),v.A=o(ge,Ye,v.A),v.O=o(fe,he,v.O),v.I=o(Z,Ge,v.I),v.S=o(T,rt,v.S),v.W=o(oe,tt,v.W),v.C=o(te,ot,v.C),v.B=o(ve,Ke,v.B),v},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0,O:void 0,I:void 0,S:void 0,W:void 0,C:void 0,B:void 0}),C})()})}})};yt(["click"]);var ur=k("<div>"),Ys=k("<div><label></label><select><option value>"),Ws=k("<div><div><span>:</span><span>$"),Hs=k("<form><div><label></label><select><option value=in></option><option value=out></option><option value=transfer></option><option value=adjustment></option></select></div><div><label></label><select><option value></option></select></div><div><label></label><input type=number min=0.01 step=0.01></div><div><label></label><input type=number min=0 step=0.01></div><div><label></label><input type=text></div><div><label> (<!>)</label><input type=text></div><div><label> (<!>)</label><textarea></textarea></div><div><button type=button></button><button type=submit>"),mo=k("<option> (<!>)");const Gs=t=>{const{t:e}=He(),[n,i]=re("in"),[l,c]=re(""),[a,s]=re(""),[d,y]=re(""),[b,E]=re(""),[D,I]=re(""),[C,P]=re(""),[x,h]=re(""),[M,U]=re(!1),[j,ne]=re({});gr(()=>{const se=t.movement;se&&t.isOpen&&(i(se.movementType),c(se.quantity.toString()),s(se.unitCost.toString()),y(se.referenceNumber),E(se.notes),P(se.locationId),I(se.fromLocationId||""),h(se.invoiceId||""),ne({}))});const V=()=>{const se={};return(!l()||parseFloat(l())<=0)&&(se.quantity=e("forms.requiredField")),(!a()||parseFloat(a())<0)&&(se.unitCost=e("forms.requiredField")),d().trim()||(se.referenceNumber=e("forms.requiredField")),C()||(se.locationId=e("forms.requiredField")),n()==="transfer"&&!D()&&(se.fromLocationId=e("forms.requiredField")),ne(se),Object.keys(se).length===0},le=async se=>{if(se.preventDefault(),!(!V()||!t.movement)){U(!0);try{const A=t.movement,m=De.getProductById(A.productId),B=De.getLocationById(C()),g=D()?De.getLocationById(D()):null;if(!m||!B)throw new Error("Product or location not found");const _={...A,movementType:n(),quantity:parseFloat(l()),unitCost:parseFloat(a()),totalCost:parseFloat(l())*parseFloat(a()),referenceNumber:d().trim(),notes:b().trim(),locationId:C(),locationName:B.name,fromLocationId:D()||void 0,fromLocationName:g?.name,invoiceId:x().trim()||void 0,lastModified:new Date().toISOString()};De.updateMovement(A.id,_),t.onMovementUpdated?.(),t.onClose(),ae()}catch(A){console.error("Error updating movement:",A),ne({submit:e("forms.saveError")})}finally{U(!1)}}},ae=()=>{i("in"),c(""),s(""),y(""),E(""),I(""),P(""),h(""),ne({})},me=()=>{ae(),t.onClose()},ye={width:"100%",padding:"0.5rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",transition:"border-color 0.2s ease"},ie={display:"block","margin-bottom":"0.25rem","font-weight":"500","font-size":"0.875rem"},X={color:"#d32f2f","font-size":"0.75rem","margin-top":"0.25rem"},p={"margin-bottom":"1rem"};return u(Pt,{get isOpen(){return t.isOpen},onClose:me,get title(){return e("inventory.editMovement","Edit Movement")},get children(){return u(qe,{get when(){return t.movement},get fallback(){return(()=>{var se=ur();return r(se,()=>e("common.loading")),se})()},get children(){var se=Hs(),A=se.firstChild,m=A.firstChild,B=m.nextSibling,g=B.firstChild,_=g.nextSibling,S=_.nextSibling,w=S.nextSibling,de=A.nextSibling,$=de.firstChild,N=$.nextSibling,J=N.firstChild,H=de.nextSibling,q=H.firstChild,Q=q.nextSibling,ee=H.nextSibling,ce=ee.firstChild,R=ce.nextSibling,Y=ee.nextSibling,ge=Y.firstChild,fe=ge.nextSibling,Z=Y.nextSibling,W=Z.firstChild,T=W.firstChild,oe=T.nextSibling;oe.nextSibling;var te=W.nextSibling,pe=Z.nextSibling,ve=pe.firstChild,v=ve.firstChild,f=v.nextSibling;f.nextSibling;var K=ve.nextSibling,G=pe.nextSibling,O=G.firstChild,ue=O.nextSibling;return se.addEventListener("submit",le),r(m,()=>e("inventory.movementType")),B.addEventListener("change",L=>i(L.target.value)),r(g,()=>e("inventory.stockIn")),r(_,()=>e("inventory.stockOut")),r(S,()=>e("inventory.transfer")),r(w,()=>e("inventory.adjustment")),r($,(()=>{var L=F(()=>n()==="transfer");return()=>L()?e("inventory.toLocation"):e("inventory.location")})()),N.addEventListener("change",L=>P(L.target.value)),r(J,()=>e("modals.selectLocation")),r(N,u(dt,{get each(){return De.getActiveLocations()},children:L=>(()=>{var be=mo(),Pe=be.firstChild,$e=Pe.nextSibling;return $e.nextSibling,r(be,()=>L.name,Pe),r(be,()=>L.type,$e),z(()=>be.value=L.id),be})()}),null),r(de,u(qe,{get when(){return j().locationId},get children(){var L=ur();return r(L,()=>j().locationId),z(be=>o(L,X,be)),L}}),null),r(se,u(qe,{get when(){return n()==="transfer"},get children(){var L=Ys(),be=L.firstChild,Pe=be.nextSibling,$e=Pe.firstChild;return r(be,()=>e("inventory.fromLocation")),Pe.addEventListener("change",_e=>I(_e.target.value)),r($e,()=>e("modals.selectLocation")),r(Pe,u(dt,{get each(){return De.getActiveLocations().filter(_e=>_e.id!==C())},children:_e=>(()=>{var Le=mo(),Ue=Le.firstChild,xe=Ue.nextSibling;return xe.nextSibling,r(Le,()=>_e.name,Ue),r(Le,()=>_e.type,xe),z(()=>Le.value=_e.id),Le})()}),null),r(L,u(qe,{get when(){return j().fromLocationId},get children(){var _e=ur();return r(_e,()=>j().fromLocationId),z(Le=>o(_e,X,Le)),_e}}),null),z(_e=>{var Le=p,Ue=ie,xe={...ye,"border-color":j().fromLocationId?"#d32f2f":"var(--border-color)"},we=M();return _e.e=o(L,Le,_e.e),_e.t=o(be,Ue,_e.t),_e.a=o(Pe,xe,_e.a),we!==_e.o&&(Pe.disabled=_e.o=we),_e},{e:void 0,t:void 0,a:void 0,o:void 0}),z(()=>Pe.value=D()),L}}),H),r(q,()=>e("common.quantity")),Q.$$input=L=>c(L.target.value),r(H,u(qe,{get when(){return j().quantity},get children(){var L=ur();return r(L,()=>j().quantity),z(be=>o(L,X,be)),L}}),null),r(ce,()=>e("inventory.unitCost")),R.$$input=L=>s(L.target.value),r(ee,u(qe,{get when(){return j().unitCost},get children(){var L=ur();return r(L,()=>j().unitCost),z(be=>o(L,X,be)),L}}),null),r(se,u(qe,{get when(){return F(()=>!!l())()&&a()},get children(){var L=Ws(),be=L.firstChild,Pe=be.firstChild,$e=Pe.firstChild,_e=Pe.nextSibling;return _e.firstChild,be.style.setProperty("display","flex"),be.style.setProperty("justify-content","space-between"),Pe.style.setProperty("font-weight","500"),r(Pe,()=>e("common.total"),$e),_e.style.setProperty("font-weight","600"),_e.style.setProperty("color","var(--primary-color)"),r(_e,()=>(parseFloat(l()||"0")*parseFloat(a()||"0")).toFixed(2),null),z(Le=>o(L,{...p,padding:"0.75rem",background:"var(--surface-color)","border-radius":"var(--border-radius-sm)"},Le)),L}}),Y),r(ge,()=>e("inventory.referenceNumber")),fe.$$input=L=>y(L.target.value),r(Y,u(qe,{get when(){return j().referenceNumber},get children(){var L=ur();return r(L,()=>j().referenceNumber),z(be=>o(L,X,be)),L}}),null),r(W,()=>e("inventory.invoiceNumber"),T),r(W,()=>e("common.optional"),oe),te.$$input=L=>h(L.target.value),r(ve,()=>e("common.notes"),v),r(ve,()=>e("common.optional"),f),K.$$input=L=>E(L.target.value),r(se,u(qe,{get when(){return j().submit},get children(){var L=ur();return r(L,()=>j().submit),z(be=>o(L,{...X,"margin-bottom":"1rem"},be)),L}}),G),G.style.setProperty("display","flex"),G.style.setProperty("gap","1rem"),G.style.setProperty("justify-content","flex-end"),O.$$click=me,O.style.setProperty("padding","0.5rem 1rem"),O.style.setProperty("border","1px solid var(--border-color)"),O.style.setProperty("border-radius","var(--border-radius-sm)"),O.style.setProperty("background","white"),O.style.setProperty("cursor","pointer"),r(O,()=>e("common.cancel")),ue.style.setProperty("padding","0.5rem 1rem"),ue.style.setProperty("border","none"),ue.style.setProperty("border-radius","var(--border-radius-sm)"),ue.style.setProperty("background","var(--primary-color)"),ue.style.setProperty("color","white"),ue.style.setProperty("cursor","pointer"),ue.style.setProperty("font-weight","500"),r(ue,(()=>{var L=F(()=>!!M());return()=>L()?e("modals.processing"):e("inventory.updateMovement","Update Movement")})()),z(L=>{var be=p,Pe=ie,$e=ye,_e=M(),Le=p,Ue=ie,xe={...ye,"border-color":j().locationId?"#d32f2f":"var(--border-color)"},we=M(),Te=p,Ne=ie,Be={...ye,"border-color":j().quantity?"#d32f2f":"var(--border-color)"},Fe=e("modals.enterQuantity"),Se=M(),je=p,Qe=ie,Ye={...ye,"border-color":j().unitCost?"#d32f2f":"var(--border-color)"},he=e("modals.enterCost"),Ge=M(),rt=p,tt=ie,ot={...ye,"border-color":j().referenceNumber?"#d32f2f":"var(--border-color)"},Ke=e("modals.enterReference"),st=M(),ut=p,ke=ie,Ie=ye,Me=e("inventory.invoiceNumber"),Re=M(),We=p,Ve=ie,nt={...ye,resize:"vertical","min-height":"80px"},Ce=e("modals.addNotes"),Xe=M(),vt=M(),wt=M();return L.e=o(A,be,L.e),L.t=o(m,Pe,L.t),L.a=o(B,$e,L.a),_e!==L.o&&(B.disabled=L.o=_e),L.i=o(de,Le,L.i),L.n=o($,Ue,L.n),L.s=o(N,xe,L.s),we!==L.h&&(N.disabled=L.h=we),L.r=o(H,Te,L.r),L.d=o(q,Ne,L.d),L.l=o(Q,Be,L.l),Fe!==L.u&&Ze(Q,"placeholder",L.u=Fe),Se!==L.c&&(Q.disabled=L.c=Se),L.w=o(ee,je,L.w),L.m=o(ce,Qe,L.m),L.f=o(R,Ye,L.f),he!==L.y&&Ze(R,"placeholder",L.y=he),Ge!==L.g&&(R.disabled=L.g=Ge),L.p=o(Y,rt,L.p),L.b=o(ge,tt,L.b),L.T=o(fe,ot,L.T),Ke!==L.A&&Ze(fe,"placeholder",L.A=Ke),st!==L.O&&(fe.disabled=L.O=st),L.I=o(Z,ut,L.I),L.S=o(W,ke,L.S),L.W=o(te,Ie,L.W),Me!==L.C&&Ze(te,"placeholder",L.C=Me),Re!==L.B&&(te.disabled=L.B=Re),L.v=o(pe,We,L.v),L.k=o(ve,Ve,L.k),L.x=o(K,nt,L.x),Ce!==L.j&&Ze(K,"placeholder",L.j=Ce),Xe!==L.q&&(K.disabled=L.q=Xe),vt!==L.z&&(O.disabled=L.z=vt),wt!==L.P&&(ue.disabled=L.P=wt),L},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0,O:void 0,I:void 0,S:void 0,W:void 0,C:void 0,B:void 0,v:void 0,k:void 0,x:void 0,j:void 0,q:void 0,z:void 0,P:void 0}),z(()=>B.value=n()),z(()=>N.value=C()),z(()=>Q.value=l()),z(()=>R.value=a()),z(()=>fe.value=d()),z(()=>te.value=x()),z(()=>K.value=b()),se}})}})};yt(["input","click"]);var Js=k("<div><div></div><div><div><label></label><select><option value=all></option><option value=in></option><option value=out></option><option value=transfer></option><option value=adjustment></option></select></div><div><label></label><input type=date></div><div><label></label><input type=date></div></div><div><div><div></div><div></div></div><div><div></div><div></div></div><div><div></div><div></div></div><div><div></div><div></div></div><div><div></div><div></div></div><div><div></div><div>"),Qs=k("<div><h2>"),vo=k("<div><label></label><select><option value>"),Ks=k("<option> (<!>)"),Zs=k("<option>"),Xs=k("<div><div>ðŸ“¦</div><div></div><div>"),ec=k("<div><div><div><div><span></span><h3></h3><span></span></div><div> â€¢ </div></div><div><div></div><div> <!> @ </div></div></div><div><div><div><span>:</span><span></span></div><div><span>:</span><span></span></div></div><div><div><span>:</span><span>"),tc=k("<span>"),rc=k("<span>â€¢ <!>: "),go=k("<div><span>:</span><span>"),nc=k("<div>"),oc=k("<button>");const ic=t=>{const{t:e}=He(),[n,i]=re(""),[l,c]=re(""),[a,s]=re("all"),[d,y]=re({start:"",end:""}),[b,E]=re(""),[D,I]=re(""),[C,P]=re(1),x=25,[h,M]=re(null),[U,j]=re(!1),[ne,V]=re(!1),le=ze(()=>{let T=De.movements;if(t.filterBy==="product"&&t.filterId?T=T.filter(oe=>oe.productId===t.filterId):t.filterBy==="location"&&t.filterId&&(T=T.filter(oe=>oe.locationId===t.filterId)),n()&&(T=T.filter(oe=>oe.productId===n())),l()&&(T=T.filter(oe=>oe.locationId===l())),a()!=="all"&&(T=T.filter(oe=>oe.movementType===a())),d().start&&(T=T.filter(oe=>oe.createdDate>=d().start)),d().end&&(T=T.filter(oe=>oe.createdDate<=d().end+"T23:59:59Z")),b()){const oe=b().toLowerCase();T=T.filter(te=>te.productName.toLowerCase().includes(oe)||te.productSku.toLowerCase().includes(oe)||te.locationName.toLowerCase().includes(oe)||te.referenceNumber.toLowerCase().includes(oe)||te.notes.toLowerCase().includes(oe)||te.createdBy.toLowerCase().includes(oe)||te.invoiceId&&te.invoiceId.toLowerCase().includes(oe)||te.fromLocationName&&te.fromLocationName.toLowerCase().includes(oe)||te.movementType.toLowerCase().includes(oe))}return T.sort((oe,te)=>new Date(te.createdDate).getTime()-new Date(oe.createdDate).getTime())}),ae=ze(()=>{const T=(C()-1)*x,oe=T+x;return le().slice(T,oe)}),me=ze(()=>Math.ceil(le().length/x)),ye=ze(()=>{const T=le();return{total:T.length,stockIn:T.filter(oe=>oe.movementType==="in").length,stockOut:T.filter(oe=>oe.movementType==="out").length,transfers:T.filter(oe=>oe.movementType==="transfer").length,adjustments:T.filter(oe=>oe.movementType==="adjustment").length,totalValue:T.reduce((oe,te)=>oe+te.totalCost,0)}}),ie={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"2rem"},X={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem","margin-bottom":"2rem",padding:"1.5rem",background:"var(--surface-color)","border-radius":"var(--border-radius)",border:"1px solid var(--border-color)"},p={width:"100%",padding:"0.5rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)",background:"var(--background-color)",cursor:"pointer"},se={width:"100%",padding:"0.5rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)",background:"var(--background-color)"},A={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem","margin-bottom":"2rem"},m={padding:"1rem",background:"var(--surface-color)","border-radius":"var(--border-radius-sm)",border:"1px solid var(--border-color)","text-align":"center"},B={"font-size":"1.5rem","font-weight":"700",color:"var(--primary-color)","margin-bottom":"0.5rem"},g={"font-size":"0.875rem",color:"var(--text-muted)","font-weight":"500"},_={padding:"1.5rem","margin-bottom":"1rem",background:"var(--surface-color)","border-radius":"var(--border-radius)",border:"1px solid var(--border-color)",transition:"all 0.2s ease"},S={display:"flex","justify-content":"space-between","align-items":"flex-start","margin-bottom":"1rem"},w=T=>({padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500","text-transform":"uppercase","letter-spacing":"0.5px",background:Q(T).bg,color:Q(T).color}),de={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem","margin-bottom":"1rem"},$={display:"flex","justify-content":"space-between","align-items":"center",padding:"0.5rem 0","border-bottom":"1px solid var(--border-color)"},N={"font-weight":"500",color:"var(--text-muted)","font-size":"0.875rem"},J={"font-weight":"600",color:"var(--text-primary)"},H={display:"flex","justify-content":"center","align-items":"center",gap:"1rem","margin-top":"2rem"},q=T=>({padding:"0.5rem 1rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)",background:T?"var(--primary-color)":"var(--surface-color)",color:T?"white":"var(--text-primary)",cursor:"pointer","font-weight":"500",transition:"all 0.2s ease"});function Q(T){return{in:{bg:"#e8f5e8",color:"#2d7d32"},out:{bg:"#ffebee",color:"#d32f2f"},transfer:{bg:"#e3f2fd",color:"#1976d2"},adjustment:{bg:"#fff3e0",color:"#f57c00"}}[T]||{bg:"#f5f5f5",color:"#666"}}const ee=T=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(T),ce=T=>new Date(T).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),R=T=>({in:"ðŸ“¦",out:"ðŸ“¤",transfer:"ðŸ”„",adjustment:"âš–ï¸"})[T]||"ðŸ“‹",Y=()=>{i(""),c(""),s("all"),y({start:"",end:""}),E(""),P(1)},ge=T=>{M(T),j(!0)},fe=T=>{M(T),j(!1),V(!0)},Z=()=>{V(!1),M(null)},W=async T=>{l()&&(T+=" "+l()),Kn(a())&&(T+=" "+Kn(a()));const oe=await qr.getInventory(T);console.log("apiResults",T);const te=Object.keys(oe).slice(0,900),pe=[],ve=v=>{let f=oe;f[v]?.products&&f[v]?.products?.map(K=>{let G=ml(f[v]?.type),O={id:f[v]?.ssg_inventory_key,productId:K?.product?.id,productName:K?.product?.label,productSku:K?.product?.code,locationId:f[v]?.store,locationName:f[v]?.store,location:f[v]?.store,movementType:G,quantity:K?.qty,unitCost:K?.price,totalCost:K?.qty*1*K?.price,minStock:10,referenceNumber:"PO-001",notes:f[v]?.description||f[v]?.notes,createdBy:"admin",createdDate:f[v]?.createDate?new Date(f[v]?.createDate).toISOString():new Date().toISOString(),invoiceId:f[v]?.invoice};pe.push(O)})};te.map(ve),De.updMovements(pe)};return(()=>{var T=Js(),oe=T.firstChild,te=oe.nextSibling,pe=te.firstChild,ve=pe.firstChild,v=ve.nextSibling,f=v.firstChild,K=f.nextSibling,G=K.nextSibling,O=G.nextSibling,ue=O.nextSibling,L=pe.nextSibling,be=L.firstChild,Pe=be.nextSibling,$e=L.nextSibling,_e=$e.firstChild,Le=_e.nextSibling,Ue=te.nextSibling,xe=Ue.firstChild,we=xe.firstChild,Te=we.nextSibling,Ne=xe.nextSibling,Be=Ne.firstChild,Fe=Be.nextSibling,Se=Ne.nextSibling,je=Se.firstChild,Qe=je.nextSibling,Ye=Se.nextSibling,he=Ye.firstChild,Ge=he.nextSibling,rt=Ye.nextSibling,tt=rt.firstChild,ot=tt.nextSibling,Ke=rt.nextSibling,st=Ke.firstChild,ut=st.nextSibling;return r(T,(()=>{var ke=F(()=>!t.filterBy);return()=>ke()&&(()=>{var Ie=Qs(),Me=Ie.firstChild;return o(Ie,ie),Me.style.setProperty("margin","0"),Me.style.setProperty("font-size","1.5rem"),r(Me,()=>e("inventory.movements")),r(Ie,u(Ae,{variant:"outline",onClick:Y,get children(){return e("common.clearFilters")}}),null),Ie})()})(),oe),r(T,u(zs,{filters:{selectedLocation:l,movementType:a},onSearchResults:ke=>{I(ke),W(ke)},get placeholder(){return e("inventory.searchProductsStock","Search inventories...")},showResults:!1,maxResults:20}),oe),oe.style.setProperty("margin","20px"),o(te,X),r(te,(()=>{var ke=F(()=>!t.filterBy);return()=>ke()&&[(()=>{var Ie=vo(),Me=Ie.firstChild,Re=Me.nextSibling,We=Re.firstChild;return Me.style.setProperty("display","block"),Me.style.setProperty("margin-bottom","0.5rem"),Me.style.setProperty("font-weight","500"),r(Me,()=>e("inventory.product")),Re.addEventListener("change",Ve=>i(Ve.target.value)),r(We,()=>e("inventory.allProducts")),r(Re,u(dt,{get each(){return De.products},children:Ve=>(()=>{var nt=Ks(),Ce=nt.firstChild,Xe=Ce.nextSibling;return Xe.nextSibling,r(nt,()=>Ve.name,Ce),r(nt,()=>Ve.sku,Xe),z(()=>nt.value=Ve.id),nt})()}),null),z(Ve=>o(Re,p,Ve)),z(()=>Re.value=n()),Ie})(),(()=>{var Ie=vo(),Me=Ie.firstChild,Re=Me.nextSibling,We=Re.firstChild;return Me.style.setProperty("display","block"),Me.style.setProperty("margin-bottom","0.5rem"),Me.style.setProperty("font-weight","500"),r(Me,()=>e("inventory.location")),Re.addEventListener("change",Ve=>c(Ve.target.value)),r(We,()=>e("inventory.allLocations")),r(Re,u(dt,{get each(){return De.locations},children:Ve=>(()=>{var nt=Zs();return r(nt,()=>Ve.name),z(()=>nt.value=Ve.id),nt})()}),null),z(Ve=>o(Re,p,Ve)),z(()=>Re.value=l()),Ie})()]})(),pe),ve.style.setProperty("display","block"),ve.style.setProperty("margin-bottom","0.5rem"),ve.style.setProperty("font-weight","500"),r(ve,()=>e("inventory.movementType")),v.addEventListener("change",ke=>{s(ke.target.value),W(D())}),r(f,()=>e("inventory.allTypes")),r(K,()=>e("inventory.stockIn")),r(G,()=>e("inventory.stockOut")),r(O,()=>e("inventory.transfer")),r(ue,()=>e("inventory.adjustment")),be.style.setProperty("display","block"),be.style.setProperty("margin-bottom","0.5rem"),be.style.setProperty("font-weight","500"),r(be,()=>e("common.startDate")),Pe.addEventListener("change",ke=>y(Ie=>({...Ie,start:ke.target.value}))),_e.style.setProperty("display","block"),_e.style.setProperty("margin-bottom","0.5rem"),_e.style.setProperty("font-weight","500"),r(_e,()=>e("common.endDate")),Le.addEventListener("change",ke=>y(Ie=>({...Ie,end:ke.target.value}))),o(Ue,A),r(we,()=>ye().total),r(Te,()=>e("inventory.totalMovements")),r(Be,()=>ye().stockIn),r(Fe,()=>e("inventory.stockIn")),r(je,()=>ye().stockOut),r(Qe,()=>e("inventory.stockOut")),r(he,()=>ye().transfers),r(Ge,()=>e("inventory.transfers")),r(tt,()=>ye().adjustments),r(ot,()=>e("inventory.adjustments")),r(st,()=>ee(ye().totalValue)),r(ut,()=>e("inventory.totalValue")),r(T,(()=>{var ke=F(()=>ae().length===0);return()=>ke()?(()=>{var Ie=Xs(),Me=Ie.firstChild,Re=Me.nextSibling,We=Re.nextSibling;return Ie.style.setProperty("text-align","center"),Ie.style.setProperty("padding","3rem"),Ie.style.setProperty("color","var(--text-muted)"),Ie.style.setProperty("background","var(--surface-color)"),Ie.style.setProperty("border-radius","var(--border-radius)"),Ie.style.setProperty("border","1px solid var(--border-color)"),Me.style.setProperty("font-size","1.5rem"),Me.style.setProperty("margin-bottom","1rem"),Re.style.setProperty("font-size","1.1rem"),Re.style.setProperty("margin-bottom","0.5rem"),r(Re,()=>e("inventory.noMovementsFound")),We.style.setProperty("font-size","0.875rem"),r(We,()=>e("inventory.tryAdjustingFilters")),Ie})():[u(dt,{get each(){return ae()},children:Ie=>(()=>{var Me=ec(),Re=Me.firstChild,We=Re.firstChild,Ve=We.firstChild,nt=Ve.firstChild,Ce=nt.nextSibling,Xe=Ce.nextSibling,vt=Ve.nextSibling,wt=vt.firstChild,ht=We.nextSibling,pt=ht.firstChild,xt=pt.nextSibling,St=xt.firstChild,Lt=St.nextSibling;Lt.nextSibling;var At=Re.nextSibling,It=At.firstChild,Et=It.firstChild,Ft=Et.firstChild,lr=Ft.firstChild,Jt=Ft.nextSibling,Qt=Et.nextSibling,Kt=Qt.firstChild,kr=Kt.firstChild,fr=Kt.nextSibling,br=It.nextSibling,hr=br.firstChild,Zt=hr.firstChild,Ar=Zt.firstChild,Sr=Zt.nextSibling;return Me.addEventListener("mouseleave",Je=>{Je.currentTarget.style.transform="translateY(0)",Je.currentTarget.style.boxShadow="none"}),Me.addEventListener("mouseenter",Je=>{Je.currentTarget.style.transform="translateY(-2px)",Je.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)"}),Me.$$click=()=>ge(Ie),o(Re,S),Ve.style.setProperty("display","flex"),Ve.style.setProperty("align-items","center"),Ve.style.setProperty("gap","0.5rem"),Ve.style.setProperty("margin-bottom","0.5rem"),nt.style.setProperty("font-size","1.2rem"),r(nt,()=>R(Ie.movementType)),Ce.style.setProperty("margin","0"),Ce.style.setProperty("font-size","1.1rem"),r(Ce,()=>Ie.productName),r(Xe,()=>Ie.movementType),r(Ve,(()=>{var Je=F(()=>!!Ie.invoiceId);return()=>Je()&&(()=>{var ct=tc();return ct.style.setProperty("padding","0.2rem 0.5rem"),ct.style.setProperty("border-radius","var(--border-radius-sm)"),ct.style.setProperty("font-size","0.7rem"),ct.style.setProperty("font-weight","500"),ct.style.setProperty("background","var(--primary-color)"),ct.style.setProperty("color","white"),r(ct,()=>e("inventory.bulk")),ct})()})(),null),vt.style.setProperty("font-size","0.875rem"),vt.style.setProperty("color","var(--text-muted)"),r(vt,()=>Ie.productSku,wt),r(vt,()=>ce(Ie.createdDate),null),r(vt,(()=>{var Je=F(()=>!!Ie.invoiceId);return()=>Je()&&(()=>{var ct=rc(),Ct=ct.firstChild,Bt=Ct.nextSibling;return Bt.nextSibling,ct.style.setProperty("margin-left","0.5rem"),ct.style.setProperty("font-weight","500"),r(ct,()=>e("common.invoice"),Bt),r(ct,()=>Ie.invoiceId,null),ct})()})(),null),ht.style.setProperty("text-align","right"),pt.style.setProperty("font-size","1.25rem"),pt.style.setProperty("font-weight","700"),pt.style.setProperty("color","var(--primary-color)"),r(pt,()=>ee(Ie.totalCost)),xt.style.setProperty("font-size","0.875rem"),xt.style.setProperty("color","var(--text-muted)"),r(xt,()=>Ie.quantity,St),r(xt,()=>e("common.units"),Lt),r(xt,()=>ee(Ie.unitCost),null),o(At,de),r(Ft,()=>e("inventory.location"),lr),r(Jt,()=>Ie.locationName),r(It,(()=>{var Je=F(()=>!!Ie.fromLocationName);return()=>Je()&&(()=>{var ct=go(),Ct=ct.firstChild,Bt=Ct.firstChild,jt=Ct.nextSibling;return r(Ct,()=>e("common.from"),Bt),r(jt,()=>Ie.fromLocationName),z(gt=>{var Vt=$,ar=N,Ir=J;return gt.e=o(ct,Vt,gt.e),gt.t=o(Ct,ar,gt.t),gt.a=o(jt,Ir,gt.a),gt},{e:void 0,t:void 0,a:void 0}),ct})()})(),Qt),r(Kt,()=>e("common.reference"),kr),r(fr,()=>Ie.referenceNumber),r(Zt,()=>e("common.createdBy"),Ar),r(Sr,()=>Ie.createdBy),r(br,(()=>{var Je=F(()=>!!Ie.notes);return()=>Je()&&(()=>{var ct=go(),Ct=ct.firstChild,Bt=Ct.firstChild,jt=Ct.nextSibling;return r(Ct,()=>e("common.notes"),Bt),r(jt,()=>Ie.notes),z(gt=>{var Vt={...$,"border-bottom":"none"},ar=N,Ir={...J,"max-width":"200px","text-align":"right","font-style":"italic"};return gt.e=o(ct,Vt,gt.e),gt.t=o(Ct,ar,gt.t),gt.a=o(jt,Ir,gt.a),gt},{e:void 0,t:void 0,a:void 0}),ct})()})(),null),z(Je=>{var ct={..._,"border-left":Ie.invoiceId?"4px solid var(--primary-color)":"1px solid var(--border-color)",cursor:"pointer"},Ct=w(Ie.movementType),Bt=$,jt=N,gt=J,Vt=$,ar=N,Ir=J,Xo=$,ei=N,ti=J;return Je.e=o(Me,ct,Je.e),Je.t=o(Xe,Ct,Je.t),Je.a=o(Et,Bt,Je.a),Je.o=o(Ft,jt,Je.o),Je.i=o(Jt,gt,Je.i),Je.n=o(Qt,Vt,Je.n),Je.s=o(Kt,ar,Je.s),Je.h=o(fr,Ir,Je.h),Je.r=o(hr,Xo,Je.r),Je.d=o(Zt,ei,Je.d),Je.l=o(Sr,ti,Je.l),Je},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0}),Me})()}),F(()=>F(()=>me()>1)()&&(()=>{var Ie=nc();return o(Ie,H),r(Ie,u(Ae,{variant:"outline",size:"sm",onClick:()=>P(Me=>Math.max(1,Me-1)),get disabled(){return C()===1},get children(){return e("common.previous")}}),null),r(Ie,u(dt,{get each(){return Array.from({length:me()},(Me,Re)=>Re+1)},children:Me=>(()=>{var Re=oc();return Re.$$click=()=>P(Me),r(Re,Me),z(We=>o(Re,q(Me===C()),We)),Re})()}),null),r(Ie,u(Ae,{variant:"outline",size:"sm",onClick:()=>P(Me=>Math.min(me(),Me+1)),get disabled(){return C()===me()},get children(){return e("common.next")}}),null),Ie})())]})(),null),r(T,u(Vs,{get isOpen(){return U()},onClose:()=>{j(!1),M(null)},get movement(){return h()},onEdit:fe}),null),r(T,u(Gs,{get isOpen(){return ne()},onClose:()=>{V(!1),M(null)},get movement(){return h()},onMovementUpdated:Z}),null),z(ke=>{var Ie=p,Me=se,Re=se,We=m,Ve=B,nt=g,Ce=m,Xe={...B,color:"#2d7d32"},vt=g,wt=m,ht={...B,color:"#d32f2f"},pt=g,xt=m,St={...B,color:"#1976d2"},Lt=g,At=m,It={...B,color:"#f57c00"},Et=g,Ft=m,lr=B,Jt=g;return ke.e=o(v,Ie,ke.e),ke.t=o(Pe,Me,ke.t),ke.a=o(Le,Re,ke.a),ke.o=o(xe,We,ke.o),ke.i=o(we,Ve,ke.i),ke.n=o(Te,nt,ke.n),ke.s=o(Ne,Ce,ke.s),ke.h=o(Be,Xe,ke.h),ke.r=o(Fe,vt,ke.r),ke.d=o(Se,wt,ke.d),ke.l=o(je,ht,ke.l),ke.u=o(Qe,pt,ke.u),ke.c=o(Ye,xt,ke.c),ke.w=o(he,St,ke.w),ke.m=o(Ge,Lt,ke.m),ke.f=o(rt,At,ke.f),ke.y=o(tt,It,ke.y),ke.g=o(ot,Et,ke.g),ke.p=o(Ke,Ft,ke.p),ke.b=o(st,lr,ke.b),ke.T=o(ut,Jt,ke.T),ke},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0}),z(()=>v.value=a()),z(()=>Pe.value=d().start),z(()=>Le.value=d().end),T})()};yt(["click"]);var lc=k("<div>ðŸ”„"),ac=k("<button type=button>Ã—"),sc=k("<div>âš ï¸ "),po=k("<div>"),cc=k("<div><div><input type=text autocomplete=off>"),dc=k("<div><div><div><div></div><div><span>: </span><span>â€¢</span><span></span><span>â€¢</span><span></span></div></div><div><div> </div><div>"),uc=k("<span>âš ï¸ ");const yc=t=>{const{t:e}=He(),[n,i]=re(""),[l,c]=re(!1),[a,s]=re(null),[d,y]=re([]),[b,E]=re(!1),[D,I]=re(-1),[C,P]=re(null),x=t.searchDelay||300,h=t.maxResults||900,M=async J=>{if(!J.trim()||J.trim().length<3){y([]),t.onSearchResults?.([]);return}try{c(!0),s(null);try{const H=await qr.getProducts(J),q=Object.keys(H);console.log(H);const Q=ce=>{let R=H;return{id:ce,name:R[ce].name,businessId:R[ce].businessId,sku:R[ce].code,UPC:R[ce].UPC,numCode:R[ce].codeN,category:R[ce].category,unitCost:R[ce].unitCost||0,unitOfMeasure:R[ce].unitOfMeasure,minStockLevel:R[ce].minStockLevel,maxStockLevel:R[ce].maxStockLevel,isActive:R[ce].isActive,description:R[ce].description||"",createdDate:R[ce].createdAt||new Date().toISOString(),lastModified:R[ce].updatedAt||new Date().toISOString()}},ee=q.map(Q);y(ee),t.onSearchResults?.(ee)}catch(H){console.warn("API search failed, using local fallback:",H),s("API search failed, showing local results");const q=De.getActiveProducts().filter(Q=>Q.name.toLowerCase().includes(J.toLowerCase())||Q.sku.toLowerCase().includes(J.toLowerCase())||Q.category.toLowerCase().includes(J.toLowerCase())).slice(0,h);y(q),t.onSearchResults?.(q)}}catch(H){const q=H instanceof Error?H.message:"Search failed";s(q),y([]),t.onSearchResults?.([])}finally{c(!1)}},U=J=>{const q=J.target.value;i(q),s(null),t.showResults!==!1&&E(!0),C()&&clearTimeout(C());const Q=setTimeout(()=>{M(q)},x);P(Q)},j=J=>{i(J.name),E(!1),I(-1),t.onProductSelect?.(J)},ne=J=>{if(!(!b()||d().length===0))switch(J.key){case"ArrowDown":J.preventDefault(),I(H=>Math.min(H+1,d().length-1));break;case"ArrowUp":J.preventDefault(),I(H=>Math.max(H-1,-1));break;case"Enter":J.preventDefault(),D()>=0&&d()[D()]&&j(d()[D()]);break;case"Escape":E(!1),I(-1);break}},V=()=>{t.showResults!==!1&&d().length>0&&E(!0)},le=()=>{setTimeout(()=>{E(!1),I(-1)},150)},ae=()=>{i(""),y([]),s(null),E(!1),I(-1),t.onSearchResults?.([]),C()&&(clearTimeout(C()),P(null))},me=J=>De.stockLevels.filter(H=>H.productId===J).reduce((H,q)=>H+q.quantity,0),ye=J=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(J),ie={position:"relative",width:"100%",...t.style},X={position:"relative",display:"flex","align-items":"center"},p={width:"100%",padding:"0.75rem","padding-right":n()?"2.5rem":"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)",cursor:t.disabled?"not-allowed":"text",opacity:t.disabled?"0.6":"1",outline:"none",transition:"border-color 0.2s ease"},se={position:"absolute",right:"0.5rem",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"var(--text-muted)","font-size":"1.2rem","line-height":"1",padding:"0.25rem","border-radius":"50%",transition:"all 0.2s ease"},A={position:"absolute",right:n()?"2.5rem":"0.75rem",top:"50%",transform:"translateY(-50%)","font-size":"0.875rem",color:"var(--text-muted)"},m={position:"absolute",top:"100%",left:"0",right:"0","z-index":"1000","max-height":"300px","overflow-y":"auto",background:"var(--surface-color)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","box-shadow":"0 4px 12px rgba(0,0,0,0.15)","margin-top":"2px"},B=J=>({padding:"0.75rem",cursor:"pointer","border-bottom":"1px solid var(--border-color)",background:J?"var(--strip-color)":"transparent",transition:"background-color 0.2s ease"}),g={display:"flex","justify-content":"space-between","align-items":"center"},_={flex:"1"},S={"font-weight":"500","margin-bottom":"0.25rem",color:"var(--text-primary)"},w={"font-size":"0.875rem",color:"var(--text-muted)",display:"flex",gap:"0.5rem"},de={"text-align":"right","font-size":"0.875rem"},$={padding:"1rem","text-align":"center",color:"var(--text-muted)","font-style":"italic"},N={padding:"0.5rem 1rem",background:"#fff3cd",color:"#856404","border-bottom":"1px solid var(--border-color)","font-size":"0.875rem"};return(()=>{var J=cc(),H=J.firstChild,q=H.firstChild;return q.addEventListener("blur",le),q.addEventListener("focus",V),q.$$keydown=ne,q.$$input=U,r(H,u(qe,{get when(){return l()},get children(){var Q=lc();return z(ee=>o(Q,A,ee)),Q}}),null),r(H,u(qe,{get when(){return F(()=>!!n())()&&!l()},get children(){var Q=ac();return Q.addEventListener("mouseleave",ee=>{ee.currentTarget.style.background="none",ee.currentTarget.style.color="var(--text-muted)"}),Q.addEventListener("mouseenter",ee=>{ee.currentTarget.style.background="var(--border-color)",ee.currentTarget.style.color="var(--text-primary)"}),Q.$$click=ae,z(ee=>{var ce=se,R=e("common.clear","Clear search");return ee.e=o(Q,ce,ee.e),R!==ee.t&&Ze(Q,"title",ee.t=R),ee},{e:void 0,t:void 0}),Q}}),null),r(J,u(qe,{get when(){return b()&&t.showResults!==!1},get children(){var Q=po();return r(Q,u(qe,{get when(){return a()},get children(){var ee=sc();return ee.firstChild,o(ee,N),r(ee,a,null),ee}}),null),r(Q,u(qe,{get when(){return d().length>0},get fallback(){return F(()=>!!(n()&&!l()))()&&(()=>{var ee=po();return o(ee,$),r(ee,()=>e("inventory.noProductsFound","No products found matching your search.")),ee})()},get children(){return u(dt,{get each(){return d()},children:(ee,ce)=>{const R=me(ee.id),Y=R<=ee.minStockLevel;return(()=>{var ge=dc(),fe=ge.firstChild,Z=fe.firstChild,W=Z.firstChild,T=W.nextSibling,oe=T.firstChild,te=oe.firstChild,pe=oe.nextSibling,ve=pe.nextSibling,v=ve.nextSibling,f=v.nextSibling,K=Z.nextSibling,G=K.firstChild,O=G.firstChild,ue=G.nextSibling;return ge.addEventListener("mouseenter",()=>I(ce())),ge.$$click=()=>j(ee),o(fe,g),o(Z,_),o(W,S),r(W,()=>ee.name),o(T,w),r(oe,()=>e("inventory.sku","SKU"),te),r(oe,()=>ee.sku,null),r(ve,()=>ee.category),r(f,()=>ye(ee.unitCost)),o(K,de),G.style.setProperty("font-weight","600"),(Y?"#f44336":"var(--text-primary)")!=null?G.style.setProperty("color",Y?"#f44336":"var(--text-primary)"):G.style.removeProperty("color"),r(G,R,O),r(G,()=>ee.unitOfMeasure,null),ue.style.setProperty("color","var(--text-muted)"),r(ue,()=>Y?(()=>{var L=uc();return L.firstChild,L.style.setProperty("color","#f44336"),r(L,()=>e("inventory.lowStock","Low Stock"),null),L})():e("inventory.inStock","In Stock")),z(L=>o(ge,B(ce()===D()),L)),ge})()}})}}),null),z(ee=>o(Q,m,ee)),Q}}),null),z(Q=>{var ee=ie,ce=X,R=p,Y=t.placeholder||e("inventory.searchProducts","Search products by name, SKU, or category..."),ge=t.disabled;return Q.e=o(J,ee,Q.e),Q.t=o(H,ce,Q.t),Q.a=o(q,R,Q.a),Y!==Q.o&&Ze(q,"placeholder",Q.o=Y),ge!==Q.i&&(q.disabled=Q.i=ge),Q},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),z(()=>q.value=n()),J})()};yt(["input","keydown","click"]);var mc=k("<div><p>ðŸ“‹ "),vc=k("<div>"),gc=k("<div><div>ðŸ“Š</div><h3></h3><p></p><div><div><label>:</label><select><option value=all></option></select></div><div><label>:</label><select><option value=all></option></select></div><div><label>:</label><select><option value=name></option><option value=sku></option><option value=category>"),pc=k("<div><div><div><div></div><div></div></div><div><div></div><div></div></div><div><div></div><div></div></div><div><div>%</div><div></div></div></div><div></div><div><table><thead><tr><th></th><th></th><th></th><th></th><th></th></tr></thead><tbody>"),fc=k("<div><table><thead><tr><th></th><th></th><th></th><th></th><th></th></tr></thead><tbody>"),bc=k("<div><div>âœ…</div><h3></h3><p>"),hc=k("<div><div><h3>ðŸ“‹ </h3><p></p></div><div><div><div></div><div></div></div><div><div></div><div></div></div><div><div></div><div></div></div></div><div>"),Sc=k("<div><div><div><h2>ðŸ“‹ </h2><button>Ã—"),fo=k("<option>"),$c=k("<div>..."),Pc=k("<tr><td><div></div><div> â€¢ </div></td><td><div></div></td><td><div></div></td><td><div></div></td><td><div>"),xc=k("<tr><td><div></div><div> â€¢ <!> â€¢ </div></td><td><div></div></td><td><input type=number placeholder=0 min=0 step=0.01></td><td><div></div></td><td><input type=text>");const Cc=t=>{const{t:e}=He(),[n,i]=re([]),[l,c]=re(!1),[a,s]=re(!1),[d,y]=re("all"),[b,E]=re("all"),[D,I]=re("name"),[C,P]=re([]),[x,h]=re("setup");_r(async()=>{await M(),t.selectedLocationId&&y(t.selectedLocationId)});const M=async()=>{try{c(!0);const g=await qr.getProducts("prod");if(!g||typeof g!="object"){console.warn("No API results, using local store"),i(De.products);return}const _=Object.keys(g),S=de=>{let N=g[de];return{id:de,name:N.name||"Unknown Product",businessId:N.businessId||"",sku:N.code||N.sku||"",UPC:N.UPC||"",numCode:N.codeN||"",category:N.category||"General",unitCost:N.unitCost||0,unitOfMeasure:N.unitOfMeasure||"pcs",minStockLevel:N.minStockLevel||0,maxStockLevel:N.maxStockLevel||100,isActive:N.isActive!==!1,description:N.description||"",createdDate:N.createdAt||new Date().toISOString(),lastModified:N.updatedAt||new Date().toISOString(),sellingPrice:parseFloat(N.sellingPrice||N.price||"0")}},w=_.map(S);i(w)}catch(g){console.error("Failed to load products from API:",g),i(De.products)}finally{c(!1)}},U=ze(()=>[...new Set(n().map(_=>_.category).filter(_=>_))].sort()),j=ze(()=>{let g=n().filter(_=>_.isActive);return b()!=="all"&&(g=g.filter(_=>_.category===b())),g.sort((_,S)=>{switch(D()){case"name":return _.name.localeCompare(S.name);case"sku":return _.sku.localeCompare(S.sku);case"category":return _.category.localeCompare(S.category)||_.name.localeCompare(S.name);default:return 0}}),g}),ne=ze(()=>De.getActiveLocations()),V=(g,_)=>_&&_!=="all"?De.getStockByProductAndLocation(g,_)?.quantity||0:De.getTotalStockByProduct(g),le=()=>{const g=j().map(_=>{const S=V(_.id,d()!=="all"?d():void 0);return{productId:_.id,systemQuantity:S,physicalCount:null,notes:"",variance:0,product:_}});P(g),h("counting")},ae=(g,_)=>{P(S=>S.map(w=>{if(w.productId===g){const de=_,$=de!==null?de-w.systemQuantity:0;return{...w,physicalCount:de,variance:$}}return w}))},me=(g,_)=>{P(S=>S.map(w=>w.productId===g?{...w,notes:_}:w))},ye=ze(()=>{const g=C(),_=g.length,S=g.filter(N=>N.physicalCount!==null).length,w=g.filter(N=>N.variance!==0).length,de=g.filter(N=>N.variance>0).length,$=g.filter(N=>N.variance<0).length;return{totalProducts:_,countedProducts:S,remainingProducts:_-S,variances:w,positiveVariances:de,negativeVariances:$,isComplete:S===_}}),ie=()=>{const g=C().filter(de=>de.physicalCount!==null&&de.variance!==0);if(g.length===0)return null;const _=[e("inventory.product","Product"),e("inventory.sku","SKU"),e("inventory.category","Category"),e("inventory.location","Location"),e("inventory.systemQty","System Qty"),e("inventory.physicalCount","Physical Count"),e("inventory.variance","Variance"),e("inventory.adjustment","Adjustment"),e("common.notes","Notes"),e("common.date","Date")],S=g.map(de=>[`"${de.product.name}"`,`"${de.product.sku}"`,`"${de.product.category}"`,`"${se()}"`,de.systemQuantity,de.physicalCount,de.variance,de.variance>0?e("inventory.stockIncrease","Stock Increase"):e("inventory.stockDecrease","Stock Decrease"),`"${de.notes||e("inventory.physicalCountAdjustment","Physical count adjustment")}"`,`"${A()}"`]);return[_.join(","),...S.map(de=>de.join(","))].join(`
`)},X=()=>{const g=ie();if(!g){alert(e("inventory.noAdjustmentsToDownload","No adjustments to download"));return}const _=new Blob([g],{type:"text/csv;charset=utf-8;"}),S=document.createElement("a");if(S.download!==void 0){const w=URL.createObjectURL(_);S.setAttribute("href",w),S.setAttribute("download",`inventory-adjustments-${A().replace(/[/:,\s]/g,"-")}.csv`),S.style.visibility="hidden",document.body.appendChild(S),S.click(),document.body.removeChild(S)}},p=async(g=!0)=>{try{s(!0),console.log(C());const _=C().filter(S=>S.physicalCount!==null&&S.variance!==0).map(S=>({productId:S.productId,locationId:d()!=="all"?d():"main",systemQuantity:S.systemQuantity,physicalCount:S.physicalCount,variance:S.variance,notes:S.notes||"Physical inventory adjustment",movementType:S.variance>0?"in":"out",quantity:Math.abs(S.variance),reason:"Physical Count Adjustment"}));g&&_.length>0&&X(),console.log("Saving inventory adjustments:",_),await new Promise(S=>setTimeout(S,1e3)),t.onClose()}catch(_){console.error("Failed to save inventory adjustments:",_)}finally{s(!1)}},se=ze(()=>d()==="all"?"All Locations":ne().find(_=>_.id===d())?.name||"Unknown Location"),A=()=>new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),m=()=>{const g=window.open("","_blank");if(!g){alert("Please allow pop-ups to print the counting sheet");return}const _=B();g.document.write(_),g.document.close(),g.onload=()=>{g.print(),g.onafterprint=()=>{g.close()}}},B=()=>{const g=j().map((S,w)=>{const de=V(S.id,d()!=="all"?d():void 0);return`
        <tr>
          <td style="border: 1px solid #000; padding: 8px; text-align: center;">${w+1}</td>
          <td style="border: 1px solid #000; padding: 8px; font-family: monospace;">${S.sku}</td>
          <td style="border: 1px solid #000; padding: 8px;">
            <div style="font-weight: 500;">${S.name}</div>
            ${S.UPC?`<div style="font-size: 0.8em; color: #666;">UPC: ${S.UPC}</div>`:""}
          </td>
          <td style="border: 1px solid #000; padding: 8px;">${S.category}</td>
          <td style="border: 1px solid #000; padding: 8px; text-align: center;">${S.unitOfMeasure}</td>
          <td style="border: 1px solid #000; padding: 8px; text-align: center; font-weight: bold;">${de}</td>
          <td style="border: 1px solid #000; padding: 8px; text-align: center; background-color: #f9f9f9;">________</td>
          <td style="border: 1px solid #000; padding: 8px;">_______________</td>
        </tr>
      `}).join(""),_=e("inventory.countInstructions",["Count all items physically present at this location",'Write the actual count in the "Physical Count" column',"Leave blank if item is not found",'Note any discrepancies in the "Notes" column',"Sign and date when complete"]);return`
      <!DOCTYPE html>
      <html>
      <head>
        <title>${e("inventory.countingSheet","Inventory Counting Sheet")} - ${A()}</title>
        <style>
          @page {
            size: letter;
            margin: 0.5in;
          }
          body {
            font-family: Arial, sans-serif;
            font-size: 12px;
            margin: 0;
            padding: 0;
          }
          h1 {
            text-align: center;
            margin: 0 0 10px 0;
            font-size: 24px;
          }
          .header-info {
            text-align: center;
            margin-bottom: 20px;
          }
          .instructions {
            background-color: #f0f0f0;
            padding: 10px;
            margin-bottom: 20px;
            border: 1px solid #ccc;
          }
          table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
          }
          th {
            background-color: #333;
            color: white;
            padding: 8px;
            text-align: left;
            font-weight: bold;
            border: 1px solid #000;
          }
          .summary-table {
            width: 50%;
            margin: 20px auto;
          }
          .signature-section {
            margin-top: 40px;
            display: flex;
            justify-content: space-between;
          }
          .signature-box {
            width: 45%;
            text-align: center;
          }
          .signature-line {
            border-bottom: 1px solid #000;
            margin-bottom: 5px;
            height: 30px;
          }
          @media print {
            tr { page-break-inside: avoid; }
          }
        </style>
      </head>
      <body>
        <h1>${e("inventory.inventoryCountingSheetTitle","INVENTORY COUNTING SHEET")}</h1>
        <div class="header-info">
          <p><strong>${e("inventory.location","Location")}:</strong> ${se()}</p>
          <p><strong>${e("inventory.category","Category")}:</strong> ${b()==="all"?e("inventory.allCategories","All Categories"):b()}</p>
          <p><strong>${e("common.date","Date")}:</strong> ${A()}</p>
          <p style="margin-top: 10px;">
            <span style="margin-right: 30px;">${e("inventory.countedBy","Counted by")}: _________________________</span>
            <span>${e("inventory.verifiedBy","Verified by")}: _________________________</span>
          </p>
        </div>
        
        <div class="instructions">
          <h3 style="margin: 0 0 10px 0;">${e("inventory.instructions","Instructions")}:</h3>
          <ul style="margin: 0; padding-left: 20px;">
            ${Array.isArray(_)?_.map(S=>`<li>${S}</li>`).join(""):`<li>${e("inventory.countInstructions[0]","Count all items physically present at this location")}</li>
               <li>${e("inventory.countInstructions[1]",'Write the actual count in the "Physical Count" column')}</li>
               <li>${e("inventory.countInstructions[2]","Leave blank if item is not found")}</li>
               <li>${e("inventory.countInstructions[3]",'Note any discrepancies in the "Notes" column')}</li>
               <li>${e("inventory.countInstructions[4]","Sign and date when complete")}</li>`}
          </ul>
        </div>
        
        <table>
          <thead>
            <tr>
              <th style="width: 5%; text-align: center;">#</th>
              <th style="width: 12%;">${e("inventory.sku","SKU")}</th>
              <th style="width: 25%;">${e("inventory.productName","Product Name")}</th>
              <th style="width: 12%;">${e("inventory.category","Category")}</th>
              <th style="width: 8%; text-align: center;">${e("inventory.unit","Unit")}</th>
              <th style="width: 10%; text-align: center;">${e("inventory.systemQty","System Qty")}</th>
              <th style="width: 12%; text-align: center; background-color: #f0f0f0;">${e("inventory.physicalCount","Physical Count")}</th>
              <th style="width: 16%;">${e("common.notes","Notes")}</th>
            </tr>
          </thead>
          <tbody>
            ${g}
          </tbody>
        </table>
        
        <table class="summary-table">
          <tr>
            <td style="border: 1px solid #000; padding: 8px; font-weight: bold; background-color: #f0f0f0;">
              ${e("inventory.totalProductsListed","Total Products Listed")}:
            </td>
            <td style="border: 1px solid #000; padding: 8px; text-align: center; font-weight: bold;">
              ${j().length}
            </td>
          </tr>
          <tr>
            <td style="border: 1px solid #000; padding: 8px; font-weight: bold; background-color: #f0f0f0;">
              ${e("inventory.itemsCounted","Items Counted")}:
            </td>
            <td style="border: 1px solid #000; padding: 8px; text-align: center;">
              ___________
            </td>
          </tr>
          <tr>
            <td style="border: 1px solid #000; padding: 8px; font-weight: bold; background-color: #f0f0f0;">
              ${e("inventory.discrepanciesFound","Discrepancies Found")}:
            </td>
            <td style="border: 1px solid #000; padding: 8px; text-align: center;">
              ___________
            </td>
          </tr>
        </table>
        
        <div class="signature-section">
          <div class="signature-box">
            <div class="signature-line"></div>
            <p>${e("inventory.counterSignature","Counter Signature")}</p>
            <p>${e("common.date","Date")}: _______________</p>
          </div>
          <div class="signature-box">
            <div class="signature-line"></div>
            <p>${e("inventory.supervisorSignature","Supervisor Signature")}</p>
            <p>${e("common.date","Date")}: _______________</p>
          </div>
        </div>
      </body>
      </html>
    `};return u(qe,{get when(){return t.isOpen},get children(){var g=Sc(),_=g.firstChild,S=_.firstChild,w=S.firstChild;w.firstChild;var de=w.nextSibling;return g.style.setProperty("position","fixed"),g.style.setProperty("top","0"),g.style.setProperty("left","0"),g.style.setProperty("right","0"),g.style.setProperty("bottom","0"),g.style.setProperty("background","rgba(0, 0, 0, 0.5)"),g.style.setProperty("z-index","1000"),g.style.setProperty("display","flex"),g.style.setProperty("align-items","center"),g.style.setProperty("justify-content","center"),_.style.setProperty("background","white"),_.style.setProperty("border-radius","var(--border-radius)"),_.style.setProperty("padding","2rem"),_.style.setProperty("width","95%"),_.style.setProperty("height","95%"),_.style.setProperty("max-width","1400px"),_.style.setProperty("overflow-y","auto"),_.style.setProperty("position","relative"),S.style.setProperty("display","flex"),S.style.setProperty("justify-content","space-between"),S.style.setProperty("align-items","center"),S.style.setProperty("margin-bottom","2rem"),S.style.setProperty("border-bottom","1px solid var(--border-color)"),S.style.setProperty("padding-bottom","1rem"),w.style.setProperty("margin","0"),w.style.setProperty("font-size","1.5rem"),r(w,()=>e("inventory.physicalInventoryCount","Physical Inventory Count"),null),pr(de,"click",t.onClose,!0),de.style.setProperty("background","none"),de.style.setProperty("border","none"),de.style.setProperty("font-size","1.5rem"),de.style.setProperty("cursor","pointer"),de.style.setProperty("padding","0.5rem"),r(_,u(qe,{get when(){return x()==="setup"},get children(){var $=gc(),N=$.firstChild,J=N.nextSibling,H=J.nextSibling,q=H.nextSibling,Q=q.firstChild,ee=Q.firstChild,ce=ee.firstChild,R=ee.nextSibling,Y=R.firstChild,ge=Q.nextSibling,fe=ge.firstChild,Z=fe.firstChild,W=fe.nextSibling,T=W.firstChild,oe=ge.nextSibling,te=oe.firstChild,pe=te.firstChild,ve=te.nextSibling,v=ve.firstChild,f=v.nextSibling,K=f.nextSibling;return $.style.setProperty("text-align","center"),$.style.setProperty("padding","2rem"),$.style.setProperty("max-width","600px"),$.style.setProperty("margin","0 auto"),N.style.setProperty("font-size","3rem"),N.style.setProperty("margin-bottom","1rem"),J.style.setProperty("margin-bottom","1rem"),r(J,()=>e("inventory.setupPhysicalCount","Setup Physical Inventory Count")),H.style.setProperty("margin-bottom","2rem"),H.style.setProperty("color","var(--text-muted)"),r(H,()=>e("inventory.setupDescription","Configure your physical inventory count settings and begin the counting process.")),q.style.setProperty("display","grid"),q.style.setProperty("grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))"),q.style.setProperty("gap","1rem"),q.style.setProperty("margin-bottom","2rem"),q.style.setProperty("padding","1rem"),q.style.setProperty("background","var(--surface-color)"),q.style.setProperty("border-radius","var(--border-radius)"),q.style.setProperty("text-align","left"),ee.style.setProperty("display","block"),ee.style.setProperty("margin-bottom","0.5rem"),ee.style.setProperty("font-weight","500"),r(ee,()=>e("inventory.location","Location"),ce),R.addEventListener("change",G=>y(G.target.value)),R.style.setProperty("width","100%"),R.style.setProperty("padding","0.5rem"),R.style.setProperty("border","1px solid var(--border-color)"),R.style.setProperty("border-radius","var(--border-radius-sm)"),r(Y,()=>e("inventory.allLocations","All Locations")),r(R,u(dt,{get each(){return ne()},children:G=>(()=>{var O=fo();return r(O,()=>G.name),z(()=>O.value=G.id),O})()}),null),fe.style.setProperty("display","block"),fe.style.setProperty("margin-bottom","0.5rem"),fe.style.setProperty("font-weight","500"),r(fe,()=>e("inventory.category","Category"),Z),W.addEventListener("change",G=>E(G.target.value)),W.style.setProperty("width","100%"),W.style.setProperty("padding","0.5rem"),W.style.setProperty("border","1px solid var(--border-color)"),W.style.setProperty("border-radius","var(--border-radius-sm)"),r(T,()=>e("products.allCategories","All Categories")),r(W,u(dt,{get each(){return U()},children:G=>(()=>{var O=fo();return O.value=G,r(O,G),O})()}),null),te.style.setProperty("display","block"),te.style.setProperty("margin-bottom","0.5rem"),te.style.setProperty("font-weight","500"),r(te,()=>e("inventory.sortBy","Sort By"),pe),ve.addEventListener("change",G=>I(G.target.value)),ve.style.setProperty("width","100%"),ve.style.setProperty("padding","0.5rem"),ve.style.setProperty("border","1px solid var(--border-color)"),ve.style.setProperty("border-radius","var(--border-radius-sm)"),r(v,()=>e("inventory.productName","Product Name")),r(f,()=>e("inventory.sku","SKU")),r(K,()=>e("inventory.category","Category")),r($,u(qe,{get when(){return!l()},get fallback(){return(()=>{var G=$c(),O=G.firstChild;return G.style.setProperty("padding","2rem"),r(G,()=>e("common.loading","Loading"),O),G})()},get children(){return[(()=>{var G=mc(),O=G.firstChild;return O.firstChild,G.style.setProperty("padding","1rem"),G.style.setProperty("background","#fff3cd"),G.style.setProperty("border-radius","var(--border-radius-sm)"),G.style.setProperty("margin-bottom","2rem"),O.style.setProperty("margin","0"),O.style.setProperty("color","#856404"),r(O,()=>e("inventory.countWillInclude","This count will include {{count}} products from {{location}} in {{category}} category.",{count:j().length,location:se(),category:b()==="all"?e("inventory.allCategories","all categories"):b()}),null),G})(),(()=>{var G=vc();return G.style.setProperty("display","grid"),G.style.setProperty("grid-template-columns","repeat(auto-fit, minmax(150px, 1fr))"),G.style.setProperty("gap","1rem"),G.style.setProperty("margin-bottom","2rem"),G.style.setProperty("padding","1rem"),G.style.setProperty("background","var(--surface-color)"),G.style.setProperty("border-radius","var(--border-radius)"),r(G,u(Ae,{variant:"primary",size:"large",onClick:le,get disabled(){return l()||j().length===0},get children(){return["ðŸš€ ",F(()=>e("inventory.startCounting","Start Physical Count"))]}}),null),r(G,u(Ae,{variant:"primary",onClick:m,get disabled(){return l()},get children(){return["ðŸ–¨ï¸ ",F(()=>e("common.print","Print"))]}}),null),G})()]}}),null),z(()=>R.value=d()),z(()=>W.value=b()),z(()=>ve.value=D()),$}}),null),r(_,u(qe,{get when(){return x()==="counting"},get children(){var $=pc(),N=$.firstChild,J=N.firstChild,H=J.firstChild,q=H.nextSibling,Q=J.nextSibling,ee=Q.firstChild,ce=ee.nextSibling,R=Q.nextSibling,Y=R.firstChild,ge=Y.nextSibling,fe=R.nextSibling,Z=fe.firstChild,W=Z.firstChild,T=Z.nextSibling,oe=N.nextSibling,te=oe.nextSibling,pe=te.firstChild,ve=pe.firstChild,v=ve.firstChild,f=v.firstChild,K=f.nextSibling,G=K.nextSibling,O=G.nextSibling,ue=O.nextSibling,L=ve.nextSibling;return N.style.setProperty("display","grid"),N.style.setProperty("grid-template-columns","repeat(auto-fit, minmax(150px, 1fr))"),N.style.setProperty("gap","1rem"),N.style.setProperty("margin-bottom","2rem"),N.style.setProperty("padding","1rem"),N.style.setProperty("background","var(--surface-color)"),N.style.setProperty("border-radius","var(--border-radius)"),J.style.setProperty("text-align","center"),H.style.setProperty("font-size","1.5rem"),H.style.setProperty("font-weight","700"),H.style.setProperty("color","var(--primary-color)"),r(H,()=>ye().countedProducts),q.style.setProperty("font-size","0.875rem"),q.style.setProperty("color","var(--text-muted)"),r(q,()=>e("inventory.counted","Counted")),Q.style.setProperty("text-align","center"),ee.style.setProperty("font-size","1.5rem"),ee.style.setProperty("font-weight","700"),ee.style.setProperty("color","#ff9800"),r(ee,()=>ye().remainingProducts),ce.style.setProperty("font-size","0.875rem"),ce.style.setProperty("color","var(--text-muted)"),r(ce,()=>e("inventory.remaining","Remaining")),R.style.setProperty("text-align","center"),Y.style.setProperty("font-size","1.5rem"),Y.style.setProperty("font-weight","700"),Y.style.setProperty("color","#f44336"),r(Y,()=>ye().variances),ge.style.setProperty("font-size","0.875rem"),ge.style.setProperty("color","var(--text-muted)"),r(ge,()=>e("inventory.variances","Variances")),fe.style.setProperty("text-align","center"),Z.style.setProperty("font-size","1.5rem"),Z.style.setProperty("font-weight","700"),r(Z,()=>Math.round(ye().countedProducts/ye().totalProducts*100),W),T.style.setProperty("font-size","0.875rem"),T.style.setProperty("color","var(--text-muted)"),r(T,()=>e("inventory.complete","Complete")),oe.style.setProperty("display","flex"),oe.style.setProperty("gap","1rem"),oe.style.setProperty("margin-bottom","2rem"),oe.style.setProperty("justify-content","center"),r(oe,u(Ae,{variant:"outline",onClick:()=>h("setup"),get children(){return["â¬…ï¸ ",F(()=>e("common.back","Back to Setup"))]}}),null),r(oe,u(Ae,{variant:"primary",onClick:()=>h("review"),get children(){return["ðŸ“‹ ",F(()=>e("inventory.reviewAdjustments","Review Adjustments"))]}}),null),te.style.setProperty("border","1px solid var(--border-color)"),te.style.setProperty("border-radius","var(--border-radius)"),te.style.setProperty("overflow-x","auto"),pe.style.setProperty("width","100%"),pe.style.setProperty("border-collapse","collapse"),v.style.setProperty("background","var(--surface-color)"),f.style.setProperty("padding","1rem"),f.style.setProperty("text-align","left"),f.style.setProperty("border-bottom","1px solid var(--border-color)"),r(f,()=>e("inventory.product","Product")),K.style.setProperty("padding","1rem"),K.style.setProperty("text-align","center"),K.style.setProperty("border-bottom","1px solid var(--border-color)"),r(K,()=>e("inventory.systemQty","System Qty")),G.style.setProperty("padding","1rem"),G.style.setProperty("text-align","center"),G.style.setProperty("border-bottom","1px solid var(--border-color)"),r(G,()=>e("inventory.physicalCount","Physical Count")),O.style.setProperty("padding","1rem"),O.style.setProperty("text-align","center"),O.style.setProperty("border-bottom","1px solid var(--border-color)"),r(O,()=>e("inventory.variance","Variance")),ue.style.setProperty("padding","1rem"),ue.style.setProperty("text-align","left"),ue.style.setProperty("border-bottom","1px solid var(--border-color)"),r(ue,()=>e("common.notes","Notes")),r(L,u(dt,{get each(){return C()},children:(be,Pe)=>u(_c,{get index(){return Pe()},updatePhysicalCount:ae,entry:be,updateNotes:me})})),z(be=>(be=ye().isComplete?"#4caf50":"#ff9800")!=null?Z.style.setProperty("color",be):Z.style.removeProperty("color")),$}}),null),r(_,u(qe,{get when(){return x()==="review"},get children(){var $=hc(),N=$.firstChild,J=N.firstChild;J.firstChild;var H=J.nextSibling,q=N.nextSibling,Q=q.firstChild,ee=Q.firstChild,ce=ee.nextSibling,R=Q.nextSibling,Y=R.firstChild,ge=Y.nextSibling,fe=R.nextSibling,Z=fe.firstChild,W=Z.nextSibling,T=q.nextSibling;return N.style.setProperty("text-align","center"),N.style.setProperty("margin-bottom","2rem"),J.style.setProperty("margin-bottom","1rem"),r(J,()=>e("inventory.reviewAndConfirm","Review and Confirm Adjustments"),null),H.style.setProperty("color","var(--text-muted)"),r(H,()=>e("inventory.reviewDescription","Review the inventory adjustments below and confirm to update your system.")),q.style.setProperty("display","grid"),q.style.setProperty("grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))"),q.style.setProperty("gap","1rem"),q.style.setProperty("margin-bottom","2rem"),q.style.setProperty("padding","1rem"),q.style.setProperty("background","var(--surface-color)"),q.style.setProperty("border-radius","var(--border-radius)"),Q.style.setProperty("text-align","center"),ee.style.setProperty("font-size","1.5rem"),ee.style.setProperty("font-weight","700"),ee.style.setProperty("color","#4caf50"),r(ee,()=>ye().positiveVariances),ce.style.setProperty("font-size","0.875rem"),ce.style.setProperty("color","var(--text-muted)"),r(ce,()=>e("inventory.stockIncreases","Stock Increases")),R.style.setProperty("text-align","center"),Y.style.setProperty("font-size","1.5rem"),Y.style.setProperty("font-weight","700"),Y.style.setProperty("color","#f44336"),r(Y,()=>ye().negativeVariances),ge.style.setProperty("font-size","0.875rem"),ge.style.setProperty("color","var(--text-muted)"),r(ge,()=>e("inventory.stockDecreases","Stock Decreases")),fe.style.setProperty("text-align","center"),Z.style.setProperty("font-size","1.5rem"),Z.style.setProperty("font-weight","700"),Z.style.setProperty("color","var(--primary-color)"),r(Z,()=>ye().variances),W.style.setProperty("font-size","0.875rem"),W.style.setProperty("color","var(--text-muted)"),r(W,()=>e("inventory.totalAdjustments","Total Adjustments")),T.style.setProperty("display","flex"),T.style.setProperty("gap","1rem"),T.style.setProperty("margin-bottom","2rem"),T.style.setProperty("justify-content","center"),T.style.setProperty("flex-wrap","wrap"),r(T,u(Ae,{variant:"outline",onClick:()=>h("counting"),get children(){return["â¬…ï¸ ",F(()=>e("common.back","Back to Counting"))]}}),null),r(T,u(Ae,{variant:"outline",onClick:X,get disabled(){return ye().variances===0},get children(){return["ðŸ“¥ ",F(()=>e("inventory.downloadCSV","Download CSV"))]}}),null),r(T,u(Ae,{variant:"primary",onClick:p,get disabled(){return a()||ye().variances===0},get children(){return F(()=>!!a())()?"ðŸ’¾ "+e("common.saving","Saving")+"...":"âœ… "+e("inventory.confirmAdjustments","Confirm Adjustments")}}),null),r($,u(qe,{get when(){return ye().variances>0},get children(){var oe=fc(),te=oe.firstChild,pe=te.firstChild,ve=pe.firstChild,v=ve.firstChild,f=v.nextSibling,K=f.nextSibling,G=K.nextSibling,O=G.nextSibling,ue=pe.nextSibling;return oe.style.setProperty("border","1px solid var(--border-color)"),oe.style.setProperty("border-radius","var(--border-radius)"),oe.style.setProperty("overflow-x","auto"),te.style.setProperty("width","100%"),te.style.setProperty("border-collapse","collapse"),ve.style.setProperty("background","var(--surface-color)"),v.style.setProperty("padding","1rem"),v.style.setProperty("text-align","left"),v.style.setProperty("border-bottom","1px solid var(--border-color)"),r(v,()=>e("inventory.product","Product")),f.style.setProperty("padding","1rem"),f.style.setProperty("text-align","center"),f.style.setProperty("border-bottom","1px solid var(--border-color)"),r(f,()=>e("inventory.systemQty","System Qty")),K.style.setProperty("padding","1rem"),K.style.setProperty("text-align","center"),K.style.setProperty("border-bottom","1px solid var(--border-color)"),r(K,()=>e("inventory.physicalCount","Physical Count")),G.style.setProperty("padding","1rem"),G.style.setProperty("text-align","center"),G.style.setProperty("border-bottom","1px solid var(--border-color)"),r(G,()=>e("inventory.adjustment","Adjustment")),O.style.setProperty("padding","1rem"),O.style.setProperty("text-align","left"),O.style.setProperty("border-bottom","1px solid var(--border-color)"),r(O,()=>e("common.notes","Notes")),r(ue,u(dt,{get each(){return C().filter(L=>L.variance!==0)},children:L=>(()=>{var be=Pc(),Pe=be.firstChild,$e=Pe.firstChild,_e=$e.nextSibling,Le=_e.firstChild,Ue=Pe.nextSibling,xe=Ue.firstChild,we=Ue.nextSibling,Te=we.firstChild,Ne=we.nextSibling,Be=Ne.firstChild,Fe=Ne.nextSibling,Se=Fe.firstChild;return be.style.setProperty("border-bottom","1px solid var(--border-color)"),Pe.style.setProperty("padding","1rem"),$e.style.setProperty("font-weight","500"),r($e,()=>L.product.name),_e.style.setProperty("font-size","0.875rem"),_e.style.setProperty("color","var(--text-muted)"),r(_e,()=>L.product.sku,Le),r(_e,()=>L.product.category,null),Ue.style.setProperty("padding","1rem"),Ue.style.setProperty("text-align","center"),xe.style.setProperty("font-weight","600"),r(xe,()=>L.systemQuantity),we.style.setProperty("padding","1rem"),we.style.setProperty("text-align","center"),Te.style.setProperty("font-weight","600"),r(Te,()=>L.physicalCount),Ne.style.setProperty("padding","1rem"),Ne.style.setProperty("text-align","center"),Be.style.setProperty("font-weight","700"),r(Be,()=>L.variance>0?"+":"",null),r(Be,()=>L.variance,null),Fe.style.setProperty("padding","1rem"),Se.style.setProperty("font-size","0.875rem"),r(Se,()=>L.notes||e("inventory.physicalCountAdjustment","Physical count adjustment")),z(je=>{var Qe=L.variance>0?"#d4edda":"#f8d7da",Ye=L.variance>0?"#4caf50":"#f44336";return Qe!==je.e&&((je.e=Qe)!=null?be.style.setProperty("background",Qe):be.style.removeProperty("background")),Ye!==je.t&&((je.t=Ye)!=null?Be.style.setProperty("color",Ye):Be.style.removeProperty("color")),je},{e:void 0,t:void 0}),be})()})),oe}}),null),r($,u(qe,{get when(){return ye().variances===0},get children(){var oe=bc(),te=oe.firstChild,pe=te.nextSibling,ve=pe.nextSibling;return oe.style.setProperty("text-align","center"),oe.style.setProperty("padding","3rem"),oe.style.setProperty("background","var(--surface-color)"),oe.style.setProperty("border-radius","var(--border-radius)"),te.style.setProperty("font-size","3rem"),te.style.setProperty("margin-bottom","1rem"),pe.style.setProperty("margin-bottom","0.5rem"),r(pe,()=>e("inventory.perfectCount","Perfect Count!")),ve.style.setProperty("color","var(--text-muted)"),r(ve,()=>e("inventory.noVariances","No variances found. Your physical count matches the system exactly.")),oe}}),null),$}}),null),g}})},_c=t=>{const{t:e}=He(),[n,i]=re(""),[l,c]=re("");let{entry:a,updatePhysicalCount:s,updateNotes:d,index:y}=t;return _r(()=>{c(a?.notes),i(a?.physicalCount)}),(()=>{var b=xc(),E=b.firstChild,D=E.firstChild,I=D.nextSibling,C=I.firstChild,P=C.nextSibling;P.nextSibling;var x=E.nextSibling,h=x.firstChild,M=x.nextSibling,U=M.firstChild,j=M.nextSibling,ne=j.firstChild,V=j.nextSibling,le=V.firstChild;return b.style.setProperty("border-bottom","1px solid var(--border-color)"),E.style.setProperty("padding","1rem"),D.style.setProperty("font-weight","500"),r(D,()=>a?.product.name),I.style.setProperty("font-size","0.875rem"),I.style.setProperty("color","var(--text-muted)"),r(I,()=>a?.product.sku,C),r(I,()=>a?.product.category,P),r(I,()=>a?.product.unitOfMeasure,null),x.style.setProperty("padding","1rem"),x.style.setProperty("text-align","center"),h.style.setProperty("font-weight","600"),r(h,()=>a?.systemQuantity),M.style.setProperty("padding","1rem"),M.style.setProperty("text-align","center"),U.addEventListener("blur",()=>{s(a?.productId,n()===""?null:parseFloat(n()))}),U.$$keydown=ae=>{ae.keyCode===13&&s(a?.productId,n()===""?null:parseFloat(n())),ae.keyCode===27&&s(a?.productId,n()===""?null:parseFloat(n())),ae.keyCode===9&&s(a?.productId,n()===""?null:parseFloat(n()))},U.$$input=ae=>{const me=ae.target.value;i(me)},Ze(U,"tabindex",y),U.style.setProperty("width","100px"),U.style.setProperty("padding","0.5rem"),U.style.setProperty("border","1px solid var(--border-color)"),U.style.setProperty("border-radius","var(--border-radius-sm)"),U.style.setProperty("text-align","center"),j.style.setProperty("padding","1rem"),j.style.setProperty("text-align","center"),ne.style.setProperty("font-weight","600"),r(ne,()=>a?.variance>0?"+":"",null),r(ne,()=>a?.variance||"â€”",null),V.style.setProperty("padding","1rem"),le.addEventListener("blur",ae=>{d(a?.productId,l())}),le.$$keydown=ae=>{ae.keyCode===13&&d(a?.productId,l()),ae.keyCode===27&&d(a?.productId,l()),ae.keyCode===9&&d(a?.productId,l())},le.$$input=ae=>{const me=ae.target.value;c(me)},le.style.setProperty("width","200px"),le.style.setProperty("padding","0.5rem"),le.style.setProperty("border","1px solid var(--border-color)"),le.style.setProperty("border-radius","var(--border-radius-sm)"),z(ae=>{var me=a?.physicalCount!==null?a?.variance!==0?"#fff3cd":"#d4edda":"transparent",ye=a?.variance>0?"#4caf50":a?.variance<0?"#f44336":"var(--text-muted)",ie=e("inventory.addNotes","Add notes...");return me!==ae.e&&((ae.e=me)!=null?b.style.setProperty("background",me):b.style.removeProperty("background")),ye!==ae.t&&((ae.t=ye)!=null?ne.style.setProperty("color",ye):ne.style.removeProperty("color")),ie!==ae.a&&Ze(le,"placeholder",ae.a=ie),ae},{e:void 0,t:void 0,a:void 0}),z(()=>U.value=n()||""),z(()=>le.value=l()||""),b})()};yt(["click","input","keydown"]);var wc=k("<div><h1></h1><div><div><span>View:</span><button> 1</button><button> 2"),Dt=k("<div>"),kc=k("<div><h3></h3><div>"),Ac=k("<div>: <!> "),Ic=k("<div><button></button><button></button><button></button><button>"),Ec=k("<div><div>"),Dc=k("<div><span> (<!>)</span><span> / <!> "),Lc=k("<div><div><div><h2></h2><div><div></div></div></div></div><div><span>"),Nc=k("<span>ðŸ” "),Tc=k("<div><div><div><div><h3></h3><span></span></div><div></div><div>: </div></div><div><div> </div><div>: <!> â€¢ <!>: </div><div>: "),Bc=k("<div><div>:</div><div>"),Mc=k("<div>: "),Rc=k("<div><div><h2></h2></div><div>"),Oc=k("<div><div><div><span></span><h3></h3></div><div> â€¢ </div><div></div></div><div><div><span>:</span><span></span></div><div><span>:</span><span></span></div><div><span>:</span><span></span></div></div><div><div>:"),jc=k("<div><div><div><div></div><div></div></div><div><div> </div><div></div><div>Min: "),zc=k("<span>âš ï¸ LOW");const Fc=()=>{const{t}=He(),[e,n]=re(!1),[i,l]=re(!1),[c,a]=re(!1),[s,d]=re(null),[y,b]=re("overview"),[E,D]=re("new"),[I,C]=re(""),[P,x]=re(""),[h,M]=re([]),[U,j]=re(!1),[ne,V]=re(!1),[le,ae]=re(!1),[me,ye]=re(!1),[ie,X]=re(!1),[p,se]=re(!1),A=v=>{d(v),a(!0)},m=ze(()=>{const v=De.products||[],f=De.movements||[],K=De.stockLevels||[],G=De.getLowStockProducts(),O=v?.length||0,ue=v?.filter(Pe=>Pe.isActive).length,L=K.reduce((Pe,$e)=>Pe*1+$e.quantity*1*$e.averageCost*1,0),be=f?.filter(Pe=>{const $e=new Date(Pe.createdDate),_e=new Date;return $e.getMonth()===_e.getMonth()&&$e.getFullYear()===_e.getFullYear()}).length;return{totalProducts:O,activeProducts:ue,lowStockProducts:G.length,totalStockValue:L,totalMovementsThisMonth:be,totalLocations:De.locations.length,activeLocations:De.getActiveLocations().length}}),B=ze(()=>De.products.map(v=>{const f=De.getStockByProduct(v.id),K=De.getTotalStockByProduct(v.id),G=De.getLastLocationByProduct(v.id);return{...v,totalStock:K,stockByLocation:f,lastLocation:G,isLowStock:K<=v.minStockLevel}})),g=ze(()=>h().map(v=>{const f=De.getStockByProduct(v.id),K=De.getTotalStockByProduct(v.id),G=De.getLastLocationByProduct(v.id);return console.log(v),{...v,totalStock:K,stockByLocation:f,lastLocation:G,isLowStock:K<=v.minStockLevel}})),_=ze(()=>ne()?g():B()),S=(v,f)=>v<=f?t("inventory.lowStockAlert"):v<=f*2?t("inventory.normalStock"):t("inventory.inStock"),w=v=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(v),de=v=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(v),$=v=>{switch(v){case"warehouse":return t("inventory.warehouse");case"store":return t("inventory.store");case"supplier":return t("inventory.supplier");case"customer":return t("inventory.customer");default:return v}},N={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"},J={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"1rem"},H=v=>({padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500",background:v>50?"#d4edda":v>20?"#fff3cd":"#f8d7da",color:v>50?"#155724":v>20?"#856404":"#721c24"}),q={"font-size":"1.25rem","font-weight":"600",color:"var(--primary-color)","margin-bottom":"0.5rem"},Q={color:"var(--text-muted)","font-size":"0.875rem"},ee={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"},ce={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"2rem"},R={display:"flex","border-bottom":"1px solid var(--border-color)","margin-bottom":"1.5rem"},Y=v=>({padding:"0.75rem 1rem",background:"none",border:"none",cursor:"pointer","font-weight":"500",color:v?"var(--primary-color)":"var(--text-muted)","border-bottom":v?"2px solid var(--primary-color)":"2px solid transparent",transition:"all 0.2s ease"}),ge={padding:"1.5rem","margin-bottom":"1rem",background:"var(--surface-color)","border-radius":"var(--border-radius)",border:"1px solid var(--border-color)",cursor:"pointer",transition:"all 0.2s ease"},fe={display:"flex","justify-content":"space-between","align-items":"flex-start","margin-bottom":"1rem"},Z=v=>({padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500","text-transform":"uppercase","letter-spacing":"0.5px",background:v?"#ffebee":"#e8f5e8",color:v?"#d32f2f":"#2d7d32"}),W={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem","margin-bottom":"2rem"},T={padding:"1rem",background:"var(--surface-color)","border-radius":"var(--border-radius-sm)",border:"1px solid var(--border-color)"},oe={display:"flex",gap:"0.5rem","align-items":"center","margin-left":"auto","margin-right":"1rem"},te=v=>({padding:"0.5rem 1rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)",background:v?"var(--primary-color)":"var(--surface-color)",color:v?"white":"var(--text-primary)",cursor:"pointer","font-weight":"500","font-size":"0.875rem",transition:"all 0.2s ease"}),pe=ze(()=>{const v=De.movements;return{total:v.length,stockIn:v.filter(f=>f.movementType==="in").length,stockOut:v.filter(f=>f.movementType==="out").length,transfers:v.filter(f=>f.movementType==="transfer").length,adjustments:v.filter(f=>f.movementType==="adjustment").length,totalValue:v.reduce((f,K)=>f+K.totalCost,0)}}),ve=async()=>{try{try{const v=await qr.getProducts("prod"),f=Object.keys(v),K=G=>{let ue=v[G];return console.log(ue),{id:G,name:ue.name,businessId:ue.businessId,sku:ue.code,UPC:ue.UPC,numCode:ue.codeN,category:ue.category,unitCost:ue.unitCost||0,unitOfMeasure:ue.unitOfMeasure,minStockLevel:ue.minStockLevel,maxStockLevel:ue.maxStockLevel,isActive:ue.isActive,description:ue.description||"",createdDate:ue.createdAt||new Date().toISOString(),lastModified:ue.updatedAt||new Date().toISOString(),sellingPrice:parseFloat(ue.sellingPrice||ue.price||"0")}};M(f.map(K))}catch(v){console.warn("API failed, using local store:",v),M(De.products)}}catch{}finally{}};return u(zt,{get title(){return t("inventory.title")},get children(){return[(()=>{var v=wc(),f=v.firstChild,K=f.nextSibling,G=K.firstChild,O=G.firstChild,ue=O.nextSibling,L=ue.firstChild,be=ue.nextSibling,Pe=be.firstChild;return o(v,ce),f.style.setProperty("margin","0"),f.style.setProperty("font-size","1.75rem"),r(f,()=>t("inventory.title")),K.style.setProperty("display","flex"),K.style.setProperty("align-items","center"),K.style.setProperty("gap","1rem"),o(G,oe),O.style.setProperty("font-weight","500"),O.style.setProperty("color","var(--text-muted)"),O.style.setProperty("font-size","0.875rem"),ue.$$click=()=>D("new"),r(ue,()=>t("common.view"),L),be.$$click=()=>D("legacy"),r(be,()=>t("common.view"),Pe),r(K,(()=>{var $e=F(()=>E()==="new");return()=>$e()&&[u(Ae,{variant:"outline",onClick:()=>l(!0),get children(){return["ðŸ“‹ ",F(()=>t("inventory.bulkMovement"))]}}),u(Ae,{variant:"outline",onClick:()=>se(!0),get children(){return["ðŸ”¢ ",F(()=>t("inventory.physicalCount","Physical Count"))]}})]})(),null),r(K,u(Ae,{variant:"primary",onClick:()=>n(!0),get children(){return F(()=>E()==="new")()?t("inventory.addMovement"):t("common.add")}}),null),z($e=>{var _e=te(E()==="new"),Le=te(E()==="legacy");return $e.e=o(ue,_e,$e.e),$e.t=o(be,Le,$e.t),$e},{e:void 0,t:void 0}),v})(),F(()=>F(()=>E()==="legacy")()?[(()=>{var v=Dt();return r(v,u(Oe,{get title(){return t("inventory.totalItems")},get subtitle(){return t("inventory.inStock")},get children(){var f=Dt();return f.style.setProperty("font-size","1.5rem"),f.style.setProperty("font-weight","600"),f.style.setProperty("color","var(--primary-color)"),r(f,()=>De.inventory.length),f}}),null),r(v,u(Oe,{get title(){return t("inventory.lowStockAlert")},get subtitle(){return t("inventory.itemsBelowThreshold")},get children(){var f=Dt();return f.style.setProperty("font-size","1.5rem"),f.style.setProperty("font-weight","600"),f.style.setProperty("color","var(--primary-color)"),r(f,()=>De.getLowStockItems().length),f}}),null),r(v,u(Oe,{get title(){return t("inventory.totalValue")},get subtitle(){return t("inventory.inventoryWorth")},get children(){var f=Dt();return f.style.setProperty("font-size","1.5rem"),f.style.setProperty("font-weight","600"),f.style.setProperty("color","var(--primary-color)"),r(f,()=>w(De.getTotalValue())),f}}),null),z(f=>o(v,ee,f)),v})(),(()=>{var v=Dt();return o(v,N),r(v,u(dt,{get each(){return De.inventory},children:f=>{const K=S(f.quantity,f.minStock),G=f.quantity<=f.minStock?8:f.quantity<=f.minStock*2?35:75;return u(Oe,{onClick:()=>A(f),get children(){return[(()=>{var O=kc(),ue=O.firstChild,L=ue.nextSibling;return o(O,J),ue.style.setProperty("margin","0"),ue.style.setProperty("font-size","1.1rem"),r(ue,()=>f.name),r(L,K),z(be=>o(L,H(G),be)),O})(),(()=>{var O=Dt();return o(O,q),r(O,()=>w(f.price)),O})(),(()=>{var O=Ac(),ue=O.firstChild,L=ue.nextSibling;return L.nextSibling,o(O,Q),r(O,()=>t("inventory.quantity"),ue),r(O,()=>f.quantity,L),r(O,()=>t("common.units"),null),O})()]}})}})),v})()]:[(()=>{var v=Ic(),f=v.firstChild,K=f.nextSibling,G=K.nextSibling,O=G.nextSibling;return o(v,R),f.$$click=()=>b("overview"),r(f,()=>t("inventory.overview")),K.$$click=()=>b("products"),r(K,()=>t("inventory.products")),G.$$click=()=>b("movements"),r(G,()=>t("inventory.movements")),O.$$click=()=>b("locations"),r(O,()=>t("inventory.locations")),z(ue=>{var L=Y(y()==="overview"),be=Y(y()==="products"),Pe=Y(y()==="movements"),$e=Y(y()==="locations");return ue.e=o(f,L,ue.e),ue.t=o(K,be,ue.t),ue.a=o(G,Pe,ue.a),ue.o=o(O,$e,ue.o),ue},{e:void 0,t:void 0,a:void 0,o:void 0}),v})(),F(()=>F(()=>y()==="overview")()&&(()=>{var v=Ec(),f=v.firstChild;return r(f,u(Oe,{get title(){return t("inventory.activeProducts")},get subtitle(){return t("inventory.currentlyManaged")},get children(){var K=Dt();return K.style.setProperty("font-size","1.5rem"),K.style.setProperty("font-weight","600"),K.style.setProperty("color","var(--primary-color)"),r(K,()=>m().activeProducts),K}}),null),r(f,u(Oe,{get title(){return t("inventory.lowStockAlert")},get subtitle(){return t("inventory.needAttention")},get children(){var K=Dt();return K.style.setProperty("font-size","1.5rem"),K.style.setProperty("font-weight","600"),K.style.setProperty("color","#d32f2f"),r(K,()=>m().lowStockProducts),K}}),null),r(f,u(Oe,{get title(){return t("inventory.totalValue")},get subtitle(){return t("inventory.currentWorth")},get children(){var K=Dt();return K.style.setProperty("font-size","1.5rem"),K.style.setProperty("font-weight","600"),K.style.setProperty("color","var(--primary-color)"),r(K,()=>de(pe().totalValue)),K}}),null),r(f,u(Oe,{get title(){return t("inventory.movements")},get subtitle(){return t("inventory.thisMonth")},get children(){var K=Dt();return K.style.setProperty("font-size","1.5rem"),K.style.setProperty("font-weight","600"),K.style.setProperty("color","var(--primary-color)"),r(K,()=>m().totalMovementsThisMonth),K}}),null),r(f,u(Oe,{get title(){return t("inventory.activeLocations")},get subtitle(){return t("inventory.warehousesStores")},get children(){var K=Dt();return K.style.setProperty("font-size","1.5rem"),K.style.setProperty("font-weight","600"),K.style.setProperty("color","var(--primary-color)"),r(K,()=>m().activeLocations),K}}),null),r(v,(()=>{var K=F(()=>m().lowStockProducts>0);return()=>K()&&u(Oe,{get title(){return`âš ï¸ ${t("inventory.lowStockAlert")}`},get subtitle(){return`${m().lowStockProducts} ${t("inventory.productsNeedRestocking")}`},style:{"margin-bottom":"2rem","border-color":"#ffcdd2",background:"#ffebee"},get children(){var G=Dt();return G.style.setProperty("margin-top","1rem"),r(G,u(dt,{get each(){return De.getLowStockProducts().slice(0,9)},children:O=>(()=>{var ue=Dc(),L=ue.firstChild,be=L.firstChild,Pe=be.nextSibling;Pe.nextSibling;var $e=L.nextSibling,_e=$e.firstChild,Le=_e.nextSibling;return Le.nextSibling,ue.style.setProperty("display","flex"),ue.style.setProperty("justify-content","space-between"),ue.style.setProperty("margin-bottom","0.5rem"),ue.style.setProperty("font-size","0.875rem"),r(L,()=>O.name,be),r(L,()=>O?.sku,Pe),$e.style.setProperty("color","#d32f2f"),$e.style.setProperty("font-weight","600"),r($e,()=>O.currentStock,_e),r($e,()=>O.minStockLevel,Le),r($e,()=>t("inventory.min"),null),ue})()}),null),r(G,(()=>{var O=F(()=>De.getLowStockProducts().length>5);return()=>O()&&(()=>{var ue=Dt();return ue.style.setProperty("font-size","0.875rem"),ue.style.setProperty("color","var(--text-muted)"),ue.style.setProperty("font-style","italic"),r(ue,()=>t("common.andMore",{count:De.getLowStockProducts().length-9})),ue})()})(),null),G}})})(),null),z(K=>o(f,ee,K)),v})()),F(()=>F(()=>y()==="products")()&&(()=>{var v=Lc(),f=v.firstChild,K=f.firstChild,G=K.firstChild,O=G.nextSibling,ue=O.firstChild,L=f.nextSibling,be=L.firstChild;return f.style.setProperty("display","flex"),f.style.setProperty("justify-content","space-between"),f.style.setProperty("align-items","flex-start"),f.style.setProperty("margin-bottom","1.5rem"),f.style.setProperty("flex-wrap","wrap"),f.style.setProperty("gap","1rem"),K.style.setProperty("flex","1"),K.style.setProperty("min-width","300px"),G.style.setProperty("margin","0 0 1rem 0"),G.style.setProperty("font-size","1.5rem"),r(G,()=>t("inventory.products")),O.style.setProperty("display","flex"),O.style.setProperty("gap","1rem"),O.style.setProperty("align-items","center"),O.style.setProperty("flex-wrap","wrap"),ue.style.setProperty("flex","1"),ue.style.setProperty("min-width","250px"),r(ue,u(yc,{onSearchResults:Pe=>{M(Pe),V(Pe.length>0)},get placeholder(){return t("inventory.searchProductsStock","Search products and check stock levels...")},showResults:!1,maxResults:20})),r(O,u(Ae,{variant:"outline",onClick:()=>{ve(),V(!1)},get children(){return["ðŸ”„ ",F(()=>t("common.showAll","Show All"))]}}),null),r(f,u(Ae,{variant:"primary",onClick:()=>ae(!0),get children(){return["âž• ",F(()=>t("inventory.addProduct"))]}}),null),L.style.setProperty("margin-bottom","1rem"),L.style.setProperty("font-size","0.875rem"),L.style.setProperty("color","var(--text-muted)"),L.style.setProperty("display","flex"),L.style.setProperty("justify-content","space-between"),L.style.setProperty("align-items","center"),r(be,(()=>{var Pe=F(()=>!!ne());return()=>Pe()?`${t("inventory.searchResults","Search Results")}: ${h().length} ${t("common.products","products")}`:`${t("inventory.totalProducts","Total Products")}: ${B().length} ${t("common.products","products")}`})()),r(L,(()=>{var Pe=F(()=>!!ne());return()=>Pe()&&(()=>{var $e=Nc();return $e.firstChild,$e.style.setProperty("color","var(--primary-color)"),r($e,()=>t("inventory.filtered","Filtered view"),null),$e})()})(),null),r(v,u(dt,{get each(){return _()},children:Pe=>(()=>{var $e=Tc(),_e=$e.firstChild,Le=_e.firstChild,Ue=Le.firstChild,xe=Ue.firstChild,we=xe.nextSibling,Te=Ue.nextSibling,Ne=Te.nextSibling,Be=Ne.firstChild,Fe=Le.nextSibling,Se=Fe.firstChild,je=Se.firstChild,Qe=Se.nextSibling,Ye=Qe.firstChild,he=Ye.nextSibling,Ge=he.nextSibling,rt=Ge.nextSibling;rt.nextSibling;var tt=Qe.nextSibling,ot=tt.firstChild;return $e.addEventListener("mouseleave",Ke=>{Ke.currentTarget.style.transform="translateY(0)",Ke.currentTarget.style.boxShadow="none"}),$e.addEventListener("mouseenter",Ke=>{Ke.currentTarget.style.transform="translateY(-2px)",Ke.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)"}),o($e,ge),o(_e,fe),Ue.style.setProperty("display","flex"),Ue.style.setProperty("align-items","center"),Ue.style.setProperty("gap","0.5rem"),Ue.style.setProperty("margin-bottom","0.5rem"),xe.style.setProperty("margin","0"),xe.style.setProperty("font-size","1.1rem"),r(xe,()=>Pe.name),r(we,(()=>{var Ke=F(()=>!!Pe.isLowStock);return()=>Ke()?t("inventory.lowStockAlert"):t("inventory.inStock")})()),Te.style.setProperty("font-size","0.875rem"),Te.style.setProperty("color","var(--text-muted)"),r(Te,()=>Pe.sku,null),r(Te,()=>Pe.UPC?" â€¢ "+Pe.UPC:"",null),r(Te,()=>Pe.category?" â€¢ "+Pe.category:"",null),Ne.style.setProperty("font-size","0.875rem"),Ne.style.setProperty("color","var(--text-muted)"),r(Ne,()=>t("inventory.lastSeen"),Be),r(Ne,()=>Pe.lastLocation?.name||t("inventory.noMovements"),null),Fe.style.setProperty("text-align","right"),Se.style.setProperty("font-size","1.25rem"),Se.style.setProperty("font-weight","700"),Se.style.setProperty("color","var(--primary-color)"),r(Se,()=>Pe.totalStock,je),r(Se,()=>Pe.unitOfMeasure,null),Qe.style.setProperty("font-size","0.875rem"),Qe.style.setProperty("color","var(--text-muted)"),r(Qe,()=>t("inventory.min"),Ye),r(Qe,()=>Pe.minStockLevel,he),r(Qe,()=>t("inventory.max"),rt),r(Qe,()=>Pe.maxStockLevel,null),tt.style.setProperty("font-size","0.875rem"),tt.style.setProperty("color","var(--text-muted)"),r(tt,()=>t("inventory.cost"),ot),r(tt,()=>de(Pe.unitCost),null),r($e,(()=>{var Ke=F(()=>Pe.stockByLocation.length>0);return()=>Ke()&&(()=>{var st=Bc(),ut=st.firstChild,ke=ut.firstChild,Ie=ut.nextSibling;return st.style.setProperty("margin-top","1rem"),ut.style.setProperty("font-weight","500"),ut.style.setProperty("margin-bottom","0.5rem"),ut.style.setProperty("font-size","0.875rem"),r(ut,()=>t("inventory.stockByLocation"),ke),Ie.style.setProperty("display","flex"),Ie.style.setProperty("flex-wrap","wrap"),Ie.style.setProperty("gap","0.5rem"),r(Ie,u(dt,{get each(){return Pe.stockByLocation},children:Me=>{const Re=De.getLocationById(Me.locationId);return console.log("location",Me,Re),(()=>{var We=Mc(),Ve=We.firstChild;return We.style.setProperty("padding","0.25rem 0.5rem"),We.style.setProperty("background","var(--background-color)"),We.style.setProperty("border-radius","var(--border-radius-sm)"),We.style.setProperty("font-size","0.75rem"),We.style.setProperty("border","1px solid var(--border-color)"),r(We,()=>Re?.name,Ve),r(We,()=>Me.quantity,null),We})()}})),st})()})(),null),z(Ke=>o(we,Z(Pe.isLowStock),Ke)),$e})()}),null),v})()),F(()=>F(()=>y()==="movements")()&&u(ic,{})),F(()=>F(()=>y()==="locations")()&&(()=>{var v=Rc(),f=v.firstChild,K=f.firstChild,G=f.nextSibling;return f.style.setProperty("display","flex"),f.style.setProperty("justify-content","space-between"),f.style.setProperty("align-items","center"),f.style.setProperty("margin-bottom","1.5rem"),K.style.setProperty("margin","0"),K.style.setProperty("font-size","1.5rem"),r(K,()=>t("inventory.locations")),r(f,u(Ae,{variant:"primary",onClick:()=>ye(!0),get children(){return["ðŸ­ ",F(()=>t("inventory.addLocation"))]}}),null),o(G,W),r(G,u(dt,{get each(){return De.getActiveLocations()},children:O=>{const ue=De.getStockByLocation(O.id),L=ue.length,be=ue.reduce(($e,_e)=>$e*1+_e.quantity*1,0),Pe=ue.reduce(($e,_e)=>{const Le=De.getProductById(_e.productId);return $e+_e.quantity*1*(Le?.unitCost||0)},0);return(()=>{var $e=Oc(),_e=$e.firstChild,Le=_e.firstChild,Ue=Le.firstChild,xe=Ue.nextSibling,we=Le.nextSibling,Te=we.firstChild,Ne=we.nextSibling,Be=_e.nextSibling,Fe=Be.firstChild,Se=Fe.firstChild,je=Se.firstChild,Qe=Se.nextSibling,Ye=Fe.nextSibling,he=Ye.firstChild,Ge=he.firstChild,rt=he.nextSibling,tt=Ye.nextSibling,ot=tt.firstChild,Ke=ot.firstChild,st=ot.nextSibling,ut=Be.nextSibling,ke=ut.firstChild,Ie=ke.firstChild;return _e.style.setProperty("margin-bottom","1rem"),_e.style.setProperty("padding-bottom","1rem"),_e.style.setProperty("border-bottom","1px solid var(--border-color)"),Le.style.setProperty("display","flex"),Le.style.setProperty("align-items","center"),Le.style.setProperty("gap","0.5rem"),Le.style.setProperty("margin-bottom","0.5rem"),Ue.style.setProperty("font-size","1.2rem"),r(Ue,()=>O.type==="warehouse"?"ðŸ­":O.type==="store"?"ðŸª":O.type==="supplier"?"ðŸšš":"ðŸ‘¥"),xe.style.setProperty("margin","0"),xe.style.setProperty("font-size","1.1rem"),r(xe,()=>O.name),we.style.setProperty("font-size","0.875rem"),we.style.setProperty("color","var(--text-muted)"),r(we,()=>O.code,Te),r(we,()=>$(O.type),null),Ne.style.setProperty("font-size","0.75rem"),Ne.style.setProperty("color","var(--text-muted)"),Ne.style.setProperty("margin-top","0.25rem"),r(Ne,()=>O.address),Be.style.setProperty("margin-bottom","1rem"),Fe.style.setProperty("display","flex"),Fe.style.setProperty("justify-content","space-between"),Fe.style.setProperty("margin-bottom","0.5rem"),Se.style.setProperty("font-size","0.875rem"),Se.style.setProperty("font-weight","500"),r(Se,()=>t("inventory.products"),je),Qe.style.setProperty("font-weight","600"),r(Qe,L),Ye.style.setProperty("display","flex"),Ye.style.setProperty("justify-content","space-between"),Ye.style.setProperty("margin-bottom","0.5rem"),he.style.setProperty("font-size","0.875rem"),he.style.setProperty("font-weight","500"),r(he,()=>t("inventory.totalItems"),Ge),rt.style.setProperty("font-weight","600"),rt.style.setProperty("color","var(--primary-color)"),r(rt,be),tt.style.setProperty("display","flex"),tt.style.setProperty("justify-content","space-between"),tt.style.setProperty("margin-bottom","1rem"),ot.style.setProperty("font-size","0.875rem"),ot.style.setProperty("font-weight","500"),r(ot,()=>t("inventory.totalValue"),Ke),st.style.setProperty("font-weight","600"),st.style.setProperty("color","var(--primary-color)"),r(st,()=>de(Pe)),ke.style.setProperty("font-weight","600"),ke.style.setProperty("margin-bottom","0.75rem"),ke.style.setProperty("font-size","0.875rem"),ke.style.setProperty("color","var(--text-primary)"),ke.style.setProperty("border-bottom","1px solid var(--border-color)"),ke.style.setProperty("padding-bottom","0.5rem"),r(ke,()=>t("inventory.productDetails"),Ie),r(ut,(()=>{var Me=F(()=>ue.length===0);return()=>Me()?(()=>{var Re=Dt();return Re.style.setProperty("text-align","center"),Re.style.setProperty("color","var(--text-muted)"),Re.style.setProperty("font-style","italic"),Re.style.setProperty("padding","1rem"),r(Re,()=>t("inventory.noProducts")),Re})():(()=>{var Re=Dt();return Re.style.setProperty("max-height","200px"),Re.style.setProperty("overflow-y","auto"),Re.style.setProperty("border","1px solid var(--border-color)"),Re.style.setProperty("border-radius","var(--border-radius-sm)"),r(Re,u(dt,{each:ue,children:We=>{const Ve=De.getProductById(We.productId);if(!Ve)return null;const nt=We.quantity<=Ve.minStockLevel,Ce=We.quantity*Ve.unitCost;return(()=>{var Xe=jc(),vt=Xe.firstChild,wt=vt.firstChild,ht=wt.firstChild,pt=ht.nextSibling,xt=wt.nextSibling,St=xt.firstChild,Lt=St.firstChild,At=St.nextSibling,It=At.nextSibling;return It.firstChild,Xe.style.setProperty("padding","0.75rem"),Xe.style.setProperty("border-bottom","1px solid var(--border-color)"),(nt?"#fff5f5":"transparent")!=null?Xe.style.setProperty("background",nt?"#fff5f5":"transparent"):Xe.style.removeProperty("background"),Xe.style.setProperty("transition","background-color 0.2s ease"),vt.style.setProperty("display","flex"),vt.style.setProperty("justify-content","space-between"),vt.style.setProperty("align-items","flex-start"),vt.style.setProperty("margin-bottom","0.25rem"),wt.style.setProperty("flex","1"),ht.style.setProperty("font-weight","500"),ht.style.setProperty("font-size","0.875rem"),(nt?"#d32f2f":"var(--text-primary)")!=null?ht.style.setProperty("color",nt?"#d32f2f":"var(--text-primary)"):ht.style.removeProperty("color"),r(ht,()=>Ve.name,null),r(ht,nt&&(()=>{var Et=zc();return Et.style.setProperty("margin-left","0.5rem"),Et.style.setProperty("font-size","0.7rem"),Et.style.setProperty("color","#d32f2f"),Et})(),null),pt.style.setProperty("font-size","0.75rem"),pt.style.setProperty("color","var(--text-muted)"),pt.style.setProperty("margin-top","0.1rem"),r(pt,()=>Ve.sku,null),r(pt,()=>Ve.UPC?" â€¢ "+Ve.UPC:"",null),r(pt,()=>Ve.category?" â€¢ "+Ve.category:"",null),xt.style.setProperty("text-align","right"),St.style.setProperty("font-weight","600"),St.style.setProperty("font-size","0.875rem"),(nt?"#d32f2f":"var(--primary-color)")!=null?St.style.setProperty("color",nt?"#d32f2f":"var(--primary-color)"):St.style.removeProperty("color"),r(St,()=>We.quantity,Lt),r(St,()=>Ve.unitOfMeasure,null),At.style.setProperty("font-size","0.75rem"),At.style.setProperty("color","var(--text-muted)"),r(At,()=>de(Ce)),It.style.setProperty("font-size","0.7rem"),It.style.setProperty("color","var(--text-muted)"),It.style.setProperty("margin-top","0.1rem"),r(It,()=>Ve.minStockLevel,null),Xe})()}})),Re})()})(),null),z(Me=>o($e,{...T,"min-height":"400px"},Me)),$e})()}})),v})())]),u($s,{get isOpen(){return e()},onClose:()=>n(!1),get mode(){return E()==="new"?"movement":"legacy"}}),u(As,{get isOpen(){return i()},onClose:()=>l(!1)}),u(Ns,{get isOpen(){return c()},onClose:()=>a(!1),get item(){return s()}}),u(dn,{get isOpen(){return le()},onClose:()=>ae(!1),onProductAdded:()=>{ae(!1)}}),u(Vn,{get isOpen(){return me()},onClose:()=>ye(!1),onLocationAdded:()=>{ye(!1)}}),u(Cc,{get isOpen(){return p()},onClose:()=>se(!1)})]}})};yt(["click"]);function qc(t,e=300,n=!1){let i,l;const c=()=>{i!==void 0&&(clearTimeout(i),i=void 0),l=void 0},a=()=>{i!==void 0&&l!==void 0&&(clearTimeout(i),i=void 0,t(...l),l=void 0)},s=(...d)=>{l=d,i!==void 0&&clearTimeout(i),n&&i===void 0&&t(...d),i=window.setTimeout(()=>{n||t(...d),i=void 0,l=void 0},e)};return wr(()=>{c()}),{debounced:s,cancel:c,flush:a}}function Uc(t,e=300){const[n,i]=re(!1);let l;const c=async y=>{if(l&&l.abort(),!y.trim()){i(!1);return}l=new AbortController,i(!0);try{await t(y)}catch(b){b instanceof Error&&b.name!=="AbortError"&&console.error("Search error:",b)}finally{l.signal.aborted||i(!1)}},{debounced:a,cancel:s}=qc(c,e,!1),d=()=>{s(),l&&l.abort(),i(!1)};return wr(()=>{d()}),{search:a,isSearching:n,cancel:d}}var Vc=k("<div>"),Yc=k("<div><h4>"),Wc=k("<div><div><div><h2></h2><div>SKU: <!> â€¢ </div></div><div></div></div><div><h3></h3><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div></div><div><h3></h3><div><div><div><span></span><span></span></div><div><span></span><span></span></div></div><div><div><span></span><span></span></div><div><span></span><span>%</span></div></div></div></div><div><h3></h3><div><div><div><span></span><span> </span></div><div><span></span><span> </span></div></div><div><div><span></span><span> </span></div><div><span></span><span></span></div></div></div></div><div><h3></h3><div><span></span><span></span></div><div><span></span><span></span></div></div><div>"),Hc=k("<span>âœ“ "),Gc=k("<span>âœ— "),Jc=k("<div><div><span></span><span> </span></div><div>: <!> â€¢ <!>: ");const Qc=t=>{const{t:e}=He(),n=ze(()=>{if(!t.product)return null;const C=De.getTotalStockByProduct(t.product.id),P=De.getStockByProduct(t.product.id),x=C<=t.product.minStockLevel,h=C===0,M=C>=t.product.maxStockLevel;return{total:C,byLocation:P,status:h?"out":x?"low":M?"over":"good",statusText:h?e("products.outOfStock","Out of Stock"):x?e("products.lowStock","Low Stock"):M?e("products.overStock","Over Stock"):e("products.inStock","In Stock")}}),i=C=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(C),l=C=>new Date(C).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),c=ze(()=>!t.product||t.product.unitCost===0?0:((t.product.sellingPrice-t.product.unitCost)/t.product.unitCost*100).toFixed(2)),a={"margin-bottom":"2rem"},s={display:"flex","justify-content":"space-between","align-items":"center",padding:"0.75rem 0","border-bottom":"1px solid var(--border-color)"},d={"font-weight":"500",color:"var(--text-muted)","font-size":"0.875rem"},y={"font-weight":"400",color:"var(--text-primary)","font-size":"1rem"},b=C=>{const P={good:{background:"#d4edda",color:"#155724"},low:{background:"#fff3cd",color:"#856404"},out:{background:"#f8d7da",color:"#721c24"},over:{background:"#cce5ff",color:"#004085"}};return{display:"inline-block",padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.875rem","font-weight":"500",...P[C]||P.good}},E={display:"grid","grid-template-columns":"1fr 1fr",gap:"1rem"},D={background:"var(--surface-color)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)",padding:"1rem","margin-bottom":"0.75rem"},I={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"1.5rem","padding-bottom":"1rem","border-bottom":"2px solid var(--border-color)"};return u(Pt,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return e("products.productDetails","Product Details")},size:"large",get children(){return u(qe,{get when(){return t.product},get fallback(){return(()=>{var C=Vc();return C.style.setProperty("text-align","center"),C.style.setProperty("padding","2rem"),C.style.setProperty("color","var(--text-muted)"),r(C,()=>e("products.noProductSelected","No product selected")),C})()},children:C=>(()=>{var P=Wc(),x=P.firstChild,h=x.firstChild,M=h.firstChild,U=M.nextSibling,j=U.firstChild,ne=j.nextSibling;ne.nextSibling;var V=h.nextSibling,le=x.nextSibling,ae=le.firstChild,me=ae.nextSibling,ye=me.firstChild,ie=ye.nextSibling,X=me.nextSibling,p=X.firstChild,se=p.nextSibling,A=X.nextSibling,m=A.firstChild,B=m.nextSibling,g=le.nextSibling,_=g.firstChild,S=_.nextSibling,w=S.firstChild,de=w.firstChild,$=de.firstChild,N=$.nextSibling,J=de.nextSibling,H=J.firstChild,q=H.nextSibling,Q=w.nextSibling,ee=Q.firstChild,ce=ee.firstChild,R=ce.nextSibling,Y=ee.nextSibling,ge=Y.firstChild,fe=ge.nextSibling,Z=fe.firstChild,W=g.nextSibling,T=W.firstChild,oe=T.nextSibling,te=oe.firstChild,pe=te.firstChild,ve=pe.firstChild,v=ve.nextSibling,f=v.firstChild,K=pe.nextSibling,G=K.firstChild,O=G.nextSibling,ue=O.firstChild,L=te.nextSibling,be=L.firstChild,Pe=be.firstChild,$e=Pe.nextSibling,_e=$e.firstChild,Le=be.nextSibling,Ue=Le.firstChild,xe=Ue.nextSibling,we=W.nextSibling,Te=we.firstChild,Ne=Te.nextSibling,Be=Ne.firstChild,Fe=Be.nextSibling,Se=Ne.nextSibling,je=Se.firstChild,Qe=je.nextSibling,Ye=we.nextSibling;return o(x,I),M.style.setProperty("margin","0"),M.style.setProperty("font-size","1.5rem"),M.style.setProperty("margin-bottom","0.25rem"),r(M,()=>C().name),U.style.setProperty("color","var(--text-muted)"),r(U,()=>C().sku,ne),r(U,()=>C().category,null),r(V,()=>n()?.statusText),ae.style.setProperty("margin-bottom","1rem"),ae.style.setProperty("font-size","1.1rem"),r(ae,()=>e("products.basicInformation","Basic Information")),r(ye,()=>e("products.description","Description")),r(ie,()=>C().description||e("common.notAvailable","N/A")),r(p,()=>e("products.unitOfMeasure","Unit of Measure")),r(se,()=>C().unitOfMeasure),r(m,()=>e("products.status","Status")),r(B,(()=>{var he=F(()=>!!C().isActive);return()=>he()?(()=>{var Ge=Hc();return Ge.firstChild,Ge.style.setProperty("color","#2e7d32"),r(Ge,()=>e("common.active","Active"),null),Ge})():(()=>{var Ge=Gc();return Ge.firstChild,Ge.style.setProperty("color","#d32f2f"),r(Ge,()=>e("common.inactive","Inactive"),null),Ge})()})()),_.style.setProperty("margin-bottom","1rem"),_.style.setProperty("font-size","1.1rem"),r(_,()=>e("products.pricingInformation","Pricing Information")),r($,()=>e("products.unitCost","Unit Cost")),r(N,()=>i(C().unitCost)),r(H,()=>e("products.sellingPrice","Selling Price")),r(q,()=>i(C().sellingPrice)),r(ce,()=>e("products.profit","Profit")),r(R,()=>i(C().sellingPrice-C().unitCost)),r(ge,()=>e("products.profitMargin","Profit Margin")),r(fe,c,Z),T.style.setProperty("margin-bottom","1rem"),T.style.setProperty("font-size","1.1rem"),r(T,()=>e("products.stockInformation","Stock Information")),r(ve,()=>e("products.totalStock","Total Stock")),r(v,()=>n()?.total||0,f),r(v,()=>C().unitOfMeasure,null),r(G,()=>e("products.minStockLevel","Min Stock Level")),r(O,()=>C().minStockLevel,ue),r(O,()=>C().unitOfMeasure,null),r(Pe,()=>e("products.maxStockLevel","Max Stock Level")),r($e,()=>C().maxStockLevel,_e),r($e,()=>C().unitOfMeasure,null),r(Ue,()=>e("products.stockValue","Stock Value")),r(xe,()=>i((n()?.total||0)*C().unitCost)),r(W,u(qe,{get when(){return F(()=>!!n()?.byLocation)()&&n().byLocation.length>0},get children(){var he=Yc(),Ge=he.firstChild;return he.style.setProperty("margin-top","1.5rem"),Ge.style.setProperty("margin-bottom","1rem"),Ge.style.setProperty("font-size","1rem"),r(Ge,()=>e("products.stockByLocation","Stock by Location")),r(he,()=>n().byLocation.map(rt=>(()=>{var tt=Jc(),ot=tt.firstChild,Ke=ot.firstChild,st=Ke.nextSibling,ut=st.firstChild,ke=ot.nextSibling,Ie=ke.firstChild,Me=Ie.nextSibling,Re=Me.nextSibling,We=Re.nextSibling;return We.nextSibling,o(tt,D),ot.style.setProperty("display","flex"),ot.style.setProperty("justify-content","space-between"),ot.style.setProperty("align-items","center"),Ke.style.setProperty("font-weight","500"),r(Ke,()=>rt.locationName),st.style.setProperty("font-weight","600"),st.style.setProperty("color","var(--primary-color)"),r(st,()=>rt.quantity,ut),r(st,()=>C().unitOfMeasure,null),ke.style.setProperty("margin-top","0.5rem"),ke.style.setProperty("font-size","0.875rem"),ke.style.setProperty("color","var(--text-muted)"),r(ke,()=>e("products.available","Available"),Ie),r(ke,()=>rt.availableQuantity,Me),r(ke,()=>e("products.reserved","Reserved"),We),r(ke,()=>rt.reservedQuantity,null),tt})()),null),he}}),null),Te.style.setProperty("margin-bottom","1rem"),Te.style.setProperty("font-size","1.1rem"),r(Te,()=>e("products.timestamps","Timestamps")),r(Be,()=>e("common.createdDate","Created Date")),r(Fe,()=>l(C().createdDate)),r(je,()=>e("common.lastModified","Last Modified")),r(Qe,()=>l(C().lastModified)),Ye.style.setProperty("display","flex"),Ye.style.setProperty("gap","1rem"),Ye.style.setProperty("justify-content","flex-end"),Ye.style.setProperty("margin-top","2rem"),r(Ye,u(Ae,{variant:"secondary",get onClick(){return t.onClose},get children(){return e("common.close","Close")}}),null),r(Ye,u(qe,{get when(){return t.onEdit},get children(){return u(Ae,{variant:"primary",get onClick(){return t.onEdit},get children(){return e("common.edit","Edit")}})}}),null),z(he=>{var Ge=b(n()?.status||"good"),rt=a,tt=s,ot=d,Ke=y,st=s,ut=d,ke=y,Ie=s,Me=d,Re=y,We=a,Ve=E,nt=s,Ce=d,Xe=y,vt=s,wt=d,ht=y,pt=s,xt=d,St=y,Lt=s,At=d,It=y,Et=a,Ft=E,lr=s,Jt=d,Qt=y,Kt=s,kr=d,fr=y,br=s,hr=d,Zt=y,Ar=s,Sr=d,Je=y,ct=a,Ct=s,Bt=d,jt=y,gt=s,Vt=d,ar=y;return he.e=o(V,Ge,he.e),he.t=o(le,rt,he.t),he.a=o(me,tt,he.a),he.o=o(ye,ot,he.o),he.i=o(ie,Ke,he.i),he.n=o(X,st,he.n),he.s=o(p,ut,he.s),he.h=o(se,ke,he.h),he.r=o(A,Ie,he.r),he.d=o(m,Me,he.d),he.l=o(B,Re,he.l),he.u=o(g,We,he.u),he.c=o(S,Ve,he.c),he.w=o(de,nt,he.w),he.m=o($,Ce,he.m),he.f=o(N,Xe,he.f),he.y=o(J,vt,he.y),he.g=o(H,wt,he.g),he.p=o(q,ht,he.p),he.b=o(ee,pt,he.b),he.T=o(ce,xt,he.T),he.A=o(R,St,he.A),he.O=o(Y,Lt,he.O),he.I=o(ge,At,he.I),he.S=o(fe,It,he.S),he.W=o(W,Et,he.W),he.C=o(oe,Ft,he.C),he.B=o(pe,lr,he.B),he.v=o(ve,Jt,he.v),he.k=o(v,Qt,he.k),he.x=o(K,Kt,he.x),he.j=o(G,kr,he.j),he.q=o(O,fr,he.q),he.z=o(be,br,he.z),he.P=o(Pe,hr,he.P),he.H=o($e,Zt,he.H),he.F=o(Le,Ar,he.F),he.M=o(Ue,Sr,he.M),he.D=o(xe,Je,he.D),he.R=o(we,ct,he.R),he.E=o(Ne,Ct,he.E),he.L=o(Be,Bt,he.L),he.N=o(Fe,jt,he.N),he.G=o(Se,gt,he.G),he.U=o(je,Vt,he.U),he.K=o(Qe,ar,he.K),he},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0,O:void 0,I:void 0,S:void 0,W:void 0,C:void 0,B:void 0,v:void 0,k:void 0,x:void 0,j:void 0,q:void 0,z:void 0,P:void 0,H:void 0,F:void 0,M:void 0,D:void 0,R:void 0,E:void 0,L:void 0,N:void 0,G:void 0,U:void 0,K:void 0}),P})()})}})};var Kc=k("<form><div><label> *</label><input type=text required></div><div><div><label> *</label><input type=text required></div><div><label> *</label><input type=text list=categories required><datalist id=categories><option value=Electronics></option><option value=Accessories></option><option value=Office></option><option value=Furniture></option><option value=Software></option><option value=Hardware></option></datalist></div></div><div><label></label><textarea></textarea></div><div><label></label><div><input type=checkbox id=activeStatus><label for=activeStatus></label></div></div><div><div><label></label><select><option value=pcs></option><option value=kg></option><option value=lbs></option><option value=m></option><option value=ft></option><option value=l></option><option value=gal></option><option value=box></option><option value=pack></option></select></div><div><label></label><input type=number min=0 step=0.01 placeholder=0.00></div></div><div><div><label></label><input type=number min=0 step=0.01 placeholder=0.00></div><div></div></div><div><div><span>:</span><span>$</span></div><div><span>:</span><span>%</span></div></div><div><div><label></label><input type=number min=0 step=1></div><div><label></label><input type=number min=1 step=1></div></div><div>"),bo=k("<div>"),Zc=k("<span>âœ“ "),Xc=k("<span>âœ— ");const ed=t=>{const{t:e}=He(),[n,i]=re(""),[l,c]=re(""),[a,s]=re(""),[d,y]=re(""),[b,E]=re("pcs"),[D,I]=re(0),[C,P]=re(0),[x,h]=re(10),[M,U]=re(100),[j,ne]=re(!0),[V,le]=re("");gr(()=>{t.product&&(i(t.product.name),c(t.product.sku),s(t.product.description||""),y(t.product.category),E(t.product.unitOfMeasure),I(t.product.unitCost),P(t.product.sellingPrice),h(t.product.minStockLevel),U(t.product.maxStockLevel),ne(t.product.isActive),le(""))});const ae=S=>{if(S.preventDefault(),le(""),!t.product)return;if(!n().trim()){le(e("forms.productNameRequired","Product name is required"));return}if(!l().trim()){le(e("forms.skuRequired","SKU is required"));return}if(!d().trim()){le(e("forms.categoryRequired","Category is required"));return}if(D()<0){le(e("forms.unitCostNotNegative","Unit cost cannot be negative"));return}if(C()<0){le(e("forms.sellingPriceNotNegative","Selling price cannot be negative"));return}if(x()<0){le(e("forms.minStockNotNegative","Min stock level cannot be negative"));return}if(M()<=x()){le(e("forms.maxStockGreaterThanMin","Max stock level must be greater than min stock level"));return}const w=De.getProductsBySku(l());if(w.length>0&&w[0].id!==t.product.id){le(e("forms.skuAlreadyExists","SKU already exists"));return}const de={...t.product,name:n().trim(),sku:l().trim().toUpperCase(),description:a().trim(),category:d().trim(),unitOfMeasure:b(),unitCost:D(),sellingPrice:C(),minStockLevel:x(),maxStockLevel:M(),isActive:j(),lastModified:new Date().toISOString()};De.updateProduct(t.product.id,de),t.onProductUpdated&&t.onProductUpdated(t.product.id),t.onClose()},me=()=>{le(""),t.onClose()},ye=()=>D()===0?0:((C()-D())/D()*100).toFixed(2),ie={"margin-bottom":"1.5rem"},X={display:"block","margin-bottom":"0.5rem","font-weight":"500",color:"var(--text-primary)"},p={width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)"},se={...p,cursor:"pointer"},A={color:"#f44336","font-size":"0.875rem","margin-bottom":"1rem"},m={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},B={display:"grid","grid-template-columns":"1fr 1fr",gap:"1rem"},g={padding:"1rem",background:"var(--surface-color)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","margin-bottom":"1.5rem",display:"flex","justify-content":"space-between","align-items":"center"},_={display:"flex","align-items":"center",gap:"0.5rem",cursor:"pointer"};return u(Pt,{get isOpen(){return t.isOpen},onClose:me,get title(){return e("products.updateProduct","Update Product")},size:"large",get children(){return u(qe,{get when(){return t.product},get fallback(){return(()=>{var S=bo();return S.style.setProperty("text-align","center"),S.style.setProperty("padding","2rem"),S.style.setProperty("color","var(--text-muted)"),r(S,()=>e("products.noProductSelected","No product selected")),S})()},get children(){var S=Kc(),w=S.firstChild,de=w.firstChild,$=de.firstChild,N=de.nextSibling,J=w.nextSibling,H=J.firstChild,q=H.firstChild,Q=q.firstChild,ee=q.nextSibling,ce=H.nextSibling,R=ce.firstChild,Y=R.firstChild,ge=R.nextSibling,fe=J.nextSibling,Z=fe.firstChild,W=Z.nextSibling,T=fe.nextSibling,oe=T.firstChild,te=oe.nextSibling,pe=te.firstChild,ve=pe.nextSibling,v=T.nextSibling,f=v.firstChild,K=f.firstChild,G=K.nextSibling,O=G.firstChild,ue=O.nextSibling,L=ue.nextSibling,be=L.nextSibling,Pe=be.nextSibling,$e=Pe.nextSibling,_e=$e.nextSibling,Le=_e.nextSibling,Ue=Le.nextSibling,xe=f.nextSibling,we=xe.firstChild,Te=we.nextSibling,Ne=v.nextSibling,Be=Ne.firstChild,Fe=Be.firstChild,Se=Fe.nextSibling,je=Ne.nextSibling,Qe=je.firstChild,Ye=Qe.firstChild,he=Ye.firstChild,Ge=Ye.nextSibling;Ge.firstChild;var rt=Qe.nextSibling,tt=rt.firstChild,ot=tt.firstChild,Ke=tt.nextSibling,st=Ke.firstChild,ut=je.nextSibling,ke=ut.firstChild,Ie=ke.firstChild,Me=Ie.nextSibling,Re=ke.nextSibling,We=Re.firstChild,Ve=We.nextSibling,nt=ut.nextSibling;return S.addEventListener("submit",ae),r(de,()=>e("inventory.productName","Product Name"),$),N.addEventListener("change",Ce=>i(Ce.target.value)),r(q,()=>e("inventory.sku","SKU"),Q),ee.addEventListener("change",Ce=>c(Ce.target.value)),r(R,()=>e("inventory.category","Category"),Y),ge.addEventListener("change",Ce=>y(Ce.target.value)),r(Z,()=>e("common.description","Description")),W.addEventListener("change",Ce=>s(Ce.target.value)),r(oe,()=>e("products.status","Status")),o(te,_),pe.addEventListener("change",Ce=>ne(Ce.target.checked)),pe.style.setProperty("cursor","pointer"),ve.style.setProperty("cursor","pointer"),r(ve,(()=>{var Ce=F(()=>!!j());return()=>Ce()?(()=>{var Xe=Zc();return Xe.firstChild,Xe.style.setProperty("color","#2e7d32"),r(Xe,()=>e("common.active","Active"),null),Xe})():(()=>{var Xe=Xc();return Xe.firstChild,Xe.style.setProperty("color","#d32f2f"),r(Xe,()=>e("common.inactive","Inactive"),null),Xe})()})()),r(K,()=>e("inventory.unitOfMeasure","Unit of Measure")),G.addEventListener("change",Ce=>E(Ce.target.value)),r(O,()=>e("inventory.pieces","Pieces")),r(ue,()=>e("inventory.kilograms","Kilograms")),r(L,()=>e("inventory.pounds","Pounds")),r(be,()=>e("inventory.meters","Meters")),r(Pe,()=>e("inventory.feet","Feet")),r($e,()=>e("inventory.liters","Liters")),r(_e,()=>e("inventory.gallons","Gallons")),r(Le,()=>e("inventory.boxes","Boxes")),r(Ue,()=>e("inventory.packs","Packs")),r(we,()=>e("inventory.unitCost","Unit Cost")),Te.addEventListener("change",Ce=>I(Number(Ce.target.value))),r(Fe,()=>e("inventory.sellingPrice","Selling Price")),Se.addEventListener("change",Ce=>P(Number(Ce.target.value))),o(je,g),Ye.style.setProperty("color","var(--text-muted)"),Ye.style.setProperty("font-size","0.875rem"),r(Ye,()=>e("products.profit","Profit"),he),Ge.style.setProperty("margin-left","0.5rem"),Ge.style.setProperty("font-weight","600"),r(Ge,()=>(C()-D()).toFixed(2),null),tt.style.setProperty("color","var(--text-muted)"),tt.style.setProperty("font-size","0.875rem"),r(tt,()=>e("products.profitMargin","Profit Margin"),ot),Ke.style.setProperty("margin-left","0.5rem"),Ke.style.setProperty("font-weight","600"),r(Ke,ye,st),r(Ie,()=>e("inventory.minimumStockLevel","Minimum Stock Level")),Me.addEventListener("change",Ce=>h(Number(Ce.target.value))),r(We,()=>e("inventory.maximumStockLevel","Maximum Stock Level")),Ve.addEventListener("change",Ce=>U(Number(Ce.target.value))),r(S,(()=>{var Ce=F(()=>!!V());return()=>Ce()&&(()=>{var Xe=bo();return o(Xe,A),r(Xe,V),Xe})()})(),nt),o(nt,m),r(nt,u(Ae,{variant:"secondary",type:"button",onClick:me,get children(){return e("common.cancel","Cancel")}}),null),r(nt,u(Ae,{variant:"primary",type:"submit",get children(){return e("common.update","Update")}}),null),z(Ce=>{var Xe=ie,vt=X,wt=p,ht=e("inventory.enterProductName","Enter product name"),pt=B,xt=X,St=p,Lt=e("inventory.enterSkuCode","Enter SKU code"),At=X,It=p,Et=e("inventory.enterCategory","Enter category"),Ft=ie,lr=X,Jt={...p,"min-height":"80px",resize:"vertical"},Qt=e("inventory.enterProductDescription","Enter product description"),Kt=ie,kr=X,fr=B,br=X,hr=se,Zt=X,Ar=p,Sr=B,Je=X,ct=p,Ct=B,Bt=X,jt=p,gt=X,Vt=p;return Ce.e=o(w,Xe,Ce.e),Ce.t=o(de,vt,Ce.t),Ce.a=o(N,wt,Ce.a),ht!==Ce.o&&Ze(N,"placeholder",Ce.o=ht),Ce.i=o(J,pt,Ce.i),Ce.n=o(q,xt,Ce.n),Ce.s=o(ee,St,Ce.s),Lt!==Ce.h&&Ze(ee,"placeholder",Ce.h=Lt),Ce.r=o(R,At,Ce.r),Ce.d=o(ge,It,Ce.d),Et!==Ce.l&&Ze(ge,"placeholder",Ce.l=Et),Ce.u=o(fe,Ft,Ce.u),Ce.c=o(Z,lr,Ce.c),Ce.w=o(W,Jt,Ce.w),Qt!==Ce.m&&Ze(W,"placeholder",Ce.m=Qt),Ce.f=o(T,Kt,Ce.f),Ce.y=o(oe,kr,Ce.y),Ce.g=o(v,fr,Ce.g),Ce.p=o(K,br,Ce.p),Ce.b=o(G,hr,Ce.b),Ce.T=o(we,Zt,Ce.T),Ce.A=o(Te,Ar,Ce.A),Ce.O=o(Ne,Sr,Ce.O),Ce.I=o(Fe,Je,Ce.I),Ce.S=o(Se,ct,Ce.S),Ce.W=o(ut,Ct,Ce.W),Ce.C=o(Ie,Bt,Ce.C),Ce.B=o(Me,jt,Ce.B),Ce.v=o(We,gt,Ce.v),Ce.k=o(Ve,Vt,Ce.k),Ce},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0,O:void 0,I:void 0,S:void 0,W:void 0,C:void 0,B:void 0,v:void 0,k:void 0}),z(()=>N.value=n()),z(()=>ee.value=l()),z(()=>ge.value=d()),z(()=>W.value=a()),z(()=>pe.checked=j()),z(()=>G.value=b()),z(()=>Te.value=D()),z(()=>Se.value=C()),z(()=>Me.value=x()),z(()=>Ve.value=M()),S}})}})};var ho=k("<div>ðŸ”„ "),td=k("<div><div><div><input type=text></div><select><option value>"),rd=k("<div>âš ï¸ "),rr=k("<div>"),nd=k("<option>"),od=k("<div>ðŸ” <br><button>"),id=k("<div><div><h3></h3><div></div></div><div></div><div>SKU: <!> â€¢ UPC: <!> â€¢ </div><div><span>: <!> </span><span></span></div><div><button></button><button>");const ld=()=>{const{t}=He(),[e,n]=re(""),[i,l]=re(""),[c,a]=re([]),[s,d]=re(!1),[y,b]=re(null),[E,D]=re(!1),[I,C]=re(!1),[P,x]=re(!1),[h,M]=re(null);_r(async()=>{await U()});const U=async()=>{try{d(!0),b(null);try{const $=await Zn.getAll();console.log({apiProducts:$}),a($.map(N=>({id:N.id||`prod-${Date.now()}-${Math.random()}`,name:N.productName||N.name||"Unknown Product",sku:N.sku||N.productCode||"",description:N.description||"",category:N.category||"General",unitOfMeasure:N.unitOfMeasure||"pcs",unitCost:parseFloat(N.unitCost||N.cost||"0"),sellingPrice:parseFloat(N.sellingPrice||N.price||"0"),minStockLevel:parseInt(N.minStockLevel||"0"),maxStockLevel:parseInt(N.maxStockLevel||"100"),isActive:N.isActive!==!1,createdDate:N.createdDate||new Date().toISOString(),lastModified:N.lastModified||new Date().toISOString(),businessId:N.businessId||"YB100423253156428"})))}catch($){console.warn("API failed, using local store:",$),a(De.products)}}catch($){b($ instanceof Error?$.message:"Failed to load products")}finally{d(!1)}},j=async()=>{try{d(!0),b(null);try{console.log("loadAllProducts inventoryApi");const $=await qr.getProducts("prod");console.log({apiResults:$});const N=Object.keys($),J=q=>{let ee=$[q];return{id:ee.id,name:ee.name,businessId:ee.businessId,sku:ee.code,numCode:ee.codeN,category:ee.category,unitCost:ee.unitCost||0,unitOfMeasure:ee.unitOfMeasure,minStockLevel:ee.minStockLevel,maxStockLevel:ee.maxStockLevel,isActive:ee.isActive,description:ee.description||"",createdDate:ee.createdAt||new Date().toISOString(),lastModified:ee.updatedAt||new Date().toISOString(),sellingPrice:parseFloat(ee.sellingPrice||ee.price||"0")}},H=N.map(J);a(H)}catch($){console.warn("API failed, using local store:",$),a(De.products)}}catch($){b($ instanceof Error?$.message:"Failed to load products")}finally{d(!1)}},{search:ne,isSearching:V,cancel:le}=Uc(async $=>{if(!$.trim()){await U();return}try{b(null);const N=await Zn.getAll($);a(N.map(J=>({id:J.id||`prod-${Date.now()}-${Math.random()}`,name:J.productName||J.name||"Unknown Product",sku:J.sku||J.productCode||"",description:J.description||"",category:J.category||"General",unitOfMeasure:J.unitOfMeasure||"pcs",unitCost:parseFloat(J.unitCost||J.cost||"0"),sellingPrice:parseFloat(J.sellingPrice||J.price||"0"),minStockLevel:parseInt(J.minStockLevel||"0"),maxStockLevel:parseInt(J.maxStockLevel||"100"),isActive:J.isActive!==!1,createdDate:J.createdDate||new Date().toISOString(),lastModified:J.lastModified||new Date().toISOString(),businessId:J.businessId||"YB100423253156428"})))}catch(N){b(N instanceof Error?N.message:"Search failed");const J=De.products.filter(H=>H.name.toLowerCase().includes($.toLowerCase())||H.sku.toLowerCase().includes($.toLowerCase())||H.category.toLowerCase().includes($.toLowerCase()));a(J)}},300),ae=$=>{const J=$.target.value;n(J),ne(J)};wr(()=>{le()});const me=ze(()=>{let $=c();return i()&&($=$.filter(N=>N.category===i())),$}),ye=ze(()=>[...new Set(c().map(N=>N.category))].sort()),ie=ze(()=>{const $=c().filter(H=>H.isActive),N=c().length,J=c().filter(H=>De.getTotalStockByProduct(H.id)===0);return{total:N,active:$.length,outOfStock:J.length}}),X=$=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format($),p=$=>{const N=De.getTotalStockByProduct($),J=c().find(Q=>Q.id===$);if(!J)return{quantity:0,status:"unknown"};const H=N<=J.minStockLevel;return{quantity:N,status:N===0?"out":H?"low":"good"}},se={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"},A={padding:"1.5rem",background:"var(--surface-color)","border-radius":"var(--border-radius)",border:"1px solid var(--border-color)",cursor:"pointer",transition:"all 0.2s ease"},m={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"1rem"},B={"font-size":"1.25rem","font-weight":"600",color:"var(--primary-color)"},g=$=>({padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500",background:$?"#d4edda":"#f8d7da",color:$?"#155724":"#721c24"}),_={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"},S={display:"flex",gap:"1rem","align-items":"center","margin-bottom":"2rem","flex-wrap":"wrap"},w={flex:"1","min-width":"300px",padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)"},de={padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)","min-width":"150px"};return u(zt,{get title(){return t("products.title","Products")},get children(){return[(()=>{var $=td(),N=$.firstChild,J=N.firstChild,H=J.firstChild,q=J.nextSibling,Q=q.firstChild;return $.style.setProperty("display","flex"),$.style.setProperty("justify-content","space-between"),$.style.setProperty("align-items","flex-start"),$.style.setProperty("margin-bottom","2rem"),$.style.setProperty("flex-wrap","wrap"),$.style.setProperty("gap","1rem"),o(N,S),J.style.setProperty("position","relative"),J.style.setProperty("flex","1"),J.style.setProperty("min-width","300px"),H.$$input=ae,o(H,w),r(J,u(qe,{get when(){return V()},get children(){var ee=ho();return ee.firstChild,ee.style.setProperty("position","absolute"),ee.style.setProperty("right","0.75rem"),ee.style.setProperty("top","50%"),ee.style.setProperty("transform","translateY(-50%)"),ee.style.setProperty("font-size","0.875rem"),ee.style.setProperty("color","var(--text-muted)"),r(ee,()=>t("common.searching","Searching..."),null),ee}}),null),q.addEventListener("change",ee=>l(ee.target.value)),o(q,de),r(Q,()=>t("products.allCategories","All Categories")),r(q,u(dt,{get each(){return ye()},children:ee=>(()=>{var ce=nd();return ce.value=ee,r(ce,ee),ce})()}),null),r(N,u(Ae,{variant:"outline",onClick:()=>{n(""),l(""),console.log("loadAllProducts"),j()},get children(){return["ðŸ”„ ",F(()=>t("common.refresh","Refresh"))]}}),null),r($,u(Ae,{variant:"primary",onClick:()=>D(!0),get children(){return["âž• ",F(()=>t("products.addNew","Add New Product"))]}}),null),z(()=>Ze(H,"placeholder",t("products.searchPlaceholder","Search products by name, SKU, or category..."))),z(()=>H.value=e()),z(()=>q.value=i()),$})(),u(qe,{get when(){return y()},get children(){var $=rd();return $.firstChild,$.style.setProperty("padding","1rem"),$.style.setProperty("margin-bottom","1rem"),$.style.setProperty("background","#ffebee"),$.style.setProperty("border","1px solid #ffcdd2"),$.style.setProperty("border-radius","var(--border-radius)"),$.style.setProperty("color","#d32f2f"),r($,y,null),$}}),(()=>{var $=rr();return o($,_),r($,u(Oe,{get title(){return t("products.totalProducts","Total Products")},get subtitle(){return t("products.inCatalog","In catalog")},get children(){var N=rr();return N.style.setProperty("font-size","1.5rem"),N.style.setProperty("font-weight","600"),N.style.setProperty("color","var(--primary-color)"),r(N,()=>ie().total),N}}),null),r($,u(Oe,{get title(){return t("products.activeProducts","Active Products")},get subtitle(){return t("products.currentlyAvailable","Currently available")},get children(){var N=rr();return N.style.setProperty("font-size","1.5rem"),N.style.setProperty("font-weight","600"),N.style.setProperty("color","var(--primary-color)"),r(N,()=>ie().active),N}}),null),r($,u(Oe,{get title(){return t("products.outOfStock","Out of Stock")},get subtitle(){return t("products.needsRestock","Needs restock")},get children(){var N=rr();return N.style.setProperty("font-size","1.5rem"),N.style.setProperty("font-weight","600"),r(N,()=>ie().outOfStock),z(J=>(J=ie().outOfStock>0?"#f44336":"var(--primary-color)")!=null?N.style.setProperty("color",J):N.style.removeProperty("color")),N}}),null),r($,u(Oe,{get title(){return t("products.showing","Showing")},get subtitle(){return F(()=>!!(e()||i()))()?t("products.filtered","Filtered results"):t("products.allProducts","All products")},get children(){var N=rr();return N.style.setProperty("font-size","1.5rem"),N.style.setProperty("font-weight","600"),N.style.setProperty("color","var(--primary-color)"),r(N,()=>me().length),N}}),null),$})(),u(Oe,{get title(){return t("products.productCatalog","Product Catalog")},get subtitle(){return t("products.manageYourProducts","Manage your products and pricing")},get children(){return u(qe,{get when(){return F(()=>!s())()&&!V()},get fallback(){return(()=>{var $=ho();return $.firstChild,$.style.setProperty("text-align","center"),$.style.setProperty("padding","3rem"),$.style.setProperty("color","var(--text-muted)"),r($,()=>t("common.loading","Loading products..."),null),$})()},get children(){return u(qe,{get when(){return me().length>0},get fallback(){return(()=>{var $=rr();return $.style.setProperty("text-align","center"),$.style.setProperty("padding","3rem"),$.style.setProperty("color","var(--text-muted)"),r($,(()=>{var N=F(()=>!!(e()||i()));return()=>N()?(()=>{var J=od(),H=J.firstChild,q=H.nextSibling,Q=q.nextSibling;return r(J,()=>t("products.noResults","No products found matching your criteria."),q),Q.$$click=()=>{n(""),l(""),U()},Q.style.setProperty("margin-top","1rem"),Q.style.setProperty("padding","0.5rem 1rem"),Q.style.setProperty("background","none"),Q.style.setProperty("border","1px solid var(--primary-color)"),Q.style.setProperty("border-radius","var(--border-radius-sm)"),Q.style.setProperty("color","var(--primary-color)"),Q.style.setProperty("cursor","pointer"),r(Q,()=>t("products.clearFilters","Clear filters")),J})():t("products.noProducts","No products available.")})()),$})()},get children(){var $=rr();return o($,se),r($,u(dt,{get each(){return me()},children:N=>{const J=p(N.id),H={good:{background:"#d4edda",color:"#155724"},low:{background:"#fff3cd",color:"#856404"},out:{background:"#f8d7da",color:"#721c24"}}[J.status];return(()=>{var q=id(),Q=q.firstChild,ee=Q.firstChild,ce=ee.nextSibling,R=Q.nextSibling,Y=R.nextSibling,ge=Y.firstChild,fe=ge.nextSibling,Z=fe.nextSibling,W=Z.nextSibling;W.nextSibling;var T=Y.nextSibling,oe=T.firstChild,te=oe.firstChild,pe=te.nextSibling;pe.nextSibling;var ve=oe.nextSibling,v=T.nextSibling,f=v.firstChild,K=f.nextSibling;return q.addEventListener("mouseleave",G=>{G.currentTarget.style.transform="translateY(0)",G.currentTarget.style.boxShadow="none"}),q.addEventListener("mouseenter",G=>{G.currentTarget.style.transform="translateY(-2px)",G.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)"}),q.$$click=()=>{M(N),C(!0)},o(Q,m),ee.style.setProperty("margin","0"),ee.style.setProperty("font-size","1.1rem"),r(ee,()=>N.name),r(ce,(()=>{var G=F(()=>J.status==="out");return()=>G()?t("products.outOfStock","Out of Stock"):F(()=>J.status==="low")()?t("products.lowStock","Low Stock"):t("products.inStock","In Stock")})()),o(R,B),r(R,()=>X(N.unitCost)),Y.style.setProperty("color","var(--text-muted)"),Y.style.setProperty("font-size","0.875rem"),Y.style.setProperty("margin-bottom","0.5rem"),r(Y,()=>N.sku,fe),r(Y,()=>N.UPC,W),r(Y,()=>N.category,null),T.style.setProperty("display","flex"),T.style.setProperty("justify-content","space-between"),T.style.setProperty("align-items","center"),T.style.setProperty("font-size","0.875rem"),T.style.setProperty("color","var(--text-muted)"),r(oe,()=>t("products.stock","Stock"),te),r(oe,()=>J.quantity,pe),r(oe,()=>N.unitOfMeasure,null),ve.style.setProperty("font-weight","600"),r(ve,()=>J.status==="out"?"âš ï¸":J.status==="low"?"âš¡":"âœ…"),r(q,(()=>{var G=F(()=>!!N.description);return()=>G()&&(()=>{var O=rr();return O.style.setProperty("margin-top","0.5rem"),O.style.setProperty("font-size","0.75rem"),O.style.setProperty("color","var(--text-muted)"),O.style.setProperty("font-style","italic"),O.style.setProperty("white-space","nowrap"),O.style.setProperty("overflow","hidden"),O.style.setProperty("text-overflow","ellipsis"),r(O,()=>N.description),O})()})(),v),v.style.setProperty("display","flex"),v.style.setProperty("gap","0.5rem"),v.style.setProperty("margin-top","1rem"),v.style.setProperty("padding-top","1rem"),v.style.setProperty("border-top","1px solid var(--border-color)"),f.addEventListener("mouseleave",G=>G.currentTarget.style.opacity="1"),f.addEventListener("mouseenter",G=>G.currentTarget.style.opacity="0.8"),f.$$click=G=>{G.stopPropagation(),M(N),C(!0)},f.style.setProperty("flex","1"),f.style.setProperty("padding","0.5rem"),f.style.setProperty("background","var(--primary-color)"),f.style.setProperty("color","white"),f.style.setProperty("border","none"),f.style.setProperty("border-radius","var(--border-radius-sm)"),f.style.setProperty("cursor","pointer"),f.style.setProperty("font-size","0.875rem"),f.style.setProperty("transition","opacity 0.2s"),r(f,()=>t("common.view","View")),K.addEventListener("mouseleave",G=>{G.currentTarget.style.background="transparent",G.currentTarget.style.color="var(--primary-color)"}),K.addEventListener("mouseenter",G=>{G.currentTarget.style.background="var(--primary-color)",G.currentTarget.style.color="white"}),K.$$click=G=>{G.stopPropagation(),M(N),x(!0)},K.style.setProperty("flex","1"),K.style.setProperty("padding","0.5rem"),K.style.setProperty("background","transparent"),K.style.setProperty("color","var(--primary-color)"),K.style.setProperty("border","1px solid var(--primary-color)"),K.style.setProperty("border-radius","var(--border-radius-sm)"),K.style.setProperty("cursor","pointer"),K.style.setProperty("font-size","0.875rem"),K.style.setProperty("transition","all 0.2s"),r(K,()=>t("common.edit","Edit")),z(G=>{var O={...A,cursor:"pointer",transition:"all 0.2s ease"},ue={...g(J.status==="good"),...H},L=J.status==="good"?"#2e7d32":J.status==="low"?"#f57f17":"#d32f2f";return G.e=o(q,O,G.e),G.t=o(ce,ue,G.t),L!==G.a&&((G.a=L)!=null?ve.style.setProperty("color",L):ve.style.removeProperty("color")),G},{e:void 0,t:void 0,a:void 0}),q})()}})),$}})}})}}),u(dn,{get isOpen(){return E()},onClose:()=>D(!1),onProductAdded:()=>{U()}}),u(Qc,{get isOpen(){return I()},onClose:()=>{C(!1),M(null)},get product(){return h()},onEdit:()=>{C(!1),x(!0)}}),u(ed,{get isOpen(){return P()},onClose:()=>{x(!1),M(null)},get product(){return h()},onProductUpdated:()=>{U()}})]}})};yt(["input","click"]);const ad=[{id:"1",name:"John Doe",position:"Software Engineer",salary:85e3,email:"john.doe@company.com",phone:"+1 (555) 123-4567",department:"Engineering",startDate:"2023-01-15"},{id:"2",name:"Jane Smith",position:"Product Manager",salary:95e3,email:"jane.smith@company.com",phone:"+1 (555) 234-5678",department:"Product",startDate:"2022-08-20"},{id:"3",name:"Mike Brown",position:"Designer",salary:7e4,email:"mike.brown@company.com",phone:"+1 (555) 345-6789",department:"Design",startDate:"2023-03-10"},{id:"4",name:"Sarah Kim",position:"HR Manager",salary:78e3,email:"sarah.kim@company.com",phone:"+1 (555) 456-7890",department:"Human Resources",startDate:"2022-11-05"},{id:"5",name:"Alex Lee",position:"Data Analyst",salary:72e3,email:"alex.lee@company.com",phone:"+1 (555) 567-8901",department:"Analytics",startDate:"2023-02-28"},{id:"6",name:"Emma Wilson",position:"Marketing Manager",salary:82e3,email:"emma.wilson@company.com",phone:"+1 (555) 678-9012",department:"Marketing",startDate:"2022-09-15"}],[Lr,$n]=re(ad),Ko={get employees(){return Lr()},addEmployee(t){const e={...t,id:Date.now().toString()};return $n([...Lr(),e]),e},updateEmployee(t,e){$n(Lr().map(n=>n.id===t?{...n,...e}:n))},deleteEmployee(t){$n(Lr().filter(e=>e.id!==t))},getEmployeeById(t){return Lr().find(e=>e.id===t)}};var sd=k("<form><div>");const cd=t=>{const{t:e}=He(),[n,i]=re({name:"",position:"",salary:"",email:"",phone:"",department:"",startDate:""}),l=[{value:"Engineering",label:e("employees.departments.engineering","Engineering")},{value:"Product",label:e("employees.departments.product","Product")},{value:"Design",label:e("employees.departments.design","Design")},{value:"Marketing",label:e("employees.departments.marketing","Marketing")},{value:"Sales",label:e("employees.departments.sales","Sales")},{value:"Human Resources",label:e("employees.departments.humanResources","Human Resources")},{value:"Finance",label:e("employees.departments.finance","Finance")},{value:"Operations",label:e("employees.departments.operations","Operations")},{value:"Analytics",label:e("employees.departments.analytics","Analytics")}],c={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},a=d=>{d.preventDefault();const y=n();if(!y.name||!y.position||!y.salary||!y.email||!y.department||!y.startDate){alert(e("forms.requiredField"));return}const b={name:y.name,position:y.position,salary:parseFloat(y.salary),email:y.email,phone:y.phone,department:y.department,startDate:y.startDate};Ko.addEmployee(b),i({name:"",position:"",salary:"",email:"",phone:"",department:"",startDate:""}),t.onClose()},s=(d,y)=>{i(b=>({...b,[d]:y}))};return u(Pt,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return e("employees.addEmployee")},get children(){var d=sd(),y=d.firstChild;return d.addEventListener("submit",a),r(d,u(it,{get label(){return e("employees.fullName")},get value(){return n().name},onChange:b=>s("name",b),get placeholder(){return e("employees.enterFullName","Enter employee's full name")},required:!0}),y),r(d,u(it,{get label(){return e("employees.position")},get value(){return n().position},onChange:b=>s("position",b),get placeholder(){return e("employees.enterPosition","Enter job position")},required:!0}),y),r(d,u(_t,{get label(){return e("employees.department")},get value(){return n().department},onChange:b=>s("department",b),options:l,required:!0}),y),r(d,u(it,{get label(){return e("employees.email")},type:"email",get value(){return n().email},onChange:b=>s("email",b),get placeholder(){return e("employees.enterEmail","Enter email address")},required:!0}),y),r(d,u(it,{get label(){return e("employees.phone")},type:"tel",get value(){return n().phone},onChange:b=>s("phone",b),get placeholder(){return e("employees.enterPhone","Enter phone number")}}),y),r(d,u(it,{get label(){return e("employees.salary")},type:"number",get value(){return n().salary},onChange:b=>s("salary",b),get placeholder(){return e("employees.enterSalary","Enter annual salary")},required:!0}),y),r(d,u(it,{get label(){return e("employees.hireDate")},type:"date",get value(){return n().startDate},onChange:b=>s("startDate",b),required:!0}),y),o(y,c),r(y,u(Ae,{variant:"secondary",type:"button",get onClick(){return t.onClose},get children(){return e("common.cancel")}}),null),r(y,u(Ae,{variant:"primary",type:"submit",get children(){return e("employees.addEmployee")}}),null),d}})};var dd=k("<div><div></div><div></div><div>"),ud=k("<div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span>"),yd=k("<div>");const md=t=>{const{t:e}=He(),n={display:"flex","justify-content":"space-between","align-items":"center",padding:"0.75rem 0","border-bottom":"1px solid var(--border-color)"},i={"font-weight":"500",color:"var(--text-muted)","font-size":"0.875rem"},l={"font-weight":"600",color:"var(--text-primary)"},c={width:"80px",height:"80px","border-radius":"50%",background:"linear-gradient(135deg, var(--primary-color), var(--secondary-color))",display:"flex","align-items":"center","justify-content":"center",color:"white","font-weight":"600","font-size":"1.5rem",margin:"0 auto 1.5rem auto"},a={"text-align":"center","margin-bottom":"2rem"},s={"font-size":"1.5rem","font-weight":"600",color:"var(--text-primary)",margin:"0.5rem 0"},d={color:"var(--text-muted)","font-size":"1rem"},y={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"};if(!t.employee)return null;const b=I=>I.split(" ").map(C=>C[0]).join("").toUpperCase(),E=I=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(I),D=I=>new Date(I).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return u(Pt,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return e("employees.employeeDetails")},get children(){return[(()=>{var I=dd(),C=I.firstChild,P=C.nextSibling,x=P.nextSibling;return o(I,a),o(C,c),r(C,()=>b(t.employee.name)),o(P,s),r(P,()=>t.employee.name),o(x,d),r(x,()=>t.employee.position),I})(),(()=>{var I=ud(),C=I.firstChild,P=C.firstChild,x=P.nextSibling,h=C.nextSibling,M=h.firstChild,U=M.nextSibling,j=h.nextSibling,ne=j.firstChild,V=ne.nextSibling,le=j.nextSibling,ae=le.firstChild,me=ae.nextSibling,ye=le.nextSibling,ie=ye.firstChild,X=ie.nextSibling,p=ye.nextSibling,se=p.firstChild,A=se.nextSibling;return r(P,()=>e("employees.employeeId")),r(x,()=>t.employee.id),r(M,()=>e("employees.department")),r(U,()=>t.employee.department),r(ne,()=>e("employees.email")),r(V,()=>t.employee.email),r(ae,()=>e("employees.phone")),r(me,()=>t.employee.phone),r(ie,()=>e("employees.salary")),r(X,()=>E(t.employee.salary)),r(se,()=>e("employees.hireDate")),r(A,()=>D(t.employee.startDate)),z(m=>{var B=n,g=i,_=l,S=n,w=i,de=l,$=n,N=i,J=l,H=n,q=i,Q=l,ee=n,ce=i,R=l,Y=n,ge=i,fe=l;return m.e=o(C,B,m.e),m.t=o(P,g,m.t),m.a=o(x,_,m.a),m.o=o(h,S,m.o),m.i=o(M,w,m.i),m.n=o(U,de,m.n),m.s=o(j,$,m.s),m.h=o(ne,N,m.h),m.r=o(V,J,m.r),m.d=o(le,H,m.d),m.l=o(ae,q,m.l),m.u=o(me,Q,m.u),m.c=o(ye,ee,m.c),m.w=o(ie,ce,m.w),m.m=o(X,R,m.m),m.f=o(p,Y,m.f),m.y=o(se,ge,m.y),m.g=o(A,fe,m.g),m},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0}),I})(),(()=>{var I=yd();return o(I,y),r(I,u(Ae,{variant:"secondary",get onClick(){return t.onClose},get children(){return e("common.close")}}),null),r(I,u(Ae,{variant:"primary",onClick:()=>{console.log("Edit employee:",t.employee.id)},get children(){return e("employees.editEmployee")}}),null),I})()]}})};var So=k("<div>"),vd=k("<div><div></div><div><div></div><div></div><div>/year");const gd=()=>{const{t}=He(),[e,n]=re(!1),[i,l]=re(!1),[c,a]=re(null),s=P=>{a(P),l(!0)},d={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"},y={display:"flex","align-items":"center",gap:"1rem"},b={width:"60px",height:"60px","border-radius":"50%",background:"linear-gradient(135deg, var(--primary-color), var(--secondary-color))",display:"flex","align-items":"center","justify-content":"center",color:"white","font-weight":"600","font-size":"1.2rem"},E={flex:"1"},D={"font-weight":"600","margin-bottom":"0.25rem"},I={color:"var(--text-muted)","font-size":"0.875rem","margin-bottom":"0.5rem"},C={color:"var(--primary-color)","font-weight":"500"};return u(zt,{get title(){return t("employees.title")},get children(){return[(()=>{var P=So();return P.style.setProperty("margin-bottom","2rem"),r(P,u(Ae,{variant:"primary",onClick:()=>n(!0),get children(){return t("employees.addEmployee")}})),P})(),(()=>{var P=So();return o(P,d),r(P,()=>Ko.employees.map(x=>{const h=U=>U.split(" ").map(j=>j[0]).join("").toUpperCase(),M=U=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(U);return u(Oe,{onClick:()=>s(x),get children(){var U=vd(),j=U.firstChild,ne=j.nextSibling,V=ne.firstChild,le=V.nextSibling,ae=le.nextSibling,me=ae.firstChild;return o(U,y),o(j,b),r(j,()=>h(x.name)),o(ne,E),o(V,D),r(V,()=>x.name),o(le,I),r(le,()=>x.position),o(ae,C),r(ae,()=>M(x.salary),me),U}})})),P})(),u(cd,{get isOpen(){return e()},onClose:()=>n(!1)}),u(md,{get isOpen(){return i()},onClose:()=>l(!1),get employee(){return c()}})]}})},pd=[{id:"1",accountId:"1002",bankName:"First National Bank",accountNumber:"****1234",accountType:"checking",currency:"USD",currentBalance:32730.5,lastReconciledDate:"2024-01-01",lastReconciledBalance:3e4,isActive:!0},{id:"2",accountId:"1003",bankName:"First National Bank",accountNumber:"****5678",accountType:"savings",currency:"USD",currentBalance:12e3,lastReconciledDate:"2024-01-01",lastReconciledBalance:1e4,isActive:!0}],fd=[{id:"1",accountId:"1002",date:"2024-01-15",description:"Customer Payment - ABC Corp",reference:"CHK001234",debitAmount:5e3,creditAmount:0,balance:35730.5,category:"Customer Payment",isReconciled:!0,reconciledWith:"eb1",importedAt:"2024-01-16",source:"csv_import"},{id:"2",accountId:"1002",date:"2024-01-14",description:"Office Supplies - Staples",reference:"CHK001235",debitAmount:0,creditAmount:250,balance:30730.5,category:"Office Expenses",isReconciled:!0,reconciledWith:"eb2",importedAt:"2024-01-16",source:"csv_import"},{id:"3",accountId:"1002",date:"2024-01-13",description:"Monthly Rent Payment",reference:"CHK001236",debitAmount:0,creditAmount:2e3,balance:28730.5,category:"Rent",isReconciled:!1,importedAt:"2024-01-16",source:"csv_import"},{id:"4",accountId:"1002",date:"2024-01-12",description:"Wire Transfer In",reference:"WIRE001",debitAmount:1e4,creditAmount:0,balance:38730.5,category:"Wire Transfer",isReconciled:!1,importedAt:"2024-01-16",source:"csv_import"}],bd=[{id:"eb1",accountId:"1002",date:"2024-01-15",description:"Customer Payment Received - ABC Corp",reference:"INV-2024-001",debitAmount:5e3,creditAmount:0,category:"Accounts Receivable",isReconciled:!0,reconciledWith:"1",createdAt:"2024-01-15"},{id:"eb2",accountId:"1002",date:"2024-01-14",description:"Office Supplies Purchase",reference:"PO-2024-001",debitAmount:0,creditAmount:250,category:"Office Expenses",isReconciled:!0,reconciledWith:"2",createdAt:"2024-01-14"},{id:"eb3",accountId:"1002",date:"2024-01-11",description:"Salary Payment - John Doe",reference:"PAY-2024-001",debitAmount:0,creditAmount:3500,category:"Salary Expense",isReconciled:!1,createdAt:"2024-01-11"}],hd=[{id:"1",bankAccountId:"1",periodStart:"2024-01-01",periodEnd:"2024-01-15",startingBalance:3e4,endingBalance:35730.5,status:"in_progress",totalBankTransactions:4,totalEntryBookRecords:3,reconciledTransactions:2,unreconciledTransactions:2,discrepancyAmount:1500,createdAt:"2024-01-16",notes:"Wire transfer and rent payment need investigation"}],[Qr,$o]=re(pd),[nr,Pn]=re(fd),[Nr,Po]=re(bd),[Kr,xo]=re(hd),$t={get bankAccounts(){return Qr()},addBankAccount(t){const e={...t,id:Date.now().toString()};return $o([...Qr(),e]),e},updateBankAccount(t,e){$o(Qr().map(n=>n.id===t?{...n,...e}:n))},getBankAccountById(t){return Qr().find(e=>e.id===t)},get bankStatements(){return nr()},addBankStatement(t){const e={...t,id:Date.now().toString(),importedAt:new Date().toISOString()};return Pn([...nr(),e]),e},addBankStatementsFromCSV(t){const e=t.map(n=>({...n,id:`csv_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,importedAt:new Date().toISOString(),source:"csv_import",isReconciled:!1}));return Pn([...nr(),...e]),e},updateBankStatement(t,e){Pn(nr().map(n=>n.id===t?{...n,...e}:n))},getBankStatementsByAccount(t){return nr().filter(e=>e.accountId===t)},getUnreconciledBankStatements(t){return(t?this.getBankStatementsByAccount(t):nr()).filter(n=>!n.isReconciled)},get entryBookRecords(){return Nr()},addEntryBookRecord(t){const e={...t,id:Date.now().toString(),createdAt:new Date().toISOString()};return Po([...Nr(),e]),e},updateEntryBookRecord(t,e){Po(Nr().map(n=>n.id===t?{...n,...e}:n))},getEntryBookRecordsByAccount(t){return Nr().filter(e=>e.accountId===t)},getUnreconciledEntryBookRecords(t){return(t?this.getEntryBookRecordsByAccount(t):Nr()).filter(n=>!n.isReconciled)},reconcileTransaction(t,e){this.updateBankStatement(t,{isReconciled:!0,reconciledWith:e}),this.updateEntryBookRecord(e,{isReconciled:!0,reconciledWith:t})},unreconciledTransaction(t){const e=nr().find(n=>n.id===t);e?.reconciledWith&&this.updateEntryBookRecord(e.reconciledWith,{isReconciled:!1,reconciledWith:void 0}),this.updateBankStatement(t,{isReconciled:!1,reconciledWith:void 0})},findPotentialMatches(t){const e=nr().find(i=>i.id===t);return e?this.getUnreconciledEntryBookRecords(e.accountId).filter(i=>{const l=Math.abs(e.debitAmount-i.debitAmount)<.01||Math.abs(e.creditAmount-i.creditAmount)<.01,c=new Date(e.date),a=new Date(i.date),d=Math.abs((c.getTime()-a.getTime())/(1e3*60*60*24))<=3,y=e.reference===i.reference||e.description.toLowerCase().includes(i.description.toLowerCase())||i.description.toLowerCase().includes(e.description.toLowerCase());return l&&(d||y)}).sort((i,l)=>{const c=(i.date===e.date?2:0)+(i.reference===e.reference?1:0);return(l.date===e.date?2:0)+(l.reference===e.reference?1:0)-c}):[]},get reconciliationSessions(){return Kr()},startReconciliationSession(t,e,n){const i=this.getBankStatementsByAccount(t).filter(y=>y.date>=e&&y.date<=n),l=this.getEntryBookRecordsByAccount(t).filter(y=>y.date>=e&&y.date<=n),c=i.filter(y=>y.isReconciled).length,a=this.getBankAccountById(t)?.lastReconciledBalance||0,s=this.getBankAccountById(t)?.currentBalance||0,d={id:Date.now().toString(),bankAccountId:t,periodStart:e,periodEnd:n,startingBalance:a,endingBalance:s,status:"in_progress",totalBankTransactions:i.length,totalEntryBookRecords:l.length,reconciledTransactions:c,unreconciledTransactions:i.length-c,discrepancyAmount:0,createdAt:new Date().toISOString()};return xo([...Kr(),d]),d},updateReconciliationSession(t,e){xo(Kr().map(n=>n.id===t?{...n,...e}:n))},getReconciliationSessionsByAccount(t){return Kr().filter(e=>e.bankAccountId===t)}};var xn=k("<div>"),Sd=k("<div><strong>:</strong> <!> - "),$d=k("<div><div><div>ðŸ“„</div><div></div><div></div></div><input id=csvFileInput type=file accept=.csv>"),Pd=k("<div><h4></h4><div><div><label> *</label><select><option value></option></select></div><div><label> *</label><select><option value></option></select></div><div><label></label><select><option value></option></select></div><div><label> *</label><select><option value></option></select></div><div><label></label><select><option value></option></select></div><div><label></label><select><option value>"),Cr=k("<option>"),xd=k("<div><table><thead><tr></tr></thead><tbody>"),Cd=k("<th>"),_d=k("<tr>"),wd=k("<td>");const kd=t=>{const{t:e}=He(),[n,i]=re(!1),[l,c]=re(!1),[a,s]=re(null),[d,y]=re([]),[b,E]=re({date:"",description:"",reference:"",debit:"",credit:"",balance:""}),D={border:`2px dashed ${n()?"var(--primary-color)":"var(--border-color)"}`,"border-radius":"var(--border-radius)",padding:"2rem","text-align":"center","background-color":n()?"var(--background-color)":"transparent",transition:"all 0.2s ease",cursor:"pointer"},I={display:"grid","grid-template-columns":"1fr 1fr",gap:"1rem","margin-top":"1.5rem"},C={width:"100%",padding:"0.5rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-family":"inherit"},P={"max-height":"200px","overflow-y":"auto",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","margin-top":"1rem"},x={width:"100%","border-collapse":"collapse","font-size":"0.875rem"},h={padding:"0.5rem","border-bottom":"1px solid var(--border-color)","text-align":"left"},M={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},U=X=>{X.preventDefault(),i(!0)},j=X=>{X.preventDefault(),i(!1)},ne=X=>{X.preventDefault(),i(!1);const p=X.dataTransfer?.files;p&&p.length>0&&le(p[0])},V=X=>{const p=X.target;p.files&&p.files.length>0&&le(p.files[0])},le=X=>{if(!X.name.toLowerCase().endsWith(".csv")){s({success:!1,message:e("banking.pleaseUploadCSV")});return}c(!0);const p=new FileReader;p.onload=se=>{try{const m=(se.target?.result).split(`
`).filter(S=>S.trim());if(m.length<2){s({success:!1,message:e("banking.csvRequiresHeaderAndData")}),c(!1);return}const B=m[0].split(",").map(S=>S.trim().replace(/[\"\']/g,"")),g=m.slice(1).map(S=>{const w=S.split(",").map($=>$.trim().replace(/[\"\']/g,"")),de={};return B.forEach(($,N)=>{de[$]=w[N]||""}),de});y(g),s({success:!0,message:e("banking.successfullyParsed").replace("{count}",g.length.toString()),count:g.length});const _={...b()};B.forEach(S=>{const w=S.toLowerCase();w.includes("date")&&(_.date=S),(w.includes("description")||w.includes("memo"))&&(_.description=S),(w.includes("reference")||w.includes("check")||w.includes("ref"))&&(_.reference=S),(w.includes("debit")||w.includes("deposit"))&&(_.debit=S),(w.includes("credit")||w.includes("withdrawal")||w.includes("amount"))&&(_.debit?_.credit=S:_.debit=S),w.includes("balance")&&(_.balance=S)}),E(_)}catch{s({success:!1,message:e("banking.errorParsingCSV")})}c(!1)},p.readAsText(X)},ae=(X,p)=>{E(se=>({...se,[X]:p}))},me=()=>d().length===0?[]:Object.keys(d()[0]),ye=()=>{if(!t.bankAccount||d().length===0)return;const X=b();if(!X.date||!X.description){s({success:!1,message:e("banking.dateDescriptionRequired")});return}c(!0);try{const p=d().map(A=>{const m=S=>S&&parseFloat(S.replace(/[^0-9.-]/g,""))||0,B=S=>{const w=new Date(S);if(isNaN(w.getTime())){const de=S.split("/");if(de.length===3)return new Date(parseInt(de[2]),parseInt(de[0])-1,parseInt(de[1])).toISOString().split("T")[0]}return w.toISOString().split("T")[0]};let g=0,_=0;if(X.debit&&X.credit)g=m(A[X.debit]),_=m(A[X.credit]);else if(X.debit){const S=m(A[X.debit]);S>0?g=S:_=Math.abs(S)}return{accountId:t.bankAccount.accountId,date:B(A[X.date]),description:A[X.description]||e("banking.importedTransaction"),reference:A[X.reference]||"",debitAmount:g,creditAmount:_,balance:X.balance?m(A[X.balance]):0,isReconciled:!1}}),se=$t.addBankStatementsFromCSV(p);s({success:!0,message:e("banking.successfullyImported").replace("{count}",se.length.toString()),count:se.length}),y([]),E({date:"",description:"",reference:"",debit:"",credit:"",balance:""})}catch{s({success:!1,message:e("banking.errorImportingTransactions")})}c(!1)},ie=()=>{y([]),s(null),E({date:"",description:"",reference:"",debit:"",credit:"",balance:""})};return u(Pt,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return e("banking.importBankStatementCSV")},get children(){return[F(()=>F(()=>!!t.bankAccount)()&&(()=>{var X=Sd(),p=X.firstChild,se=p.firstChild,A=p.nextSibling,m=A.nextSibling;return m.nextSibling,X.style.setProperty("margin-bottom","1.5rem"),X.style.setProperty("padding","1rem"),X.style.setProperty("background","var(--background-color)"),X.style.setProperty("border-radius","var(--border-radius-sm)"),X.style.setProperty("border","1px solid var(--border-color)"),r(p,()=>e("banking.bankAccount"),se),r(X,()=>t.bankAccount.bankName,m),r(X,()=>t.bankAccount.accountNumber,null),X})()),F(()=>F(()=>d().length===0)()?(()=>{var X=$d(),p=X.firstChild,se=p.firstChild,A=se.nextSibling,m=A.nextSibling,B=p.nextSibling;return p.$$click=()=>document.getElementById("csvFileInput")?.click(),p.addEventListener("drop",ne),p.addEventListener("dragleave",j),p.addEventListener("dragover",U),se.style.setProperty("font-size","2rem"),se.style.setProperty("margin-bottom","1rem"),A.style.setProperty("font-weight","500"),A.style.setProperty("margin-bottom","0.5rem"),r(A,(()=>{var g=F(()=>!!n());return()=>g()?e("banking.dropCSVHere"):e("banking.clickToUploadCSV")})()),m.style.setProperty("font-size","0.875rem"),m.style.setProperty("color","var(--text-muted)"),r(m,()=>e("banking.supportedFormat")),B.addEventListener("change",V),B.style.setProperty("display","none"),z(g=>o(p,D,g)),X})():(()=>{var X=Pd(),p=X.firstChild,se=p.nextSibling,A=se.firstChild,m=A.firstChild,B=m.firstChild,g=m.nextSibling,_=g.firstChild,S=A.nextSibling,w=S.firstChild,de=w.firstChild,$=w.nextSibling,N=$.firstChild,J=S.nextSibling,H=J.firstChild,q=H.nextSibling,Q=q.firstChild,ee=J.nextSibling,ce=ee.firstChild,R=ce.firstChild,Y=ce.nextSibling,ge=Y.firstChild,fe=ee.nextSibling,Z=fe.firstChild,W=Z.nextSibling,T=W.firstChild,oe=fe.nextSibling,te=oe.firstChild,pe=te.nextSibling,ve=pe.firstChild;return p.style.setProperty("margin","0 0 1rem 0"),r(p,()=>e("banking.mapCSVColumns")),o(se,I),m.style.setProperty("display","block"),m.style.setProperty("margin-bottom","0.5rem"),m.style.setProperty("font-weight","500"),r(m,()=>e("banking.dateColumn"),B),g.addEventListener("change",v=>ae("date",v.target.value)),r(_,()=>e("banking.selectColumn")),r(g,()=>me().map(v=>(()=>{var f=Cr();return f.value=v,r(f,v),f})()),null),w.style.setProperty("display","block"),w.style.setProperty("margin-bottom","0.5rem"),w.style.setProperty("font-weight","500"),r(w,()=>e("banking.descriptionColumn"),de),$.addEventListener("change",v=>ae("description",v.target.value)),r(N,()=>e("banking.selectColumn")),r($,()=>me().map(v=>(()=>{var f=Cr();return f.value=v,r(f,v),f})()),null),H.style.setProperty("display","block"),H.style.setProperty("margin-bottom","0.5rem"),H.style.setProperty("font-weight","500"),r(H,()=>e("banking.referenceColumn")),q.addEventListener("change",v=>ae("reference",v.target.value)),r(Q,()=>e("banking.selectColumn")),r(q,()=>me().map(v=>(()=>{var f=Cr();return f.value=v,r(f,v),f})()),null),ce.style.setProperty("display","block"),ce.style.setProperty("margin-bottom","0.5rem"),ce.style.setProperty("font-weight","500"),r(ce,()=>e("banking.amountDebitColumn"),R),Y.addEventListener("change",v=>ae("debit",v.target.value)),r(ge,()=>e("banking.selectColumn")),r(Y,()=>me().map(v=>(()=>{var f=Cr();return f.value=v,r(f,v),f})()),null),Z.style.setProperty("display","block"),Z.style.setProperty("margin-bottom","0.5rem"),Z.style.setProperty("font-weight","500"),r(Z,()=>e("banking.creditColumn")),W.addEventListener("change",v=>ae("credit",v.target.value)),r(T,()=>e("banking.selectColumn")),r(W,()=>me().map(v=>(()=>{var f=Cr();return f.value=v,r(f,v),f})()),null),te.style.setProperty("display","block"),te.style.setProperty("margin-bottom","0.5rem"),te.style.setProperty("font-weight","500"),r(te,()=>e("banking.balanceColumn")),pe.addEventListener("change",v=>ae("balance",v.target.value)),r(ve,()=>e("banking.selectColumn")),r(pe,()=>me().map(v=>(()=>{var f=Cr();return f.value=v,r(f,v),f})()),null),r(X,(()=>{var v=F(()=>d().length>0);return()=>v()&&(()=>{var f=xd(),K=f.firstChild,G=K.firstChild,O=G.firstChild,ue=G.nextSibling;return o(f,P),O.style.setProperty("background-color","var(--background-color)"),r(O,()=>me().slice(0,6).map(L=>(()=>{var be=Cd();return r(be,L),z(Pe=>o(be,h,Pe)),be})())),r(ue,()=>d().slice(0,3).map(L=>(()=>{var be=_d();return r(be,()=>me().slice(0,6).map(Pe=>(()=>{var $e=wd();return r($e,()=>L[Pe]),z(_e=>o($e,h,_e)),$e})())),be})())),r(f,(()=>{var L=F(()=>d().length>3);return()=>L()&&(()=>{var be=xn();return be.style.setProperty("padding","0.5rem"),be.style.setProperty("text-align","center"),be.style.setProperty("color","var(--text-muted)"),r(be,()=>e("banking.andMoreRows").replace("{count}",(d().length-3).toString())),be})()})(),null),z(L=>o(K,x,L)),f})()})(),null),z(v=>{var f=C,K=C,G=C,O=C,ue=C,L=C;return v.e=o(g,f,v.e),v.t=o($,K,v.t),v.a=o(q,G,v.a),v.o=o(Y,O,v.o),v.i=o(W,ue,v.i),v.n=o(pe,L,v.n),v},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),z(()=>g.value=b().date),z(()=>$.value=b().description),z(()=>q.value=b().reference),z(()=>Y.value=b().debit),z(()=>W.value=b().credit),z(()=>pe.value=b().balance),X})()),F(()=>F(()=>!!a())()&&(()=>{var X=xn();return X.style.setProperty("padding","1rem"),X.style.setProperty("border-radius","var(--border-radius-sm)"),X.style.setProperty("margin-top","1rem"),r(X,()=>a().message),z(p=>{var se=a().success?"#d4edda":"#f8d7da",A=a().success?"#155724":"#721c24",m=`1px solid ${a().success?"#c3e6cb":"#f5c6cb"}`;return se!==p.e&&((p.e=se)!=null?X.style.setProperty("background",se):X.style.removeProperty("background")),A!==p.t&&((p.t=A)!=null?X.style.setProperty("color",A):X.style.removeProperty("color")),m!==p.a&&((p.a=m)!=null?X.style.setProperty("border",m):X.style.removeProperty("border")),p},{e:void 0,t:void 0,a:void 0}),X})()),(()=>{var X=xn();return o(X,M),r(X,u(Ae,{variant:"secondary",onClick:()=>{ie(),t.onClose()},get children(){return e("common.cancel")}}),null),r(X,(()=>{var p=F(()=>d().length>0);return()=>p()&&u(Ae,{variant:"outline",onClick:ie,get children(){return e("common.reset")}})})(),null),r(X,(()=>{var p=F(()=>d().length>0);return()=>p()&&u(Ae,{variant:"primary",onClick:ye,get disabled(){return l()||!b().date||!b().description},get children(){return F(()=>!!l())()?e("banking.importing"):e("banking.importTransactions").replace("{count}",d().length.toString())}})})(),null),X})()]}})};yt(["click"]);var Co=k("<span>"),Zr=k("<div>"),_o=k("<div> "),Ad=k("<div><div><h3></h3><div><button></button><button></button><button></button></div></div><div></div><div><div><h4></h4><div></div></div><div><h4></h4><div>"),Id=k("<div><div><div></div><div> â€¢ </div></div><div><div>"),Cn=k("<span>âœ“ "),Ed=k("<span>(<!>)"),Dd=k("<div><strong>:</strong> "),wo=k("<div><div><div></div><div> â€¢ </div></div><div>"),Ld=k("<div><div>:</div><div></div><div>");const Nd=t=>{const{t:e}=He(),[n,i]=re([]),[l,c]=re([]),[a,s]=re(null),[d,y]=re([]),[b,E]=re("unreconciled");gr(()=>{const m=$t.getBankAccountById(t.bankAccountId);if(m){const B=$t.getBankStatementsByAccount(m.accountId).filter(_=>_.date>=t.selectedPeriod.start&&_.date<=t.selectedPeriod.end),g=$t.getEntryBookRecordsByAccount(m.accountId).filter(_=>_.date>=t.selectedPeriod.start&&_.date<=t.selectedPeriod.end);i(B),c(g)}});const D=()=>{const m=n();switch(b()){case"reconciled":return m.filter(B=>B.isReconciled);case"unreconciled":return m.filter(B=>!B.isReconciled);default:return m}},I=()=>{const m=l();switch(b()){case"reconciled":return m.filter(B=>B.isReconciled);case"unreconciled":return m.filter(B=>!B.isReconciled);default:return m}},C=m=>{if(s(m),m.isReconciled)y([]);else{const B=$t.findPotentialMatches(m.id);y(B)}},P=m=>{const B=a();if(B){$t.reconcileTransaction(B.id,m.id);const g=$t.getBankAccountById(t.bankAccountId);if(g){const _=$t.getBankStatementsByAccount(g.accountId).filter(w=>w.date>=t.selectedPeriod.start&&w.date<=t.selectedPeriod.end),S=$t.getEntryBookRecordsByAccount(g.accountId).filter(w=>w.date>=t.selectedPeriod.start&&w.date<=t.selectedPeriod.end);i(_),c(S)}s(null),y([])}},x=m=>{$t.unreconciledTransaction(m.id);const B=$t.getBankAccountById(t.bankAccountId);if(B){const g=$t.getBankStatementsByAccount(B.accountId).filter(S=>S.date>=t.selectedPeriod.start&&S.date<=t.selectedPeriod.end),_=$t.getEntryBookRecordsByAccount(B.accountId).filter(S=>S.date>=t.selectedPeriod.start&&S.date<=t.selectedPeriod.end);i(g),c(_)}},h={display:"grid","grid-template-columns":"1fr 1fr",gap:"2rem","margin-top":"2rem"},M={height:"600px","overflow-y":"auto"},U={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"1rem"},j=m=>({padding:"0.5rem 1rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)",background:m?"var(--primary-color)":"var(--surface-color)",color:m?"white":"var(--text-primary)",cursor:"pointer","font-weight":"500","font-size":"0.875rem",transition:"all 0.2s ease"}),ne=(m,B)=>({display:"flex","justify-content":"space-between","align-items":"center",padding:"1rem","margin-bottom":"0.5rem",background:m?"var(--primary-color)":B?"#e8f5e8":"var(--surface-color)",color:m?"white":"var(--text-primary)","border-radius":"var(--border-radius-sm)",border:`1px solid ${m?"var(--primary-color)":B?"#c3e6cb":"var(--border-color)"}`,cursor:"pointer",transition:"all 0.2s ease"}),V={flex:"1"},le={"font-weight":"500","margin-bottom":"0.25rem"},ae={"font-size":"0.875rem",opacity:"0.8"},me=m=>({"font-weight":"600",color:m?"#4caf50":"#f44336"}),ye={padding:"0.25rem 0.5rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500","margin-left":"0.5rem"},ie=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(m),X=m=>new Date(m).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),p=m=>{if(!a())return null;const B=a();return(Math.abs(B.debitAmount-m.debitAmount)<.01||Math.abs(B.creditAmount-m.creditAmount)<.01)&&B.date===m.date?(()=>{var S=Co();return r(S,()=>e("banking.exactMatch")),z(w=>o(S,{...ye,background:"#d4edda",color:"#155724"},w)),S})():d().includes(m)?(()=>{var S=Co();return r(S,()=>e("banking.possibleMatch")),z(w=>o(S,{...ye,background:"#fff3cd",color:"#856404"},w)),S})():null},A=(()=>{const m=n(),B=l(),g=m.filter(S=>S.isReconciled).length,_=B.filter(S=>S.isReconciled).length;return{totalStatements:m.length,totalRecords:B.length,reconciledStatements:g,reconciledRecords:_,unreconciledStatements:m.length-g,unreconciledRecords:B.length-_}})();return(()=>{var m=Ad(),B=m.firstChild,g=B.firstChild,_=g.nextSibling,S=_.firstChild,w=S.nextSibling,de=w.nextSibling,$=B.nextSibling,N=$.nextSibling,J=N.firstChild,H=J.firstChild,q=H.nextSibling,Q=J.nextSibling,ee=Q.firstChild,ce=ee.nextSibling;return o(B,U),g.style.setProperty("margin","0"),g.style.setProperty("font-size","1.25rem"),r(g,()=>e("banking.reconciliationComparison")),_.style.setProperty("display","flex"),_.style.setProperty("gap","0.5rem"),S.$$click=()=>E("all"),r(S,()=>e("common.all")),w.$$click=()=>E("unreconciled"),r(w,()=>e("banking.unreconciled")),de.$$click=()=>E("reconciled"),r(de,()=>e("banking.reconciled")),$.style.setProperty("display","grid"),$.style.setProperty("grid-template-columns","repeat(4, 1fr)"),$.style.setProperty("gap","1rem"),$.style.setProperty("margin-bottom","2rem"),r($,u(Oe,{get title(){return e("banking.bankStatements")},get subtitle(){return e("banking.totalTransactions")},get children(){return[(()=>{var R=Zr();return R.style.setProperty("font-size","1.5rem"),R.style.setProperty("font-weight","600"),R.style.setProperty("color","var(--primary-color)"),r(R,()=>A.totalStatements),R})(),(()=>{var R=_o(),Y=R.firstChild;return R.style.setProperty("font-size","0.875rem"),R.style.setProperty("color","var(--text-muted)"),r(R,()=>A.reconciledStatements,Y),r(R,()=>e("banking.reconciled"),null),R})()]}}),null),r($,u(Oe,{get title(){return e("banking.entryBookRecords")},get subtitle(){return e("banking.totalEntries")},get children(){return[(()=>{var R=Zr();return R.style.setProperty("font-size","1.5rem"),R.style.setProperty("font-weight","600"),R.style.setProperty("color","var(--primary-color)"),r(R,()=>A.totalRecords),R})(),(()=>{var R=_o(),Y=R.firstChild;return R.style.setProperty("font-size","0.875rem"),R.style.setProperty("color","var(--text-muted)"),r(R,()=>A.reconciledRecords,Y),r(R,()=>e("banking.reconciled"),null),R})()]}}),null),r($,u(Oe,{get title(){return e("banking.unreconciledBank")},get subtitle(){return e("banking.needAttention")},get children(){var R=Zr();return R.style.setProperty("font-size","1.5rem"),R.style.setProperty("font-weight","600"),R.style.setProperty("color","#f44336"),r(R,()=>A.unreconciledStatements),R}}),null),r($,u(Oe,{get title(){return e("banking.unreconciledBooks")},get subtitle(){return e("banking.needAttention")},get children(){var R=Zr();return R.style.setProperty("font-size","1.5rem"),R.style.setProperty("font-weight","600"),R.style.setProperty("color","#f44336"),r(R,()=>A.unreconciledRecords),R}}),null),o(N,h),H.style.setProperty("margin","0 0 1rem 0"),r(H,()=>e("banking.bankStatements")),r(q,()=>D().map(R=>(()=>{var Y=Id(),ge=Y.firstChild,fe=ge.firstChild,Z=fe.nextSibling,W=Z.firstChild,T=ge.nextSibling,oe=T.firstChild;return Y.$$click=()=>C(R),r(fe,()=>R.description),r(Z,()=>X(R.date),W),r(Z,()=>R.reference,null),r(Z,(()=>{var te=F(()=>!!R.isReconciled);return()=>te()&&(()=>{var pe=Cn();return pe.firstChild,pe.style.setProperty("color","#4caf50"),pe.style.setProperty("margin-left","0.5rem"),r(pe,()=>e("banking.reconciled"),null),pe})()})(),null),r(oe,()=>R.debitAmount>0?"+":"-",null),r(oe,()=>ie(R.debitAmount||R.creditAmount),null),r(T,(()=>{var te=F(()=>!!R.isReconciled);return()=>te()&&u(Ae,{variant:"outline",size:"sm",onClick:pe=>{pe.stopPropagation(),x(R)},style:{"margin-top":"0.5rem"},get children(){return e("banking.unreconcile")}})})(),null),z(te=>{var pe=ne(a()?.id===R.id,R.isReconciled),ve=V,v=le,f=ae,K=me(R.debitAmount>0);return te.e=o(Y,pe,te.e),te.t=o(ge,ve,te.t),te.a=o(fe,v,te.a),te.o=o(Z,f,te.o),te.i=o(oe,K,te.i),te},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),Y})())),ee.style.setProperty("margin","0 0 1rem 0"),r(ee,()=>e("banking.entryBookRecords"),null),r(ee,(()=>{var R=F(()=>!!(a()&&!a().isReconciled));return()=>R()&&(()=>{var Y=Ed(),ge=Y.firstChild,fe=ge.nextSibling;return fe.nextSibling,Y.style.setProperty("font-weight","400"),Y.style.setProperty("color","var(--text-muted)"),Y.style.setProperty("margin-left","0.5rem"),r(Y,()=>e("banking.clickToReconcile"),fe),Y})()})(),null),r(ce,(()=>{var R=F(()=>!!(a()&&!a().isReconciled));return()=>R()?[F(()=>F(()=>d().length>0)()&&(()=>{var Y=Dd(),ge=Y.firstChild,fe=ge.firstChild;return ge.nextSibling,Y.style.setProperty("margin-bottom","1rem"),Y.style.setProperty("padding","0.75rem"),Y.style.setProperty("background","#fff3cd"),Y.style.setProperty("border-radius","var(--border-radius-sm)"),r(ge,()=>e("banking.potentialMatchesFound"),fe),r(Y,()=>e("banking.clickRecordToReconcile"),null),Y})()),F(()=>I().map(Y=>(d().includes(Y),(()=>{var ge=wo(),fe=ge.firstChild,Z=fe.firstChild,W=Z.nextSibling,T=W.firstChild,oe=fe.nextSibling;return ge.$$click=()=>{Y.isReconciled||P(Y)},r(Z,()=>Y.description,null),r(Z,()=>p(Y),null),r(W,()=>X(Y.date),T),r(W,()=>Y.reference,null),r(W,(()=>{var te=F(()=>!!Y.isReconciled);return()=>te()&&(()=>{var pe=Cn();return pe.firstChild,pe.style.setProperty("color","#4caf50"),pe.style.setProperty("margin-left","0.5rem"),r(pe,()=>e("banking.reconciled"),null),pe})()})(),null),r(oe,()=>Y.debitAmount>0?"+":"-",null),r(oe,()=>ie(Y.debitAmount||Y.creditAmount),null),z(te=>{var pe={...ne(!1,Y.isReconciled),opacity:Y.isReconciled?.6:1,cursor:Y.isReconciled?"not-allowed":"pointer"},ve=V,v=le,f=ae,K=me(Y.debitAmount>0);return te.e=o(ge,pe,te.e),te.t=o(fe,ve,te.t),te.a=o(Z,v,te.a),te.o=o(W,f,te.o),te.i=o(oe,K,te.i),te},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),ge})())))]:I().map(Y=>(()=>{var ge=wo(),fe=ge.firstChild,Z=fe.firstChild,W=Z.nextSibling,T=W.firstChild,oe=fe.nextSibling;return r(Z,()=>Y.description),r(W,()=>X(Y.date),T),r(W,()=>Y.reference,null),r(W,(()=>{var te=F(()=>!!Y.isReconciled);return()=>te()&&(()=>{var pe=Cn();return pe.firstChild,pe.style.setProperty("color","#4caf50"),pe.style.setProperty("margin-left","0.5rem"),r(pe,()=>e("banking.reconciled"),null),pe})()})(),null),r(oe,()=>Y.debitAmount>0?"+":"-",null),r(oe,()=>ie(Y.debitAmount||Y.creditAmount),null),z(te=>{var pe=ne(!1,Y.isReconciled),ve=V,v=le,f=ae,K=me(Y.debitAmount>0);return te.e=o(ge,pe,te.e),te.t=o(fe,ve,te.t),te.a=o(Z,v,te.a),te.o=o(W,f,te.o),te.i=o(oe,K,te.i),te},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),ge})())})()),r(m,(()=>{var R=F(()=>!!(a()&&!a().isReconciled));return()=>R()&&(()=>{var Y=Ld(),ge=Y.firstChild,fe=ge.firstChild,Z=ge.nextSibling,W=Z.nextSibling;return Y.style.setProperty("position","fixed"),Y.style.setProperty("bottom","2rem"),Y.style.setProperty("right","2rem"),Y.style.setProperty("background","var(--surface-color)"),Y.style.setProperty("padding","1rem"),Y.style.setProperty("border-radius","var(--border-radius)"),Y.style.setProperty("box-shadow","var(--shadow-lg)"),Y.style.setProperty("border","1px solid var(--border-color)"),Y.style.setProperty("max-width","300px"),ge.style.setProperty("font-weight","500"),ge.style.setProperty("margin-bottom","0.5rem"),r(ge,()=>e("banking.selected"),fe),Z.style.setProperty("font-size","0.875rem"),Z.style.setProperty("margin-bottom","0.5rem"),r(Z,()=>a().description),W.style.setProperty("font-weight","600"),W.style.setProperty("color","var(--primary-color)"),r(W,()=>ie(a().debitAmount||a().creditAmount)),r(Y,u(Ae,{variant:"secondary",size:"sm",onClick:()=>{s(null),y([])},style:{"margin-top":"0.5rem"},get children(){return e("banking.clearSelection")}}),null),Y})()})(),null),z(R=>{var Y=j(b()==="all"),ge=j(b()==="unreconciled"),fe=j(b()==="reconciled"),Z=M,W=M;return R.e=o(S,Y,R.e),R.t=o(w,ge,R.t),R.a=o(de,fe,R.a),R.o=o(q,Z,R.o),R.i=o(ce,W,R.i),R},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),m})()};yt(["click"]);var Td=k("<div><div><h2></h2><p></p></div><div>"),Bd=k("<div><div><label></label></div><div><label></label><input type=date></div><div><label></label><input type=date>"),Md=k("<div><button></button><button>"),Rd=k("<div><br>"),Tr=k("<div>"),Od=k("<div><div></div><div> â€¢ </div><div>"),jd=k("<div>: "),zd=k("<div> <!> â€¢ <!> "),Fd=k("<div>%"),qd=k("<div> of <!> transactions");const Ud=()=>{const{t}=He(),[e,n]=re(null),[i,l]=re({start:new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),[c,a]=re(!1),[s,d]=re("overview");gr(()=>{!e()&&$t.bankAccounts.length>0&&n($t.bankAccounts[0])});const y={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"2rem"},b={display:"flex",gap:"1rem","align-items":"center","margin-bottom":"2rem",padding:"1.5rem",background:"var(--surface-color)","border-radius":"var(--border-radius)",border:"1px solid var(--border-color)"},E={display:"flex","border-bottom":"1px solid var(--border-color)","margin-bottom":"2rem"},D=U=>({padding:"1rem 2rem",background:"none",border:"none",cursor:"pointer","font-weight":"500",color:U?"var(--primary-color)":"var(--text-muted)","border-bottom":U?"2px solid var(--primary-color)":"2px solid transparent",transition:"all 0.2s ease"}),I={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"},C=U=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(U),P=U=>new Date(U).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),x=()=>$t.bankAccounts.map(U=>({value:U.id,label:`${U.bankName} - ${U.accountNumber} (${U.accountType})`})),M=(()=>{if(!e())return null;const U=$t.getBankStatementsByAccount(e().accountId).filter(V=>V.date>=i().start&&V.date<=i().end),j=$t.getEntryBookRecordsByAccount(e().accountId).filter(V=>V.date>=i().start&&V.date<=i().end),ne=U.filter(V=>V.isReconciled).length;return j.filter(V=>V.isReconciled).length,{totalBankTransactions:U.length,totalEntryBookRecords:j.length,reconciledTransactions:ne,unreconciledTransactions:U.length-ne,reconciliationRate:U.length>0?ne/U.length*100:0}})();return u(zt,{get title(){return t("banking.title")},get children(){return[(()=>{var U=Td(),j=U.firstChild,ne=j.firstChild,V=ne.nextSibling,le=j.nextSibling;return o(U,y),ne.style.setProperty("margin","0 0 0.5rem 0"),ne.style.setProperty("font-size","1.5rem"),r(ne,()=>t("banking.reconciliation")),V.style.setProperty("margin","0"),V.style.setProperty("color","var(--text-muted)"),r(V,()=>t("banking.compareStatements")),le.style.setProperty("display","flex"),le.style.setProperty("gap","1rem"),r(le,u(Ae,{variant:"secondary",onClick:()=>a(!0),get disabled(){return!e()},get children(){return t("banking.importCSV")}}),null),r(le,u(Ae,{variant:"primary",get children(){return t("banking.startNewReconciliation")}}),null),U})(),(()=>{var U=Bd(),j=U.firstChild,ne=j.firstChild,V=j.nextSibling,le=V.firstChild,ae=le.nextSibling,me=V.nextSibling,ye=me.firstChild,ie=ye.nextSibling;return o(U,b),j.style.setProperty("flex","1"),ne.style.setProperty("display","block"),ne.style.setProperty("margin-bottom","0.5rem"),ne.style.setProperty("font-weight","500"),r(ne,()=>t("banking.bankAccount")),r(j,u(_t,{label:"",get value(){return e()?.id||""},onChange:X=>{const p=$t.getBankAccountById(X);n(p||null)},get options(){return x()}}),null),le.style.setProperty("display","block"),le.style.setProperty("margin-bottom","0.5rem"),le.style.setProperty("font-weight","500"),r(le,()=>t("entryBooks.startDate")),ae.addEventListener("change",X=>l(p=>({...p,start:X.target.value}))),ae.style.setProperty("padding","0.75rem"),ae.style.setProperty("border","1px solid var(--border-color)"),ae.style.setProperty("border-radius","var(--border-radius-sm)"),ae.style.setProperty("font-family","inherit"),ye.style.setProperty("display","block"),ye.style.setProperty("margin-bottom","0.5rem"),ye.style.setProperty("font-weight","500"),r(ye,()=>t("entryBooks.endDate")),ie.addEventListener("change",X=>l(p=>({...p,end:X.target.value}))),ie.style.setProperty("padding","0.75rem"),ie.style.setProperty("border","1px solid var(--border-color)"),ie.style.setProperty("border-radius","var(--border-radius-sm)"),ie.style.setProperty("font-family","inherit"),z(()=>ae.value=i().start),z(()=>ie.value=i().end),U})(),(()=>{var U=Md(),j=U.firstChild,ne=j.nextSibling;return o(U,E),j.$$click=()=>d("overview"),r(j,()=>t("common.overview")),ne.$$click=()=>d("reconciliation"),r(ne,()=>t("banking.reconciliation")),z(V=>{var le=D(s()==="overview"),ae=D(s()==="reconciliation");return V.e=o(j,le,V.e),V.t=o(ne,ae,V.t),V},{e:void 0,t:void 0}),U})(),F(()=>F(()=>s()==="overview")()&&(()=>{var U=Tr();return r(U,(()=>{var j=F(()=>!!e());return()=>j()&&(()=>{var ne=Tr();return o(ne,I),r(ne,u(Oe,{get title(){return t("banking.bankAccountInfo")},get subtitle(){return t("banking.currentAccountDetails")},get children(){return[(()=>{var V=Od(),le=V.firstChild,ae=le.nextSibling,me=ae.firstChild,ye=ae.nextSibling;return V.style.setProperty("margin-bottom","1rem"),le.style.setProperty("font-weight","600"),le.style.setProperty("margin-bottom","0.5rem"),r(le,()=>e().bankName),ae.style.setProperty("color","var(--text-muted)"),ae.style.setProperty("margin-bottom","0.5rem"),r(ae,()=>e().accountNumber,me),r(ae,()=>e().accountType,null),ye.style.setProperty("font-size","1.25rem"),ye.style.setProperty("font-weight","600"),ye.style.setProperty("color","var(--primary-color)"),r(ye,()=>C(e().currentBalance)),V})(),F(()=>F(()=>!!e().lastReconciledDate)()&&(()=>{var V=jd(),le=V.firstChild;return V.style.setProperty("font-size","0.875rem"),V.style.setProperty("color","var(--text-muted)"),r(V,()=>t("banking.lastReconciled"),le),r(V,()=>P(e().lastReconciledDate),null),V})())]}}),null),r(ne,M&&[u(Oe,{get title(){return t("banking.bankTransactions")},get subtitle(){return t("banking.selectedPeriod")},get children(){return[(()=>{var V=Tr();return V.style.setProperty("font-size","1.5rem"),V.style.setProperty("font-weight","600"),V.style.setProperty("color","var(--primary-color)"),V.style.setProperty("margin-bottom","0.5rem"),r(V,()=>M.totalBankTransactions),V})(),(()=>{var V=zd(),le=V.firstChild,ae=le.nextSibling,me=ae.nextSibling,ye=me.nextSibling;return ye.nextSibling,V.style.setProperty("font-size","0.875rem"),V.style.setProperty("color","var(--text-muted)"),r(V,()=>M.reconciledTransactions,le),r(V,()=>t("banking.reconciled"),ae),r(V,()=>M.unreconciledTransactions,ye),r(V,()=>t("banking.pending"),null),V})()]}}),u(Oe,{get title(){return t("entryBooks.entryBookRecords")},get subtitle(){return t("banking.selectedPeriod")},get children(){return[(()=>{var V=Tr();return V.style.setProperty("font-size","1.5rem"),V.style.setProperty("font-weight","600"),V.style.setProperty("color","var(--primary-color)"),V.style.setProperty("margin-bottom","0.5rem"),r(V,()=>M.totalEntryBookRecords),V})(),(()=>{var V=Tr();return V.style.setProperty("font-size","0.875rem"),V.style.setProperty("color","var(--text-muted)"),r(V,()=>t("banking.bookEntriesForComparison")),V})()]}}),u(Oe,{get title(){return t("banking.reconciliationRate")},get subtitle(){return t("banking.completionStatus")},get children(){return[(()=>{var V=Fd(),le=V.firstChild;return V.style.setProperty("font-size","1.5rem"),V.style.setProperty("font-weight","600"),V.style.setProperty("margin-bottom","0.5rem"),r(V,()=>Math.round(M.reconciliationRate),le),z(ae=>(ae=M.reconciliationRate>80?"#4caf50":M.reconciliationRate>50?"#ff9800":"#f44336")!=null?V.style.setProperty("color",ae):V.style.removeProperty("color")),V})(),(()=>{var V=qd(),le=V.firstChild,ae=le.nextSibling;return ae.nextSibling,V.style.setProperty("font-size","0.875rem"),V.style.setProperty("color","var(--text-muted)"),r(V,()=>M.reconciledTransactions,le),r(V,()=>M.totalBankTransactions,ae),V})()]}})],null),ne})()})(),null),r(U,u(Oe,{get title(){return t("banking.recentReconciliationSessions")},get subtitle(){return t("banking.latestActivity")},get children(){var j=Rd(),ne=j.firstChild;return j.style.setProperty("text-align","center"),j.style.setProperty("color","var(--text-muted)"),j.style.setProperty("padding","2rem"),r(j,()=>t("banking.noRecentSessions"),ne),r(j,u(Ae,{variant:"primary",style:{"margin-top":"1rem"},onClick:()=>d("reconciliation"),get children(){return t("banking.startFirstReconciliation")}}),null),j}}),null),U})()),F(()=>F(()=>!!(s()==="reconciliation"&&e()))()&&u(Nd,{get bankAccountId(){return e().id},get selectedPeriod(){return i()}})),u(kd,{get isOpen(){return c()},onClose:()=>a(!1),get bankAccount(){return e()}})]}})};yt(["click"]);var Vd=k("<div><div></div><div>"),_n=k("<div>"),Yd=k("<div> â€¢ <!> â€¢ <!> "),Wd=k("<div><div><div></div><div></div></div><div><div></div><div>"),Hd=k("<div><div>:"),Gd=k("<div>âš ï¸ <!>: <!> <!>, <!> "),Jd=k("<div><div><div></div><div></div></div><div>"),ko=k("<div> "),Qd=k("<div>âœ“ ");const Kd=t=>{const{t:e}=He(),n={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"1rem"},i={"font-size":"0.875rem","font-weight":"600",color:"var(--text-muted)","text-transform":"uppercase"},l={padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500","text-transform":"uppercase","letter-spacing":"0.5px"},c={"font-size":"1.1rem","font-weight":"600",color:"var(--text-primary)","margin-bottom":"0.5rem"},a={"font-size":"0.875rem",color:"var(--text-muted)","margin-bottom":"1rem"},s={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"1rem"},d={"font-size":"1.25rem","font-weight":"600",color:"var(--primary-color)"},y={"max-height":"100px","overflow-y":"auto","border-top":"1px solid var(--border-color)","padding-top":"1rem"},b={display:"flex","justify-content":"space-between","align-items":"center","font-size":"0.875rem","margin-bottom":"0.5rem"},E={display:"flex","justify-content":"flex-end","margin-top":"1rem","padding-top":"1rem","border-top":"1px solid var(--border-color)"},D=h=>({draft:{bg:"#fff3cd",color:"#856404"},posted:{bg:"#d4edda",color:"#155724"},void:{bg:"#f8d7da",color:"#721c24"}})[h],I=h=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(h),C=h=>new Date(h).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),P=D(t.entry.status),x=Math.abs(t.entry.totalDebit-t.entry.totalCredit)<.01;return u(Oe,{get children(){return[(()=>{var h=Vd(),M=h.firstChild,U=M.nextSibling;return o(h,n),o(M,i),r(M,()=>t.entry.entryNumber),r(U,()=>t.entry.status),z(j=>o(U,{...l,background:P.bg,color:P.color},j)),h})(),(()=>{var h=_n();return o(h,c),r(h,()=>t.entry.description),h})(),(()=>{var h=Yd(),M=h.firstChild,U=M.nextSibling,j=U.nextSibling,ne=j.nextSibling;return ne.nextSibling,o(h,a),r(h,()=>C(t.entry.date),M),r(h,()=>t.entry.reference||e("journal.noReference","No reference"),U),r(h,()=>e("journal.createdBy","By"),ne),r(h,()=>t.entry.createdBy,null),h})(),(()=>{var h=Wd(),M=h.firstChild,U=M.firstChild,j=U.nextSibling,ne=M.nextSibling,V=ne.firstChild,le=V.nextSibling;return o(h,s),U.style.setProperty("font-size","0.875rem"),U.style.setProperty("color","var(--text-muted)"),r(U,()=>e("journal.totalAmount","Total Amount")),o(j,d),r(j,()=>I(t.entry.totalDebit)),ne.style.setProperty("text-align","right"),V.style.setProperty("font-size","0.875rem"),V.style.setProperty("color","var(--text-muted)"),r(V,()=>e("journal.lines","Lines")),le.style.setProperty("font-weight","600"),r(le,()=>t.entry.lines.length),h})(),F(()=>!x&&(()=>{var h=Gd(),M=h.firstChild,U=M.nextSibling,j=U.nextSibling,ne=j.nextSibling,V=ne.nextSibling,le=V.nextSibling,ae=le.nextSibling,me=ae.nextSibling;return me.nextSibling,h.style.setProperty("padding","0.5rem"),h.style.setProperty("border-radius","var(--border-radius-sm)"),h.style.setProperty("background","#f8d7da"),h.style.setProperty("color","#721c24"),h.style.setProperty("font-size","0.875rem"),h.style.setProperty("margin-bottom","1rem"),r(h,()=>e("journal.entryNotBalancedShort","Entry is not balanced"),U),r(h,()=>e("journal.debit"),ne),r(h,()=>I(t.entry.totalDebit),le),r(h,()=>e("journal.credit"),me),r(h,()=>I(t.entry.totalCredit),null),h})()),(()=>{var h=Hd(),M=h.firstChild,U=M.firstChild;return o(h,y),M.style.setProperty("font-weight","500"),M.style.setProperty("margin-bottom","0.5rem"),M.style.setProperty("font-size","0.875rem"),r(M,()=>e("journal.accountLines","Account Lines"),U),r(h,()=>t.entry.lines.slice(0,3).map(j=>(()=>{var ne=Jd(),V=ne.firstChild,le=V.firstChild,ae=le.nextSibling,me=V.nextSibling;return o(ne,b),V.style.setProperty("flex","1"),le.style.setProperty("font-weight","500"),r(le,()=>j.accountName),ae.style.setProperty("font-size","0.75rem"),ae.style.setProperty("color","var(--text-muted)"),r(ae,()=>j.description||e("journal.noDescription","No description")),me.style.setProperty("text-align","right"),r(me,(()=>{var ye=F(()=>j.debitAmount>0);return()=>ye()&&(()=>{var ie=ko(),X=ie.firstChild;return ie.style.setProperty("color","#4caf50"),ie.style.setProperty("font-weight","500"),r(ie,()=>e("journal.debitShort","Dr."),X),r(ie,()=>I(j.debitAmount),null),ie})()})(),null),r(me,(()=>{var ye=F(()=>j.creditAmount>0);return()=>ye()&&(()=>{var ie=ko(),X=ie.firstChild;return ie.style.setProperty("color","#f44336"),ie.style.setProperty("font-weight","500"),r(ie,()=>e("journal.creditShort","Cr."),X),r(ie,()=>I(j.creditAmount),null),ie})()})(),null),r(me,(()=>{var ye=F(()=>!!j.reconciled);return()=>ye()&&(()=>{var ie=Qd();return ie.firstChild,ie.style.setProperty("font-size","0.75rem"),ie.style.setProperty("color","#4caf50"),r(ie,()=>e("banking.reconciled","Reconciled"),null),ie})()})(),null),ne})()),null),r(h,(()=>{var j=F(()=>t.entry.lines.length>3);return()=>j()&&(()=>{var ne=_n();return ne.style.setProperty("text-align","center"),ne.style.setProperty("color","var(--text-muted)"),ne.style.setProperty("font-size","0.875rem"),r(ne,()=>e("journal.andMoreLines","... and {count} more lines").replace("{count}",(t.entry.lines.length-3).toString())),ne})()})(),null),h})(),(()=>{var h=_n();return o(h,E),r(h,u(Ae,{variant:"primary",size:"sm",onClick:()=>t.onViewDetails?.(t.entry),get children(){return e("journal.viewDetails","View Details")}})),h})()]}})},Zd=[{id:"je1",entryNumber:"JE-2024-001",date:"2024-01-15",description:"Customer Payment Received - ABC Corp",reference:"INV-2024-001",status:"posted",createdBy:"John Doe",createdAt:"2024-01-15T09:00:00Z",postedAt:"2024-01-15T09:05:00Z",totalDebit:5e3,totalCredit:5e3,lines:[{id:"jel1",accountId:"1002",accountName:"Bank - Checking Account",description:"Payment from ABC Corp",debitAmount:5e3,creditAmount:0,reconciled:!0,reconciledWith:"eb1"},{id:"jel2",accountId:"2001",accountName:"Trade Receivables",description:"Payment received for INV-2024-001",debitAmount:0,creditAmount:5e3}]},{id:"je2",entryNumber:"JE-2024-002",date:"2024-01-14",description:"Office Supplies Purchase",reference:"PO-2024-001",status:"posted",createdBy:"Jane Smith",createdAt:"2024-01-14T10:00:00Z",postedAt:"2024-01-14T10:15:00Z",totalDebit:250,totalCredit:250,lines:[{id:"jel3",accountId:"5200",accountName:"Office Expenses",description:"Office supplies from Staples",debitAmount:250,creditAmount:0},{id:"jel4",accountId:"1002",accountName:"Bank - Checking Account",description:"Payment to Staples",debitAmount:0,creditAmount:250,reconciled:!0,reconciledWith:"eb2"}]},{id:"je3",entryNumber:"JE-2024-003",date:"2024-01-13",description:"Monthly Rent Payment",reference:"RENT-2024-01",status:"posted",createdBy:"John Doe",createdAt:"2024-01-13T08:00:00Z",postedAt:"2024-01-13T08:30:00Z",totalDebit:2e3,totalCredit:2e3,lines:[{id:"jel5",accountId:"5200",accountName:"Rent Expense",description:"January office rent",debitAmount:2e3,creditAmount:0},{id:"jel6",accountId:"1002",accountName:"Bank - Checking Account",description:"Rent payment",debitAmount:0,creditAmount:2e3,reconciled:!1}]},{id:"je4",entryNumber:"JE-2024-004",date:"2024-01-12",description:"Wire Transfer - Capital Investment",reference:"WIRE-001",status:"posted",createdBy:"Admin",createdAt:"2024-01-12T14:00:00Z",postedAt:"2024-01-12T14:30:00Z",totalDebit:1e4,totalCredit:1e4,lines:[{id:"jel7",accountId:"1002",accountName:"Bank - Checking Account",description:"Wire transfer received",debitAmount:1e4,creditAmount:0,reconciled:!1},{id:"jel8",accountId:"8",accountName:"Owner's Equity",description:"Capital investment",debitAmount:0,creditAmount:1e4}]},{id:"je5",entryNumber:"JE-2024-005",date:"2024-01-11",description:"Salary Payment - John Doe",reference:"PAY-2024-001",status:"posted",createdBy:"HR Manager",createdAt:"2024-01-11T16:00:00Z",postedAt:"2024-01-11T16:30:00Z",totalDebit:3500,totalCredit:3500,lines:[{id:"jel9",accountId:"13",accountName:"Salaries Expense",description:"Monthly salary - John Doe",debitAmount:3500,creditAmount:0},{id:"jel10",accountId:"1002",accountName:"Bank - Checking Account",description:"Salary payment",debitAmount:0,creditAmount:3500,reconciled:!1}]},{id:"je6",entryNumber:"JE-2024-006",date:"2024-01-10",description:"Product Sales - Multiple Customers",reference:"SALES-2024-010",status:"posted",createdBy:"Sales Manager",createdAt:"2024-01-10T11:00:00Z",postedAt:"2024-01-10T11:30:00Z",totalDebit:8500,totalCredit:8500,lines:[{id:"jel11",accountId:"1001",accountName:"Petty Cash",description:"Cash sales",debitAmount:1500,creditAmount:0},{id:"jel12",accountId:"2001",accountName:"Trade Receivables",description:"Credit sales",debitAmount:7e3,creditAmount:0},{id:"jel13",accountId:"10",accountName:"Sales Revenue",description:"Product sales revenue",debitAmount:0,creditAmount:8500}]},{id:"je7",entryNumber:"JE-2024-007",date:"2024-01-09",description:"Inventory Purchase",reference:"PO-2024-002",status:"draft",createdBy:"Warehouse Manager",createdAt:"2024-01-09T15:00:00Z",totalDebit:15e3,totalCredit:15e3,lines:[{id:"jel14",accountId:"3",accountName:"Inventory",description:"Product inventory purchase",debitAmount:15e3,creditAmount:0},{id:"jel15",accountId:"5",accountName:"Accounts Payable",description:"Amount owed to supplier",debitAmount:0,creditAmount:15e3}]},{id:"je8",entryNumber:"JE-2024-008",date:"2024-01-08",description:"Utility Bills Payment",reference:"UTIL-2024-01",status:"posted",createdBy:"Admin",createdAt:"2024-01-08T09:00:00Z",postedAt:"2024-01-08T09:30:00Z",totalDebit:450,totalCredit:450,lines:[{id:"jel16",accountId:"14",accountName:"Operating Expenses",description:"Electricity and water bills",debitAmount:450,creditAmount:0},{id:"jel17",accountId:"1003",accountName:"Bank - Savings Account",description:"Utility payment",debitAmount:0,creditAmount:450}]}],[Nt,wn]=re(Zd),Ao=()=>Nt().filter(e=>e.status==="posted").flatMap(e=>e.lines.filter(n=>["1001","1002","1003"].includes(n.accountId))).map(e=>{const n=Nt().find(i=>i.lines.some(l=>l.id===e.id));return n?{id:`eb_${e.id}`,accountId:e.accountId,date:n.date,description:n.description,reference:n.reference,debitAmount:e.debitAmount,creditAmount:e.creditAmount,category:e.accountName,isReconciled:e.reconciled||!1,reconciledWith:e.reconciledWith,createdAt:n.createdAt}:null}).filter(e=>e!==null),Ht={get journalEntries(){return Nt()},addJournalEntry(t){const e={...t,id:Date.now().toString()};return wn([...Nt(),e]),e},updateJournalEntry(t,e){wn(Nt().map(n=>n.id===t?{...n,...e}:n))},deleteJournalEntry(t){const e=Nt().find(n=>n.id===t);if(e&&e.status==="posted")throw new Error("Cannot delete posted journal entries. Void them instead.");wn(Nt().filter(n=>n.id!==t))},voidJournalEntry(t){this.updateJournalEntry(t,{status:"void"})},postJournalEntry(t){const e=Nt().find(n=>n.id===t);if(!e)throw new Error("Journal entry not found");if(Math.abs(e.totalDebit-e.totalCredit)>.01)throw new Error("Journal entry is not balanced. Debits must equal credits.");this.updateJournalEntry(t,{status:"posted",postedAt:new Date().toISOString()}),Ao()},getJournalEntryById(t){return Nt().find(e=>e.id===t)},getJournalEntriesByStatus(t){return Nt().filter(e=>e.status===t)},getJournalEntriesByDateRange(t,e){return Nt().filter(n=>n.date>=t&&n.date<=e)},getJournalEntriesByAccount(t){return Nt().filter(e=>e.lines.some(n=>n.accountId===t))},getNextEntryNumber(){const t=new Date().getFullYear(),n=Nt().filter(i=>i.entryNumber.includes(t.toString())).reduce((i,l)=>{const c=parseInt(l.entryNumber.split("-").pop()||"0");return c>i?c:i},0);return`JE-${t}-${String(n+1).padStart(3,"0")}`},validateJournalEntry(t){const e=[];if(t.date||e.push("Date is required"),t.description||e.push("Description is required"),(!t.lines||t.lines.length===0)&&e.push("At least one line item is required"),t.lines){const n=t.lines.reduce((l,c)=>l+(c.debitAmount||0),0),i=t.lines.reduce((l,c)=>l+(c.creditAmount||0),0);Math.abs(n-i)>.01&&e.push(`Entry is not balanced. Debit: ${n}, Credit: ${i}`),t.lines.forEach((l,c)=>{l.accountId||e.push(`Line ${c+1}: Account is required`),l.debitAmount===0&&l.creditAmount===0&&e.push(`Line ${c+1}: Either debit or credit amount must be provided`),l.debitAmount>0&&l.creditAmount>0&&e.push(`Line ${c+1}: Cannot have both debit and credit amounts`)})}return{isValid:e.length===0,errors:e}},getBankRelatedEntries(){return Ao()}};var Xd=k("<form><div></div><div><div><h4></h4></div><div><div><div><strong></strong></div><div><strong></strong></div><div><strong></strong></div><div><strong></strong></div><div><strong></strong></div></div></div><div><div><strong>: </strong></div><div><strong>: </strong></div><div></div></div></div><div>"),Io=k("<div>");const Zo=t=>{const{t:e}=He(),[n,i]=re({entryNumber:"",date:new Date().toISOString().split("T")[0],description:"",reference:"",createdBy:"Current User"}),[l,c]=re([{tempId:`line_${Date.now()}_0`,accountId:"",accountName:"",description:"",debitAmount:0,creditAmount:0},{tempId:`line_${Date.now()}_1`,accountId:"",accountName:"",description:"",debitAmount:0,creditAmount:0}]),[a,s]=re(null);gr(()=>{if(t.isOpen){if(t.editEntry)i({entryNumber:t.editEntry.entryNumber,date:t.editEntry.date,description:t.editEntry.description,reference:t.editEntry.reference,createdBy:t.editEntry.createdBy}),c(t.editEntry.lines.map((j,ne)=>({...j,tempId:`line_${Date.now()}_${ne}`})));else{const j=Ht.getNextEntryNumber();i({entryNumber:j,date:new Date().toISOString().split("T")[0],description:"",reference:"",createdBy:"Current User"}),c([{tempId:`line_${Date.now()}_0`,accountId:"",accountName:"",description:"",debitAmount:0,creditAmount:0},{tempId:`line_${Date.now()}_1`,accountId:"",accountName:"",description:"",debitAmount:0,creditAmount:0}])}s(null)}});const d={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},y={display:"grid","grid-template-columns":"2fr 2fr 1fr 1fr 1fr",gap:"1rem","align-items":"end","margin-bottom":"1rem",padding:"1rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)",background:"var(--background-color)"},b={display:"flex","justify-content":"space-between","align-items":"center",padding:"1rem",background:"var(--surface-color)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","margin-top":"1rem"},E=()=>et.accounts.map(j=>({value:j.id,label:`${j.accountNumber} - ${j.name}`})),D=(j,ne)=>{i(V=>({...V,[j]:ne}))},I=(j,ne,V)=>{c(le=>le.map(ae=>{if(ae.tempId===j){const me={...ae,[ne]:V};if(ne==="accountId"&&typeof V=="string"){const ye=et.getAccountById(V);ye&&(me.accountName=ye.name)}return me}return ae}))},C=()=>{c(j=>[...j,{tempId:`line_${Date.now()}_${j.length}`,accountId:"",accountName:"",description:"",debitAmount:0,creditAmount:0}])},P=j=>{l().length>2&&c(ne=>ne.filter(V=>V.tempId!==j))},x=()=>{const j=l().reduce((V,le)=>V+(le.debitAmount||0),0),ne=l().reduce((V,le)=>V+(le.creditAmount||0),0);return{totalDebit:j,totalCredit:ne,isBalanced:Math.abs(j-ne)<.01}},h=j=>{j.preventDefault(),s(null);const ne=n(),V=l(),{totalDebit:le,totalCredit:ae,isBalanced:me}=x();if(!ne.description){s(e("forms.descriptionRequired","Description is required"));return}if(V.length<2){s(e("journal.minTwoLinesRequired","At least 2 line items are required"));return}if(!me){s(e("journal.entryNotBalanced","Entry is not balanced. Debit: ${debit}, Credit: ${credit}").replace("${debit}",`$${le.toFixed(2)}`).replace("${credit}",`$${ae.toFixed(2)}`));return}for(let ie=0;ie<V.length;ie++){const X=V[ie];if(!X.accountId){s(e("journal.lineAccountRequired","Line {lineNumber}: Account is required").replace("{lineNumber}",(ie+1).toString()));return}if(X.debitAmount===0&&X.creditAmount===0){s(e("journal.lineAmountRequired","Line {lineNumber}: Either debit or credit amount must be provided").replace("{lineNumber}",(ie+1).toString()));return}if((X.debitAmount||0)>0&&(X.creditAmount||0)>0){s(e("journal.lineBothAmounts","Line {lineNumber}: Cannot have both debit and credit amounts").replace("{lineNumber}",(ie+1).toString()));return}}const ye={entryNumber:ne.entryNumber,date:ne.date,description:ne.description,reference:ne.reference,status:"draft",createdBy:ne.createdBy,createdAt:new Date().toISOString(),totalDebit:le,totalCredit:ae,lines:V.map((ie,X)=>{const{tempId:p,...se}=ie;return{id:`jel_${Date.now()}_${X}`,...se}})};try{t.editEntry?Ht.updateJournalEntry(t.editEntry.id,ye):Ht.addJournalEntry(ye),i({entryNumber:Ht.getNextEntryNumber(),date:new Date().toISOString().split("T")[0],description:"",reference:"",createdBy:"Current User"}),c([{tempId:`line_${Date.now()}_0`,accountId:"",accountName:"",description:"",debitAmount:0,creditAmount:0},{tempId:`line_${Date.now()}_1`,accountId:"",accountName:"",description:"",debitAmount:0,creditAmount:0}]),t.onClose()}catch(ie){s(ie instanceof Error?ie.message:e("forms.errorOccurred","An error occurred"))}},M=j=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(j),U=x();return u(Pt,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return F(()=>!!t.editEntry)()?e("journal.editEntry"):e("journal.addEntry","Add Journal Entry")},get children(){var j=Xd(),ne=j.firstChild,V=ne.nextSibling,le=V.firstChild,ae=le.firstChild,me=le.nextSibling,ye=me.firstChild,ie=ye.firstChild,X=ie.firstChild,p=ie.nextSibling,se=p.firstChild,A=p.nextSibling,m=A.firstChild,B=A.nextSibling,g=B.firstChild,_=B.nextSibling,S=_.firstChild,w=me.nextSibling,de=w.firstChild,$=de.firstChild,N=$.firstChild,J=de.nextSibling,H=J.firstChild,q=H.firstChild,Q=J.nextSibling,ee=V.nextSibling;return j.addEventListener("submit",h),ne.style.setProperty("display","grid"),ne.style.setProperty("grid-template-columns","1fr 1fr"),ne.style.setProperty("gap","1rem"),r(ne,u(it,{get label(){return e("journal.entryNumber")},get value(){return n().entryNumber},onChange:ce=>D("entryNumber",ce),get disabled(){return!!t.editEntry},required:!0}),null),r(ne,u(it,{get label(){return e("common.date")},type:"date",get value(){return n().date},onChange:ce=>D("date",ce),required:!0}),null),r(j,u(it,{get label(){return e("common.description")},get value(){return n().description},onChange:ce=>D("description",ce),get placeholder(){return e("journal.enterEntryDescription","Enter journal entry description")},required:!0}),V),r(j,u(it,{get label(){return e("journal.reference")},get value(){return n().reference},onChange:ce=>D("reference",ce),get placeholder(){return e("journal.enterReferenceNumber","Enter reference number")}}),V),V.style.setProperty("margin-top","2rem"),le.style.setProperty("display","flex"),le.style.setProperty("justify-content","space-between"),le.style.setProperty("align-items","center"),le.style.setProperty("margin-bottom","1rem"),ae.style.setProperty("margin","0"),r(ae,()=>e("journal.entryLines","Journal Entry Lines")),r(le,u(Ae,{type:"button",variant:"secondary",size:"sm",onClick:C,get children(){return e("journal.addLine","Add Line")}}),null),me.style.setProperty("margin-bottom","1rem"),me.style.setProperty("font-size","0.875rem"),me.style.setProperty("color","var(--text-muted)"),ye.style.setProperty("display","grid"),ye.style.setProperty("grid-template-columns","2fr 2fr 1fr 1fr 1fr"),ye.style.setProperty("gap","1rem"),r(X,()=>e("journal.account")),r(se,()=>e("common.description")),r(m,()=>e("journal.debit")),r(g,()=>e("journal.credit")),r(S,()=>e("common.actions")),r(V,u(dt,{get each(){return l()},children:ce=>(()=>{var R=Io();return o(R,y),r(R,u(_t,{label:"",get value(){return ce.accountId||""},onChange:Y=>I(ce.tempId,"accountId",Y),get options(){return E()}}),null),r(R,u(it,{label:"",get value(){return ce.description||""},onChange:Y=>I(ce.tempId,"description",Y),get placeholder(){return e("journal.lineDescription","Line description")}}),null),r(R,u(it,{label:"",type:"number",get value(){return ce.debitAmount?.toString()||"0"},onChange:Y=>{I(ce.tempId,"debitAmount",parseFloat(Y)||0),parseFloat(Y)>0&&I(ce.tempId,"creditAmount",0)},placeholder:"0.00"}),null),r(R,u(it,{label:"",type:"number",get value(){return ce.creditAmount?.toString()||"0"},onChange:Y=>{I(ce.tempId,"creditAmount",parseFloat(Y)||0),parseFloat(Y)>0&&I(ce.tempId,"debitAmount",0)},placeholder:"0.00"}),null),r(R,u(Ae,{type:"button",variant:"outline",size:"sm",onClick:()=>P(ce.tempId),get disabled(){return l().length<=2},get children(){return e("common.remove","Remove")}}),null),R})()}),w),o(w,b),r($,()=>e("journal.totalDebit","Total Debit"),N),r($,()=>M(U.totalDebit),null),r(H,()=>e("journal.totalCredit","Total Credit"),q),r(H,()=>M(U.totalCredit),null),Q.style.setProperty("font-weight","600"),r(Q,(()=>{var ce=F(()=>!!U.isBalanced);return()=>ce()?`âœ“ ${e("journal.balanced")}`:`âš ï¸ ${e("journal.notBalanced","Not Balanced")}`})()),r(j,(()=>{var ce=F(()=>!!a());return()=>ce()&&(()=>{var R=Io();return R.style.setProperty("padding","1rem"),R.style.setProperty("border-radius","var(--border-radius-sm)"),R.style.setProperty("margin-top","1rem"),R.style.setProperty("background","#f8d7da"),R.style.setProperty("color","#721c24"),R.style.setProperty("border","1px solid #f5c6cb"),r(R,a),R})()})(),ee),o(ee,d),r(ee,u(Ae,{variant:"secondary",type:"button",get onClick(){return t.onClose},get children(){return e("common.cancel")}}),null),r(ee,u(Ae,{variant:"primary",type:"submit",get disabled(){return!U.isBalanced},get children(){return F(()=>!!t.editEntry)()?e("journal.updateEntry","Update Entry"):e("journal.saveAsDraft","Save as Draft")}}),null),z(ce=>(ce=U.isBalanced?"#4caf50":"#f44336")!=null?Q.style.setProperty("color",ce):Q.style.removeProperty("color")),j}})};var eu=k("<div><div>âš ï¸</div><div></div><div></div><div>"),tu=k("<div><div></div><div></div><div></div><div></div><div>"),ru=k("<div><button></button><button> (<!>)</button><button> (<!>/<!>)"),Eo=k("<div>"),nu=k("<div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><div><h4></h4><div></div></div><div>"),kn=k("<div><span></span><span>"),An=k("<div><strong>:</strong> "),ou=k("<div><div><div></div><div></div><div></div><div></div><div></div></div><div><div><strong>:</strong> </div><div><strong>:</strong> </div><div></div></div><div><div><strong>ðŸ”— Reconciliation Summary</strong></div><div><div><div><strong>Total Lines:</strong> </div><div><strong>Reconciled:</strong> </div><div><strong>Unreconciled:</strong> </div></div><div><div><strong>Bank Accounts:</strong> </div><div><strong>Bank Reconciled:</strong> "),iu=k("<div><div><div></div><div></div></div><div></div><div></div><div></div><div>"),lu=k("<div><span>âœ“ "),au=k("<span>(<!>)"),su=k("<div><strong>Bank Pending:</strong> "),cu=k("<div><div>Reconciled Lines:"),du=k("<div><div>âš ï¸ Pending Bank Reconciliation:</div><div>Visit Bank Consolidations to reconcile these transactions"),uu=k("<div><div><div><span></span><h3></h3></div><div><div><div></div><div>Total Lines</div></div><div><div></div><div>Reconciled</div></div><div><div></div><div>Pending"),yu=k("<div><h4>âœ… Reconciled Lines (<!>)"),mu=k("<div><div><div></div><div></div></div><div></div><div></div><div></div><div><div>âœ“ Matched"),vu=k("<div>â†’ "),gu=k("<div><h4>â³ Unreconciled Lines (<!>)"),pu=k("<div><div><div></div><div></div></div><div></div><div></div><div></div><div><div>â³ Pending"),fu=k("<div>Bank account"),bu=k("<div><div>ðŸ’¡ Reconciliation Tip</div><div>This entry has unreconciled bank account transactions. Visit <strong>Bank Consolidations</strong> to match these with bank statements.");const hu=t=>{const{t:e}=He(),[n,i]=re("details"),[l,c]=re(!1),a=ze(()=>t.entryId?Ht.getJournalEntryById(t.entryId):null),s={"text-align":"center","margin-bottom":"2rem",position:"relative"},d={position:"absolute",top:"0",right:"0",display:"flex",gap:"0.5rem"},y={"font-size":"0.875rem","font-weight":"600",color:"var(--text-muted)","text-transform":"uppercase","margin-bottom":"0.5rem"},b={"font-size":"1.5rem","font-weight":"600",color:"var(--text-primary)",margin:"0.5rem 0"},E={"font-size":"2rem","font-weight":"700",color:"var(--primary-color)","margin-bottom":"0.5rem"},D={padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500","text-transform":"uppercase","letter-spacing":"0.5px","margin-bottom":"1rem",display:"inline-block"},I={display:"flex","justify-content":"space-between","align-items":"center",padding:"0.75rem 0","border-bottom":"1px solid var(--border-color)"},C={"font-weight":"500",color:"var(--text-muted)","font-size":"0.875rem"},P={"font-weight":"600",color:"var(--text-primary)"},x={display:"flex","border-bottom":"1px solid var(--border-color)","margin-bottom":"1.5rem"},h=p=>({padding:"0.75rem 1rem",background:"none",border:"none",cursor:"pointer","font-weight":"500",color:p?"var(--primary-color)":"var(--text-muted)","border-bottom":p?"2px solid var(--primary-color)":"2px solid transparent",transition:"all 0.2s ease"}),M={display:"grid","grid-template-columns":"2fr 2.5fr 1fr 1fr 1.5fr",gap:"1rem",padding:"1rem 0","border-bottom":"1px solid var(--border-color)","align-items":"center"},U={...M,"font-weight":"600","font-size":"0.875rem",color:"var(--text-muted)","border-bottom":"2px solid var(--border-color)"},j={display:"flex","justify-content":"space-between","align-items":"center",padding:"1rem",background:"var(--surface-color)","border-radius":"var(--border-radius-sm)","margin-top":"1rem"},ne={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},V=p=>({draft:{bg:"#fff3cd",color:"#856404"},posted:{bg:"#d4edda",color:"#155724"},void:{bg:"#f8d7da",color:"#721c24"}})[p],le=p=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(p),ae=p=>new Date(p).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),me=p=>new Date(p).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),ye=()=>{entry.status==="posted"&&!confirm(e("journal.confirmEditPosted","This entry has been posted. Editing will create a new draft copy. Continue?"))||c(!0)},ie=()=>{if(a()&&confirm(e("journal.confirmPost","Are you sure you want to post this journal entry? This action cannot be undone.")))try{Ht.postJournalEntry(a().id)}catch(p){alert(p instanceof Error?p.message:e("forms.errorPostingEntry","An error occurred while posting the entry"))}},X=()=>{a()&&confirm(e("journal.confirmVoid","Are you sure you want to void this journal entry?"))&&Ht.voidJournalEntry(a().id)};return[u(Pt,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return e("journal.entryDetails","Journal Entry Details")},get children(){return F(()=>!a())()?(()=>{var p=eu(),se=p.firstChild,A=se.nextSibling,m=A.nextSibling,B=m.nextSibling;return p.style.setProperty("text-align","center"),p.style.setProperty("padding","3rem"),p.style.setProperty("color","var(--text-muted)"),se.style.setProperty("font-size","1.5rem"),se.style.setProperty("margin-bottom","1rem"),A.style.setProperty("font-size","1.1rem"),A.style.setProperty("margin-bottom","0.5rem"),r(A,()=>e("journal.entryNotFound","Entry Not Found")),m.style.setProperty("font-size","0.875rem"),r(m,()=>e("journal.entryNotFoundMessage","The journal entry you're looking for could not be found or may have been deleted.")),B.style.setProperty("margin-top","2rem"),r(B,u(Ae,{variant:"primary",get onClick(){return t.onClose},get children(){return e("common.close")}})),p})():(()=>{const p=a(),se=V(p.status),A=Math.abs(p.totalDebit-p.totalCredit)<.01;return[(()=>{var m=tu(),B=m.firstChild,g=B.nextSibling,_=g.nextSibling,S=_.nextSibling,w=S.nextSibling;return o(m,s),r(B,u(Ae,{variant:"outline",size:"sm",onClick:ye,get title(){return e("journal.editEntryTooltip","Edit this journal entry")},get children(){return e("common.edit")}}),null),r(B,(()=>{var de=F(()=>p.status==="draft");return()=>de()&&u(Ae,{variant:"primary",size:"sm",onClick:ie,disabled:!A,get title(){return A?e("journal.postEntryTooltip","Post this journal entry"):e("journal.entryMustBeBalanced","Entry must be balanced to post")},get children(){return e("journal.post","Post")}})})(),null),r(B,(()=>{var de=F(()=>p.status==="posted");return()=>de()&&u(Ae,{variant:"outline",size:"sm",onClick:X,style:{color:"#dc3545","border-color":"#dc3545"},get title(){return e("journal.voidEntryTooltip","Void this journal entry")},get children(){return e("entryBooks.void","Void")}})})(),null),o(g,y),r(g,()=>p.entryNumber),o(_,b),r(_,()=>p.description),o(S,E),r(S,()=>le(p.totalDebit)),r(w,()=>p.status),z(de=>{var $=d,N={...D,background:se.bg,color:se.color};return de.e=o(B,$,de.e),de.t=o(w,N,de.t),de},{e:void 0,t:void 0}),m})(),(()=>{var m=ru(),B=m.firstChild,g=B.nextSibling,_=g.firstChild,S=_.nextSibling;S.nextSibling;var w=g.nextSibling,de=w.firstChild,$=de.nextSibling,N=$.nextSibling,J=N.nextSibling;return J.nextSibling,o(m,x),B.$$click=()=>i("details"),r(B,()=>e("common.details")),g.$$click=()=>i("lines"),r(g,()=>e("journal.journalLines","Journal Lines"),_),r(g,()=>p.lines.length,S),w.$$click=()=>i("reconciliation"),r(w,()=>e("banking.reconciliation","Reconciliation"),de),r(w,()=>p.lines.filter(H=>H.reconciled).length,$),r(w,()=>p.lines.length,J),z(H=>{var q=h(n()==="details"),Q=h(n()==="lines"),ee=h(n()==="reconciliation");return H.e=o(B,q,H.e),H.t=o(g,Q,H.t),H.a=o(w,ee,H.a),H},{e:void 0,t:void 0,a:void 0}),m})(),F(()=>F(()=>n()==="details")()&&(()=>{var m=nu(),B=m.firstChild,g=B.firstChild,_=g.nextSibling,S=B.nextSibling,w=S.firstChild,de=w.nextSibling,$=S.nextSibling,N=$.firstChild,J=N.nextSibling,H=$.nextSibling,q=H.firstChild,Q=q.nextSibling,ee=H.nextSibling,ce=ee.firstChild,R=ce.nextSibling,Y=ee.nextSibling,ge=Y.firstChild,fe=ge.nextSibling,Z=Y.nextSibling,W=Z.firstChild,T=W.nextSibling,oe=Z.nextSibling,te=oe.firstChild,pe=te.firstChild,ve=pe.nextSibling,v=te.nextSibling;return r(g,()=>e("common.date")),r(_,()=>ae(p.date)),r(w,()=>e("journal.reference")),r(de,()=>p.reference||e("common.notAvailable","N/A")),r(N,()=>e("journal.totalDebit")),r(J,()=>le(p.totalDebit)),r(q,()=>e("journal.totalCredit")),r(Q,()=>le(p.totalCredit)),r(ce,()=>e("journal.balanceStatus","Balance Status")),r(R,()=>A?`${e("journal.balanced")} âœ“`:`${e("journal.unbalanced","Unbalanced")} (${le(Math.abs(p.totalDebit-p.totalCredit))} ${e("journal.difference","difference")})`),r(ge,()=>e("journal.createdBy")),r(fe,()=>p.createdBy),r(W,()=>e("journal.createdAt","Created At")),r(T,()=>me(p.createdAt)),r(m,(()=>{var f=F(()=>!!p.postedAt);return()=>f()&&(()=>{var K=kn(),G=K.firstChild,O=G.nextSibling;return r(G,()=>e("journal.postedAt","Posted At")),r(O,()=>me(p.postedAt)),z(ue=>{var L=I,be=C,Pe=P;return ue.e=o(K,L,ue.e),ue.t=o(G,be,ue.t),ue.a=o(O,Pe,ue.a),ue},{e:void 0,t:void 0,a:void 0}),K})()})(),oe),oe.style.setProperty("margin-top","2rem"),oe.style.setProperty("padding-top","1rem"),oe.style.setProperty("border-top","2px solid var(--border-color)"),te.style.setProperty("display","flex"),te.style.setProperty("justify-content","space-between"),te.style.setProperty("align-items","center"),te.style.setProperty("margin-bottom","1rem"),pe.style.setProperty("margin","0"),pe.style.setProperty("font-size","1rem"),r(pe,()=>e("journal.quickActions","Quick Actions")),ve.style.setProperty("display","flex"),ve.style.setProperty("gap","0.5rem"),r(ve,u(Ae,{variant:"primary",size:"sm",onClick:ye,get children(){return["âœï¸ ",F(()=>e("journal.editEntry"))]}}),null),r(ve,(()=>{var f=F(()=>p.status==="draft");return()=>f()&&u(Ae,{variant:"outline",size:"sm",onClick:ie,disabled:!A,style:{"border-color":A?"#4caf50":"#f44336",color:A?"#4caf50":"#f44336"},get children(){return A?`âœ“ ${e("journal.postEntry","Post Entry")}`:`âš ï¸ ${e("journal.fixBalance","Fix Balance")}`}})})(),null),r(ve,(()=>{var f=F(()=>p.status==="posted");return()=>f()&&u(Ae,{variant:"outline",size:"sm",onClick:X,style:{color:"#dc3545","border-color":"#dc3545"},get children(){return["ðŸ—‘ï¸ ",F(()=>e("journal.voidEntry","Void Entry"))]}})})(),null),v.style.setProperty("padding","1rem"),v.style.setProperty("border-radius","var(--border-radius-sm)"),v.style.setProperty("font-size","0.875rem"),r(v,(()=>{var f=F(()=>p.status==="draft");return()=>f()&&(()=>{var K=An(),G=K.firstChild,O=G.firstChild;return G.nextSibling,r(G,()=>e("journal.draftEntry","Draft Entry"),O),r(K,()=>e("journal.draftEntryDescription","This entry can be edited and posted."),null),r(K,()=>!A&&` âš ï¸ ${e("journal.entryMustBeBalancedBeforePosting","Entry must be balanced before posting.")}`,null),K})()})(),null),r(v,(()=>{var f=F(()=>p.status==="posted");return()=>f()&&(()=>{var K=An(),G=K.firstChild,O=G.firstChild;return G.nextSibling,r(G,()=>e("journal.postedEntry","Posted Entry"),O),r(K,()=>e("journal.postedEntryDescription","This entry has been posted to the general ledger. Editing will create a new draft copy."),null),K})()})(),null),r(v,(()=>{var f=F(()=>p.status==="void");return()=>f()&&(()=>{var K=An(),G=K.firstChild,O=G.firstChild;return G.nextSibling,r(G,()=>e("journal.voidEntry"),O),r(K,()=>e("journal.voidEntryDescription","This entry has been voided and cannot be modified."),null),K})()})(),null),z(f=>{var K=I,G=C,O=P,ue=I,L=C,be=P,Pe=I,$e=C,_e=P,Le=I,Ue=C,xe=P,we=I,Te=C,Ne={...P,color:A?"#4caf50":"#f44336"},Be=I,Fe=C,Se=P,je=I,Qe=C,Ye=P,he=p.status==="draft"?"#fff3cd":p.status==="posted"?"#d4edda":"#f8d7da";return f.e=o(B,K,f.e),f.t=o(g,G,f.t),f.a=o(_,O,f.a),f.o=o(S,ue,f.o),f.i=o(w,L,f.i),f.n=o(de,be,f.n),f.s=o($,Pe,f.s),f.h=o(N,$e,f.h),f.r=o(J,_e,f.r),f.d=o(H,Le,f.d),f.l=o(q,Ue,f.l),f.u=o(Q,xe,f.u),f.c=o(ee,we,f.c),f.w=o(ce,Te,f.w),f.m=o(R,Ne,f.m),f.f=o(Y,Be,f.f),f.y=o(ge,Fe,f.y),f.g=o(fe,Se,f.g),f.p=o(Z,je,f.p),f.b=o(W,Qe,f.b),f.T=o(T,Ye,f.T),he!==f.A&&((f.A=he)!=null?v.style.setProperty("background",he):v.style.removeProperty("background")),f},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0}),m})()),F(()=>F(()=>n()==="lines")()&&(()=>{var m=ou(),B=m.firstChild,g=B.firstChild,_=g.nextSibling,S=_.nextSibling,w=S.nextSibling,de=w.nextSibling,$=B.nextSibling,N=$.firstChild,J=N.firstChild,H=J.firstChild;J.nextSibling;var q=N.nextSibling,Q=q.firstChild,ee=Q.firstChild;Q.nextSibling;var ce=q.nextSibling,R=$.nextSibling,Y=R.firstChild,ge=Y.nextSibling,fe=ge.firstChild,Z=fe.firstChild,W=Z.firstChild;W.nextSibling;var T=Z.nextSibling,oe=T.firstChild;oe.nextSibling;var te=T.nextSibling,pe=te.firstChild;pe.nextSibling;var ve=fe.nextSibling,v=ve.firstChild,f=v.firstChild;f.nextSibling;var K=v.nextSibling,G=K.firstChild;return G.nextSibling,r(g,()=>e("journal.account")),r(_,()=>e("common.description")),r(S,()=>e("journal.debit")),r(w,()=>e("journal.credit")),r(de,()=>e("banking.reconciliation")),r(m,u(dt,{get each(){return p.lines},children:O=>(()=>{var ue=iu(),L=ue.firstChild,be=L.firstChild,Pe=be.nextSibling,$e=L.nextSibling,_e=$e.nextSibling,Le=_e.nextSibling,Ue=Le.nextSibling;return be.style.setProperty("font-weight","500"),r(be,()=>O.accountName),Pe.style.setProperty("font-size","0.75rem"),Pe.style.setProperty("color","var(--text-muted)"),r(Pe,()=>et.getAccountById(O.accountId)?.accountNumber||O.accountId),$e.style.setProperty("font-size","0.875rem"),r($e,()=>O.description||"-"),_e.style.setProperty("font-weight","600"),r(_e,(()=>{var xe=F(()=>O.debitAmount>0);return()=>xe()?le(O.debitAmount):"-"})()),Le.style.setProperty("font-weight","600"),r(Le,(()=>{var xe=F(()=>O.creditAmount>0);return()=>xe()?le(O.creditAmount):"-"})()),r(Ue,(()=>{var xe=F(()=>!!O.reconciled);return()=>xe()?(()=>{var we=lu(),Te=we.firstChild;return Te.firstChild,we.style.setProperty("display","flex"),we.style.setProperty("align-items","center"),we.style.setProperty("gap","0.5rem"),we.style.setProperty("color","#4caf50"),we.style.setProperty("font-size","0.875rem"),Te.style.setProperty("font-weight","600"),r(Te,()=>e("banking.reconciled"),null),r(we,(()=>{var Ne=F(()=>!!O.reconciledWith);return()=>Ne()&&(()=>{var Be=au(),Fe=Be.firstChild,Se=Fe.nextSibling;return Se.nextSibling,Be.style.setProperty("font-size","0.75rem"),Be.style.setProperty("color","var(--text-muted)"),Be.style.setProperty("font-style","italic"),r(Be,()=>O.reconciledWith,Se),Be})()})(),null),we})():(()=>{var we=Eo();return we.style.setProperty("color","var(--text-muted)"),we.style.setProperty("font-size","0.875rem"),r(we,()=>e("banking.notReconciled","Not Reconciled")),we})()})()),z(xe=>{var we=M,Te=O.debitAmount>0?"#4caf50":"var(--text-muted)",Ne=O.creditAmount>0?"#f44336":"var(--text-muted)";return xe.e=o(ue,we,xe.e),Te!==xe.t&&((xe.t=Te)!=null?_e.style.setProperty("color",Te):_e.style.removeProperty("color")),Ne!==xe.a&&((xe.a=Ne)!=null?Le.style.setProperty("color",Ne):Le.style.removeProperty("color")),xe},{e:void 0,t:void 0,a:void 0}),ue})()}),$),o($,j),r(J,()=>e("journal.totalDebit"),H),r(N,()=>le(p.totalDebit),null),r(Q,()=>e("journal.totalCredit"),ee),r(q,()=>le(p.totalCredit),null),(A?"#4caf50":"#f44336")!=null?ce.style.setProperty("color",A?"#4caf50":"#f44336"):ce.style.removeProperty("color"),ce.style.setProperty("font-weight","600"),r(ce,()=>A?`âœ“ ${e("journal.balanced")}`:`âš ï¸ ${e("journal.notBalanced","Not Balanced")}`),R.style.setProperty("margin-top","1rem"),R.style.setProperty("padding","1rem"),R.style.setProperty("border-radius","var(--border-radius-sm)"),R.style.setProperty("font-size","0.875rem"),Y.style.setProperty("margin-bottom","0.5rem"),ge.style.setProperty("display","grid"),ge.style.setProperty("grid-template-columns","1fr 1fr"),ge.style.setProperty("gap","1rem"),Z.style.setProperty("margin-bottom","0.25rem"),r(Z,()=>p.lines.length,null),T.style.setProperty("margin-bottom","0.25rem"),T.style.setProperty("color","#4caf50"),r(T,()=>p.lines.filter(O=>O.reconciled).length,null),te.style.setProperty("color","#f44336"),r(te,()=>p.lines.filter(O=>!O.reconciled).length,null),v.style.setProperty("margin-bottom","0.25rem"),r(v,()=>p.lines.filter(O=>["1001","1002","1003"].includes(O.accountId)).length,null),K.style.setProperty("margin-bottom","0.25rem"),K.style.setProperty("color","#4caf50"),r(K,()=>p.lines.filter(O=>["1001","1002","1003"].includes(O.accountId)&&O.reconciled).length,null),r(ve,(()=>{var O=F(()=>p.lines.filter(ue=>["1001","1002","1003"].includes(ue.accountId)&&!ue.reconciled).length>0);return()=>O()&&(()=>{var ue=su(),L=ue.firstChild;return L.nextSibling,ue.style.setProperty("color","#f44336"),r(ue,()=>p.lines.filter(be=>["1001","1002","1003"].includes(be.accountId)&&!be.reconciled).length,null),ue})()})(),null),r(R,(()=>{var O=F(()=>p.lines.filter(ue=>ue.reconciled).length>0);return()=>O()&&(()=>{var ue=cu(),L=ue.firstChild;return ue.style.setProperty("margin-top","0.75rem"),ue.style.setProperty("padding-top","0.75rem"),ue.style.setProperty("border-top","1px solid var(--border-color)"),L.style.setProperty("margin-bottom","0.5rem"),L.style.setProperty("font-weight","500"),r(ue,()=>p.lines.filter(be=>be.reconciled).map(be=>(()=>{var Pe=kn(),$e=Pe.firstChild,_e=$e.nextSibling;return Pe.style.setProperty("display","flex"),Pe.style.setProperty("justify-content","space-between"),Pe.style.setProperty("margin-bottom","0.25rem"),Pe.style.setProperty("font-size","0.8rem"),r($e,()=>be.accountName),_e.style.setProperty("color","var(--text-muted)"),r(_e,()=>be.reconciledWith?`â†’ ${be.reconciledWith}`:"Manual"),Pe})()),null),ue})()})(),null),r(R,(()=>{var O=F(()=>p.lines.filter(ue=>!ue.reconciled&&["1001","1002","1003"].includes(ue.accountId)).length>0);return()=>O()&&(()=>{var ue=du(),L=ue.firstChild,be=L.nextSibling;return ue.style.setProperty("margin-top","0.75rem"),ue.style.setProperty("padding-top","0.75rem"),ue.style.setProperty("border-top","1px solid var(--border-color)"),L.style.setProperty("margin-bottom","0.5rem"),L.style.setProperty("font-weight","500"),L.style.setProperty("color","#f44336"),r(ue,()=>p.lines.filter(Pe=>!Pe.reconciled&&["1001","1002","1003"].includes(Pe.accountId)).map(Pe=>(()=>{var $e=kn(),_e=$e.firstChild,Le=_e.nextSibling;return $e.style.setProperty("display","flex"),$e.style.setProperty("justify-content","space-between"),$e.style.setProperty("margin-bottom","0.25rem"),$e.style.setProperty("font-size","0.8rem"),$e.style.setProperty("color","#f44336"),r(_e,()=>Pe.accountName),r(Le,()=>le(Pe.debitAmount||Pe.creditAmount)),$e})()),be),be.style.setProperty("margin-top","0.5rem"),be.style.setProperty("font-size","0.75rem"),be.style.setProperty("color","var(--text-muted)"),be.style.setProperty("font-style","italic"),ue})()})(),null),z(O=>{var ue=U,L=p.lines.some(be=>be.reconciled)?"#e8f5e8":"#fff3cd";return O.e=o(B,ue,O.e),L!==O.t&&((O.t=L)!=null?R.style.setProperty("background",L):R.style.removeProperty("background")),O},{e:void 0,t:void 0}),m})()),F(()=>F(()=>n()==="reconciliation")()&&(()=>{var m=uu(),B=m.firstChild,g=B.firstChild,_=g.firstChild,S=_.nextSibling,w=g.nextSibling,de=w.firstChild,$=de.firstChild,N=$.nextSibling,J=de.nextSibling,H=J.firstChild,q=H.nextSibling,Q=J.nextSibling,ee=Q.firstChild,ce=ee.nextSibling;return B.style.setProperty("margin-bottom","1.5rem"),B.style.setProperty("padding","1rem"),B.style.setProperty("border-radius","var(--border-radius)"),B.style.setProperty("border","1px solid var(--border-color)"),g.style.setProperty("display","flex"),g.style.setProperty("align-items","center"),g.style.setProperty("gap","0.5rem"),g.style.setProperty("margin-bottom","1rem"),_.style.setProperty("font-size","1.5rem"),r(_,(()=>{var R=F(()=>!!p.lines.every(Y=>Y.reconciled));return()=>R()?"âœ…":p.lines.some(Y=>Y.reconciled)?"ðŸ”„":"â³"})()),S.style.setProperty("margin","0"),S.style.setProperty("font-size","1.2rem"),r(S,(()=>{var R=F(()=>!!p.lines.every(Y=>Y.reconciled));return()=>R()?"Fully Reconciled":p.lines.some(Y=>Y.reconciled)?"Partially Reconciled":"Unreconciled"})()),w.style.setProperty("display","grid"),w.style.setProperty("grid-template-columns","1fr 1fr 1fr"),w.style.setProperty("gap","1rem"),de.style.setProperty("text-align","center"),$.style.setProperty("font-size","2rem"),$.style.setProperty("font-weight","700"),$.style.setProperty("color","var(--primary-color)"),r($,()=>p.lines.length),N.style.setProperty("font-size","0.875rem"),N.style.setProperty("color","var(--text-muted)"),J.style.setProperty("text-align","center"),H.style.setProperty("font-size","2rem"),H.style.setProperty("font-weight","700"),H.style.setProperty("color","#4caf50"),r(H,()=>p.lines.filter(R=>R.reconciled).length),q.style.setProperty("font-size","0.875rem"),q.style.setProperty("color","var(--text-muted)"),Q.style.setProperty("text-align","center"),ee.style.setProperty("font-size","2rem"),ee.style.setProperty("font-weight","700"),ee.style.setProperty("color","#f44336"),r(ee,()=>p.lines.filter(R=>!R.reconciled).length),ce.style.setProperty("font-size","0.875rem"),ce.style.setProperty("color","var(--text-muted)"),r(m,(()=>{var R=F(()=>p.lines.filter(Y=>Y.reconciled).length>0);return()=>R()&&(()=>{var Y=yu(),ge=Y.firstChild,fe=ge.firstChild,Z=fe.nextSibling;return Z.nextSibling,Y.style.setProperty("margin-bottom","1.5rem"),ge.style.setProperty("margin","0 0 1rem 0"),ge.style.setProperty("font-size","1.1rem"),ge.style.setProperty("color","#4caf50"),ge.style.setProperty("display","flex"),ge.style.setProperty("align-items","center"),ge.style.setProperty("gap","0.5rem"),r(ge,()=>p.lines.filter(W=>W.reconciled).length,Z),r(Y,()=>p.lines.filter(W=>W.reconciled).map(W=>(()=>{var T=mu(),oe=T.firstChild,te=oe.firstChild,pe=te.nextSibling,ve=oe.nextSibling,v=ve.nextSibling,f=v.nextSibling,K=f.nextSibling,G=K.firstChild;return T.style.setProperty("display","grid"),T.style.setProperty("grid-template-columns","2fr 2fr 1fr 1fr 1.5fr"),T.style.setProperty("gap","1rem"),T.style.setProperty("padding","0.75rem"),T.style.setProperty("margin-bottom","0.5rem"),T.style.setProperty("background","#f0f9f0"),T.style.setProperty("border-radius","var(--border-radius-sm)"),T.style.setProperty("align-items","center"),T.style.setProperty("font-size","0.875rem"),te.style.setProperty("font-weight","500"),r(te,()=>W.accountName),pe.style.setProperty("font-size","0.75rem"),pe.style.setProperty("color","var(--text-muted)"),r(pe,()=>et.getAccountById(W.accountId)?.accountNumber),ve.style.setProperty("color","var(--text-muted)"),r(ve,()=>W.description||"No description"),v.style.setProperty("font-weight","600"),r(v,(()=>{var O=F(()=>W.debitAmount>0);return()=>O()?le(W.debitAmount):"-"})()),f.style.setProperty("font-weight","600"),r(f,(()=>{var O=F(()=>W.creditAmount>0);return()=>O()?le(W.creditAmount):"-"})()),K.style.setProperty("color","#4caf50"),G.style.setProperty("font-weight","500"),r(K,(()=>{var O=F(()=>!!W.reconciledWith);return()=>O()&&(()=>{var ue=vu();return ue.firstChild,ue.style.setProperty("font-size","0.75rem"),ue.style.setProperty("font-style","italic"),r(ue,()=>W.reconciledWith,null),ue})()})(),null),z(O=>{var ue=W.debitAmount>0?"#4caf50":"var(--text-muted)",L=W.creditAmount>0?"#f44336":"var(--text-muted)";return ue!==O.e&&((O.e=ue)!=null?v.style.setProperty("color",ue):v.style.removeProperty("color")),L!==O.t&&((O.t=L)!=null?f.style.setProperty("color",L):f.style.removeProperty("color")),O},{e:void 0,t:void 0}),T})()),null),Y})()})(),null),r(m,(()=>{var R=F(()=>p.lines.filter(Y=>!Y.reconciled).length>0);return()=>R()&&(()=>{var Y=gu(),ge=Y.firstChild,fe=ge.firstChild,Z=fe.nextSibling;return Z.nextSibling,Y.style.setProperty("margin-bottom","1.5rem"),ge.style.setProperty("margin","0 0 1rem 0"),ge.style.setProperty("font-size","1.1rem"),ge.style.setProperty("color","#f44336"),ge.style.setProperty("display","flex"),ge.style.setProperty("align-items","center"),ge.style.setProperty("gap","0.5rem"),r(ge,()=>p.lines.filter(W=>!W.reconciled).length,Z),r(Y,()=>p.lines.filter(W=>!W.reconciled).map(W=>(()=>{var T=pu(),oe=T.firstChild,te=oe.firstChild,pe=te.nextSibling,ve=oe.nextSibling,v=ve.nextSibling,f=v.nextSibling,K=f.nextSibling,G=K.firstChild;return T.style.setProperty("display","grid"),T.style.setProperty("grid-template-columns","2fr 2fr 1fr 1fr 1.5fr"),T.style.setProperty("gap","1rem"),T.style.setProperty("padding","0.75rem"),T.style.setProperty("margin-bottom","0.5rem"),T.style.setProperty("background","#fff9f0"),T.style.setProperty("border-radius","var(--border-radius-sm)"),T.style.setProperty("align-items","center"),T.style.setProperty("font-size","0.875rem"),T.style.setProperty("border","1px solid #ffe0b3"),te.style.setProperty("font-weight","500"),r(te,()=>W.accountName),pe.style.setProperty("font-size","0.75rem"),pe.style.setProperty("color","var(--text-muted)"),r(pe,()=>et.getAccountById(W.accountId)?.accountNumber),ve.style.setProperty("color","var(--text-muted)"),r(ve,()=>W.description||"No description"),v.style.setProperty("font-weight","600"),r(v,(()=>{var O=F(()=>W.debitAmount>0);return()=>O()?le(W.debitAmount):"-"})()),f.style.setProperty("font-weight","600"),r(f,(()=>{var O=F(()=>W.creditAmount>0);return()=>O()?le(W.creditAmount):"-"})()),K.style.setProperty("color","#f44336"),G.style.setProperty("font-weight","500"),r(K,(()=>{var O=F(()=>!!["1001","1002","1003"].includes(W.accountId));return()=>O()&&(()=>{var ue=fu();return ue.style.setProperty("font-size","0.75rem"),ue.style.setProperty("font-style","italic"),ue})()})(),null),z(O=>{var ue=W.debitAmount>0?"#4caf50":"var(--text-muted)",L=W.creditAmount>0?"#f44336":"var(--text-muted)";return ue!==O.e&&((O.e=ue)!=null?v.style.setProperty("color",ue):v.style.removeProperty("color")),L!==O.t&&((O.t=L)!=null?f.style.setProperty("color",L):f.style.removeProperty("color")),O},{e:void 0,t:void 0}),T})()),null),r(Y,(()=>{var W=F(()=>p.lines.filter(T=>!T.reconciled&&["1001","1002","1003"].includes(T.accountId)).length>0);return()=>W()&&(()=>{var T=bu(),oe=T.firstChild,te=oe.nextSibling;return T.style.setProperty("padding","0.75rem"),T.style.setProperty("background","#ffebee"),T.style.setProperty("border-radius","var(--border-radius-sm)"),T.style.setProperty("margin-top","1rem"),T.style.setProperty("border","1px solid #ffcdd2"),oe.style.setProperty("font-weight","500"),oe.style.setProperty("margin-bottom","0.5rem"),oe.style.setProperty("color","#f44336"),te.style.setProperty("font-size","0.875rem"),te.style.setProperty("color","var(--text-muted)"),T})()})(),null),Y})()})(),null),z(R=>(R=p.lines.every(Y=>Y.reconciled)?"#e8f5e8":p.lines.some(Y=>Y.reconciled)?"#fff3cd":"#ffebee")!=null?B.style.setProperty("background",R):B.style.removeProperty("background")),m})()),(()=>{var m=Eo();return o(m,ne),r(m,u(Ae,{variant:"secondary",get onClick(){return t.onClose},get children(){return e("common.close")}}),null),r(m,u(Ae,{variant:"primary",onClick:ye,get children(){return e("journal.editEntry")}}),null),r(m,(()=>{var B=F(()=>p.status==="draft");return()=>B()&&u(Ae,{variant:"outline",onClick:ie,disabled:!A,style:{"border-color":"#4caf50",color:A?"#4caf50":"var(--text-muted)"},get children(){return A?e("journal.postEntry","Post Entry"):e("journal.entryNotBalanced","Entry Not Balanced")}})})(),null),r(m,(()=>{var B=F(()=>p.status==="posted");return()=>B()&&u(Ae,{variant:"outline",onClick:X,style:{color:"#dc3545","border-color":"#dc3545"},get children(){return e("journal.voidEntry","Void Entry")}})})(),null),m})()]})()}}),F(()=>F(()=>!!a())()&&u(Zo,{get isOpen(){return l()},onClose:()=>{c(!1)},get editEntry(){return a()}}))]};yt(["click"]);var Su=k("<div><div><h2></h2><p></p></div><div>"),Wt=k("<div>"),$u=k("<div> <!> â€¢ <!> "),Pu=k("<div><div><label></label></div><div><label></label></div><div><label></label></div><div><label></label><input type=date></div><div><label></label><input type=date></div><div><label></label></div><div>"),xu=k("<div><span>:</span><span> "),Xr=k("<span>: "),Cu=k("<div><br>");const _u=()=>{const{t}=He(),[e,n]=re(!1),[i,l]=re(null),[c,a]=re(!1),[s,d]=re(null),[y,b]=re("all"),[E,D]=re("all"),[I,C]=re(""),[P,x]=re(""),[h,M]=re("date"),[U,j]=re("desc"),ne={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"2rem"},V={display:"flex",gap:"1rem","align-items":"center","margin-bottom":"2rem",padding:"1.5rem",background:"var(--surface-color)","border-radius":"var(--border-radius)",border:"1px solid var(--border-color)","flex-wrap":"wrap"},le={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem","margin-bottom":"2rem"},ae={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(400px, 1fr))",gap:"1.5rem"},me=()=>[{value:"all",label:t("journal.allEntries","All Entries")},{value:"draft",label:t("journal.draft")},{value:"posted",label:t("journal.posted")},{value:"void",label:t("entryBooks.void","Void")}],ye=()=>[{value:"all",label:t("accounts.allAccounts","All Accounts")},...et.accounts.map(S=>({value:S.id,label:`${S.accountNumber} - ${S.name}`}))],ie=()=>[{value:"date",label:t("common.date")},{value:"entryNumber",label:t("journal.entryNumber")},{value:"amount",label:t("common.amount")}],X=()=>{let S=Ht.journalEntries;return y()!=="all"&&(S=S.filter(w=>w.status===y())),E()!=="all"&&(S=S.filter(w=>w.lines.some(de=>de.accountId===E()))),I()&&(S=S.filter(w=>w.date>=I())),P()&&(S=S.filter(w=>w.date<=P())),S=[...S].sort((w,de)=>{let $=0;switch(h()){case"date":$=new Date(w.date).getTime()-new Date(de.date).getTime();break;case"entryNumber":$=w.entryNumber.localeCompare(de.entryNumber);break;case"amount":$=w.totalDebit-de.totalDebit;break}return U()==="asc"?$:-$}),S},p=()=>{const S=Ht.journalEntries,w=S.filter(q=>q.status==="draft"),de=S.filter(q=>q.status==="posted"),$=S.filter(q=>q.status==="void"),N=de.reduce((q,Q)=>q+Q.totalDebit,0),J=de.reduce((q,Q)=>q+Q.totalCredit,0),H=S.filter(q=>q.lines.some(Q=>["1001","1002","1003"].includes(Q.accountId)&&!Q.reconciled)).length;return{totalEntries:S.length,draftEntries:w.length,postedEntries:de.length,voidEntries:$.length,totalDebit:N,totalCredit:J,unreconciledEntries:H}},se=S=>{d(S.id),a(!0)},A=()=>{l(null),n(!0)},m=()=>{n(!1),l(null)},B=S=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(S),g=p(),_=X();return u(zt,{get title(){return t("entryBooks.title")},get children(){return[(()=>{var S=Su(),w=S.firstChild,de=w.firstChild,$=de.nextSibling,N=w.nextSibling;return o(S,ne),de.style.setProperty("margin","0 0 0.5rem 0"),de.style.setProperty("font-size","1.5rem"),r(de,()=>t("journal.title")),$.style.setProperty("margin","0"),$.style.setProperty("color","var(--text-muted)"),r($,()=>t("entryBooks.subtitle","Manage accounting entries and general ledger records")),N.style.setProperty("display","flex"),N.style.setProperty("gap","1rem"),r(N,u(Ae,{variant:"secondary",onClick:()=>window.location.href="/bank-consolidations",get children(){return t("entryBooks.viewReconciliation","View Reconciliation")}}),null),r(N,u(Ae,{variant:"primary",onClick:A,get children(){return t("journal.addEntry","Add Journal Entry")}}),null),S})(),(()=>{var S=Wt();return o(S,le),r(S,u(Oe,{get title(){return t("entryBooks.totalEntries","Total Entries")},get subtitle(){return t("entryBooks.allJournalEntries","All journal entries")},get children(){return[(()=>{var w=Wt();return w.style.setProperty("font-size","1.5rem"),w.style.setProperty("font-weight","600"),w.style.setProperty("color","var(--primary-color)"),w.style.setProperty("margin-bottom","0.5rem"),r(w,()=>g.totalEntries),w})(),(()=>{var w=$u(),de=w.firstChild,$=de.nextSibling,N=$.nextSibling,J=N.nextSibling;return J.nextSibling,w.style.setProperty("font-size","0.875rem"),w.style.setProperty("color","var(--text-muted)"),r(w,()=>g.postedEntries,de),r(w,()=>t("journal.posted").toLowerCase(),$),r(w,()=>g.draftEntries,J),r(w,()=>t("journal.draft").toLowerCase(),null),r(w,(()=>{var H=F(()=>g.voidEntries>0);return()=>H()&&` â€¢ ${g.voidEntries} ${t("entryBooks.void","void").toLowerCase()}`})(),null),w})()]}}),null),r(S,u(Oe,{get title(){return t("journal.totalDebits")},get subtitle(){return t("entryBooks.postedEntriesOnly","Posted entries only")},get children(){return[(()=>{var w=Wt();return w.style.setProperty("font-size","1.5rem"),w.style.setProperty("font-weight","600"),w.style.setProperty("color","#4caf50"),w.style.setProperty("margin-bottom","0.5rem"),r(w,()=>B(g.totalDebit)),w})(),(()=>{var w=Wt();return w.style.setProperty("font-size","0.875rem"),w.style.setProperty("color","var(--text-muted)"),r(w,()=>t("entryBooks.fromPostedEntries","From {count} posted entries").replace("{count}",g.postedEntries.toString())),w})()]}}),null),r(S,u(Oe,{get title(){return t("journal.totalCredits")},get subtitle(){return t("entryBooks.postedEntriesOnly","Posted entries only")},get children(){return[(()=>{var w=Wt();return w.style.setProperty("font-size","1.5rem"),w.style.setProperty("font-weight","600"),w.style.setProperty("color","#f44336"),w.style.setProperty("margin-bottom","0.5rem"),r(w,()=>B(g.totalCredit)),w})(),(()=>{var w=Wt();return w.style.setProperty("font-size","0.875rem"),w.style.setProperty("color","var(--text-muted)"),r(w,()=>t("entryBooks.fromPostedEntries","From {count} posted entries").replace("{count}",g.postedEntries.toString())),w})()]}}),null),r(S,u(Oe,{get title(){return t("banking.unreconciled","Unreconciled")},get subtitle(){return t("banking.title")},get children(){return[(()=>{var w=Wt();return w.style.setProperty("font-size","1.5rem"),w.style.setProperty("font-weight","600"),w.style.setProperty("margin-bottom","0.5rem"),r(w,()=>g.unreconciledEntries),z(de=>(de=g.unreconciledEntries>0?"#ff9800":"#4caf50")!=null?w.style.setProperty("color",de):w.style.removeProperty("color")),w})(),(()=>{var w=Wt();return w.style.setProperty("font-size","0.875rem"),w.style.setProperty("color","var(--text-muted)"),r(w,(()=>{var de=F(()=>g.unreconciledEntries>0);return()=>de()?t("entryBooks.needBankReconciliation","Need bank reconciliation"):t("entryBooks.allReconciled","All reconciled")})()),w})()]}}),null),S})(),(()=>{var S=Pu(),w=S.firstChild,de=w.firstChild,$=w.nextSibling,N=$.firstChild,J=$.nextSibling,H=J.firstChild,q=J.nextSibling,Q=q.firstChild,ee=Q.nextSibling,ce=q.nextSibling,R=ce.firstChild,Y=R.nextSibling,ge=ce.nextSibling,fe=ge.firstChild,Z=ge.nextSibling;return o(S,V),w.style.setProperty("min-width","150px"),de.style.setProperty("display","block"),de.style.setProperty("margin-bottom","0.5rem"),de.style.setProperty("font-weight","500"),de.style.setProperty("font-size","0.875rem"),r(de,()=>t("common.status")),r(w,u(_t,{label:"",get value(){return y()},onChange:b,get options(){return me()}}),null),$.style.setProperty("min-width","200px"),N.style.setProperty("display","block"),N.style.setProperty("margin-bottom","0.5rem"),N.style.setProperty("font-weight","500"),N.style.setProperty("font-size","0.875rem"),r(N,()=>t("journal.account")),r($,u(_t,{label:"",get value(){return E()},onChange:D,get options(){return ye()}}),null),J.style.setProperty("min-width","120px"),H.style.setProperty("display","block"),H.style.setProperty("margin-bottom","0.5rem"),H.style.setProperty("font-weight","500"),H.style.setProperty("font-size","0.875rem"),r(H,()=>t("entryBooks.sortBy","Sort By")),r(J,u(_t,{label:"",get value(){return h()},onChange:M,get options(){return ie()}}),null),q.style.setProperty("min-width","130px"),Q.style.setProperty("display","block"),Q.style.setProperty("margin-bottom","0.5rem"),Q.style.setProperty("font-weight","500"),Q.style.setProperty("font-size","0.875rem"),r(Q,()=>t("entryBooks.fromDate","From Date")),ee.addEventListener("change",W=>C(W.target.value)),ee.style.setProperty("padding","0.75rem"),ee.style.setProperty("border","1px solid var(--border-color)"),ee.style.setProperty("border-radius","var(--border-radius-sm)"),ee.style.setProperty("font-family","inherit"),ee.style.setProperty("width","100%"),ce.style.setProperty("min-width","130px"),R.style.setProperty("display","block"),R.style.setProperty("margin-bottom","0.5rem"),R.style.setProperty("font-weight","500"),R.style.setProperty("font-size","0.875rem"),r(R,()=>t("entryBooks.toDate","To Date")),Y.addEventListener("change",W=>x(W.target.value)),Y.style.setProperty("padding","0.75rem"),Y.style.setProperty("border","1px solid var(--border-color)"),Y.style.setProperty("border-radius","var(--border-radius-sm)"),Y.style.setProperty("font-family","inherit"),Y.style.setProperty("width","100%"),ge.style.setProperty("min-width","100px"),fe.style.setProperty("display","block"),fe.style.setProperty("margin-bottom","0.5rem"),fe.style.setProperty("font-weight","500"),fe.style.setProperty("font-size","0.875rem"),r(fe,()=>t("entryBooks.order","Order")),r(ge,u(_t,{label:"",get value(){return U()},onChange:j,get options(){return[{value:"desc",label:t("entryBooks.newest","Newest")},{value:"asc",label:t("entryBooks.oldest","Oldest")}]}}),null),Z.style.setProperty("display","flex"),Z.style.setProperty("align-items","end"),Z.style.setProperty("gap","0.5rem"),r(Z,u(Ae,{variant:"outline",size:"sm",onClick:()=>{b("all"),D("all"),C(""),x(""),M("date"),j("desc")},get children(){return t("entryBooks.resetFilters","Reset Filters")}})),z(()=>ee.value=I()),z(()=>Y.value=P()),S})(),F(()=>F(()=>!!(y()!=="all"||E()!=="all"||I()||P()))()&&(()=>{var S=xu(),w=S.firstChild,de=w.firstChild,$=w.nextSibling,N=$.firstChild;return S.style.setProperty("display","flex"),S.style.setProperty("gap","0.5rem"),S.style.setProperty("align-items","center"),S.style.setProperty("margin-bottom","1rem"),S.style.setProperty("padding","0.75rem"),S.style.setProperty("background","var(--surface-color)"),S.style.setProperty("border-radius","var(--border-radius-sm)"),S.style.setProperty("border","1px solid var(--border-color)"),w.style.setProperty("font-size","0.875rem"),w.style.setProperty("font-weight","500"),r(w,()=>t("entryBooks.activeFilters","Active filters"),de),r(S,(()=>{var J=F(()=>y()!=="all");return()=>J()&&(()=>{var H=Xr(),q=H.firstChild;return H.style.setProperty("padding","0.25rem 0.5rem"),H.style.setProperty("background","var(--primary-color)"),H.style.setProperty("color","white"),H.style.setProperty("border-radius","12px"),H.style.setProperty("font-size","0.75rem"),r(H,()=>t("common.status"),q),r(H,y,null),H})()})(),$),r(S,(()=>{var J=F(()=>E()!=="all");return()=>J()&&(()=>{var H=Xr(),q=H.firstChild;return H.style.setProperty("padding","0.25rem 0.5rem"),H.style.setProperty("background","var(--primary-color)"),H.style.setProperty("color","white"),H.style.setProperty("border-radius","12px"),H.style.setProperty("font-size","0.75rem"),r(H,()=>t("journal.account"),q),r(H,()=>et.getAccountById(E())?.name||t("common.unknown","Unknown"),null),H})()})(),$),r(S,(()=>{var J=F(()=>!!I());return()=>J()&&(()=>{var H=Xr(),q=H.firstChild;return H.style.setProperty("padding","0.25rem 0.5rem"),H.style.setProperty("background","var(--primary-color)"),H.style.setProperty("color","white"),H.style.setProperty("border-radius","12px"),H.style.setProperty("font-size","0.75rem"),r(H,()=>t("entryBooks.from","From"),q),r(H,I,null),H})()})(),$),r(S,(()=>{var J=F(()=>!!P());return()=>J()&&(()=>{var H=Xr(),q=H.firstChild;return H.style.setProperty("padding","0.25rem 0.5rem"),H.style.setProperty("background","var(--primary-color)"),H.style.setProperty("color","white"),H.style.setProperty("border-radius","12px"),H.style.setProperty("font-size","0.75rem"),r(H,()=>t("entryBooks.to","To"),q),r(H,P,null),H})()})(),$),$.style.setProperty("margin-left","auto"),$.style.setProperty("font-size","0.875rem"),$.style.setProperty("color","var(--text-muted)"),r($,()=>_.length,N),r($,()=>t("entryBooks.entriesFound","{count} entries found").replace("{count}",_.length.toString()),null),S})()),F(()=>F(()=>_.length===0)()?u(Oe,{get title(){return t("entryBooks.noJournalEntries","No Journal Entries")},get subtitle(){return t("entryBooks.startByCreating","Start by creating your first entry")},get children(){var S=Cu(),w=S.firstChild;return S.style.setProperty("text-align","center"),S.style.setProperty("color","var(--text-muted)"),S.style.setProperty("padding","2rem"),r(S,()=>t("entryBooks.noEntriesMatch","No journal entries match your current filters."),w),r(S,u(Ae,{variant:"primary",style:{"margin-top":"1rem"},onClick:A,get children(){return t("entryBooks.createFirstEntry","Create First Entry")}}),null),S}}):(()=>{var S=Wt();return o(S,ae),r(S,u(dt,{each:_,children:w=>u(Kd,{entry:w,onViewDetails:se})})),S})()),u(Zo,{get isOpen(){return e()},onClose:m,get editEntry(){return i()}}),u(hu,{get isOpen(){return c()},onClose:()=>{a(!1),d(null)},get entryId(){return s()}})]}})};var Do=k("<div>"),wu=k("<div>$23,450"),ku=k("<div>$87,230"),Au=k("<div>$5,670"),Iu=k("<div><div><div><div>INV-2024-001</div><div>Acme Corporation</div></div><div>$5,250.00</div><div></div></div><div><div><div>INV-2024-002</div><div>Tech Solutions Inc.</div></div><div>$3,750.00</div><div></div></div><div><div><div>INV-2024-003</div><div>Global Services Ltd.</div></div><div>$8,900.00</div><div></div></div><div><div><div>INV-2024-004</div><div>StartUp Co.</div></div><div>$2,100.00</div><div>");const Eu=()=>{const{t}=He(),e={display:"flex","flex-direction":"column",gap:"1rem"},n={display:"flex","justify-content":"space-between","align-items":"center",padding:"1rem",background:"var(--surface-color)","border-radius":"var(--border-radius)",border:"1px solid var(--border-color)"},i={flex:"1"},l={"font-weight":"600","margin-bottom":"0.25rem"},c={color:"var(--text-muted)","font-size":"0.875rem"},a={"font-size":"1.25rem","font-weight":"600",color:"var(--primary-color)"},s=y=>({padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500","text-transform":"uppercase","letter-spacing":"0.5px",background:y==="paid"?"#d4edda":y==="pending"?"#fff3cd":"#f8d7da",color:y==="paid"?"#155724":y==="pending"?"#856404":"#721c24"}),d={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"};return u(zt,{get title(){return t("invoices.title","Invoices")},get children(){return[(()=>{var y=Do();return y.style.setProperty("margin-bottom","2rem"),r(y,u(Ae,{variant:"primary",get children(){return t("invoices.createNew","Create New Invoice")}})),y})(),(()=>{var y=Do();return o(y,d),r(y,u(Oe,{get title(){return t("invoices.totalOutstanding","Total Outstanding")},get subtitle(){return t("invoices.unpaidInvoices","Unpaid invoices")},get children(){var b=wu();return b.style.setProperty("font-size","1.5rem"),b.style.setProperty("font-weight","600"),b.style.setProperty("color","var(--primary-color)"),b}}),null),r(y,u(Oe,{get title(){return t("invoices.thisMonth","This Month")},get subtitle(){return t("invoices.revenueCollected","Revenue collected")},get children(){var b=ku();return b.style.setProperty("font-size","1.5rem"),b.style.setProperty("font-weight","600"),b.style.setProperty("color","var(--primary-color)"),b}}),null),r(y,u(Oe,{get title(){return t("invoices.overdue","Overdue")},get subtitle(){return t("invoices.pastDueInvoices","Past due invoices")},get children(){var b=Au();return b.style.setProperty("font-size","1.5rem"),b.style.setProperty("font-weight","600"),b.style.setProperty("color","var(--primary-color)"),b}}),null),y})(),u(Oe,{get title(){return t("invoices.recentInvoices","Recent Invoices")},get subtitle(){return t("invoices.latestBillingActivity","Latest billing activity")},get children(){var y=Iu(),b=y.firstChild,E=b.firstChild,D=E.firstChild,I=D.nextSibling,C=E.nextSibling,P=C.nextSibling,x=b.nextSibling,h=x.firstChild,M=h.firstChild,U=M.nextSibling,j=h.nextSibling,ne=j.nextSibling,V=x.nextSibling,le=V.firstChild,ae=le.firstChild,me=ae.nextSibling,ye=le.nextSibling,ie=ye.nextSibling,X=V.nextSibling,p=X.firstChild,se=p.firstChild,A=se.nextSibling,m=p.nextSibling,B=m.nextSibling;return o(y,e),r(P,()=>t("invoices.paid","Paid")),r(ne,()=>t("invoices.pending","Pending")),r(ie,()=>t("invoices.overdue","Overdue")),r(B,()=>t("invoices.paid","Paid")),z(g=>{var _=n,S=i,w=l,de=c,$=a,N=s("paid"),J=n,H=i,q=l,Q=c,ee=a,ce=s("pending"),R=n,Y=i,ge=l,fe=c,Z=a,W=s("overdue"),T=n,oe=i,te=l,pe=c,ve=a,v=s("paid");return g.e=o(b,_,g.e),g.t=o(E,S,g.t),g.a=o(D,w,g.a),g.o=o(I,de,g.o),g.i=o(C,$,g.i),g.n=o(P,N,g.n),g.s=o(x,J,g.s),g.h=o(h,H,g.h),g.r=o(M,q,g.r),g.d=o(U,Q,g.d),g.l=o(j,ee,g.l),g.u=o(ne,ce,g.u),g.c=o(V,R,g.c),g.w=o(le,Y,g.w),g.m=o(ae,ge,g.m),g.f=o(me,fe,g.f),g.y=o(ye,Z,g.y),g.g=o(ie,W,g.g),g.p=o(X,T,g.p),g.b=o(p,oe,g.b),g.T=o(se,te,g.T),g.A=o(A,pe,g.A),g.O=o(m,ve,g.O),g.I=o(B,v,g.I),g},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0,O:void 0,I:void 0}),y}})]}})};var Du=k("<div><main>");const Lu=t=>[u(Tl,{}),F(()=>t.children)],Nu=()=>(()=>{var t=Du(),e=t.firstChild;return r(e,u(ul,{root:Lu,get children(){return[u(qt,{path:"/",component:Ql}),u(qt,{path:"/accounts",component:Ra}),u(qt,{path:"/accounts/:id",component:Va}),u(qt,{path:"/entry-books",component:_u}),u(qt,{path:"/employees",component:gd}),u(qt,{path:"/bank-consolidations",component:Ud}),u(qt,{path:"/balance-sheet",component:Qa}),u(qt,{path:"/invoices",component:Eu}),u(qt,{path:"/inventory",component:Fc}),u(qt,{path:"/products",component:ld})]}})),r(t,(()=>{var n=F(()=>!1);return()=>n()&&u(Ul,{})})(),null),t})(),Tu=document.getElementById("root");wi(()=>u(Nu,{}),Tu);
