import{c as Xe,D as pn,ar as An,a as i,t as a,i as t,X as cn,S as u,b as v,W as or,w as ct,aE as zr,d as ar,F as zt,e as $t,aF as Qt,j as r,aG as fr,aH as Gr,k as xr,v as Ar,aI as al,g as Pr,B as _r,Z as dl,P as Ln,h as Rn,a3 as ll,aa as yl,G as cl,o as pl}from"./index-lxO5XhQ-.js";import{d as zn,n as En,o as ul,p as ml,g as gl,u as fl}from"./taxPortalApi-Cxlifo7n.js";import{p as Mn,d as vl,v as hl,u as bl,g as xl}from"./taxDocumentApi-ZGKpA6ue.js";import{F as Pl,D as yn,a as $l,c as Sn,T as Or,d as Bn,b as Sl}from"./drakeTypes-DGPIb3y3.js";import{l as wl}from"./zipCodeLookup-Bhswoe-K.js";import{p as Cl,a as _l}from"./aamvaParser-DwE1p5zq.js";import{S as kl}from"./SignatureValidationView-CtzvH0HS.js";import{F as Tl,a as Il,f as Nl,b as wn,c as zl,D as Al}from"./drakeFieldMappings-DyaT91Ke.js";var Dl=a("<img alt=QR>"),Fl=a("<div><div><div><span></span><button>×</button></div><div><div></div><pre></pre><div><button>Download</button><button>Copy"),Ll=a("<span>");const il=e=>{const[C,y]=Xe(""),[R,M]=Xe(!1),h=Z=>{let K=Z;return e.convertPipeToTab&&(K=K.replace(/\|/g,"	")),e.toUpperCase&&(K=K.toUpperCase()),K},me=async()=>{if(!e.qrText){y("");return}M(!0);try{const Z=h(e.qrText),K=await zr.toDataURL(Z,{width:300,margin:3,errorCorrectionLevel:"M",color:{dark:"#000000",light:"#ffffff"}});y(K)}catch(Z){console.error("QR generation error:",Z),y("")}M(!1)};pn(An(()=>[e.isOpen,e.qrText],([Z])=>{Z&&me()}));const se=()=>{const Z=C();if(!Z)return;const K=document.createElement("a");K.href=Z,K.download=`QR_${Date.now()}.png`,K.click()},D=()=>e.qrText||"";return i(u,{get when(){return e.isOpen},get children(){var Z=Fl(),K=Z.firstChild,n=K.firstChild,Q=n.firstChild,xe=Q.nextSibling,N=n.nextSibling,O=N.firstChild,m=O.nextSibling,ae=m.nextSibling,s=ae.firstChild,ne=s.nextSibling;return Z.$$click=T=>T.target===T.currentTarget&&e.onClose(),Z.style.setProperty("position","fixed"),Z.style.setProperty("inset","0"),Z.style.setProperty("background","rgba(0,0,0,0.5)"),Z.style.setProperty("display","flex"),Z.style.setProperty("align-items","center"),Z.style.setProperty("justify-content","center"),Z.style.setProperty("z-index","9999"),K.style.setProperty("background","white"),K.style.setProperty("border-radius","12px"),K.style.setProperty("width","380px"),K.style.setProperty("max-width","95vw"),K.style.setProperty("overflow","hidden"),n.style.setProperty("padding","1rem"),n.style.setProperty("background","#1e3a5f"),n.style.setProperty("color","white"),n.style.setProperty("display","flex"),n.style.setProperty("justify-content","space-between"),n.style.setProperty("align-items","center"),Q.style.setProperty("font-weight","600"),t(Q,()=>e.title||"QR Code"),cn(xe,"click",e.onClose,!0),xe.style.setProperty("background","none"),xe.style.setProperty("border","none"),xe.style.setProperty("color","white"),xe.style.setProperty("cursor","pointer"),xe.style.setProperty("font-size","1.5rem"),N.style.setProperty("padding","1.25rem"),N.style.setProperty("text-align","center"),O.style.setProperty("width","256px"),O.style.setProperty("height","256px"),O.style.setProperty("margin","0 auto"),O.style.setProperty("background","#f5f5f5"),O.style.setProperty("border-radius","8px"),O.style.setProperty("display","flex"),O.style.setProperty("align-items","center"),O.style.setProperty("justify-content","center"),t(O,i(u,{get when(){return ct(()=>!R())()&&C()},get fallback(){return(()=>{var T=Ll();return T.style.setProperty("color","#999"),t(T,()=>R()?"Generating...":"No data"),T})()},get children(){var T=Dl();return T.style.setProperty("width","256px"),T.style.setProperty("height","256px"),T.style.setProperty("border-radius","8px"),v(()=>or(T,"src",C())),T}})),m.style.setProperty("margin-top","1rem"),m.style.setProperty("padding","0.5rem"),m.style.setProperty("background","#f8fafc"),m.style.setProperty("border-radius","6px"),m.style.setProperty("font-size","0.7rem"),m.style.setProperty("text-align","left"),m.style.setProperty("max-height","70px"),m.style.setProperty("overflow","auto"),m.style.setProperty("white-space","pre-wrap"),m.style.setProperty("word-break","break-all"),t(m,D),ae.style.setProperty("margin-top","1rem"),ae.style.setProperty("display","flex"),ae.style.setProperty("gap","0.5rem"),ae.style.setProperty("justify-content","center"),s.$$click=se,s.style.setProperty("padding","0.5rem 1.25rem"),s.style.setProperty("color","white"),s.style.setProperty("border","none"),s.style.setProperty("border-radius","6px"),ne.$$click=()=>navigator.clipboard.writeText(D()),ne.style.setProperty("padding","0.5rem 1.25rem"),ne.style.setProperty("background","#f1f5f9"),ne.style.setProperty("border","1px solid #ddd"),ne.style.setProperty("border-radius","6px"),ne.style.setProperty("cursor","pointer"),v(T=>{var S=!C(),ce=C()?"#3b82f6":"#ccc",f=C()?"pointer":"not-allowed";return S!==T.e&&(s.disabled=T.e=S),ce!==T.t&&((T.t=ce)!=null?s.style.setProperty("background",ce):s.style.removeProperty("background")),f!==T.a&&((T.a=f)!=null?s.style.setProperty("cursor",f):s.style.removeProperty("cursor")),T},{e:void 0,t:void 0,a:void 0}),Z}})};ar(["click"]);var Rl=a("<img alt=QR>"),El=a("<div><div><div><span>QR - <!> </span><button>×</button></div><div></div><div><div></div><pre></pre><div><button>Download</button><button>Copy"),Ml=a("<button>"),Bl=a("<span>");const Ol=e=>{const[C,y]=Xe(0),[R,M]=Xe([]),[h,me]=Xe(!1),se=()=>{const N=e.client;return[{label:"Basic",text:[N.firstName,"|",N.middleName||"","|",N.lastName,"|","|","123","43","4345","|","|",Qt(N.dateOfBirth)||"","|","Laborer","|","|","502","356","3456","|","|","|","|","|","|","|","|","|",N.address,"|","|","|",N.zipCode,"|","|","|","|","|"].join("")},{label:"CHILD",text:[N.firstName,"|",N.middleName||"","|",N.lastName,"|","|","123","43","4345","|","|","|","|","son","|","12","|",Qt(N.dateOfBirth)||"","|","|","|"].filter(Boolean).join("")},{label:"EIN",text:["33","2334457","|","emplorhsg","|","address","|","|","40215","|","|","|","|","|","","|","","|","","|","","|"].filter(Boolean).join("")},{label:"vCard",text:`BEGIN:VCARD
VERSION:3.0
FN:${N.firstName||""} ${N.lastName||""}
TEL:${N.phone||""}
EMAIL:${N.email||""}
END:VCARD`}]},D=N=>N.replace(/\|/g,"	").toUpperCase(),Z=async()=>{me(!0);const N=se(),O=[];for(const m of N)if(m.text)try{const ae=m.label==="vCard"?m.text:D(m.text);$t({qrText:ae});const s=await zr.toDataURL(ae,{width:300,margin:3,errorCorrectionLevel:"M",color:{dark:"#000000",light:"#ffffff"}});O.push(s)}catch(ae){$t("QR generation error:",ae),O.push("")}else O.push("");M(O),me(!1)};pn(An(()=>e.isOpen,N=>{N&&(M([]),Z())}));const K=()=>se(),n=()=>K()[C()]?.text||"",Q=()=>R()[C()]||"",xe=()=>{const N=Q();if(!N)return;const O=document.createElement("a");O.href=N,O.download=`${e.client.firstName}_${e.client.lastName}_QR.png`,O.click()};return i(u,{get when(){return e.isOpen},get children(){var N=El(),O=N.firstChild,m=O.firstChild,ae=m.firstChild,s=ae.firstChild,ne=s.nextSibling;ne.nextSibling;var T=ae.nextSibling,S=m.nextSibling,ce=S.nextSibling,f=ce.firstChild,et=f.nextSibling,$e=et.nextSibling,Ye=$e.firstChild,pt=Ye.nextSibling;return N.$$click=oe=>oe.target===oe.currentTarget&&e.onClose(),N.style.setProperty("position","fixed"),N.style.setProperty("inset","0"),N.style.setProperty("background","rgba(0,0,0,0.5)"),N.style.setProperty("display","flex"),N.style.setProperty("align-items","center"),N.style.setProperty("justify-content","center"),N.style.setProperty("z-index","9999"),O.style.setProperty("background","white"),O.style.setProperty("border-radius","12px"),O.style.setProperty("width","380px"),O.style.setProperty("max-width","95vw"),O.style.setProperty("overflow","hidden"),m.style.setProperty("padding","1rem"),m.style.setProperty("background","#1e3a5f"),m.style.setProperty("color","white"),m.style.setProperty("display","flex"),m.style.setProperty("justify-content","space-between"),m.style.setProperty("align-items","center"),ae.style.setProperty("font-weight","600"),t(ae,()=>e.client.firstName,ne),t(ae,()=>e.client.lastName,null),cn(T,"click",e.onClose,!0),T.style.setProperty("background","none"),T.style.setProperty("border","none"),T.style.setProperty("color","white"),T.style.setProperty("cursor","pointer"),T.style.setProperty("font-size","1.5rem"),S.style.setProperty("display","flex"),S.style.setProperty("border-bottom","1px solid #e5e7eb"),t(S,i(zt,{get each(){return K()},children:(oe,H)=>(()=>{var Ge=Ml();return Ge.$$click=()=>y(H()),Ge.style.setProperty("flex","1"),Ge.style.setProperty("padding","0.6rem"),Ge.style.setProperty("border","none"),Ge.style.setProperty("font-weight","500"),Ge.style.setProperty("font-size","0.875rem"),Ge.style.setProperty("cursor","pointer"),t(Ge,()=>oe.label),v(Se=>{var Je=C()===H()?"#3b82f6":"#f8fafc",je=C()===H()?"white":"#64748b";return Je!==Se.e&&((Se.e=Je)!=null?Ge.style.setProperty("background",Je):Ge.style.removeProperty("background")),je!==Se.t&&((Se.t=je)!=null?Ge.style.setProperty("color",je):Ge.style.removeProperty("color")),Se},{e:void 0,t:void 0}),Ge})()})),ce.style.setProperty("padding","1.25rem"),ce.style.setProperty("text-align","center"),f.style.setProperty("width","256px"),f.style.setProperty("height","256px"),f.style.setProperty("margin","0 auto"),f.style.setProperty("background","#f5f5f5"),f.style.setProperty("border-radius","8px"),f.style.setProperty("display","flex"),f.style.setProperty("align-items","center"),f.style.setProperty("justify-content","center"),t(f,i(u,{get when(){return ct(()=>!h())()&&Q()},get fallback(){return(()=>{var oe=Bl();return oe.style.setProperty("color","#999"),t(oe,()=>h()?"Generating...":"No data"),oe})()},get children(){var oe=Rl();return oe.style.setProperty("width","256px"),oe.style.setProperty("height","256px"),oe.style.setProperty("border-radius","8px"),v(()=>or(oe,"src",Q())),oe}})),et.style.setProperty("margin-top","1rem"),et.style.setProperty("padding","0.5rem"),et.style.setProperty("background","#f8fafc"),et.style.setProperty("border-radius","6px"),et.style.setProperty("font-size","0.7rem"),et.style.setProperty("text-align","left"),et.style.setProperty("max-height","70px"),et.style.setProperty("overflow","auto"),et.style.setProperty("white-space","pre-wrap"),et.style.setProperty("word-break","break-all"),t(et,n),$e.style.setProperty("margin-top","1rem"),$e.style.setProperty("display","flex"),$e.style.setProperty("gap","0.5rem"),$e.style.setProperty("justify-content","center"),Ye.$$click=xe,Ye.style.setProperty("padding","0.5rem 1.25rem"),Ye.style.setProperty("color","white"),Ye.style.setProperty("border","none"),Ye.style.setProperty("border-radius","6px"),pt.$$click=()=>navigator.clipboard.writeText(n()),pt.style.setProperty("padding","0.5rem 1.25rem"),pt.style.setProperty("background","#f1f5f9"),pt.style.setProperty("border","1px solid #ddd"),pt.style.setProperty("border-radius","6px"),pt.style.setProperty("cursor","pointer"),v(oe=>{var H=!Q(),Ge=Q()?"#3b82f6":"#ccc",Se=Q()?"pointer":"not-allowed";return H!==oe.e&&(Ye.disabled=oe.e=H),Ge!==oe.t&&((oe.t=Ge)!=null?Ye.style.setProperty("background",Ge):Ye.style.removeProperty("background")),Se!==oe.a&&((oe.a=Se)!=null?Ye.style.setProperty("cursor",Se):Ye.style.removeProperty("cursor")),oe},{e:void 0,t:void 0,a:void 0}),N}})};ar(["click"]);const jl={en:{title:"Client Information Review",subtitle:"Tax Return",taxpayer:"Taxpayer Information",spouse:"Spouse Information",address:"Address",dependents:"Dependents",filingInfo:"Filing Information",idInfo:"ID Information",bankAccount:"Bank Account",fullName:"Full Name",ssn:"Social Security Number",dateOfBirth:"Date of Birth",occupation:"Occupation",email:"Email",phone:"Phone",street:"Street Address",city:"City",state:"State",zipCode:"ZIP Code",taxYear:"Tax Year",filingStatus:"Filing Status",idType:"ID Type",idNumber:"ID Number",issuingState:"Issuing State",issueDate:"Issue Date",expiration:"Expiration Date",bankName:"Bank Name",accountType:"Account Type",routingNumber:"Routing Number",accountNumber:"Account Number",accountHolder:"Account Holder",relationship:"Relationship",monthsLived:"Months Lived with You",noDependents:"No dependents to claim",noIdInfo:"No ID information on file",noBankInfo:"No bank information on file",generatedOn:"Generated on",confirmationText:"I confirm that all information above is accurate and complete.",signatureLine:"Signature",dateLine:"Date",driversLicense:"Driver's License",stateId:"State ID",passport:"Passport",checking:"Checking",savings:"Savings",single:"Single",marriedFilingJointly:"Married Filing Jointly",marriedFilingSeparately:"Married Filing Separately",headOfHousehold:"Head of Household",qualifyingWidower:"Qualifying Widow(er)",son:"Son",daughter:"Daughter",stepson:"Stepson",stepdaughter:"Stepdaughter",fosterChild:"Foster Child",brother:"Brother",sister:"Sister",halfBrother:"Half Brother",halfSister:"Half Sister",stepbrother:"Stepbrother",stepsister:"Stepsister",parent:"Parent",grandparent:"Grandparent",grandchild:"Grandchild",niece:"Niece",nephew:"Nephew",aunt:"Aunt",uncle:"Uncle",other:"Other",taxResults:"Tax Return Results",federalRefund:"Federal Refund",federalOwe:"Federal Amount Owed",stateRefund:"State Refund",stateOwe:"State Amount Owed",refund:"Refund",owe:"Owed",noTaxResults:"No tax results available"},es:{title:"Revisión de Información del Cliente",subtitle:"Impuestos",taxpayer:"Información del Contribuyente",spouse:"Información del Cónyuge",address:"Dirección",dependents:"Dependientes",filingInfo:"Información de Declaración",idInfo:"Información de Identificación",bankAccount:"Cuenta Bancaria",fullName:"Nombre Completo",ssn:"Número de Seguro Social",dateOfBirth:"Fecha de Nacimiento",occupation:"Ocupación",email:"Correo Electrónico",phone:"Teléfono",street:"Dirección",city:"Ciudad",state:"Estado",zipCode:"Código Postal",taxYear:"Año Fiscal",filingStatus:"Estado Civil Tributario",idType:"Tipo de ID",idNumber:"Número de ID",issuingState:"Estado Emisor",issueDate:"Fecha de Emisión",expiration:"Fecha de Vencimiento",bankName:"Nombre del Banco",accountType:"Tipo de Cuenta",routingNumber:"Número de Ruta",accountNumber:"Número de Cuenta",accountHolder:"Titular de la Cuenta",relationship:"Parentesco",monthsLived:"Meses Vividos con Usted",noDependents:"Sin dependientes para reclamar",noIdInfo:"Sin información de identificación",noBankInfo:"Sin información bancaria",generatedOn:"Generado el",confirmationText:"Confirmo que toda la información anterior es precisa y completa.",signatureLine:"Firma",dateLine:"Fecha",driversLicense:"Licencia de Conducir",stateId:"ID Estatal",passport:"Pasaporte",checking:"Corriente",savings:"Ahorros",single:"Soltero/a",marriedFilingJointly:"Casado/a Declarando Conjuntamente",marriedFilingSeparately:"Casado/a Declarando por Separado",headOfHousehold:"Jefe/a de Familia",qualifyingWidower:"Viudo/a Calificado/a",son:"Hijo",daughter:"Hija",stepson:"Hijastro",stepdaughter:"Hijastra",fosterChild:"Hijo de Crianza",brother:"Hermano",sister:"Hermana",halfBrother:"Medio Hermano",halfSister:"Media Hermana",stepbrother:"Hermanastro",stepsister:"Hermanastra",parent:"Padre/Madre",grandparent:"Abuelo/a",grandchild:"Nieto/a",niece:"Sobrina",nephew:"Sobrino",aunt:"Tía",uncle:"Tío",other:"Otro",taxResults:"Resultados de la Declaración",federalRefund:"Reembolso Federal",federalOwe:"Adeudo Federal",stateRefund:"Reembolso Estatal",stateOwe:"Adeudo Estatal",refund:"Reembolso",owe:"Adeudo",noTaxResults:"Sin resultados de impuestos disponibles"}},Ul={single:"single",married_filing_jointly:"marriedFilingJointly",married_filing_separately:"marriedFilingSeparately",head_of_household:"headOfHousehold",qualifying_widower:"qualifyingWidower"},Hl={son:"son",daughter:"daughter",stepson:"stepson",stepdaughter:"stepdaughter",foster_child:"fosterChild",brother:"brother",sister:"sister",half_brother:"halfBrother",half_sister:"halfSister",stepbrother:"stepbrother",stepsister:"stepsister",parent:"parent",grandparent:"grandparent",grandchild:"grandchild",niece:"niece",nephew:"nephew",aunt:"aunt",uncle:"uncle",other:"other"},Qr=(e,C)=>{if(!e)return"-";const y=C==="es"?"es-ES":"en-US";let R;if(typeof e=="string")if(/^\d{4}-\d{2}-\d{2}$/.test(e)){const[M,h,me]=e.split("-").map(Number);R=new Date(M,h-1,me)}else R=new Date(e+"T00:00:00");else R=new Date(e);return isNaN(R.getTime())?"-":R.toLocaleDateString(y,{month:"long",day:"numeric",year:"numeric"})},Cn=e=>e?e.length===9?`${e.slice(0,3)}-${e.slice(3,5)}-${e.slice(5)}`:e:"-",sn=e=>e==null?"-":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),Wl=(e,C="en")=>{const y=jl[C],R=[e.firstName,e.middleName,e.lastName,e.suffix].filter(Boolean).join(" ")||"-",M=[e.spouse?.firstName,e.spouse?.middleName,e.spouse?.lastName].filter(Boolean).join(" ")||"-",h=[e.address,e.apt?`Apt ${e.apt}`:""].filter(Boolean).join(", ")||"-",me=e.filingStatus==="married_filing_jointly"||e.filingStatus==="married_filing_separately",se=new Date().toLocaleDateString(C==="es"?"es-ES":"en-US",{month:"long",day:"numeric",year:"numeric"}),D=()=>e.idInfo?.idType==="drivers_license"?y.driversLicense:e.idInfo?.idType==="state_id"?y.stateId:e.idInfo?.idType==="passport"?y.passport:y.other,Z=()=>{if(!e.filingStatus)return"-";const Q=Ul[e.filingStatus];return Q?y[Q]:e.filingStatus},K=Q=>{if(!Q)return"-";const xe=Hl[Q];return xe?y[xe]:Q},n=()=>e.hasNoDependents||!e.dependents||e.dependents.length===0?`<tr><td colspan="5" class="empty-text">${y.noDependents}</td></tr>`:e.dependents.map((Q,xe)=>`
      <tr>
        <td style="font-weight: 500;">${xe+1}</td>
        <td>${[Q.firstName,Q.lastName].filter(Boolean).join(" ")||"-"}</td>
        <td>${K(Q.relationship)}</td>
        <td style="font-family: 'SF Mono', Monaco, 'Courier New', monospace; font-size: 13px;">${Cn(Q.ssn)}</td>
        <td>${Qr(Q.dateOfBirth,C)}</td>
      </tr>
    `).join("");return`
<!DOCTYPE html>
<html lang="${C}">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>${y.title} - ${R}</title>
  <style>
    @page { margin: 0.5in; }
    * { box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Ubuntu, sans-serif;
      font-size: 14px;
      line-height: 1.5;
      color: #1a1a1a;
      background: #f0f0eb;
      margin: 0;
      padding: 24px;
    }
    .container { max-width: 600px; margin: 0 auto; }
    .header {
      text-align: center;
      padding: 32px 24px;
      background: #ffffff;
      border: 1px solid #e3e8ee;
      border-radius: 12px;
      margin-bottom: 16px;
    }
    .header h1 { margin: 0 0 8px 0; font-size: 22px; font-weight: 600; color: #1a1a1a; }
    .header p { margin: 0; color: #7a7a7a; font-size: 14px; }
    .section {
      background: #ffffff;
      border: 1px solid #e3e8ee;
      border-radius: 12px;
      margin-bottom: 16px;
      overflow: hidden;
    }
    .section-header {
      padding: 14px 20px;
      font-weight: 600;
      font-size: 14px;
      color: #1a1a1a;
      background: #fafafa;
      border-bottom: 1px solid #e3e8ee;
    }
    .section-content { padding: 16px 20px; }
    .row {
      display: flex;
      justify-content: space-between;
      padding: 10px 0;
      border-bottom: 1px solid #ebebeb;
    }
    .row:last-child { border-bottom: none; }
    .row .label { color: #7a7a7a; font-size: 13px; }
    .row .value { font-weight: 500; text-align: right; color: #1a1a1a; }
    .row .value.mono { font-family: 'SF Mono', Monaco, 'Courier New', monospace; font-size: 13px; }
    table { width: 100%; border-collapse: collapse; }
    th {
      text-align: left;
      padding: 12px 16px;
      background: #fafafa;
      font-weight: 600;
      font-size: 11px;
      color: #7a7a7a;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      border-bottom: 1px solid #e3e8ee;
    }
    td { padding: 12px 16px; border-bottom: 1px solid #ebebeb; }
    tr:last-child td { border-bottom: none; }
    .signature-section {
      margin-top: 24px;
      padding: 24px;
      background: #ffffff;
      border-radius: 12px;
      border: 1px solid #e3e8ee;
    }
    .signature-section p { margin: 0 0 24px 0; font-size: 13px; color: #7a7a7a; }
    .signature-line {
      display: flex;
      gap: 40px;
      margin-top: 16px;
    }
    .signature-box {
      flex: 1;
      border-top: 1px solid #1a1a1a;
      padding-top: 8px;
    }
    .signature-box span { font-size: 12px; color: #7a7a7a; }
    .footer {
      text-align: center;
      margin-top: 24px;
      font-size: 12px;
      color: #999999;
    }
    .badge {
      display: inline-block;
      padding: 3px 10px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 500;
      background: #f0f0eb;
      color: #1a1a1a;
      border: 1px solid #e3e8ee;
    }
    .empty-text {
      text-align: center;
      color: #999999;
      font-style: italic;
      padding: 12px;
    }
    .refund { color: #16a34a; font-weight: 600; }
    .owe { color: #dc2626; font-weight: 600; }
    .tax-results-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
    }
    .tax-result-box {
      padding: 12px 16px;
      border-radius: 8px;
      border: 1px solid #e3e8ee;
    }
    .tax-result-box.federal { background: #f0fdf4; border-color: #bbf7d0; }
    .tax-result-box.state { background: #eff6ff; border-color: #bfdbfe; }
    .tax-result-label { font-size: 12px; color: #7a7a7a; margin-bottom: 4px; }
    .tax-result-value { font-size: 16px; font-weight: 600; }
  </style>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <div class="header">
      <h1>${y.title}</h1>
      <p>${y.subtitle} - ${e.taxYear||new Date().getFullYear()}</p>
    </div>

     <!-- Filing Information -->
    <div class="section">
      <div class="section-header">${y.filingInfo}</div>
      <div class="section-content">
        <div class="row"><span class="label">${y.taxYear}</span><span class="value"><span class="badge">${e.taxYear||new Date().getFullYear()}</span></span></div>
        <div class="row"><span class="label">${y.filingStatus}</span><span class="value">${Z()}</span></div>
      </div>
    </div>

    ${e.federalRefund||e.federalOwe||e.stateReturns&&e.stateReturns.length>0?`
    <!-- Tax Return Results -->
    <div class="section">
      <div class="section-header">${y.taxResults}</div>
      <div class="section-content">
        ${e.federalRefund?`<div class="row">
          <span class="label">${y.federalRefund}</span>
          <span class="value ${e.federalRefund?"refund":""}">${e.federalRefund?"+"+sn(e.federalRefund):"-"}</span>
        </div>`:""}
        ${e.federalOwe?`<div class="row">
          <span class="label">${y.federalOwe}</span>
          <span class="value ${e.federalOwe?"owe":""}">${e.federalOwe?"-"+sn(e.federalOwe):"-"}</span>
        </div>`:""}
        ${e.stateReturns&&e.stateReturns.length>0?e.stateReturns.map(Q=>`
        <div class="row">
          <span class="label">${Q.state} ${Q.refund?y.refund:y.owe}</span>
          <span class="value ${Q.refund?"refund":"owe"}">${Q.refund?"+"+sn(Q.refund):"-"+sn(Q.owe)}</span>
        </div>
        `).join(""):""}
      </div>
    </div>
    `:""}

    <!-- Taxpayer Information -->
    <div class="section">
      <div class="section-header">${y.taxpayer}</div>
      <div class="section-content">
        <div class="row"><span class="label">${y.fullName}</span><span class="value">${R}</span></div>
        <div class="row"><span class="label">${y.ssn}</span><span class="value mono">${Cn(e.ssn)}</span></div>
        <div class="row"><span class="label">${y.dateOfBirth}</span><span class="value">${Qr(e.dateOfBirth,C)}</span></div>
        <div class="row"><span class="label">${y.occupation}</span><span class="value">${e.occupation||"-"}</span></div>
        <div class="row"><span class="label">${y.email}</span><span class="value">${e.email||"-"}</span></div>
        <div class="row"><span class="label">${y.phone}</span><span class="value">${e.phone||"-"}</span></div>
      </div>
    </div>

    <!-- Address -->
    <div class="section">
      <div class="section-header">${y.address}</div>
      <div class="section-content">
        <div class="row"><span class="label">${y.street}</span><span class="value">${h}</span></div>
        <div class="row"><span class="label">${y.city}</span><span class="value">${e.city||"-"}</span></div>
        <div class="row"><span class="label">${y.state}</span><span class="value">${e.state||"-"}</span></div>
        <div class="row"><span class="label">${y.zipCode}</span><span class="value mono">${e.zipCode||"-"}</span></div>
      </div>
    </div>

    ${me?`
    <!-- Spouse Information -->
    <div class="section">
      <div class="section-header">${y.spouse}</div>
      <div class="section-content">
        <div class="row"><span class="label">${y.fullName}</span><span class="value">${M}</span></div>
        <div class="row"><span class="label">${y.ssn}</span><span class="value mono">${Cn(e.spouse?.ssn)}</span></div>
        <div class="row"><span class="label">${y.dateOfBirth}</span><span class="value">${Qr(e.spouse?.dateOfBirth,C)}</span></div>
        <div class="row"><span class="label">${y.occupation}</span><span class="value">${e.spouse?.occupation||"-"}</span></div>
        <div class="row"><span class="label">${y.phone}</span><span class="value">${e.spouse?.phone||"-"}</span></div>
      </div>
    </div>
    `:""}

   

    <!-- Dependents -->
    <div class="section">
      <div class="section-header">${y.dependents} (${e.dependents?.length||0})</div>
      <table>
        <thead>
          <tr>
            <th>#</th>
            <th>${y.fullName}</th>
            <th>${y.relationship}</th>
            <th>${y.ssn}</th>
            <th>${y.dateOfBirth}</th>
          </tr>
        </thead>
        <tbody>
          ${n()}
        </tbody>
      </table>
    </div>

    <!-- ID Information -->
    <div class="section">
      <div class="section-header">${y.idInfo}</div>
      <div class="section-content">
        ${e.idInfo?.idNumber?`
        <div class="row"><span class="label">${y.idType}</span><span class="value">${D()}</span></div>
        <div class="row"><span class="label">${y.idNumber}</span><span class="value mono">${e.idInfo.idNumber}</span></div>
        <div class="row"><span class="label">${y.issuingState}</span><span class="value">${e.idInfo.idState||"-"}</span></div>
        <div class="row"><span class="label">${y.issueDate}</span><span class="value">${Qr(e.idInfo.issueDate,C)}</span></div>
        <div class="row"><span class="label">${y.expiration}</span><span class="value">${Qr(e.idInfo.expirationDate,C)}</span></div>
        `:`<div class="empty-text">${y.noIdInfo}</div>`}
      </div>
    </div>

    <!-- Bank Account -->
    <div class="section">
      <div class="section-header">${y.bankAccount}</div>
      <div class="section-content">
        ${e.bankInfo?.accountNumber?`
        <div class="row"><span class="label">${y.bankName}</span><span class="value">${e.bankInfo.bankName||"-"}</span></div>
        <div class="row"><span class="label">${y.accountType}</span><span class="value"><span class="badge">${e.bankInfo.accountType}</span></span></div>
        <div class="row"><span class="label">${y.routingNumber}</span><span class="value mono">${e.bankInfo.routingNumber||"-"}</span></div>
        <div class="row"><span class="label">${y.accountNumber}</span><span class="value mono">${e.bankInfo.accountNumber}</span></div>
        ${e.bankInfo.accountHolderName?`<div class="row"><span class="label">${y.accountHolder}</span><span class="value">${e.bankInfo.accountHolderName}</span></div>`:""}
        `:`<div class="empty-text">${y.noBankInfo}</div>`}
      </div>
    </div>

    <!-- Signature Section -->
    <div class="signature-section">
      <p>${y.confirmationText}</p>
      <div class="signature-line">
        <div class="signature-box"><span>${y.signatureLine}</span></div>
        <div class="signature-box"><span>${y.dateLine}</span></div>
      </div>
    </div>

    <!-- Footer -->
    <div class="footer">
      ${y.generatedOn}: ${se}
    </div>
  </div>
</body>
</html>
`},ql=(e,C="en")=>{const y=Wl(e,C);`${[e.firstName,e.lastName].filter(Boolean).join("_")||"Client"}${e.taxYear||new Date().getFullYear()}`;const M=window.open("","_blank");if(!M){alert("Please allow popups to download the PDF");return}M.document.write(y),M.document.close(),M.onload=()=>{setTimeout(()=>{M.print()},250)}};var Yl=a('<svg viewBox="0 0 24 24"fill=none stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">'),Lr=a("<div>"),Vl=a("<button>Spouse Info"),Gl=a('<div><svg viewBox="0 0 20 20"><path d="M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z"></path></svg><span>'),On=a("<span>+"),_n=a("<div><span></span><span>"),Ql=a("<div><div><div><span>FEDERAL"),on=a("<button>"),Xl=a('<div><div><svg viewBox="0 0 20 20"fill=#7a7a7a><path d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"></path></svg><span></span></div><div><div><div><span></span><span></span></div><div><span></span><div><span></span></div></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span>'),Kl=a("<div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span>"),Jl=a("<div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><div><span></span></div></div><div><span></span><div><span>"),Zl=a('<div><svg viewBox="0 0 20 20"fill=#7a7a7a><path fill-rule=evenodd d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"clip-rule=evenodd></path></svg><span>'),ei=a('<div><div><div><button><svg width=14 height=14 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2.5 stroke-linecap=round stroke-linejoin=round><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1=12 y1=15 x2=12 y2=3></line></svg>PDF</button><div><button>EN</button><button>ES</button></div></div><div><h2></h2><p></p></div></div><div><div><div><svg viewBox="0 0 20 20"fill=#7a7a7a><path fill-rule=evenodd d="M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z"clip-rule=evenodd></path></svg><span></span></div><div><div><div><span></span><span></span></div><div><span></span><span></span></div></div></div></div><div><div><svg viewBox="0 0 20 20"fill=#7a7a7a><path fill-rule=evenodd d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"clip-rule=evenodd></path></svg><span></span></div><div><div><div><span></span><span></span></div><div><span></span><div><span></span></div></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div></div></div></div><div><div><svg viewBox="0 0 20 20"fill=#7a7a7a><path fill-rule=evenodd d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z"clip-rule=evenodd></path></svg><span></span></div><div><div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div></div></div></div><div><div><svg viewBox="0 0 20 20"fill=#7a7a7a><path fill-rule=evenodd d="M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2H4zm3 5a1 1 0 011-1h.01a1 1 0 110 2H8a1 1 0 01-1-1zm4 0a1 1 0 011-1h4a1 1 0 110 2h-4a1 1 0 01-1-1zm-4 3a1 1 0 011-1h.01a1 1 0 110 2H8a1 1 0 01-1-1zm4 0a1 1 0 011-1h4a1 1 0 110 2h-4a1 1 0 01-1-1z"clip-rule=evenodd></path></svg><span></span></div><div></div></div><div><div><svg viewBox="0 0 20 20"fill=#7a7a7a><path d="M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z"></path><path fill-rule=evenodd d="M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z"clip-rule=evenodd></path></svg><span></span></div><div></div></div></div><div><div><div><svg viewBox="0 0 20 20"fill=#7a7a7a><path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"></path></svg><span></span></div><span></span></div><div>'),ti=a('<div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"clip-rule=evenodd></path></svg>Personal Information'),ri=a('<div><div><input type=text placeholder="First name"></div><div><label>Middle Name</label><input type=text placeholder="Middle name"></div><div><label>Last Name *</label><input type=text placeholder="Last name"></div><div><label>Suffix</label><select><option value>None</option><option value=Jr>Jr</option><option value=Sr>Sr</option><option value=II>II</option><option value=III>III</option><option value=IV>IV</option></select></div><div><input type=text placeholder=XXX-XX-XXXX maxlength=11></div><div><input type=date></div><div><label>Occupation</label><input type=text placeholder=Occupation></div><div><label>Email</label><input type=email placeholder=email@example.com></div><div><input type=tel placeholder="(XXX) XXX-XXXX">'),ni=a('<div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z"clip-rule=evenodd></path></svg>Address'),li=a('<div><div><label>Street Address</label><input type=text placeholder="123 Main St"></div><div><label>Apt</label><input type=text placeholder=123></div><div><label>ZIP Code</label><input type=text placeholder=12345 maxlength=10></div><div><label>City</label><input type=text placeholder=City></div><div><label>State</label><select><option value>Select state'),ii=a('<div><div><svg viewBox="0 0 20 20"fill=currentColor><path d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"></path></svg>Spouse Information'),si=a('<div><div><label>First Name *</label><input type=text placeholder="First name"></div><div><label>Middle Name</label><input type=text placeholder="Middle name"></div><div><label>Last Name *</label><input type=text placeholder="Last name"></div><div><label>Suffix</label><select><option value>None</option><option value=Jr>Jr</option><option value=Sr>Sr</option><option value=II>II</option><option value=III>III</option><option value=IV>IV</option></select></div><div><label>SSN</label><input type=text placeholder=XXX-XX-XXXX maxlength=11></div><div><label>Date of Birth</label><input type=date></div><div><label>Occupation</label><input type=text placeholder=Occupation></div><div><label>Email</label><input type=email placeholder=email@example.com></div><div><label>Phone</label><input type=tel placeholder="(XXX) XXX-XXXX">'),oi=a('<div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"clip-rule=evenodd></path></svg>Spouse Tax Options'),ai=a("<div><label><input type=checkbox><span>Spouse is legally blind</span></label><label><input type=checkbox><span>Spouse can be claimed as dependent on another return"),di=a('<div><svg viewBox="0 0 20 20"fill=currentColor><path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"></path></svg>Dependents (<!>)'),yi=a('<div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"clip-rule=evenodd></path></svg>Task Complete'),ci=a("<div><div><input type=checkbox><div><div>No Dependents</div><div>Check this box to confirm the client has no dependents to claim"),pi=a('<button><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z"clip-rule=evenodd></path></svg>Add Dependent'),ui=a('<div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z"clip-rule=evenodd></path></svg>Filing Information'),mi=a("<div><div><label>Tax Year</label><select><option value=2026>2026</option><option value=2025>2025</option><option value=2024>2024</option><option value=2023>2023</option></select></div><div><label>Filing Status</label><select><option value>Select filing status"),gi=a('<div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z"clip-rule=evenodd></path></svg>Additional Tax Options'),fi=a("<div><label><input type=checkbox><span>Taxpayer is legally blind</span></label><label><input type=checkbox><span>Can be claimed as dependent on another return</span></label><label><input type=checkbox><span>Had qualifying health insurance coverage"),vi=a(`<div><div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2H4zm3 5a1 1 0 011-1h.01a1 1 0 110 2H8a1 1 0 01-1-1zm4 0a1 1 0 011-1h4a1 1 0 110 2h-4a1 1 0 01-1-1zm-4 3a1 1 0 011-1h.01a1 1 0 110 2H8a1 1 0 01-1-1zm4 0a1 1 0 011-1h4a1 1 0 110 2h-4a1 1 0 01-1-1z"clip-rule=evenodd></path></svg>ID Information (Driver's License / State ID)`),hi=a('<div><div><svg viewBox="0 0 24 24"fill=none stroke=#9333ea><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"></path></svg><span>Scan ID with External Scanner</span><span>Recommended</span></div><div><input type=text placeholder="Click here and scan ID barcode with external scanner..."><button><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"clip-rule=evenodd></path></svg>Process</button></div><div><span>Scan the PDF417 barcode on the back of the ID</span><button><svg viewBox="0 0 20 20"fill=currentColor><path d="M4 5a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V7a2 2 0 00-2-2h-1.586a1 1 0 01-.707-.293l-1.121-1.121A2 2 0 0011.172 3H8.828a2 2 0 00-1.414.586L6.293 4.707A1 1 0 015.586 5H4zm6 9a3 3 0 100-6 3 3 0 000 6z"></path></svg>Use Camera Instead'),bi=a("<div> "),xi=a(`<div><div><label>ID Number *</label><input type=text placeholder="License/ID number"></div><div><label>ID Type</label><select><option value=drivers_license>Driver's License</option><option value=state_id>State ID</option><option value=passport>Passport</option><option value=other>Other</option></select></div><div><label>Issuing State *</label><select><option value>Select state</option></select></div><div><label>Issue Date</label><input type=date></div><div><label>Expiration Date</label><input type=date>`),Pi=a("<div><strong>Gender:</strong> "),$i=a("<div><strong>Height:</strong> "),Si=a("<div><strong>Weight:</strong> "),wi=a("<div><strong>Eye Color:</strong> "),Ci=a("<div><strong>Hair Color:</strong> "),_i=a("<div><div>Additional ID Details (from scan)</div><div>"),ki=a('<div><svg viewBox="0 0 20 20"fill=currentColor><path d="M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z"></path><path fill-rule=evenodd d="M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z"clip-rule=evenodd></path></svg>Bank Information (for Direct Deposit)'),Ti=a('<button><svg viewBox="0 0 24 24"fill=none stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z">'),Ii=a('<div><div><label>Account Type</label><select><option value>Select account type</option><option value=checking>Checking</option><option value=savings>Savings</option></select></div><div><label>Bank</label><input type=text placeholder="Search or type bank name..."></div><div><label>Routing Number</label><input type=text placeholder="9 digits"maxlength=9></div><div><label>Account Number</label><input type=text placeholder="Account number"></div><div><label>Account Holder Name</label><input type=text placeholder="Name on account">'),Ni=a('<div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z"clip-rule=evenodd>'),zi=a("<div><div><span> / </span></div><div><div><label> ($)</label><input type=number min=0 step=0.01 placeholder=0.00></div><div><label> ($)</label><input type=number min=0 step=0.01 placeholder=0.00>"),Ai=a('<div><div><span> / </span><button><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z"clip-rule=evenodd>'),Di=a('<div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M18 13V5a2 2 0 00-2-2H4a2 2 0 00-2 2v8a2 2 0 002 2h3l3 3 3-3h3a2 2 0 002-2zM5 7a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1zm1 3a1 1 0 100 2h3a1 1 0 100-2H6z"clip-rule=evenodd></path></svg>Notes'),Fi=a('<div><textarea placeholder="Additional notes about this client...">'),Li=a(`<div><div><div><h3>Client Information</h3><p>Update personal details, spouse information, and dependents</p></div><div><button><svg viewBox="0 0 24 24"fill=none stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"></path></svg>QR Code</button><button></button></div></div><div><button>Review Info</button><button>Personal Info</button><button>Dependents (<!>)</button><button>Tax Details</button></div><style>
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
      `),Ri=a('<svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"clip-rule=evenodd>'),jn=a("<span>-"),Ei=a("<div><span> "),Mi=a("<div><div><div></div><div><div></div><div></div></div></div><div><div><span></span><span></span></div><div><span></span><span>"),Xr=a("<option>"),Bi=a('<div><div><span>Dependent #</span><button><svg viewBox="0 0 24 24"fill=none stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"></path></svg></button><button title="Remove dependent"><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z"clip-rule=evenodd></path></svg></button></div><div><div><label>First Name *</label></div><div><label>Last Name *</label></div><div><label>Relationship *</label><select></select></div><div><label>SSN</label></div><div><label>Date of Birth</label></div><div><label>Months Lived with You</label></div></div><div><label><input type=checkbox><span>Full-time student</span></label><label><input type=checkbox><span>Permanently disabled</span></label><label><input type=checkbox><span>Provided more than half support'),Oi=a('<div><div><label></label><select><option value>Select</option></select></div><div><label> ($)</label><input type=number min=0 step=0.01 placeholder=0.00></div><div><label> ($)</label><input type=number min=0 step=0.01 placeholder=0.00></div><button><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z"clip-rule=evenodd>'),ji=a('<div><label></label><button><svg viewBox="0 0 24 24"fill=none stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z">');const Ui={son:"Son",daughter:"Daughter",stepson:"Stepson",stepdaughter:"Stepdaughter",foster_child:"Foster Child",brother:"Brother",sister:"Sister",half_brother:"Half Brother",half_sister:"Half Sister",stepbrother:"Stepbrother",stepsister:"Stepsister",parent:"Parent",grandparent:"Grandparent",grandchild:"Grandchild",niece:"Niece",nephew:"Nephew",aunt:"Aunt",uncle:"Uncle",other:"Other"},kn=["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY","DC"],Un=["JPMorgan Chase","Bank of America","Wells Fargo","Citibank","U.S. Bank","PNC Bank","Truist Bank","Goldman Sachs","Capital One","TD Bank","Fifth Third Bank","Citizens Bank","KeyBank","Huntington Bank","M&T Bank","Regions Bank","BMO Harris Bank","HSBC Bank USA","Santander Bank","Ally Bank","Synchrony Bank","Discover Bank","Charles Schwab Bank","American Express National Bank","First Republic Bank","First Citizens Bank","Comerica Bank","Zions Bank","Republic Bank & Trust Company","Western Alliance Bank","Valley National Bank","Webster Bank","Banner Bank","Pacific Premier Bank","Prosperity Bank","Texas Capital Bank","Frost Bank","Navy Federal Credit Union","State Employees Credit Union","Pentagon Federal Credit Union","SchoolsFirst Federal Credit Union","Alliant Credit Union","Golden 1 Credit Union","America First Credit Union","USAA Federal Savings Bank","Mountain America Credit Union","Chime","Varo Bank","Current","SoFi","Marcus by Goldman Sachs","Axos Bank","CIT Bank","TIAA Bank","Popular Bank","BankUnited","First Horizon Bank","Synovus Bank","Old National Bank","Associated Bank","Simmons Bank","Cadence Bank"].sort(),Hi={en:{clientInfoReview:"Client Information Review",reviewSubtitle:"Please review all information below for accuracy before proceeding",taxpayer:"Taxpayer",address:"Address",spouse:"Spouse",filingInfo:"Filing Information",idInfo:"ID Information",bankAccount:"Bank Account",dependents:"Dependents",fullName:"Full Name",ssn:"SSN",dateOfBirth:"Date of Birth",occupation:"Occupation",email:"Email",phone:"Phone",street:"Street",city:"City",state:"State",zipCode:"ZIP Code",taxYear:"Tax Year",filingStatus:"Filing Status",taxResults:"Tax Return Results",federalRefund:"Federal Refund",federalOwe:"Federal Amount Owed",stateRefund:"State Refund",stateOwe:"State Amount Owed",totalRefund:"Total Refund",totalOwe:"Total Owed",refund:"Refund",owe:"Owed",addState:"Add State",removeState:"Remove",noStateReturns:"No state returns added",idType:"ID Type",idNumber:"ID Number",issuingState:"Issuing State",issueDate:"Issue Date",expiration:"Expiration",driversLicense:"Driver's License",stateId:"State ID",passport:"Passport",other:"Other",noIdInfo:"No ID information on file",bankName:"Bank Name",accountType:"Account Type",routingNumber:"Routing #",accountNumber:"Account #",accountHolder:"Account Holder",checking:"Checking",savings:"Savings",noBankInfo:"No bank information on file",relationship:"Relationship",monthsLived:"Months Lived",noDependentsConfirmed:"No dependents to claim (confirmed)",noDependentsAdded:"No dependents added",printReview:"Print Review",show:"Show",hide:"Hide",son:"Son",daughter:"Daughter",stepson:"Stepson",stepdaughter:"Stepdaughter",fosterChild:"Foster Child",brother:"Brother",sister:"Sister",halfBrother:"Half Brother",halfSister:"Half Sister",stepbrother:"Stepbrother",stepsister:"Stepsister",parent:"Parent",grandparent:"Grandparent",grandchild:"Grandchild",niece:"Niece",nephew:"Nephew",aunt:"Aunt",uncle:"Uncle",single:"Single",marriedFilingJointly:"Married Filing Jointly",marriedFilingSeparately:"Married Filing Separately",headOfHousehold:"Head of Household",qualifyingWidower:"Qualifying Widow(er)"},es:{clientInfoReview:"Revisión de Información del Cliente",reviewSubtitle:"Por favor revise toda la información a continuación para verificar su exactitud",taxpayer:"Contribuyente",address:"Dirección",spouse:"Cónyuge",filingInfo:"Información de Declaración",idInfo:"Información de Identificación",bankAccount:"Cuenta Bancaria",dependents:"Dependientes",fullName:"Nombre Completo",ssn:"Número de Seguro Social",dateOfBirth:"Fecha de Nacimiento",occupation:"Ocupación",email:"Correo Electrónico",phone:"Teléfono",street:"Calle",city:"Ciudad",state:"Estado",zipCode:"Código Postal",taxYear:"Año Fiscal",filingStatus:"Estado Civil Tributario",taxResults:"Resultados de la Declaración",federalRefund:"Reembolso Federal",federalOwe:"Adeudo Federal",stateRefund:"Reembolso Estatal",stateOwe:"Adeudo Estatal",totalRefund:"Reembolso Total",totalOwe:"Adeudo Total",refund:"Reembolso",owe:"Adeudo",addState:"Agregar Estado",removeState:"Eliminar",noStateReturns:"Sin declaraciones estatales agregadas",idType:"Tipo de ID",idNumber:"Número de ID",issuingState:"Estado Emisor",issueDate:"Fecha de Emisión",expiration:"Vencimiento",driversLicense:"Licencia de Conducir",stateId:"ID Estatal",passport:"Pasaporte",other:"Otro",noIdInfo:"Sin información de identificación",bankName:"Nombre del Banco",accountType:"Tipo de Cuenta",routingNumber:"Número de Ruta",accountNumber:"Número de Cuenta",accountHolder:"Titular de la Cuenta",checking:"Corriente",savings:"Ahorros",noBankInfo:"Sin información bancaria",relationship:"Parentesco",monthsLived:"Meses Vividos",noDependentsConfirmed:"Sin dependientes para reclamar (confirmado)",noDependentsAdded:"Sin dependientes agregados",printReview:"Imprimir Revisión",show:"Mostrar",hide:"Ocultar",son:"Hijo",daughter:"Hija",stepson:"Hijastro",stepdaughter:"Hijastra",fosterChild:"Hijo de Crianza",brother:"Hermano",sister:"Hermana",halfBrother:"Medio Hermano",halfSister:"Media Hermana",stepbrother:"Hermanastro",stepsister:"Hermanastra",parent:"Padre/Madre",grandparent:"Abuelo/a",grandchild:"Nieto/a",niece:"Sobrina",nephew:"Sobrino",aunt:"Tía",uncle:"Tío",single:"Soltero/a",marriedFilingJointly:"Casado/a Declarando Conjuntamente",marriedFilingSeparately:"Casado/a Declarando por Separado",headOfHousehold:"Jefe/a de Familia",qualifyingWidower:"Viudo/a Calificado/a"}},Wi={son:"son",daughter:"daughter",stepson:"stepson",stepdaughter:"stepdaughter",foster_child:"fosterChild",brother:"brother",sister:"sister",half_brother:"halfBrother",half_sister:"halfSister",stepbrother:"stepbrother",stepsister:"stepsister",parent:"parent",grandparent:"grandparent",grandchild:"grandchild",niece:"niece",nephew:"nephew",aunt:"aunt",uncle:"uncle",other:"other"},qi={single:"single",married_filing_jointly:"marriedFilingJointly",married_filing_separately:"marriedFilingSeparately",head_of_household:"headOfHousehold",qualifying_widower:"qualifyingWidower"},Yi=e=>{const[C,y]=Xe("review"),[R,M]=Xe(!1),[h,me]=Xe(null),[se,D]=Xe(!1),[Z,K]=Xe(!1),[n,Q]=Xe(""),[xe,N]=Xe(!1),[O,m]=Xe(null),[ae,s]=Xe(""),[ne,T]=Xe(!0),[S,ce]=Xe("en"),[f,et]=Xe(!1),[$e,Ye]=Xe(!1),[pt,oe]=Xe(!1),[H,Ge]=Xe(!1),[Se,Je]=Xe([]),[je,Re]=Xe(!1),b=_=>Hi[S()][_],Ue=(_,rt)=>_?rt?_.length===9?`${_.slice(0,3)}-${_.slice(3,5)}-${_.slice(5)}`:_:`***-**-${_.slice(-4)}`:"-",Me=(_,rt)=>_?rt?_:`****${_.slice(-4)}`:"-",fe=(_,rt)=>{e.onClientChange({[_]:rt}),M(!0),me(null)},nt=async()=>{try{await e.onSave(),M(!1),me({type:"success",text:"Client information saved successfully"}),setTimeout(()=>me(null),3e3)}catch(_){me({type:"error",text:_.message||"Failed to save"})}},St=()=>{const _={id:crypto.randomUUID(),firstName:"",lastName:"",relationship:"son",ssn:"",dateOfBirth:""},rt=e.client.dependents||[];fe("dependents",[...rt,_])},ut=(_,rt)=>{const Pe=[...e.client.dependents||[]];Pe[_]={...Pe[_],...rt},fe("dependents",Pe)},_t=_=>{const rt=[...e.client.dependents||[]];rt.splice(_,1),fe("dependents",rt)},Et=()=>{const _=e.client.filingStatus;return _==="married_filing_jointly"||_==="married_filing_separately"},Bt=(_,rt)=>{$t("=== ID Barcode Scan ==="),$t("Format:",rt),$t("Raw barcode data length:",_.length);const Pe=Cl(_);if(!Pe){$t("Failed to parse barcode data"),m({type:"error",text:"Could not parse ID barcode. Check console for debug info. Try scanning again or enter manually."}),setTimeout(()=>m(null),8e3);return}const He=_l(Pe);$t("Converted idInfo:",He),fe("idInfo",He),!e.client.firstName&&He.firstName&&fe("firstName",He.firstName),!e.client.lastName&&He.lastName&&fe("lastName",He.lastName),!e.client.middleName&&He.middleName&&fe("middleName",He.middleName),!e.client.dateOfBirth&&He.dateOfBirth&&fe("dateOfBirth",He.dateOfBirth),!e.client.address&&He.address&&fe("address",He.address),!e.client.city&&He.city&&fe("city",He.city),!e.client.state&&He.state&&fe("state",He.state),!e.client.zipCode&&He.zipCode&&fe("zipCode",He.zipCode);const Ne=[];He.firstName&&Ne.push("name"),He.idNumber&&Ne.push("ID#"),He.dateOfBirth&&Ne.push("DOB"),He.address&&Ne.push("address"),He.expirationDate&&Ne.push("exp");const vt=[He.firstName,He.lastName].filter(Boolean).join(" ")||"Unknown";m({type:"success",text:`ID scanned: ${vt}. Found: ${Ne.join(", ")||"partial data"}`}),setTimeout(()=>m(null),6e3),N(!1)},G=_=>{$t("=== MRZ Scan ==="),$t("MRZ Data:",_);const rt={idNumber:_.documentNumber,idState:_.issuingCountry,idType:_.documentType==="passport"?"passport":"state_id",firstName:_.firstName,middleName:_.middleName,lastName:_.lastName,dateOfBirth:_.dateOfBirth,gender:_.gender==="unknown"?void 0:_.gender,expirationDate:_.expirationDate,country:_.nationality};fe("idInfo",rt),!e.client.firstName&&_.firstName&&fe("firstName",_.firstName),!e.client.lastName&&_.lastName&&fe("lastName",_.lastName),!e.client.middleName&&_.middleName&&fe("middleName",_.middleName),!e.client.dateOfBirth&&_.dateOfBirth&&fe("dateOfBirth",_.dateOfBirth);const Pe=[];_.firstName&&Pe.push("name"),_.documentNumber&&Pe.push("doc#"),_.dateOfBirth&&Pe.push("DOB"),_.expirationDate&&Pe.push("exp"),_.nationality&&Pe.push("nationality");const He=_.documentType==="passport"?"Passport":"ID",Ne=[_.firstName,_.lastName].filter(Boolean).join(" ")||"Unknown";m({type:"success",text:`${He} scanned: ${Ne}. Found: ${Pe.join(", ")||"partial data"}`}),setTimeout(()=>m(null),6e3),N(!1)},le=()=>{const _=ae().trim();if(!_){m({type:"error",text:"Please scan or paste barcode data first."}),setTimeout(()=>m(null),3e3);return}Bt(_,"EXTERNAL"),s("")},ye=_=>{_.key==="Enter"&&(_.preventDefault(),le())},_e=_=>[_.firstName,"|",_.middleName||"","|",_.lastName,"|","|",fr(_.ssn),"|","|","|","|",_?.relationship||"","|","12","|",Qt(_.dateOfBirth)||"","|","|","|"].filter(Boolean).join(""),it=_=>{const rt=_e(_);Q(rt),K(!0)},ft=_=>{let rt=[_.firstName,"|",_.middleName||"","|",_.lastName,"|","|",fr(_.ssn),"|","|",Qt(_.dateOfBirth)||"","|",_?.occupation||"","|","|",_.phone,"|","|","|","|","|","|","|","|","|"].join(""),Pe="";_.filingStatus==="married_filing_jointly"&&(Pe=["|","|",_.spouse?.firstName,"|",_.spouse?.middleName||"","|",_.spouse?.lastName,"|","|",fr(_.spouse?.ssn),"|","|",Qt(_.spouse?.dateOfBirth)||"","|",_.spouse?.occupation||"","|","|",_.spouse?.phone,"|","|","|","|","|","|","|","|","|","|","|"].join(""));let He=[_.address,"|","|","|",_.zipCode,"|","|","|","|","|"].join("");return`${rt}${Pe}${He}`},ot=_=>{const rt=ft(_);Q(rt),K(!0)},Ct=_=>[_.bankName,"|",_.routingNumber||"","|",_.routingNumber||"","|",_.accountNumber||"","|",_.accountNumber||"","|"].join(""),bt=_=>{const rt=Ct(_);Q(rt),K(!0)},Ke=_=>{Q(_),K(!0)},xt={display:"flex","flex-direction":"column",gap:"1.5rem"},I={display:"flex","justify-content":"space-between","align-items":"center","flex-wrap":"wrap",gap:"1rem"},X={"font-size":"1.25rem","font-weight":"600",color:"var(--text-primary)",margin:"0"},J={display:"flex",gap:"0.5rem","border-bottom":"2px solid var(--border-color)","padding-bottom":"0"},de=_=>({padding:"0.75rem 1.5rem","font-size":"0.9375rem","font-weight":_?"600":"500",color:_?"var(--primary-color)":"var(--text-secondary)",background:"transparent",border:"none","border-bottom":_?"2px solid var(--primary-color)":"2px solid transparent",cursor:"pointer","margin-bottom":"-2px",transition:"all 0.2s"}),we={display:"grid","grid-template-columns":"repeat(auto-fill, minmax(280px, 1fr))",gap:"1.25rem","margin-top":"1.5rem"},W={display:"flex","flex-direction":"column",gap:"0.5rem"},Ie={"font-size":"0.875rem","font-weight":"500",color:"var(--text-secondary)"},F={padding:"0.75rem 1rem","font-size":"0.9375rem",border:"1px solid var(--border-color)","border-radius":"8px",background:"var(--surface-color)",color:"var(--text-primary)",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s"},V={...F,cursor:"pointer"},Oe={display:"flex","align-items":"center",gap:"0.75rem",padding:"0.75rem",background:"var(--surface-alt)","border-radius":"8px"},Ee={width:"18px",height:"18px",cursor:"pointer"},g={padding:"1.25rem",border:"1px solid var(--border-color)","border-radius":"12px",background:"var(--surface-alt)","margin-bottom":"1rem"},k={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"1rem"},De={padding:"0.5rem",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)","border-radius":"6px",color:"#ef4444",cursor:"pointer"},Ze={display:"flex","align-items":"center","justify-content":"center",gap:"0.5rem",padding:"1rem",border:"2px dashed var(--border-color)","border-radius":"12px",background:"transparent",color:"var(--text-secondary)",cursor:"pointer","font-size":"0.9375rem","font-weight":"500",transition:"all 0.2s"},be=_=>({padding:"0.75rem 1.5rem","font-size":"0.9375rem","font-weight":"600","border-radius":"8px",border:"none",background:_?"var(--surface-alt)":"linear-gradient(135deg, #22c55e 0%, #16a34a 100%)",color:_?"var(--text-secondary)":"white",cursor:_?"not-allowed":"pointer","box-shadow":_?"none":"0 4px 12px rgba(34, 197, 94, 0.3)",display:"flex","align-items":"center",gap:"0.5rem"}),Qe=_=>({padding:"0.75rem 1rem","border-radius":"8px","font-size":"0.875rem",background:_==="success"?"rgba(34, 197, 94, 0.1)":"rgba(239, 68, 68, 0.1)",color:_==="success"?"#22c55e":"#ef4444",border:`1px solid ${_==="success"?"#22c55e":"#ef4444"}`,display:"flex","align-items":"center",gap:"0.5rem"}),yt={"font-size":"1rem","font-weight":"600",color:"var(--text-primary)","margin-bottom":"1rem",display:"flex","align-items":"center",gap:"0.5rem"};return(()=>{var _=Li(),rt=_.firstChild,Pe=rt.firstChild,He=Pe.firstChild,Ne=He.nextSibling,vt=Pe.nextSibling,w=vt.firstChild,E=w.firstChild,ie=w.nextSibling,Fe=rt.nextSibling,L=Fe.firstChild,ee=L.nextSibling,ze=ee.nextSibling,at=ze.firstChild,Ve=at.nextSibling;Ve.nextSibling;var We=ze.nextSibling,ht=Fe.nextSibling;return r(He,X),Ne.style.setProperty("font-size","0.875rem"),Ne.style.setProperty("color","var(--text-secondary)"),Ne.style.setProperty("margin-top","0.25rem"),vt.style.setProperty("display","flex"),vt.style.setProperty("gap","0.75rem"),vt.style.setProperty("align-items","center"),w.$$mouseout=o=>{o.currentTarget.style.background="white",o.currentTarget.style.borderColor="var(--border-color)"},w.$$mouseover=o=>{o.currentTarget.style.background="var(--surface-alt)",o.currentTarget.style.borderColor="var(--primary-color)"},w.$$click=()=>ot(e.client),w.style.setProperty("padding","0.75rem 1rem"),w.style.setProperty("font-size","0.9375rem"),w.style.setProperty("font-weight","500"),w.style.setProperty("border-radius","8px"),w.style.setProperty("border","1px solid var(--border-color)"),w.style.setProperty("background","white"),w.style.setProperty("color","var(--text-primary)"),w.style.setProperty("cursor","pointer"),w.style.setProperty("display","flex"),w.style.setProperty("align-items","center"),w.style.setProperty("gap","0.5rem"),w.style.setProperty("transition","all 0.2s"),E.style.setProperty("width","18px"),E.style.setProperty("height","18px"),ie.$$click=nt,t(ie,i(u,{get when(){return e.isSaving},get fallback(){return[(()=>{var o=Ri();return o.style.setProperty("width","18px"),o.style.setProperty("height","18px"),o})(),"Save Changes"]},get children(){return[(()=>{var o=Yl();return o.style.setProperty("width","18px"),o.style.setProperty("height","18px"),o.style.setProperty("animation","spin 1s linear infinite"),o})(),"Saving..."]}})),t(_,i(u,{get when(){return h()},get children(){var o=Lr();return t(o,()=>h().text),v(P=>r(o,Qe(h().type),P)),o}}),Fe),r(Fe,J),L.$$click=()=>y("review"),ee.$$click=()=>y("personal"),t(Fe,i(u,{get when(){return Et()},get children(){var o=Vl();return o.$$click=()=>y("spouse"),v(P=>r(o,de(C()==="spouse"),P)),o}}),ze),ze.$$click=()=>y("dependents"),t(ze,()=>e.client.dependents?.length||0,Ve),We.$$click=()=>y("tax"),t(_,i(u,{get when(){return C()==="review"},get children(){var o=ei(),P=o.firstChild,z=P.firstChild,te=z.firstChild,l=te.nextSibling,$=l.firstChild,x=$.nextSibling,A=z.nextSibling,B=A.firstChild,ve=B.nextSibling,Le=P.nextSibling,Te=Le.firstChild,pe=Te.firstChild,Be=pe.firstChild,tt=Be.nextSibling,lt=pe.nextSibling,d=lt.firstChild,re=d.firstChild,ge=re.firstChild,q=ge.nextSibling,Ae=re.nextSibling,ke=Ae.firstChild,c=ke.nextSibling,U=Te.nextSibling,p=U.firstChild,mt=p.firstChild,ue=mt.nextSibling,qe=p.nextSibling,j=qe.firstChild,Dt=j.firstChild,Ce=Dt.firstChild,Rt=Ce.nextSibling,Ft=Dt.nextSibling,Ot=Ft.firstChild,Kt=Ot.nextSibling,Jt=Kt.firstChild,Yt=Ft.nextSibling,vr=Yt.firstChild,Lt=vr.nextSibling,dr=Yt.nextSibling,ur=dr.firstChild,$r=ur.nextSibling,yr=dr.nextSibling,Zt=yr.firstChild,cr=Zt.nextSibling,hr=yr.nextSibling,br=hr.firstChild,wr=br.nextSibling,er=U.nextSibling,tr=er.firstChild,Tr=tr.firstChild,kr=Tr.nextSibling,Xt=tr.nextSibling,Cr=Xt.firstChild,rr=Cr.firstChild,nr=rr.firstChild,lr=nr.nextSibling,Sr=rr.nextSibling,jr=Sr.firstChild,un=jr.nextSibling,Zr=Sr.nextSibling,Ur=Zr.firstChild,mn=Ur.nextSibling,gn=Zr.nextSibling,Hr=gn.firstChild,en=Hr.nextSibling,Rr=er.nextSibling,Ir=Rr.firstChild,fn=Ir.firstChild,tn=fn.nextSibling,Dn=Ir.nextSibling,Wr=Rr.nextSibling,Nr=Wr.firstChild,vn=Nr.firstChild,rn=vn.nextSibling,Fn=Nr.nextSibling,qr=Le.nextSibling,Dr=qr.firstChild,Yr=Dr.firstChild,hn=Yr.firstChild,nn=hn.nextSibling,Fr=Yr.nextSibling,ln=Dr.nextSibling;return o.style.setProperty("display","flex"),o.style.setProperty("flex-direction","column"),o.style.setProperty("gap","1rem"),o.style.setProperty("background","#f0f0eb"),o.style.setProperty("padding","1.5rem"),o.style.setProperty("border-radius","16px"),o.style.setProperty("margin","-1rem"),o.style.setProperty("margin-top","0"),P.style.setProperty("background","#ffffff"),P.style.setProperty("padding","1.5rem"),P.style.setProperty("border-radius","12px"),P.style.setProperty("border","1px solid #e3e8ee"),P.style.setProperty("position","relative"),z.style.setProperty("position","absolute"),z.style.setProperty("top","1rem"),z.style.setProperty("right","1rem"),z.style.setProperty("display","flex"),z.style.setProperty("gap","0.5rem"),z.style.setProperty("align-items","center"),te.$$mouseout=he=>he.currentTarget.style.background="#fafafa",te.$$mouseover=he=>he.currentTarget.style.background="#f0f0eb",te.$$click=()=>ql(e.client,S()),te.style.setProperty("padding","0.375rem 0.75rem"),te.style.setProperty("border-radius","8px"),te.style.setProperty("border","1px solid #e3e8ee"),te.style.setProperty("background","#fafafa"),te.style.setProperty("color","#1a1a1a"),te.style.setProperty("font-size","0.8125rem"),te.style.setProperty("font-weight","600"),te.style.setProperty("cursor","pointer"),te.style.setProperty("transition","all 0.2s"),te.style.setProperty("display","flex"),te.style.setProperty("align-items","center"),te.style.setProperty("gap","0.375rem"),l.style.setProperty("display","flex"),l.style.setProperty("gap","0.25rem"),l.style.setProperty("background","#f0f0eb"),l.style.setProperty("border-radius","8px"),l.style.setProperty("padding","0.25rem"),l.style.setProperty("border","1px solid #e3e8ee"),$.$$click=()=>ce("en"),$.style.setProperty("padding","0.375rem 0.75rem"),$.style.setProperty("border-radius","6px"),$.style.setProperty("border","none"),$.style.setProperty("font-size","0.8125rem"),$.style.setProperty("font-weight","600"),$.style.setProperty("cursor","pointer"),$.style.setProperty("transition","all 0.2s"),x.$$click=()=>ce("es"),x.style.setProperty("padding","0.375rem 0.75rem"),x.style.setProperty("border-radius","6px"),x.style.setProperty("border","none"),x.style.setProperty("font-size","0.8125rem"),x.style.setProperty("font-weight","600"),x.style.setProperty("cursor","pointer"),x.style.setProperty("transition","all 0.2s"),A.style.setProperty("text-align","center"),B.style.setProperty("margin","0 0 0.5rem 0"),B.style.setProperty("font-size","1.375rem"),B.style.setProperty("font-weight","600"),B.style.setProperty("color","#1a1a1a"),t(B,()=>b("clientInfoReview")),ve.style.setProperty("margin","0"),ve.style.setProperty("color","#7a7a7a"),ve.style.setProperty("font-size","0.9375rem"),t(ve,()=>b("reviewSubtitle")),Le.style.setProperty("display","grid"),Le.style.setProperty("grid-template-columns","repeat(auto-fit, minmax(340px, 1fr))"),Le.style.setProperty("gap","1rem"),Te.style.setProperty("background","white"),Te.style.setProperty("border-radius","12px"),Te.style.setProperty("border","1px solid #e3e8ee"),Te.style.setProperty("overflow","hidden"),pe.style.setProperty("background","#fafafa"),pe.style.setProperty("padding","0.875rem 1.25rem"),pe.style.setProperty("display","flex"),pe.style.setProperty("align-items","center"),pe.style.setProperty("gap","0.75rem"),pe.style.setProperty("border-bottom","1px solid #e3e8ee"),Be.style.setProperty("width","18px"),Be.style.setProperty("height","18px"),tt.style.setProperty("color","#1a1a1a"),tt.style.setProperty("font-weight","600"),tt.style.setProperty("font-size","0.9375rem"),t(tt,()=>b("filingInfo")),lt.style.setProperty("padding","1.25rem"),d.style.setProperty("display","flex"),d.style.setProperty("flex-direction","column"),d.style.setProperty("gap","0.875rem"),re.style.setProperty("display","flex"),re.style.setProperty("justify-content","space-between"),ge.style.setProperty("color","var(--text-secondary)"),ge.style.setProperty("font-size","0.8125rem"),ge.style.setProperty("font-weight","500"),t(ge,()=>b("taxYear")),q.style.setProperty("color","#1a1a1a"),q.style.setProperty("font-weight","500"),q.style.setProperty("background","#f0f0eb"),q.style.setProperty("padding","0.25rem 0.75rem"),q.style.setProperty("border-radius","12px"),q.style.setProperty("font-size","0.875rem"),q.style.setProperty("border","1px solid #e3e8ee"),t(q,()=>e.client.taxYear||new Date().getFullYear()),Ae.style.setProperty("display","flex"),Ae.style.setProperty("justify-content","space-between"),Ae.style.setProperty("align-items","flex-start"),ke.style.setProperty("color","var(--text-secondary)"),ke.style.setProperty("font-size","0.8125rem"),ke.style.setProperty("font-weight","500"),t(ke,()=>b("filingStatus")),c.style.setProperty("color","var(--text-primary)"),c.style.setProperty("font-weight","600"),c.style.setProperty("text-align","right"),t(c,(()=>{var he=ct(()=>!!e.client.filingStatus);return()=>he()?b(qi[e.client.filingStatus]):"-"})()),t(Te,i(u,{get when(){return e.client.federalRefund||e.client.federalOwe||e.client.stateReturns&&e.client.stateReturns.length>0},get children(){return[(()=>{var he=Gl(),dt=he.firstChild,wt=dt.nextSibling;return he.style.setProperty("padding","0.875rem 1.25rem"),he.style.setProperty("display","flex"),he.style.setProperty("align-items","center"),he.style.setProperty("gap","0.75rem"),he.style.setProperty("border-bottom","1px solid #e3e8ee"),dt.style.setProperty("width","18px"),dt.style.setProperty("height","18px"),wt.style.setProperty("color","#1a1a1a"),wt.style.setProperty("font-weight","600"),wt.style.setProperty("font-size","0.9375rem"),t(wt,()=>b("taxResults")),v(Tt=>{var st=e.client.federalRefund||e.client.stateReturns?.some(It=>It.refund)?"#dcfce7":"#fef2f2",gt=e.client.federalRefund?"#16a34a":"#dc2626";return st!==Tt.e&&((Tt.e=st)!=null?he.style.setProperty("background",st):he.style.removeProperty("background")),gt!==Tt.t&&or(dt,"fill",Tt.t=gt),Tt},{e:void 0,t:void 0}),he})(),(()=>{var he=Ql(),dt=he.firstChild,wt=dt.firstChild,Tt=wt.firstChild;return he.style.setProperty("padding","1.25rem"),dt.style.setProperty("display","flex"),dt.style.setProperty("flex-direction","column"),dt.style.setProperty("gap","0.875rem"),wt.style.setProperty("display","flex"),wt.style.setProperty("justify-content","space-between"),wt.style.setProperty("align-items","center"),wt.style.setProperty("padding","0.75rem"),wt.style.setProperty("background","#f8fafc"),wt.style.setProperty("border-radius","8px"),Tt.style.setProperty("color","var(--text-secondary)"),Tt.style.setProperty("font-size","0.8125rem"),Tt.style.setProperty("font-weight","600"),t(wt,i(u,{get when(){return e.client.federalRefund},get fallback(){return i(u,{get when(){return e.client.federalOwe},get children(){var st=jn();return st.firstChild,st.style.setProperty("color","#dc2626"),st.style.setProperty("font-weight","700"),st.style.setProperty("font-size","1.125rem"),t(st,()=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.client.federalOwe||0),null),st}})},get children(){var st=On();return st.firstChild,st.style.setProperty("color","#16a34a"),st.style.setProperty("font-weight","700"),st.style.setProperty("font-size","1.125rem"),t(st,()=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.client.federalRefund||0),null),st}}),null),t(dt,i(zt,{get each(){return e.client.stateReturns||[]},children:st=>(()=>{var gt=Ei(),It=gt.firstChild,At=It.firstChild;return gt.style.setProperty("display","flex"),gt.style.setProperty("justify-content","space-between"),gt.style.setProperty("align-items","center"),gt.style.setProperty("padding","0.75rem"),gt.style.setProperty("background","#f8fafc"),gt.style.setProperty("border-radius","8px"),It.style.setProperty("color","var(--text-secondary)"),It.style.setProperty("font-size","0.8125rem"),It.style.setProperty("font-weight","600"),t(It,()=>st.state,At),t(It,()=>b("state"),null),t(gt,i(u,{get when(){return st.refund},get fallback(){return i(u,{get when(){return st.owe},get children(){var kt=jn();return kt.firstChild,kt.style.setProperty("color","#dc2626"),kt.style.setProperty("font-weight","700"),kt.style.setProperty("font-size","1.125rem"),t(kt,()=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(st.owe||0),null),kt}})},get children(){var kt=On();return kt.firstChild,kt.style.setProperty("color","#16a34a"),kt.style.setProperty("font-weight","700"),kt.style.setProperty("font-size","1.125rem"),t(kt,()=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(st.refund||0),null),kt}}),null),gt})()}),null),t(dt,i(u,{get when(){return e.client.totalRefund||e.client.totalOwe},get children(){var st=_n(),gt=st.firstChild,It=gt.nextSibling;return st.style.setProperty("display","flex"),st.style.setProperty("justify-content","space-between"),st.style.setProperty("align-items","center"),st.style.setProperty("padding","0.75rem 1rem"),st.style.setProperty("border-radius","8px"),st.style.setProperty("border-top","2px solid #e5e7eb"),st.style.setProperty("margin-top","0.5rem"),gt.style.setProperty("color","#1a1a1a"),gt.style.setProperty("font-size","0.875rem"),gt.style.setProperty("font-weight","700"),t(gt,(()=>{var At=ct(()=>!!e.client.totalRefund);return()=>At()?b("totalRefund"):b("totalOwe")})()),It.style.setProperty("font-weight","800"),It.style.setProperty("font-size","1.25rem"),t(It,(()=>{var At=ct(()=>!!e.client.totalRefund);return()=>At()?`+${new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.client.totalRefund)}`:`-${new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.client.totalOwe||0)}`})()),v(At=>{var kt=e.client.totalRefund?"#dcfce7":"#fef2f2",Mt=e.client.totalRefund?"#16a34a":"#dc2626";return kt!==At.e&&((At.e=kt)!=null?st.style.setProperty("background",kt):st.style.removeProperty("background")),Mt!==At.t&&((At.t=Mt)!=null?It.style.setProperty("color",Mt):It.style.removeProperty("color")),At},{e:void 0,t:void 0}),st}}),null),he})()]}}),null),U.style.setProperty("background","white"),U.style.setProperty("border-radius","12px"),U.style.setProperty("border","1px solid #e3e8ee"),U.style.setProperty("overflow","hidden"),p.style.setProperty("background","#fafafa"),p.style.setProperty("padding","0.875rem 1.25rem"),p.style.setProperty("display","flex"),p.style.setProperty("align-items","center"),p.style.setProperty("gap","0.75rem"),p.style.setProperty("border-bottom","1px solid #e3e8ee"),mt.style.setProperty("width","18px"),mt.style.setProperty("height","18px"),ue.style.setProperty("color","#1a1a1a"),ue.style.setProperty("font-weight","600"),ue.style.setProperty("font-size","0.9375rem"),t(ue,()=>b("taxpayer")),t(p,i(Ut,{get text(){return[fr(e.client?.ssn),"|",fr(e.client?.ssn),"|",e.client?.firstName,"|",e.client.lastName].join("")||""},handle:Ke,label:""}),null),t(p,i(Ut,{get text(){return[e.client?.firstName,"|",e.client.middleName||"","|",e.client.lastName,"|","|",fr(e.client?.ssn),"|","|",Qt(e.client.dateOfBirth)||"","|",e.client?.occupation||"","|","|",e.client.phone,"|"].join("")||""},handle:Ke,label:""}),null),t(p,i(Ut,{get text(){return[e.client?.email||"","|",Qt(e.client.dateOfBirth)||"","|",e.client?.occupation||"","|","|",e.client.phone,"|"].join("")||""},handle:Ke,label:""}),null),qe.style.setProperty("padding","1.25rem"),j.style.setProperty("display","flex"),j.style.setProperty("flex-direction","column"),j.style.setProperty("gap","0.875rem"),Dt.style.setProperty("display","flex"),Dt.style.setProperty("justify-content","space-between"),Dt.style.setProperty("align-items","flex-start"),Ce.style.setProperty("color","var(--text-secondary)"),Ce.style.setProperty("font-size","0.8125rem"),Ce.style.setProperty("font-weight","500"),t(Ce,()=>b("fullName")),t(Dt,i(Ut,{get text(){return[e.client.firstName,e.client.lastName].join(" ")},handle:Ke,label:""}),Rt),Rt.style.setProperty("color","var(--text-primary)"),Rt.style.setProperty("font-weight","600"),Rt.style.setProperty("text-align","right"),t(Rt,()=>[e.client.firstName,e.client.middleName,e.client.lastName,e.client.suffix].filter(Boolean).join(" ")||"-"),Ft.style.setProperty("display","flex"),Ft.style.setProperty("justify-content","space-between"),Ft.style.setProperty("align-items","center"),Ot.style.setProperty("color","var(--text-secondary)"),Ot.style.setProperty("font-size","0.8125rem"),Ot.style.setProperty("font-weight","500"),t(Ot,()=>b("ssn")),Kt.style.setProperty("display","flex"),Kt.style.setProperty("align-items","center"),Kt.style.setProperty("gap","0.5rem"),Jt.style.setProperty("color","var(--text-primary)"),Jt.style.setProperty("font-weight","500"),Jt.style.setProperty("font-family","monospace"),t(Jt,()=>Ue(e.client.ssn,f())),t(Kt,i(u,{get when(){return e.client.ssn},get children(){var he=on();return he.$$click=()=>et(!f()),he.style.setProperty("padding","0.125rem 0.5rem"),he.style.setProperty("font-size","0.6875rem"),he.style.setProperty("font-weight","500"),he.style.setProperty("border-radius","10px"),he.style.setProperty("border","1px solid #e3e8ee"),he.style.setProperty("cursor","pointer"),he.style.setProperty("transition","all 0.2s"),t(he,(()=>{var dt=ct(()=>!!f());return()=>dt()?b("hide"):b("show")})()),v(dt=>{var wt=f()?"#1a1a1a":"#f0f0eb",Tt=f()?"white":"#7a7a7a";return wt!==dt.e&&((dt.e=wt)!=null?he.style.setProperty("background",wt):he.style.removeProperty("background")),Tt!==dt.t&&((dt.t=Tt)!=null?he.style.setProperty("color",Tt):he.style.removeProperty("color")),dt},{e:void 0,t:void 0}),he}}),null),Yt.style.setProperty("display","flex"),Yt.style.setProperty("justify-content","space-between"),vr.style.setProperty("color","var(--text-secondary)"),vr.style.setProperty("font-size","0.8125rem"),vr.style.setProperty("font-weight","500"),t(vr,()=>b("dateOfBirth")),Lt.style.setProperty("color","var(--text-primary)"),Lt.style.setProperty("font-weight","500"),t(Lt,()=>Gr(e.client.dateOfBirth,S()==="es"?"es-ES":"en-US",{month:"short",day:"numeric",year:"numeric"})),dr.style.setProperty("display","flex"),dr.style.setProperty("justify-content","space-between"),ur.style.setProperty("color","var(--text-secondary)"),ur.style.setProperty("font-size","0.8125rem"),ur.style.setProperty("font-weight","500"),t(ur,()=>b("occupation")),$r.style.setProperty("color","var(--text-primary)"),$r.style.setProperty("font-weight","500"),t($r,()=>e.client.occupation||"-"),yr.style.setProperty("display","flex"),yr.style.setProperty("justify-content","space-between"),Zt.style.setProperty("color","var(--text-secondary)"),Zt.style.setProperty("font-size","0.8125rem"),Zt.style.setProperty("font-weight","500"),t(Zt,()=>b("email")),cr.style.setProperty("color","var(--text-primary)"),cr.style.setProperty("font-weight","500"),cr.style.setProperty("font-size","0.875rem"),t(cr,()=>e.client.email||"-"),hr.style.setProperty("display","flex"),hr.style.setProperty("justify-content","space-between"),br.style.setProperty("color","var(--text-secondary)"),br.style.setProperty("font-size","0.8125rem"),br.style.setProperty("font-weight","500"),t(br,()=>b("phone")),wr.style.setProperty("color","var(--text-primary)"),wr.style.setProperty("font-weight","500"),t(wr,()=>e.client.phone||"-"),er.style.setProperty("background","white"),er.style.setProperty("border-radius","12px"),er.style.setProperty("border","1px solid #e3e8ee"),er.style.setProperty("overflow","hidden"),tr.style.setProperty("background","#fafafa"),tr.style.setProperty("padding","0.875rem 1.25rem"),tr.style.setProperty("display","flex"),tr.style.setProperty("align-items","center"),tr.style.setProperty("gap","0.75rem"),tr.style.setProperty("border-bottom","1px solid #e3e8ee"),Tr.style.setProperty("width","18px"),Tr.style.setProperty("height","18px"),kr.style.setProperty("color","#1a1a1a"),kr.style.setProperty("font-weight","600"),kr.style.setProperty("font-size","0.9375rem"),t(kr,()=>b("address")),t(tr,i(Ut,{get text(){return[e.client.address,"|","|",e.client.apt,"|",e.client.zipCode,"|"].join("")||""},handle:Ke,label:""}),null),Xt.style.setProperty("padding","1.25rem"),Cr.style.setProperty("display","flex"),Cr.style.setProperty("flex-direction","column"),Cr.style.setProperty("gap","0.875rem"),rr.style.setProperty("display","flex"),rr.style.setProperty("justify-content","space-between"),rr.style.setProperty("align-items","flex-start"),nr.style.setProperty("color","var(--text-secondary)"),nr.style.setProperty("font-size","0.8125rem"),nr.style.setProperty("font-weight","500"),t(nr,()=>b("street")),lr.style.setProperty("color","var(--text-primary)"),lr.style.setProperty("font-weight","500"),lr.style.setProperty("text-align","right"),lr.style.setProperty("max-width","60%"),t(lr,()=>[e.client.address,e.client.apt?`Apt ${e.client.apt}`:""].filter(Boolean).join(", ")||"-"),Sr.style.setProperty("display","flex"),Sr.style.setProperty("justify-content","space-between"),jr.style.setProperty("color","var(--text-secondary)"),jr.style.setProperty("font-size","0.8125rem"),jr.style.setProperty("font-weight","500"),t(jr,()=>b("city")),un.style.setProperty("color","var(--text-primary)"),un.style.setProperty("font-weight","500"),t(un,()=>e.client.city||"-"),Zr.style.setProperty("display","flex"),Zr.style.setProperty("justify-content","space-between"),Ur.style.setProperty("color","var(--text-secondary)"),Ur.style.setProperty("font-size","0.8125rem"),Ur.style.setProperty("font-weight","500"),t(Ur,()=>b("state")),mn.style.setProperty("color","var(--text-primary)"),mn.style.setProperty("font-weight","500"),t(mn,()=>e.client.state||"-"),gn.style.setProperty("display","flex"),gn.style.setProperty("justify-content","space-between"),Hr.style.setProperty("color","var(--text-secondary)"),Hr.style.setProperty("font-size","0.8125rem"),Hr.style.setProperty("font-weight","500"),t(Hr,()=>b("zipCode")),en.style.setProperty("color","var(--text-primary)"),en.style.setProperty("font-weight","500"),en.style.setProperty("font-family","monospace"),t(en,()=>e.client.zipCode||"-"),t(Le,i(u,{get when(){return Et()},get children(){var he=Xl(),dt=he.firstChild,wt=dt.firstChild,Tt=wt.nextSibling,st=dt.nextSibling,gt=st.firstChild,It=gt.firstChild,At=It.firstChild,kt=At.nextSibling,Mt=It.nextSibling,Ht=Mt.firstChild,Wt=Ht.nextSibling,Vt=Wt.firstChild,Gt=Mt.nextSibling,qt=Gt.firstChild,Pt=qt.nextSibling,Nt=Gt.nextSibling,jt=Nt.firstChild,mr=jt.nextSibling,bn=Nt.nextSibling,Vr=bn.firstChild,xn=Vr.nextSibling;return he.style.setProperty("background","white"),he.style.setProperty("border-radius","12px"),he.style.setProperty("border","1px solid #e3e8ee"),he.style.setProperty("overflow","hidden"),dt.style.setProperty("background","#fafafa"),dt.style.setProperty("padding","0.875rem 1.25rem"),dt.style.setProperty("display","flex"),dt.style.setProperty("align-items","center"),dt.style.setProperty("gap","0.75rem"),dt.style.setProperty("border-bottom","1px solid #e3e8ee"),wt.style.setProperty("width","18px"),wt.style.setProperty("height","18px"),Tt.style.setProperty("color","#1a1a1a"),Tt.style.setProperty("font-weight","600"),Tt.style.setProperty("font-size","0.9375rem"),t(Tt,()=>b("spouse")),t(dt,i(Ut,{get text(){return[e.client?.spouse?.firstName,"|",e.client.spouse?.middleName||"","|",e.client.spouse?.lastName,"|","|",fr(e.client?.spouse?.ssn),"|","|",Qt(e.client.spouse?.dateOfBirth)||"","|",e.client?.spouse?.occupation||"","|","|",e.client.spouse?.phone,"|"].join("")||""},handle:Ke,label:""}),null),t(dt,i(Ut,{get text(){return[e.client?.spouse?.firstName," ",e.client.spouse?.lastName].join("")||""},handle:Ke,label:""}),null),st.style.setProperty("padding","1.25rem"),gt.style.setProperty("display","flex"),gt.style.setProperty("flex-direction","column"),gt.style.setProperty("gap","0.875rem"),It.style.setProperty("display","flex"),It.style.setProperty("justify-content","space-between"),It.style.setProperty("align-items","flex-start"),At.style.setProperty("color","var(--text-secondary)"),At.style.setProperty("font-size","0.8125rem"),At.style.setProperty("font-weight","500"),t(At,()=>b("fullName")),kt.style.setProperty("color","var(--text-primary)"),kt.style.setProperty("font-weight","600"),kt.style.setProperty("text-align","right"),t(kt,()=>[e.client.spouse?.firstName,e.client.spouse?.middleName,e.client.spouse?.lastName].filter(Boolean).join(" ")||"-"),Mt.style.setProperty("display","flex"),Mt.style.setProperty("justify-content","space-between"),Mt.style.setProperty("align-items","center"),Ht.style.setProperty("color","var(--text-secondary)"),Ht.style.setProperty("font-size","0.8125rem"),Ht.style.setProperty("font-weight","500"),t(Ht,()=>b("ssn")),Wt.style.setProperty("display","flex"),Wt.style.setProperty("align-items","center"),Wt.style.setProperty("gap","0.5rem"),Vt.style.setProperty("color","var(--text-primary)"),Vt.style.setProperty("font-weight","500"),Vt.style.setProperty("font-family","monospace"),t(Vt,()=>Ue(e.client.spouse?.ssn,$e())),t(Wt,i(u,{get when(){return e.client.spouse?.ssn},get children(){var gr=on();return gr.$$click=()=>Ye(!$e()),gr.style.setProperty("padding","0.125rem 0.5rem"),gr.style.setProperty("font-size","0.6875rem"),gr.style.setProperty("font-weight","500"),gr.style.setProperty("border-radius","10px"),gr.style.setProperty("border","1px solid #e3e8ee"),gr.style.setProperty("cursor","pointer"),gr.style.setProperty("transition","all 0.2s"),t(gr,(()=>{var Er=ct(()=>!!$e());return()=>Er()?b("hide"):b("show")})()),v(Er=>{var Pn=$e()?"#1a1a1a":"#f0f0eb",$n=$e()?"white":"#7a7a7a";return Pn!==Er.e&&((Er.e=Pn)!=null?gr.style.setProperty("background",Pn):gr.style.removeProperty("background")),$n!==Er.t&&((Er.t=$n)!=null?gr.style.setProperty("color",$n):gr.style.removeProperty("color")),Er},{e:void 0,t:void 0}),gr}}),null),Gt.style.setProperty("display","flex"),Gt.style.setProperty("justify-content","space-between"),qt.style.setProperty("color","var(--text-secondary)"),qt.style.setProperty("font-size","0.8125rem"),qt.style.setProperty("font-weight","500"),t(qt,()=>b("dateOfBirth")),Pt.style.setProperty("color","var(--text-primary)"),Pt.style.setProperty("font-weight","500"),t(Pt,()=>Gr(e.client.spouse?.dateOfBirth,S()==="es"?"es-ES":"en-US",{month:"short",day:"numeric",year:"numeric"})),Nt.style.setProperty("display","flex"),Nt.style.setProperty("justify-content","space-between"),jt.style.setProperty("color","var(--text-secondary)"),jt.style.setProperty("font-size","0.8125rem"),jt.style.setProperty("font-weight","500"),t(jt,()=>b("occupation")),mr.style.setProperty("color","var(--text-primary)"),mr.style.setProperty("font-weight","500"),t(mr,()=>e.client.spouse?.occupation||"-"),bn.style.setProperty("display","flex"),bn.style.setProperty("justify-content","space-between"),Vr.style.setProperty("color","var(--text-secondary)"),Vr.style.setProperty("font-size","0.8125rem"),Vr.style.setProperty("font-weight","500"),t(Vr,()=>b("phone")),xn.style.setProperty("color","var(--text-primary)"),xn.style.setProperty("font-weight","500"),t(xn,()=>e.client.spouse?.phone||"-"),he}}),Rr),Rr.style.setProperty("background","white"),Rr.style.setProperty("border-radius","12px"),Rr.style.setProperty("border","1px solid #e3e8ee"),Rr.style.setProperty("overflow","hidden"),Ir.style.setProperty("background","#fafafa"),Ir.style.setProperty("padding","0.875rem 1.25rem"),Ir.style.setProperty("display","flex"),Ir.style.setProperty("align-items","center"),Ir.style.setProperty("gap","0.75rem"),Ir.style.setProperty("border-bottom","1px solid #e3e8ee"),fn.style.setProperty("width","18px"),fn.style.setProperty("height","18px"),tn.style.setProperty("color","#1a1a1a"),tn.style.setProperty("font-weight","600"),tn.style.setProperty("font-size","0.9375rem"),t(tn,()=>b("idInfo")),t(Ir,i(Ut,{get text(){return[e.client.idInfo?.idNumber||"","|",e.client.idInfo?.idState||"","|",Qt(e.client.idInfo?.issueDate)||"","|","|",Qt(e.client.idInfo?.expirationDate)||"","|"].join("")||""},handle:Ke,label:""}),null),Dn.style.setProperty("padding","1.25rem"),t(Dn,i(u,{get when(){return e.client.idInfo?.idNumber},get fallback(){return(()=>{var he=Lr();return he.style.setProperty("color","var(--text-secondary)"),he.style.setProperty("font-style","italic"),he.style.setProperty("text-align","center"),he.style.setProperty("padding","1rem"),t(he,()=>b("noIdInfo")),he})()},get children(){var he=Kl(),dt=he.firstChild,wt=dt.firstChild,Tt=wt.nextSibling,st=dt.nextSibling,gt=st.firstChild,It=gt.nextSibling,At=st.nextSibling,kt=At.firstChild,Mt=kt.nextSibling,Ht=At.nextSibling,Wt=Ht.firstChild,Vt=Wt.nextSibling,Gt=Ht.nextSibling,qt=Gt.firstChild,Pt=qt.nextSibling;return he.style.setProperty("display","flex"),he.style.setProperty("flex-direction","column"),he.style.setProperty("gap","0.875rem"),dt.style.setProperty("display","flex"),dt.style.setProperty("justify-content","space-between"),wt.style.setProperty("color","var(--text-secondary)"),wt.style.setProperty("font-size","0.8125rem"),wt.style.setProperty("font-weight","500"),t(wt,()=>b("idType")),Tt.style.setProperty("color","var(--text-primary)"),Tt.style.setProperty("font-weight","500"),t(Tt,(()=>{var Nt=ct(()=>e.client.idInfo?.idType==="drivers_license");return()=>Nt()?b("driversLicense"):ct(()=>e.client.idInfo?.idType==="state_id")()?b("stateId"):ct(()=>e.client.idInfo?.idType==="passport")()?b("passport"):b("other")})()),st.style.setProperty("display","flex"),st.style.setProperty("justify-content","space-between"),gt.style.setProperty("color","var(--text-secondary)"),gt.style.setProperty("font-size","0.8125rem"),gt.style.setProperty("font-weight","500"),t(gt,()=>b("idNumber")),It.style.setProperty("color","var(--text-primary)"),It.style.setProperty("font-weight","500"),It.style.setProperty("font-family","monospace"),t(It,()=>e.client.idInfo?.idNumber||"-"),At.style.setProperty("display","flex"),At.style.setProperty("justify-content","space-between"),kt.style.setProperty("color","var(--text-secondary)"),kt.style.setProperty("font-size","0.8125rem"),kt.style.setProperty("font-weight","500"),t(kt,()=>b("issuingState")),Mt.style.setProperty("color","var(--text-primary)"),Mt.style.setProperty("font-weight","500"),t(Mt,()=>e.client.idInfo?.idState||"-"),Ht.style.setProperty("display","flex"),Ht.style.setProperty("justify-content","space-between"),Wt.style.setProperty("color","var(--text-secondary)"),Wt.style.setProperty("font-size","0.8125rem"),Wt.style.setProperty("font-weight","500"),t(Wt,()=>b("issueDate")),Vt.style.setProperty("color","var(--text-primary)"),Vt.style.setProperty("font-weight","500"),t(Vt,()=>Gr(e.client.idInfo?.issueDate,S()==="es"?"es-ES":"en-US",{month:"short",day:"numeric",year:"numeric"})),Gt.style.setProperty("display","flex"),Gt.style.setProperty("justify-content","space-between"),qt.style.setProperty("color","var(--text-secondary)"),qt.style.setProperty("font-size","0.8125rem"),qt.style.setProperty("font-weight","500"),t(qt,()=>b("expiration")),Pt.style.setProperty("color","var(--text-primary)"),Pt.style.setProperty("font-weight","500"),t(Pt,()=>Gr(e.client.idInfo?.expirationDate,S()==="es"?"es-ES":"en-US",{month:"short",day:"numeric",year:"numeric"})),he}})),Wr.style.setProperty("background","white"),Wr.style.setProperty("border-radius","12px"),Wr.style.setProperty("border","1px solid #e3e8ee"),Wr.style.setProperty("overflow","hidden"),Nr.style.setProperty("background","#fafafa"),Nr.style.setProperty("padding","0.875rem 1.25rem"),Nr.style.setProperty("display","flex"),Nr.style.setProperty("align-items","center"),Nr.style.setProperty("gap","0.75rem"),Nr.style.setProperty("border-bottom","1px solid #e3e8ee"),vn.style.setProperty("width","18px"),vn.style.setProperty("height","18px"),rn.style.setProperty("color","#1a1a1a"),rn.style.setProperty("font-weight","600"),rn.style.setProperty("font-size","0.9375rem"),t(rn,()=>b("bankAccount")),t(Nr,i(Ut,{get text(){return[e.client.bankInfo?.bankName||"","|",e.client.bankInfo?.routingNumber||"","|",e.client.bankInfo?.routingNumber||"","|",e.client.bankInfo?.accountNumber||"","|",e.client.bankInfo?.accountNumber||""].join("")||""},handle:Ke,label:""}),null),Fn.style.setProperty("padding","1.25rem"),t(Fn,i(u,{get when(){return e.client.bankInfo?.accountNumber},get fallback(){return(()=>{var he=Lr();return he.style.setProperty("color","var(--text-secondary)"),he.style.setProperty("font-style","italic"),he.style.setProperty("text-align","center"),he.style.setProperty("padding","1rem"),t(he,()=>b("noBankInfo")),he})()},get children(){var he=Jl(),dt=he.firstChild,wt=dt.firstChild,Tt=wt.nextSibling,st=dt.nextSibling,gt=st.firstChild,It=gt.nextSibling,At=st.nextSibling,kt=At.firstChild,Mt=kt.nextSibling,Ht=Mt.firstChild,Wt=At.nextSibling,Vt=Wt.firstChild,Gt=Vt.nextSibling,qt=Gt.firstChild;return he.style.setProperty("display","flex"),he.style.setProperty("flex-direction","column"),he.style.setProperty("gap","0.875rem"),dt.style.setProperty("display","flex"),dt.style.setProperty("justify-content","space-between"),wt.style.setProperty("color","var(--text-secondary)"),wt.style.setProperty("font-size","0.8125rem"),wt.style.setProperty("font-weight","500"),t(wt,()=>b("bankName")),Tt.style.setProperty("color","var(--text-primary)"),Tt.style.setProperty("font-weight","600"),t(Tt,()=>e.client.bankInfo?.bankName||"-"),st.style.setProperty("display","flex"),st.style.setProperty("justify-content","space-between"),gt.style.setProperty("color","var(--text-secondary)"),gt.style.setProperty("font-size","0.8125rem"),gt.style.setProperty("font-weight","500"),t(gt,()=>b("accountType")),It.style.setProperty("color","#1a1a1a"),It.style.setProperty("font-weight","500"),It.style.setProperty("background","#f0f0eb"),It.style.setProperty("padding","0.125rem 0.5rem"),It.style.setProperty("border-radius","10px"),It.style.setProperty("font-size","0.75rem"),It.style.setProperty("border","1px solid #e3e8ee"),t(It,(()=>{var Pt=ct(()=>e.client.bankInfo?.accountType==="checking");return()=>Pt()?b("checking"):ct(()=>e.client.bankInfo?.accountType==="savings")()?b("savings"):"-"})()),At.style.setProperty("display","flex"),At.style.setProperty("justify-content","space-between"),At.style.setProperty("align-items","center"),kt.style.setProperty("color","var(--text-secondary)"),kt.style.setProperty("font-size","0.8125rem"),kt.style.setProperty("font-weight","500"),t(kt,()=>b("routingNumber")),Mt.style.setProperty("display","flex"),Mt.style.setProperty("align-items","center"),Mt.style.setProperty("gap","0.5rem"),Ht.style.setProperty("color","var(--text-primary)"),Ht.style.setProperty("font-weight","500"),Ht.style.setProperty("font-family","monospace"),t(Ht,()=>Me(e.client.bankInfo?.routingNumber,H())),t(Mt,i(u,{get when(){return e.client.bankInfo?.routingNumber},get children(){var Pt=on();return Pt.$$click=()=>Ge(!H()),Pt.style.setProperty("padding","0.125rem 0.5rem"),Pt.style.setProperty("font-size","0.6875rem"),Pt.style.setProperty("font-weight","500"),Pt.style.setProperty("border-radius","10px"),Pt.style.setProperty("border","1px solid #e3e8ee"),Pt.style.setProperty("cursor","pointer"),Pt.style.setProperty("transition","all 0.2s"),t(Pt,(()=>{var Nt=ct(()=>!!H());return()=>Nt()?b("hide"):b("show")})()),v(Nt=>{var jt=H()?"#1a1a1a":"#f0f0eb",mr=H()?"white":"#7a7a7a";return jt!==Nt.e&&((Nt.e=jt)!=null?Pt.style.setProperty("background",jt):Pt.style.removeProperty("background")),mr!==Nt.t&&((Nt.t=mr)!=null?Pt.style.setProperty("color",mr):Pt.style.removeProperty("color")),Nt},{e:void 0,t:void 0}),Pt}}),null),Wt.style.setProperty("display","flex"),Wt.style.setProperty("justify-content","space-between"),Wt.style.setProperty("align-items","center"),Vt.style.setProperty("color","var(--text-secondary)"),Vt.style.setProperty("font-size","0.8125rem"),Vt.style.setProperty("font-weight","500"),t(Vt,()=>b("accountNumber")),Gt.style.setProperty("display","flex"),Gt.style.setProperty("align-items","center"),Gt.style.setProperty("gap","0.5rem"),qt.style.setProperty("color","var(--text-primary)"),qt.style.setProperty("font-weight","500"),qt.style.setProperty("font-family","monospace"),t(qt,()=>Me(e.client.bankInfo?.accountNumber,pt())),t(Gt,i(u,{get when(){return e.client.bankInfo?.accountNumber},get children(){var Pt=on();return Pt.$$click=()=>oe(!pt()),Pt.style.setProperty("padding","0.125rem 0.5rem"),Pt.style.setProperty("font-size","0.6875rem"),Pt.style.setProperty("font-weight","500"),Pt.style.setProperty("border-radius","10px"),Pt.style.setProperty("border","1px solid #e3e8ee"),Pt.style.setProperty("cursor","pointer"),Pt.style.setProperty("transition","all 0.2s"),t(Pt,(()=>{var Nt=ct(()=>!!pt());return()=>Nt()?b("hide"):b("show")})()),v(Nt=>{var jt=pt()?"#1a1a1a":"#f0f0eb",mr=pt()?"white":"#7a7a7a";return jt!==Nt.e&&((Nt.e=jt)!=null?Pt.style.setProperty("background",jt):Pt.style.removeProperty("background")),mr!==Nt.t&&((Nt.t=mr)!=null?Pt.style.setProperty("color",mr):Pt.style.removeProperty("color")),Nt},{e:void 0,t:void 0}),Pt}}),null),t(he,i(u,{get when(){return e.client.bankInfo?.accountHolderName},get children(){var Pt=_n(),Nt=Pt.firstChild,jt=Nt.nextSibling;return Pt.style.setProperty("display","flex"),Pt.style.setProperty("justify-content","space-between"),Nt.style.setProperty("color","var(--text-secondary)"),Nt.style.setProperty("font-size","0.8125rem"),Nt.style.setProperty("font-weight","500"),t(Nt,()=>b("accountHolder")),jt.style.setProperty("color","var(--text-primary)"),jt.style.setProperty("font-weight","500"),t(jt,()=>e.client.bankInfo?.accountHolderName),Pt}}),null),he}})),qr.style.setProperty("background","white"),qr.style.setProperty("border-radius","12px"),qr.style.setProperty("border","1px solid #e3e8ee"),qr.style.setProperty("overflow","hidden"),Dr.style.setProperty("background","#fafafa"),Dr.style.setProperty("padding","0.875rem 1.25rem"),Dr.style.setProperty("display","flex"),Dr.style.setProperty("align-items","center"),Dr.style.setProperty("justify-content","space-between"),Dr.style.setProperty("border-bottom","1px solid #e3e8ee"),Yr.style.setProperty("display","flex"),Yr.style.setProperty("align-items","center"),Yr.style.setProperty("gap","0.75rem"),hn.style.setProperty("width","18px"),hn.style.setProperty("height","18px"),nn.style.setProperty("color","#1a1a1a"),nn.style.setProperty("font-weight","600"),nn.style.setProperty("font-size","0.9375rem"),t(nn,()=>b("dependents")),Fr.style.setProperty("background","#f0f0eb"),Fr.style.setProperty("color","#1a1a1a"),Fr.style.setProperty("padding","0.25rem 0.75rem"),Fr.style.setProperty("border-radius","12px"),Fr.style.setProperty("font-size","0.875rem"),Fr.style.setProperty("font-weight","500"),Fr.style.setProperty("border","1px solid #e3e8ee"),t(Fr,()=>e.client.dependents?.length||0),ln.style.setProperty("padding","1.25rem"),t(ln,i(u,{get when(){return e.client.hasNoDependents},get children(){var he=Zl(),dt=he.firstChild,wt=dt.nextSibling;return he.style.setProperty("display","flex"),he.style.setProperty("align-items","center"),he.style.setProperty("justify-content","center"),he.style.setProperty("gap","0.5rem"),he.style.setProperty("padding","1.5rem"),he.style.setProperty("background","#f0f0eb"),he.style.setProperty("border-radius","10px"),he.style.setProperty("color","#1a1a1a"),he.style.setProperty("border","1px solid #e3e8ee"),dt.style.setProperty("width","18px"),dt.style.setProperty("height","18px"),wt.style.setProperty("font-weight","500"),t(wt,()=>b("noDependentsConfirmed")),he}}),null),t(ln,i(u,{get when(){return!e.client.hasNoDependents&&(!e.client.dependents||e.client.dependents.length===0)},get children(){var he=Lr();return he.style.setProperty("color","var(--text-secondary)"),he.style.setProperty("font-style","italic"),he.style.setProperty("text-align","center"),he.style.setProperty("padding","1.5rem"),t(he,()=>b("noDependentsAdded")),he}}),null),t(ln,i(u,{get when(){return!e.client.hasNoDependents&&e.client.dependents&&e.client.dependents.length>0},get children(){var he=Lr();return he.style.setProperty("display","grid"),he.style.setProperty("grid-template-columns","repeat(auto-fit, minmax(280px, 1fr))"),he.style.setProperty("gap","1rem"),t(he,i(zt,{get each(){return e.client.dependents},children:(dt,wt)=>(()=>{var Tt=Mi(),st=Tt.firstChild,gt=st.firstChild,It=gt.nextSibling,At=It.firstChild,kt=At.nextSibling,Mt=st.nextSibling,Ht=Mt.firstChild,Wt=Ht.firstChild,Vt=Wt.nextSibling,Gt=Ht.nextSibling,qt=Gt.firstChild,Pt=qt.nextSibling;return Tt.style.setProperty("padding","1rem"),Tt.style.setProperty("background","#fafafa"),Tt.style.setProperty("border-radius","10px"),Tt.style.setProperty("border","1px solid #e3e8ee"),st.style.setProperty("display","flex"),st.style.setProperty("align-items","center"),st.style.setProperty("gap","0.75rem"),st.style.setProperty("margin-bottom","0.875rem"),gt.style.setProperty("width","28px"),gt.style.setProperty("height","28px"),gt.style.setProperty("border-radius","50%"),gt.style.setProperty("background","#f0f0eb"),gt.style.setProperty("border","1px solid #e3e8ee"),gt.style.setProperty("display","flex"),gt.style.setProperty("align-items","center"),gt.style.setProperty("justify-content","center"),gt.style.setProperty("color","#1a1a1a"),gt.style.setProperty("font-weight","600"),gt.style.setProperty("font-size","0.8125rem"),t(gt,()=>wt()+1),At.style.setProperty("font-weight","600"),At.style.setProperty("color","var(--text-primary)"),t(At,()=>[dt.firstName,dt.lastName].filter(Boolean).join(" ")||"Unnamed"),kt.style.setProperty("font-size","0.75rem"),kt.style.setProperty("color","var(--text-secondary)"),t(kt,()=>b(Wi[dt.relationship])||dt.relationship||"-"),Mt.style.setProperty("display","flex"),Mt.style.setProperty("flex-direction","column"),Mt.style.setProperty("gap","0.5rem"),Mt.style.setProperty("font-size","0.875rem"),Ht.style.setProperty("display","flex"),Ht.style.setProperty("justify-content","space-between"),Wt.style.setProperty("color","var(--text-secondary)"),t(Wt,()=>b("ssn")),Vt.style.setProperty("color","var(--text-primary)"),Vt.style.setProperty("font-family","monospace"),t(Vt,(()=>{var Nt=ct(()=>!!dt.ssn);return()=>Nt()?`***-**-${dt.ssn.slice(-4)}`:"-"})()),Gt.style.setProperty("display","flex"),Gt.style.setProperty("justify-content","space-between"),qt.style.setProperty("color","var(--text-secondary)"),t(qt,()=>b("dateOfBirth")),Pt.style.setProperty("color","var(--text-primary)"),t(Pt,()=>Gr(dt.dateOfBirth,S()==="es"?"es-ES":"en-US",{month:"short",day:"numeric",year:"numeric"})),t(Mt,i(u,{get when(){return dt.monthsLivedWithYou},get children(){var Nt=_n(),jt=Nt.firstChild,mr=jt.nextSibling;return Nt.style.setProperty("display","flex"),Nt.style.setProperty("justify-content","space-between"),jt.style.setProperty("color","var(--text-secondary)"),t(jt,()=>b("monthsLived")),mr.style.setProperty("color","var(--text-primary)"),t(mr,()=>dt.monthsLivedWithYou),Nt}}),null),Tt})()})),he}}),null),v(he=>{var dt=S()==="es"?"Descargar PDF":"Download PDF",wt=S()==="en"?"white":"transparent",Tt=S()==="en"?"#1a1a1a":"#7a7a7a",st=S()==="es"?"white":"transparent",gt=S()==="es"?"#1a1a1a":"#7a7a7a";return dt!==he.e&&or(te,"title",he.e=dt),wt!==he.t&&((he.t=wt)!=null?$.style.setProperty("background",wt):$.style.removeProperty("background")),Tt!==he.a&&((he.a=Tt)!=null?$.style.setProperty("color",Tt):$.style.removeProperty("color")),st!==he.o&&((he.o=st)!=null?x.style.setProperty("background",st):x.style.removeProperty("background")),gt!==he.i&&((he.i=gt)!=null?x.style.setProperty("color",gt):x.style.removeProperty("color")),he},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),o}}),ht),t(_,i(u,{get when(){return C()==="personal"},get children(){return i(xr,{get children(){return[(()=>{var o=ti(),P=o.firstChild;return P.nextSibling,P.style.setProperty("width","20px"),P.style.setProperty("height","20px"),P.style.setProperty("color","#3b82f6"),t(o,i(Ut,{get text(){return[e.client?.firstName,"|",e.client.middleName||"","|",e.client.lastName,"|","|",fr(e.client?.ssn),"|","|",Qt(e.client.dateOfBirth)||"","|",e.client?.occupation||"","|","|",e.client.phone,"|"].join("")||""},handle:Ke,label:""}),null),v(z=>r(o,yt,z)),o})(),(()=>{var o=ri(),P=o.firstChild,z=P.firstChild,te=P.nextSibling,l=te.firstChild,$=l.nextSibling,x=te.nextSibling,A=x.firstChild,B=A.nextSibling,ve=x.nextSibling,Le=ve.firstChild,Te=Le.nextSibling,pe=ve.nextSibling,Be=pe.firstChild,tt=pe.nextSibling,lt=tt.firstChild,d=tt.nextSibling,re=d.firstChild,ge=re.nextSibling,q=d.nextSibling,Ae=q.firstChild,ke=Ae.nextSibling,c=q.nextSibling,U=c.firstChild;return t(P,i(Ut,{get text(){return e.client.firstName+(e.client.middleName?" "+e.client.middleName+" ":" ")+e.client.lastName||""},handle:Ke,label:"First Name *"}),z),z.$$input=p=>fe("firstName",p.currentTarget.value),$.$$input=p=>fe("middleName",p.currentTarget.value),B.$$input=p=>fe("lastName",p.currentTarget.value),Te.addEventListener("change",p=>fe("suffix",p.currentTarget.value||void 0)),t(pe,i(Ut,{get text(){return e.client?.ssn||""},handle:Ke,label:"SSN"}),Be),Be.$$input=p=>fe("ssn",p.currentTarget.value),t(tt,i(Ut,{get text(){return Qt(e.client?.spouse?.dateOfBirth)||""},handle:Ke,label:"Date of Birth"}),lt),lt.$$input=p=>fe("dateOfBirth",p.currentTarget.value),ge.$$input=p=>fe("occupation",p.currentTarget.value),ke.$$input=p=>fe("email",p.currentTarget.value),t(c,i(Ut,{get text(){return e.client.phone||""},handle:Ke,label:"Phone"}),U),U.$$input=p=>fe("phone",p.currentTarget.value),v(p=>{var mt=we,ue=W,qe=F,j=W,Dt=Ie,Ce=F,Rt=W,Ft=Ie,Ot=F,Kt=W,Jt=Ie,Yt=V,vr=W,Lt=F,dr=W,ur=F,$r=W,yr=Ie,Zt=F,cr=W,hr=Ie,br=F,wr=W,er=F;return p.e=r(o,mt,p.e),p.t=r(P,ue,p.t),p.a=r(z,qe,p.a),p.o=r(te,j,p.o),p.i=r(l,Dt,p.i),p.n=r($,Ce,p.n),p.s=r(x,Rt,p.s),p.h=r(A,Ft,p.h),p.r=r(B,Ot,p.r),p.d=r(ve,Kt,p.d),p.l=r(Le,Jt,p.l),p.u=r(Te,Yt,p.u),p.c=r(pe,vr,p.c),p.w=r(Be,Lt,p.w),p.m=r(tt,dr,p.m),p.f=r(lt,ur,p.f),p.y=r(d,$r,p.y),p.g=r(re,yr,p.g),p.p=r(ge,Zt,p.p),p.b=r(q,cr,p.b),p.T=r(Ae,hr,p.T),p.A=r(ke,br,p.A),p.O=r(c,wr,p.O),p.I=r(U,er,p.I),p},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0,O:void 0,I:void 0}),v(()=>z.value=e.client.firstName||""),v(()=>$.value=e.client.middleName||""),v(()=>B.value=e.client.lastName||""),v(()=>Te.value=e.client.suffix||""),v(()=>Be.value=e.client?.ssn||""),v(()=>lt.value=e.client?.dateOfBirth||""),v(()=>ge.value=e.client?.occupation||""),v(()=>ke.value=e.client?.email||""),v(()=>U.value=e.client.phone||""),o})(),(()=>{var o=ni(),P=o.firstChild;return P.nextSibling,P.style.setProperty("width","20px"),P.style.setProperty("height","20px"),P.style.setProperty("color","#8b5cf6"),t(o,i(Ut,{get text(){return[e.client.address,"|","|","|",e.client.zipCode,"|","|","|","|","|"].join("")||""},handle:Ke,label:""}),null),v(z=>r(o,{...yt,"margin-top":"2rem"},z)),o})(),(()=>{var o=li(),P=o.firstChild,z=P.firstChild,te=z.nextSibling,l=P.nextSibling,$=l.firstChild,x=$.nextSibling,A=l.nextSibling,B=A.firstChild,ve=B.nextSibling,Le=A.nextSibling,Te=Le.firstChild,pe=Te.nextSibling,Be=Le.nextSibling,tt=Be.firstChild,lt=tt.nextSibling;return lt.firstChild,te.$$input=d=>fe("address",d.currentTarget.value),x.$$input=d=>fe("apt",d.currentTarget.value),ve.$$input=async d=>{const re=d.currentTarget.value;fe("zipCode",re);const ge=re.replace(/\D/g,"");if(ge.length===5){const q=await wl(ge);q&&(e.onClientChange({city:q.city,state:q.stateAbbreviation}),M(!0))}},pe.$$input=d=>fe("city",d.currentTarget.value),lt.addEventListener("change",d=>fe("state",d.currentTarget.value)),t(lt,i(zt,{each:kn,children:d=>(()=>{var re=Xr();return re.value=d,t(re,d),re})()}),null),v(d=>{var re=we,ge={...W,"grid-column":"span 2"},q=Ie,Ae=F,ke={...W,"grid-column":"120px"},c=Ie,U=F,p=W,mt=Ie,ue=F,qe=W,j=Ie,Dt=F,Ce=W,Rt=Ie,Ft=V;return d.e=r(o,re,d.e),d.t=r(P,ge,d.t),d.a=r(z,q,d.a),d.o=r(te,Ae,d.o),d.i=r(l,ke,d.i),d.n=r($,c,d.n),d.s=r(x,U,d.s),d.h=r(A,p,d.h),d.r=r(B,mt,d.r),d.d=r(ve,ue,d.d),d.l=r(Le,qe,d.l),d.u=r(Te,j,d.u),d.c=r(pe,Dt,d.c),d.w=r(Be,Ce,d.w),d.m=r(tt,Rt,d.m),d.f=r(lt,Ft,d.f),d},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0}),v(()=>te.value=e.client.address||""),v(()=>x.value=e.client.apt||""),v(()=>ve.value=e.client.zipCode||""),v(()=>pe.value=e.client.city||""),v(()=>lt.value=e.client.state||""),o})()]}})}}),ht),t(_,i(u,{get when(){return ct(()=>C()==="spouse")()&&Et()},get children(){return i(xr,{get children(){return[(()=>{var o=ii(),P=o.firstChild,z=P.firstChild;return z.nextSibling,z.style.setProperty("width","20px"),z.style.setProperty("height","20px"),z.style.setProperty("color","#ec4899"),t(P,i(Ut,{get text(){return[e.client.spouse?.firstName,"|",e.client.spouse?.middleName||"","|",e.client.spouse?.lastName,"|","|",fr(e.client.spouse?.ssn),"|","|",Qt(e.client?.spouse?.dateOfBirth)||"","|",e.client.spouse?.occupation||"","|","|",e.client.spouse?.phone,"|"].join("")||""},handle:Ke,label:""}),null),v(te=>{var l=k,$=yt;return te.e=r(o,l,te.e),te.t=r(P,$,te.t),te},{e:void 0,t:void 0}),o})(),(()=>{var o=si(),P=o.firstChild,z=P.firstChild,te=z.nextSibling,l=P.nextSibling,$=l.firstChild,x=$.nextSibling,A=l.nextSibling,B=A.firstChild,ve=B.nextSibling,Le=A.nextSibling,Te=Le.firstChild,pe=Te.nextSibling,Be=Le.nextSibling,tt=Be.firstChild,lt=tt.nextSibling,d=Be.nextSibling,re=d.firstChild,ge=re.nextSibling,q=d.nextSibling,Ae=q.firstChild,ke=Ae.nextSibling,c=q.nextSibling,U=c.firstChild,p=U.nextSibling,mt=c.nextSibling,ue=mt.firstChild,qe=ue.nextSibling;return te.$$input=j=>fe("spouse",{...e.client.spouse,firstName:j.currentTarget.value,lastName:e.client.spouse?.lastName||""}),x.$$input=j=>fe("spouse",{...e.client.spouse,firstName:e.client.spouse?.firstName||"",lastName:e.client.spouse?.lastName||"",middleName:j.currentTarget.value}),ve.$$input=j=>fe("spouse",{...e.client.spouse,firstName:e.client.spouse?.firstName||"",lastName:j.currentTarget.value}),pe.addEventListener("change",j=>fe("spouse",{...e.client.spouse,firstName:e.client.spouse?.firstName||"",lastName:e.client.spouse?.lastName||"",suffix:j.currentTarget.value||void 0})),lt.$$input=j=>fe("spouse",{...e.client.spouse,firstName:e.client.spouse?.firstName||"",lastName:e.client.spouse?.lastName||"",ssn:j.currentTarget.value}),ge.$$input=j=>fe("spouse",{...e.client.spouse,firstName:e.client.spouse?.firstName||"",lastName:e.client.spouse?.lastName||"",dateOfBirth:j.currentTarget.value}),ke.$$input=j=>fe("spouse",{...e.client.spouse,firstName:e.client.spouse?.firstName||"",lastName:e.client.spouse?.lastName||"",occupation:j.currentTarget.value}),p.$$input=j=>fe("spouse",{...e.client.spouse,firstName:e.client.spouse?.firstName||"",lastName:e.client.spouse?.lastName||"",email:j.currentTarget.value}),qe.$$input=j=>fe("spouse",{...e.client.spouse,firstName:e.client.spouse?.firstName||"",lastName:e.client.spouse?.lastName||"",phone:j.currentTarget.value}),v(j=>{var Dt=we,Ce=W,Rt=Ie,Ft=F,Ot=W,Kt=Ie,Jt=F,Yt=W,vr=Ie,Lt=F,dr=W,ur=Ie,$r=V,yr=W,Zt=Ie,cr=F,hr=W,br=Ie,wr=F,er=W,tr=Ie,Tr=F,kr=W,Xt=Ie,Cr=F,rr=W,nr=Ie,lr=F;return j.e=r(o,Dt,j.e),j.t=r(P,Ce,j.t),j.a=r(z,Rt,j.a),j.o=r(te,Ft,j.o),j.i=r(l,Ot,j.i),j.n=r($,Kt,j.n),j.s=r(x,Jt,j.s),j.h=r(A,Yt,j.h),j.r=r(B,vr,j.r),j.d=r(ve,Lt,j.d),j.l=r(Le,dr,j.l),j.u=r(Te,ur,j.u),j.c=r(pe,$r,j.c),j.w=r(Be,yr,j.w),j.m=r(tt,Zt,j.m),j.f=r(lt,cr,j.f),j.y=r(d,hr,j.y),j.g=r(re,br,j.g),j.p=r(ge,wr,j.p),j.b=r(q,er,j.b),j.T=r(Ae,tr,j.T),j.A=r(ke,Tr,j.A),j.O=r(c,kr,j.O),j.I=r(U,Xt,j.I),j.S=r(p,Cr,j.S),j.W=r(mt,rr,j.W),j.C=r(ue,nr,j.C),j.B=r(qe,lr,j.B),j},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0,O:void 0,I:void 0,S:void 0,W:void 0,C:void 0,B:void 0}),v(()=>te.value=e.client.spouse?.firstName||""),v(()=>x.value=e.client.spouse?.middleName||""),v(()=>ve.value=e.client.spouse?.lastName||""),v(()=>pe.value=e.client.spouse?.suffix||""),v(()=>lt.value=e.client.spouse?.ssn||""),v(()=>ge.value=e.client.spouse?.dateOfBirth||""),v(()=>ke.value=e.client.spouse?.occupation||""),v(()=>p.value=e.client.spouse?.email||""),v(()=>qe.value=e.client.spouse?.phone||""),o})(),(()=>{var o=oi(),P=o.firstChild;return P.style.setProperty("width","20px"),P.style.setProperty("height","20px"),P.style.setProperty("color","#f59e0b"),v(z=>r(o,{...yt,"margin-top":"2rem"},z)),o})(),(()=>{var o=ai(),P=o.firstChild,z=P.firstChild,te=P.nextSibling,l=te.firstChild;return o.style.setProperty("display","flex"),o.style.setProperty("flex-direction","column"),o.style.setProperty("gap","0.75rem"),z.addEventListener("change",$=>fe("spouse",{...e.client.spouse,firstName:e.client.spouse?.firstName||"",lastName:e.client.spouse?.lastName||"",isBlind:$.currentTarget.checked})),l.addEventListener("change",$=>fe("spouse",{...e.client.spouse,firstName:e.client.spouse?.firstName||"",lastName:e.client.spouse?.lastName||"",canBeClaimed:$.currentTarget.checked})),v($=>{var x=Oe,A=Ee,B=Oe,ve=Ee;return $.e=r(P,x,$.e),$.t=r(z,A,$.t),$.a=r(te,B,$.a),$.o=r(l,ve,$.o),$},{e:void 0,t:void 0,a:void 0,o:void 0}),v(()=>z.checked=e.client.spouse?.isBlind||!1),v(()=>l.checked=e.client.spouse?.canBeClaimed||!1),o})()]}})}}),ht),t(_,i(u,{get when(){return C()==="dependents"},get children(){return i(xr,{get children(){return[(()=>{var o=di(),P=o.firstChild,z=P.nextSibling,te=z.nextSibling;return te.nextSibling,P.style.setProperty("width","20px"),P.style.setProperty("height","20px"),P.style.setProperty("color","#22c55e"),t(o,()=>e.client.dependents?.length||0,te),v(l=>r(o,yt,l)),o})(),(()=>{var o=ci(),P=o.firstChild,z=P.firstChild,te=z.nextSibling,l=te.firstChild,$=l.nextSibling;return o.style.setProperty("padding","1rem"),o.style.setProperty("border-radius","12px"),o.style.setProperty("margin-bottom","1.5rem"),o.style.setProperty("display","flex"),o.style.setProperty("align-items","center"),o.style.setProperty("justify-content","space-between"),o.style.setProperty("gap","1rem"),P.style.setProperty("display","flex"),P.style.setProperty("align-items","center"),P.style.setProperty("gap","0.75rem"),z.addEventListener("change",x=>{fe("hasNoDependents",x.currentTarget.checked),x.currentTarget.checked&&(e.client.dependents?.length||0)>0&&fe("dependents",[])}),l.style.setProperty("font-weight","600"),l.style.setProperty("color","var(--text-primary)"),$.style.setProperty("font-size","0.8125rem"),$.style.setProperty("color","var(--text-secondary)"),t(o,i(u,{get when(){return e.client.hasNoDependents},get children(){var x=yi(),A=x.firstChild;return x.style.setProperty("display","flex"),x.style.setProperty("align-items","center"),x.style.setProperty("gap","0.5rem"),x.style.setProperty("padding","0.5rem 1rem"),x.style.setProperty("background","#22c55e"),x.style.setProperty("color","white"),x.style.setProperty("border-radius","9999px"),x.style.setProperty("font-size","0.8125rem"),x.style.setProperty("font-weight","600"),A.style.setProperty("width","16px"),A.style.setProperty("height","16px"),x}}),null),v(x=>{var A=e.client.hasNoDependents?"linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(34, 197, 94, 0.2))":"var(--surface-alt)",B=e.client.hasNoDependents?"2px solid #22c55e":"1px solid var(--border-color)",ve={...Ee,"accent-color":"#22c55e"};return A!==x.e&&((x.e=A)!=null?o.style.setProperty("background",A):o.style.removeProperty("background")),B!==x.t&&((x.t=B)!=null?o.style.setProperty("border",B):o.style.removeProperty("border")),x.a=r(z,ve,x.a),x},{e:void 0,t:void 0,a:void 0}),v(()=>z.checked=e.client.hasNoDependents||!1),o})(),i(u,{get when(){return!e.client.hasNoDependents},get children(){return[i(zt,{get each(){return e.client.dependents||[]},children:(o,P)=>(()=>{var z=Bi(),te=z.firstChild,l=te.firstChild;l.firstChild;var $=l.nextSibling,x=$.firstChild,A=$.nextSibling,B=A.firstChild,ve=te.nextSibling,Le=ve.firstChild,Te=Le.firstChild,pe=Le.nextSibling,Be=pe.firstChild,tt=pe.nextSibling,lt=tt.firstChild,d=lt.nextSibling,re=tt.nextSibling,ge=re.firstChild,q=re.nextSibling,Ae=q.firstChild,ke=q.nextSibling,c=ke.firstChild,U=ve.nextSibling,p=U.firstChild,mt=p.firstChild,ue=p.nextSibling,qe=ue.firstChild,j=ue.nextSibling,Dt=j.firstChild;return r(z,g),l.style.setProperty("font-weight","600"),l.style.setProperty("color","var(--text-primary)"),t(l,()=>P()+1,null),t(l,()=>o.firstName&&`: ${o.firstName} ${o.lastName}`,null),$.$$mouseout=Ce=>{Ce.currentTarget.style.background="white",Ce.currentTarget.style.borderColor="var(--border-color)"},$.$$mouseover=Ce=>{Ce.currentTarget.style.background="var(--surface-alt)",Ce.currentTarget.style.borderColor="var(--primary-color)"},$.$$click=()=>it(o),$.style.setProperty("padding","0.75rem 1rem"),$.style.setProperty("font-size","0.9375rem"),$.style.setProperty("font-weight","500"),$.style.setProperty("border-radius","8px"),$.style.setProperty("border","1px solid var(--border-color)"),$.style.setProperty("background","white"),$.style.setProperty("color","var(--text-primary)"),$.style.setProperty("cursor","pointer"),$.style.setProperty("display","flex"),$.style.setProperty("align-items","center"),$.style.setProperty("gap","0.5rem"),$.style.setProperty("transition","all 0.2s"),x.style.setProperty("width","18px"),x.style.setProperty("height","18px"),A.$$click=()=>_t(P()),r(A,De),B.style.setProperty("width","16px"),B.style.setProperty("height","16px"),t(Le,i(Ar,{style:F,type:"text",get value(){return o.firstName||""},onChange:Ce=>ut(P(),{firstName:Ce}),placeholder:"First name"}),null),t(pe,i(Ar,{style:F,type:"text",get value(){return o.lastName||""},onChange:Ce=>ut(P(),{lastName:Ce}),placeholder:"Last name"}),null),d.addEventListener("change",Ce=>ut(P(),{relationship:Ce.currentTarget.value})),t(d,i(zt,{get each(){return Object.entries(Ui)},children:([Ce,Rt])=>(()=>{var Ft=Xr();return Ft.value=Ce,t(Ft,Rt),Ft})()})),t(re,i(Ar,{style:F,type:"text",get value(){return o.ssn||""},onChange:Ce=>ut(P(),{ssn:Ce}),placeholder:"XXX-XX-XXXX",maxLength:11}),null),t(q,i(Ar,{style:F,type:"date",get value(){return o.dateOfBirth||""},onChange:Ce=>ut(P(),{dateOfBirth:Ce})}),null),t(ke,i(Ar,{style:F,type:"number",min:"0",max:"12",get value(){return o.monthsLivedWithYou||""},onChange:Ce=>ut(P(),{monthsLivedWithYou:parseInt(Ce)||void 0}),placeholder:"12"}),null),U.style.setProperty("display","grid"),U.style.setProperty("grid-template-columns","repeat(auto-fill, minmax(250px, 1fr))"),U.style.setProperty("gap","0.75rem"),U.style.setProperty("margin-top","1rem"),mt.addEventListener("change",Ce=>ut(P(),{isStudent:Ce.currentTarget.checked})),qe.addEventListener("change",Ce=>ut(P(),{isDisabled:Ce.currentTarget.checked})),Dt.addEventListener("change",Ce=>ut(P(),{providedSupport:Ce.currentTarget.checked})),v(Ce=>{var Rt=k,Ft=we,Ot=W,Kt=Ie,Jt=W,Yt=Ie,vr=W,Lt=Ie,dr=V,ur=W,$r=Ie,yr=W,Zt=Ie,cr=W,hr=Ie,br=Oe,wr=Ee,er=Oe,tr=Ee,Tr=Oe,kr=Ee;return Ce.e=r(te,Rt,Ce.e),Ce.t=r(ve,Ft,Ce.t),Ce.a=r(Le,Ot,Ce.a),Ce.o=r(Te,Kt,Ce.o),Ce.i=r(pe,Jt,Ce.i),Ce.n=r(Be,Yt,Ce.n),Ce.s=r(tt,vr,Ce.s),Ce.h=r(lt,Lt,Ce.h),Ce.r=r(d,dr,Ce.r),Ce.d=r(re,ur,Ce.d),Ce.l=r(ge,$r,Ce.l),Ce.u=r(q,yr,Ce.u),Ce.c=r(Ae,Zt,Ce.c),Ce.w=r(ke,cr,Ce.w),Ce.m=r(c,hr,Ce.m),Ce.f=r(p,br,Ce.f),Ce.y=r(mt,wr,Ce.y),Ce.g=r(ue,er,Ce.g),Ce.p=r(qe,tr,Ce.p),Ce.b=r(j,Tr,Ce.b),Ce.T=r(Dt,kr,Ce.T),Ce},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0}),v(()=>d.value=o.relationship||"son"),v(()=>mt.checked=o.isStudent||!1),v(()=>qe.checked=o.isDisabled||!1),v(()=>Dt.checked=o.providedSupport||!1),z})()}),(()=>{var o=pi(),P=o.firstChild;return o.$$mouseout=z=>{z.currentTarget.style.borderColor="var(--border-color)",z.currentTarget.style.color="var(--text-secondary)"},o.$$mouseover=z=>{z.currentTarget.style.borderColor="var(--primary-color)",z.currentTarget.style.color="var(--primary-color)"},o.$$click=()=>{e.client.hasNoDependents&&fe("hasNoDependents",!1),St()},r(o,Ze),P.style.setProperty("width","20px"),P.style.setProperty("height","20px"),o})()]}})]}})}}),ht),t(_,i(u,{get when(){return C()==="tax"},get children(){return i(xr,{get children(){return[(()=>{var o=ui(),P=o.firstChild;return P.style.setProperty("width","20px"),P.style.setProperty("height","20px"),P.style.setProperty("color","#3b82f6"),v(z=>r(o,yt,z)),o})(),(()=>{var o=mi(),P=o.firstChild,z=P.firstChild,te=z.nextSibling,l=P.nextSibling,$=l.firstChild,x=$.nextSibling;return x.firstChild,te.addEventListener("change",A=>fe("taxYear",parseInt(A.currentTarget.value))),x.addEventListener("change",A=>fe("filingStatus",A.currentTarget.value)),t(x,i(zt,{get each(){return Object.entries(Pl)},children:([A,B])=>(()=>{var ve=Xr();return ve.value=A,t(ve,B),ve})()}),null),v(A=>{var B=we,ve=W,Le=Ie,Te=V,pe=W,Be=Ie,tt=V;return A.e=r(o,B,A.e),A.t=r(P,ve,A.t),A.a=r(z,Le,A.a),A.o=r(te,Te,A.o),A.i=r(l,pe,A.i),A.n=r($,Be,A.n),A.s=r(x,tt,A.s),A},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),v(()=>te.value=e.client.taxYear||new Date().getFullYear()),v(()=>x.value=e.client.filingStatus||""),o})(),(()=>{var o=gi(),P=o.firstChild;return P.style.setProperty("width","20px"),P.style.setProperty("height","20px"),P.style.setProperty("color","#f59e0b"),v(z=>r(o,{...yt,"margin-top":"2rem"},z)),o})(),(()=>{var o=fi(),P=o.firstChild,z=P.firstChild,te=P.nextSibling,l=te.firstChild,$=te.nextSibling,x=$.firstChild;return o.style.setProperty("display","grid"),o.style.setProperty("grid-template-columns","repeat(auto-fill, minmax(300px, 1fr))"),o.style.setProperty("gap","0.75rem"),z.addEventListener("change",A=>fe("isBlind",A.currentTarget.checked)),l.addEventListener("change",A=>fe("canBeClaimed",A.currentTarget.checked)),x.addEventListener("change",A=>fe("hasHealthInsurance",A.currentTarget.checked)),v(A=>{var B=Oe,ve=Ee,Le=Oe,Te=Ee,pe=Oe,Be=Ee;return A.e=r(P,B,A.e),A.t=r(z,ve,A.t),A.a=r(te,Le,A.a),A.o=r(l,Te,A.o),A.i=r($,pe,A.i),A.n=r(x,Be,A.n),A},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),v(()=>z.checked=e.client.isBlind||!1),v(()=>l.checked=e.client.canBeClaimed||!1),v(()=>x.checked=e.client.hasHealthInsurance||!1),o})(),(()=>{var o=vi(),P=o.firstChild,z=P.firstChild;return o.style.setProperty("display","grid"),o.style.setProperty("grid-template-columns","repeat(2, 1fr)"),o.style.setProperty("gap","0.5rem"),z.style.setProperty("width","20px"),z.style.setProperty("height","20px"),z.style.setProperty("color","#ec4899"),t(o,i(Ut,{get text(){return[e.client.idInfo?.idNumber||"","|",e.client.idInfo?.idState||"","|",Qt(e.client.idInfo?.issueDate)||"","|","|",Qt(e.client.idInfo?.expirationDate)||"","|"].join("")||""},handle:Ke,label:""}),null),v(te=>r(P,{...yt,"margin-top":"2rem"},te)),o})(),(()=>{var o=hi(),P=o.firstChild,z=P.firstChild,te=z.nextSibling,l=te.nextSibling,$=P.nextSibling,x=$.firstChild,A=x.nextSibling,B=A.firstChild,ve=$.nextSibling,Le=ve.firstChild,Te=Le.nextSibling,pe=Te.firstChild;return o.style.setProperty("padding","1rem"),o.style.setProperty("margin-bottom","1rem"),o.style.setProperty("background","linear-gradient(135deg, #fdf4ff 0%, #f5f3ff 100%)"),o.style.setProperty("border-radius","12px"),o.style.setProperty("border","1px solid #e9d5ff"),P.style.setProperty("display","flex"),P.style.setProperty("align-items","center"),P.style.setProperty("gap","0.5rem"),P.style.setProperty("margin-bottom","0.75rem"),z.style.setProperty("width","20px"),z.style.setProperty("height","20px"),te.style.setProperty("font-weight","600"),te.style.setProperty("color","#7c3aed"),l.style.setProperty("font-size","0.75rem"),l.style.setProperty("color","#9333ea"),l.style.setProperty("background","#f3e8ff"),l.style.setProperty("padding","0.125rem 0.5rem"),l.style.setProperty("border-radius","9999px"),$.style.setProperty("display","flex"),$.style.setProperty("gap","0.5rem"),$.style.setProperty("align-items","stretch"),x.addEventListener("blur",Be=>Be.currentTarget.style.borderColor="#c4b5fd"),x.addEventListener("focus",Be=>Be.currentTarget.style.borderColor="#8b5cf6"),x.$$keydown=ye,x.$$input=Be=>s(Be.currentTarget.value),x.style.setProperty("flex","1"),x.style.setProperty("padding","0.75rem 1rem"),x.style.setProperty("font-size","0.9375rem"),x.style.setProperty("border","2px solid #c4b5fd"),x.style.setProperty("border-radius","8px"),x.style.setProperty("background","white"),x.style.setProperty("outline","none"),x.style.setProperty("transition","border-color 0.2s"),A.$$click=le,A.style.setProperty("padding","0.75rem 1.25rem"),A.style.setProperty("font-size","0.9375rem"),A.style.setProperty("font-weight","600"),A.style.setProperty("border-radius","8px"),A.style.setProperty("border","none"),A.style.setProperty("background","linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)"),A.style.setProperty("color","white"),A.style.setProperty("cursor","pointer"),A.style.setProperty("display","flex"),A.style.setProperty("align-items","center"),A.style.setProperty("gap","0.5rem"),A.style.setProperty("transition","all 0.2s"),A.style.setProperty("white-space","nowrap"),B.style.setProperty("width","18px"),B.style.setProperty("height","18px"),ve.style.setProperty("display","flex"),ve.style.setProperty("justify-content","space-between"),ve.style.setProperty("align-items","center"),ve.style.setProperty("margin-top","0.75rem"),Le.style.setProperty("font-size","0.75rem"),Le.style.setProperty("color","#7c3aed"),Te.$$click=()=>N(!0),Te.style.setProperty("padding","0.375rem 0.75rem"),Te.style.setProperty("font-size","0.75rem"),Te.style.setProperty("font-weight","500"),Te.style.setProperty("border-radius","6px"),Te.style.setProperty("border","1px solid #c4b5fd"),Te.style.setProperty("background","white"),Te.style.setProperty("color","#7c3aed"),Te.style.setProperty("cursor","pointer"),Te.style.setProperty("display","flex"),Te.style.setProperty("align-items","center"),Te.style.setProperty("gap","0.375rem"),pe.style.setProperty("width","14px"),pe.style.setProperty("height","14px"),v(()=>x.value=ae()),o})(),i(u,{get when(){return O()},get children(){var o=bi(),P=o.firstChild;return o.style.setProperty("padding","0.75rem 1rem"),o.style.setProperty("margin-bottom","1rem"),o.style.setProperty("border-radius","8px"),o.style.setProperty("font-size","0.875rem"),o.style.setProperty("display","flex"),o.style.setProperty("align-items","center"),o.style.setProperty("gap","0.5rem"),t(o,()=>O()?.type==="success"?"✓":"⚠",P),t(o,()=>O()?.text,null),v(z=>{var te=O()?.type==="success"?"#ecfdf5":"#fef2f2",l=O()?.type==="success"?"#065f46":"#991b1b";return te!==z.e&&((z.e=te)!=null?o.style.setProperty("background",te):o.style.removeProperty("background")),l!==z.t&&((z.t=l)!=null?o.style.setProperty("color",l):o.style.removeProperty("color")),z},{e:void 0,t:void 0}),o}}),(()=>{var o=xi(),P=o.firstChild,z=P.firstChild,te=z.nextSibling,l=P.nextSibling,$=l.firstChild,x=$.nextSibling,A=l.nextSibling,B=A.firstChild,ve=B.nextSibling;ve.firstChild;var Le=A.nextSibling,Te=Le.firstChild,pe=Te.nextSibling,Be=Le.nextSibling,tt=Be.firstChild,lt=tt.nextSibling;return te.$$input=d=>fe("idInfo",{...e.client.idInfo,idNumber:d.currentTarget.value,idState:e.client.idInfo?.idState||""}),x.addEventListener("change",d=>fe("idInfo",{...e.client.idInfo,idNumber:e.client.idInfo?.idNumber||"",idState:e.client.idInfo?.idState||"",idType:d.currentTarget.value})),ve.addEventListener("change",d=>fe("idInfo",{...e.client.idInfo,idNumber:e.client.idInfo?.idNumber||"",idState:d.currentTarget.value})),t(ve,i(zt,{each:kn,children:d=>(()=>{var re=Xr();return re.value=d,t(re,d),re})()}),null),pe.$$input=d=>fe("idInfo",{...e.client.idInfo,idNumber:e.client.idInfo?.idNumber||"",idState:e.client.idInfo?.idState||"",issueDate:d.currentTarget.value}),lt.$$input=d=>fe("idInfo",{...e.client.idInfo,idNumber:e.client.idInfo?.idNumber||"",idState:e.client.idInfo?.idState||"",expirationDate:d.currentTarget.value}),v(d=>{var re=we,ge=W,q=Ie,Ae=F,ke=W,c=Ie,U=V,p=W,mt=Ie,ue=V,qe=W,j=Ie,Dt=F,Ce=W,Rt=Ie,Ft=F;return d.e=r(o,re,d.e),d.t=r(P,ge,d.t),d.a=r(z,q,d.a),d.o=r(te,Ae,d.o),d.i=r(l,ke,d.i),d.n=r($,c,d.n),d.s=r(x,U,d.s),d.h=r(A,p,d.h),d.r=r(B,mt,d.r),d.d=r(ve,ue,d.d),d.l=r(Le,qe,d.l),d.u=r(Te,j,d.u),d.c=r(pe,Dt,d.c),d.w=r(Be,Ce,d.w),d.m=r(tt,Rt,d.m),d.f=r(lt,Ft,d.f),d},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0}),v(()=>te.value=e.client.idInfo?.idNumber||""),v(()=>x.value=e.client.idInfo?.idType||"drivers_license"),v(()=>ve.value=e.client.idInfo?.idState||""),v(()=>pe.value=e.client.idInfo?.issueDate||""),v(()=>lt.value=e.client.idInfo?.expirationDate||""),o})(),i(u,{get when(){return e.client.idInfo?.gender||e.client.idInfo?.height||e.client.idInfo?.eyeColor},get children(){var o=_i(),P=o.firstChild,z=P.nextSibling;return o.style.setProperty("margin-top","1rem"),o.style.setProperty("padding","1rem"),o.style.setProperty("background","#f8fafc"),o.style.setProperty("border-radius","8px"),o.style.setProperty("border","1px solid #e2e8f0"),P.style.setProperty("font-size","0.75rem"),P.style.setProperty("font-weight","600"),P.style.setProperty("color","#64748b"),P.style.setProperty("margin-bottom","0.5rem"),P.style.setProperty("text-transform","uppercase"),P.style.setProperty("letter-spacing","0.05em"),z.style.setProperty("display","grid"),z.style.setProperty("grid-template-columns","repeat(auto-fill, minmax(150px, 1fr))"),z.style.setProperty("gap","0.5rem"),z.style.setProperty("font-size","0.875rem"),t(z,i(u,{get when(){return e.client.idInfo?.gender},get children(){var te=Pi(),l=te.firstChild;return l.nextSibling,t(te,()=>e.client.idInfo?.gender==="M"?"Male":e.client.idInfo?.gender==="F"?"Female":"Other",null),te}}),null),t(z,i(u,{get when(){return e.client.idInfo?.height},get children(){var te=$i(),l=te.firstChild;return l.nextSibling,t(te,()=>e.client.idInfo?.height,null),te}}),null),t(z,i(u,{get when(){return e.client.idInfo?.weight},get children(){var te=Si(),l=te.firstChild;return l.nextSibling,t(te,()=>e.client.idInfo?.weight,null),te}}),null),t(z,i(u,{get when(){return e.client.idInfo?.eyeColor},get children(){var te=wi(),l=te.firstChild;return l.nextSibling,t(te,()=>e.client.idInfo?.eyeColor,null),te}}),null),t(z,i(u,{get when(){return e.client.idInfo?.hairColor},get children(){var te=Ci(),l=te.firstChild;return l.nextSibling,t(te,()=>e.client.idInfo?.hairColor,null),te}}),null),o}}),(()=>{var o=ki(),P=o.firstChild;return P.style.setProperty("width","20px"),P.style.setProperty("height","20px"),P.style.setProperty("color","#22c55e"),v(z=>r(o,{...yt,"margin-top":"2rem"},z)),o})(),(()=>{var o=Ti(),P=o.firstChild;return o.$$mouseout=z=>{z.currentTarget.style.background="white",z.currentTarget.style.borderColor="var(--border-color)"},o.$$mouseover=z=>{z.currentTarget.style.background="var(--surface-alt)",z.currentTarget.style.borderColor="var(--primary-color)"},o.$$click=()=>bt(e.client.bankInfo),o.style.setProperty("padding","0.75rem 1rem"),o.style.setProperty("font-size","0.9375rem"),o.style.setProperty("font-weight","500"),o.style.setProperty("border-radius","8px"),o.style.setProperty("border","1px solid var(--border-color)"),o.style.setProperty("background","white"),o.style.setProperty("color","var(--text-primary)"),o.style.setProperty("cursor","pointer"),o.style.setProperty("display","flex"),o.style.setProperty("align-items","center"),o.style.setProperty("gap","0.5rem"),o.style.setProperty("transition","all 0.2s"),P.style.setProperty("width","18px"),P.style.setProperty("height","18px"),o})(),(()=>{var o=Ii(),P=o.firstChild,z=P.firstChild,te=z.nextSibling,l=P.nextSibling,$=l.firstChild,x=$.nextSibling,A=l.nextSibling,B=A.firstChild,ve=B.nextSibling,Le=A.nextSibling,Te=Le.firstChild,pe=Te.nextSibling,Be=Le.nextSibling,tt=Be.firstChild,lt=tt.nextSibling;return te.addEventListener("change",d=>fe("bankInfo",{...e.client.bankInfo,accountType:d.currentTarget.value,routingNumber:e.client.bankInfo?.routingNumber||"",accountNumber:e.client.bankInfo?.accountNumber||"",bankName:e.client.bankInfo?.bankName||""})),x.addEventListener("blur",()=>setTimeout(()=>Re(!1),200)),x.addEventListener("focus",()=>{const d=e.client.bankInfo?.bankName||"";if(d.length>=1){const re=Un.filter(ge=>ge.toLowerCase().includes(d.toLowerCase())).slice(0,8);Je(re),Re(re.length>0)}}),x.$$input=d=>{const re=d.currentTarget.value;if(fe("bankInfo",{...e.client.bankInfo,accountType:e.client.bankInfo?.accountType||"checking",bankName:re,accountNumber:e.client.bankInfo?.accountNumber||"",routingNumber:e.client.bankInfo?.routingNumber||""}),re.length>=1){const ge=Un.filter(q=>q.toLowerCase().includes(re.toLowerCase())).slice(0,8);Je(ge),Re(ge.length>0)}else Re(!1)},t(l,i(u,{get when(){return ct(()=>!!je())()&&Se().length>0},get children(){var d=Lr();return d.style.setProperty("position","absolute"),d.style.setProperty("top","100%"),d.style.setProperty("left","0"),d.style.setProperty("right","0"),d.style.setProperty("background","white"),d.style.setProperty("border","1px solid var(--border-color)"),d.style.setProperty("border-radius","8px"),d.style.setProperty("box-shadow","0 4px 12px rgba(0,0,0,0.15)"),d.style.setProperty("z-index","1000"),d.style.setProperty("max-height","200px"),d.style.setProperty("overflow","auto"),t(d,i(zt,{get each(){return Se()},children:re=>(()=>{var ge=Lr();return ge.$$mousedown=q=>{q.preventDefault(),fe("bankInfo",{...e.client.bankInfo,accountType:e.client.bankInfo?.accountType||"checking",bankName:re,accountNumber:e.client.bankInfo?.accountNumber||"",routingNumber:e.client.bankInfo?.routingNumber||""}),Re(!1)},ge.addEventListener("mouseleave",q=>q.currentTarget.style.background="white"),ge.addEventListener("mouseenter",q=>q.currentTarget.style.background="#f5f5f5"),ge.style.setProperty("padding","0.75rem 1rem"),ge.style.setProperty("cursor","pointer"),ge.style.setProperty("border-bottom","1px solid var(--border-color)"),ge.style.setProperty("transition","background 0.15s"),t(ge,re),ge})()})),d}}),null),ve.$$input=d=>fe("bankInfo",{...e.client.bankInfo,accountType:e.client.bankInfo?.accountType||"checking",routingNumber:d.currentTarget.value,accountNumber:e.client.bankInfo?.accountNumber||"",bankName:e.client.bankInfo?.bankName||""}),pe.$$input=d=>fe("bankInfo",{...e.client.bankInfo,accountType:e.client.bankInfo?.accountType||"checking",routingNumber:e.client.bankInfo?.routingNumber||"",accountNumber:d.currentTarget.value,bankName:e.client.bankInfo?.bankName||""}),lt.$$input=d=>fe("bankInfo",{...e.client.bankInfo,accountType:e.client.bankInfo?.accountType||"checking",routingNumber:e.client.bankInfo?.routingNumber||"",accountNumber:e.client.bankInfo?.accountNumber||"",accountHolderName:d.currentTarget.value,bankName:e.client.bankInfo?.bankName||""}),v(d=>{var re=we,ge=W,q=Ie,Ae=V,ke={...W,position:"relative"},c=Ie,U=F,p=W,mt=Ie,ue=F,qe=W,j=Ie,Dt=F,Ce=W,Rt=Ie,Ft=F;return d.e=r(o,re,d.e),d.t=r(P,ge,d.t),d.a=r(z,q,d.a),d.o=r(te,Ae,d.o),d.i=r(l,ke,d.i),d.n=r($,c,d.n),d.s=r(x,U,d.s),d.h=r(A,p,d.h),d.r=r(B,mt,d.r),d.d=r(ve,ue,d.d),d.l=r(Le,qe,d.l),d.u=r(Te,j,d.u),d.c=r(pe,Dt,d.c),d.w=r(Be,Ce,d.w),d.m=r(tt,Rt,d.m),d.f=r(lt,Ft,d.f),d},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0}),v(()=>te.value=e.client.bankInfo?.accountType||""),v(()=>x.value=e.client.bankInfo?.bankName||""),v(()=>ve.value=e.client.bankInfo?.routingNumber||""),v(()=>pe.value=e.client.bankInfo?.accountNumber||""),v(()=>lt.value=e.client.bankInfo?.accountHolderName||""),o})(),(()=>{var o=Ni(),P=o.firstChild;return P.style.setProperty("width","20px"),P.style.setProperty("height","20px"),P.style.setProperty("color","#16a34a"),t(o,()=>b("taxResults"),null),v(z=>r(o,{...yt,"margin-top":"2rem"},z)),o})(),(()=>{var o=zi(),P=o.firstChild,z=P.firstChild,te=z.firstChild,l=P.nextSibling,$=l.firstChild,x=$.firstChild,A=x.firstChild,B=x.nextSibling,ve=$.nextSibling,Le=ve.firstChild,Te=Le.firstChild,pe=Le.nextSibling;return o.style.setProperty("padding","1rem"),o.style.setProperty("background","linear-gradient(135deg, #f0fdf4 0%, #ecfdf5 100%)"),o.style.setProperty("border-radius","12px"),o.style.setProperty("border","1px solid #bbf7d0"),o.style.setProperty("margin-bottom","1rem"),P.style.setProperty("display","flex"),P.style.setProperty("align-items","center"),P.style.setProperty("gap","0.5rem"),P.style.setProperty("margin-bottom","0.75rem"),z.style.setProperty("font-weight","600"),z.style.setProperty("color","#166534"),t(z,()=>b("federalRefund"),te),t(z,()=>b("federalOwe"),null),l.style.setProperty("display","grid"),l.style.setProperty("grid-template-columns","repeat(2, 1fr)"),l.style.setProperty("gap","1rem"),t(x,()=>b("refund"),A),B.$$input=Be=>{const tt=Be.currentTarget.value?parseFloat(Be.currentTarget.value):void 0;fe("federalRefund",tt),tt&&fe("federalOwe",void 0)},t(Le,()=>b("owe"),Te),pe.$$input=Be=>{const tt=Be.currentTarget.value?parseFloat(Be.currentTarget.value):void 0;fe("federalOwe",tt),tt&&fe("federalRefund",void 0)},v(Be=>{var tt=W,lt={...Ie,color:"#16a34a"},d={...F,"border-color":"#86efac",background:e.client.federalRefund?"#dcfce7":"white"},re=W,ge={...Ie,color:"#dc2626"},q={...F,"border-color":"#fca5a5",background:e.client.federalOwe?"#fee2e2":"white"};return Be.e=r($,tt,Be.e),Be.t=r(x,lt,Be.t),Be.a=r(B,d,Be.a),Be.o=r(ve,re,Be.o),Be.i=r(Le,ge,Be.i),Be.n=r(pe,q,Be.n),Be},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),v(()=>B.value=e.client.federalRefund||""),v(()=>pe.value=e.client.federalOwe||""),o})(),(()=>{var o=Ai(),P=o.firstChild,z=P.firstChild,te=z.firstChild,l=z.nextSibling,$=l.firstChild;return o.style.setProperty("padding","1rem"),o.style.setProperty("background","linear-gradient(135deg, #eff6ff 0%, #f0f9ff 100%)"),o.style.setProperty("border-radius","12px"),o.style.setProperty("border","1px solid #bfdbfe"),o.style.setProperty("margin-bottom","1rem"),P.style.setProperty("display","flex"),P.style.setProperty("justify-content","space-between"),P.style.setProperty("align-items","center"),P.style.setProperty("margin-bottom","0.75rem"),z.style.setProperty("font-weight","600"),z.style.setProperty("color","#1e40af"),t(z,()=>b("stateRefund"),te),t(z,()=>b("stateOwe"),null),l.$$mouseout=x=>{x.currentTarget.style.background="white",x.currentTarget.style.borderColor="#93c5fd"},l.$$mouseover=x=>{x.currentTarget.style.background="#eff6ff",x.currentTarget.style.borderColor="#3b82f6"},l.$$click=()=>{const x=e.client.stateReturns||[];fe("stateReturns",[...x,{state:"",refund:void 0,owe:void 0}])},l.style.setProperty("padding","0.375rem 0.75rem"),l.style.setProperty("font-size","0.8125rem"),l.style.setProperty("font-weight","500"),l.style.setProperty("border-radius","6px"),l.style.setProperty("border","1px solid #93c5fd"),l.style.setProperty("background","white"),l.style.setProperty("color","#2563eb"),l.style.setProperty("cursor","pointer"),l.style.setProperty("display","flex"),l.style.setProperty("align-items","center"),l.style.setProperty("gap","0.375rem"),l.style.setProperty("transition","all 0.2s"),$.style.setProperty("width","16px"),$.style.setProperty("height","16px"),t(l,()=>b("addState"),null),t(o,i(u,{get when(){return!e.client.stateReturns||e.client.stateReturns.length===0},get children(){var x=Lr();return x.style.setProperty("padding","1rem"),x.style.setProperty("text-align","center"),x.style.setProperty("color","#6b7280"),x.style.setProperty("font-size","0.875rem"),x.style.setProperty("font-style","italic"),t(x,()=>b("noStateReturns")),x}}),null),t(o,i(zt,{get each(){return e.client.stateReturns||[]},children:(x,A)=>(()=>{var B=Oi(),ve=B.firstChild,Le=ve.firstChild,Te=Le.nextSibling;Te.firstChild;var pe=ve.nextSibling,Be=pe.firstChild,tt=Be.firstChild,lt=Be.nextSibling,d=pe.nextSibling,re=d.firstChild,ge=re.firstChild,q=re.nextSibling,Ae=d.nextSibling,ke=Ae.firstChild;return B.style.setProperty("display","grid"),B.style.setProperty("grid-template-columns","120px 1fr 1fr auto"),B.style.setProperty("gap","0.75rem"),B.style.setProperty("align-items","end"),B.style.setProperty("padding","0.75rem"),B.style.setProperty("background","white"),B.style.setProperty("border-radius","8px"),B.style.setProperty("margin-bottom","0.5rem"),B.style.setProperty("border","1px solid #e5e7eb"),t(Le,()=>b("state")),Te.addEventListener("change",c=>{const U=[...e.client.stateReturns||[]];U[A()]={...U[A()],state:c.currentTarget.value},fe("stateReturns",U)}),t(Te,i(zt,{each:kn,children:c=>(()=>{var U=Xr();return U.value=c,t(U,c),U})()}),null),t(Be,()=>b("refund"),tt),lt.$$input=c=>{const U=c.currentTarget.value?parseFloat(c.currentTarget.value):void 0,p=[...e.client.stateReturns||[]];p[A()]={...p[A()],refund:U,owe:U?void 0:p[A()].owe},fe("stateReturns",p)},t(re,()=>b("owe"),ge),q.$$input=c=>{const U=c.currentTarget.value?parseFloat(c.currentTarget.value):void 0,p=[...e.client.stateReturns||[]];p[A()]={...p[A()],owe:U,refund:U?void 0:p[A()].refund},fe("stateReturns",p)},Ae.$$mouseout=c=>{c.currentTarget.style.background="white",c.currentTarget.style.borderColor="#fca5a5"},Ae.$$mouseover=c=>{c.currentTarget.style.background="#fee2e2",c.currentTarget.style.borderColor="#ef4444"},Ae.$$click=()=>{const c=[...e.client.stateReturns||[]];c.splice(A(),1),fe("stateReturns",c)},Ae.style.setProperty("padding","0.5rem"),Ae.style.setProperty("border-radius","6px"),Ae.style.setProperty("border","1px solid #fca5a5"),Ae.style.setProperty("background","white"),Ae.style.setProperty("color","#dc2626"),Ae.style.setProperty("cursor","pointer"),Ae.style.setProperty("display","flex"),Ae.style.setProperty("align-items","center"),Ae.style.setProperty("justify-content","center"),Ae.style.setProperty("transition","all 0.2s"),Ae.style.setProperty("margin-bottom","0.25rem"),ke.style.setProperty("width","16px"),ke.style.setProperty("height","16px"),v(c=>{var U=W,p=Ie,mt=V,ue=W,qe={...Ie,color:"#16a34a"},j={...F,"border-color":"#86efac",background:x.refund?"#dcfce7":"white"},Dt=W,Ce={...Ie,color:"#dc2626"},Rt={...F,"border-color":"#fca5a5",background:x.owe?"#fee2e2":"white"},Ft=b("removeState");return c.e=r(ve,U,c.e),c.t=r(Le,p,c.t),c.a=r(Te,mt,c.a),c.o=r(pe,ue,c.o),c.i=r(Be,qe,c.i),c.n=r(lt,j,c.n),c.s=r(d,Dt,c.s),c.h=r(re,Ce,c.h),c.r=r(q,Rt,c.r),Ft!==c.d&&or(Ae,"title",c.d=Ft),c},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0}),v(()=>Te.value=x.state||""),v(()=>lt.value=x.refund||""),v(()=>q.value=x.owe||""),B})()}),null),o})(),(()=>{var o=Di(),P=o.firstChild;return P.style.setProperty("width","20px"),P.style.setProperty("height","20px"),P.style.setProperty("color","#6b7280"),v(z=>r(o,{...yt,"margin-top":"2rem"},z)),o})(),(()=>{var o=Fi(),P=o.firstChild;return P.$$input=z=>fe("notes",z.currentTarget.value),v(z=>{var te=W,l={...F,"min-height":"100px",resize:"vertical"};return z.e=r(o,te,z.e),z.t=r(P,l,z.t),z},{e:void 0,t:void 0}),v(()=>P.value=e.client.notes||""),o})()]}})}}),ht),t(_,i(Ol,{get client(){return e.client},get isOpen(){return se()},onClose:()=>D(!1)}),null),t(_,i(il,{get qrText(){return n()},get isOpen(){return Z()},onClose:()=>K(!1),title:"QR Code",convertPipeToTab:!0,toUpperCase:!0}),null),t(_,i(al,{get isOpen(){return xe()},onBarcodeScan:Bt,onMRZScan:G,onClose:()=>N(!1),showExternalInput:!1}),null),v(o=>{var P=xt,z=I,te=be(!R()||!!e.isSaving),l=!R()||!!e.isSaving,$=de(C()==="review"),x=de(C()==="personal"),A=de(C()==="dependents"),B=de(C()==="tax");return o.e=r(_,P,o.e),o.t=r(rt,z,o.t),o.a=r(ie,te,o.a),l!==o.o&&(ie.disabled=o.o=l),o.i=r(L,$,o.i),o.n=r(ee,x,o.n),o.s=r(ze,A,o.s),o.h=r(We,B,o.h),o},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),_})()},Ut=e=>{const C={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"0.1rem"},y={"font-size":"0.875rem","font-weight":"500",color:"var(--text-secondary)"};return(()=>{var R=ji(),M=R.firstChild,h=M.nextSibling,me=h.firstChild;return r(R,C),r(M,y),t(M,()=>e?.label),h.$$mouseout=se=>{se.currentTarget.style.background="white",se.currentTarget.style.borderColor="var(--border-color)"},h.$$mouseover=se=>{se.currentTarget.style.background="var(--surface-alt)",se.currentTarget.style.borderColor="var(--primary-color)"},h.$$click=()=>e?.handle?.(e?.text),h.style.setProperty("padding","0"),h.style.setProperty("font-size","0.9375rem"),h.style.setProperty("font-weight","500"),h.style.setProperty("border-radius","8px"),h.style.setProperty("background","white"),h.style.setProperty("color","var(--text-primary)"),h.style.setProperty("cursor","pointer"),h.style.setProperty("display","flex"),h.style.setProperty("align-items","center"),h.style.setProperty("gap","0.5rem"),h.style.setProperty("transition","all 0.2s"),me.style.setProperty("width","18px"),me.style.setProperty("height","18px"),R})()};ar(["click","mouseover","mouseout","input","keydown","mousedown"]);var Vi=a('<svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"clip-rule=evenodd>'),Gi=a('<svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z"clip-rule=evenodd>'),Qi=a('<svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z"clip-rule=evenodd>'),Xi=a('<svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"clip-rule=evenodd>'),Ki=a("<div><div></div><span> Analyzing"),Ji=a("<div><div></div><span> Errors"),Zi=a('<div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"clip-rule=evenodd>'),es=a('<div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"clip-rule=evenodd>'),ts=a("<div><table><thead><tr><th>Document</th><th>Type</th><th>Status</th><th>Size</th><th>Uploaded</th><th>Actions</th></tr></thead><tbody>"),rs=a("<div><div>No documents yet</div><div>Upload tax documents using the drop zone above</div><div>Or request documents from your client"),ns=a("<div><span>Confidence: </span><span>%"),ir=a("<div>"),ls=a("<div><div>AI Analysis</div><div>"),Mr=a("<div>EIN: "),is=a("<div><div>Box 1 - Wages</div><div>$"),ss=a("<div><div>Box 2 - Federal Tax Withheld</div><div>$"),os=a("<div><div>Box 3 - SS Wages</div><div>$"),as=a("<div><div>Box 4 - SS Tax Withheld</div><div>$"),ds=a("<div><div>Box 5 - Medicare Wages</div><div>$"),ys=a("<div><div>Box 6 - Medicare Tax Withheld</div><div>$"),cs=a("<div><div>Box 16 - State Wages</div><div>$"),ps=a("<div><div>Box 17 - State Tax Withheld</div><div>$"),us=a("<div><div>Box 18 - Local Wages</div><div>$"),ms=a("<div><div>Box 19 - Local Withheld </div><div>$"),gs=a("<div><div><span>W-2</span>Employer Information</div><div></div><div><div>Wage & Tax Information</div></div><div></div><div><div> Local Wages </div></div><div>"),fs=a("<div><div><span>1099-NEC</span>Payer Information</div><div></div><div>Nonemployee Compensation</div><div><div>Box 1 - Nonemployee Compensation</div><div>$"),vs=a("<div><div>Box 1 - Rents</div><div>$"),hs=a("<div><div>Box 2 - Royalties</div><div>$"),bs=a("<div><div>Box 3 - Other Income</div><div>$"),xs=a("<div><div><span>1099-MISC</span>Payer Information</div><div></div><div>Miscellaneous Income</div><div>"),Ps=a("<div><div><span>1099-INT</span>Payer Information</div><div></div><div>Interest Income</div><div><div>Box 1 - Interest Income</div><div>$"),$s=a("<div><div>Box 1a - Ordinary Dividends</div><div>$"),Ss=a("<div><div>Box 1b - Qualified Dividends</div><div>$"),ws=a("<div><div>Box 2a - Capital Gains</div><div>$"),Cs=a("<div><div><span>1099-DIV</span>Payer Information</div><div></div><div>Dividend Income</div><div>"),_s=a("<div><div>Box 1 - Mortgage Interest</div><div>$"),ks=a("<div><div>Box 10 - Property Taxes</div><div>$"),Ts=a("<div><div>Box 5 - Mortgage Insurance</div><div>$"),Is=a("<div><div><span>1098</span>Lender Information</div><div></div><div>Mortgage Interest Statement</div><div>"),Ns=a("<div><div>Box 1 - Payments Received</div><div>$"),zs=a("<div><div>Box 5 - Scholarships/Grants</div><div>$"),As=a("<div><div><span>1098-T</span>Educational Institution</div><div></div><div>Tuition Statement</div><div>"),Ds=a("<div>Marketplace ID: "),Fs=a("<div>Monthly Breakdown"),Ls=a("<div><table><thead><tr><th>Month</th><th>Premium</th><th>SLCSP</th><th>APTC</th></tr></thead><tbody>"),Rs=a("<div><div><span>1095-A</span>Health Insurance Marketplace Statement</div><div><div>Used for Form 8962 Premium Tax Credit calculation</div></div><div><div>Annual Totals (Form 8962)</div></div><div><div><div>Column A - Annual Premium</div><div>$</div></div><div><div>Column B - SLCSP</div><div>$</div></div><div><div>Column C - Advance PTC</div><div>$</div></div></div><div><span>Coverage Months</span><div><span> months"),Es=a("<div><div>Extracted Amounts</div><div>"),Ms=a("<div><strong>Error:</strong> "),Bs=a("<button>Verify"),Os=a('<div><div><div><h3>Document Details</h3><button><svg width=20 height=20 viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"clip-rule=evenodd></path></svg></button></div><div><div><div><div></div><div><div></div><div> • </div></div></div></div><div><div><div>Status</div><div><span></span></div></div><div><div>Document Type</div><div></div></div></div></div><div><button>Archivar'),js=a(`<div><div><div><h3>Documents</h3><div><div><div></div><span> Verified</span></div><div><div></div><span> Needs Review</span></div></div></div><div></div></div><div><input type=file multiple accept=.pdf,.jpg,.jpeg,.png><div></div><div></div><div>Accepts PDF, JPG, PNG (W-2, 1099, 1098, K-1, receipts)</div></div><style>
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
      `),Us=a('<button title="Re-analyze document">Analyze'),Hs=a('<tr><td><div><div></div><div></div></div></td><td><span></span></td><td><span></span></td><td><span></span></td><td><span></span></td><td><div><button title="View document">View</button><button title="Delete document">Delete'),Ws=a("<tr><td></td><td>$</td><td>$</td><td>$"),qs=a("<div><div></div><div>$");const Ys=["application/pdf","image/jpeg","image/png"],Vs=e=>{const[C,y]=Xe(!1),[R,M]=Xe(!1),[h,me]=Xe(null),[se,D]=Xe(null),[Z,K]=Xe(!1),[n,Q]=Xe(null),[xe,N]=Xe(!1),[O,m]=Xe(""),ae=()=>e.client?.id||e.taxPortal?.id||e.taxPortalId||"",s=()=>e.client||e.taxPortal,ne=()=>e.taxYear||new Date().getFullYear(),T=()=>{e.onRefresh?.()};let S;const ce=F=>F.uploadStatus==="error"?"error":F.uploadStatus==="analyzing"||F.uploadStatus==="uploading"?"analyzing":F.verified?"verified":(F.uploadStatus==="analyzed","needs_review"),f=Pr(()=>{const F=e.documents;return{total:F.length,verified:F.filter(V=>V.verified).length,needsReview:F.filter(V=>!V.verified&&V.uploadStatus==="analyzed").length,analyzing:F.filter(V=>V.uploadStatus==="analyzing"||V.uploadStatus==="uploading").length,errors:F.filter(V=>V.uploadStatus==="error").length}}),et=F=>F?F<1024?`${F} B`:F<1024*1024?`${(F/1024).toFixed(1)} KB`:`${(F/(1024*1024)).toFixed(1)} MB`:"-",$e=F=>F?new Date(F).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"-",Ye=F=>({verified:{label:"Verified",color:"#22c55e",bg:"rgba(34, 197, 94, 0.1)"},needs_review:{label:"Needs Review",color:"#f59e0b",bg:"rgba(245, 158, 11, 0.1)"},missing:{label:"Missing",color:"#ef4444",bg:"rgba(239, 68, 68, 0.1)"},analyzing:{label:"Analyzing...",color:"#3b82f6",bg:"rgba(59, 130, 246, 0.1)"},error:{label:"Error",color:"#ef4444",bg:"rgba(239, 68, 68, 0.1)"}})[F],pt=async F=>{const V=Array.from(F).filter(Oe=>Ys.includes(Oe.type));if(V.length===0){me("Please select PDF, JPG, or PNG files");return}M(!0),me(null);try{for(const Oe of V){const Ee=await bl(Oe,ae(),ne());if(Ee.success&&Ee.documentId)await Mn(Ee.documentId);else throw new Error(Ee.error||"Upload failed")}D(`Successfully uploaded ${V.length} document(s)`),setTimeout(()=>D(null),3e3),T()}catch(Oe){me(Oe.message)}finally{M(!1)}},oe=F=>{F.preventDefault(),y(!1),F.dataTransfer?.files&&pt(F.dataTransfer.files)},H=F=>{const V=F.target;V.files&&pt(V.files),V.value=""},Ge=F=>{Q(F)},Se=async F=>{let V=await Ln({query:"getSignedTaxDocumentUrl",params:{businessId:Rn.getBusinessId(),id:F?.id}});F.fileUrl&&window.open(V?.signedUrl,"_blank")},Je=()=>{Q(null)},je=F=>{const V=F.extractedAmounts||{},Oe=F.payerInfo||{};switch(F.drakeFormType){case"w2":return[Oe.ein?.split("-")?.[0]||"",Oe.ein?.split("-")?.[1]||"","|",Oe.name||"","|",Oe.address||"","|","|",Oe.zip||"","|","|","|","|","|",V.wages||"","|",V.wages||"","|",V.federalTaxWithheld||"","|",V.federalTaxWithheld||"","|",V.socialSecurityWages||"","|",V.socialSecurityTax||"","|",V.medicareWages||"","|",V.medicareTax||"","|","|","|","|","|","|","|","|","|","|","|","|","|","|","|","|","|","|","|","|","|","|","|","|","|","|","|","|","|","|","|","|","|","|","|","|","|","|","|","|","|","|",V.stateWages||"","|",V.stateWages||"","|",V.stateTaxWithheld||"","|",V.stateTaxWithheld||"","|"].join("");case"1099_nec":return[Oe?.ein||"","|","|",Oe?.name||"","|","|",Oe?.address||"","|",Oe?.zip?.split("-")?.[0]||"","|","|","|","|","|","|","|","|","|","|","|","|","|",V.nonEmployeeCompensation||"888","|","|","|","|",V.federalTaxWithheld||"","|"].join("");case"1099_misc":return[Oe.ein||"","|",Oe.name||"","|",Oe.address||"","|",Oe.zip||"","|",V.rents||"","|",V.royalties||"","|",V.otherIncome||"","|",V.federalTaxWithheld||"","|"].join("");case"1099_int":return[Oe.ein||"",Oe.name||"",Oe.address||"",Oe.city||"",Oe.state||"",Oe.zip||"",V.interestIncome||"",V.federalTaxWithheld||""].join("|");case"1099_div":return[Oe.ein||"",Oe.name||"",Oe.address||"",Oe.city||"",Oe.state||"",Oe.zip||"",V.ordinaryDividends||"",V.qualifiedDividends||"",V.capitalGains||"",V.federalTaxWithheld||""].join("|");case"1098":return[Oe.ein||"",Oe.name||"",Oe.address||"",Oe.city||"",Oe.state||"",Oe.zip||"",V.mortgageInterest||"",V.mortgageInsurance||"",V.propertyTaxes||""].join("|");case"1098_t":return[Oe.ein||"",Oe.name||"",Oe.address||"",Oe.city||"",Oe.state||"",Oe.zip||"",V.tuitionPaid||"",V.scholarshipsGrants||""].join("|");default:const Ee=Object.entries(V).filter(([g,k])=>k!=null).map(([g,k])=>k);return[Oe.ein||"",Oe.name||"",...Ee].join("|")}},Re=()=>{let F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],V=[];return F.forEach((Oe,Ee)=>{const g=n()?.extractedAmounts?.monthlyPremiums?.[Ee]||0,k=n()?.extractedAmounts?.monthlySlcsp?.[Ee]||0,De=n()?.extractedAmounts?.monthlyAptc?.[Ee]||0;V.push(g),V.push(k),V.push(De)}),V.join("|")},b=F=>{const V=je(F);m(V),N(!0)},Ue=async F=>{try{const V=await hl(F.id);if(V.success){const Oe={...F,verified:!0,verifiedAt:Date.now()};Q(Oe),D("Document verified successfully"),setTimeout(()=>D(null),3e3),T()}else me(V.error||"Failed to verify document")}catch(V){me(V.message)}},Me=async F=>{try{const V=await Ln({query:"updateTaxDocument",params:{businessId:Rn.getBusinessId(),id:F?.id},form:{taxPortalId:"archive_hrm",clientNotaryId:"archive_hrm"}});V.success?(D("Document verified successfully"),setTimeout(()=>D(null),3e3),T()):me(V.error||"Failed to verify document")}catch(V){me(V.message)}},fe=async F=>{try{await Mn(F.id),T(),D("Document sent for analysis"),setTimeout(()=>D(null),3e3)}catch(V){me(V.message)}},nt=async F=>{if(confirm("Are you sure you want to delete this document?"))try{await vl(F.id),T(),D("Document deleted"),setTimeout(()=>D(null),3e3)}catch(V){me(V.message)}},St=async()=>{const F=s();if(!F){me("Tax portal information not available");return}K(!0);try{await zn(F,{taxYear:ne(),instructions:"Please upload the requested tax documents."}),D("Document request sent to client"),setTimeout(()=>D(null),3e3)}catch(V){me(V.message)}finally{K(!1)}},ut=F=>{m(F),N(!0)},_t={display:"flex","flex-direction":"column",gap:"1.5rem"},Et={display:"flex","justify-content":"space-between","align-items":"center","flex-wrap":"wrap",gap:"1rem"},Bt={"font-size":"1.25rem","font-weight":"600",color:"var(--text-primary, #1f2937)",margin:"0"},G={display:"flex",gap:"1.5rem","flex-wrap":"wrap","margin-top":"0.5rem"},le={display:"flex","align-items":"center",gap:"0.5rem","font-size":"0.875rem"},ye=F=>({width:"8px",height:"8px","border-radius":"50%",background:F}),_e=F=>({border:`2px dashed ${F?"var(--primary-color, #3b82f6)":"var(--border-color, #e5e7eb)"}`,"border-radius":"12px",padding:"2rem","text-align":"center",background:F?"rgba(59, 130, 246, 0.05)":"var(--surface-alt, #f9fafb)",transition:"all 0.2s ease",cursor:"pointer"}),it={"overflow-x":"auto","border-radius":"8px",border:"1px solid var(--border-color, #e5e7eb)"},ft={width:"100%","border-collapse":"collapse","font-size":"0.875rem"},ot={padding:"0.75rem 1rem","text-align":"left","font-weight":"600","font-size":"0.75rem","text-transform":"uppercase","letter-spacing":"0.05em",color:"var(--text-secondary, #6b7280)",background:"var(--surface-alt, #f9fafb)","border-bottom":"1px solid var(--border-color, #e5e7eb)"},Ct={padding:"0.75rem 1rem","border-bottom":"1px solid var(--border-color, #e5e7eb)","vertical-align":"middle"},bt=F=>({display:"inline-flex","align-items":"center",gap:"0.375rem",padding:"0.25rem 0.625rem","border-radius":"9999px",background:F.bg,color:F.color,"font-size":"0.75rem","font-weight":"600"}),Ke={padding:"0.375rem 0.625rem",background:"transparent",border:"1px solid var(--border-color, #e5e7eb)","border-radius":"6px",cursor:"pointer","font-size":"0.75rem",color:"var(--text-secondary, #6b7280)",transition:"all 0.2s ease",display:"inline-flex","align-items":"center",gap:"0.25rem"},xt={...Ke,background:"var(--primary-color, #3b82f6)","border-color":"var(--primary-color, #3b82f6)",color:"white"},I=F=>({padding:"0.75rem 1rem","border-radius":"8px","font-size":"0.875rem",background:F==="success"?"rgba(34, 197, 94, 0.1)":"rgba(239, 68, 68, 0.1)",color:F==="success"?"#22c55e":"#ef4444",border:`1px solid ${F==="success"?"#22c55e":"#ef4444"}`,display:"flex","align-items":"center",gap:"0.5rem"}),X={"text-align":"center",padding:"3rem",color:"var(--text-secondary, #6b7280)"},J={width:"32px",height:"32px",display:"flex","align-items":"center","justify-content":"center",background:"var(--surface-alt, #f3f4f6)","border-radius":"6px","font-size":"0.75rem","font-weight":"600"},de={"font-weight":"500",color:"var(--text-primary, #1f2937)","max-width":"250px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"},we={display:"inline-block",padding:"0.125rem 0.5rem",background:"var(--surface-alt, #f3f4f6)","border-radius":"4px","font-size":"0.75rem",color:"var(--text-secondary, #6b7280)"},W=F=>{switch(F){case"verified":return(()=>{var V=Vi();return V.style.setProperty("width","14px"),V.style.setProperty("height","14px"),V})();case"needs_review":return(()=>{var V=Gi();return V.style.setProperty("width","14px"),V.style.setProperty("height","14px"),V})();case"analyzing":return(()=>{var V=Qi();return V.style.setProperty("width","14px"),V.style.setProperty("height","14px"),V.style.setProperty("animation","spin 1s linear infinite"),V})();case"error":case"missing":return(()=>{var V=Xi();return V.style.setProperty("width","14px"),V.style.setProperty("height","14px"),V})();default:return null}},Ie=F=>F?.includes("pdf")?"PDF":F?.includes("image")?"IMG":"DOC";return(()=>{var F=js(),V=F.firstChild,Oe=V.firstChild,Ee=Oe.firstChild,g=Ee.nextSibling,k=g.firstChild,De=k.firstChild,Ze=De.nextSibling,be=Ze.firstChild,Qe=k.nextSibling,yt=Qe.firstChild,_=yt.nextSibling,rt=_.firstChild,Pe=Oe.nextSibling,He=V.nextSibling,Ne=He.firstChild,vt=Ne.nextSibling,w=vt.nextSibling,E=w.nextSibling,ie=He.nextSibling;r(Ee,Bt),t(Ze,()=>f().verified,be),t(_,()=>f().needsReview,rt),t(g,i(u,{get when(){return f().analyzing>0},get children(){var L=Ki(),ee=L.firstChild,ze=ee.nextSibling,at=ze.firstChild;return t(ze,()=>f().analyzing,at),v(Ve=>{var We=le,ht=ye("#3b82f6");return Ve.e=r(L,We,Ve.e),Ve.t=r(ee,ht,Ve.t),Ve},{e:void 0,t:void 0}),L}}),null),t(g,i(u,{get when(){return f().errors>0},get children(){var L=Ji(),ee=L.firstChild,ze=ee.nextSibling,at=ze.firstChild;return t(ze,()=>f().errors,at),v(Ve=>{var We=le,ht=ye("#ef4444");return Ve.e=r(L,We,Ve.e),Ve.t=r(ee,ht,Ve.t),Ve},{e:void 0,t:void 0}),L}}),null),Pe.style.setProperty("display","flex"),Pe.style.setProperty("gap","0.5rem"),t(Pe,i(_r,{variant:"secondary",size:"sm",onClick:T,children:"Refresh"}),null),t(Pe,i(u,{get when(){return s()},get children(){return i(_r,{variant:"secondary",size:"sm",onClick:St,get disabled(){return Z()},get children(){return Z()?"Sending...":"Request from Client"}})}}),null),t(F,i(u,{get when(){return h()},get children(){var L=Zi(),ee=L.firstChild;return ee.style.setProperty("width","16px"),ee.style.setProperty("height","16px"),t(L,h,null),v(ze=>r(L,I("error"),ze)),L}}),He),t(F,i(u,{get when(){return se()},get children(){var L=es(),ee=L.firstChild;return ee.style.setProperty("width","16px"),ee.style.setProperty("height","16px"),t(L,se,null),v(ze=>r(L,I("success"),ze)),L}}),He),He.$$click=()=>S?.click(),He.addEventListener("drop",oe),He.addEventListener("dragleave",()=>y(!1)),He.addEventListener("dragover",L=>{L.preventDefault(),y(!0)}),Ne.addEventListener("change",H);var Fe=S;return typeof Fe=="function"?dl(Fe,Ne):S=Ne,Ne.style.setProperty("display","none"),vt.style.setProperty("font-size","2.5rem"),vt.style.setProperty("margin-bottom","0.75rem"),t(vt,()=>C()?"Drop files here":"Upload Documents"),w.style.setProperty("color","var(--text-secondary)"),w.style.setProperty("margin-bottom","1rem"),t(w,()=>C()?"Let go to upload":"Drag and drop your tax documents here, or click to browse"),t(He,i(_r,{variant:"primary",get disabled(){return R()},get children(){return R()?"Uploading...":"Browse Files"}}),E),E.style.setProperty("font-size","0.75rem"),E.style.setProperty("color","var(--text-muted)"),E.style.setProperty("margin-top","0.75rem"),t(F,i(u,{get when(){return e.documents.length>0},get children(){return i(xr,{get children(){var L=ts(),ee=L.firstChild,ze=ee.firstChild,at=ze.firstChild,Ve=at.firstChild,We=Ve.nextSibling,ht=We.nextSibling,o=ht.nextSibling,P=o.nextSibling,z=P.nextSibling,te=ze.nextSibling;return t(te,i(zt,{get each(){return e.documents},children:l=>{const $=ce(l),x=Ye($);return $t(l),(()=>{var A=Hs(),B=A.firstChild,ve=B.firstChild,Le=ve.firstChild,Te=Le.nextSibling,pe=B.nextSibling,Be=pe.firstChild,tt=pe.nextSibling,lt=tt.firstChild,d=tt.nextSibling,re=d.firstChild,ge=d.nextSibling,q=ge.firstChild,Ae=ge.nextSibling,ke=Ae.firstChild,c=ke.firstChild,U=c.nextSibling;return ve.style.setProperty("display","flex"),ve.style.setProperty("align-items","center"),ve.style.setProperty("gap","0.75rem"),r(Le,J),t(Le,()=>Ie(l.mimeType)),t(Te,()=>l.originalFileName),r(Be,we),t(Be,()=>yn[l.drakeFormType||"other"]),t(lt,()=>W($),null),t(lt,()=>x.label,null),re.style.setProperty("color","var(--text-secondary)"),t(re,()=>et(l.fileSize)),q.style.setProperty("color","var(--text-secondary)"),t(q,()=>$e(l.uploadedAt)),ke.style.setProperty("display","flex"),ke.style.setProperty("gap","0.5rem"),ke.style.setProperty("justify-content","flex-end"),c.$$click=()=>Ge(l),t(ke,i(u,{when:$!=="analyzing",get children(){var p=Us();return p.$$click=()=>fe(l),v(mt=>r(p,Ke,mt)),p}}),U),U.$$click=()=>nt(l),v(p=>{var mt=l.verified?"rgba(34, 197, 94, 0.03)":"transparent",ue=Ct,qe=de,j=l.originalFileName,Dt=Ct,Ce=Ct,Rt=bt(x),Ft=Ct,Ot=Ct,Kt={...Ct,"text-align":"right"},Jt=xt,Yt={...Ke,color:"#ef4444"};return mt!==p.e&&((p.e=mt)!=null?A.style.setProperty("background",mt):A.style.removeProperty("background")),p.t=r(B,ue,p.t),p.a=r(Te,qe,p.a),j!==p.o&&or(Te,"title",p.o=j),p.i=r(pe,Dt,p.i),p.n=r(tt,Ce,p.n),p.s=r(lt,Rt,p.s),p.h=r(d,Ft,p.h),p.r=r(ge,Ot,p.r),p.d=r(Ae,Kt,p.d),p.l=r(c,Jt,p.l),p.u=r(U,Yt,p.u),p},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0}),A})()}})),v(l=>{var $=it,x=ft,A=ot,B=ot,ve=ot,Le=ot,Te=ot,pe={...ot,"text-align":"right"};return l.e=r(L,$,l.e),l.t=r(ee,x,l.t),l.a=r(Ve,A,l.a),l.o=r(We,B,l.o),l.i=r(ht,ve,l.i),l.n=r(o,Le,l.n),l.s=r(P,Te,l.s),l.h=r(z,pe,l.h),l},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),L}})}}),ie),t(F,i(u,{get when(){return e.documents.length===0},get children(){return i(xr,{get children(){var L=rs(),ee=L.firstChild,ze=ee.nextSibling,at=ze.nextSibling;return ee.style.setProperty("font-size","3rem"),ee.style.setProperty("margin-bottom","1rem"),ze.style.setProperty("font-size","1rem"),ze.style.setProperty("margin-bottom","0.5rem"),at.style.setProperty("font-size","0.875rem"),v(Ve=>r(L,X,Ve)),L}})}}),ie),t(F,i(u,{get when(){return n()},get children(){var L=Os(),ee=L.firstChild,ze=ee.firstChild,at=ze.firstChild,Ve=at.nextSibling,We=ze.nextSibling,ht=We.firstChild,o=ht.firstChild,P=o.firstChild,z=P.nextSibling,te=z.firstChild,l=te.nextSibling,$=l.firstChild,x=ht.nextSibling,A=x.firstChild,B=A.firstChild,ve=B.nextSibling,Le=ve.firstChild,Te=A.nextSibling,pe=Te.firstChild,Be=pe.nextSibling,tt=We.nextSibling,lt=tt.firstChild;return L.$$click=Je,L.style.setProperty("position","fixed"),L.style.setProperty("top","0"),L.style.setProperty("left","0"),L.style.setProperty("right","0"),L.style.setProperty("bottom","0"),L.style.setProperty("background","rgba(0, 0, 0, 0.5)"),L.style.setProperty("display","flex"),L.style.setProperty("align-items","center"),L.style.setProperty("justify-content","center"),L.style.setProperty("z-index","1000"),L.style.setProperty("padding","1rem"),ee.$$click=d=>d.stopPropagation(),ee.style.setProperty("background","var(--surface-color, white)"),ee.style.setProperty("border-radius","12px"),ee.style.setProperty("max-width","900px"),ee.style.setProperty("width","100%"),ee.style.setProperty("max-height","90vh"),ee.style.setProperty("overflow","auto"),ee.style.setProperty("box-shadow","0 25px 50px -12px rgba(0, 0, 0, 0.25)"),ze.style.setProperty("display","flex"),ze.style.setProperty("justify-content","space-between"),ze.style.setProperty("align-items","center"),ze.style.setProperty("padding","1.25rem 1.5rem"),ze.style.setProperty("border-bottom","1px solid var(--border-color, #e5e7eb)"),at.style.setProperty("margin","0"),at.style.setProperty("font-size","1.125rem"),at.style.setProperty("font-weight","600"),Ve.$$click=Je,Ve.style.setProperty("background","transparent"),Ve.style.setProperty("border","none"),Ve.style.setProperty("cursor","pointer"),Ve.style.setProperty("padding","0.5rem"),Ve.style.setProperty("border-radius","6px"),Ve.style.setProperty("display","flex"),Ve.style.setProperty("align-items","center"),Ve.style.setProperty("justify-content","center"),We.style.setProperty("padding","1.5rem"),ht.style.setProperty("margin-bottom","1.5rem"),o.style.setProperty("display","flex"),o.style.setProperty("align-items","center"),o.style.setProperty("gap","1rem"),P.style.setProperty("width","48px"),P.style.setProperty("height","48px"),P.style.setProperty("display","flex"),P.style.setProperty("align-items","center"),P.style.setProperty("justify-content","center"),P.style.setProperty("background","var(--surface-alt, #f3f4f6)"),P.style.setProperty("border-radius","8px"),P.style.setProperty("font-weight","600"),P.style.setProperty("color","var(--primary-color, #3b82f6)"),t(P,()=>Ie(n()?.mimeType)),te.style.setProperty("font-weight","600"),te.style.setProperty("font-size","1rem"),t(te,()=>n()?.originalFileName),l.style.setProperty("font-size","0.875rem"),l.style.setProperty("color","var(--text-secondary)"),t(l,()=>et(n()?.fileSize),$),t(l,()=>$e(n()?.uploadedAt),null),x.style.setProperty("display","grid"),x.style.setProperty("grid-template-columns","1fr 1fr"),x.style.setProperty("gap","1rem"),x.style.setProperty("margin-bottom","1.5rem"),A.style.setProperty("padding","1rem"),A.style.setProperty("background","var(--surface-alt, #f9fafb)"),A.style.setProperty("border-radius","8px"),B.style.setProperty("font-size","0.75rem"),B.style.setProperty("color","var(--text-secondary)"),B.style.setProperty("margin-bottom","0.25rem"),B.style.setProperty("text-transform","uppercase"),ve.style.setProperty("font-weight","500"),t(Le,()=>W(ce(n())),null),t(Le,()=>Ye(ce(n())).label,null),Te.style.setProperty("padding","1rem"),Te.style.setProperty("background","var(--surface-alt, #f9fafb)"),Te.style.setProperty("border-radius","8px"),pe.style.setProperty("font-size","0.75rem"),pe.style.setProperty("color","var(--text-secondary)"),pe.style.setProperty("margin-bottom","0.25rem"),pe.style.setProperty("text-transform","uppercase"),Be.style.setProperty("font-weight","500"),t(Be,()=>yn[n()?.drakeFormType||"other"]),t(We,i(u,{get when(){return n()?.aiAnalysis},get children(){var d=ls(),re=d.firstChild,ge=re.nextSibling;return d.style.setProperty("margin-bottom","1.5rem"),re.style.setProperty("font-weight","600"),re.style.setProperty("margin-bottom","0.75rem"),ge.style.setProperty("padding","1rem"),ge.style.setProperty("background","rgba(139, 92, 246, 0.05)"),ge.style.setProperty("border","1px solid rgba(139, 92, 246, 0.2)"),ge.style.setProperty("border-radius","8px"),t(ge,i(u,{get when(){return n()?.aiAnalysis?.confidence},get children(){var q=ns(),Ae=q.firstChild,ke=Ae.nextSibling,c=ke.firstChild;return q.style.setProperty("margin-bottom","0.5rem"),Ae.style.setProperty("color","var(--text-secondary)"),Ae.style.setProperty("font-size","0.875rem"),ke.style.setProperty("font-weight","500"),t(ke,()=>Math.round((n()?.aiAnalysis?.confidence||0)*100),c),q}}),null),t(ge,i(u,{get when(){return n()?.aiAnalysis?.summary},get children(){var q=ir();return q.style.setProperty("font-size","0.875rem"),q.style.setProperty("color","var(--text-secondary)"),t(q,()=>n()?.aiAnalysis?.summary),q}}),null),d}}),null),t(We,i(u,{get when(){return n()?.drakeFormType==="w2"},get children(){var d=gs(),re=d.firstChild,ge=re.firstChild,q=re.nextSibling,Ae=q.nextSibling,ke=Ae.firstChild,c=Ae.nextSibling,U=c.nextSibling,p=U.firstChild,mt=U.nextSibling;return d.style.setProperty("margin-bottom","1.5rem"),re.style.setProperty("font-weight","600"),re.style.setProperty("margin-bottom","0.75rem"),re.style.setProperty("display","flex"),re.style.setProperty("align-items","center"),re.style.setProperty("gap","0.5rem"),ge.style.setProperty("background","#3b82f6"),ge.style.setProperty("color","white"),ge.style.setProperty("padding","0.125rem 0.5rem"),ge.style.setProperty("border-radius","4px"),ge.style.setProperty("font-size","0.75rem"),q.style.setProperty("padding","1rem"),q.style.setProperty("background","rgba(59, 130, 246, 0.05)"),q.style.setProperty("border","1px solid rgba(59, 130, 246, 0.2)"),q.style.setProperty("border-radius","8px"),q.style.setProperty("margin-bottom","1rem"),t(q,i(u,{get when(){return n()?.payerInfo?.name},get children(){var ue=ir();return ue.style.setProperty("font-weight","600"),ue.style.setProperty("font-size","1rem"),ue.style.setProperty("margin-bottom","0.25rem"),t(ue,()=>n()?.payerInfo?.name),ue}}),null),t(q,i(u,{get when(){return n()?.payerInfo?.ein},get children(){var ue=Mr();return ue.firstChild,ue.style.setProperty("font-size","0.875rem"),ue.style.setProperty("color","var(--text-secondary)"),t(ue,()=>n()?.payerInfo?.ein,null),ue}}),null),t(q,i(u,{get when(){return n()?.payerInfo?.address||n()?.payerInfo?.city},get children(){var ue=ir();return ue.style.setProperty("font-size","0.875rem"),ue.style.setProperty("color","var(--text-secondary)"),ue.style.setProperty("margin-top","0.25rem"),t(ue,()=>n()?.payerInfo?.address,null),t(ue,(()=>{var qe=ct(()=>!!n()?.payerInfo?.city);return()=>qe()&&`, ${n()?.payerInfo?.city}`})(),null),t(ue,(()=>{var qe=ct(()=>!!n()?.payerInfo?.state);return()=>qe()&&`, ${n()?.payerInfo?.state}`})(),null),t(ue,(()=>{var qe=ct(()=>!!n()?.payerInfo?.zip);return()=>qe()&&` ${n()?.payerInfo?.zip}`})(),null),ue}}),null),Ae.style.setProperty("display","grid"),Ae.style.setProperty("grid-template-columns","repeat(2, 1fr)"),Ae.style.setProperty("gap","0.5rem"),ke.style.setProperty("font-weight","600"),ke.style.setProperty("margin-bottom","0.75rem"),t(Ae,i(Ut,{get text(){return[n()?.extractedAmounts?.wages||"","|",n()?.extractedAmounts?.wages||"","|",n()?.extractedAmounts?.federalTaxWithheld||"","|",n()?.extractedAmounts?.federalTaxWithheld||"","|",n()?.extractedAmounts?.socialSecurityWages||"","|",n()?.extractedAmounts?.socialSecurityTax||"","|",n()?.extractedAmounts?.medicareWages||"","|",n()?.extractedAmounts?.medicareTax||"","|"].join("")||""},handle:ut,label:""}),null),c.style.setProperty("display","grid"),c.style.setProperty("grid-template-columns","repeat(2, 1fr)"),c.style.setProperty("gap","0.5rem"),t(c,i(u,{get when(){return n()?.extractedAmounts?.wages!==void 0},get children(){var ue=is(),qe=ue.firstChild,j=qe.nextSibling;return j.firstChild,ue.style.setProperty("padding","0.75rem"),ue.style.setProperty("background","var(--surface-alt, #f9fafb)"),ue.style.setProperty("border-radius","6px"),qe.style.setProperty("font-size","0.75rem"),qe.style.setProperty("color","var(--text-secondary)"),j.style.setProperty("font-weight","600"),j.style.setProperty("font-size","1.125rem"),j.style.setProperty("color","#22c55e"),t(j,()=>(n()?.extractedAmounts?.wages||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),ue}}),null),t(c,i(u,{get when(){return n()?.extractedAmounts?.federalTaxWithheld!==void 0},get children(){var ue=ss(),qe=ue.firstChild,j=qe.nextSibling;return j.firstChild,ue.style.setProperty("padding","0.75rem"),ue.style.setProperty("background","var(--surface-alt, #f9fafb)"),ue.style.setProperty("border-radius","6px"),qe.style.setProperty("font-size","0.75rem"),qe.style.setProperty("color","var(--text-secondary)"),j.style.setProperty("font-weight","600"),j.style.setProperty("font-size","1.125rem"),j.style.setProperty("color","#ef4444"),t(j,()=>(n()?.extractedAmounts?.federalTaxWithheld||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),ue}}),null),t(c,i(u,{get when(){return n()?.extractedAmounts?.socialSecurityWages!==void 0},get children(){var ue=os(),qe=ue.firstChild,j=qe.nextSibling;return j.firstChild,ue.style.setProperty("padding","0.75rem"),ue.style.setProperty("background","var(--surface-alt, #f9fafb)"),ue.style.setProperty("border-radius","6px"),qe.style.setProperty("font-size","0.75rem"),qe.style.setProperty("color","var(--text-secondary)"),j.style.setProperty("font-weight","600"),t(j,()=>(n()?.extractedAmounts?.socialSecurityWages||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),ue}}),null),t(c,i(u,{get when(){return n()?.extractedAmounts?.socialSecurityTax!==void 0},get children(){var ue=as(),qe=ue.firstChild,j=qe.nextSibling;return j.firstChild,ue.style.setProperty("padding","0.75rem"),ue.style.setProperty("background","var(--surface-alt, #f9fafb)"),ue.style.setProperty("border-radius","6px"),qe.style.setProperty("font-size","0.75rem"),qe.style.setProperty("color","var(--text-secondary)"),j.style.setProperty("font-weight","600"),t(j,()=>(n()?.extractedAmounts?.socialSecurityTax||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),ue}}),null),t(c,i(u,{get when(){return n()?.extractedAmounts?.medicareWages!==void 0},get children(){var ue=ds(),qe=ue.firstChild,j=qe.nextSibling;return j.firstChild,ue.style.setProperty("padding","0.75rem"),ue.style.setProperty("background","var(--surface-alt, #f9fafb)"),ue.style.setProperty("border-radius","6px"),qe.style.setProperty("font-size","0.75rem"),qe.style.setProperty("color","var(--text-secondary)"),j.style.setProperty("font-weight","600"),t(j,()=>(n()?.extractedAmounts?.medicareWages||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),ue}}),null),t(c,i(u,{get when(){return n()?.extractedAmounts?.medicareTax!==void 0},get children(){var ue=ys(),qe=ue.firstChild,j=qe.nextSibling;return j.firstChild,ue.style.setProperty("padding","0.75rem"),ue.style.setProperty("background","var(--surface-alt, #f9fafb)"),ue.style.setProperty("border-radius","6px"),qe.style.setProperty("font-size","0.75rem"),qe.style.setProperty("color","var(--text-secondary)"),j.style.setProperty("font-weight","600"),t(j,()=>(n()?.extractedAmounts?.medicareTax||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),ue}}),null),U.style.setProperty("display","grid"),U.style.setProperty("grid-template-columns","repeat(2, 1fr)"),U.style.setProperty("gap","0.5rem"),p.style.setProperty("font-weight","600"),p.style.setProperty("margin","0.75rem 0"),t(U,i(Ut,{get text(){return[n()?.extractedAmounts?.stateWages||"","|",n()?.extractedAmounts?.stateWages||"","|",n()?.extractedAmounts?.stateTaxWithheld||"","|",n()?.extractedAmounts?.stateTaxWithheld||"","|",n()?.extractedAmounts?.localWages||"","|",n()?.extractedAmounts?.localTaxWithheld||"","|"].join("")||""},handle:ut,label:""}),null),mt.style.setProperty("display","grid"),mt.style.setProperty("grid-template-columns","repeat(2, 1fr)"),mt.style.setProperty("gap","0.5rem"),t(mt,i(u,{get when(){return n()?.extractedAmounts?.stateWages!==void 0},get children(){var ue=cs(),qe=ue.firstChild,j=qe.nextSibling;return j.firstChild,ue.style.setProperty("padding","0.75rem"),ue.style.setProperty("background","var(--surface-alt, #f9fafb)"),ue.style.setProperty("border-radius","6px"),qe.style.setProperty("font-size","0.75rem"),qe.style.setProperty("color","var(--text-secondary)"),j.style.setProperty("font-weight","600"),t(j,()=>(n()?.extractedAmounts?.stateWages||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),ue}}),null),t(mt,i(u,{get when(){return n()?.extractedAmounts?.stateTaxWithheld!==void 0},get children(){var ue=ps(),qe=ue.firstChild,j=qe.nextSibling;return j.firstChild,ue.style.setProperty("padding","0.75rem"),ue.style.setProperty("background","var(--surface-alt, #f9fafb)"),ue.style.setProperty("border-radius","6px"),qe.style.setProperty("font-size","0.75rem"),qe.style.setProperty("color","var(--text-secondary)"),j.style.setProperty("font-weight","600"),t(j,()=>(n()?.extractedAmounts?.stateTaxWithheld||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),ue}}),null),t(mt,i(u,{get when(){return n()?.extractedAmounts?.localWages!==void 0},get children(){var ue=us(),qe=ue.firstChild,j=qe.nextSibling;return j.firstChild,ue.style.setProperty("padding","0.75rem"),ue.style.setProperty("background","var(--surface-alt, #f9fafb)"),ue.style.setProperty("border-radius","6px"),qe.style.setProperty("font-size","0.75rem"),qe.style.setProperty("color","var(--text-secondary)"),j.style.setProperty("font-weight","600"),t(j,()=>(n()?.extractedAmounts?.localWages||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),ue}}),null),t(mt,i(u,{get when(){return n()?.extractedAmounts?.localTaxWithheld!==void 0},get children(){var ue=ms(),qe=ue.firstChild,j=qe.nextSibling;return j.firstChild,ue.style.setProperty("padding","0.75rem"),ue.style.setProperty("background","var(--surface-alt, #f9fafb)"),ue.style.setProperty("border-radius","6px"),qe.style.setProperty("font-size","0.75rem"),qe.style.setProperty("color","var(--text-secondary)"),j.style.setProperty("font-weight","600"),t(j,()=>(n()?.extractedAmounts?.localTaxWithheld||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),ue}}),null),d}}),null),t(We,i(u,{get when(){return n()?.drakeFormType==="1099_nec"},get children(){var d=fs(),re=d.firstChild,ge=re.firstChild,q=re.nextSibling,Ae=q.nextSibling,ke=Ae.nextSibling,c=ke.firstChild,U=c.nextSibling;return U.firstChild,d.style.setProperty("margin-bottom","1.5rem"),re.style.setProperty("font-weight","600"),re.style.setProperty("margin-bottom","0.75rem"),re.style.setProperty("display","flex"),re.style.setProperty("align-items","center"),re.style.setProperty("gap","0.5rem"),ge.style.setProperty("background","#8b5cf6"),ge.style.setProperty("color","white"),ge.style.setProperty("padding","0.125rem 0.5rem"),ge.style.setProperty("border-radius","4px"),ge.style.setProperty("font-size","0.75rem"),q.style.setProperty("padding","1rem"),q.style.setProperty("background","rgba(139, 92, 246, 0.05)"),q.style.setProperty("border","1px solid rgba(139, 92, 246, 0.2)"),q.style.setProperty("border-radius","8px"),q.style.setProperty("margin-bottom","1rem"),t(q,i(u,{get when(){return n()?.payerInfo?.name},get children(){var p=ir();return p.style.setProperty("font-weight","600"),p.style.setProperty("font-size","1rem"),p.style.setProperty("margin-bottom","0.25rem"),t(p,()=>n()?.payerInfo?.name),p}}),null),t(q,i(u,{get when(){return n()?.payerInfo?.ein},get children(){var p=Mr();return p.firstChild,p.style.setProperty("font-size","0.875rem"),p.style.setProperty("color","var(--text-secondary)"),t(p,()=>n()?.payerInfo?.ein,null),p}}),null),t(q,i(u,{get when(){return n()?.payerInfo?.address||n()?.payerInfo?.city},get children(){var p=ir();return p.style.setProperty("font-size","0.875rem"),p.style.setProperty("color","var(--text-secondary)"),p.style.setProperty("margin-top","0.25rem"),t(p,()=>n()?.payerInfo?.address,null),t(p,(()=>{var mt=ct(()=>!!n()?.payerInfo?.city);return()=>mt()&&`, ${n()?.payerInfo?.city}`})(),null),t(p,(()=>{var mt=ct(()=>!!n()?.payerInfo?.state);return()=>mt()&&`, ${n()?.payerInfo?.state}`})(),null),t(p,(()=>{var mt=ct(()=>!!n()?.payerInfo?.zip);return()=>mt()&&` ${n()?.payerInfo?.zip}`})(),null),p}}),null),Ae.style.setProperty("font-weight","600"),Ae.style.setProperty("margin-bottom","0.75rem"),ke.style.setProperty("padding","1.25rem"),ke.style.setProperty("background","linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(168, 85, 247, 0.1))"),ke.style.setProperty("border-radius","8px"),ke.style.setProperty("text-align","center"),c.style.setProperty("font-size","0.875rem"),c.style.setProperty("color","var(--text-secondary)"),c.style.setProperty("margin-bottom","0.25rem"),U.style.setProperty("font-size","2rem"),U.style.setProperty("font-weight","700"),U.style.setProperty("color","#8b5cf6"),t(U,()=>(n()?.extractedAmounts?.nonEmployeeCompensation||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),d}}),null),t(We,i(u,{get when(){return n()?.drakeFormType==="1099_misc"},get children(){var d=xs(),re=d.firstChild,ge=re.firstChild,q=re.nextSibling,Ae=q.nextSibling,ke=Ae.nextSibling;return d.style.setProperty("margin-bottom","1.5rem"),re.style.setProperty("font-weight","600"),re.style.setProperty("margin-bottom","0.75rem"),re.style.setProperty("display","flex"),re.style.setProperty("align-items","center"),re.style.setProperty("gap","0.5rem"),ge.style.setProperty("background","#f59e0b"),ge.style.setProperty("color","white"),ge.style.setProperty("padding","0.125rem 0.5rem"),ge.style.setProperty("border-radius","4px"),ge.style.setProperty("font-size","0.75rem"),q.style.setProperty("padding","1rem"),q.style.setProperty("background","rgba(245, 158, 11, 0.05)"),q.style.setProperty("border","1px solid rgba(245, 158, 11, 0.2)"),q.style.setProperty("border-radius","8px"),q.style.setProperty("margin-bottom","1rem"),t(q,i(u,{get when(){return n()?.payerInfo?.name},get children(){var c=ir();return c.style.setProperty("font-weight","600"),c.style.setProperty("font-size","1rem"),c.style.setProperty("margin-bottom","0.25rem"),t(c,()=>n()?.payerInfo?.name),c}}),null),t(q,i(u,{get when(){return n()?.payerInfo?.ein},get children(){var c=Mr();return c.firstChild,c.style.setProperty("font-size","0.875rem"),c.style.setProperty("color","var(--text-secondary)"),t(c,()=>n()?.payerInfo?.ein,null),c}}),null),t(q,i(u,{get when(){return n()?.payerInfo?.address||n()?.payerInfo?.city},get children(){var c=ir();return c.style.setProperty("font-size","0.875rem"),c.style.setProperty("color","var(--text-secondary)"),c.style.setProperty("margin-top","0.25rem"),t(c,()=>n()?.payerInfo?.address,null),t(c,(()=>{var U=ct(()=>!!n()?.payerInfo?.city);return()=>U()&&`, ${n()?.payerInfo?.city}`})(),null),t(c,(()=>{var U=ct(()=>!!n()?.payerInfo?.state);return()=>U()&&`, ${n()?.payerInfo?.state}`})(),null),t(c,(()=>{var U=ct(()=>!!n()?.payerInfo?.zip);return()=>U()&&` ${n()?.payerInfo?.zip}`})(),null),c}}),null),Ae.style.setProperty("font-weight","600"),Ae.style.setProperty("margin-bottom","0.75rem"),ke.style.setProperty("display","grid"),ke.style.setProperty("grid-template-columns","repeat(2, 1fr)"),ke.style.setProperty("gap","0.5rem"),t(ke,i(u,{get when(){return n()?.extractedAmounts?.rents!==void 0},get children(){var c=vs(),U=c.firstChild,p=U.nextSibling;return p.firstChild,c.style.setProperty("padding","0.75rem"),c.style.setProperty("background","var(--surface-alt, #f9fafb)"),c.style.setProperty("border-radius","6px"),U.style.setProperty("font-size","0.75rem"),U.style.setProperty("color","var(--text-secondary)"),p.style.setProperty("font-weight","600"),t(p,()=>(n()?.extractedAmounts?.rents||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),c}}),null),t(ke,i(u,{get when(){return n()?.extractedAmounts?.royalties!==void 0},get children(){var c=hs(),U=c.firstChild,p=U.nextSibling;return p.firstChild,c.style.setProperty("padding","0.75rem"),c.style.setProperty("background","var(--surface-alt, #f9fafb)"),c.style.setProperty("border-radius","6px"),U.style.setProperty("font-size","0.75rem"),U.style.setProperty("color","var(--text-secondary)"),p.style.setProperty("font-weight","600"),t(p,()=>(n()?.extractedAmounts?.royalties||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),c}}),null),t(ke,i(u,{get when(){return n()?.extractedAmounts?.otherIncome!==void 0},get children(){var c=bs(),U=c.firstChild,p=U.nextSibling;return p.firstChild,c.style.setProperty("padding","0.75rem"),c.style.setProperty("background","var(--surface-alt, #f9fafb)"),c.style.setProperty("border-radius","6px"),U.style.setProperty("font-size","0.75rem"),U.style.setProperty("color","var(--text-secondary)"),p.style.setProperty("font-weight","600"),t(p,()=>(n()?.extractedAmounts?.otherIncome||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),c}}),null),d}}),null),t(We,i(u,{get when(){return n()?.drakeFormType==="1099_int"},get children(){var d=Ps(),re=d.firstChild,ge=re.firstChild,q=re.nextSibling,Ae=q.nextSibling,ke=Ae.nextSibling,c=ke.firstChild,U=c.nextSibling;return U.firstChild,d.style.setProperty("margin-bottom","1.5rem"),re.style.setProperty("font-weight","600"),re.style.setProperty("margin-bottom","0.75rem"),re.style.setProperty("display","flex"),re.style.setProperty("align-items","center"),re.style.setProperty("gap","0.5rem"),ge.style.setProperty("background","#22c55e"),ge.style.setProperty("color","white"),ge.style.setProperty("padding","0.125rem 0.5rem"),ge.style.setProperty("border-radius","4px"),ge.style.setProperty("font-size","0.75rem"),q.style.setProperty("padding","1rem"),q.style.setProperty("background","rgba(34, 197, 94, 0.05)"),q.style.setProperty("border","1px solid rgba(34, 197, 94, 0.2)"),q.style.setProperty("border-radius","8px"),q.style.setProperty("margin-bottom","1rem"),t(q,i(u,{get when(){return n()?.payerInfo?.name},get children(){var p=ir();return p.style.setProperty("font-weight","600"),p.style.setProperty("font-size","1rem"),p.style.setProperty("margin-bottom","0.25rem"),t(p,()=>n()?.payerInfo?.name),p}}),null),t(q,i(u,{get when(){return n()?.payerInfo?.ein},get children(){var p=Mr();return p.firstChild,p.style.setProperty("font-size","0.875rem"),p.style.setProperty("color","var(--text-secondary)"),t(p,()=>n()?.payerInfo?.ein,null),p}}),null),t(q,i(u,{get when(){return n()?.payerInfo?.address||n()?.payerInfo?.city},get children(){var p=ir();return p.style.setProperty("font-size","0.875rem"),p.style.setProperty("color","var(--text-secondary)"),p.style.setProperty("margin-top","0.25rem"),t(p,()=>n()?.payerInfo?.address,null),t(p,(()=>{var mt=ct(()=>!!n()?.payerInfo?.city);return()=>mt()&&`, ${n()?.payerInfo?.city}`})(),null),t(p,(()=>{var mt=ct(()=>!!n()?.payerInfo?.state);return()=>mt()&&`, ${n()?.payerInfo?.state}`})(),null),t(p,(()=>{var mt=ct(()=>!!n()?.payerInfo?.zip);return()=>mt()&&` ${n()?.payerInfo?.zip}`})(),null),p}}),null),Ae.style.setProperty("font-weight","600"),Ae.style.setProperty("margin-bottom","0.75rem"),ke.style.setProperty("padding","1.25rem"),ke.style.setProperty("background","linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(16, 185, 129, 0.1))"),ke.style.setProperty("border-radius","8px"),ke.style.setProperty("text-align","center"),c.style.setProperty("font-size","0.875rem"),c.style.setProperty("color","var(--text-secondary)"),c.style.setProperty("margin-bottom","0.25rem"),U.style.setProperty("font-size","2rem"),U.style.setProperty("font-weight","700"),U.style.setProperty("color","#22c55e"),t(U,()=>(n()?.extractedAmounts?.interestIncome||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),d}}),null),t(We,i(u,{get when(){return n()?.drakeFormType==="1099_div"},get children(){var d=Cs(),re=d.firstChild,ge=re.firstChild,q=re.nextSibling,Ae=q.nextSibling,ke=Ae.nextSibling;return d.style.setProperty("margin-bottom","1.5rem"),re.style.setProperty("font-weight","600"),re.style.setProperty("margin-bottom","0.75rem"),re.style.setProperty("display","flex"),re.style.setProperty("align-items","center"),re.style.setProperty("gap","0.5rem"),ge.style.setProperty("background","#06b6d4"),ge.style.setProperty("color","white"),ge.style.setProperty("padding","0.125rem 0.5rem"),ge.style.setProperty("border-radius","4px"),ge.style.setProperty("font-size","0.75rem"),q.style.setProperty("padding","1rem"),q.style.setProperty("background","rgba(6, 182, 212, 0.05)"),q.style.setProperty("border","1px solid rgba(6, 182, 212, 0.2)"),q.style.setProperty("border-radius","8px"),q.style.setProperty("margin-bottom","1rem"),t(q,i(u,{get when(){return n()?.payerInfo?.name},get children(){var c=ir();return c.style.setProperty("font-weight","600"),c.style.setProperty("font-size","1rem"),c.style.setProperty("margin-bottom","0.25rem"),t(c,()=>n()?.payerInfo?.name),c}}),null),t(q,i(u,{get when(){return n()?.payerInfo?.ein},get children(){var c=Mr();return c.firstChild,c.style.setProperty("font-size","0.875rem"),c.style.setProperty("color","var(--text-secondary)"),t(c,()=>n()?.payerInfo?.ein,null),c}}),null),t(q,i(u,{get when(){return n()?.payerInfo?.address||n()?.payerInfo?.city},get children(){var c=ir();return c.style.setProperty("font-size","0.875rem"),c.style.setProperty("color","var(--text-secondary)"),c.style.setProperty("margin-top","0.25rem"),t(c,()=>n()?.payerInfo?.address,null),t(c,(()=>{var U=ct(()=>!!n()?.payerInfo?.city);return()=>U()&&`, ${n()?.payerInfo?.city}`})(),null),t(c,(()=>{var U=ct(()=>!!n()?.payerInfo?.state);return()=>U()&&`, ${n()?.payerInfo?.state}`})(),null),t(c,(()=>{var U=ct(()=>!!n()?.payerInfo?.zip);return()=>U()&&` ${n()?.payerInfo?.zip}`})(),null),c}}),null),Ae.style.setProperty("font-weight","600"),Ae.style.setProperty("margin-bottom","0.75rem"),ke.style.setProperty("display","grid"),ke.style.setProperty("grid-template-columns","repeat(2, 1fr)"),ke.style.setProperty("gap","0.5rem"),t(ke,i(u,{get when(){return n()?.extractedAmounts?.ordinaryDividends!==void 0},get children(){var c=$s(),U=c.firstChild,p=U.nextSibling;return p.firstChild,c.style.setProperty("padding","0.75rem"),c.style.setProperty("background","var(--surface-alt, #f9fafb)"),c.style.setProperty("border-radius","6px"),U.style.setProperty("font-size","0.75rem"),U.style.setProperty("color","var(--text-secondary)"),p.style.setProperty("font-weight","600"),p.style.setProperty("font-size","1.125rem"),p.style.setProperty("color","#06b6d4"),t(p,()=>(n()?.extractedAmounts?.ordinaryDividends||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),c}}),null),t(ke,i(u,{get when(){return n()?.extractedAmounts?.qualifiedDividends!==void 0},get children(){var c=Ss(),U=c.firstChild,p=U.nextSibling;return p.firstChild,c.style.setProperty("padding","0.75rem"),c.style.setProperty("background","var(--surface-alt, #f9fafb)"),c.style.setProperty("border-radius","6px"),U.style.setProperty("font-size","0.75rem"),U.style.setProperty("color","var(--text-secondary)"),p.style.setProperty("font-weight","600"),p.style.setProperty("font-size","1.125rem"),p.style.setProperty("color","#06b6d4"),t(p,()=>(n()?.extractedAmounts?.qualifiedDividends||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),c}}),null),t(ke,i(u,{get when(){return n()?.extractedAmounts?.capitalGains!==void 0},get children(){var c=ws(),U=c.firstChild,p=U.nextSibling;return p.firstChild,c.style.setProperty("padding","0.75rem"),c.style.setProperty("background","var(--surface-alt, #f9fafb)"),c.style.setProperty("border-radius","6px"),U.style.setProperty("font-size","0.75rem"),U.style.setProperty("color","var(--text-secondary)"),p.style.setProperty("font-weight","600"),t(p,()=>(n()?.extractedAmounts?.capitalGains||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),c}}),null),d}}),null),t(We,i(u,{get when(){return n()?.drakeFormType==="1098"},get children(){var d=Is(),re=d.firstChild,ge=re.firstChild,q=re.nextSibling,Ae=q.nextSibling,ke=Ae.nextSibling;return d.style.setProperty("margin-bottom","1.5rem"),re.style.setProperty("font-weight","600"),re.style.setProperty("margin-bottom","0.75rem"),re.style.setProperty("display","flex"),re.style.setProperty("align-items","center"),re.style.setProperty("gap","0.5rem"),ge.style.setProperty("background","#ec4899"),ge.style.setProperty("color","white"),ge.style.setProperty("padding","0.125rem 0.5rem"),ge.style.setProperty("border-radius","4px"),ge.style.setProperty("font-size","0.75rem"),q.style.setProperty("padding","1rem"),q.style.setProperty("background","rgba(236, 72, 153, 0.05)"),q.style.setProperty("border","1px solid rgba(236, 72, 153, 0.2)"),q.style.setProperty("border-radius","8px"),q.style.setProperty("margin-bottom","1rem"),t(q,i(u,{get when(){return n()?.payerInfo?.name},get children(){var c=ir();return c.style.setProperty("font-weight","600"),c.style.setProperty("font-size","1rem"),c.style.setProperty("margin-bottom","0.25rem"),t(c,()=>n()?.payerInfo?.name),c}}),null),t(q,i(u,{get when(){return n()?.payerInfo?.ein},get children(){var c=Mr();return c.firstChild,c.style.setProperty("font-size","0.875rem"),c.style.setProperty("color","var(--text-secondary)"),t(c,()=>n()?.payerInfo?.ein,null),c}}),null),t(q,i(u,{get when(){return n()?.payerInfo?.address||n()?.payerInfo?.city},get children(){var c=ir();return c.style.setProperty("font-size","0.875rem"),c.style.setProperty("color","var(--text-secondary)"),c.style.setProperty("margin-top","0.25rem"),t(c,()=>n()?.payerInfo?.address,null),t(c,(()=>{var U=ct(()=>!!n()?.payerInfo?.city);return()=>U()&&`, ${n()?.payerInfo?.city}`})(),null),t(c,(()=>{var U=ct(()=>!!n()?.payerInfo?.state);return()=>U()&&`, ${n()?.payerInfo?.state}`})(),null),t(c,(()=>{var U=ct(()=>!!n()?.payerInfo?.zip);return()=>U()&&` ${n()?.payerInfo?.zip}`})(),null),c}}),null),Ae.style.setProperty("font-weight","600"),Ae.style.setProperty("margin-bottom","0.75rem"),ke.style.setProperty("display","grid"),ke.style.setProperty("grid-template-columns","repeat(2, 1fr)"),ke.style.setProperty("gap","0.5rem"),t(ke,i(u,{get when(){return n()?.extractedAmounts?.mortgageInterest!==void 0},get children(){var c=_s(),U=c.firstChild,p=U.nextSibling;return p.firstChild,c.style.setProperty("padding","0.75rem"),c.style.setProperty("background","var(--surface-alt, #f9fafb)"),c.style.setProperty("border-radius","6px"),U.style.setProperty("font-size","0.75rem"),U.style.setProperty("color","var(--text-secondary)"),p.style.setProperty("font-weight","600"),p.style.setProperty("font-size","1.125rem"),p.style.setProperty("color","#ec4899"),t(p,()=>(n()?.extractedAmounts?.mortgageInterest||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),c}}),null),t(ke,i(u,{get when(){return n()?.extractedAmounts?.propertyTaxes!==void 0},get children(){var c=ks(),U=c.firstChild,p=U.nextSibling;return p.firstChild,c.style.setProperty("padding","0.75rem"),c.style.setProperty("background","var(--surface-alt, #f9fafb)"),c.style.setProperty("border-radius","6px"),U.style.setProperty("font-size","0.75rem"),U.style.setProperty("color","var(--text-secondary)"),p.style.setProperty("font-weight","600"),p.style.setProperty("font-size","1.125rem"),t(p,()=>(n()?.extractedAmounts?.propertyTaxes||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),c}}),null),t(ke,i(u,{get when(){return n()?.extractedAmounts?.mortgageInsurance!==void 0},get children(){var c=Ts(),U=c.firstChild,p=U.nextSibling;return p.firstChild,c.style.setProperty("padding","0.75rem"),c.style.setProperty("background","var(--surface-alt, #f9fafb)"),c.style.setProperty("border-radius","6px"),U.style.setProperty("font-size","0.75rem"),U.style.setProperty("color","var(--text-secondary)"),p.style.setProperty("font-weight","600"),t(p,()=>(n()?.extractedAmounts?.mortgageInsurance||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),c}}),null),d}}),null),t(We,i(u,{get when(){return n()?.drakeFormType==="1098_t"},get children(){var d=As(),re=d.firstChild,ge=re.firstChild,q=re.nextSibling,Ae=q.nextSibling,ke=Ae.nextSibling;return d.style.setProperty("margin-bottom","1.5rem"),re.style.setProperty("font-weight","600"),re.style.setProperty("margin-bottom","0.75rem"),re.style.setProperty("display","flex"),re.style.setProperty("align-items","center"),re.style.setProperty("gap","0.5rem"),ge.style.setProperty("background","#14b8a6"),ge.style.setProperty("color","white"),ge.style.setProperty("padding","0.125rem 0.5rem"),ge.style.setProperty("border-radius","4px"),ge.style.setProperty("font-size","0.75rem"),q.style.setProperty("padding","1rem"),q.style.setProperty("background","rgba(20, 184, 166, 0.05)"),q.style.setProperty("border","1px solid rgba(20, 184, 166, 0.2)"),q.style.setProperty("border-radius","8px"),q.style.setProperty("margin-bottom","1rem"),t(q,i(u,{get when(){return n()?.payerInfo?.name},get children(){var c=ir();return c.style.setProperty("font-weight","600"),c.style.setProperty("font-size","1rem"),c.style.setProperty("margin-bottom","0.25rem"),t(c,()=>n()?.payerInfo?.name),c}}),null),t(q,i(u,{get when(){return n()?.payerInfo?.ein},get children(){var c=Mr();return c.firstChild,c.style.setProperty("font-size","0.875rem"),c.style.setProperty("color","var(--text-secondary)"),t(c,()=>n()?.payerInfo?.ein,null),c}}),null),t(q,i(u,{get when(){return n()?.payerInfo?.address||n()?.payerInfo?.city},get children(){var c=ir();return c.style.setProperty("font-size","0.875rem"),c.style.setProperty("color","var(--text-secondary)"),c.style.setProperty("margin-top","0.25rem"),t(c,()=>n()?.payerInfo?.address,null),t(c,(()=>{var U=ct(()=>!!n()?.payerInfo?.city);return()=>U()&&`, ${n()?.payerInfo?.city}`})(),null),t(c,(()=>{var U=ct(()=>!!n()?.payerInfo?.state);return()=>U()&&`, ${n()?.payerInfo?.state}`})(),null),t(c,(()=>{var U=ct(()=>!!n()?.payerInfo?.zip);return()=>U()&&` ${n()?.payerInfo?.zip}`})(),null),c}}),null),Ae.style.setProperty("font-weight","600"),Ae.style.setProperty("margin-bottom","0.75rem"),ke.style.setProperty("display","grid"),ke.style.setProperty("grid-template-columns","repeat(2, 1fr)"),ke.style.setProperty("gap","0.5rem"),t(ke,i(u,{get when(){return n()?.extractedAmounts?.tuitionPaid!==void 0},get children(){var c=Ns(),U=c.firstChild,p=U.nextSibling;return p.firstChild,c.style.setProperty("padding","0.75rem"),c.style.setProperty("background","var(--surface-alt, #f9fafb)"),c.style.setProperty("border-radius","6px"),U.style.setProperty("font-size","0.75rem"),U.style.setProperty("color","var(--text-secondary)"),p.style.setProperty("font-weight","600"),p.style.setProperty("font-size","1.125rem"),p.style.setProperty("color","#14b8a6"),t(p,()=>(n()?.extractedAmounts?.tuitionPaid||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),c}}),null),t(ke,i(u,{get when(){return n()?.extractedAmounts?.scholarshipsGrants!==void 0},get children(){var c=zs(),U=c.firstChild,p=U.nextSibling;return p.firstChild,c.style.setProperty("padding","0.75rem"),c.style.setProperty("background","var(--surface-alt, #f9fafb)"),c.style.setProperty("border-radius","6px"),U.style.setProperty("font-size","0.75rem"),U.style.setProperty("color","var(--text-secondary)"),p.style.setProperty("font-weight","600"),p.style.setProperty("font-size","1.125rem"),t(p,()=>(n()?.extractedAmounts?.scholarshipsGrants||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),c}}),null),d}}),null),t(We,i(u,{get when(){return n()?.drakeFormType==="1095_a"||n()?.documentType?.toLowerCase().includes("1095")},get children(){var d=Rs(),re=d.firstChild,ge=re.firstChild,q=re.nextSibling,Ae=q.firstChild,ke=q.nextSibling,c=ke.firstChild,U=ke.nextSibling,p=U.firstChild,mt=p.firstChild,ue=mt.nextSibling;ue.firstChild;var qe=p.nextSibling,j=qe.firstChild,Dt=j.nextSibling;Dt.firstChild;var Ce=qe.nextSibling,Rt=Ce.firstChild,Ft=Rt.nextSibling;Ft.firstChild;var Ot=U.nextSibling,Kt=Ot.firstChild,Jt=Kt.nextSibling,Yt=Jt.firstChild,vr=Yt.firstChild;return d.style.setProperty("margin-bottom","1.5rem"),re.style.setProperty("font-weight","600"),re.style.setProperty("margin-bottom","0.75rem"),re.style.setProperty("display","flex"),re.style.setProperty("align-items","center"),re.style.setProperty("gap","0.5rem"),ge.style.setProperty("background","#7c3aed"),ge.style.setProperty("color","white"),ge.style.setProperty("padding","0.125rem 0.5rem"),ge.style.setProperty("border-radius","4px"),ge.style.setProperty("font-size","0.75rem"),q.style.setProperty("padding","1rem"),q.style.setProperty("background","rgba(124, 58, 237, 0.05)"),q.style.setProperty("border","1px solid rgba(124, 58, 237, 0.2)"),q.style.setProperty("border-radius","8px"),q.style.setProperty("margin-bottom","1rem"),t(q,i(u,{get when(){return n()?.payerInfo?.name},get children(){var Lt=ir();return Lt.style.setProperty("font-weight","600"),Lt.style.setProperty("font-size","1rem"),Lt.style.setProperty("margin-bottom","0.25rem"),t(Lt,()=>n()?.payerInfo?.name),Lt}}),Ae),t(q,i(u,{get when(){return n()?.payerInfo?.ein},get children(){var Lt=Ds();return Lt.firstChild,Lt.style.setProperty("font-size","0.875rem"),Lt.style.setProperty("color","var(--text-secondary)"),t(Lt,()=>n()?.payerInfo?.ein,null),Lt}}),Ae),Ae.style.setProperty("font-size","0.875rem"),Ae.style.setProperty("color","var(--text-secondary)"),Ae.style.setProperty("margin-top","0.5rem"),Ae.style.setProperty("font-style","italic"),ke.style.setProperty("display","grid"),ke.style.setProperty("grid-template-columns","repeat(3, 1fr)"),ke.style.setProperty("gap","0.5rem"),ke.style.setProperty("margin-bottom","1rem"),c.style.setProperty("font-weight","600"),c.style.setProperty("margin-bottom","0.75rem"),t(ke,i(Ut,{get text(){return[n()?.extractedAmounts?.annualPremiumAmount||"","|",n()?.extractedAmounts?.annualSlcspPremium||"","|",n()?.extractedAmounts?.annualAdvancePtc||""].join("")||""},handle:ut,label:""}),null),U.style.setProperty("display","grid"),U.style.setProperty("grid-template-columns","repeat(3, 1fr)"),U.style.setProperty("gap","0.5rem"),U.style.setProperty("margin-bottom","1rem"),p.style.setProperty("padding","1rem"),p.style.setProperty("background","linear-gradient(135deg, rgba(124, 58, 237, 0.1), rgba(139, 92, 246, 0.1))"),p.style.setProperty("border-radius","8px"),p.style.setProperty("text-align","center"),mt.style.setProperty("font-size","0.75rem"),mt.style.setProperty("color","var(--text-secondary)"),mt.style.setProperty("margin-bottom","0.25rem"),ue.style.setProperty("font-size","1.5rem"),ue.style.setProperty("font-weight","700"),ue.style.setProperty("color","#7c3aed"),t(ue,()=>(n()?.extractedAmounts?.annualPremiumAmount||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),qe.style.setProperty("padding","1rem"),qe.style.setProperty("background","linear-gradient(135deg, rgba(124, 58, 237, 0.1), rgba(139, 92, 246, 0.1))"),qe.style.setProperty("border-radius","8px"),qe.style.setProperty("text-align","center"),j.style.setProperty("font-size","0.75rem"),j.style.setProperty("color","var(--text-secondary)"),j.style.setProperty("margin-bottom","0.25rem"),Dt.style.setProperty("font-size","1.5rem"),Dt.style.setProperty("font-weight","700"),Dt.style.setProperty("color","#7c3aed"),t(Dt,()=>(n()?.extractedAmounts?.annualSlcspPremium||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),Ce.style.setProperty("padding","1rem"),Ce.style.setProperty("background","linear-gradient(135deg, rgba(124, 58, 237, 0.1), rgba(139, 92, 246, 0.1))"),Ce.style.setProperty("border-radius","8px"),Ce.style.setProperty("text-align","center"),Rt.style.setProperty("font-size","0.75rem"),Rt.style.setProperty("color","var(--text-secondary)"),Rt.style.setProperty("margin-bottom","0.25rem"),Ft.style.setProperty("font-size","1.5rem"),Ft.style.setProperty("font-weight","700"),Ft.style.setProperty("color","#ef4444"),t(Ft,()=>(n()?.extractedAmounts?.annualAdvancePtc||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),Ot.style.setProperty("padding","0.75rem 1rem"),Ot.style.setProperty("background","var(--surface-alt, #f9fafb)"),Ot.style.setProperty("border-radius","8px"),Ot.style.setProperty("display","flex"),Ot.style.setProperty("justify-content","space-between"),Ot.style.setProperty("align-items","center"),Ot.style.setProperty("margin-bottom","1rem"),Kt.style.setProperty("font-weight","500"),Jt.style.setProperty("display","flex"),Yt.style.setProperty("font-size","1.25rem"),Yt.style.setProperty("font-weight","700"),Yt.style.setProperty("color","#7c3aed"),Yt.style.setProperty("margin","0 10px 0 0"),t(Yt,()=>n()?.extractedAmounts?.coverageMonths||12,vr),t(Jt,i(Ut,{get text(){return Re()},handle:ut,label:""}),null),t(d,i(u,{get when(){return n()?.extractedAmounts?.monthlyPremiums?.length},get children(){return[(()=>{var Lt=Fs();return Lt.style.setProperty("font-weight","600"),Lt.style.setProperty("margin-bottom","0.75rem"),Lt})(),(()=>{var Lt=Ls(),dr=Lt.firstChild,ur=dr.firstChild,$r=ur.firstChild,yr=$r.firstChild,Zt=yr.nextSibling,cr=Zt.nextSibling,hr=cr.nextSibling,br=ur.nextSibling;return Lt.style.setProperty("overflow-x","auto"),Lt.style.setProperty("border","1px solid var(--border-color, #e5e7eb)"),Lt.style.setProperty("border-radius","8px"),dr.style.setProperty("width","100%"),dr.style.setProperty("border-collapse","collapse"),dr.style.setProperty("font-size","0.75rem"),$r.style.setProperty("background","var(--surface-alt, #f9fafb)"),yr.style.setProperty("padding","0.5rem"),yr.style.setProperty("text-align","left"),yr.style.setProperty("border-bottom","1px solid var(--border-color)"),Zt.style.setProperty("padding","0.5rem"),Zt.style.setProperty("text-align","right"),Zt.style.setProperty("border-bottom","1px solid var(--border-color)"),cr.style.setProperty("padding","0.5rem"),cr.style.setProperty("text-align","right"),cr.style.setProperty("border-bottom","1px solid var(--border-color)"),hr.style.setProperty("padding","0.5rem"),hr.style.setProperty("text-align","right"),hr.style.setProperty("border-bottom","1px solid var(--border-color)"),t(br,i(zt,{each:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],children:(wr,er)=>{const tr=n()?.extractedAmounts?.monthlyPremiums?.[er()]||0,Tr=n()?.extractedAmounts?.monthlySlcsp?.[er()]||0,kr=n()?.extractedAmounts?.monthlyAptc?.[er()]||0,Xt=tr>0;return(()=>{var Cr=Ws(),rr=Cr.firstChild,nr=rr.nextSibling;nr.firstChild;var lr=nr.nextSibling;lr.firstChild;var Sr=lr.nextSibling;return Sr.firstChild,(Xt?"rgba(124, 58, 237, 0.02)":"transparent")!=null?Cr.style.setProperty("background",Xt?"rgba(124, 58, 237, 0.02)":"transparent"):Cr.style.removeProperty("background"),rr.style.setProperty("padding","0.5rem"),rr.style.setProperty("border-bottom","1px solid var(--border-color)"),(Xt?"500":"400")!=null?rr.style.setProperty("font-weight",Xt?"500":"400"):rr.style.removeProperty("font-weight"),(Xt?"var(--text-primary)":"var(--text-muted)")!=null?rr.style.setProperty("color",Xt?"var(--text-primary)":"var(--text-muted)"):rr.style.removeProperty("color"),t(rr,wr),nr.style.setProperty("padding","0.5rem"),nr.style.setProperty("text-align","right"),nr.style.setProperty("border-bottom","1px solid var(--border-color)"),(Xt?"#7c3aed":"var(--text-muted)")!=null?nr.style.setProperty("color",Xt?"#7c3aed":"var(--text-muted)"):nr.style.removeProperty("color"),t(nr,()=>tr.toLocaleString("en-US",{minimumFractionDigits:2}),null),lr.style.setProperty("padding","0.5rem"),lr.style.setProperty("text-align","right"),lr.style.setProperty("border-bottom","1px solid var(--border-color)"),(Xt?"var(--text-primary)":"var(--text-muted)")!=null?lr.style.setProperty("color",Xt?"var(--text-primary)":"var(--text-muted)"):lr.style.removeProperty("color"),t(lr,()=>Tr.toLocaleString("en-US",{minimumFractionDigits:2}),null),Sr.style.setProperty("padding","0.5rem"),Sr.style.setProperty("text-align","right"),Sr.style.setProperty("border-bottom","1px solid var(--border-color)"),(Xt?"#ef4444":"var(--text-muted)")!=null?Sr.style.setProperty("color",Xt?"#ef4444":"var(--text-muted)"):Sr.style.removeProperty("color"),t(Sr,()=>kr.toLocaleString("en-US",{minimumFractionDigits:2}),null),Cr})()}})),Lt})()]}}),null),d}}),null),t(We,i(u,{get when(){return ct(()=>!["w2","1099_nec","1099_misc","1099_int","1099_div","1098","1098_t","1095_a"].includes(n()?.drakeFormType||"")&&!n()?.documentType?.toLowerCase().includes("1095"))()&&n()?.extractedAmounts},get children(){var d=Es(),re=d.firstChild,ge=re.nextSibling;return d.style.setProperty("margin-bottom","1.5rem"),re.style.setProperty("font-weight","600"),re.style.setProperty("margin-bottom","0.75rem"),ge.style.setProperty("display","grid"),ge.style.setProperty("grid-template-columns","repeat(2, 1fr)"),ge.style.setProperty("gap","0.5rem"),t(ge,i(zt,{get each(){return Object.entries(n()?.extractedAmounts||{})},children:([q,Ae])=>i(u,{when:Ae!=null&&typeof Ae=="number",get children(){var ke=qs(),c=ke.firstChild,U=c.nextSibling;return U.firstChild,ke.style.setProperty("padding","0.75rem"),ke.style.setProperty("background","var(--surface-alt, #f9fafb)"),ke.style.setProperty("border-radius","6px"),ke.style.setProperty("font-size","0.875rem"),c.style.setProperty("color","var(--text-secondary)"),c.style.setProperty("font-size","0.75rem"),c.style.setProperty("text-transform","capitalize"),t(c,()=>q.replace(/([A-Z])/g," $1").trim()),U.style.setProperty("font-weight","600"),t(U,()=>Ae.toLocaleString("en-US",{minimumFractionDigits:2}),null),ke}})})),d}}),null),t(We,i(u,{get when(){return n()?.errorMessage},get children(){var d=Ms(),re=d.firstChild;return re.nextSibling,d.style.setProperty("padding","1rem"),d.style.setProperty("background","rgba(239, 68, 68, 0.1)"),d.style.setProperty("border","1px solid rgba(239, 68, 68, 0.2)"),d.style.setProperty("border-radius","8px"),d.style.setProperty("color","#ef4444"),d.style.setProperty("font-size","0.875rem"),d.style.setProperty("margin-bottom","1.5rem"),t(d,()=>n()?.errorMessage,null),d}}),null),tt.style.setProperty("display","flex"),tt.style.setProperty("gap","0.75rem"),tt.style.setProperty("padding","1.25rem 1.5rem"),tt.style.setProperty("border-top","1px solid var(--border-color, #e5e7eb)"),tt.style.setProperty("justify-content","flex-end"),t(tt,i(_r,{variant:"secondary",onClick:Je,children:"Close"}),lt),lt.$$mouseout=d=>{},lt.$$mouseover=d=>d.currentTarget.style.background="#f59e0b",lt.$$click=()=>Me(n()),lt.style.setProperty("padding","0.5rem 1rem"),lt.style.setProperty("background","#f59e0b"),lt.style.setProperty("border","none"),lt.style.setProperty("border-radius","6px"),lt.style.setProperty("color","white"),lt.style.setProperty("font-weight","500"),lt.style.setProperty("cursor","pointer"),lt.style.setProperty("font-size","0.875rem"),lt.style.setProperty("transition","background 0.2s ease"),t(tt,i(_r,{variant:"secondary",onClick:()=>b(n()),children:"QR Code"}),null),t(tt,i(_r,{variant:"secondary",onClick:()=>fe(n()),children:"Re-Analyze"}),null),t(tt,i(u,{get when(){return ce(n())!=="verified"},get children(){var d=Bs();return d.$$mouseout=re=>re.currentTarget.style.background="#22c55e",d.$$mouseover=re=>re.currentTarget.style.background="#16a34a",d.$$click=()=>Ue(n()),d.style.setProperty("padding","0.5rem 1rem"),d.style.setProperty("background","#22c55e"),d.style.setProperty("border","none"),d.style.setProperty("border-radius","6px"),d.style.setProperty("color","white"),d.style.setProperty("font-weight","500"),d.style.setProperty("cursor","pointer"),d.style.setProperty("font-size","0.875rem"),d.style.setProperty("transition","background 0.2s ease"),d}}),null),t(tt,i(_r,{variant:"primary",onClick:()=>Se(n()),children:"Open File"}),null),v(d=>r(Le,bt(Ye(ce(n()))),d)),L}}),null),t(F,i(il,{get qrText(){return O()},get isOpen(){return xe()},onClose:()=>N(!1),get title(){return`${yn[n()?.drakeFormType||"other"]} QR Code`},convertPipeToTab:!0,toUpperCase:!0}),null),v(L=>{var ee=_t,ze=Et,at=G,Ve=le,We=ye("#22c55e"),ht=le,o=ye("#f59e0b"),P=_e(C());return L.e=r(F,ee,L.e),L.t=r(V,ze,L.t),L.a=r(g,at,L.a),L.o=r(k,Ve,L.o),L.i=r(De,We,L.i),L.n=r(Qe,ht,L.n),L.s=r(yt,o,L.s),L.h=r(He,P,L.h),L},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),F})()};ar(["click","mouseover","mouseout"]);const Gs=(e,C={})=>new Promise((y,R)=>{const{width:M=100,height:h=100,scale:me=2,backgroundColor:se}=C,D=document.createElement("canvas"),Z=D.getContext("2d");if(!Z){R(new Error("Could not get canvas context"));return}D.width=M*me,D.height=h*me;const K=new Image,n=new Blob([e],{type:"image/svg+xml;charset=utf-8"}),Q=URL.createObjectURL(n);K.onload=()=>{se&&(Z.fillStyle=se,Z.fillRect(0,0,D.width,D.height)),Z.drawImage(K,0,0,D.width,D.height),URL.revokeObjectURL(Q);const xe=D.toDataURL("image/png");y(xe)},K.onerror=xe=>{URL.revokeObjectURL(Q),R(new Error("Failed to load SVG image"))},K.src=Q}),Qs=(e="#22c55e",C=24)=>{const y=`
    <svg xmlns="http://www.w3.org/2000/svg" width="${C}" height="${C}" viewBox="0 0 24 24" fill="${e}">
      <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
    </svg>
  `;return Gs(y,{width:C,height:C,scale:2})},Xs=async e=>{const{client:C,request:y,businessName:R="Stephanie Solution",businessAddress:M,businessPhone:h,logo:me,baseUrl:se}=e,D=y.clientSignature,K=`${se||(typeof window<"u"?window.location.origin:"https://app.example.com")}/#/signature-validation/${y.id}/${y.accessToken}/engagement`;if(!D||!D.signedAt)throw new Error("No signature found on this engagement letter");const n=new ll({orientation:"portrait",unit:"mm",format:"letter"}),Q=n.internal.pageSize.getWidth(),xe=n.internal.pageSize.getHeight(),N=20,O=Q-2*N;let m=N;const ae=(Se,Je,je=11,Re="left")=>{n.setFontSize(je);const b=n.splitTextToSize(Se,O);return Re==="center"?b.forEach(Ue=>{n.text(Ue,Q/2,Je,{align:"center"}),Je+=je*.4}):Re==="right"?b.forEach(Ue=>{n.text(Ue,Q-N,Je,{align:"right"}),Je+=je*.4}):(n.text(b,N,Je),Je+=b.length*(je*.4)),Je},s=await Qs("#22c55e",48),ne=()=>{let Se=m;if(me)try{const Re=N;if(n.addImage(me,"PNG",Re,Se-5,20,20),n.setFont("helvetica","bold"),n.setFontSize(18),n.setTextColor(30,58,95),n.text(R,Re+20+5,Se+5),M||h){n.setFont("helvetica","normal"),n.setFontSize(10),n.setTextColor(100,100,100);let b=Se+10;M&&(n.text(M,Re+20+5,b),b+=4),h&&n.text(h,Re+20+5,b)}Se+=25}catch(Je){$t("Error adding logo:",Je),T();return}else{T();return}m=Se},T=()=>{n.setFont("helvetica","bold"),n.setFontSize(18),n.setTextColor(30,58,95),n.text(R,Q/2,m,{align:"center"}),m+=8,(M||h)&&(n.setFont("helvetica","normal"),n.setFontSize(10),n.setTextColor(100,100,100),M&&(n.text(M,Q/2,m,{align:"center"}),m+=5),h&&(n.text(h,Q/2,m,{align:"center"}),m+=5))};ne(),m+=5,n.setDrawColor(30,58,95),n.setLineWidth(.5),n.line(N,m,Q-N,m),m+=10,n.setFont("helvetica","bold"),n.setFontSize(16),n.setTextColor(0,0,0),n.text("TAX PREPARATION ENGAGEMENT LETTER",Q/2,m,{align:"center"}),m+=10,n.setFontSize(12),n.text(`Tax Year: ${y.taxYear}`,Q/2,m,{align:"center"}),m+=15,n.setFont("helvetica","bold"),n.setFontSize(12),n.text("CLIENT INFORMATION",N,m),m+=7,n.setFont("helvetica","normal"),n.setFontSize(11);const S=`${C.firstName||""} ${C.lastName||""}`.trim()||"N/A";if(n.text(`Name: ${S}`,N,m),m+=6,C.address&&(n.text(`Address: ${C.address}`,N,m),m+=6),C.city||C.state||C.zipCode){const Se=`${C.city||""}, ${C.state||""} ${C.zipCode||""}`.trim();n.text(`         ${Se}`,N,m),m+=6}C.email&&(n.text(`Email: ${C.email}`,N,m),m+=6),C.phone&&(n.text(`Phone: ${C.phone}`,N,m),m+=6),m+=10,n.setFont("helvetica","bold"),n.setFontSize(12),n.text("AGREEMENT TERMS",N,m),m+=8,n.setFont("helvetica","normal"),n.setFontSize(10);const ce=`This letter confirms and specifies the terms of our engagement to prepare your ${y.taxYear} individual income tax returns.

SCOPE OF SERVICES:
We will prepare your federal and applicable state income tax returns for the tax year ${y.taxYear} based on the information you provide to us. We will not audit or otherwise verify the data you submit, although we may ask for clarification of some information.

CLIENT RESPONSIBILITIES:
You are responsible for providing all information required for the preparation of complete and accurate returns. You should retain all documents, canceled checks, and other data that form the basis of income and deductions.

FEES:
Our fee for these services will be based on the complexity of the return and the time required to prepare it. We will discuss our fee structure with you before beginning work.

CONFIDENTIALITY:
We will maintain the confidentiality of your information in accordance with professional standards and applicable law.

By signing below, you acknowledge that you have read, understand, and agree to the terms of this engagement letter.`;m=ae(ce,m,10),m+=15,n.setDrawColor(200,200,200),n.setLineWidth(.3),m+=5,n.setFont("helvetica","bold"),n.setFontSize(12),n.setTextColor(30,58,95),n.text("CLIENT SIGNATURE",N+5,m),m+=8,n.setFont("helvetica","normal"),n.setFontSize(7.18),n.setTextColor(128,128,128),n.text(`Document generated on ${new Date().toLocaleString()}`,Q/1.35,xe-12.5,{align:"center"}),n.text(`Reference: ${y.id||"N/A"}`,Q/1.35,xe-10,{align:"center"}),n.setFontSize(9),n.setTextColor(34,197,94);const f=Q/1.5-5,et=m+13.5;if(n.addImage(s,"PNG",f,et,5,5),n.text("Terms and conditions accepted",f+6,m+17),m+=5,n.setFillColor(248,250,252),n.setDrawColor(139,92,246),n.setLineWidth(.5),n.roundedRect(N+58,m-1,41,12,2,2,"FD"),n.setFont("helvetica","normal"),n.setFontSize(7),n.setTextColor(100,100,100),n.text("Verify this signature online:",N+60,m-1+5),n.setFont("helvetica","bold"),n.setFontSize(8),n.setTextColor(139,92,246),n.textWithLink("SIGNATURE VERIFICATION",N+60,m-1+9,{url:K}),D.signatureImage)try{const Se=D.signatureImage;n.addImage(Se,"PNG",N+5,m-5,60,20),m+=20}catch(Se){$t("Error adding signature image:",Se),n.setDrawColor(0,0,0),n.line(N+5,m+15,N+70,m+15),m+=20}else n.setFont("helvetica","italic"),n.setFontSize(14),n.setTextColor(0,0,0),n.text(D.name,N+5,m+10),m+=15;n.setFont("helvetica","normal"),n.setFontSize(10),n.setTextColor(0,0,0),n.text(`Signed by: ${D.name}`,N+3,m),m+=5,n.setTextColor(128,128,128),n.setFontSize(7.5),n.text(`Date: ${D.date}`,N+5,m),m+=5;const $e=new Date(D.signedAt);n.text(`Signed at: ${$e.toLocaleString()}`,N+5,m-2),m+=5;const Ye=xe-15;if(n.setDrawColor(200,200,200),n.setLineWidth(.3),n.line(N,Ye-5,Q-N,Ye-5),n.addPage(),m=N,ne(),m+=5,n.setDrawColor(30,58,95),n.setLineWidth(.5),n.line(N,m,Q-N,m),m+=10,n.setFont("helvetica","bold"),n.setFontSize(16),n.setTextColor(0,0,0),n.text("CARTA DE COMPROMISO PARA PREPARACION DE IMPUESTOS",Q/2,m,{align:"center"}),m+=10,n.setFontSize(12),n.text(`Ano Fiscal: ${y.taxYear}`,Q/2,m,{align:"center"}),m+=15,n.setFont("helvetica","bold"),n.setFontSize(12),n.text("INFORMACION DEL CLIENTE",N,m),m+=7,n.setFont("helvetica","normal"),n.setFontSize(11),n.text(`Nombre: ${S}`,N,m),m+=6,C.address&&(n.text(`Direccion: ${C.address}`,N,m),m+=6),C.city||C.state||C.zipCode){const Se=`${C.city||""}, ${C.state||""} ${C.zipCode||""}`.trim();n.text(`              ${Se}`,N,m),m+=6}C.email&&(n.text(`Correo: ${C.email}`,N,m),m+=6),C.phone&&(n.text(`Telefono: ${C.phone}`,N,m),m+=6),m+=10,n.setFont("helvetica","bold"),n.setFontSize(12),n.text("TERMINOS DEL ACUERDO",N,m),m+=8,n.setFont("helvetica","normal"),n.setFontSize(10);const pt=`Esta carta confirma y especifica los terminos de nuestro compromiso para preparar sus declaraciones de impuestos sobre la renta individual del ano ${y.taxYear}.

ALCANCE DE LOS SERVICIOS:
Prepararemos sus declaraciones de impuestos federales y estatales aplicables para el ano fiscal ${y.taxYear} basandonos en la informacion que usted nos proporcione. No auditaremos ni verificaremos de otra manera los datos que nos envie, aunque podemos solicitar aclaraciones sobre alguna informacion.

RESPONSABILIDADES DEL CLIENTE:
Usted es responsable de proporcionar toda la informacion requerida para la preparacion de declaraciones completas y precisas. Debe conservar todos los documentos, cheques cancelados y otros datos que constituyan la base de los ingresos y deducciones.

HONORARIOS:
Nuestros honorarios por estos servicios se basaran en la complejidad de la declaracion y el tiempo requerido para prepararla. Discutiremos nuestra estructura de honorarios con usted antes de comenzar el trabajo.

CONFIDENCIALIDAD:
Mantendremos la confidencialidad de su informacion de acuerdo con los estandares profesionales y la ley aplicable.

Al firmar a continuacion, usted reconoce que ha leido, entendido y acepta los terminos de esta carta de compromiso.`;m=ae(pt,m,10),m+=15,n.setDrawColor(200,200,200),n.setLineWidth(.3),m+=5,n.setFont("helvetica","bold"),n.setFontSize(12),n.setTextColor(30,58,95),n.text("FIRMA DEL CLIENTE",N+5,m),m+=8,n.setFont("helvetica","normal"),n.setFontSize(7.18),n.setTextColor(128,128,128),n.text(`Documento generado el ${new Date().toLocaleString()}`,Q/1.35,xe-12.5,{align:"center"}),n.text(`Referencia: ${y.id||"N/A"}`,Q/1.35,xe-10,{align:"center"}),n.setFontSize(9),n.setTextColor(34,197,94);const oe=Q/1.5-5,H=m+10.5;if(n.addImage(s,"PNG",oe,H,5,5),n.text("Terminos y condiciones aceptados",oe+6,m+14),n.setFillColor(248,250,252),n.setDrawColor(139,92,246),n.setLineWidth(.5),n.roundedRect(N+58,m-1,41,12,2,2,"FD"),n.setFont("helvetica","normal"),n.setFontSize(7),n.setTextColor(100,100,100),n.text("Verify this signature online:",N+60,m-1+5),n.setFont("helvetica","bold"),n.setFontSize(8),n.setTextColor(139,92,246),n.textWithLink("SIGNATURE VERIFICATION",N+60,m-1+9,{url:K}),D.signatureImage)try{const Se=D.signatureImage;n.addImage(Se,"PNG",N+5,m-5,60,20),m+=20}catch(Se){$t("Error adding signature image:",Se),n.setDrawColor(0,0,0),n.line(N+5,m+15,N+70,m+15),m+=20}else n.setFont("helvetica","italic"),n.setFontSize(14),n.setTextColor(0,0,0),n.text(D.name,N+5,m+10),m+=15;n.setFont("helvetica","normal"),n.setFontSize(10),n.setTextColor(0,0,0),n.text(`Firmado por: ${D.name}`,N+3,m),m+=5,n.setTextColor(128,128,128),n.setFontSize(7.5),n.text(`Fecha: ${D.date}`,N+5,m),m+=5,n.text(`Firmado el: ${$e.toLocaleString()}`,N+5,m-2),m+=5,n.setDrawColor(200,200,200),n.setLineWidth(.3),n.line(N,Ye-5,Q-N,Ye-5);const Ge=`Engagement_Letter_${S.replace(/\s+/g,"_")}_${y.taxYear}.pdf`;n.save(Ge)},Ks=async e=>{const{client:C,request:y,businessName:R="Tax Preparer",businessAddress:M,businessPhone:h,businessEFIN:me="000000",logo:se,taxYear:D=new Date().getFullYear()-1,baseUrl:Z,adjustedGrossIncome:K,totalTax:n,federalWithholding:Q,refundAmount:xe,amountOwed:N}=e,O=y.clientSigningPin;if(!O||!O.pin)throw new Error("No signing PIN found on this document request");const ae=`${Z||(typeof window<"u"?window.location.origin:"https://app.example.com")}/#/signature-validation/${y.id}/${y.accessToken}/pin`,s=new ll({orientation:"portrait",unit:"mm",format:"letter"}),ne=s.internal.pageSize.getWidth(),T=s.internal.pageSize.getHeight(),S=12,ce=ne-2*S;let f=S;const et=(Ke,xt=S,I=ne-S,X=.3)=>{s.setDrawColor(0),s.setLineWidth(X),s.line(xt,Ke,I,Ke)},$e=(Ke,xt,I,X,J=!1)=>{s.setDrawColor(0),s.setLineWidth(.3),J?(s.setFillColor(255,255,255),s.rect(Ke,xt,I,X,"FD")):s.rect(Ke,xt,I,X)},Ye=Ke=>Ke==null?"":Ke.toLocaleString("en-US");s.setFillColor(0,0,0),s.rect(S,f,25,14,"F"),s.setTextColor(255,255,255),s.setFont("helvetica","bold"),s.setFontSize(14),s.text("Form",S+2,f+5),s.setFontSize(18),s.text("8879",S+2,f+12),s.setTextColor(0,0,0),s.setFont("helvetica","normal"),s.setFontSize(7),s.text("Department of the Treasury",S+28,f+3),s.text("Internal Revenue Service",S+28,f+6.5),s.setFont("helvetica","bold"),s.setFontSize(12),s.text("IRS e-file Signature Authorization",S+28,f+11),s.setFont("helvetica","normal"),s.setFontSize(7),s.text("OMB No. 1545-0074",ne-S-25,f+3),s.setFillColor(0,0,0),s.rect(ne-S-18,f+5,18,9,"F"),s.setTextColor(255,255,255),s.setFont("helvetica","bold"),s.setFontSize(14),s.text(String(D),ne-S-9,f+12,{align:"center"}),f+=16,s.setTextColor(0,0,0),s.setFont("helvetica","normal"),s.setFontSize(8),s.text("For use with Forms 1040, 1040-SR, 1040-NR, 1040-SS, and 1040-X.",ne/2,f,{align:"center"}),f+=3,s.setFontSize(7),s.text("Go to www.irs.gov/Form8879 for the latest information.",ne/2,f,{align:"center"}),f+=4,et(f,S,ne-S,.5),f+=1;const oe=8;s.setFontSize(6),s.text("Taxpayer's name",S+1,f+2.5),$e(S,f,ce*.55,oe),s.setFont("helvetica","bold"),s.setFontSize(10);const H=`${C.firstName||""} ${C.lastName||""}`.trim()||"N/A";s.text(H,S+25,f+5.5),s.setFont("helvetica","normal"),s.setFontSize(6),s.text("Social security number",S+ce*.55+2,f+2.5),$e(S+ce*.55,f,ce*.45,oe),s.setFont("helvetica","bold"),s.setFontSize(10),s.text("XXX-XX-XXXX",S+ce*.55+30,f+5.5),f+=oe,s.setFont("helvetica","normal"),s.setFontSize(6),s.text("Spouse's name (if joint return)",S+1,f+2.5),$e(S,f,ce*.55,oe),s.setFontSize(6),s.text("Spouse's social security number",S+ce*.55+2,f+2.5),$e(S+ce*.55,f,ce*.45,oe),f+=oe+2,s.setFillColor(0,0,0),s.rect(S,f,ce,5,"F"),s.setTextColor(255,255,255),s.setFont("helvetica","bold"),s.setFontSize(8),s.text("Part I",S+2,f+3.5),s.text("Tax Return Information (Whole dollars only. See instructions.)",S+18,f+3.5),f+=6,s.setTextColor(0,0,0),s.setFont("helvetica","normal"),s.setFontSize(7),s.text("Enter whole dollars only on lines 1 through 5. For Form 1040-SS filers, complete line 4 only and leave lines 1, 2, 3, and 5 blank.",S,f+2),f+=5;const Ge=6,Se=ce*.7,Je=ce*.25,je=8,Re=(Ke,xt,I,X)=>{s.setFont("helvetica","bold"),s.setFontSize(8),s.text(Ke,S+2,f+4),s.setFont("helvetica","normal"),s.setFontSize(8),s.text(xt,S+je,f+4),s.setFontSize(6),s.setTextColor(100,100,100),s.text(I,S+je,f+7),s.setTextColor(0,0,0),$e(S+Se,f,Je,Ge),s.setFont("helvetica","normal"),s.setFontSize(9);const J=Ye(X);J&&s.text(J,S+Se+Je-3,f+4.5,{align:"right"}),s.setFont("helvetica","bold"),s.setFontSize(8),s.text(Ke,S+Se+Je+3,f+4),f+=Ge+1};Re("1","Adjusted gross income","(Form 1040, 1040-SR, or 1040-NR, line 11; Form 1040-SS, see instructions)",K),Re("2","Total tax","(Form 1040, 1040-SR, or 1040-NR, line 24; Form 1040-SS, see instructions)",n),Re("3","Federal income tax withheld","(Form 1040, 1040-SR, 1040-NR, or 1040-SS, line 25d)",Q),Re("4","Refund","(Form 1040, 1040-SR, 1040-NR, or 1040-SS, line 35a)",xe),Re("5","Amount you owe","(Form 1040, 1040-SR, or 1040-NR, line 37; Form 1040-SS, see instructions)",N),f+=2,s.setFillColor(0,0,0),s.rect(S,f,ce,5,"F"),s.setTextColor(255,255,255),s.setFont("helvetica","bold"),s.setFontSize(8),s.text("Part II",S+2,f+3.5),s.text("Taxpayer Declaration and Signature Authorization (Be sure you get a copy of your return)",S+18,f+3.5),f+=7,s.setTextColor(0,0,0),s.setFont("helvetica","normal"),s.setFontSize(7);const b="Under penalties of perjury, I declare that the information I provided to my electronic return originator (ERO), and the amounts in Part I above, agree with the amounts on my corresponding lines of my "+D+" federal income tax return. To the best of my knowledge and belief, my return is true, correct, and complete.",Ue=s.splitTextToSize(b,ce);s.text(Ue,S,f),f+=Ue.length*2.8+2,s.setFont("helvetica","bold"),s.setFontSize(7),s.text("I authorize the ERO named below to:",S,f),f+=4,s.setFont("helvetica","normal"),$e(S,f-1,3,3),s.setFillColor(0,0,0),s.rect(S+.5,f-.5,2,2,"F"),s.setFontSize(7);const Me="Enter my PIN as my signature on my "+D+" electronically filed income tax return. I authorize the ERO to enter or generate my PIN, and I have entered my PIN below.",fe=s.splitTextToSize(Me,ce-6);s.text(fe,S+5,f+1),f+=fe.length*2.8+3,$e(S,f-1,3,3);const nt="Enter my PIN as my signature on my "+D+" electronically filed income tax return. I will enter my own PIN below. I am using the Practitioner PIN method. I authorize the ERO named below to enter my PIN on my return only if I have provided the required Authentication Record information.",St=s.splitTextToSize(nt,ce-6);s.text(St,S+5,f+1),f+=St.length*2.8+5,s.setFont("helvetica","bold"),s.setFontSize(9),s.text("Taxpayer's PIN: enter five digits, but don't enter all zeros",S,f);const ut=8,_t=S+85,Et=O.pin||"00000";for(let Ke=0;Ke<5;Ke++)$e(_t+Ke*(ut+1),f-5,ut,ut),s.setFont("helvetica","bold"),s.setFontSize(14),s.text(Et[Ke]||"",_t+Ke*(ut+1)+2.5,f+1);f+=8,s.setFontSize(9),s.text("Spouse's PIN: enter five digits, but don't enter all zeros",S,f);for(let Ke=0;Ke<5;Ke++)$e(_t+Ke*(ut+1),f-5,ut,ut);f+=10,s.setFont("helvetica","normal"),s.setFontSize(7);const Bt="I understand that my PIN will be used as my signature for my "+D+" income tax return. I consent to the IRS and the ERO disclosing to each other my taxpayer identity, my return, and any return information in connection with e-filing, including my PIN, adjusted gross income, and any self-selected identity information.",G=s.splitTextToSize(Bt,ce);s.text(G,S,f),f+=G.length*2.8+5;const le=ce*.6,ye=ce*.35;if(s.setFont("helvetica","bold"),s.setFontSize(8),s.text("Taxpayer's signature",S,f),s.text("Date",S+le+5,f),f+=2,$e(S,f,le,18),O.signatureImage)try{s.addImage(O.signatureImage,"PNG",S+2,f+1,le-4,16)}catch{s.setFont("helvetica","italic"),s.setFontSize(10),s.setTextColor(100,100,100),s.text("[Signature on file]",S+10,f+10),s.setTextColor(0,0,0)}$e(S+le+5,f,ye,8),s.setFont("helvetica","normal"),s.setFontSize(9);const _e=O.setAt?new Date(O.setAt).toLocaleDateString():new Date().toLocaleDateString();s.text(_e,S+le+8,f+5.5),f+=20,s.setFont("helvetica","bold"),s.setFontSize(8),s.text("Spouse's signature",S,f),s.text("Date",S+le+5,f),f+=2,$e(S,f,le,12),$e(S+le+5,f,ye,8),f+=15,s.setFillColor(0,0,0),s.rect(S,f,ce,5,"F"),s.setTextColor(255,255,255),s.setFont("helvetica","bold"),s.setFontSize(8),s.text("Part III",S+2,f+3.5),s.text("Electronic Return Originator (ERO) Declaration",S+18,f+3.5),f+=7,s.setTextColor(0,0,0),s.setFont("helvetica","normal"),s.setFontSize(7);const ft=s.splitTextToSize("I declare that I have reviewed the above taxpayer's return and that the entries on Form 8879 are complete and correct to the best of my knowledge. If I am only an Intermediate Service Provider, I understand that I am not responsible for reviewing the taxpayer's return. I have obtained the taxpayer's signature on Form 8879 before transmitting the return to the IRS; I have provided the taxpayer with a copy of all forms and information to be filed with the IRS; and I have followed all other requirements in Pub. 1345, Handbook for Authorized IRS e-file Providers of Individual Income Tax Returns, and, if applicable, Pub. 1346, Electronic Return File Specifications and Record Layouts for Individual Income Tax Returns. If I am also the Paid Preparer, under penalties of perjury I declare that I have examined the above taxpayer's return and accompanying schedules and statements, and to the best of my knowledge and belief, they are true, correct, and complete. This declaration is based on all information of which I have any knowledge.",ce);s.text(ft,S,f),f+=ft.length*2.5+5;const ot=ce/3;if(s.setFont("helvetica","normal"),s.setFontSize(6),s.text("ERO's EFIN/PIN. Enter your six-digit EFIN",S,f+2),s.text("followed by your five-digit self-selected PIN.",S,f+4.5),$e(S,f+6,ot-5,8),s.setFontSize(9),s.text(me+"00000",S+3,f+11),s.setFontSize(6),s.text("ERO's signature",S+ot,f+2),$e(S+ot,f+6,ot,8),s.text("Date",S+ot*2+5,f+2),$e(S+ot*2+5,f+6,ot-10,8),s.setFontSize(9),s.text(new Date().toLocaleDateString(),S+ot*2+8,f+11),f+=18,s.setFontSize(6),s.text("ERO firm name (or yours if self-employed), address, and ZIP code",S,f+2),$e(S,f+4,ce,12),se)try{s.addImage(se,"PNG",S+2,f+5,10,10),s.setFont("helvetica","bold"),s.setFontSize(9),s.text(R,S+14,f+9),M&&(s.setFont("helvetica","normal"),s.setFontSize(8),s.text(M,S+14,f+13))}catch{s.setFont("helvetica","bold"),s.setFontSize(9),s.text(R,S+3,f+9),M&&(s.setFont("helvetica","normal"),s.text(M,S+3,f+13))}else s.setFont("helvetica","bold"),s.setFontSize(9),s.text(R,S+3,f+9),M&&(s.setFont("helvetica","normal"),s.setFontSize(8),s.text(M,S+3,f+13));h&&(s.setFontSize(8),s.text("Phone: "+h,S+ce-45,f+9)),f+=18,s.setFillColor(248,250,252),s.setDrawColor(139,92,246),s.setLineWidth(.5),s.roundedRect(S,f,ce,14,2,2,"FD"),s.setFont("helvetica","bold"),s.setFontSize(7),s.setTextColor(139,92,246),s.text("SIGNATURE VERIFICATION",S+3,f+4),s.setFont("helvetica","normal"),s.setFontSize(6),s.setTextColor(100,100,100),s.text("Verify this e-filing authorization online:",S+3,f+8),s.setTextColor(59,130,246),s.textWithLink(ae,S+3,f+11,{url:ae}),f=T-8,s.setFontSize(6),s.setTextColor(100,100,100),s.text("For Paperwork Reduction Act Notice, see your tax return instructions.",S,f),s.text("Cat. No. 17571Q",ne/2,f,{align:"center"}),s.text("Form 8879 (Rev. 1-2021)",ne-S,f,{align:"right"});const bt=`Form_8879_${`${C.firstName||""}_${C.lastName||""}`.trim().replace(/\s+/g,"_")||"client"}_${D}.pdf`;s.save(bt)};var Js=a("<div><div></div><span> In Progress"),Zs=a('<div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"clip-rule=evenodd>'),eo=a('<div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"clip-rule=evenodd>'),to=a('<div><div></div><div>Pending Tasks</div><div>Send all pending tasks to <!> <!> for completion</div><button><svg viewBox="0 0 20 20"fill=currentColor><path d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z">'),Hn=a("<div>"),ro=a('<div><div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"clip-rule=evenodd></path></svg></div><div>All Tasks Complete!</div><div> has completed all required tasks'),no=a('<div><div><button><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"clip-rule=evenodd>'),lo=a(`<div><div><div><div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z"clip-rule=evenodd></path></svg></div><div><h3>Mark as Not Needed</h3><p></p></div></div><p>This will mark the document as not applicable for this client. They won't be asked to upload it.</p><div><label>Reason (optional)</label><input type=text placeholder="e.g., Client has no W-2 income"></div><div><button>Cancel</button><button>`),io=a("<div><div><div><h3>Client Tasks</h3><div><div><div></div><span> Pending</span></div><div><div></div><span> Complete"),so=a('<svg viewBox="0 0 20 20"fill=white><path fill-rule=evenodd d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"clip-rule=evenodd>'),oo=a('<svg viewBox="0 0 20 20"fill=white><path fill-rule=evenodd d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"clip-rule=evenodd>'),ao=a("<span>Not Needed"),Wn=a("<span>"),yo=a('<div><div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"clip-rule=evenodd></path></svg>Matched Documents (<!>)</div><div>'),co=a("<div>Completed on "),po=a('<button><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"clip-rule=evenodd></path></svg>Download Signed Letter (PDF)'),qn=a('<button><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"clip-rule=evenodd></path></svg>View Validation'),Yn=a('<button><svg viewBox="0 0 20 20"fill=currentColor><path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"></path><path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z">'),uo=a('<button><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"clip-rule=evenodd></path></svg>Download Form 8879 (PDF)'),mo=a('<div><button><svg viewBox="0 0 20 20"fill=currentColor><path d="M10 12a2 2 0 100-4 2 2 0 000 4z"></path><path fill-rule=evenodd d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z"clip-rule=evenodd></path></svg>Open Verification Page</button><button><svg viewBox="0 0 20 20"fill=currentColor><path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"></path><path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z">'),go=a('<button><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"clip-rule=evenodd></path></svg>Not Needed'),fo=a("<div><span>Not Needed</span><button>"),vo=a("<div><div><div></div></div><div><div></div><div></div><div><span> Priority"),ho=a("<span>- "),bo=a("<div><span></span><span>"),xo=a('<svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z"clip-rule=evenodd>');const Po=e=>{const[C,y]=Xe(!1),[R,M]=Xe(null),[h,me]=Xe(null),[se,D]=Xe(null),[Z,K]=Xe(new Set),[n,Q]=Xe(!1),[xe,N]=Xe(null),[O,m]=Xe("engagement"),[ae,s]=Xe(null),[ne,T]=Xe(!1),[S,ce]=Xe(null),[f,et]=Xe(""),[$e,Ye]=Xe(!1),[pt,oe]=Xe(new Set),H=(g,k)=>`${window.location.origin}/#/signature-validation/${g.id}/${g.accessToken}/${k}`,Ge=g=>`${window.location.origin}/#/tax-verify/${g.id}/${g.accessToken}`,Se=()=>e.documentRequests?.find(g=>g.status==="pending"||g.status==="partial")||e.documentRequests?.[0],Je=async(g,k)=>{const De=H(g,k);try{await navigator.clipboard.writeText(De),s(g.id+k),setTimeout(()=>s(null),2e3)}catch(Ze){$t("Failed to copy:",Ze),alert("Failed to copy link to clipboard")}},je=async g=>{const k=Ge(g);try{await navigator.clipboard.writeText(k),s(g.id+"verify"),setTimeout(()=>s(null),2e3)}catch(De){$t("Failed to copy:",De),alert("Failed to copy link to clipboard")}},Re=g=>!g||!e.documents?[]:e.documents.filter(k=>k.drakeFormType?!!(k.drakeFormType===g||g==="1099"&&k.drakeFormType.startsWith("1099")||g==="1098"&&k.drakeFormType.startsWith("1098")):!1),b=Pr(()=>{const g=[];e.documents,e?.taxPortal?.ssn?g.push({id:"upload_ssn",type:"upload_ssn",title:"SSN Provided",description:`SSN ending in ${e?.taxPortal?.ssn.slice(-4)}`,status:"complete",priority:"high",completedAt:e?.taxPortal?.updatedAt}):g.push({id:"upload_ssn",type:"upload_ssn",title:"Upload SSN",description:"Client needs to provide their Social Security Number",status:"pending",priority:"high"});const k=e.documentRequests?.find(ie=>ie.clientSignature?.signedAt),De=!!k;g.push({id:"sign_letter",type:"sign_letter",title:De?"Engagement Letter Signed":"Sign Engagement Letter",description:De?`Signed by ${k?.clientSignature?.name||"client"} on ${new Date(k?.clientSignature?.signedAt||0).toLocaleDateString()}`:"Client needs to sign the tax preparation engagement letter",status:De?"complete":"pending",priority:"high",completedAt:k?.clientSignature?.signedAt,signedRequest:De?k:void 0});const Ze=e.documentRequests?.find(ie=>ie.clientSigningPin?.pin),be=!!Ze?.clientSigningPin?.pin;g.push({id:"set_signing_pin",type:"set_signing_pin",title:be?"E-Filing PIN Set":"Set E-Filing PIN",description:be?`5-digit PIN set on ${new Date(Ze?.clientSigningPin?.setAt||0).toLocaleDateString()}`:"Client needs to create a 5-digit PIN to authorize e-filing their tax return",status:be?"complete":"pending",priority:"high",completedAt:Ze?.clientSigningPin?.setAt,pinRequest:be?Ze:void 0});const Qe=e.taxPortal?.firstName&&e.taxPortal?.lastName&&e.taxPortal?.address&&e.taxPortal?.city&&e.taxPortal?.state&&e.taxPortal?.zipCode;g.push({id:"verify_info",type:"verify_info",title:"Verify Personal Information",description:Qe?"Personal information has been verified":"Client needs to verify their name and address",status:Qe?"complete":"pending",priority:"medium",completedAt:Qe?e.taxPortal?.updatedAt:void 0});const yt=(e.taxPortal?.dependents?.length||0)>0,_=e.taxPortal?.hasNoDependents===!0,rt=yt||_;g.push({id:"provide_dependent_info",type:"provide_dependent_info",title:rt?_?"No Dependents (Confirmed)":`${e.taxPortal?.dependents?.length} Dependent(s) Added`:"Provide Dependent Information",description:rt?_?"Client confirmed they have no dependents to claim":`${e.taxPortal?.dependents?.length} dependent(s) have been added`:"Client needs to provide information about any dependents",status:rt?"complete":"pending",priority:"medium",completedAt:rt?e.taxPortal?.updatedAt:void 0});const Pe=Re("w2"),He=Pe.length>0;g.push({id:"upload_w2",type:"upload_document",title:"Upload W-2",description:He?`${Pe.length} W-2 form(s) uploaded`:"Client needs to upload their W-2 form(s) from employer(s)",status:He?"complete":"pending",priority:"high",documentType:"w2",matchedDocuments:He?Pe:void 0,matchedDocument:He?Pe[0]:void 0,completedAt:He?Pe[0].uploadedAt:void 0});const Ne=Re("1099"),vt=Ne.length>0;g.push({id:"upload_1099",type:"upload_document",title:"Upload 1099 Forms",description:vt?`${Ne.length} 1099 form(s) uploaded`:"Upload any 1099 forms (1099-NEC, 1099-MISC, 1099-INT, 1099-DIV)",status:vt?"complete":"pending",priority:"medium",documentType:"1099",matchedDocuments:vt?Ne:void 0,matchedDocument:vt?Ne[0]:void 0,completedAt:vt?Ne[0].uploadedAt:void 0});const w=e.documentRequests?.find(ie=>ie.clientReviewConfirmation?.reviewedAt),E=!!w;return g.push({id:"review_summary",type:"review_summary",title:E?"Tax Summary Reviewed":"Review Tax Summary",description:E?`Reviewed and confirmed on ${new Date(w?.clientReviewConfirmation?.reviewedAt||0).toLocaleDateString()}`:"Client needs to review and approve the tax summary before filing",status:E?"complete":"pending",priority:"low",completedAt:w?.clientReviewConfirmation?.reviewedAt}),g});pn(()=>{const g=b().filter(k=>k.status==="pending").length;e.onTasksChange?.(g)});const Ue=Pr(()=>{const g=b();return{total:g.length,pending:g.filter(k=>k.status==="pending").length,complete:g.filter(k=>k.status==="complete").length,inProgress:g.filter(k=>k.status==="in_progress").length}}),Me=Pr(()=>b().filter(g=>g.status==="pending")),fe=async()=>{if(Me().length===0){D("No pending tasks to send");return}y(!0),D(null);try{const g=$l.map(k=>({...k,required:k.type==="w2"||Me().some(De=>De.documentType===k.type)}));await zn(e.taxPortal,{taxYear:e?.taxPortal?.taxYear||new Date().getFullYear(),requestedDocuments:g,instructions:nt()}),me(`Sent ${Me().length} pending tasks to ${e?.taxPortal?.firstName} ${e?.taxPortal?.lastName}`),setTimeout(()=>me(null),5e3)}catch(g){D(g.message)}finally{y(!1)}},nt=()=>`Please complete the following tasks:

${Me().map((De,Ze)=>`${Ze+1}. ${De.title}: ${De.description}`).join(`
`)}`,St=async g=>{M(g.id),D(null),$t(e?.taxPortal);try{const k=`${e?.taxPortal?.firstName||""} ${e?.taxPortal?.lastName||""}`.trim(),De=e?.taxPortal?.email,Ze=e?.taxPortal?.phone,be=[{type:g.type||"other",label:g.title,required:g.priority==="high",uploaded:!1}];await zn(e.taxPortal,{taxYear:e?.taxPortal?.taxYear||new Date().getFullYear(),requestedDocuments:be,instructions:`Please complete the following task:

${g.title}: ${g.description}`,task:g}),me(`Reminder sent for "${g.title}" to ${k}`),setTimeout(()=>me(null),5e3)}catch(k){$t("Error sending reminder:",k),D(k.message||"Failed to send reminder")}finally{M(null)}},ut=async(g,k)=>{Ye(!0),D(null);try{const De=e.documentRequests?.find(be=>be.status==="pending"||be.status==="partial");if(!De)throw new Error("No active document request found");const Ze=await En(De.id,g.documentType||g.type,!0,k||f());if(Ze.success)oe(be=>{const Qe=new Set(be);return Qe.add(g.id),Qe}),me(`"${g.title}" marked as not needed`),setTimeout(()=>me(null),3e3);else throw new Error(Ze.error||"Failed to mark as not needed")}catch(De){$t("Error marking as not needed:",De),D(De.message)}finally{Ye(!1),T(!1),ce(null),et("")}},_t=async g=>{Ye(!0),D(null);try{const k=e.documentRequests?.find(Ze=>Ze.status==="pending"||Ze.status==="partial");if(!k)throw new Error("No active document request found");const De=await En(k.id,g.documentType||g.type,!1);if(De.success)oe(Ze=>{const be=new Set(Ze);return be.delete(g.id),be}),me(`"${g.title}" restored to pending`),setTimeout(()=>me(null),3e3);else throw new Error(De.error||"Failed to restore task")}catch(k){$t("Error restoring task:",k),D(k.message)}finally{Ye(!1)}},Et=g=>{ce(g),et(""),T(!0)},Bt=g=>({high:{label:"High",color:"#ef4444",bg:"rgba(239, 68, 68, 0.1)"},medium:{label:"Medium",color:"#f59e0b",bg:"rgba(245, 158, 11, 0.1)"},low:{label:"Low",color:"#6b7280",bg:"rgba(107, 114, 128, 0.1)"}})[g],G=g=>({pending:{label:"Pending",color:"#f59e0b",bg:"rgba(245, 158, 11, 0.1)"},complete:{label:"Complete",color:"#22c55e",bg:"rgba(34, 197, 94, 0.1)"},in_progress:{label:"In Progress",color:"#3b82f6",bg:"rgba(59, 130, 246, 0.1)"}})[g],le=g=>g?new Date(g).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"",ye={display:"flex","flex-direction":"column",gap:"1.5rem"},_e={display:"flex","justify-content":"space-between","align-items":"flex-start","flex-wrap":"wrap",gap:"1rem"},it={"font-size":"1.25rem","font-weight":"600",color:"var(--text-primary, #1f2937)",margin:"0"},ft={display:"flex",gap:"1.5rem","margin-top":"0.5rem"},ot={display:"flex","align-items":"center",gap:"0.5rem","font-size":"0.875rem"},Ct=g=>({width:"8px",height:"8px","border-radius":"50%",background:g}),bt=g=>({padding:"0.75rem 1rem","border-radius":"8px","font-size":"0.875rem",background:g==="success"?"rgba(34, 197, 94, 0.1)":"rgba(239, 68, 68, 0.1)",color:g==="success"?"#22c55e":"#ef4444",border:`1px solid ${g==="success"?"#22c55e":"#ef4444"}`,display:"flex","align-items":"center",gap:"0.5rem"}),Ke={display:"flex","flex-direction":"column",gap:"0.75rem"},xt=(g,k=!1)=>({display:"flex","align-items":"flex-start",gap:"1rem",padding:"1rem",background:k?"rgba(245, 158, 11, 0.03)":g==="complete"?"rgba(34, 197, 94, 0.03)":"var(--surface-color, #ffffff)",border:`1px solid ${k?"rgba(245, 158, 11, 0.2)":g==="complete"?"rgba(34, 197, 94, 0.2)":"var(--border-color, #e5e7eb)"}`,"border-radius":"8px",transition:"all 0.2s ease",opacity:k?"0.7":"1"}),I={display:"flex","align-items":"center","justify-content":"center","flex-shrink":"0","padding-top":"0.125rem"},X=(g,k=!1)=>({width:"24px",height:"24px","border-radius":"50%",border:g||k?"none":"2px solid var(--border-color, #d1d5db)",background:k?"#f59e0b":g?"#22c55e":"transparent",display:"flex","align-items":"center","justify-content":"center",cursor:"pointer",transition:"all 0.2s ease"}),J={flex:"1","min-width":"0"},de=(g,k=!1)=>({"font-weight":"500","font-size":"0.9375rem",color:k?"#f59e0b":g?"var(--text-secondary, #6b7280)":"var(--text-primary, #1f2937)","text-decoration":g||k?"line-through":"none","margin-bottom":"0.25rem"}),we={"font-size":"0.8125rem",color:"var(--text-muted, #9ca3af)","margin-bottom":"0.5rem"},W={display:"flex",gap:"0.5rem","flex-wrap":"wrap"},Ie=g=>({display:"inline-flex","align-items":"center",padding:"0.125rem 0.5rem","border-radius":"4px",background:g.bg,color:g.color,"font-size":"0.6875rem","font-weight":"600","text-transform":"uppercase","letter-spacing":"0.05em"}),F={padding:"0.875rem 2rem",background:"var(--primary-color, #3b82f6)",color:"white",border:"none","border-radius":"8px","font-size":"1rem","font-weight":"600",cursor:"pointer",display:"flex","align-items":"center",gap:"0.5rem",transition:"all 0.2s ease","box-shadow":"0 4px 6px rgba(59, 130, 246, 0.25)"},V={...F,background:"var(--border-color, #d1d5db)",cursor:"not-allowed","box-shadow":"none"},Oe={"font-size":"0.75rem",color:"#22c55e","margin-top":"0.25rem"},Ee={display:"flex","flex-direction":"column","align-items":"center",padding:"1.5rem",background:"linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(139, 92, 246, 0.1))","border-radius":"12px","margin-bottom":"1rem"};return(()=>{var g=io(),k=g.firstChild,De=k.firstChild,Ze=De.firstChild,be=Ze.nextSibling,Qe=be.firstChild,yt=Qe.firstChild,_=yt.nextSibling,rt=_.firstChild,Pe=Qe.nextSibling,He=Pe.firstChild,Ne=He.nextSibling,vt=Ne.firstChild;return r(Ze,it),r(be,ft),t(_,()=>Ue().pending,rt),t(Ne,()=>Ue().complete,vt),t(be,i(u,{get when(){return Ue().inProgress>0},get children(){var w=Js(),E=w.firstChild,ie=E.nextSibling,Fe=ie.firstChild;return t(ie,()=>Ue().inProgress,Fe),v(L=>{var ee=ot,ze=Ct("#3b82f6");return L.e=r(w,ee,L.e),L.t=r(E,ze,L.t),L},{e:void 0,t:void 0}),w}}),null),t(g,i(u,{get when(){return se()},get children(){var w=Zs(),E=w.firstChild;return E.style.setProperty("width","16px"),E.style.setProperty("height","16px"),t(w,se,null),v(ie=>r(w,bt("error"),ie)),w}}),null),t(g,i(u,{get when(){return h()},get children(){var w=eo(),E=w.firstChild;return E.style.setProperty("width","16px"),E.style.setProperty("height","16px"),t(w,h,null),v(ie=>r(w,bt("success"),ie)),w}}),null),t(g,i(u,{get when(){return Me().length>0},get children(){return i(xr,{get children(){var w=to(),E=w.firstChild,ie=E.nextSibling,Fe=ie.nextSibling,L=Fe.firstChild,ee=L.nextSibling,ze=ee.nextSibling,at=ze.nextSibling;at.nextSibling;var Ve=Fe.nextSibling,We=Ve.firstChild;return E.style.setProperty("font-size","2.5rem"),E.style.setProperty("margin-bottom","0.5rem"),t(E,()=>Me().length),ie.style.setProperty("font-size","1rem"),ie.style.setProperty("font-weight","500"),ie.style.setProperty("color","var(--text-primary)"),ie.style.setProperty("margin-bottom","0.5rem"),Fe.style.setProperty("font-size","0.875rem"),Fe.style.setProperty("color","var(--text-secondary)"),Fe.style.setProperty("margin-bottom","1.5rem"),Fe.style.setProperty("text-align","center"),t(Fe,()=>e?.taxPortal?.firstName,ee),t(Fe,()=>e?.taxPortal?.lastName,at),Ve.$$click=fe,We.style.setProperty("width","20px"),We.style.setProperty("height","20px"),t(Ve,()=>C()?"Sending...":"Send All Pending to Client",null),v(ht=>{var o=Ee,P=C()?V:F,z=C();return ht.e=r(w,o,ht.e),ht.t=r(Ve,P,ht.t),z!==ht.a&&(Ve.disabled=ht.a=z),ht},{e:void 0,t:void 0,a:void 0}),w}})}}),null),t(g,i(xr,{get children(){var w=Hn();return t(w,i(zt,{get each(){return b()},children:E=>{const ie=Bt(E.priority),Fe=G(E.status),L=E.status==="complete",ee=pt().has(E.id);return $t(E),(()=>{var ze=vo(),at=ze.firstChild,Ve=at.firstChild,We=at.nextSibling,ht=We.firstChild,o=ht.nextSibling,P=o.nextSibling,z=P.firstChild,te=z.firstChild;return r(at,I),t(Ve,i(u,{when:L,get children(){var l=so();return l.style.setProperty("width","14px"),l.style.setProperty("height","14px"),l}}),null),t(Ve,i(u,{when:ee&&!L,get children(){var l=oo();return l.style.setProperty("width","14px"),l.style.setProperty("height","14px"),l}}),null),r(We,J),t(ht,()=>E.title),r(o,we),t(o,()=>E.description),t(P,i(u,{when:ee,get children(){var l=ao();return v($=>r(l,Ie({color:"#f59e0b",bg:"rgba(245, 158, 11, 0.1)"}),$)),l}}),z),t(P,i(u,{when:!ee,get children(){var l=Wn();return t(l,()=>Fe.label),v($=>r(l,Ie(Fe),$)),l}}),z),t(z,()=>ie.label,te),t(P,i(u,{get when(){return E.documentType&&!E.matchedDocuments},get children(){var l=Wn();return t(l,()=>E.documentType),v($=>r(l,Ie({color:"#8b5cf6",bg:"rgba(139, 92, 246, 0.1)"}),$)),l}}),null),t(We,i(u,{get when(){return E.matchedDocuments&&E.matchedDocuments.length>0},get children(){var l=yo(),$=l.firstChild,x=$.firstChild,A=x.nextSibling,B=A.nextSibling;B.nextSibling;var ve=$.nextSibling;return l.style.setProperty("margin-top","0.75rem"),l.style.setProperty("padding","0.75rem"),l.style.setProperty("background","rgba(34, 197, 94, 0.05)"),l.style.setProperty("border-radius","6px"),l.style.setProperty("border","1px solid rgba(34, 197, 94, 0.2)"),$.style.setProperty("font-size","0.75rem"),$.style.setProperty("font-weight","600"),$.style.setProperty("color","#166534"),$.style.setProperty("margin-bottom","0.5rem"),$.style.setProperty("display","flex"),$.style.setProperty("align-items","center"),$.style.setProperty("gap","0.375rem"),x.style.setProperty("width","14px"),x.style.setProperty("height","14px"),t($,()=>E.matchedDocuments.length,B),ve.style.setProperty("display","flex"),ve.style.setProperty("flex-direction","column"),ve.style.setProperty("gap","0.375rem"),t(ve,i(zt,{get each(){return E.matchedDocuments},children:Le=>(()=>{var Te=bo(),pe=Te.firstChild,Be=pe.nextSibling;return Te.style.setProperty("display","flex"),Te.style.setProperty("align-items","center"),Te.style.setProperty("gap","0.5rem"),Te.style.setProperty("font-size","0.8125rem"),Te.style.setProperty("color","var(--text-secondary)"),pe.style.setProperty("display","inline-flex"),pe.style.setProperty("padding","0.125rem 0.375rem"),pe.style.setProperty("background","rgba(139, 92, 246, 0.1)"),pe.style.setProperty("color","#8b5cf6"),pe.style.setProperty("border-radius","4px"),pe.style.setProperty("font-size","0.6875rem"),pe.style.setProperty("font-weight","600"),t(pe,()=>yn[Le.drakeFormType||"other"]),Be.style.setProperty("max-width","200px"),Be.style.setProperty("overflow","hidden"),Be.style.setProperty("text-overflow","ellipsis"),Be.style.setProperty("white-space","nowrap"),t(Be,()=>Le.originalFileName),t(Te,i(u,{get when(){return Le.payerInfo?.name},get children(){var tt=ho();return tt.firstChild,tt.style.setProperty("color","var(--text-muted)"),tt.style.setProperty("font-size","0.75rem"),t(tt,()=>Le.payerInfo?.name,null),tt}}),null),v(()=>or(Be,"title",Le.originalFileName)),Te})()})),l}}),null),t(We,i(u,{get when(){return L&&E.completedAt&&!E.matchedDocuments},get children(){var l=co();return l.firstChild,r(l,Oe),t(l,()=>le(E.completedAt),null),l}}),null),t(We,i(u,{get when(){return E.type==="sign_letter"&&E.signedRequest},get children(){return[(()=>{var l=po(),$=l.firstChild;return l.$$mouseout=x=>{x.currentTarget.style.transform="translateY(0)",x.currentTarget.style.boxShadow="0 2px 4px rgba(59, 130, 246, 0.3)"},l.$$mouseover=x=>{x.currentTarget.style.transform="translateY(-1px)",x.currentTarget.style.boxShadow="0 4px 8px rgba(59, 130, 246, 0.4)"},l.$$click=()=>{E.signedRequest&&Xs({client:e.taxPortal,request:E.signedRequest,logo:e.logo})},l.style.setProperty("margin-top","0.75rem"),l.style.setProperty("padding","0.5rem 1rem"),l.style.setProperty("background","linear-gradient(135deg, #3b82f6, #1d4ed8)"),l.style.setProperty("color","white"),l.style.setProperty("border","none"),l.style.setProperty("border-radius","6px"),l.style.setProperty("font-size","0.8125rem"),l.style.setProperty("font-weight","500"),l.style.setProperty("cursor","pointer"),l.style.setProperty("display","inline-flex"),l.style.setProperty("align-items","center"),l.style.setProperty("gap","0.5rem"),l.style.setProperty("transition","all 0.2s ease"),l.style.setProperty("box-shadow","0 2px 4px rgba(59, 130, 246, 0.3)"),$.style.setProperty("width","16px"),$.style.setProperty("height","16px"),l})(),(()=>{var l=qn(),$=l.firstChild;return l.$$mouseout=x=>{x.currentTarget.style.transform="translateY(0)",x.currentTarget.style.boxShadow="0 2px 4px rgba(139, 92, 246, 0.3)"},l.$$mouseover=x=>{x.currentTarget.style.transform="translateY(-1px)",x.currentTarget.style.boxShadow="0 4px 8px rgba(139, 92, 246, 0.4)"},l.$$click=()=>{E.signedRequest&&(N(E.signedRequest),m("engagement"),Q(!0))},l.style.setProperty("margin-top","0.5rem"),l.style.setProperty("margin-left","0.5rem"),l.style.setProperty("padding","0.5rem 1rem"),l.style.setProperty("background","linear-gradient(135deg, #8b5cf6, #6d28d9)"),l.style.setProperty("color","white"),l.style.setProperty("border","none"),l.style.setProperty("border-radius","6px"),l.style.setProperty("font-size","0.8125rem"),l.style.setProperty("font-weight","500"),l.style.setProperty("cursor","pointer"),l.style.setProperty("display","inline-flex"),l.style.setProperty("align-items","center"),l.style.setProperty("gap","0.5rem"),l.style.setProperty("transition","all 0.2s ease"),l.style.setProperty("box-shadow","0 2px 4px rgba(139, 92, 246, 0.3)"),$.style.setProperty("width","16px"),$.style.setProperty("height","16px"),l})(),(()=>{var l=Yn(),$=l.firstChild;return l.$$click=()=>E.signedRequest&&Je(E.signedRequest,"engagement"),l.style.setProperty("margin-top","0.5rem"),l.style.setProperty("margin-left","0.5rem"),l.style.setProperty("padding","0.5rem 1rem"),l.style.setProperty("border","1px solid #e2e8f0"),l.style.setProperty("border-radius","6px"),l.style.setProperty("font-size","0.8125rem"),l.style.setProperty("font-weight","500"),l.style.setProperty("cursor","pointer"),l.style.setProperty("display","inline-flex"),l.style.setProperty("align-items","center"),l.style.setProperty("gap","0.5rem"),l.style.setProperty("transition","all 0.2s ease"),$.style.setProperty("width","16px"),$.style.setProperty("height","16px"),t(l,()=>ae()===E.signedRequest?.id+"engagement"?"Copied!":"Copy Link",null),v(x=>{var A=ae()===E.signedRequest?.id+"engagement"?"#22c55e":"#f1f5f9",B=ae()===E.signedRequest?.id+"engagement"?"white":"#64748b";return A!==x.e&&((x.e=A)!=null?l.style.setProperty("background",A):l.style.removeProperty("background")),B!==x.t&&((x.t=B)!=null?l.style.setProperty("color",B):l.style.removeProperty("color")),x},{e:void 0,t:void 0}),l})()]}}),null),t(We,i(u,{get when(){return E.type==="set_signing_pin"&&E.pinRequest},get children(){return[(()=>{var l=uo(),$=l.firstChild;return l.$$mouseout=x=>{x.currentTarget.style.transform="translateY(0)",x.currentTarget.style.boxShadow="0 2px 4px rgba(16, 185, 129, 0.3)"},l.$$mouseover=x=>{x.currentTarget.style.transform="translateY(-1px)",x.currentTarget.style.boxShadow="0 4px 8px rgba(16, 185, 129, 0.4)"},l.$$click=()=>{E.pinRequest&&Ks({client:e.taxPortal,request:E.pinRequest,logo:e.logo})},l.style.setProperty("margin-top","0.75rem"),l.style.setProperty("padding","0.5rem 1rem"),l.style.setProperty("background","linear-gradient(135deg, #10b981, #059669)"),l.style.setProperty("color","white"),l.style.setProperty("border","none"),l.style.setProperty("border-radius","6px"),l.style.setProperty("font-size","0.8125rem"),l.style.setProperty("font-weight","500"),l.style.setProperty("cursor","pointer"),l.style.setProperty("display","inline-flex"),l.style.setProperty("align-items","center"),l.style.setProperty("gap","0.5rem"),l.style.setProperty("transition","all 0.2s ease"),l.style.setProperty("box-shadow","0 2px 4px rgba(16, 185, 129, 0.3)"),$.style.setProperty("width","16px"),$.style.setProperty("height","16px"),l})(),(()=>{var l=qn(),$=l.firstChild;return l.$$mouseout=x=>{x.currentTarget.style.transform="translateY(0)",x.currentTarget.style.boxShadow="0 2px 4px rgba(139, 92, 246, 0.3)"},l.$$mouseover=x=>{x.currentTarget.style.transform="translateY(-1px)",x.currentTarget.style.boxShadow="0 4px 8px rgba(139, 92, 246, 0.4)"},l.$$click=()=>{E.pinRequest&&(N(E.pinRequest),m("pin"),Q(!0))},l.style.setProperty("margin-top","0.5rem"),l.style.setProperty("margin-left","0.5rem"),l.style.setProperty("padding","0.5rem 1rem"),l.style.setProperty("background","linear-gradient(135deg, #8b5cf6, #6d28d9)"),l.style.setProperty("color","white"),l.style.setProperty("border","none"),l.style.setProperty("border-radius","6px"),l.style.setProperty("font-size","0.8125rem"),l.style.setProperty("font-weight","500"),l.style.setProperty("cursor","pointer"),l.style.setProperty("display","inline-flex"),l.style.setProperty("align-items","center"),l.style.setProperty("gap","0.5rem"),l.style.setProperty("transition","all 0.2s ease"),l.style.setProperty("box-shadow","0 2px 4px rgba(139, 92, 246, 0.3)"),$.style.setProperty("width","16px"),$.style.setProperty("height","16px"),l})(),(()=>{var l=Yn(),$=l.firstChild;return l.$$click=()=>E.pinRequest&&Je(E.pinRequest,"pin"),l.style.setProperty("margin-top","0.5rem"),l.style.setProperty("margin-left","0.5rem"),l.style.setProperty("padding","0.5rem 1rem"),l.style.setProperty("border","1px solid #e2e8f0"),l.style.setProperty("border-radius","6px"),l.style.setProperty("font-size","0.8125rem"),l.style.setProperty("font-weight","500"),l.style.setProperty("cursor","pointer"),l.style.setProperty("display","inline-flex"),l.style.setProperty("align-items","center"),l.style.setProperty("gap","0.5rem"),l.style.setProperty("transition","all 0.2s ease"),$.style.setProperty("width","16px"),$.style.setProperty("height","16px"),t(l,()=>ae()===E.pinRequest?.id+"pin"?"Copied!":"Copy Link",null),v(x=>{var A=ae()===E.pinRequest?.id+"pin"?"#22c55e":"#f1f5f9",B=ae()===E.pinRequest?.id+"pin"?"white":"#64748b";return A!==x.e&&((x.e=A)!=null?l.style.setProperty("background",A):l.style.removeProperty("background")),B!==x.t&&((x.t=B)!=null?l.style.setProperty("color",B):l.style.removeProperty("color")),x},{e:void 0,t:void 0}),l})()]}}),null),t(We,i(u,{get when(){return ct(()=>E.type==="verify_info")()&&Se()},get children(){var l=mo(),$=l.firstChild,x=$.firstChild,A=$.nextSibling,B=A.firstChild;return l.style.setProperty("margin-top","0.75rem"),l.style.setProperty("display","flex"),l.style.setProperty("flex-wrap","wrap"),l.style.setProperty("gap","0.5rem"),$.$$mouseout=ve=>{ve.currentTarget.style.transform="translateY(0)",ve.currentTarget.style.boxShadow="0 2px 4px rgba(6, 182, 212, 0.3)"},$.$$mouseover=ve=>{ve.currentTarget.style.transform="translateY(-1px)",ve.currentTarget.style.boxShadow="0 4px 8px rgba(6, 182, 212, 0.4)"},$.$$click=()=>{const ve=Se();if(ve){const Le=Ge(ve);window.open(Le,"_blank")}},$.style.setProperty("padding","0.5rem 1rem"),$.style.setProperty("background","linear-gradient(135deg, #06b6d4, #0891b2)"),$.style.setProperty("color","white"),$.style.setProperty("border","none"),$.style.setProperty("border-radius","6px"),$.style.setProperty("font-size","0.8125rem"),$.style.setProperty("font-weight","500"),$.style.setProperty("cursor","pointer"),$.style.setProperty("display","inline-flex"),$.style.setProperty("align-items","center"),$.style.setProperty("gap","0.5rem"),$.style.setProperty("transition","all 0.2s ease"),$.style.setProperty("box-shadow","0 2px 4px rgba(6, 182, 212, 0.3)"),x.style.setProperty("width","16px"),x.style.setProperty("height","16px"),A.$$click=()=>{const ve=Se();ve&&je(ve)},A.style.setProperty("padding","0.5rem 1rem"),A.style.setProperty("border","1px solid #e2e8f0"),A.style.setProperty("border-radius","6px"),A.style.setProperty("font-size","0.8125rem"),A.style.setProperty("font-weight","500"),A.style.setProperty("cursor","pointer"),A.style.setProperty("display","inline-flex"),A.style.setProperty("align-items","center"),A.style.setProperty("gap","0.5rem"),A.style.setProperty("transition","all 0.2s ease"),B.style.setProperty("width","16px"),B.style.setProperty("height","16px"),t(A,()=>ae()===Se()?.id+"verify"?"Copied!":"Copy Verification Link",null),v(ve=>{var Le=ae()===Se()?.id+"verify"?"#22c55e":"#f1f5f9",Te=ae()===Se()?.id+"verify"?"white":"#64748b";return Le!==ve.e&&((ve.e=Le)!=null?A.style.setProperty("background",Le):A.style.removeProperty("background")),Te!==ve.t&&((ve.t=Te)!=null?A.style.setProperty("color",Te):A.style.removeProperty("color")),ve},{e:void 0,t:void 0}),l}}),null),t(ze,i(u,{get when(){return!L&&!pt().has(E.id)},get children(){var l=Hn();return l.style.setProperty("display","flex"),l.style.setProperty("flex-direction","column"),l.style.setProperty("gap","0.5rem"),l.style.setProperty("align-items","flex-end"),t(l,i(_r,{variant:"secondary",size:"sm",onClick:()=>St(E),get disabled(){return R()===E.id},get children(){return R()===E.id?"Sending...":"Send Reminder"}}),null),t(l,i(u,{get when(){return E.type==="upload_document"},get children(){var $=go(),x=$.firstChild;return $.$$mouseout=A=>{A.currentTarget.style.borderColor="#cbd5e1",A.currentTarget.style.color="#94a3b8"},$.$$mouseover=A=>{A.currentTarget.style.borderColor="#f59e0b",A.currentTarget.style.color="#f59e0b"},$.$$click=()=>Et(E),$.style.setProperty("padding","0.375rem 0.75rem"),$.style.setProperty("background","transparent"),$.style.setProperty("color","#94a3b8"),$.style.setProperty("border","1px dashed #cbd5e1"),$.style.setProperty("border-radius","6px"),$.style.setProperty("font-size","0.75rem"),$.style.setProperty("cursor","pointer"),$.style.setProperty("display","flex"),$.style.setProperty("align-items","center"),$.style.setProperty("gap","0.375rem"),$.style.setProperty("transition","all 0.2s ease"),x.style.setProperty("width","14px"),x.style.setProperty("height","14px"),$}}),null),l}}),null),t(ze,i(u,{get when(){return pt().has(E.id)},get children(){var l=fo(),$=l.firstChild,x=$.nextSibling;return l.style.setProperty("display","flex"),l.style.setProperty("flex-direction","column"),l.style.setProperty("gap","0.375rem"),l.style.setProperty("align-items","flex-end"),$.style.setProperty("padding","0.25rem 0.5rem"),$.style.setProperty("background","rgba(245, 158, 11, 0.1)"),$.style.setProperty("color","#f59e0b"),$.style.setProperty("border-radius","4px"),$.style.setProperty("font-size","0.6875rem"),$.style.setProperty("font-weight","600"),$.style.setProperty("text-transform","uppercase"),x.$$click=()=>_t(E),x.style.setProperty("padding","0.25rem 0.5rem"),x.style.setProperty("background","transparent"),x.style.setProperty("color","#64748b"),x.style.setProperty("border","none"),x.style.setProperty("font-size","0.75rem"),x.style.setProperty("cursor","pointer"),x.style.setProperty("text-decoration","underline"),t(x,()=>$e()?"Restoring...":"Undo"),v(()=>x.disabled=$e()),l}}),null),v(l=>{var $=xt(E.status,ee),x=X(L,ee),A=de(L,ee),B=W,ve=Ie(ie);return l.e=r(ze,$,l.e),l.t=r(Ve,x,l.t),l.a=r(ht,A,l.a),l.o=r(P,B,l.o),l.i=r(z,ve,l.i),l},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),ze})()}})),v(E=>r(w,Ke,E)),w}}),null),t(g,i(u,{get when(){return Ue().pending===0},get children(){return i(xr,{get children(){var w=ro(),E=w.firstChild,ie=E.firstChild,Fe=E.nextSibling,L=Fe.nextSibling,ee=L.firstChild;return w.style.setProperty("text-align","center"),w.style.setProperty("padding","2rem"),w.style.setProperty("background","rgba(34, 197, 94, 0.05)"),w.style.setProperty("border-radius","8px"),E.style.setProperty("font-size","3rem"),E.style.setProperty("margin-bottom","0.75rem"),E.style.setProperty("color","#22c55e"),ie.style.setProperty("width","48px"),ie.style.setProperty("height","48px"),Fe.style.setProperty("font-size","1.125rem"),Fe.style.setProperty("font-weight","600"),Fe.style.setProperty("color","#166534"),Fe.style.setProperty("margin-bottom","0.5rem"),L.style.setProperty("font-size","0.875rem"),L.style.setProperty("color","#22c55e"),t(L,()=>e?.taxPortal?.firstName,ee),w}})}}),null),t(g,i(u,{get when(){return ct(()=>!!n())()&&xe()},get children(){var w=no(),E=w.firstChild,ie=E.firstChild,Fe=ie.firstChild;return w.$$click=L=>{L.target===L.currentTarget&&Q(!1)},w.style.setProperty("position","fixed"),w.style.setProperty("top","0"),w.style.setProperty("left","0"),w.style.setProperty("right","0"),w.style.setProperty("bottom","0"),w.style.setProperty("background-color","rgba(0, 0, 0, 0.5)"),w.style.setProperty("display","flex"),w.style.setProperty("align-items","center"),w.style.setProperty("justify-content","center"),w.style.setProperty("z-index","1000"),w.style.setProperty("padding","1rem"),E.style.setProperty("background","white"),E.style.setProperty("border-radius","12px"),E.style.setProperty("max-width","900px"),E.style.setProperty("max-height","90vh"),E.style.setProperty("overflow","auto"),E.style.setProperty("box-shadow","0 25px 50px -12px rgba(0, 0, 0, 0.25)"),E.style.setProperty("position","relative"),ie.$$click=()=>Q(!1),ie.style.setProperty("position","absolute"),ie.style.setProperty("top","1rem"),ie.style.setProperty("right","1rem"),ie.style.setProperty("background","#f1f5f9"),ie.style.setProperty("border","none"),ie.style.setProperty("border-radius","50%"),ie.style.setProperty("width","32px"),ie.style.setProperty("height","32px"),ie.style.setProperty("cursor","pointer"),ie.style.setProperty("display","flex"),ie.style.setProperty("align-items","center"),ie.style.setProperty("justify-content","center"),ie.style.setProperty("z-index","10"),Fe.style.setProperty("width","20px"),Fe.style.setProperty("height","20px"),Fe.style.setProperty("color","#64748b"),t(E,i(kl,{get request(){return xe()},get type(){return O()}}),null),w}}),null),t(g,i(u,{get when(){return ct(()=>!!ne())()&&S()},get children(){var w=lo(),E=w.firstChild,ie=E.firstChild,Fe=ie.firstChild,L=Fe.firstChild,ee=Fe.nextSibling,ze=ee.firstChild,at=ze.nextSibling,Ve=ie.nextSibling,We=Ve.nextSibling,ht=We.firstChild,o=ht.nextSibling,P=We.nextSibling,z=P.firstChild,te=z.nextSibling;return w.$$click=l=>{l.target===l.currentTarget&&(T(!1),ce(null))},w.style.setProperty("position","fixed"),w.style.setProperty("top","0"),w.style.setProperty("left","0"),w.style.setProperty("right","0"),w.style.setProperty("bottom","0"),w.style.setProperty("background-color","rgba(0, 0, 0, 0.5)"),w.style.setProperty("display","flex"),w.style.setProperty("align-items","center"),w.style.setProperty("justify-content","center"),w.style.setProperty("z-index","1000"),w.style.setProperty("padding","1rem"),E.style.setProperty("background","white"),E.style.setProperty("border-radius","12px"),E.style.setProperty("max-width","450px"),E.style.setProperty("width","100%"),E.style.setProperty("padding","1.5rem"),E.style.setProperty("box-shadow","0 25px 50px -12px rgba(0, 0, 0, 0.25)"),ie.style.setProperty("display","flex"),ie.style.setProperty("align-items","center"),ie.style.setProperty("gap","0.75rem"),ie.style.setProperty("margin-bottom","1rem"),Fe.style.setProperty("width","40px"),Fe.style.setProperty("height","40px"),Fe.style.setProperty("border-radius","10px"),Fe.style.setProperty("background","rgba(245, 158, 11, 0.1)"),Fe.style.setProperty("display","flex"),Fe.style.setProperty("align-items","center"),Fe.style.setProperty("justify-content","center"),L.style.setProperty("width","24px"),L.style.setProperty("height","24px"),L.style.setProperty("color","#f59e0b"),ze.style.setProperty("font-size","1rem"),ze.style.setProperty("font-weight","600"),ze.style.setProperty("color","#1f2937"),ze.style.setProperty("margin","0"),at.style.setProperty("font-size","0.875rem"),at.style.setProperty("color","#6b7280"),at.style.setProperty("margin","0"),t(at,()=>S()?.title),Ve.style.setProperty("font-size","0.875rem"),Ve.style.setProperty("color","#4b5563"),Ve.style.setProperty("margin-bottom","1rem"),We.style.setProperty("margin-bottom","1.5rem"),ht.style.setProperty("display","block"),ht.style.setProperty("font-size","0.875rem"),ht.style.setProperty("font-weight","500"),ht.style.setProperty("color","#374151"),ht.style.setProperty("margin-bottom","0.5rem"),o.addEventListener("blur",l=>l.currentTarget.style.borderColor="#d1d5db"),o.addEventListener("focus",l=>l.currentTarget.style.borderColor="#f59e0b"),o.$$input=l=>et(l.currentTarget.value),o.style.setProperty("width","100%"),o.style.setProperty("padding","0.625rem 0.75rem"),o.style.setProperty("border","1px solid #d1d5db"),o.style.setProperty("border-radius","8px"),o.style.setProperty("font-size","0.875rem"),o.style.setProperty("outline","none"),o.style.setProperty("box-sizing","border-box"),P.style.setProperty("display","flex"),P.style.setProperty("gap","0.75rem"),P.style.setProperty("justify-content","flex-end"),z.$$click=()=>{T(!1),ce(null),et("")},z.style.setProperty("padding","0.625rem 1rem"),z.style.setProperty("background","#f3f4f6"),z.style.setProperty("color","#374151"),z.style.setProperty("border","none"),z.style.setProperty("border-radius","8px"),z.style.setProperty("font-size","0.875rem"),z.style.setProperty("font-weight","500"),z.style.setProperty("cursor","pointer"),te.$$click=()=>S()&&ut(S()),te.style.setProperty("padding","0.625rem 1rem"),te.style.setProperty("color","white"),te.style.setProperty("border","none"),te.style.setProperty("border-radius","8px"),te.style.setProperty("font-size","0.875rem"),te.style.setProperty("font-weight","500"),te.style.setProperty("display","flex"),te.style.setProperty("align-items","center"),te.style.setProperty("gap","0.5rem"),t(te,(()=>{var l=ct(()=>!!$e());return()=>l()?[(()=>{var $=xo();return $.style.setProperty("width","16px"),$.style.setProperty("height","16px"),$.style.setProperty("animation","spin 1s linear infinite"),$})(),"Processing..."]:"Mark as Not Needed"})()),v(l=>{var $=$e(),x=$e()?"#fbbf24":"#f59e0b",A=$e()?"not-allowed":"pointer";return $!==l.e&&(te.disabled=l.e=$),x!==l.t&&((l.t=x)!=null?te.style.setProperty("background",x):te.style.removeProperty("background")),A!==l.a&&((l.a=A)!=null?te.style.setProperty("cursor",A):te.style.removeProperty("cursor")),l},{e:void 0,t:void 0,a:void 0}),v(()=>o.value=f()),w}}),null),v(w=>{var E=ye,ie=_e,Fe=ot,L=Ct("#f59e0b"),ee=ot,ze=Ct("#22c55e");return w.e=r(g,E,w.e),w.t=r(k,ie,w.t),w.a=r(Qe,Fe,w.a),w.o=r(yt,L,w.o),w.i=r(Pe,ee,w.i),w.n=r(He,ze,w.n),w},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),g})()};ar(["click","input","mouseover","mouseout"]);function pr(e){if(e==null)return"";const C=String(e);return C.includes(",")||C.includes('"')||C.includes(`
`)||C.includes("\r")?`"${C.replace(/"/g,'""')}"`:C}function sl(e){if(!e.ss)return null;const C=e.ss.replace(/\D/g,"");return C.length!==9?null:C}function $o(e,C,y){const R=[];if(!e.extractedAmounts||!e.drakeFormType)return R;const M=Tl[e.drakeFormType];if(!M)return R;const h=Il(e.drakeFormType,e.extractedAmounts),me=sl(C),se=me?Nl(me):"",D=C.firstName||"",Z=C.lastName||"",K=C.middleName?C.middleName.charAt(0).toUpperCase():void 0,n=e.payerInfo;for(const{box:Q,value:xe}of h){const N={SSN:se,firstName:D,lastName:Z,middleInitial:K,taxYear:y,formType:M.formCode,boxNumber:Q.boxNumber,amount:xe,description:Q.description,payerName:n?.name,payerEIN:n?.ein?wn(n.ein):void 0,payerAddress:n?[n.address,n.city,n.state,n.zip].filter(Boolean).join(", "):void 0,state:n?.state,stateId:void 0};e.drakeFormType==="w2"&&n&&(N.employerName=n.name,N.employerEIN=n.ein?wn(n.ein):void 0,N.employerAddress=N.payerAddress),e.drakeFormType==="1098"&&e.extractedAmounts.propertyAddress&&(N.propertyAddress=e.extractedAmounts.propertyAddress),["1098_t","1099_int","1099_div"].includes(e.drakeFormType)&&n&&(N.institutionName=n.name,N.institutionEIN=n.ein?wn(n.ein):void 0),R.push(N)}return R}function So(e,C){const y=[];y.push(Al.join(","));for(const R of e){const M=[pr(R.SSN),pr(R.firstName),pr(R.middleInitial),pr(R.lastName),pr(R.suffix),pr(R.taxYear),pr(R.formType),pr(R.boxNumber),pr(zl(R.amount)),pr(R.description),pr(R.payerName),pr(R.payerEIN),pr(R.payerAddress),pr(R.state),pr(R.stateId)];y.push(M.join(","))}return y.join(`
`)}function wo(e,C){const y=new Blob([e],{type:"text/csv;charset=utf-8;"}),R=URL.createObjectURL(y),M=document.createElement("a");M.href=R,M.download=C,document.body.appendChild(M),M.click(),document.body.removeChild(M),URL.revokeObjectURL(R)}function Co(e,C,y){const R=[],M=[];if(!sl(e))return{success:!1,recordCount:0,totalIncome:0,totalWithholding:0,errors:["Client SSN is missing or invalid. Cannot generate export."]};if(!e.firstName||!e.lastName)return{success:!1,recordCount:0,totalIncome:0,totalWithholding:0,errors:["Client first name and last name are required."]};const me=C.filter(O=>!(!O.verified||O.drakeFormType==="w2"&&y.includeW2===!1||["1099_misc","1099_nec","1099_int","1099_div"].includes(O.drakeFormType||"")&&y.include1099===!1||["1098","1098_t"].includes(O.drakeFormType||"")&&y.include1098===!1||O.drakeFormType==="schedule_k1"&&y.includeK1===!1||O.drakeFormType==="receipt"&&y.includeReceipts===!1));if(me.length===0)return{success:!1,recordCount:0,totalIncome:0,totalWithholding:0,errors:["No verified documents available for export with the current filter settings."]};const se=[];let D=0,Z=0;for(const O of me)try{const m=$o(O,e,y.taxYear);se.push(...m);for(const ae of m)(ae.formType==="W2"&&ae.boxNumber==="1"||ae.formType==="1099NEC"&&ae.boxNumber==="1"||ae.formType==="1099MISC"&&["1","2","3"].includes(ae.boxNumber)||ae.formType==="1099INT"&&ae.boxNumber==="1"||ae.formType==="1099DIV"&&ae.boxNumber==="1a"||ae.formType==="K1"&&["1","4","5","6a"].includes(ae.boxNumber))&&(D+=ae.amount),(ae.formType==="W2"&&ae.boxNumber==="2"||ae.formType==="1099NEC"&&ae.boxNumber==="4"||ae.formType==="1099MISC"&&ae.boxNumber==="4"||ae.formType==="1099INT"&&ae.boxNumber==="4"||ae.formType==="1099DIV"&&ae.boxNumber==="4")&&(Z+=ae.amount)}catch(m){M.push(`Error processing document "${O.originalFileName}": ${m instanceof Error?m.message:"Unknown error"}`)}if(se.length===0)return{success:!1,recordCount:0,totalIncome:0,totalWithholding:0,errors:["No records were generated from the documents. Please verify that documents have extracted amounts."]};const K=So(se),n=`${e.lastName}_${e.firstName}`.replace(/\s+/g,"_"),Q=new Date().toISOString().slice(0,10).replace(/-/g,""),N=`Drake_${n}_${y.taxYear}_${Q}.csv`;return{success:!0,csvData:K,fileName:N,recordCount:se.length,totalIncome:D,totalWithholding:Z,errors:R.length>0?R:void 0,warnings:M.length>0?M:void 0,exportedAt:Date.now()}}var _o=a('<svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"clip-rule=evenodd>'),ko=a("<div><div><div></div></div><div>"),To=a("<div><div></div><div>Errors"),Io=a("<div><div><div></div><div>Total Documents</div></div><div><div></div><div>Verified</div></div><div><div></div><div>Pending Review"),No=a("<div><div></div>Calculating..."),zo=a("<div><div></div>Exporting..."),Ao=a("<div><button></button><button>"),Do=a('<svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"clip-rule=evenodd>'),Fo=a('<svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"clip-rule=evenodd>'),Lo=a("<div><div>"),Ro=a('<h4><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.707l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 001.414 1.414L9 9.414V13a1 1 0 102 0V9.414l1.293 1.293a1 1 0 001.414-1.414z"clip-rule=evenodd></path></svg>Advance to Next Step'),Eo=a('<div><div><div>Review with Client</div><div>Review calculation results and prepare return</div></div><button><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"clip-rule=evenodd></path></svg>Mark Review Complete'),Mo=a('<div><div><div>Client Signatures</div><div>Request client to sign tax return</div></div><button><svg viewBox="0 0 20 20"fill=currentColor><path d="M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"></path><path fill-rule=evenodd d="M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"clip-rule=evenodd></path></svg>Mark Signatures Obtained'),Bo=a('<div><div><div>File Tax Return</div><div>Mark return as filed with IRS</div></div><button><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"clip-rule=evenodd></path></svg>Mark as Filed'),an=a("<div>"),Oo=a(`<div><div><svg viewBox="0 0 20 20"fill=#22c55e><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"clip-rule=evenodd></path></svg></div><h3>Tax Return Filed!</h3><p>'s <!> tax return has been successfully filed.`),jo=a("<li>Review and verify <!> pending document(s)"),Uo=a("<li>Resolve <!> document error(s)"),Ho=a("<li>Run tax calculation to see estimated results"),Wo=a("<li>Review calculation results with client"),qo=a("<li>Export data to Drake Tax Software"),Yo=a("<li>Complete and file return"),Vo=a("<li>Upload tax documents to begin"),Go=a(`<div><div><div><h3>Tax Preparation Progress</h3><p> <!> - Tax Year </p></div></div><div><div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"clip-rule=evenodd></path></svg>Next Steps</div><ul></ul></div><style>
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
      `),Qo=a("<div><div></div><span>"),Xo=a('<svg viewBox="0 0 20 20"fill=currentColor><path d="M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V4a2 2 0 00-2-2H6zm1 2a1 1 0 000 2h6a1 1 0 100-2H7zm6 7a1 1 0 011 1v3a1 1 0 11-2 0v-3a1 1 0 011-1zm-3 3a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zm-2-2a1 1 0 011 1v2a1 1 0 11-2 0v-2a1 1 0 011-1z">'),Ko=a('<svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"clip-rule=evenodd>'),Jo=a('<div><div><h4><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z"clip-rule=evenodd></path></svg>Form 1040 - Tax Calculation Details</h4><p>Tax Year <!> | </p></div><div>Marginal Rate: <strong>%'),Zo=a("<div>INCOME (Lines 1-9)"),ea=a("<div><span>1h</span><span>Other earned income</span><span>"),ta=a("<div><span>2b</span><span>Taxable interest (1099-INT)</span><span>"),ra=a("<div><span>3b</span><span>Ordinary dividends (1099-DIV)</span><span>"),na=a("<div><span>8</span><span>Other income (Schedule 1)</span><span>"),la=a("<div><span>Schedule C - Business income (1099-NEC)</span><span>"),ia=a("<div><span>Schedule E - Rental income</span><span>"),sa=a("<div><span>Schedule E - Royalties</span><span>"),oa=a("<div><span>Other income</span><span>"),aa=a("<div><div><span>1a</span><span>Wages, salaries, tips (W-2 Box 1)</span><span></span></div><div><span>1z</span><span>Total wages</span><span></span></div><div><span>9</span><span>TOTAL INCOME</span><span>"),da=a("<div>ADJUSTED GROSS INCOME (Lines 10-11)"),ya=a("<div><div><span>10</span><span>Adjustments to income</span><span></span></div><div><span>11</span><span>ADJUSTED GROSS INCOME (AGI)</span><span>"),ca=a("<div>DEDUCTIONS (Lines 12-15)"),pa=a("<div><span>SALT (State/Local taxes) - capped</span><span>"),ua=a("<div><span>Mortgage interest (1098)</span><span>"),ma=a("<div><span>13a</span><span>Qualified Business Income Deduction (QBID)</span><span>"),ga=a("<div><span>13b</span><span>Schedule 1-A Additional Deductions</span><span>"),fa=a("<div><span>14</span><span>Total Deductions (Lines 12 + 13a + 13b)</span><span>"),va=a("<div><div><span>12a</span><span>Standard deduction</span><span></span></div><div><span>12b</span><span>Itemized deductions (Schedule A)</span><span></span></div><div><span>12</span><span><strong>Deduction used:</strong> </span><span></span></div><div><span>15</span><span>TAXABLE INCOME (Line 11 - Line 14)</span><span>"),ha=a("<div>TAX CALCULATION (Lines 16-24)"),ba=a("<div><span>17</span><span>Schedule 2 Taxes (SE tax, etc.)</span><span>"),xa=a("<div><span>18</span><span>Total tax before credits (Lines 16 + 17)</span><span>"),Pa=a("<div><span>19</span><span>Child Tax Credit / Credit for Other Dependents</span><span>-"),$a=a("<div><span>21</span><span>Total Credits</span><span>-"),Sa=a("<div><div><span>16</span><span>Tax (from tax table)</span><span></span></div><div><span>Applied: </span><span></span></div><div><span>24</span><span>TOTAL TAX</span><span>"),wa=a("<div>PAYMENTS (Lines 25-33)"),Ca=a("<div><span>25a</span><span>Federal tax withheld (W-2 Box 2)</span><span>"),_a=a("<div><span>25b</span><span>Federal tax withheld (1099s)</span><span>"),ka=a("<div><div><span>33</span><span>TOTAL PAYMENTS</span><span>"),Ta=a("<div>FORM 8962 - PREMIUM TAX CREDIT (1095-A)"),Ia=a("<div><span>26</span><span>Net Premium Tax Credit (Additional Refund)</span><span>"),Na=a("<div><span>27</span><span>Excess APTC (Before Limitation)</span><span>"),za=a("<div><span>28</span><span>Repayment Limitation</span><span>"),Aa=a("<div><span>29</span><span>Excess APTC Repayment (to Schedule 2)</span><span>"),Da=a("<div><div><span>Info</span><span>Family Size / Federal Poverty Level</span><span> persons / </span></div><div><span>%FPL</span><span>Household Income as % of FPL</span><span>%</span></div><div><span>11</span><span>Applicable % / Annual Contribution</span><span>% = </span></div><div><span>1095-A (<!> months): Premium: <!> | SLCSP: <!> | APTC: </span><span></span></div><div><span>24</span><span>Total Premium Tax Credit Allowed</span><span></span></div><div><span>25</span><span>Advance PTC Received (APTC)</span><span>"),Fa=a("<div>Line 34 - REFUND"),La=a("<div>Payments (<!>) - Tax (<!>)"),Ra=a("<div>Line 37 - AMOUNT YOU OWE"),Ea=a("<div>Tax (<!>) - Payments (<!>)"),Ma=a("<div>No refund or amount owed"),Ba=a("<p>* This is a preliminary estimate. Actual results may vary based on additional deductions, credits, and IRS verification.");const Tn=[{id:"documents_collected",label:"Documents Collected",description:"All tax documents uploaded"},{id:"verified",label:"Verified",description:"Documents reviewed and verified"},{id:"calculations",label:"Calculations",description:"Tax calculations complete"},{id:"review",label:"Review",description:"Final review by preparer"},{id:"signatures",label:"Signatures",description:"Client signatures obtained"},{id:"filing",label:"Filing",description:"Return filed with IRS"}],Oa=e=>{const[C,y]=Xe(!1),[R,M]=Xe(!1),[h,me]=Xe(null),[se,D]=Xe(null),[Z,K]=Xe(!1),[n,Q]=Xe(!1),[xe,N]=Xe(!1),O=Pr(()=>{const G=e.documents,le=G.length,ye=G.filter(_e=>_e.verified).length;return xe()?"filing":n()?"signatures":Z()?"review":h()?"calculations":le>0&&ye===le?"verified":"documents_collected"}),m=G=>Tn.findIndex(le=>le.id===G),ae=Pr(()=>{const G=e.documents;return{total:G.length,verified:G.filter(le=>le.verified).length,pending:G.filter(le=>!le.verified&&le.uploadStatus!=="error").length,errors:G.filter(le=>le.uploadStatus==="error").length}}),s=async()=>{y(!0),D(null);try{const G=e.client.taxStrategy?.otherIncome?.adjustments,le=e.client.taxStrategy?.otherIncome?.schedule2Taxes,ye=(le?.excessPtcRepayment?.amount||0)+(le?.selfEmploymentTax?.amount||0)+(le?.unreportedSocialSecurityTax?.amount||0)+(le?.additionalTaxOnIra?.amount||0)+(le?.householdEmploymentTax?.amount||0)+(le?.netInvestmentIncomeTax?.amount||0),_e={qbid:G?.qbid?.amount||0,schedule1ADeductions:G?.schedule1ADeductions?.amount||0,schedule2Tax:ye},it=await ul(e.client.id,e.taxYear,e.documents,e.client,_e);me(it)}catch{D({type:"error",text:"Error running tax calculation"})}finally{y(!1)}},ne=async()=>{M(!0),D(null);try{const G={id:e.client.id,firstName:e.client.firstName,middleName:e.client.middleName,lastName:e.client.lastName,ss:e.client.ssn,residences:e.client.address?{current:{addressLineOne:e.client.address,city:e.client.city,state:e.client.state,zipcode:e.client.zipCode}}:void 0},le=Co(G,e.documents,{taxYear:e.taxYear,clientId:e.client.id,outputFormat:"csv",includeHeaders:!0});le.success&&le.csvData&&le.fileName?(wo(le.csvData,le.fileName),D({type:"success",text:`Successfully exported ${le.recordCount} records to ${le.fileName}`})):D({type:"error",text:le.errors?.[0]||"Export failed"})}catch(G){D({type:"error",text:G.message||"Error exporting to Drake"})}finally{M(!1)}},T={display:"flex","flex-direction":"column",gap:"1.5rem"},S={display:"flex","justify-content":"space-between","align-items":"center","flex-wrap":"wrap",gap:"1rem"},ce={"font-size":"1.25rem","font-weight":"600",color:"var(--text-primary, #1f2937)",margin:"0"},f={"font-size":"0.875rem",color:"var(--text-secondary, #6b7280)","margin-top":"0.25rem"},et={position:"relative",padding:"2rem 1rem"},$e={display:"flex","justify-content":"space-between",position:"relative"},Ye={position:"absolute",top:"20px",left:"50px",right:"50px",height:"4px",background:"var(--border-color, #e5e7eb)","z-index":"0"},pt=G=>({position:"absolute",top:"0",left:"0",height:"100%",width:`${G}%`,background:"linear-gradient(90deg, #22c55e 0%, #3b82f6 100%)","border-radius":"2px",transition:"width 0.5s ease"}),oe=(G,le,ye)=>({display:"flex","flex-direction":"column","align-items":"center",gap:"0.5rem",position:"relative","z-index":"1",flex:"1","max-width":"120px"}),H=(G,le,ye)=>({width:ye?"44px":"40px",height:ye?"44px":"40px","border-radius":"50%",display:"flex","align-items":"center","justify-content":"center",background:le?"linear-gradient(135deg, #22c55e 0%, #16a34a 100%)":ye?"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)":"white",border:le||ye?"none":"2px solid var(--border-color, #e5e7eb)",color:le||ye?"white":"var(--text-secondary, #6b7280)","font-weight":"600","font-size":"0.875rem",transition:"all 0.3s ease","box-shadow":ye?"0 4px 12px rgba(59, 130, 246, 0.4)":le?"0 4px 12px rgba(34, 197, 94, 0.3)":"none"}),Ge=(G,le)=>({"font-size":"0.75rem","font-weight":le?"700":"500",color:le?"var(--primary-color, #3b82f6)":G?"var(--text-primary, #1f2937)":"var(--text-secondary, #6b7280)","text-align":"center","max-width":"100px",transition:"all 0.2s ease"}),Se={display:"flex",gap:"1rem","flex-wrap":"wrap","justify-content":"center","margin-top":"1rem"},Je=(G,le)=>({padding:"1rem 2rem","font-size":"1rem","font-weight":"600","border-radius":"12px",border:G==="secondary"?"2px solid var(--border-color, #e5e7eb)":"none",background:le?"var(--surface-alt, #f3f4f6)":G==="primary"?"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)":G==="success"?"linear-gradient(135deg, #22c55e 0%, #16a34a 100%)":"white",color:le?"var(--text-secondary, #6b7280)":G==="secondary"?"var(--text-primary, #1f2937)":"white",cursor:le?"not-allowed":"pointer",transition:"all 0.2s ease",display:"flex","align-items":"center",gap:"0.75rem","box-shadow":le?"none":G==="primary"?"0 4px 12px rgba(59, 130, 246, 0.3)":G==="success"?"0 4px 12px rgba(34, 197, 94, 0.3)":"0 2px 8px rgba(0, 0, 0, 0.08)","min-width":"200px","justify-content":"center"}),je={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem","margin-top":"1rem"},Re=G=>({padding:"1.25rem","border-radius":"12px",background:`linear-gradient(135deg, ${G}08 0%, ${G}15 100%)`,border:`1px solid ${G}30`,"text-align":"center"}),b=G=>({"font-size":"1.75rem","font-weight":"700",color:G,"margin-bottom":"0.25rem"}),Ue={"font-size":"0.8125rem",color:"var(--text-secondary, #6b7280)","font-weight":"500"},Me=G=>({padding:"1rem 1.25rem","border-radius":"10px","font-size":"0.9375rem",background:G==="success"?"rgba(34, 197, 94, 0.1)":"rgba(239, 68, 68, 0.1)",color:G==="success"?"#22c55e":"#ef4444",border:`1px solid ${G==="success"?"#22c55e":"#ef4444"}`,display:"flex","align-items":"center",gap:"0.75rem","font-weight":"500"}),fe={"margin-top":"1.5rem",padding:"1.25rem","border-radius":"12px",background:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)",border:"1px solid #bae6fd"},nt={"font-size":"0.9375rem","font-weight":"600",color:"#0369a1","margin-bottom":"0.75rem",display:"flex","align-items":"center",gap:"0.5rem"},St={margin:"0","padding-left":"1.5rem","font-size":"0.875rem",color:"#0c4a6e","line-height":"1.75"},ut={display:"flex","align-items":"center","justify-content":"center",gap:"0.5rem",padding:"0.5rem"},_t={width:"20px",height:"20px",border:"2px solid rgba(255,255,255,0.3)","border-top-color":"white","border-radius":"50%",animation:"spin 1s linear infinite"},Et=Pr(()=>m(O())/(Tn.length-1)*100),Bt=()=>(()=>{var G=_o();return G.style.setProperty("width","20px"),G.style.setProperty("height","20px"),G})();return(()=>{var G=Go(),le=G.firstChild,ye=le.firstChild,_e=ye.firstChild,it=_e.nextSibling,ft=it.firstChild,ot=ft.nextSibling;ot.nextSibling;var Ct=le.nextSibling,bt=Ct.firstChild,Ke=bt.firstChild,xt=bt.nextSibling;return r(it,f),t(it,()=>e.client.firstName,ft),t(it,()=>e.client.lastName,ot),t(it,()=>e.taxYear,null),t(G,i(xr,{get children(){return[(()=>{var I=ko(),X=I.firstChild,J=X.firstChild,de=X.nextSibling;return t(de,i(zt,{each:Tn,children:(we,W)=>{const Ie=m(O()),F=W()<Ie,V=W()===Ie,Oe=W()<=Ie;return(()=>{var Ee=Qo(),g=Ee.firstChild,k=g.nextSibling;return t(g,i(u,{when:F,get fallback(){return W()+1},get children(){return i(Bt,{})}})),t(k,()=>we.label),v(De=>{var Ze=oe(),be=H(Oe,F,V),Qe=Ge(Oe,V);return De.e=r(Ee,Ze,De.e),De.t=r(g,be,De.t),De.a=r(k,Qe,De.a),De},{e:void 0,t:void 0,a:void 0}),Ee})()}})),v(we=>{var W=et,Ie=Ye,F=pt(Et()),V=$e;return we.e=r(I,W,we.e),we.t=r(X,Ie,we.t),we.a=r(J,F,we.a),we.o=r(de,V,we.o),we},{e:void 0,t:void 0,a:void 0,o:void 0}),I})(),(()=>{var I=Io(),X=I.firstChild,J=X.firstChild,de=J.nextSibling,we=X.nextSibling,W=we.firstChild,Ie=W.nextSibling,F=we.nextSibling,V=F.firstChild,Oe=V.nextSibling;return r(I,je),t(J,()=>ae().total),t(W,()=>ae().verified),t(V,()=>ae().pending),t(I,i(u,{get when(){return ae().errors>0},get children(){var Ee=To(),g=Ee.firstChild,k=g.nextSibling;return t(g,()=>ae().errors),v(De=>{var Ze=Re("#ef4444"),be=b("#ef4444"),Qe=Ue;return De.e=r(Ee,Ze,De.e),De.t=r(g,be,De.t),De.a=r(k,Qe,De.a),De},{e:void 0,t:void 0,a:void 0}),Ee}}),null),v(Ee=>{var g=Re("#3b82f6"),k=b("#3b82f6"),De=Ue,Ze=Re("#22c55e"),be=b("#22c55e"),Qe=Ue,yt=Re("#f59e0b"),_=b("#f59e0b"),rt=Ue;return Ee.e=r(X,g,Ee.e),Ee.t=r(J,k,Ee.t),Ee.a=r(de,De,Ee.a),Ee.o=r(we,Ze,Ee.o),Ee.i=r(W,be,Ee.i),Ee.n=r(Ie,Qe,Ee.n),Ee.s=r(F,yt,Ee.s),Ee.h=r(V,_,Ee.h),Ee.r=r(Oe,rt,Ee.r),Ee},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0}),I})(),(()=>{var I=Ao(),X=I.firstChild,J=X.nextSibling;return X.$$click=s,t(X,i(u,{get when(){return C()},get fallback(){return[(()=>{var de=Xo();return de.style.setProperty("width","20px"),de.style.setProperty("height","20px"),de})(),"Run Tax Calculation"]},get children(){var de=No(),we=de.firstChild;return v(W=>{var Ie=ut,F=_t;return W.e=r(de,Ie,W.e),W.t=r(we,F,W.t),W},{e:void 0,t:void 0}),de}})),J.$$click=ne,t(J,i(u,{get when(){return R()},get fallback(){return[(()=>{var de=Ko();return de.style.setProperty("width","20px"),de.style.setProperty("height","20px"),de})(),"Export to Drake"]},get children(){var de=zo(),we=de.firstChild;return v(W=>{var Ie=ut,F=_t;return W.e=r(de,Ie,W.e),W.t=r(we,F,W.t),W},{e:void 0,t:void 0}),de}})),v(de=>{var we=Se,W=Je("primary",C()||ae().verified===0),Ie=C()||ae().verified===0,F=Je("success",R()||ae().verified===0),V=R()||ae().verified===0;return de.e=r(I,we,de.e),de.t=r(X,W,de.t),Ie!==de.a&&(X.disabled=de.a=Ie),de.o=r(J,F,de.o),V!==de.i&&(J.disabled=de.i=V),de},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),I})(),i(u,{get when(){return se()},get children(){var I=Lo(),X=I.firstChild;return I.style.setProperty("margin-top","1rem"),t(X,i(u,{get when(){return se().type==="success"},get children(){var J=Do();return J.style.setProperty("width","20px"),J.style.setProperty("height","20px"),J}}),null),t(X,i(u,{get when(){return se().type==="error"},get children(){var J=Fo();return J.style.setProperty("width","20px"),J.style.setProperty("height","20px"),J}}),null),t(X,()=>se().text,null),v(J=>r(X,Me(se().type),J)),I}})]}}),Ct),t(G,i(u,{get when(){return h()},get children(){return(()=>{const I=h(),X=g=>g<0?`-$${Math.abs(g).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`:`$${g.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,J={display:"flex","justify-content":"space-between","align-items":"center",padding:"0.5rem 0","border-bottom":"1px solid var(--border-color, #e5e7eb)","font-size":"0.875rem"},de={"font-weight":"600",color:"var(--primary-color, #3b82f6)","min-width":"60px"},we={flex:"1",color:"var(--text-secondary, #6b7280)"},W=(g,k)=>({"font-weight":"600",color:g?"#22c55e":"var(--text-primary, #1f2937)","text-align":"right","min-width":"120px"}),Ie={background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",color:"white",padding:"0.75rem 1rem","font-weight":"600","font-size":"0.875rem","margin-top":"1rem","border-radius":"8px 8px 0 0"},F={background:"var(--surface-alt, #f9fafb)",padding:"0.75rem 1rem","border-radius":"0 0 8px 8px",border:"1px solid var(--border-color, #e5e7eb)","border-top":"none"},V={display:"flex","justify-content":"space-between","padding-left":"2rem","font-size":"0.8125rem",color:"var(--text-muted, #9ca3af)",padding:"0.25rem 0 0.25rem 2rem"},Oe={...J,background:"linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(34, 197, 94, 0.05))",padding:"0.75rem","border-radius":"8px",border:"1px solid rgba(34, 197, 94, 0.3)","margin-top":"0.5rem","font-weight":"700"},Ee=g=>({background:g?"linear-gradient(135deg, rgba(34, 197, 94, 0.15), rgba(34, 197, 94, 0.05))":"linear-gradient(135deg, rgba(239, 68, 68, 0.15), rgba(239, 68, 68, 0.05))",border:`2px solid ${g?"#22c55e":"#ef4444"}`,"border-radius":"12px",padding:"1.5rem","text-align":"center","margin-top":"1.5rem"});return i(xr,{get children(){return[(()=>{var g=Jo(),k=g.firstChild,De=k.firstChild,Ze=De.firstChild,be=De.nextSibling,Qe=be.firstChild,yt=Qe.nextSibling;yt.nextSibling;var _=k.nextSibling,rt=_.firstChild,Pe=rt.nextSibling,He=Pe.firstChild;return g.style.setProperty("display","flex"),g.style.setProperty("justify-content","space-between"),g.style.setProperty("align-items","center"),g.style.setProperty("margin-bottom","1rem"),g.style.setProperty("padding-bottom","1rem"),g.style.setProperty("border-bottom","2px solid var(--border-color, #e5e7eb)"),Ze.style.setProperty("width","24px"),Ze.style.setProperty("height","24px"),Ze.style.setProperty("vertical-align","middle"),Ze.style.setProperty("margin-right","0.5rem"),Ze.style.setProperty("color","#3b82f6"),be.style.setProperty("font-size","0.875rem"),be.style.setProperty("color","var(--text-secondary)"),be.style.setProperty("margin-top","0.25rem"),t(be,()=>I.taxYear,yt),t(be,()=>I.filingStatusLabel,null),_.style.setProperty("background","var(--surface-alt, #f3f4f6)"),_.style.setProperty("padding","0.5rem 1rem"),_.style.setProperty("border-radius","8px"),_.style.setProperty("font-size","0.75rem"),_.style.setProperty("color","var(--text-secondary)"),Pe.style.setProperty("color","#3b82f6"),t(Pe,()=>(I.line16_marginalRate*100).toFixed(0),He),v(Ne=>r(De,{...ce,margin:0},Ne)),g})(),(()=>{var g=Zo();return v(k=>r(g,Ie,k)),g})(),(()=>{var g=aa(),k=g.firstChild,De=k.firstChild,Ze=De.nextSibling,be=Ze.nextSibling,Qe=k.nextSibling,yt=Qe.firstChild,_=yt.nextSibling,rt=_.nextSibling,Pe=Qe.nextSibling,He=Pe.firstChild,Ne=He.nextSibling,vt=Ne.nextSibling;return t(be,()=>X(I.line1a_wages)),t(g,i(u,{get when(){return I.line1h_otherEarnedIncome>0},get children(){var w=ea(),E=w.firstChild,ie=E.nextSibling,Fe=ie.nextSibling;return t(Fe,()=>X(I.line1h_otherEarnedIncome)),v(L=>{var ee=J,ze=de,at=we,Ve=W();return L.e=r(w,ee,L.e),L.t=r(E,ze,L.t),L.a=r(ie,at,L.a),L.o=r(Fe,Ve,L.o),L},{e:void 0,t:void 0,a:void 0,o:void 0}),w}}),Qe),t(rt,()=>X(I.line1z_totalWages)),t(g,i(u,{get when(){return I.line2b_taxableInterest>0},get children(){var w=ta(),E=w.firstChild,ie=E.nextSibling,Fe=ie.nextSibling;return t(Fe,()=>X(I.line2b_taxableInterest)),v(L=>{var ee=J,ze=de,at=we,Ve=W();return L.e=r(w,ee,L.e),L.t=r(E,ze,L.t),L.a=r(ie,at,L.a),L.o=r(Fe,Ve,L.o),L},{e:void 0,t:void 0,a:void 0,o:void 0}),w}}),Pe),t(g,i(u,{get when(){return I.line3b_ordinaryDividends>0},get children(){var w=ra(),E=w.firstChild,ie=E.nextSibling,Fe=ie.nextSibling;return t(Fe,()=>X(I.line3b_ordinaryDividends)),v(L=>{var ee=J,ze=de,at=we,Ve=W();return L.e=r(w,ee,L.e),L.t=r(E,ze,L.t),L.a=r(ie,at,L.a),L.o=r(Fe,Ve,L.o),L},{e:void 0,t:void 0,a:void 0,o:void 0}),w}}),Pe),t(g,i(u,{get when(){return I.line8_otherIncome>0},get children(){return[(()=>{var w=na(),E=w.firstChild,ie=E.nextSibling,Fe=ie.nextSibling;return t(Fe,()=>X(I.line8_otherIncome)),v(L=>{var ee=J,ze=de,at=we,Ve=W();return L.e=r(w,ee,L.e),L.t=r(E,ze,L.t),L.a=r(ie,at,L.a),L.o=r(Fe,Ve,L.o),L},{e:void 0,t:void 0,a:void 0,o:void 0}),w})(),i(u,{get when(){return I.line8_breakdown.businessIncome>0},get children(){var w=la(),E=w.firstChild,ie=E.nextSibling;return t(ie,()=>X(I.line8_breakdown.businessIncome)),v(Fe=>r(w,V,Fe)),w}}),i(u,{get when(){return I.line8_breakdown.rentalIncome>0},get children(){var w=ia(),E=w.firstChild,ie=E.nextSibling;return t(ie,()=>X(I.line8_breakdown.rentalIncome)),v(Fe=>r(w,V,Fe)),w}}),i(u,{get when(){return I.line8_breakdown.royalties>0},get children(){var w=sa(),E=w.firstChild,ie=E.nextSibling;return t(ie,()=>X(I.line8_breakdown.royalties)),v(Fe=>r(w,V,Fe)),w}}),i(u,{get when(){return I.line8_breakdown.other>0},get children(){var w=oa(),E=w.firstChild,ie=E.nextSibling;return t(ie,()=>X(I.line8_breakdown.other)),v(Fe=>r(w,V,Fe)),w}})]}}),Pe),t(vt,()=>X(I.line9_totalIncome)),v(w=>{var E=F,ie=J,Fe=de,L=we,ee=W(),ze=J,at=de,Ve=we,We=W(),ht=Oe,o=de,P=we,z=W(!0);return w.e=r(g,E,w.e),w.t=r(k,ie,w.t),w.a=r(De,Fe,w.a),w.o=r(Ze,L,w.o),w.i=r(be,ee,w.i),w.n=r(Qe,ze,w.n),w.s=r(yt,at,w.s),w.h=r(_,Ve,w.h),w.r=r(rt,We,w.r),w.d=r(Pe,ht,w.d),w.l=r(He,o,w.l),w.u=r(Ne,P,w.u),w.c=r(vt,z,w.c),w},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0}),g})(),(()=>{var g=da();return v(k=>r(g,{...Ie,background:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)"},k)),g})(),(()=>{var g=ya(),k=g.firstChild,De=k.firstChild,Ze=De.nextSibling,be=Ze.nextSibling,Qe=k.nextSibling,yt=Qe.firstChild,_=yt.nextSibling,rt=_.nextSibling;return t(be,()=>X(I.line10_adjustments)),t(rt,()=>X(I.line11_agi)),v(Pe=>{var He=F,Ne=J,vt=de,w=we,E=W(),ie=Oe,Fe=de,L=we,ee=W(!0);return Pe.e=r(g,He,Pe.e),Pe.t=r(k,Ne,Pe.t),Pe.a=r(De,vt,Pe.a),Pe.o=r(Ze,w,Pe.o),Pe.i=r(be,E,Pe.i),Pe.n=r(Qe,ie,Pe.n),Pe.s=r(yt,Fe,Pe.s),Pe.h=r(_,L,Pe.h),Pe.r=r(rt,ee,Pe.r),Pe},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0}),g})(),(()=>{var g=ca();return v(k=>r(g,{...Ie,background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)"},k)),g})(),(()=>{var g=va(),k=g.firstChild,De=k.firstChild,Ze=De.nextSibling,be=Ze.nextSibling,Qe=k.nextSibling,yt=Qe.firstChild,_=yt.nextSibling,rt=_.nextSibling,Pe=Qe.nextSibling,He=Pe.firstChild,Ne=He.nextSibling,vt=Ne.firstChild;vt.nextSibling;var w=Ne.nextSibling,E=Pe.nextSibling,ie=E.firstChild,Fe=ie.nextSibling,L=Fe.nextSibling;return t(be,()=>X(I.line12a_standardDeduction)),t(rt,()=>X(I.line12b_itemizedDeductions)),t(g,i(u,{get when(){return I.line12b_itemizedDeductions>0},get children(){return[i(u,{get when(){return I.line12b_breakdown.saltDeduction>0},get children(){var ee=pa(),ze=ee.firstChild,at=ze.nextSibling;return t(at,()=>X(I.line12b_breakdown.saltDeduction)),v(Ve=>r(ee,V,Ve)),ee}}),i(u,{get when(){return I.line12b_breakdown.mortgageInterest>0},get children(){var ee=ua(),ze=ee.firstChild,at=ze.nextSibling;return t(at,()=>X(I.line12b_breakdown.mortgageInterest)),v(Ve=>r(ee,V,Ve)),ee}})]}}),Pe),t(Ne,()=>I.line12_deductionUsed==="itemized"?"Itemized":"Standard",null),t(w,()=>X(I.line12_deductionAmount)),t(g,i(u,{get when(){return I.line13a_qbid>0},get children(){var ee=ma(),ze=ee.firstChild,at=ze.nextSibling,Ve=at.nextSibling;return t(Ve,()=>X(I.line13a_qbid)),v(We=>{var ht=J,o=de,P=we,z=W();return We.e=r(ee,ht,We.e),We.t=r(ze,o,We.t),We.a=r(at,P,We.a),We.o=r(Ve,z,We.o),We},{e:void 0,t:void 0,a:void 0,o:void 0}),ee}}),E),t(g,i(u,{get when(){return I.line13b_schedule1ADeductions>0},get children(){var ee=ga(),ze=ee.firstChild,at=ze.nextSibling,Ve=at.nextSibling;return t(Ve,()=>X(I.line13b_schedule1ADeductions)),v(We=>{var ht=J,o=de,P=we,z=W();return We.e=r(ee,ht,We.e),We.t=r(ze,o,We.t),We.a=r(at,P,We.a),We.o=r(Ve,z,We.o),We},{e:void 0,t:void 0,a:void 0,o:void 0}),ee}}),E),t(g,i(u,{get when(){return I.line13a_qbid>0||I.line13b_schedule1ADeductions>0},get children(){var ee=fa(),ze=ee.firstChild,at=ze.nextSibling,Ve=at.nextSibling;return t(Ve,()=>X(I.line14_totalDeductions)),v(We=>{var ht=J,o=de,P=we,z=W();return We.e=r(ee,ht,We.e),We.t=r(ze,o,We.t),We.a=r(at,P,We.a),We.o=r(Ve,z,We.o),We},{e:void 0,t:void 0,a:void 0,o:void 0}),ee}}),E),t(L,()=>X(I.line15_taxableIncome)),v(ee=>{var ze=F,at=J,Ve=de,We=we,ht=W(),o=J,P=de,z=we,te=W(),l={...J,background:I.line12_deductionUsed==="itemized"?"rgba(245, 158, 11, 0.1)":"rgba(59, 130, 246, 0.1)",padding:"0.75rem","border-radius":"6px","margin-top":"0.5rem"},$=de,x=we,A=W(!0),B=Oe,ve=de,Le=we,Te=W(!0);return ee.e=r(g,ze,ee.e),ee.t=r(k,at,ee.t),ee.a=r(De,Ve,ee.a),ee.o=r(Ze,We,ee.o),ee.i=r(be,ht,ee.i),ee.n=r(Qe,o,ee.n),ee.s=r(yt,P,ee.s),ee.h=r(_,z,ee.h),ee.r=r(rt,te,ee.r),ee.d=r(Pe,l,ee.d),ee.l=r(He,$,ee.l),ee.u=r(Ne,x,ee.u),ee.c=r(w,A,ee.c),ee.w=r(E,B,ee.w),ee.m=r(ie,ve,ee.m),ee.f=r(Fe,Le,ee.f),ee.y=r(L,Te,ee.y),ee},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0}),g})(),(()=>{var g=ha();return v(k=>r(g,{...Ie,background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)"},k)),g})(),(()=>{var g=Sa(),k=g.firstChild,De=k.firstChild,Ze=De.nextSibling,be=Ze.nextSibling,Qe=k.nextSibling,yt=Qe.firstChild;yt.firstChild;var _=Qe.nextSibling,rt=_.firstChild,Pe=rt.nextSibling,He=Pe.nextSibling;return t(be,()=>X(I.line16_tax)),t(yt,()=>I.line16_bracketUsed,null),t(g,i(u,{get when(){return I.line17_schedule2Tax>0},get children(){return[(()=>{var Ne=ba(),vt=Ne.firstChild,w=vt.nextSibling,E=w.nextSibling;return t(E,()=>X(I.line17_schedule2Tax)),v(ie=>{var Fe=J,L=de,ee=we,ze=W();return ie.e=r(Ne,Fe,ie.e),ie.t=r(vt,L,ie.t),ie.a=r(w,ee,ie.a),ie.o=r(E,ze,ie.o),ie},{e:void 0,t:void 0,a:void 0,o:void 0}),Ne})(),(()=>{var Ne=xa(),vt=Ne.firstChild,w=vt.nextSibling,E=w.nextSibling;return t(E,()=>X(I.line18_totalTaxBeforeCredits)),v(ie=>{var Fe=J,L=de,ee=we,ze=W();return ie.e=r(Ne,Fe,ie.e),ie.t=r(vt,L,ie.t),ie.a=r(w,ee,ie.a),ie.o=r(E,ze,ie.o),ie},{e:void 0,t:void 0,a:void 0,o:void 0}),Ne})()]}}),_),t(g,i(u,{get when(){return I.line19_childTaxCredit>0},get children(){var Ne=Pa(),vt=Ne.firstChild,w=vt.nextSibling,E=w.nextSibling;return E.firstChild,t(E,()=>X(I.line19_childTaxCredit),null),v(ie=>{var Fe=J,L=de,ee=we,ze={...W(),color:"#22c55e"};return ie.e=r(Ne,Fe,ie.e),ie.t=r(vt,L,ie.t),ie.a=r(w,ee,ie.a),ie.o=r(E,ze,ie.o),ie},{e:void 0,t:void 0,a:void 0,o:void 0}),Ne}}),_),t(g,i(u,{get when(){return I.line21_totalCredits>0},get children(){var Ne=$a(),vt=Ne.firstChild,w=vt.nextSibling,E=w.nextSibling;return E.firstChild,t(E,()=>X(I.line21_totalCredits),null),v(ie=>{var Fe=J,L=de,ee=we,ze={...W(),color:"#22c55e"};return ie.e=r(Ne,Fe,ie.e),ie.t=r(vt,L,ie.t),ie.a=r(w,ee,ie.a),ie.o=r(E,ze,ie.o),ie},{e:void 0,t:void 0,a:void 0,o:void 0}),Ne}}),_),t(He,()=>X(I.line24_totalTax)),v(Ne=>{var vt=F,w=J,E=de,ie=we,Fe=W(),L=V,ee=Oe,ze=de,at=we,Ve={...W(!0),color:"#ef4444"};return Ne.e=r(g,vt,Ne.e),Ne.t=r(k,w,Ne.t),Ne.a=r(De,E,Ne.a),Ne.o=r(Ze,ie,Ne.o),Ne.i=r(be,Fe,Ne.i),Ne.n=r(Qe,L,Ne.n),Ne.s=r(_,ee,Ne.s),Ne.h=r(rt,ze,Ne.h),Ne.r=r(Pe,at,Ne.r),Ne.d=r(He,Ve,Ne.d),Ne},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0}),g})(),(()=>{var g=wa();return v(k=>r(g,{...Ie,background:"linear-gradient(135deg, #10b981 0%, #059669 100%)"},k)),g})(),(()=>{var g=ka(),k=g.firstChild,De=k.firstChild,Ze=De.nextSibling,be=Ze.nextSibling;return t(g,i(u,{get when(){return I.line25a_w2Withholding>0},get children(){var Qe=Ca(),yt=Qe.firstChild,_=yt.nextSibling,rt=_.nextSibling;return t(rt,()=>X(I.line25a_w2Withholding)),v(Pe=>{var He=J,Ne=de,vt=we,w=W();return Pe.e=r(Qe,He,Pe.e),Pe.t=r(yt,Ne,Pe.t),Pe.a=r(_,vt,Pe.a),Pe.o=r(rt,w,Pe.o),Pe},{e:void 0,t:void 0,a:void 0,o:void 0}),Qe}}),k),t(g,i(u,{get when(){return I.line25b_1099Withholding>0},get children(){var Qe=_a(),yt=Qe.firstChild,_=yt.nextSibling,rt=_.nextSibling;return t(rt,()=>X(I.line25b_1099Withholding)),v(Pe=>{var He=J,Ne=de,vt=we,w=W();return Pe.e=r(Qe,He,Pe.e),Pe.t=r(yt,Ne,Pe.t),Pe.a=r(_,vt,Pe.a),Pe.o=r(rt,w,Pe.o),Pe},{e:void 0,t:void 0,a:void 0,o:void 0}),Qe}}),k),t(be,()=>X(I.line33_totalPayments)),v(Qe=>{var yt=F,_=Oe,rt=de,Pe=we,He=W(!0);return Qe.e=r(g,yt,Qe.e),Qe.t=r(k,_,Qe.t),Qe.a=r(De,rt,Qe.a),Qe.o=r(Ze,Pe,Qe.o),Qe.i=r(be,He,Qe.i),Qe},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),g})(),i(u,{get when(){return I.form8962},get children(){return[(()=>{var g=Ta();return v(k=>r(g,{...Ie,background:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)"},k)),g})(),(()=>{var g=Da(),k=g.firstChild,De=k.firstChild,Ze=De.nextSibling,be=Ze.nextSibling,Qe=be.firstChild,yt=k.nextSibling,_=yt.firstChild,rt=_.nextSibling,Pe=rt.nextSibling,He=Pe.firstChild,Ne=yt.nextSibling,vt=Ne.firstChild,w=vt.nextSibling,E=w.nextSibling,ie=E.firstChild,Fe=Ne.nextSibling,L=Fe.firstChild,ee=L.firstChild,ze=ee.nextSibling,at=ze.nextSibling,Ve=at.nextSibling,We=Ve.nextSibling,ht=We.nextSibling;ht.nextSibling;var o=Fe.nextSibling,P=o.firstChild,z=P.nextSibling,te=z.nextSibling,l=o.nextSibling,$=l.firstChild,x=$.nextSibling,A=x.nextSibling;return t(be,()=>I.form8962.familySize,Qe),t(be,()=>X(I.form8962.federalPovertyLevel),null),t(Pe,()=>I.form8962.incomeAsFplPercent.toFixed(1),He),t(E,()=>I.form8962.applicablePercentage.toFixed(2),ie),t(E,()=>X(I.form8962.annualContributionAmount),null),t(L,()=>I.form8962.coverageMonths,ze),t(L,()=>X(I.form8962.totalAnnualPremium),Ve),t(L,()=>X(I.form8962.totalAnnualSlcsp),ht),t(L,()=>X(I.form8962.totalAnnualAptc),null),t(te,()=>X(I.form8962.annualPtcAllowed)),t(A,()=>X(I.form8962.totalAnnualAptc)),t(g,i(u,{get when(){return I.form8962.additionalPtc>0},get children(){var B=Ia(),ve=B.firstChild,Le=ve.nextSibling,Te=Le.nextSibling;return t(Te,()=>X(I.form8962.additionalPtc)),v(pe=>{var Be={...J,background:"rgba(34, 197, 94, 0.1)",padding:"0.75rem","border-radius":"6px"},tt=de,lt=we,d={...W(!0),color:"#22c55e"};return pe.e=r(B,Be,pe.e),pe.t=r(ve,tt,pe.t),pe.a=r(Le,lt,pe.a),pe.o=r(Te,d,pe.o),pe},{e:void 0,t:void 0,a:void 0,o:void 0}),B}}),null),t(g,i(u,{get when(){return I.form8962.excessAptc>0},get children(){return[(()=>{var B=Na(),ve=B.firstChild,Le=ve.nextSibling,Te=Le.nextSibling;return t(Te,()=>X(I.form8962.excessAptc)),v(pe=>{var Be=J,tt=de,lt=we,d=W();return pe.e=r(B,Be,pe.e),pe.t=r(ve,tt,pe.t),pe.a=r(Le,lt,pe.a),pe.o=r(Te,d,pe.o),pe},{e:void 0,t:void 0,a:void 0,o:void 0}),B})(),i(u,{get when(){return I.form8962.repaymentLimitation!==null},get children(){var B=za(),ve=B.firstChild,Le=ve.nextSibling,Te=Le.nextSibling;return t(Te,()=>X(I.form8962.repaymentLimitation)),v(pe=>{var Be=J,tt=de,lt=we,d=W();return pe.e=r(B,Be,pe.e),pe.t=r(ve,tt,pe.t),pe.a=r(Le,lt,pe.a),pe.o=r(Te,d,pe.o),pe},{e:void 0,t:void 0,a:void 0,o:void 0}),B}}),(()=>{var B=Aa(),ve=B.firstChild,Le=ve.nextSibling,Te=Le.nextSibling;return t(Te,()=>X(I.form8962.excessAptcRepayment)),v(pe=>{var Be={...J,background:"rgba(239, 68, 68, 0.1)",padding:"0.75rem","border-radius":"6px"},tt=de,lt=we,d={...W(!0),color:"#ef4444"};return pe.e=r(B,Be,pe.e),pe.t=r(ve,tt,pe.t),pe.a=r(Le,lt,pe.a),pe.o=r(Te,d,pe.o),pe},{e:void 0,t:void 0,a:void 0,o:void 0}),B})()]}}),null),v(B=>{var ve=F,Le=J,Te=de,pe=we,Be=W(),tt=J,lt=de,d=we,re=W(),ge=J,q=de,Ae=we,ke=W(),c=V,U=J,p=de,mt=we,ue=W(),qe=J,j=de,Dt=we,Ce=W();return B.e=r(g,ve,B.e),B.t=r(k,Le,B.t),B.a=r(De,Te,B.a),B.o=r(Ze,pe,B.o),B.i=r(be,Be,B.i),B.n=r(yt,tt,B.n),B.s=r(_,lt,B.s),B.h=r(rt,d,B.h),B.r=r(Pe,re,B.r),B.d=r(Ne,ge,B.d),B.l=r(vt,q,B.l),B.u=r(w,Ae,B.u),B.c=r(E,ke,B.c),B.w=r(Fe,c,B.w),B.m=r(o,U,B.m),B.f=r(P,p,B.f),B.y=r(z,mt,B.y),B.g=r(te,ue,B.g),B.p=r(l,qe,B.p),B.b=r($,j,B.b),B.T=r(x,Dt,B.T),B.A=r(A,Ce,B.A),B},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0}),g})()]}}),(()=>{var g=an();return t(g,i(u,{get when(){return I.line34_refund>0},get children(){return[(()=>{var k=Fa();return k.style.setProperty("font-size","0.875rem"),k.style.setProperty("color","#166534"),k.style.setProperty("margin-bottom","0.5rem"),k})(),(()=>{var k=an();return k.style.setProperty("font-size","2.5rem"),k.style.setProperty("font-weight","700"),k.style.setProperty("color","#22c55e"),t(k,()=>X(I.line34_refund)),k})(),(()=>{var k=La(),De=k.firstChild,Ze=De.nextSibling,be=Ze.nextSibling,Qe=be.nextSibling;return Qe.nextSibling,k.style.setProperty("font-size","0.75rem"),k.style.setProperty("color","#166534"),k.style.setProperty("margin-top","0.5rem"),t(k,()=>X(I.line33_totalPayments),Ze),t(k,()=>X(I.line24_totalTax),Qe),k})()]}}),null),t(g,i(u,{get when(){return I.line37_amountOwed>0},get children(){return[(()=>{var k=Ra();return k.style.setProperty("font-size","0.875rem"),k.style.setProperty("color","#991b1b"),k.style.setProperty("margin-bottom","0.5rem"),k})(),(()=>{var k=an();return k.style.setProperty("font-size","2.5rem"),k.style.setProperty("font-weight","700"),k.style.setProperty("color","#ef4444"),t(k,()=>X(I.line37_amountOwed)),k})(),(()=>{var k=Ea(),De=k.firstChild,Ze=De.nextSibling,be=Ze.nextSibling,Qe=be.nextSibling;return Qe.nextSibling,k.style.setProperty("font-size","0.75rem"),k.style.setProperty("color","#991b1b"),k.style.setProperty("margin-top","0.5rem"),t(k,()=>X(I.line24_totalTax),Ze),t(k,()=>X(I.line33_totalPayments),Qe),k})()]}}),null),t(g,i(u,{get when(){return I.line34_refund===0&&I.line37_amountOwed===0},get children(){var k=Ma();return k.style.setProperty("font-size","1.25rem"),k.style.setProperty("font-weight","600"),k.style.setProperty("color","var(--text-secondary)"),k}}),null),v(k=>r(g,Ee(I.line34_refund>0),k)),g})(),(()=>{var g=Ba();return g.style.setProperty("font-size","0.75rem"),g.style.setProperty("color","var(--text-muted)"),g.style.setProperty("margin-top","1rem"),g.style.setProperty("text-align","center"),g})()]}})})()}}),Ct),t(G,i(u,{get when(){return ct(()=>!!h())()&&!xe()},get children(){return i(xr,{get children(){return[(()=>{var I=Ro(),X=I.firstChild;return X.style.setProperty("width","20px"),X.style.setProperty("height","20px"),X.style.setProperty("vertical-align","middle"),X.style.setProperty("margin-right","0.5rem"),X.style.setProperty("color","#3b82f6"),v(J=>r(I,{...ce,"margin-bottom":"1rem"},J)),I})(),(()=>{var I=an();return I.style.setProperty("display","flex"),I.style.setProperty("flex-direction","column"),I.style.setProperty("gap","1rem"),t(I,i(u,{get when(){return!Z()},get children(){var X=Eo(),J=X.firstChild,de=J.firstChild,we=de.nextSibling,W=J.nextSibling,Ie=W.firstChild;return X.style.setProperty("display","flex"),X.style.setProperty("align-items","center"),X.style.setProperty("justify-content","space-between"),X.style.setProperty("padding","1rem"),X.style.setProperty("background","var(--surface-alt, #f9fafb)"),X.style.setProperty("border-radius","8px"),X.style.setProperty("border","1px solid var(--border-color, #e5e7eb)"),de.style.setProperty("font-weight","600"),de.style.setProperty("margin-bottom","0.25rem"),we.style.setProperty("font-size","0.875rem"),we.style.setProperty("color","var(--text-secondary)"),W.$$click=()=>K(!0),Ie.style.setProperty("width","18px"),Ie.style.setProperty("height","18px"),v(F=>r(W,Je("primary",!1),F)),X}}),null),t(I,i(u,{get when(){return ct(()=>!!Z())()&&!n()},get children(){var X=Mo(),J=X.firstChild,de=J.firstChild,we=de.nextSibling,W=J.nextSibling,Ie=W.firstChild;return X.style.setProperty("display","flex"),X.style.setProperty("align-items","center"),X.style.setProperty("justify-content","space-between"),X.style.setProperty("padding","1rem"),X.style.setProperty("background","linear-gradient(135deg, rgba(139, 92, 246, 0.05), rgba(139, 92, 246, 0.1))"),X.style.setProperty("border-radius","8px"),X.style.setProperty("border","1px solid rgba(139, 92, 246, 0.2)"),de.style.setProperty("font-weight","600"),de.style.setProperty("margin-bottom","0.25rem"),we.style.setProperty("font-size","0.875rem"),we.style.setProperty("color","var(--text-secondary)"),W.$$click=()=>Q(!0),Ie.style.setProperty("width","18px"),Ie.style.setProperty("height","18px"),v(F=>r(W,Je("primary",!1),F)),X}}),null),t(I,i(u,{get when(){return ct(()=>!!n())()&&!xe()},get children(){var X=Bo(),J=X.firstChild,de=J.firstChild,we=de.nextSibling,W=J.nextSibling,Ie=W.firstChild;return X.style.setProperty("display","flex"),X.style.setProperty("align-items","center"),X.style.setProperty("justify-content","space-between"),X.style.setProperty("padding","1rem"),X.style.setProperty("background","linear-gradient(135deg, rgba(34, 197, 94, 0.05), rgba(34, 197, 94, 0.1))"),X.style.setProperty("border-radius","8px"),X.style.setProperty("border","1px solid rgba(34, 197, 94, 0.2)"),de.style.setProperty("font-weight","600"),de.style.setProperty("margin-bottom","0.25rem"),we.style.setProperty("font-size","0.875rem"),we.style.setProperty("color","var(--text-secondary)"),W.$$click=()=>N(!0),Ie.style.setProperty("width","18px"),Ie.style.setProperty("height","18px"),v(F=>r(W,Je("success",!1),F)),X}}),null),I})()]}})}}),Ct),t(G,i(u,{get when(){return xe()},get children(){return i(xr,{get children(){var I=Oo(),X=I.firstChild,J=X.firstChild,de=X.nextSibling,we=de.nextSibling,W=we.firstChild,Ie=W.nextSibling;return Ie.nextSibling,I.style.setProperty("text-align","center"),I.style.setProperty("padding","2rem"),I.style.setProperty("background","linear-gradient(135deg, rgba(34, 197, 94, 0.05), rgba(34, 197, 94, 0.15))"),I.style.setProperty("border-radius","12px"),X.style.setProperty("font-size","4rem"),X.style.setProperty("margin-bottom","1rem"),J.style.setProperty("width","64px"),J.style.setProperty("height","64px"),de.style.setProperty("font-size","1.5rem"),de.style.setProperty("font-weight","700"),de.style.setProperty("color","#166534"),de.style.setProperty("margin-bottom","0.5rem"),we.style.setProperty("color","#22c55e"),we.style.setProperty("font-size","1rem"),t(we,()=>e.client.firstName,W),t(we,()=>e.taxYear,Ie),I}})}}),Ct),r(Ct,fe),r(bt,nt),Ke.style.setProperty("width","18px"),Ke.style.setProperty("height","18px"),r(xt,St),t(xt,i(u,{get when(){return ae().pending>0},get children(){var I=jo(),X=I.firstChild,J=X.nextSibling;return J.nextSibling,t(I,()=>ae().pending,J),I}}),null),t(xt,i(u,{get when(){return ae().errors>0},get children(){var I=Uo(),X=I.firstChild,J=X.nextSibling;return J.nextSibling,t(I,()=>ae().errors,J),I}}),null),t(xt,i(u,{get when(){return ct(()=>!h())()&&ae().verified>0},get children(){return Ho()}}),null),t(xt,i(u,{get when(){return h()},get children(){return[Wo(),qo(),Yo()]}}),null),t(xt,i(u,{get when(){return ae().total===0},get children(){return Vo()}}),null),v(I=>{var X=T,J=S,de=ce;return I.e=r(G,X,I.e),I.t=r(le,J,I.t),I.a=r(_e,de,I.a),I},{e:void 0,t:void 0,a:void 0}),G})()};ar(["click"]);var ja=a("<div><span>Last Updated</span><span>"),Ua=a("<div><span>Filed Date</span><span>"),Ha=a("<div><span>Accepted Date</span><span>"),Wa=a("<div><span>Rejection Reason</span><span>"),Vn=a("<span>Current"),Gn=a("<div>"),qa=a('<div><div><svg width=20 height=20 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2><path d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path></svg>Tax Preparation Progress</div><div><span>Current Status</span><span><span></span></span></div><div><label>Update Status</label><div><div><div><svg width=14 height=14 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=3><path d="M6 18L18 6M6 6l12 12"></path></svg></div><span>'),Ya=a("<div><div><span>Payment Progress</span><span>%</span></div><div><div></div></div><div><span> paid</span><span> remaining"),Va=a('<div><div><svg width=20 height=20 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2><path d="M12 1v22M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6"></path></svg>Payment Information</div><div><label>Payment Status</label><div></div></div><div></div><div><div><label>Payment Method</label><select><option value>Select method...</option></select></div></div><div><label>Payment Notes</label><textarea placeholder="Add notes about payment...">'),Ga=a("<div><div><button>Workflow Status</button><button>Payment Status"),Qa=a("<div><div></div><span>"),Xa=a('<svg width=14 height=14 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=3><path d="M5 13l4 4L19 7">'),Ka=a("<button>"),Ja=a("<option>");const Za=[{value:"cash",label:"Cash"},{value:"card",label:"Credit/Debit Card"},{value:"check",label:"Check"},{value:"transfer",label:"Bank Transfer"},{value:"other",label:"Other"}],Qn=["intake","collecting_docs","docs_complete","in_review","ready_to_file","filed","accepted","completed"],ed=e=>{const[C,y]=Xe("workflow"),[R,M]=Xe(!1),h=H=>{e.onClientChange(H),M(!0)},me=async()=>{await e.onSave(),M(!1)},se=()=>{const H=e.client.paymentAmount||0,Ge=e.client.paymentPaidAmount||0;return H===0?0:Math.min(100,Math.round(Ge/H*100))},D=()=>{const H=e.client.workflowStatus||"intake";return Qn.indexOf(H)},Z=H=>H?new Date(H).toLocaleDateString():"-",K=H=>H==null?"-":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(H),n={padding:"1rem"},Q={display:"flex",gap:"0.5rem","margin-bottom":"1.5rem","border-bottom":"2px solid var(--border-color)","padding-bottom":"0.5rem"},xe=H=>({padding:"0.75rem 1.5rem",border:"none",background:H?"var(--primary-color)":"transparent",color:H?"white":"var(--text-primary)","border-radius":"var(--border-radius-md)",cursor:"pointer","font-weight":"600","font-size":"0.875rem",transition:"all 0.2s"}),N={background:"var(--background-color)","border-radius":"var(--border-radius-md)",padding:"1.5rem","margin-bottom":"1rem"},O={"font-size":"1.125rem","font-weight":"600","margin-bottom":"1rem",color:"var(--text-primary)",display:"flex","align-items":"center",gap:"0.5rem"},m={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},ae={display:"flex","flex-wrap":"wrap",gap:"0.5rem","margin-top":"0.5rem"},s=(H,Ge,Se)=>({padding:"0.5rem 1rem",border:`2px solid ${Se[H]}`,"border-radius":"var(--border-radius-md)",background:Ge?Se[H]:"transparent",color:Ge?"white":Se[H],cursor:"pointer","font-weight":"500","font-size":"0.875rem",transition:"all 0.2s"}),ne={width:"100%",height:"8px",background:"var(--border-color)","border-radius":"4px",overflow:"hidden","margin-top":"0.5rem"},T=(H,Ge)=>({width:`${H}%`,height:"100%",background:Ge,transition:"width 0.3s ease"}),S={display:"flex","flex-direction":"column",gap:"0.5rem","margin-top":"1rem"},ce=(H,Ge,Se)=>({display:"flex","align-items":"center",gap:"0.75rem",padding:"0.75rem",background:H?`${Se}15`:"transparent","border-radius":"var(--border-radius-md)",border:H?`2px solid ${Se}`:"2px solid transparent",cursor:"pointer",transition:"all 0.2s"}),f=(H,Ge,Se)=>({width:"24px",height:"24px","min-width":"24px","border-radius":"50%",background:Ge||H?Se:"var(--border-color)",display:"flex","align-items":"center","justify-content":"center",color:"white","font-size":"0.75rem","font-weight":"600"}),et=(H,Ge)=>({"font-weight":H?"600":"400",color:H?"var(--text-primary)":Ge?"var(--text-secondary)":"var(--text-muted)",flex:1}),$e={display:"flex","justify-content":"flex-end",gap:"1rem","margin-top":"1.5rem","padding-top":"1rem","border-top":"1px solid var(--border-color)"},Ye={display:"flex","justify-content":"space-between","align-items":"center",padding:"0.5rem 0","border-bottom":"1px solid var(--border-color)"},pt={"font-weight":"500",color:"var(--text-secondary)","font-size":"0.875rem"},oe={"font-weight":"600",color:"var(--text-primary)"};return(()=>{var H=Ga(),Ge=H.firstChild,Se=Ge.firstChild,Je=Se.nextSibling;return r(H,n),r(Ge,Q),Se.$$click=()=>y("workflow"),Je.$$click=()=>y("payment"),t(H,i(u,{get when(){return C()==="workflow"},get children(){var je=qa(),Re=je.firstChild,b=Re.nextSibling,Ue=b.firstChild,Me=Ue.nextSibling,fe=Me.firstChild,nt=b.nextSibling,St=nt.firstChild,ut=St.nextSibling,_t=ut.firstChild,Et=_t.firstChild,Bt=Et.nextSibling;return fe.style.setProperty("width","10px"),fe.style.setProperty("height","10px"),fe.style.setProperty("border-radius","50%"),t(Me,()=>Sn[e.client.workflowStatus||"intake"],null),t(je,i(u,{get when(){return e.client.workflowStatusDate},get children(){var G=ja(),le=G.firstChild,ye=le.nextSibling;return t(ye,()=>Z(e.client.workflowStatusDate)),v(_e=>{var it=Ye,ft=pt,ot=oe;return _e.e=r(G,it,_e.e),_e.t=r(le,ft,_e.t),_e.a=r(ye,ot,_e.a),_e},{e:void 0,t:void 0,a:void 0}),G}}),nt),t(je,i(u,{get when(){return e.client.filedDate},get children(){var G=Ua(),le=G.firstChild,ye=le.nextSibling;return t(ye,()=>Z(e.client.filedDate)),v(_e=>{var it=Ye,ft=pt,ot=oe;return _e.e=r(G,it,_e.e),_e.t=r(le,ft,_e.t),_e.a=r(ye,ot,_e.a),_e},{e:void 0,t:void 0,a:void 0}),G}}),nt),t(je,i(u,{get when(){return e.client.acceptedDate},get children(){var G=Ha(),le=G.firstChild,ye=le.nextSibling;return t(ye,()=>Z(e.client.acceptedDate)),v(_e=>{var it=Ye,ft=pt,ot=oe;return _e.e=r(G,it,_e.e),_e.t=r(le,ft,_e.t),_e.a=r(ye,ot,_e.a),_e},{e:void 0,t:void 0,a:void 0}),G}}),nt),t(je,i(u,{get when(){return e.client.rejectedReason},get children(){var G=Wa(),le=G.firstChild,ye=le.nextSibling;return t(ye,()=>e.client.rejectedReason),v(_e=>{var it={...Ye,"flex-direction":"column","align-items":"flex-start",gap:"0.5rem"},ft=pt,ot={...oe,color:"#ef4444"};return _e.e=r(G,it,_e.e),_e.t=r(le,ft,_e.t),_e.a=r(ye,ot,_e.a),_e},{e:void 0,t:void 0,a:void 0}),G}}),nt),nt.style.setProperty("margin-top","1.5rem"),St.style.setProperty("font-weight","500"),St.style.setProperty("margin-bottom","0.5rem"),St.style.setProperty("display","block"),t(ut,i(zt,{each:Qn,children:(G,le)=>{const ye=e.client.workflowStatus===G,_e=le()<D(),it=Or[G];return(()=>{var ft=Qa(),ot=ft.firstChild,Ct=ot.nextSibling;return ft.$$click=()=>h({workflowStatus:G,workflowStatusDate:Date.now()}),t(ot,()=>_e?Xa():le()+1),t(Ct,()=>Sn[G]),t(ft,i(u,{when:ye,get children(){var bt=Vn();return it!=null?bt.style.setProperty("background",it):bt.style.removeProperty("background"),bt.style.setProperty("color","white"),bt.style.setProperty("padding","0.25rem 0.5rem"),bt.style.setProperty("border-radius","9999px"),bt.style.setProperty("font-size","0.75rem"),bt.style.setProperty("font-weight","600"),bt}}),null),v(bt=>{var Ke=ce(ye,_e,it),xt=f(ye,_e,it),I=et(ye,_e);return bt.e=r(ft,Ke,bt.e),bt.t=r(ot,xt,bt.t),bt.a=r(Ct,I,bt.a),bt},{e:void 0,t:void 0,a:void 0}),ft})()}}),_t),_t.$$click=()=>h({workflowStatus:"rejected",workflowStatusDate:Date.now()}),t(Bt,()=>Sn.rejected),t(_t,i(u,{get when(){return e.client.workflowStatus==="rejected"},get children(){var G=Vn();return G.style.setProperty("color","white"),G.style.setProperty("padding","0.25rem 0.5rem"),G.style.setProperty("border-radius","9999px"),G.style.setProperty("font-size","0.75rem"),G.style.setProperty("font-weight","600"),v(le=>(le=Or.rejected)!=null?G.style.setProperty("background",le):G.style.removeProperty("background")),G}}),null),t(je,i(u,{get when(){return e.client.workflowStatus==="rejected"},get children(){var G=Gn();return G.style.setProperty("margin-top","1rem"),t(G,i(Ar,{label:"Rejection Reason",get value(){return e.client.rejectedReason||""},onChange:le=>h({rejectedReason:le}),placeholder:"Enter reason for rejection..."})),G}}),null),v(G=>{var le=N,ye=O,_e=Ye,it=pt,ft={...oe,color:Or[e.client.workflowStatus||"intake"],display:"flex","align-items":"center",gap:"0.5rem"},ot=Or[e.client.workflowStatus||"intake"],Ct=S,bt=ce(e.client.workflowStatus==="rejected",!1,Or.rejected),Ke=f(e.client.workflowStatus==="rejected",!1,Or.rejected),xt=et(e.client.workflowStatus==="rejected",!1);return G.e=r(je,le,G.e),G.t=r(Re,ye,G.t),G.a=r(b,_e,G.a),G.o=r(Ue,it,G.o),G.i=r(Me,ft,G.i),ot!==G.n&&((G.n=ot)!=null?fe.style.setProperty("background",ot):fe.style.removeProperty("background")),G.s=r(ut,Ct,G.s),G.h=r(_t,bt,G.h),G.r=r(Et,Ke,G.r),G.d=r(Bt,xt,G.d),G},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0}),je}}),null),t(H,i(u,{get when(){return C()==="payment"},get children(){var je=Va(),Re=je.firstChild,b=Re.nextSibling,Ue=b.firstChild,Me=Ue.nextSibling,fe=b.nextSibling,nt=fe.nextSibling,St=nt.firstChild,ut=St.firstChild,_t=ut.nextSibling;_t.firstChild;var Et=nt.nextSibling,Bt=Et.firstChild,G=Bt.nextSibling;return Ue.style.setProperty("font-weight","500"),Ue.style.setProperty("margin-bottom","0.5rem"),Ue.style.setProperty("display","block"),r(Me,ae),t(Me,i(zt,{get each(){return Object.keys(Bn)},children:le=>(()=>{var ye=Ka();return ye.$$click=()=>h({paymentStatus:le}),t(ye,()=>Bn[le]),v(_e=>r(ye,s(le,e.client.paymentStatus===le,Sl),_e)),ye})()})),t(fe,i(Ar,{label:"Total Fee Amount",type:"number",get value(){return e.client.paymentAmount?.toString()||""},onChange:le=>h({paymentAmount:le?parseFloat(le):void 0}),placeholder:"0.00"}),null),t(fe,i(Ar,{label:"Amount Paid",type:"number",get value(){return e.client.paymentPaidAmount?.toString()||""},onChange:le=>h({paymentPaidAmount:le?parseFloat(le):void 0}),placeholder:"0.00"}),null),t(je,i(u,{get when(){return e.client.paymentAmount&&e.client.paymentAmount>0},get children(){var le=Ya(),ye=le.firstChild,_e=ye.firstChild,it=_e.nextSibling,ft=it.firstChild,ot=ye.nextSibling,Ct=ot.firstChild,bt=ot.nextSibling,Ke=bt.firstChild,xt=Ke.firstChild,I=Ke.nextSibling,X=I.firstChild;return le.style.setProperty("margin-top","1rem"),ye.style.setProperty("display","flex"),ye.style.setProperty("justify-content","space-between"),ye.style.setProperty("margin-bottom","0.25rem"),t(it,se,ft),r(ot,ne),bt.style.setProperty("display","flex"),bt.style.setProperty("justify-content","space-between"),bt.style.setProperty("margin-top","0.5rem"),Ke.style.setProperty("font-size","0.875rem"),Ke.style.setProperty("color","var(--text-muted)"),t(Ke,()=>K(e.client.paymentPaidAmount||0),xt),I.style.setProperty("font-size","0.875rem"),I.style.setProperty("color","var(--text-muted)"),t(I,()=>K((e.client.paymentAmount||0)-(e.client.paymentPaidAmount||0)),X),v(J=>{var de=pt,we=oe,W=T(se(),se()>=100?"#22c55e":"#3b82f6");return J.e=r(_e,de,J.e),J.t=r(it,we,J.t),J.a=r(Ct,W,J.a),J},{e:void 0,t:void 0,a:void 0}),le}}),nt),ut.style.setProperty("font-weight","500"),ut.style.setProperty("margin-bottom","0.5rem"),ut.style.setProperty("display","block"),_t.addEventListener("change",le=>h({paymentMethod:le.target.value})),_t.style.setProperty("width","100%"),_t.style.setProperty("padding","0.75rem"),_t.style.setProperty("border","1px solid var(--border-color)"),_t.style.setProperty("border-radius","var(--border-radius-md)"),_t.style.setProperty("background","var(--surface-color)"),_t.style.setProperty("color","var(--text-primary)"),_t.style.setProperty("font-size","0.875rem"),t(_t,i(zt,{each:Za,children:le=>(()=>{var ye=Ja();return t(ye,()=>le.label),v(()=>ye.value=le.value),ye})()}),null),t(nt,i(Ar,{label:"Payment Date",type:"date",get value(){return ct(()=>!!e.client.paymentDate)()?new Date(e.client.paymentDate).toISOString().split("T")[0]:""},onChange:le=>h({paymentDate:le?new Date(le).getTime():void 0})}),null),Et.style.setProperty("margin-top","1rem"),Bt.style.setProperty("font-weight","500"),Bt.style.setProperty("margin-bottom","0.5rem"),Bt.style.setProperty("display","block"),G.$$input=le=>h({paymentNotes:le.currentTarget.value}),G.style.setProperty("width","100%"),G.style.setProperty("padding","0.75rem"),G.style.setProperty("border","1px solid var(--border-color)"),G.style.setProperty("border-radius","var(--border-radius-md)"),G.style.setProperty("background","var(--surface-color)"),G.style.setProperty("color","var(--text-primary)"),G.style.setProperty("font-size","0.875rem"),G.style.setProperty("min-height","80px"),G.style.setProperty("resize","vertical"),v(le=>{var ye=N,_e=O,it={...m,"margin-top":"1.5rem"},ft={...m,"margin-top":"1rem"};return le.e=r(je,ye,le.e),le.t=r(Re,_e,le.t),le.a=r(fe,it,le.a),le.o=r(nt,ft,le.o),le},{e:void 0,t:void 0,a:void 0,o:void 0}),v(()=>_t.value=e.client.paymentMethod||""),v(()=>G.value=e.client.paymentNotes||""),je}}),null),t(H,i(u,{get when(){return R()},get children(){var je=Gn();return r(je,$e),t(je,i(_r,{variant:"secondary",onClick:()=>M(!1),children:"Discard Changes"}),null),t(je,i(_r,{onClick:me,get disabled(){return e.isSaving},get children(){return e.isSaving?"Saving...":"Save Changes"}}),null),je}}),null),v(je=>{var Re=xe(C()==="workflow"),b=xe(C()==="payment");return je.e=r(Se,Re,je.e),je.t=r(Je,b,je.t),je},{e:void 0,t:void 0}),H})()};ar(["click","input"]);function Y(e){return{id:e,checked:!1,amount:void 0,notes:void 0}}function td(){return{deductions:{medical:{medicalExpenses:Y("medicalExpenses"),dentalExpenses:Y("dentalExpenses"),visionExpenses:Y("visionExpenses"),healthInsurancePremiums:Y("healthInsurancePremiums"),prescriptionMedications:Y("prescriptionMedications"),medicalMileage:Y("medicalMileage")},taxesPaid:{stateIncomeTax:Y("stateIncomeTax"),localIncomeTax:Y("localIncomeTax"),realEstateTax:Y("realEstateTax"),personalPropertyTax:Y("personalPropertyTax"),foreignTaxesPaid:Y("foreignTaxesPaid")},interest:{mortgageInterest:Y("mortgageInterest"),mortgageInsurancePremiums:Y("mortgageInsurancePremiums"),investmentInterest:Y("investmentInterest"),studentLoanInterest:Y("studentLoanInterest")},donations:{cashDonations:Y("cashDonations"),nonCashDonations:Y("nonCashDonations"),volunteerMileage:Y("volunteerMileage"),charitableCarryover:Y("charitableCarryover")},casualty:{federalDisasterLoss:Y("federalDisasterLoss"),theftLoss:Y("theftLoss")},other:{gamblingLosses:Y("gamblingLosses"),unreimbursedExpenses:Y("unreimbursedExpenses"),taxPrepFees:Y("taxPrepFees")}},businessExpenses:{operations:{advertising:Y("advertising"),insurance:Y("insurance"),legalFees:Y("legalFees"),accountingFees:Y("accountingFees"),licenses:Y("licenses"),bankFees:Y("bankFees"),contractLabor:Y("contractLabor")},office:{officeSupplies:Y("officeSupplies"),postage:Y("postage"),telephone:Y("telephone"),internet:Y("internet"),software:Y("software"),computerEquipment:Y("computerEquipment")},homeOffice:{squareFootage:Y("squareFootage"),rent:Y("rent"),utilities:Y("utilities"),insurance:Y("homeOfficeInsurance"),repairs:Y("homeOfficeRepairs"),depreciation:Y("depreciation")},vehicle:{businessMileage:Y("businessMileage"),gasAndOil:Y("gasAndOil"),repairs:Y("vehicleRepairs"),insurance:Y("vehicleInsurance"),leasePayments:Y("leasePayments"),parking:Y("parking"),tolls:Y("tolls")},travel:{airfare:Y("airfare"),lodging:Y("lodging"),carRental:Y("carRental"),transportationFees:Y("transportationFees")},meals:{businessMeals:Y("businessMeals"),entertainmentExpenses:Y("entertainmentExpenses")},equipment:{machinery:Y("machinery"),furniture:Y("furniture"),tools:Y("tools"),section179Deduction:Y("section179Deduction")},education:{coursesAndSeminars:Y("coursesAndSeminars"),books:Y("books"),certifications:Y("certifications"),professionalDues:Y("professionalDues")},other:{commissions:Y("commissions"),subcontractors:Y("subcontractors"),uniforms:Y("uniforms"),otherExpenses:Y("otherExpenses")}},rentalProperties:{properties:[]},taxCredits:{children:{childTaxCredit:Y("childTaxCredit"),childCareExpenses:Y("childCareExpenses"),adoptionCredit:Y("adoptionCredit"),dependentCareCredit:Y("dependentCareCredit")},education:{americanOpportunity:Y("americanOpportunity"),lifetimeLearning:Y("lifetimeLearning"),tuitionAndFees:Y("tuitionAndFees"),studentLoanInterest:Y("studentLoanInterest"),education529Contributions:Y("education529Contributions")},energy:{residentialCleanEnergy:Y("residentialCleanEnergy"),energyEfficientHome:Y("energyEfficientHome"),electricVehicle:Y("electricVehicle"),solarPanels:Y("solarPanels")},eitc:{earnedIncomeCredit:Y("earnedIncomeCredit"),qualifyingChildren:Y("qualifyingChildren")},housing:{mortgageInterestCredit:Y("mortgageInterestCredit"),firstTimeHomebuyerCredit:Y("firstTimeHomebuyerCredit")},other:{elderlyDisabledCredit:Y("elderlyDisabledCredit"),foreignTaxCredit:Y("foreignTaxCredit"),retirementSaversCredit:Y("retirementSaversCredit"),healthCoverageCredit:Y("healthCoverageCredit"),excessSocialSecurity:Y("excessSocialSecurity")}},otherIncome:{additionalIncome:{socialSecurity:Y("socialSecurity"),pension:Y("pension"),annuity:Y("annuity"),ira:Y("ira"),unemployment:Y("unemployment"),alimony:Y("alimony"),gambling:Y("gambling"),juryDuty:Y("juryDuty"),prizeAwards:Y("prizeAwards"),cryptoIncome:Y("cryptoIncome"),stockSales:Y("stockSales"),rentalRoyalties:Y("rentalRoyalties")},adjustments:{iraContributions:Y("iraContributions"),hsaContributions:Y("hsaContributions"),selfEmploymentTax:Y("selfEmploymentTax"),healthInsuranceDeduction:Y("healthInsuranceDeduction"),retirementContributions:Y("retirementContributions"),alimonyPaid:Y("alimonyPaid"),educatorExpenses:Y("educatorExpenses"),movingExpenses:Y("movingExpenses"),studentLoanInterest:Y("studentLoanInterest"),tuitionFees:Y("tuitionFees"),qbid:Y("qbid"),schedule1ADeductions:Y("schedule1ADeductions")},schedule2Taxes:{excessPtcRepayment:Y("excessPtcRepayment"),selfEmploymentTax:Y("schedule2SelfEmploymentTax"),unreportedSocialSecurityTax:Y("unreportedSocialSecurityTax"),additionalTaxOnIra:Y("additionalTaxOnIra"),householdEmploymentTax:Y("householdEmploymentTax"),netInvestmentIncomeTax:Y("netInvestmentIncomeTax")},healthInsuranceMarketplace:{hasMarketplaceCoverage:!1,monthlyPremium:0,monthlySlcsp:0,monthlyAptc:0,coverageMonths:0}}}}function rd(){return{id:crypto.randomUUID(),propertyAddress:"",propertyType:"single_family",daysRented:0,personalUseDays:0,rentalIncome:Y("rentalIncome"),expenses:{mortgage:Y("mortgage"),propertyTax:Y("propertyTax"),insurance:Y("rentalInsurance"),repairs:Y("rentalRepairs"),maintenance:Y("maintenance"),utilities:Y("rentalUtilities"),management:Y("management"),advertising:Y("rentalAdvertising"),legal:Y("legal"),hoa:Y("hoa"),cleaning:Y("cleaning"),supplies:Y("supplies")},capitalImprovements:{roofing:Y("roofing"),hvac:Y("hvac"),plumbing:Y("plumbing"),electrical:Y("electrical"),appliances:Y("appliances"),flooring:Y("flooring"),otherImprovements:Y("otherImprovements")}}}function sr(e,C){return{...e,checked:!0,amount:(e.amount||0)+C}}function nd(e,C){const y=JSON.parse(JSON.stringify(e));$t("[AUTO-FILL] ===== AUTO-FILL FROM DOCUMENTS ====="),$t("[AUTO-FILL] Total documents:",C.length),C.forEach((M,h)=>{$t(M),$t(`[AUTO-FILL] Doc ${h+1}:`,{drakeFormType:M.drakeFormType,documentType:M.documentType,uploadStatus:M.uploadStatus,hasExtractedAmounts:!!M.extractedAmounts,extractedAmounts:M.extractedAmounts})});const R=C.filter(M=>(M.uploadStatus==="analyzed"||M.uploadStatus==="verified")&&M.extractedAmounts);$t("[AUTO-FILL] Eligible documents:",R.length);for(const M of R){const h=M.extractedAmounts,me=M.drakeFormType,se=M.documentType;if($t(`[AUTO-FILL] Processing: formType=${me}, docType=${se}`),me==="1098"||se==="form_1098"){$t("[AUTO-FILL] >>> 1098 MORTGAGE DOCUMENT DETECTED <<<"),h.mortgageInterest&&h.mortgageInterest>0&&(y.deductions.interest.mortgageInterest=sr(y.deductions.interest.mortgageInterest,h.mortgageInterest)),h.mortgageInsurancePremiums&&h.mortgageInsurancePremiums>0&&(y.deductions.interest.mortgageInsurancePremiums=sr(y.deductions.interest.mortgageInsurancePremiums,h.mortgageInsurancePremiums)),h.propertyTaxes&&h.propertyTaxes>0&&(y.deductions.taxesPaid.realEstateTax=sr(y.deductions.taxesPaid.realEstateTax,h.propertyTaxes)),h.pointsPaid&&h.pointsPaid>0&&(y.deductions.interest.mortgageInterest=sr(y.deductions.interest.mortgageInterest,h.pointsPaid)),y.taxCredits.housing||(y.taxCredits.housing={mortgageInterestCredit:{id:"mortgageInterestCredit",checked:!1,amount:void 0,notes:void 0},firstTimeHomebuyerCredit:{id:"firstTimeHomebuyerCredit",checked:!1,amount:void 0,notes:void 0}});const n=(h.mortgageInterest||0)+(h.pointsPaid||0);n>0&&(y.taxCredits.housing.mortgageInterestCredit={...y.taxCredits.housing.mortgageInterestCredit,notes:y.taxCredits.housing.mortgageInterestCredit.notes?y.taxCredits.housing.mortgageInterestCredit.notes:`1098 detected with $${n.toFixed(2)} mortgage interest. Check if client has MCC (Mortgage Credit Certificate) for Form 8396 credit.`})}if((me==="w2"||se==="form_w2"||se==="w2")&&(h.stateTaxWithheld&&h.stateTaxWithheld>0&&(y.deductions.taxesPaid.stateIncomeTax=sr(y.deductions.taxesPaid.stateIncomeTax,h.stateTaxWithheld)),h.localTaxWithheld&&h.localTaxWithheld>0&&(y.deductions.taxesPaid.localIncomeTax=sr(y.deductions.taxesPaid.localIncomeTax,h.localTaxWithheld)),h.dependentCareBenefits&&h.dependentCareBenefits>0&&(y.taxCredits.children.dependentCareCredit=sr(y.taxCredits.children.dependentCareCredit,h.dependentCareBenefits))),me==="1098_t"||se==="form_1098_t"){const n=h.paymentsReceived||0,Q=h.scholarshipsGrants||0,xe=n-Q;xe>0&&(y.taxCredits.education.americanOpportunity=sr(y.taxCredits.education.americanOpportunity,xe)),h.halfTimeStudent&&(y.taxCredits.education.lifetimeLearning={...y.taxCredits.education.lifetimeLearning,checked:!0})}me==="1099_int"&&(h.investmentExpenses&&h.investmentExpenses>0&&(y.deductions.interest.investmentInterest=sr(y.deductions.interest.investmentInterest,h.investmentExpenses)),h.foreignTaxPaid&&h.foreignTaxPaid>0&&(y.deductions.taxesPaid.foreignTaxesPaid=sr(y.deductions.taxesPaid.foreignTaxesPaid,h.foreignTaxPaid))),me==="1099_div"&&(h.foreignTaxPaid&&h.foreignTaxPaid>0&&(y.deductions.taxesPaid.foreignTaxesPaid=sr(y.deductions.taxesPaid.foreignTaxesPaid,h.foreignTaxPaid)),h.investmentExpenses&&h.investmentExpenses>0&&(y.deductions.interest.investmentInterest=sr(y.deductions.interest.investmentInterest,h.investmentExpenses))),me==="1099_nec"&&h.nonEmployeeCompensation&&h.nonEmployeeCompensation>0&&(y.businessExpenses.operations.contractLabor={...y.businessExpenses.operations.contractLabor,checked:!0,notes:y.businessExpenses.operations.contractLabor.notes?y.businessExpenses.operations.contractLabor.notes+"; 1099-NEC self-employment income detected":"1099-NEC self-employment income detected"},y.otherIncome.adjustments.selfEmploymentTax={...y.otherIncome.adjustments.selfEmploymentTax,checked:!0}),me==="1099_misc"&&(h.rents&&h.rents>0&&(y.otherIncome.additionalIncome.rentalRoyalties=sr(y.otherIncome.additionalIncome.rentalRoyalties,h.rents)),h.royalties&&h.royalties>0&&(y.otherIncome.additionalIncome.rentalRoyalties=sr(y.otherIncome.additionalIncome.rentalRoyalties,h.royalties))),me==="schedule_k1"&&(h.rentalRealEstateIncome&&h.rentalRealEstateIncome>0&&(y.otherIncome.additionalIncome.rentalRoyalties=sr(y.otherIncome.additionalIncome.rentalRoyalties,h.rentalRealEstateIncome)),h.section179Deduction&&h.section179Deduction>0&&(y.businessExpenses.equipment.section179Deduction=sr(y.businessExpenses.equipment.section179Deduction,h.section179Deduction)),h.selfEmploymentEarnings&&h.selfEmploymentEarnings>0&&(y.otherIncome.adjustments.selfEmploymentTax={...y.otherIncome.adjustments.selfEmploymentTax,checked:!0}));const D=(me||"").toLowerCase(),Z=(se||"").toLowerCase(),K=D==="1095_a"||D==="1095-a"||Z==="1095_a"||Z==="1095-a"||Z==="form_1095_a"||Z==="form_1095-a"||Z.includes("1095-a")||Z.includes("1095_a")||D.includes("1095")||Z.includes("1095")||!!(h.annualPremiumAmount||h.annualSlcspPremium||h.annualAdvancePtc);if($t(`[AUTO-FILL] Checking 1095-A match: formType=${me}, docType=${se}, formTypeLower=${D}, docTypeLower=${Z}, is1095A=${K}`),K){$t("[AUTO-FILL] >>> 1095-A DOCUMENT DETECTED <<<"),$t("[AUTO-FILL] 1095-A amounts:",JSON.stringify(h));const n=h.annualPremiumAmount||0,Q=h.annualSlcspPremium||0,xe=h.annualAdvancePtc||0,N=h.coverageMonths||12;$t("[AUTO-FILL] Parsed values:",{annualPremium:n,annualSlcsp:Q,annualAptc:xe,coverageMonths:N});const O=N>0?n/N:0,m=N>0?Q/N:0,ae=N>0?xe/N:0;$t("[AUTO-FILL] Checking if should populate marketplace:",{annualPremium:n,annualAptc:xe,shouldPopulate:n>0||xe>0}),(n>0||xe>0)&&($t("[AUTO-FILL] >>> POPULATING HEALTH INSURANCE MARKETPLACE <<<"),y.otherIncome.healthInsuranceMarketplace||(y.otherIncome.healthInsuranceMarketplace={hasMarketplaceCoverage:!1,monthlyPremium:0,monthlySlcsp:0,monthlyAptc:0,coverageMonths:0}),y.otherIncome.healthInsuranceMarketplace={hasMarketplaceCoverage:!0,monthlyPremium:Math.round(O*100)/100,monthlySlcsp:Math.round(m*100)/100,monthlyAptc:Math.round(ae*100)/100,coverageMonths:N},y.otherIncome.schedule2Taxes||(y.otherIncome.schedule2Taxes={excessPtcRepayment:{id:"excessPtcRepayment",checked:!1,amount:void 0,notes:void 0},selfEmploymentTax:{id:"schedule2SelfEmploymentTax",checked:!1,amount:void 0,notes:void 0},unreportedSocialSecurityTax:{id:"unreportedSocialSecurityTax",checked:!1,amount:void 0,notes:void 0},additionalTaxOnIra:{id:"additionalTaxOnIra",checked:!1,amount:void 0,notes:void 0},householdEmploymentTax:{id:"householdEmploymentTax",checked:!1,amount:void 0,notes:void 0},netInvestmentIncomeTax:{id:"netInvestmentIncomeTax",checked:!1,amount:void 0,notes:void 0}}),y.otherIncome.schedule2Taxes.excessPtcRepayment={...y.otherIncome.schedule2Taxes.excessPtcRepayment,checked:!0,notes:`1095-A auto-filled: ${N} months, Monthly: Premium $${O.toFixed(2)}, SLCSP $${m.toFixed(2)}, APTC $${ae.toFixed(2)}`})}}return y.lastUpdated=Date.now(),y}function ld(e){const C=e.filter(R=>(R.uploadStatus==="analyzed"||R.uploadStatus==="verified")&&R.extractedAmounts),y=Array.from(new Set(C.map(R=>R.drakeFormType||R.documentType).filter(Boolean)));return{documentCount:C.length,formTypes:y}}function id(e){let C=0;const y=[];for(const R of e)if(R.drakeFormType==="w2"){const M=R.extractedAmounts?.wages??0;C+=M,M>0&&y.push({type:"W-2",source:R.payerInfo?.name||R.originalFileName||"unknown",amount:M})}else if(R.drakeFormType==="1099_nec"){const M=R.extractedAmounts?.nonEmployeeCompensation??0;C+=M,M>0&&y.push({type:"1099-NEC",source:R.payerInfo?.name||R.originalFileName||"unknown",amount:M})}else if(R.drakeFormType==="1099_int"){const M=R.extractedAmounts?.interestIncome??0;C+=M,M>0&&y.push({type:"1099-INT",source:R.payerInfo?.name||R.originalFileName||"unknown",amount:M})}else if(R.drakeFormType==="1099_div"){const M=R.extractedAmounts?.ordinaryDividends??0;C+=M,M>0&&y.push({type:"1099-DIV",source:R.payerInfo?.name||R.originalFileName||"unknown",amount:M})}else if(R.drakeFormType==="1099_misc"){const M=R.extractedAmounts?.miscellaneousIncome??0,h=R.extractedAmounts?.rents??0,me=R.extractedAmounts?.royalties??0;C+=M+h+me,M+h+me>0&&y.push({type:"1099-MISC",source:R.payerInfo?.name||R.originalFileName||"unknown",amount:M+h+me})}return console.log("[STRATEGY CALC] AGI Breakdown:",JSON.stringify(y,null,2)),console.log("[STRATEGY CALC] Total AGI:",C),C}function sd(e){let C=0;for(const y of e)y.drakeFormType==="w2"?C+=y.extractedAmounts?.wages??0:y.drakeFormType==="1099_nec"&&(C+=y.extractedAmounts?.nonEmployeeCompensation??0);return console.log("[STRATEGY CALC] Earned Income (W-2 + 1099-NEC):",C),C}function ol(e){const C=["son","daughter","stepson","stepdaughter","foster_child","grandchild"],y=e.taxYear||2024,R=new Date(y,11,31);if(console.log("[STRATEGY CALC] --- Dependents Analysis ---"),console.log("[STRATEGY CALC] Tax Year:",y),console.log("[STRATEGY CALC] Total dependents on return:",e.dependents?.length||0),console.log("[STRATEGY CALC] All dependents:",JSON.stringify(e.dependents,null,2)),!e.dependents)return console.log("[STRATEGY CALC] No dependents array found on client"),[];const h=e.dependents.map(me=>{const se=C.includes(me.relationship);let D=null,Z=!0;if(me.dateOfBirth){const n=new Date(me.dateOfBirth);D=R.getFullYear()-n.getFullYear()-(R<new Date(R.getFullYear(),n.getMonth(),n.getDate())?1:0),Z=D<17}const K=se&&Z;return console.log(`[STRATEGY CALC] Dependent: ${me.firstName} ${me.lastName} | relationship: ${me.relationship} (${se?"VALID":"NOT VALID"}) | DOB: ${me.dateOfBirth||"N/A"} | Age: ${D!==null?D:"unknown"} | Under 17: ${Z} | QUALIFIES: ${K}`),{dep:me,qualifies:K}}).filter(me=>me.qualifies).map(me=>me.dep);return console.log("[STRATEGY CALC] Qualifying children count:",h.length),h}function od(e){switch(e){case"married_filing_jointly":return 4e5;case"single":case"head_of_household":case"married_filing_separately":case"qualifying_widow":default:return 2e5}}function ad(e,C){console.log("[STRATEGY CALC] ===== CHILD TAX CREDIT CALCULATION ====="),console.log("[STRATEGY CALC] Client:",JSON.stringify({name:`${e.firstName} ${e.lastName}`,filingStatus:e.filingStatus,taxYear:e.taxYear,dependentsCount:e.dependents?.length||0})),console.log("[STRATEGY CALC] Documents count:",C.length),console.log("[STRATEGY CALC] Documents with extractedAmounts:",C.filter(O=>O.extractedAmounts).length),console.log("[STRATEGY CALC] Document types:",JSON.stringify(C.map(O=>({type:O.drakeFormType,name:O.originalFileName,status:O.uploadStatus}))));const y=id(C),R=e.dependents?.length||0,M=R>0,me=ol(e).length;let se;M?me===0&&(se=`${R} dependent(s) found, but none qualify (must be under 17 and qualifying relationship)`):se="No dependents on return";const D=me*2e3,Z=e.filingStatus||"single",K=od(Z);let n=0,Q=!1;if(y>K&&D>0){const O=y-K;n=Math.ceil(O/1e3)*50,Q=n>0}const xe=Math.max(0,D-n),N=[];if(M?N.push(`${me} qualifying child${me!==1?"ren":""} of ${R} dependent(s) × $2,000 = $${D.toLocaleString()}`):N.push("No dependents found on return"),Q){const O=y-K;N.push(`AGI $${y.toLocaleString()} exceeds ${Z.replace(/_/g," ")} threshold ($${K.toLocaleString()}) by $${O.toLocaleString()}, reduction: -$${n.toLocaleString()}`)}return console.log("[STRATEGY CALC] --- Child Tax Credit Result ---"),console.log("[STRATEGY CALC] Base credit:",D,"| Phase-out:",n,"| Final:",xe),console.log("[STRATEGY CALC] Filing status:",Z,"| Threshold:",K,"| AGI:",y),{creditAmount:xe,qualifyingChildren:me,phaseOutReduction:n,isPhasedOut:Q,details:N.join(". "),eligibility:{hasDependents:M,hasQualifyingChildren:me>0,totalDependents:R,nonQualifyingReason:se}}}function dd(e,C){console.log("[STRATEGY CALC] ===== EIC CALCULATION =====");const y=sd(C),M=ol(e).length,me=(e.filingStatus||"single")==="married_filing_jointly",se={0:{maxCredit:632,singleLimit:18591,mfjLimit:25511},1:{maxCredit:4213,singleLimit:49084,mfjLimit:56004},2:{maxCredit:6960,singleLimit:55768,mfjLimit:62688},3:{maxCredit:7830,singleLimit:59899,mfjLimit:66819}},D=Math.min(M,3),Z=se[D],K=me?Z.mfjLimit:Z.singleLimit,n=y>0,Q=y<=K,xe=!n||!Q?0:Z.maxCredit;let N;n?Q||(N=`Earned income $${y.toLocaleString()} exceeds limit $${K.toLocaleString()}`):N="No earned income found (need W-2 or 1099-NEC)";const O=n?`Earned income: $${y.toLocaleString()}, limit: $${K.toLocaleString()}, ${M} qualifying child${M!==1?"ren":""}`:"No earned income detected from documents";return console.log("[STRATEGY CALC] --- EIC Result ---"),console.log("[STRATEGY CALC] Earned income:",y,"| Bracket:",D,"children | Limit:",K,"| Max credit:",Z.maxCredit),console.log("[STRATEGY CALC] Has earned income:",n,"| Within limit:",Q,"| Final EIC:",xe),N&&console.log("[STRATEGY CALC] EIC denied reason:",N),{creditAmount:xe,qualifyingChildren:M,details:O,eligibility:{hasEarnedIncome:n,earnedIncome:y,incomeLimit:K,isWithinLimit:Q,reason:N}}}function yd(e,C,y){const R={...e},M=ad(C,y),h=dd(C,y);return M.creditAmount>0?R.children={...R.children,childTaxCredit:{...R.children.childTaxCredit,checked:!0,amount:M.creditAmount}}:R.children={...R.children,childTaxCredit:{...R.children.childTaxCredit,checked:!1,amount:0}},h.creditAmount>0?R.eitc={...R.eitc,earnedIncomeCredit:{...R.eitc.earnedIncomeCredit,checked:!0,amount:h.creditAmount},qualifyingChildren:{...R.eitc.qualifyingChildren,checked:!0,amount:h.qualifyingChildren}}:R.eitc={...R.eitc,earnedIncomeCredit:{...R.eitc.earnedIncomeCredit,checked:!1,amount:0},qualifyingChildren:{...R.eitc.qualifyingChildren,checked:h.qualifyingChildren>0,amount:h.qualifyingChildren}},{updatedCredits:R,childCredit:M,eic:h}}var cd=a("<input type=number step=0.01 min=0 placeholder=0.00>"),pd=a("<div><input type=checkbox><span>");const Br=e=>{const C=Pr(()=>e.showAmount!==!1),y=Pr(()=>e.item||{id:"",checked:!1,amount:void 0,notes:void 0}),R=Pr(()=>({display:"flex","align-items":"center",padding:"0.5rem 0.75rem","border-radius":"var(--border-radius-md)",transition:"background 0.2s","border-bottom":"1px solid var(--border-color)",background:y().checked?"rgba(34, 197, 94, 0.08)":"transparent"})),M={width:"18px",height:"18px","accent-color":"#22c55e",cursor:"pointer"},h={flex:"1","font-size":"0.875rem",color:"var(--text-primary)","margin-left":"0.75rem"},me={width:"120px","text-align":"right",padding:"0.375rem 0.5rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-md)","font-size":"0.875rem",background:"var(--surface-color)",color:"var(--text-primary)"},se=()=>{e.onChange({...y(),checked:!y().checked})},D=K=>{const Q=K.target.value.trim(),xe=Q===""?void 0:parseFloat(Q);e.onChange({...y(),amount:isNaN(xe)?void 0:xe})},Z=K=>{K.key==="Enter"&&K.target.blur()};return(()=>{var K=pd(),n=K.firstChild,Q=n.nextSibling;return n.addEventListener("change",se),r(n,M),r(Q,h),t(Q,()=>e.label),t(K,i(u,{get when(){return C()},get children(){var xe=cd();return xe.$$focusout=N=>{N.target.style.setProperty("border-color","var(--border-color)")},xe.addEventListener("focus",N=>{N.target.style.setProperty("border-color","var(--primary-color)")}),xe.$$keydown=Z,xe.addEventListener("blur",D),r(xe,me),v(()=>xe.value=y().amount!==void 0?y().amount:""),xe}}),null),v(xe=>r(K,R(),xe)),v(()=>n.checked=y().checked),K})()};ar(["keydown","focusout"]);var ud=a("<div>"),md=a("<div><button type=button><span></span><span><span>/</span><span>&#9654;");const gd=[{key:"medical",title:"Medical & Dental",sectionKey:"medical",items:[{field:"medicalExpenses",label:"Medical expenses"},{field:"dentalExpenses",label:"Dental expenses"},{field:"visionExpenses",label:"Vision expenses"},{field:"healthInsurancePremiums",label:"Health insurance premiums"},{field:"prescriptionMedications",label:"Prescription medications"},{field:"medicalMileage",label:"Medical mileage"}]},{key:"taxesPaid",title:"Taxes Paid",sectionKey:"taxesPaid",items:[{field:"stateIncomeTax",label:"State income tax"},{field:"localIncomeTax",label:"Local income tax"},{field:"realEstateTax",label:"Real estate tax"},{field:"personalPropertyTax",label:"Personal property tax"},{field:"foreignTaxesPaid",label:"Foreign taxes paid"}]},{key:"interest",title:"Interest Paid",sectionKey:"interest",items:[{field:"mortgageInterest",label:"Mortgage interest"},{field:"mortgageInsurancePremiums",label:"Mortgage insurance premiums"},{field:"investmentInterest",label:"Investment interest"},{field:"studentLoanInterest",label:"Student loan interest"}]},{key:"donations",title:"Charitable Donations",sectionKey:"donations",items:[{field:"cashDonations",label:"Cash donations"},{field:"nonCashDonations",label:"Non-cash donations"},{field:"volunteerMileage",label:"Volunteer mileage"},{field:"charitableCarryover",label:"Charitable carryover"}]},{key:"casualty",title:"Casualty & Theft",sectionKey:"casualty",items:[{field:"federalDisasterLoss",label:"Federal disaster loss"},{field:"theftLoss",label:"Theft loss"}]},{key:"other",title:"Other Deductions",sectionKey:"other",items:[{field:"gamblingLosses",label:"Gambling losses"},{field:"unreimbursedExpenses",label:"Unreimbursed expenses"},{field:"taxPrepFees",label:"Tax preparation fees"}]}],fd={display:"flex",width:"100%",background:"var(--surface-alt, #f9fafb)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-md)",padding:"0.75rem 1rem",cursor:"pointer","font-weight":"600","font-size":"0.875rem",color:"var(--text-primary)","justify-content":"space-between","align-items":"center","margin-bottom":"0.5rem"},vd={"margin-bottom":"1rem"},hd={display:"flex","align-items":"center",gap:"0.5rem","font-size":"0.8rem","font-weight":"400",color:"var(--text-secondary, #6b7280)"},bd=e=>{const[C,y]=Xe({}),R=D=>{y(Z=>({...Z,[D]:!Z[D]}))},M=D=>e.data[D],h=(D,Z)=>{const K=M(D);return Z.filter(n=>K[n.field]?.checked).length},me=(D,Z,K)=>{const n={...e.data[D]};n[Z]=K;const Q={...e.data,[D]:n};e.onChange(Q)},se=D=>({transition:"transform 0.2s",transform:D?"rotate(90deg)":"rotate(0deg)","font-size":"0.75rem"});return(()=>{var D=ud();return t(D,i(zt,{each:gd,children:Z=>(()=>{var K=md(),n=K.firstChild,Q=n.firstChild,xe=Q.nextSibling,N=xe.firstChild,O=N.firstChild,m=N.nextSibling;return r(K,vd),n.$$click=()=>R(Z.key),r(n,fd),t(Q,()=>Z.title),r(xe,hd),t(N,()=>h(Z.sectionKey,Z.items),O),t(N,()=>Z.items.length,null),t(K,i(u,{get when(){return C()[Z.key]},get children(){return i(zt,{get each(){return Z.items},children:ae=>i(Br,{get label(){return ae.label},get item(){return M(Z.sectionKey)[ae.field]},onChange:s=>me(Z.sectionKey,ae.field,s)})})}}),null),v(ae=>r(m,se(!!C()[Z.key]),ae)),K})()})),D})()};ar(["click"]);var Xn=a("<div>"),xd=a("<div><button type=button><span></span><span><span> / </span><span>&#9660;");const Pd=[{key:"operations",label:"Operations",items:[{field:"advertising",label:"Advertising"},{field:"insurance",label:"Insurance"},{field:"legalFees",label:"Legal fees"},{field:"accountingFees",label:"Accounting fees"},{field:"licenses",label:"Licenses & permits"},{field:"bankFees",label:"Bank fees"},{field:"contractLabor",label:"Contract labor"}]},{key:"office",label:"Office Expenses",items:[{field:"officeSupplies",label:"Office supplies"},{field:"postage",label:"Postage & shipping"},{field:"telephone",label:"Telephone"},{field:"internet",label:"Internet service"},{field:"software",label:"Software subscriptions"},{field:"computerEquipment",label:"Computer equipment"}]},{key:"homeOffice",label:"Home Office",items:[{field:"squareFootage",label:"Square footage (dedicated)"},{field:"rent",label:"Rent/mortgage portion"},{field:"utilities",label:"Utilities portion"},{field:"insurance",label:"Insurance portion"},{field:"repairs",label:"Repairs"},{field:"depreciation",label:"Depreciation"}]},{key:"vehicle",label:"Vehicle",items:[{field:"businessMileage",label:"Business mileage"},{field:"gasAndOil",label:"Gas & oil"},{field:"repairs",label:"Repairs & maintenance"},{field:"insurance",label:"Vehicle insurance"},{field:"leasePayments",label:"Lease payments"},{field:"parking",label:"Parking fees"},{field:"tolls",label:"Tolls"}]},{key:"travel",label:"Travel",items:[{field:"airfare",label:"Airfare"},{field:"lodging",label:"Lodging"},{field:"carRental",label:"Car rental"},{field:"transportationFees",label:"Transportation fees"}]},{key:"meals",label:"Meals",items:[{field:"businessMeals",label:"Business meals (50%)"},{field:"entertainmentExpenses",label:"Entertainment expenses"}]},{key:"equipment",label:"Equipment",items:[{field:"machinery",label:"Machinery"},{field:"furniture",label:"Furniture"},{field:"tools",label:"Tools"},{field:"section179Deduction",label:"Section 179 deduction"}]},{key:"education",label:"Education",items:[{field:"coursesAndSeminars",label:"Courses & seminars"},{field:"books",label:"Books & materials"},{field:"certifications",label:"Certifications"},{field:"professionalDues",label:"Professional dues"}]},{key:"other",label:"Other",items:[{field:"commissions",label:"Commissions paid"},{field:"subcontractors",label:"Subcontractors"},{field:"uniforms",label:"Uniforms & work clothes"},{field:"otherExpenses",label:"Other expenses"}]}],$d={"margin-bottom":"1rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-md)",overflow:"hidden"},Sd={display:"flex","align-items":"center","justify-content":"space-between",width:"100%",padding:"0.75rem 1rem",border:"none",background:"var(--surface-alt, #f9fafb)",cursor:"pointer","font-size":"0.875rem","font-weight":"600",color:"var(--text-primary)","text-align":"left"},wd={padding:"0.25rem 0.5rem"},Cd={"font-size":"0.75rem","font-weight":"400",color:"var(--text-primary)",opacity:"0.7","margin-right":"0.5rem"},_d=e=>{const[C,y]=Xe({}),R=se=>{y(D=>({...D,[se]:!D[se]}))},M=se=>e.data[se],h=(se,D)=>{const Z=M(se);return D.filter(K=>Z[K.field]?.checked).length},me=(se,D,Z)=>{const K={...e.data,[se]:{...e.data[se],[D]:Z}};e.onChange(K)};return(()=>{var se=Xn();return t(se,i(zt,{each:Pd,children:D=>(()=>{var Z=xd(),K=Z.firstChild,n=K.firstChild,Q=n.nextSibling,xe=Q.firstChild,N=xe.firstChild,O=xe.nextSibling;return r(Z,$d),K.$$click=()=>R(D.key),r(K,Sd),t(n,()=>D.label),Q.style.setProperty("display","flex"),Q.style.setProperty("align-items","center"),r(xe,Cd),t(xe,()=>h(D.key,D.items),N),t(xe,()=>D.items.length,null),O.style.setProperty("transition","transform 0.2s"),O.style.setProperty("font-size","0.75rem"),t(Z,i(u,{get when(){return C()[D.key]},get children(){var m=Xn();return r(m,wd),t(m,i(zt,{get each(){return D.items},children:ae=>i(Br,{get label(){return ae.label},get item(){return M(D.key)[ae.field]},onChange:s=>me(D.key,ae.field,s)})})),m}}),null),v(m=>(m=C()[D.key]?"rotate(180deg)":"rotate(0deg)")!=null?O.style.setProperty("transform",m):O.style.removeProperty("transform")),Z})()})),se})()};ar(["click"]);var kd=a("<div><div><button>Add Property"),Kn=a("<div>"),Td=a('<div><div><span>Property #</span><input type=text placeholder="Property address"><select></select><button>Remove</button></div><div><div><div>Days rented</div><input type=number min=0></div><div><div>Personal use days</div><input type=number min=0></div></div><div><button>Expenses</button></div><div><button>Capital Improvements'),Id=a("<option>");const Nd=[{value:"single_family",label:"Single Family"},{value:"multi_family",label:"Multi-Family"},{value:"commercial",label:"Commercial"},{value:"vacation",label:"Vacation"},{value:"other",label:"Other"}],zd=[{key:"mortgage",label:"Mortgage/interest"},{key:"propertyTax",label:"Property tax"},{key:"insurance",label:"Insurance"},{key:"repairs",label:"Repairs"},{key:"maintenance",label:"Maintenance"},{key:"utilities",label:"Utilities"},{key:"management",label:"Property management"},{key:"advertising",label:"Advertising"},{key:"legal",label:"Legal fees"},{key:"hoa",label:"HOA fees"},{key:"cleaning",label:"Cleaning"},{key:"supplies",label:"Supplies"}],Ad=[{key:"roofing",label:"Roofing"},{key:"hvac",label:"HVAC"},{key:"plumbing",label:"Plumbing"},{key:"electrical",label:"Electrical"},{key:"appliances",label:"Appliances"},{key:"flooring",label:"Flooring"},{key:"otherImprovements",label:"Other improvements"}],Dd={background:"#06b6d4",color:"white",border:"none","border-radius":"var(--border-radius-md)",padding:"0.5rem 1rem",cursor:"pointer","font-weight":"600","font-size":"0.875rem"},Fd={border:"1px solid var(--border-color)","border-radius":"var(--border-radius-lg)",padding:"1rem","margin-bottom":"1rem",background:"var(--surface-color)"},Ld={display:"flex",gap:"0.75rem","align-items":"center","margin-bottom":"1rem"},Rd={flex:"1",padding:"0.5rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-md)","font-size":"0.875rem"},Ed={padding:"0.5rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-md)","font-size":"0.875rem",width:"auto"},Md={background:"#ef4444",color:"white",border:"none","border-radius":"var(--border-radius-md)",padding:"0.375rem 0.75rem",cursor:"pointer","font-size":"0.75rem"},Bd={display:"grid","grid-template-columns":"1fr 1fr",gap:"0.75rem","margin-bottom":"0.75rem"},Jn={"font-size":"0.75rem",color:"var(--text-secondary)","margin-bottom":"0.25rem"},Zn={width:"100%",padding:"0.5rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-md)","font-size":"0.875rem","box-sizing":"border-box"},Od=e=>{const[C,y]=Xe({}),R=O=>{y(m=>({...m,[O]:!m[O]}))},M=O=>!!C()[O],h=()=>{const O=rd();e.onChange({properties:[...e.data.properties,O]})},me=O=>{e.onChange({properties:e.data.properties.filter(m=>m.id!==O)})},se=(O,m)=>{const ae=e.data.properties.map(s=>s.id===O?{...s,...m}:s);e.onChange({properties:ae})},D=(O,m)=>{se(O,{propertyAddress:m})},Z=(O,m)=>{se(O,{propertyType:m})},K=(O,m)=>{se(O,{daysRented:m})},n=(O,m)=>{se(O,{personalUseDays:m})},Q=(O,m)=>{se(O,{rentalIncome:m})},xe=(O,m,ae)=>{const s=e.data.properties.find(ne=>ne.id===O);s&&se(O,{expenses:{...s.expenses,[m]:ae}})},N=(O,m,ae)=>{const s=e.data.properties.find(ne=>ne.id===O);s&&se(O,{capitalImprovements:{...s.capitalImprovements,[m]:ae}})};return(()=>{var O=kd(),m=O.firstChild,ae=m.firstChild;return m.style.setProperty("display","flex"),m.style.setProperty("justify-content","flex-end"),m.style.setProperty("margin-bottom","1rem"),ae.$$click=h,r(ae,Dd),t(O,i(zt,{get each(){return e.data.properties},children:(s,ne)=>(()=>{var T=Td(),S=T.firstChild,ce=S.firstChild;ce.firstChild;var f=ce.nextSibling,et=f.nextSibling,$e=et.nextSibling,Ye=S.nextSibling,pt=Ye.firstChild,oe=pt.firstChild,H=oe.nextSibling,Ge=pt.nextSibling,Se=Ge.firstChild,Je=Se.nextSibling,je=Ye.nextSibling,Re=je.firstChild,b=Re.firstChild,Ue=je.nextSibling,Me=Ue.firstChild,fe=Me.firstChild;return r(T,Fd),r(S,Ld),ce.style.setProperty("font-weight","600"),ce.style.setProperty("font-size","0.875rem"),ce.style.setProperty("white-space","nowrap"),t(ce,()=>ne()+1,null),f.$$input=nt=>D(s.id,nt.target.value),r(f,Rd),et.addEventListener("change",nt=>Z(s.id,nt.target.value)),r(et,Ed),t(et,i(zt,{each:Nd,children:nt=>(()=>{var St=Id();return t(St,()=>nt.label),v(()=>St.value=nt.value),St})()})),$e.$$click=()=>me(s.id),r($e,Md),r(Ye,Bd),H.$$input=nt=>K(s.id,parseInt(nt.target.value)||0),Je.$$input=nt=>n(s.id,parseInt(nt.target.value)||0),t(T,i(Br,{label:"Rental income",get item(){return s.rentalIncome},onChange:nt=>Q(s.id,nt)}),je),je.style.setProperty("margin-top","0.75rem"),Re.$$click=()=>R(`${s.id}-expenses`),Re.style.setProperty("background","none"),Re.style.setProperty("border","none"),Re.style.setProperty("cursor","pointer"),Re.style.setProperty("font-weight","600"),Re.style.setProperty("font-size","0.875rem"),Re.style.setProperty("color","var(--text-primary)"),Re.style.setProperty("padding","0.5rem 0"),t(Re,()=>M(`${s.id}-expenses`)?"+ ":"- ",b),t(je,i(u,{get when(){return!M(`${s.id}-expenses`)},get children(){var nt=Kn();return t(nt,i(zt,{each:zd,children:St=>i(Br,{get label(){return St.label},get item(){return s.expenses[St.key]},onChange:ut=>xe(s.id,St.key,ut)})})),nt}}),null),Ue.style.setProperty("margin-top","0.75rem"),Me.$$click=()=>R(`${s.id}-improvements`),Me.style.setProperty("background","none"),Me.style.setProperty("border","none"),Me.style.setProperty("cursor","pointer"),Me.style.setProperty("font-weight","600"),Me.style.setProperty("font-size","0.875rem"),Me.style.setProperty("color","var(--text-primary)"),Me.style.setProperty("padding","0.5rem 0"),t(Me,()=>M(`${s.id}-improvements`)?"+ ":"- ",fe),t(Ue,i(u,{get when(){return!M(`${s.id}-improvements`)},get children(){var nt=Kn();return t(nt,i(zt,{each:Ad,children:St=>i(Br,{get label(){return St.label},get item(){return s.capitalImprovements[St.key]},onChange:ut=>N(s.id,St.key,ut)})})),nt}}),null),v(nt=>{var St=Jn,ut=Zn,_t=Jn,Et=Zn;return nt.e=r(oe,St,nt.e),nt.t=r(H,ut,nt.t),nt.a=r(Se,_t,nt.a),nt.o=r(Je,Et,nt.o),nt},{e:void 0,t:void 0,a:void 0,o:void 0}),v(()=>f.value=s.propertyAddress),v(()=>et.value=s.propertyType),v(()=>H.value=s.daysRented),v(()=>Je.value=s.personalUseDays),T})()}),null),O})()};ar(["click","input"]);var jd=a("<div>"),Ud=a("<div><button type=button><span> (<!>/<!>)</span><span>");const Hd=[{key:"children",label:"Children & Dependents",dataKey:"children",items:[{field:"childTaxCredit",label:"Child tax credit"},{field:"childCareExpenses",label:"Child care expenses"},{field:"adoptionCredit",label:"Adoption credit"},{field:"dependentCareCredit",label:"Dependent care credit"}]},{key:"education",label:"Education Credits",dataKey:"education",items:[{field:"americanOpportunity",label:"American Opportunity credit"},{field:"lifetimeLearning",label:"Lifetime Learning credit"},{field:"tuitionAndFees",label:"Tuition and fees"},{field:"studentLoanInterest",label:"Student loan interest"},{field:"education529Contributions",label:"529 plan contributions"}]},{key:"energy",label:"Energy Credits",dataKey:"energy",items:[{field:"residentialCleanEnergy",label:"Residential clean energy"},{field:"energyEfficientHome",label:"Energy efficient home"},{field:"electricVehicle",label:"Electric vehicle credit"},{field:"solarPanels",label:"Solar panels"}]},{key:"eitc",label:"Earned Income",dataKey:"eitc",items:[{field:"earnedIncomeCredit",label:"Earned Income Credit (EIC)"},{field:"qualifyingChildren",label:"Qualifying children for EIC"}]},{key:"housing",label:"Housing Credits",dataKey:"housing",items:[{field:"mortgageInterestCredit",label:"Mortgage Interest Credit (Form 8396/MCC)"},{field:"firstTimeHomebuyerCredit",label:"First-time homebuyer credit"}]},{key:"other",label:"Other Credits",dataKey:"other",items:[{field:"elderlyDisabledCredit",label:"Elderly/disabled credit"},{field:"foreignTaxCredit",label:"Foreign tax credit"},{field:"retirementSaversCredit",label:"Retirement saver's credit"},{field:"healthCoverageCredit",label:"Health coverage credit"},{field:"excessSocialSecurity",label:"Excess Social Security"}]}],Wd={display:"flex",width:"100%",background:"var(--surface-alt, #f9fafb)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-md)",padding:"0.75rem 1rem",cursor:"pointer","font-weight":"600","font-size":"0.875rem","justify-content":"space-between","align-items":"center","margin-bottom":"0.5rem"},qd={"margin-bottom":"1rem"},Yd=e=>{const[C,y]=Xe({}),R=se=>{y(D=>({...D,[se]:!D[se]}))},M=se=>e.data[se],h=se=>{const D=M(se.dataKey);return se.items.filter(Z=>D[Z.field]?.checked).length},me=(se,D,Z)=>{const K={...e.data,[se.dataKey]:{...e.data[se.dataKey],[D]:Z}};e.onChange(K)};return(()=>{var se=jd();return t(se,i(zt,{each:Hd,children:D=>(()=>{var Z=Ud(),K=Z.firstChild,n=K.firstChild,Q=n.firstChild,xe=Q.nextSibling,N=xe.nextSibling,O=N.nextSibling;O.nextSibling;var m=n.nextSibling;return r(Z,qd),K.$$click=()=>R(D.key),r(K,Wd),t(n,()=>D.label,Q),t(n,()=>h(D),xe),t(n,()=>D.items.length,O),t(m,()=>C()[D.key]?"▼":"▶"),t(Z,i(u,{get when(){return C()[D.key]},get children(){return i(zt,{get each(){return D.items},children:ae=>i(Br,{get label(){return ae.label},get item(){return M(D.dataKey)[ae.field]},onChange:s=>me(D,ae.field,s)})})}}),null),Z})()})),se})()};ar(["click"]);var Vd=a("<div><span>Months of coverage (1-12)</span><input type=number min=0 max=12>"),Gd=a("<div><span>Monthly Premium (Column A)</span><input type=number min=0 step=0.01 placeholder=$0.00>"),Qd=a("<div><span>Monthly SLCSP (Column B) - Benchmark Plan</span><input type=number min=0 step=0.01 placeholder=$0.00>"),Xd=a("<div><span>Monthly Advance PTC (Column C)</span><input type=number min=0 step=0.01 placeholder=$0.00>"),Kd=a("<div><div>Annual Totals (calculated)</div><div><span>Premium: $</span><span>SLCSP: $</span><span>Advance PTC: $"),Jd=a("<div><div>Enter the values from your Form 1095-A. This will automatically calculate Form 8962 (Premium Tax Credit) and any excess advance PTC repayment.</div><div><label><input type=checkbox>Had Marketplace health insurance coverage"),Zd=a("<div><div><button type=button><span>Health Insurance Marketplace (1095-A) </span><span>"),ey=a("<div><button type=button><span> (<!>/<!>)</span><span>");const ty=[{key:"additionalIncome",label:"Additional Income",items:[{field:"socialSecurity",label:"Social Security benefits"},{field:"pension",label:"Pension income"},{field:"annuity",label:"Annuity income"},{field:"ira",label:"IRA distributions"},{field:"unemployment",label:"Unemployment compensation"},{field:"alimony",label:"Alimony received"},{field:"gambling",label:"Gambling winnings"},{field:"juryDuty",label:"Jury duty pay"},{field:"prizeAwards",label:"Prizes & awards"},{field:"cryptoIncome",label:"Cryptocurrency income"},{field:"stockSales",label:"Stock sales/capital gains"},{field:"rentalRoyalties",label:"Rental royalties"}]},{key:"adjustments",label:"Above-the-Line Adjustments (Schedule 1-A)",items:[{field:"qbid",label:"QBID - Qualified Business Income Deduction (Line 13a)"},{field:"schedule1ADeductions",label:"Schedule 1-A Additional Deductions (Line 13b)"},{field:"iraContributions",label:"IRA contributions"},{field:"hsaContributions",label:"HSA contributions"},{field:"selfEmploymentTax",label:"Self-employment tax deduction (50%)"},{field:"healthInsuranceDeduction",label:"Self-employed health insurance"},{field:"retirementContributions",label:"Retirement plan contributions"},{field:"alimonyPaid",label:"Alimony paid"},{field:"educatorExpenses",label:"Educator expenses"},{field:"movingExpenses",label:"Moving expenses (military)"},{field:"studentLoanInterest",label:"Student loan interest"},{field:"tuitionFees",label:"Tuition & fees"}]},{key:"schedule2Taxes",label:"Schedule 2 - Additional Taxes (Line 17)",items:[{field:"excessPtcRepayment",label:"Excess advance premium tax credit repayment (Form 8962, Line 29)"},{field:"selfEmploymentTax",label:"Self-employment tax (Schedule SE)"},{field:"unreportedSocialSecurityTax",label:"Unreported Social Security/Medicare tax"},{field:"additionalTaxOnIra",label:"Additional tax on IRAs/retirement plans"},{field:"householdEmploymentTax",label:"Household employment taxes (Schedule H)"},{field:"netInvestmentIncomeTax",label:"Net Investment Income Tax (3.8%)"}]}],el={display:"flex",width:"100%",background:"var(--surface-alt, #f9fafb)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-md)",padding:"0.75rem 1rem",cursor:"pointer","font-weight":"600","font-size":"0.875rem","justify-content":"space-between","align-items":"center","margin-bottom":"0.5rem"},tl={"margin-bottom":"1rem"},Kr={display:"flex","align-items":"center",gap:"1rem",padding:"0.5rem 0","border-bottom":"1px solid var(--border-color-light, #e5e7eb)"},Jr={flex:"1","font-size":"0.875rem",color:"var(--text-color)"},dn={width:"120px",padding:"0.375rem 0.5rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"0.875rem","text-align":"right"},ry={background:"var(--surface-color, #fff)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-md)",padding:"1rem","margin-bottom":"0.5rem"},ny={"font-size":"0.75rem",color:"var(--text-muted, #6b7280)","margin-bottom":"1rem"},ly=e=>{const[C,y]=Xe({}),R=K=>{y(n=>({...n,[K]:!n[K]}))},M=K=>e.data[K],h=(K,n)=>{const Q=M(K);return n.filter(xe=>Q?.[xe?.field]?.checked)?.length},me=(K,n,Q)=>{const N={...M(K),[n]:Q},O={...e.data,[K]:N};e.onChange(O)},se=()=>e.data.healthInsuranceMarketplace||{hasMarketplaceCoverage:!1,monthlyPremium:0,monthlySlcsp:0,monthlyAptc:0,coverageMonths:0},D=(K,n)=>{const xe={...se(),[K]:n};K!=="hasMarketplaceCoverage"&&(xe.monthlyPremium>0||xe.coverageMonths>0)&&(xe.hasMarketplaceCoverage=!0),e.onChange({...e.data,healthInsuranceMarketplace:xe})},Z=()=>{const K=se(),n=K.coverageMonths||0;return{annualPremium:(K.monthlyPremium||0)*n,annualSlcsp:(K.monthlySlcsp||0)*n,annualAptc:(K.monthlyAptc||0)*n}};return(()=>{var K=Zd(),n=K.firstChild,Q=n.firstChild,xe=Q.firstChild;xe.firstChild;var N=xe.nextSibling;return Q.$$click=()=>R("healthInsurance"),t(xe,()=>se().hasMarketplaceCoverage?"✓":"",null),t(N,()=>C().healthInsurance?"▼":"▶"),t(n,i(u,{get when(){return C().healthInsurance},get children(){var O=Jd(),m=O.firstChild,ae=m.nextSibling,s=ae.firstChild,ne=s.firstChild;return r(O,ry),r(m,ny),ne.addEventListener("change",T=>D("hasMarketplaceCoverage",T.target.checked)),ne.style.setProperty("margin-right","0.5rem"),t(O,i(u,{get when(){return se().hasMarketplaceCoverage},get children(){return[(()=>{var T=Vd(),S=T.firstChild,ce=S.nextSibling;return ce.$$input=f=>D("coverageMonths",parseInt(f.target.value)||0),v(f=>{var et=Kr,$e=Jr,Ye=dn;return f.e=r(T,et,f.e),f.t=r(S,$e,f.t),f.a=r(ce,Ye,f.a),f},{e:void 0,t:void 0,a:void 0}),v(()=>ce.value=se().coverageMonths||""),T})(),(()=>{var T=Gd(),S=T.firstChild,ce=S.nextSibling;return ce.$$input=f=>D("monthlyPremium",parseFloat(f.target.value)||0),v(f=>{var et=Kr,$e=Jr,Ye=dn;return f.e=r(T,et,f.e),f.t=r(S,$e,f.t),f.a=r(ce,Ye,f.a),f},{e:void 0,t:void 0,a:void 0}),v(()=>ce.value=se().monthlyPremium||""),T})(),(()=>{var T=Qd(),S=T.firstChild,ce=S.nextSibling;return ce.$$input=f=>D("monthlySlcsp",parseFloat(f.target.value)||0),v(f=>{var et=Kr,$e=Jr,Ye=dn;return f.e=r(T,et,f.e),f.t=r(S,$e,f.t),f.a=r(ce,Ye,f.a),f},{e:void 0,t:void 0,a:void 0}),v(()=>ce.value=se().monthlySlcsp||""),T})(),(()=>{var T=Xd(),S=T.firstChild,ce=S.nextSibling;return ce.$$input=f=>D("monthlyAptc",parseFloat(f.target.value)||0),v(f=>{var et=Kr,$e=Jr,Ye=dn;return f.e=r(T,et,f.e),f.t=r(S,$e,f.t),f.a=r(ce,Ye,f.a),f},{e:void 0,t:void 0,a:void 0}),v(()=>ce.value=se().monthlyAptc||""),T})(),(()=>{var T=Kd(),S=T.firstChild,ce=S.nextSibling,f=ce.firstChild;f.firstChild;var et=f.nextSibling;et.firstChild;var $e=et.nextSibling;return $e.firstChild,T.style.setProperty("margin-top","1rem"),T.style.setProperty("padding","0.75rem"),T.style.setProperty("background","var(--surface-alt)"),T.style.setProperty("border-radius","var(--border-radius-sm)"),S.style.setProperty("font-size","0.75rem"),S.style.setProperty("font-weight","600"),S.style.setProperty("margin-bottom","0.5rem"),ce.style.setProperty("display","flex"),ce.style.setProperty("gap","1.5rem"),ce.style.setProperty("font-size","0.8125rem"),t(f,()=>Z().annualPremium.toFixed(2),null),t(et,()=>Z().annualSlcsp.toFixed(2),null),t($e,()=>Z().annualAptc.toFixed(2),null),T})()]}}),null),v(T=>{var S=Kr,ce={...Jr,"font-weight":"600"};return T.e=r(ae,S,T.e),T.t=r(s,ce,T.t),T},{e:void 0,t:void 0}),v(()=>ne.checked=se().hasMarketplaceCoverage),O}}),null),t(K,i(zt,{each:ty,children:O=>(()=>{var m=ey(),ae=m.firstChild,s=ae.firstChild,ne=s.firstChild,T=ne.nextSibling,S=T.nextSibling,ce=S.nextSibling;ce.nextSibling;var f=s.nextSibling;return ae.$$click=()=>R(O?.key),t(s,()=>O?.label,ne),t(s,()=>h(O?.key,O?.items),T),t(s,()=>O?.items?.length,ce),t(f,()=>C()[O?.key]?"▼":"▶"),t(m,i(u,{get when(){return C()[O?.key]},get children(){return i(zt,{get each(){return O.items},children:et=>i(Br,{get label(){return et?.label},get item(){return M(O?.key)?.[et?.field]},onChange:$e=>me(O?.key,et?.field,$e)})})}}),null),v(et=>{var $e=tl,Ye=el;return et.e=r(m,$e,et.e),et.t=r(ae,Ye,et.t),et},{e:void 0,t:void 0}),m})()}),null),v(O=>{var m=tl,ae={...el,background:se().hasMarketplaceCoverage?"var(--success-bg, #dcfce7)":"var(--surface-alt, #f9fafb)"};return O.e=r(n,m,O.e),O.t=r(Q,ae,O.t),O},{e:void 0,t:void 0}),K})()};ar(["click","input"]);var iy=a("<button>Auto-fill (<!>)"),sy=a("<div><button>Calculate Credits"),rl=a("<div>"),oy=a("<div>Phase-out: -$<!> (AGI exceeds threshold)"),ay=a("<div><div>Credit Calculation Results</div><div><span>Estimated AGI (from documents)</span><span>$</span></div><div><div><span></span><span>Dependents on return: </span></div><div><span></span><span>Qualifying children (under 17): </span></div></div><div><div><div><span></span><span>Child Tax Credit</span></div><div></div></div><span>$</span></div><div><div><span></span><span>Earned income: $</span></div><div><span></span><span>Income within EIC limit: $</span></div></div><div><div><div><span></span><span>Earned Income Credit (EIC)</span></div><div></div></div><span>$</span></div><div><span>Total Estimated Credits</span><span>$"),dy=a("<div><div><div></div><div><div><div></div></div><span>%</span><button></button></div></div><div>"),yy=a("<button>");const cy=e=>{const[C,y]=Xe("deductions"),[R,M]=Xe(!1),[h,me]=Xe(null),se=Pr(()=>e.client.taxStrategy||td()),D=Pr(()=>{const $e=se();let Ye=0,pt=0;const oe=H=>{for(const Ge of Object.keys(H)){const Se=H[Ge];Se&&typeof Se=="object"&&"checked"in Se?(Ye++,Se.checked&&pt++):Se&&typeof Se=="object"&&!Array.isArray(Se)&&oe(Se)}};oe($e.deductions),oe($e.businessExpenses),oe($e.taxCredits),oe($e.otherIncome);for(const H of $e.rentalProperties.properties)oe(H.expenses),oe(H.capitalImprovements),Ye++,H.rentalIncome.checked&&pt++;return Ye===0?0:Math.round(pt/Ye*100)}),Z=$e=>{const Ye={...se(),...$e,lastUpdated:Date.now()};e.onClientChange({taxStrategy:Ye}),M(!0)},K=async()=>{await e.onSave(),M(!1)},n=Pr(()=>ld(e.documents)),Q=()=>{$t(e.documents);const $e=nd(se(),e.documents);e.onClientChange({taxStrategy:$e}),M(!0)},xe=()=>{$t("[STRATEGY] ===== CALCULATE CREDITS TRIGGERED ====="),$t("[STRATEGY] Client data:",JSON.stringify({id:e.client.id,name:`${e.client.firstName} ${e.client.lastName}`,filingStatus:e.client.filingStatus,taxYear:e.client.taxYear,dependents:e.client.dependents},null,2)),$t("[STRATEGY] Documents passed:",e.documents.length),$t("[STRATEGY] Documents detail:",JSON.stringify(e.documents.map(H=>({id:H.id,type:H.drakeFormType,docType:H.documentType,status:H.uploadStatus,fileName:H.originalFileName,hasExtracted:!!H.extractedAmounts,extractedAmounts:H.extractedAmounts,payerInfo:H.payerInfo})),null,2));const{updatedCredits:$e,childCredit:Ye,eic:pt}=yd(se().taxCredits,e.client,e.documents);let oe=0;for(const H of e.documents)H.drakeFormType==="w2"?oe+=H.extractedAmounts?.wages??0:H.drakeFormType==="1099_nec"?oe+=H.extractedAmounts?.nonEmployeeCompensation??0:H.drakeFormType==="1099_int"?oe+=H.extractedAmounts?.interestIncome??0:H.drakeFormType==="1099_div"?oe+=H.extractedAmounts?.ordinaryDividends??0:H.drakeFormType==="1099_misc"&&(oe+=H.extractedAmounts?.miscellaneousIncome??0,oe+=H.extractedAmounts?.rents??0,oe+=H.extractedAmounts?.royalties??0);me({childCredit:Ye,eic:pt,agi:oe}),Z({taxCredits:$e})},N=[{id:"deductions",label:"Deductions"},{id:"business",label:"Business"},{id:"rental",label:"Rental"},{id:"credits",label:"Credits"},{id:"other",label:"Other Income"}],O={display:"flex","flex-direction":"column",gap:"1rem"},m={display:"flex","align-items":"center","justify-content":"space-between","margin-bottom":"0.5rem"},ae={display:"flex",gap:"0.5rem","flex-wrap":"wrap"},s=$e=>({padding:"0.625rem 1.25rem",border:"none",background:$e?"#06b6d4":"var(--surface-alt, #f3f4f6)",color:$e?"white":"var(--text-primary)","border-radius":"9999px",cursor:"pointer","font-weight":"600","font-size":"0.875rem",transition:"all 0.2s"}),ne={display:"flex","align-items":"center",gap:"0.75rem"},T={width:"120px",height:"8px",background:"var(--surface-alt, #e5e7eb)","border-radius":"4px",overflow:"hidden"},S=()=>({height:"100%",width:`${D()}%`,background:D()>=75?"#22c55e":D()>=40?"#f59e0b":"#06b6d4","border-radius":"4px",transition:"width 0.3s ease"}),ce={"font-size":"0.8125rem","font-weight":"600",color:"var(--text-secondary)"},f=()=>({padding:"0.5rem 1.25rem",background:R()?"#06b6d4":"var(--surface-alt, #e5e7eb)",color:R()?"white":"var(--text-muted)",border:"none","border-radius":"var(--border-radius-md)",cursor:R()?"pointer":"default","font-weight":"600","font-size":"0.875rem",transition:"all 0.2s",opacity:e.isSaving?"0.7":"1"}),et={"margin-top":"1rem","max-height":"600px","overflow-y":"auto",padding:"0.5rem"};return(()=>{var $e=dy(),Ye=$e.firstChild,pt=Ye.firstChild,oe=pt.nextSibling,H=oe.firstChild,Ge=H.firstChild,Se=H.nextSibling,Je=Se.firstChild,je=Se.nextSibling,Re=Ye.nextSibling;return r(Ye,m),t(pt,()=>N.map(b=>(()=>{var Ue=yy();return Ue.$$click=()=>y(b.id),t(Ue,()=>b.label),v(Me=>r(Ue,s(C()===b.id),Me)),Ue})())),r(oe,ne),t(oe,i(u,{get when(){return n().documentCount>0},get children(){var b=iy(),Ue=b.firstChild,Me=Ue.nextSibling;return Me.nextSibling,b.$$click=Q,b.style.setProperty("padding","0.5rem 1rem"),b.style.setProperty("background","#8b5cf6"),b.style.setProperty("color","white"),b.style.setProperty("border","none"),b.style.setProperty("border-radius","var(--border-radius-md)"),b.style.setProperty("cursor","pointer"),b.style.setProperty("font-weight","600"),b.style.setProperty("font-size","0.8125rem"),b.style.setProperty("transition","all 0.2s"),t(b,()=>n().documentCount,Me),v(()=>or(b,"title",`Fill from ${n().documentCount} document(s): ${n().formTypes.join(", ")}`)),b}}),H),r(H,T),r(Se,ce),t(Se,D,Je),je.$$click=K,t(je,()=>e.isSaving?"Saving...":"Save"),t(Re,i(u,{get when(){return C()==="deductions"},get children(){return i(bd,{get data(){return se().deductions},onChange:b=>Z({deductions:b})})}}),null),t(Re,i(u,{get when(){return C()==="business"},get children(){return i(_d,{get data(){return se().businessExpenses},onChange:b=>Z({businessExpenses:b})})}}),null),t(Re,i(u,{get when(){return C()==="rental"},get children(){return i(Od,{get data(){return se().rentalProperties},onChange:b=>Z({rentalProperties:b})})}}),null),t(Re,i(u,{get when(){return C()==="credits"},get children(){return[(()=>{var b=sy(),Ue=b.firstChild;return b.style.setProperty("margin-bottom","1rem"),Ue.$$click=xe,Ue.style.setProperty("padding","0.625rem 1.5rem"),Ue.style.setProperty("background","#22c55e"),Ue.style.setProperty("color","white"),Ue.style.setProperty("border","none"),Ue.style.setProperty("border-radius","var(--border-radius-md)"),Ue.style.setProperty("cursor","pointer"),Ue.style.setProperty("font-weight","700"),Ue.style.setProperty("font-size","0.9375rem"),Ue.style.setProperty("transition","all 0.2s"),Ue.style.setProperty("box-shadow","0 2px 8px rgba(34, 197, 94, 0.3)"),b})(),i(u,{get when(){return h()},get children(){var b=ay(),Ue=b.firstChild,Me=Ue.nextSibling,fe=Me.firstChild,nt=fe.nextSibling;nt.firstChild;var St=Me.nextSibling,ut=St.firstChild,_t=ut.firstChild,Et=_t.nextSibling;Et.firstChild;var Bt=ut.nextSibling,G=Bt.firstChild,le=G.nextSibling;le.firstChild;var ye=St.nextSibling,_e=ye.firstChild,it=_e.firstChild,ft=it.firstChild,ot=ft.nextSibling,Ct=it.nextSibling,bt=_e.nextSibling;bt.firstChild;var Ke=ye.nextSibling,xt=Ke.firstChild,I=xt.firstChild,X=I.nextSibling;X.firstChild;var J=xt.nextSibling,de=J.firstChild,we=de.nextSibling;we.firstChild;var W=Ke.nextSibling,Ie=W.firstChild,F=Ie.firstChild,V=F.firstChild,Oe=V.nextSibling,Ee=F.nextSibling,g=Ie.nextSibling;g.firstChild;var k=W.nextSibling,De=k.firstChild,Ze=De.nextSibling;return Ze.firstChild,b.style.setProperty("background","var(--surface-alt, #f9fafb)"),b.style.setProperty("border","1px solid var(--border-color)"),b.style.setProperty("border-radius","var(--border-radius-lg, 12px)"),b.style.setProperty("padding","1.25rem"),b.style.setProperty("margin-bottom","1.25rem"),Ue.style.setProperty("font-weight","700"),Ue.style.setProperty("font-size","0.9375rem"),Ue.style.setProperty("margin-bottom","1rem"),Ue.style.setProperty("color","var(--text-primary)"),Me.style.setProperty("display","flex"),Me.style.setProperty("justify-content","space-between"),Me.style.setProperty("align-items","center"),Me.style.setProperty("padding","0.5rem 0"),Me.style.setProperty("border-bottom","1px solid var(--border-color)"),fe.style.setProperty("font-size","0.875rem"),fe.style.setProperty("color","var(--text-secondary)"),nt.style.setProperty("font-weight","600"),nt.style.setProperty("font-size","0.9375rem"),nt.style.setProperty("color","var(--text-primary)"),t(nt,()=>h().agi.toLocaleString(),null),St.style.setProperty("padding","0.75rem 0"),St.style.setProperty("border-bottom","1px solid var(--border-color)"),ut.style.setProperty("display","flex"),ut.style.setProperty("align-items","center"),ut.style.setProperty("gap","0.5rem"),ut.style.setProperty("margin-bottom","0.375rem"),_t.style.setProperty("font-size","1rem"),t(_t,()=>h().childCredit.eligibility.hasDependents?"✓":"✗"),Et.style.setProperty("font-size","0.875rem"),Et.style.setProperty("color","var(--text-primary)"),t(Et,()=>h().childCredit.eligibility.totalDependents,null),Bt.style.setProperty("display","flex"),Bt.style.setProperty("align-items","center"),Bt.style.setProperty("gap","0.5rem"),G.style.setProperty("font-size","1rem"),t(G,()=>h().childCredit.eligibility.hasQualifyingChildren?"✓":"✗"),le.style.setProperty("font-size","0.875rem"),le.style.setProperty("color","var(--text-primary)"),t(le,()=>h().childCredit.qualifyingChildren,null),t(St,i(u,{get when(){return h().childCredit.eligibility.nonQualifyingReason},get children(){var be=rl();return be.style.setProperty("margin-top","0.375rem"),be.style.setProperty("margin-left","1.5rem"),be.style.setProperty("font-size","0.8125rem"),be.style.setProperty("color","#f59e0b"),t(be,()=>h().childCredit.eligibility.nonQualifyingReason),be}}),null),ye.style.setProperty("display","flex"),ye.style.setProperty("justify-content","space-between"),ye.style.setProperty("align-items","center"),ye.style.setProperty("padding","0.75rem 0"),ye.style.setProperty("border-bottom","1px solid var(--border-color)"),it.style.setProperty("display","flex"),it.style.setProperty("align-items","center"),it.style.setProperty("gap","0.5rem"),ft.style.setProperty("font-size","1rem"),t(ft,()=>h().childCredit.creditAmount>0?"✓":"✗"),ot.style.setProperty("font-size","0.9375rem"),ot.style.setProperty("font-weight","600"),ot.style.setProperty("color","var(--text-primary)"),Ct.style.setProperty("font-size","0.8125rem"),Ct.style.setProperty("color","var(--text-secondary)"),Ct.style.setProperty("margin-top","0.25rem"),Ct.style.setProperty("margin-left","1.5rem"),t(Ct,(()=>{var be=ct(()=>h().childCredit.qualifyingChildren>0);return()=>be()?`${h().childCredit.qualifyingChildren} child${h().childCredit.qualifyingChildren!==1?"ren":""} x $2,000 = $${(h().childCredit.qualifyingChildren*2e3).toLocaleString()}`:"No qualifying children — credit does not apply"})()),bt.style.setProperty("font-weight","700"),bt.style.setProperty("font-size","1.125rem"),t(bt,()=>h().childCredit.creditAmount.toLocaleString(),null),t(b,i(u,{get when(){return h().childCredit.isPhasedOut},get children(){var be=oy(),Qe=be.firstChild,yt=Qe.nextSibling;return yt.nextSibling,be.style.setProperty("padding","0.375rem 0 0.375rem 2rem"),be.style.setProperty("font-size","0.8125rem"),be.style.setProperty("color","#f59e0b"),t(be,()=>h().childCredit.phaseOutReduction.toLocaleString(),yt),be}}),Ke),Ke.style.setProperty("padding","0.75rem 0"),Ke.style.setProperty("border-bottom","1px solid var(--border-color)"),xt.style.setProperty("display","flex"),xt.style.setProperty("align-items","center"),xt.style.setProperty("gap","0.5rem"),xt.style.setProperty("margin-bottom","0.375rem"),I.style.setProperty("font-size","1rem"),t(I,()=>h().eic.eligibility.hasEarnedIncome?"✓":"✗"),X.style.setProperty("font-size","0.875rem"),X.style.setProperty("color","var(--text-primary)"),t(X,()=>h().eic.eligibility.earnedIncome.toLocaleString(),null),J.style.setProperty("display","flex"),J.style.setProperty("align-items","center"),J.style.setProperty("gap","0.5rem"),de.style.setProperty("font-size","1rem"),t(de,()=>h().eic.eligibility.isWithinLimit?"✓":"✗"),we.style.setProperty("font-size","0.875rem"),we.style.setProperty("color","var(--text-primary)"),t(we,()=>h().eic.eligibility.incomeLimit.toLocaleString(),null),t(Ke,i(u,{get when(){return h().eic.eligibility.reason},get children(){var be=rl();return be.style.setProperty("margin-top","0.375rem"),be.style.setProperty("margin-left","1.5rem"),be.style.setProperty("font-size","0.8125rem"),be.style.setProperty("color","#f59e0b"),t(be,()=>h().eic.eligibility.reason),be}}),null),W.style.setProperty("display","flex"),W.style.setProperty("justify-content","space-between"),W.style.setProperty("align-items","center"),W.style.setProperty("padding","0.75rem 0"),W.style.setProperty("border-bottom","1px solid var(--border-color)"),F.style.setProperty("display","flex"),F.style.setProperty("align-items","center"),F.style.setProperty("gap","0.5rem"),V.style.setProperty("font-size","1rem"),t(V,()=>h().eic.creditAmount>0?"✓":"✗"),Oe.style.setProperty("font-size","0.9375rem"),Oe.style.setProperty("font-weight","600"),Oe.style.setProperty("color","var(--text-primary)"),Ee.style.setProperty("font-size","0.8125rem"),Ee.style.setProperty("color","var(--text-secondary)"),Ee.style.setProperty("margin-top","0.25rem"),Ee.style.setProperty("margin-left","1.5rem"),t(Ee,(()=>{var be=ct(()=>h().eic.creditAmount>0);return()=>be()?`${h().eic.qualifyingChildren} qualifying child${h().eic.qualifyingChildren!==1?"ren":""} bracket`:h().eic.eligibility.reason||"Does not qualify"})()),g.style.setProperty("font-weight","700"),g.style.setProperty("font-size","1.125rem"),t(g,()=>h().eic.creditAmount.toLocaleString(),null),k.style.setProperty("display","flex"),k.style.setProperty("justify-content","space-between"),k.style.setProperty("align-items","center"),k.style.setProperty("padding","0.75rem 0"),k.style.setProperty("border-top","2px solid var(--border-color)"),k.style.setProperty("margin-top","0.5rem"),De.style.setProperty("font-weight","700"),De.style.setProperty("font-size","0.9375rem"),De.style.setProperty("color","var(--text-primary)"),Ze.style.setProperty("font-weight","700"),Ze.style.setProperty("font-size","1.25rem"),Ze.style.setProperty("color","#06b6d4"),t(Ze,()=>(h().childCredit.creditAmount+h().eic.creditAmount).toLocaleString(),null),v(be=>{var Qe=h().childCredit.eligibility.hasDependents?"#22c55e":"#ef4444",yt=h().childCredit.eligibility.hasQualifyingChildren?"#22c55e":"#ef4444",_=h().childCredit.creditAmount>0?"#22c55e":"#ef4444",rt=h().childCredit.creditAmount>0?"#22c55e":"var(--text-muted)",Pe=h().eic.eligibility.hasEarnedIncome?"#22c55e":"#ef4444",He=h().eic.eligibility.isWithinLimit?"#22c55e":"#ef4444",Ne=h().eic.creditAmount>0?"#22c55e":"#ef4444",vt=h().eic.creditAmount>0?"#22c55e":"var(--text-muted)";return Qe!==be.e&&((be.e=Qe)!=null?_t.style.setProperty("color",Qe):_t.style.removeProperty("color")),yt!==be.t&&((be.t=yt)!=null?G.style.setProperty("color",yt):G.style.removeProperty("color")),_!==be.a&&((be.a=_)!=null?ft.style.setProperty("color",_):ft.style.removeProperty("color")),rt!==be.o&&((be.o=rt)!=null?bt.style.setProperty("color",rt):bt.style.removeProperty("color")),Pe!==be.i&&((be.i=Pe)!=null?I.style.setProperty("color",Pe):I.style.removeProperty("color")),He!==be.n&&((be.n=He)!=null?de.style.setProperty("color",He):de.style.removeProperty("color")),Ne!==be.s&&((be.s=Ne)!=null?V.style.setProperty("color",Ne):V.style.removeProperty("color")),vt!==be.h&&((be.h=vt)!=null?g.style.setProperty("color",vt):g.style.removeProperty("color")),be},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),b}}),i(Yd,{get data(){return se().taxCredits},onChange:b=>Z({taxCredits:b})})]}}),null),t(Re,i(u,{get when(){return C()==="other"},get children(){return i(ly,{get data(){return se().otherIncome},onChange:b=>Z({otherIncome:b})})}}),null),v(b=>{var Ue=O,Me=ae,fe=S(),nt=f(),St=!R()||e.isSaving,ut=et;return b.e=r($e,Ue,b.e),b.t=r(pt,Me,b.t),b.a=r(Ge,fe,b.a),b.o=r(je,nt,b.o),St!==b.i&&(je.disabled=b.i=St),b.n=r(Re,ut,b.n),b},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),$e})()};ar(["click"]);var py=a(`<style>
        @media print {
          body * {
            visibility: hidden;
          }
          .drake-print-view,
          .drake-print-view * {
            visibility: visible !important;
          }
          .drake-print-view {
            position: absolute !important;
            left: 0 !important;
            top: 0 !important;
            transform: none !important;
            width: 100% !important;
            max-width: 100% !important;
            max-height: none !important;
            overflow: visible !important;
            background: white !important;
            border-radius: 0 !important;
          }
          .no-print {
            display: none !important;
            visibility: hidden !important;
          }
          .modal-overlay {
            display: none !important;
          }
          .qr-section {
            page-break-inside: avoid;
          }
          .qr-grid {
            display: grid !important;
            grid-template-columns: repeat(3, 1fr) !important;
            gap: 20px !important;
          }
          .qr-item {
            page-break-inside: avoid;
          }
        }
      `),uy=a('<div class="no-print modal-overlay">'),my=a("<div>Generating QR codes..."),gy=a("<div><h1>Drake Tax QR Codes</h1><p> <!> - Tax Year "),fy=a("<div class=qr-section><h2>Section 1: Taxpayer Information</h2><div class=qr-grid>"),vy=a("<div class=qr-section><h2>Section 2: Dependents (<!>)</h2><div class=qr-grid>"),hy=a("<div class=qr-section><h2>Section 3: Tax Documents (<!>)</h2><div class=qr-grid>"),by=a("<div>No QR codes to display. Add taxpayer info, dependents, or documents first."),xy=a("<div><strong>Summary:</strong> <!> taxpayer, <!> dependent(s), <!> document(s)"),Py=a("<div class=drake-print-view><div class=no-print><span>QR Codes - <!> </span><div><button>Print</button><button>x</button></div></div><div>"),In=a("<div>"),Nn=a("<div class=qr-item><img><div>");const $y=e=>{const[C,y]=Xe([]),[R,M]=Xe(!1),h=ne=>ne.replace(/\|/g,"	").toUpperCase(),me=()=>{const ne=e.client,T=[fr(ne.ssn||""),"|",fr(ne.ssn||""),"|",ne.firstName,"|",ne.lastName,"|","|"].join("");return h(T)},se=()=>{const T=[e.client.firstName+(e.client.middleName?" "+e.client.middleName+" ":" ")+e.client.lastName||"","|"].join("");return h(T)},D=()=>{const ne=e.client,T=[ne.firstName,"|",ne.middleName||"","|",ne.lastName,"|","|",fr(ne.ssn||""),"|","|",Qt(ne.dateOfBirth)||"","|",ne.occupation||"","|","|",ne.phone?ne.phone:"","|","|","|"].join("");return h(T)},Z=()=>{const ne=e.client,T=[ne.spouse?.firstName,"|",ne.spouse?.middleName||"","|",ne.spouse?.lastName,"|","|",fr(ne?.spouse?.ssn),"|","|",Qt(ne.spouse?.dateOfBirth)||"","|",ne.spouse?.occupation||"","|","|",ne.spouse?.phone,"|"].join("");return h(T)},K=()=>{const ne=e.client,T=[ne.address||"","|","|","|",ne.zipCode||""].join("");return h(T)},n=ne=>{const T=[ne.firstName,"|",ne.middleName||"","|",ne.lastName,"|","|",fr(ne.ssn||""),"|","|","|","|",ne.relationship||"","|",ne.monthsLivedWithYou?.toString()||"12","|",Qt(ne.dateOfBirth)||"","|","|","|"].filter(Boolean).join("");return h(T)},Q=ne=>{const T=ne.payerInfo,S=ne.extractedAmounts;switch(ne.drakeFormType){case"w2":{const ce=[T?.ein?.replace(/\D/g,"")||"","|",T?.name||"","|",T?.address||"","|",(T?.city||"")+" "+(T?.state||""),"|",T?.zip||"","|","|","|","|","|",S?.wages?.toString()||"","|",S?.wages?.toString()||"","|",S?.federalTaxWithheld?.toString()||"","|",S?.federalTaxWithheld?.toString()||"","|"].join("");return h(ce)}case"1099_nec":{const ce=[T?.ein?.replace(/\D/g,"")||"","|",T?.name||"","|",T?.address||"","|",(T?.city||"")+" "+(T?.state||""),"|",T?.zip||"","|","|",S?.nonEmployeeCompensation?.toString()||"","|",S?.nonEmployeeCompensation?.toString()||"","|",S?.federalTaxWithheld1099?.toString()||"","|"].join("");return h(ce)}case"1099_misc":{const ce=[T?.ein?.replace(/\D/g,"")||"","|",T?.name||"","|",T?.address||"","|",(T?.city||"")+" "+(T?.state||""),"|",T?.zip||"","|","|",S?.rents?.toString()||"","|",S?.royalties?.toString()||"","|",S?.otherIncome?.toString()||"","|",S?.federalTaxWithheld1099?.toString()||"","|"].join("");return h(ce)}case"1099_int":{const ce=[T?.ein?.replace(/\D/g,"")||"","|",T?.name||"","|",T?.address||"","|",(T?.city||"")+" "+(T?.state||""),"|",T?.zip||"","|","|",S?.interestIncome?.toString()||"","|",S?.interestIncome?.toString()||"","|"].join("");return h(ce)}case"1099_div":{const ce=[T?.ein?.replace(/\D/g,"")||"","|",T?.name||"","|",T?.address||"","|",(T?.city||"")+" "+(T?.state||""),"|",T?.zip||"","|","|",S?.ordinaryDividends?.toString()||"","|",S?.qualifiedDividends?.toString()||"","|",S?.capitalGainDistributions?.toString()||"","|"].join("");return h(ce)}case"1098":{const ce=[T?.ein?.replace(/\D/g,"")||"","|",T?.name||"","|",T?.address||"","|",(T?.city||"")+" "+(T?.state||""),"|",T?.zip||"","|","|",S?.mortgageInterest?.toString()||"","|",S?.outstandingPrincipal?.toString()||"","|",S?.pointsPaid?.toString()||"","|"].join("");return h(ce)}case"1098_t":{const ce=[T?.ein?.replace(/\D/g,"")||"","|",T?.name||"","|",T?.address||"","|",(T?.city||"")+" "+(T?.state||""),"|",T?.zip||"","|","|",S?.paymentsReceived?.toString()||"","|",S?.scholarshipsGrants?.toString()||"","|"].join("");return h(ce)}default:{const ce=[T?.ein?.replace(/\D/g,"")||"","|",T?.name||"","|",T?.address||"","|",(T?.city||"")+" "+(T?.state||""),"|",T?.zip||"","|","|",S?.totalAmount?.toString()||"","|"].join("");return h(ce)}}},xe=ne=>({w2:"W-2","1099_nec":"1099-NEC","1099_misc":"1099-MISC","1099_int":"1099-INT","1099_div":"1099-DIV",1098:"1098","1098_t":"1098-T",schedule_k1:"Schedule K-1",receipt:"Receipt",other:"Document"})[ne.drakeFormType||"other"]||"Document",N=async()=>{M(!0);const ne=[];try{const T=me(),S=await zr.toDataURL(T,{width:140,margin:2,errorCorrectionLevel:"M",color:{dark:"#000000",light:"#ffffff"}});ne.push({label:"Taxpayer Init",sublabel:`SS, ${e.client.firstName},  ${e.client.lastName}`,dataUrl:S,section:"taxpayer"});const ce=se(),f=await zr.toDataURL(ce,{width:140,margin:2,errorCorrectionLevel:"M",color:{dark:"#000000",light:"#ffffff"}});ne.push({label:"Taxpayer Full Name",sublabel:`${e.client.firstName} ${e.client.lastName}`,dataUrl:f,section:"taxpayer"});const et=D(),$e=await zr.toDataURL(et,{width:140,margin:2,errorCorrectionLevel:"M",color:{dark:"#000000",light:"#ffffff"}});if(ne.push({label:"Taxpayer Info session",sublabel:`${e.client.firstName} ${e.client.lastName}`,dataUrl:$e,section:"taxpayer"}),e.client.filingStatus==="married_filing_jointly"){const oe=Z(),H=await zr.toDataURL(oe,{width:140,margin:2,errorCorrectionLevel:"M",color:{dark:"#000000",light:"#ffffff"}});ne.push({label:"Spouse session",sublabel:`${e.client?.spouse?.firstName} ${e.client.spouse?.lastName}`,dataUrl:H,section:"taxpayer"})}const Ye=K(),pt=await zr.toDataURL(Ye,{width:140,margin:2,errorCorrectionLevel:"M",color:{dark:"#000000",light:"#ffffff"}});ne.push({label:"Taxpayer Address session",sublabel:`${e.client.address}, ${e.client.zipCode}`,dataUrl:pt,section:"taxpayer"});for(const oe of e.dependents){const H=n(oe),Ge=await zr.toDataURL(H,{width:140,margin:2,errorCorrectionLevel:"M",color:{dark:"#000000",light:"#ffffff"}});ne.push({label:"Dependent",sublabel:`${oe.firstName} ${oe.lastName}`,dataUrl:Ge,section:"dependent"})}for(const oe of e.documents){const H=Q(oe),Ge=await zr.toDataURL(H,{width:140,margin:2,errorCorrectionLevel:"M",color:{dark:"#000000",light:"#ffffff"}});ne.push({label:xe(oe),sublabel:oe.payerInfo?.name||oe.originalFileName,dataUrl:Ge,section:"document"})}y(ne)}catch(T){$t("QR generation error:",T)}M(!1)};pn(An(()=>e.isOpen,ne=>{ne&&(y([]),N())}));const O=()=>{window.print()},m=()=>C().filter(ne=>ne.section==="taxpayer"),ae=()=>C().filter(ne=>ne.section==="dependent"),s=()=>C().filter(ne=>ne.section==="document");return i(u,{get when(){return e.isOpen},get children(){return[py(),(()=>{var ne=uy();return cn(ne,"click",e.onClose,!0),ne.style.setProperty("position","fixed"),ne.style.setProperty("inset","0"),ne.style.setProperty("background","rgba(0,0,0,0.5)"),ne.style.setProperty("z-index","9998"),ne})(),(()=>{var ne=Py(),T=ne.firstChild,S=T.firstChild,ce=S.firstChild,f=ce.nextSibling;f.nextSibling;var et=S.nextSibling,$e=et.firstChild,Ye=$e.nextSibling,pt=T.nextSibling;return ne.style.setProperty("position","fixed"),ne.style.setProperty("top","50%"),ne.style.setProperty("left","50%"),ne.style.setProperty("transform","translate(-50%, -50%)"),ne.style.setProperty("background","white"),ne.style.setProperty("border-radius","12px"),ne.style.setProperty("width","90vw"),ne.style.setProperty("max-width","90vw"),ne.style.setProperty("max-height","90vh"),ne.style.setProperty("overflow","auto"),ne.style.setProperty("z-index","9999"),T.style.setProperty("padding","1rem 1.5rem"),T.style.setProperty("background","#1e3a5f"),T.style.setProperty("color","white"),T.style.setProperty("display","flex"),T.style.setProperty("justify-content","space-between"),T.style.setProperty("align-items","center"),T.style.setProperty("position","sticky"),T.style.setProperty("top","0"),T.style.setProperty("z-index","10"),S.style.setProperty("font-weight","600"),S.style.setProperty("font-size","1.125rem"),t(S,()=>e.client.firstName,f),t(S,()=>e.client.lastName,null),et.style.setProperty("display","flex"),et.style.setProperty("gap","0.75rem"),$e.$$click=O,$e.style.setProperty("padding","0.5rem 1rem"),$e.style.setProperty("background","#3b82f6"),$e.style.setProperty("color","white"),$e.style.setProperty("border","none"),$e.style.setProperty("border-radius","6px"),$e.style.setProperty("cursor","pointer"),$e.style.setProperty("font-weight","500"),cn(Ye,"click",e.onClose,!0),Ye.style.setProperty("background","none"),Ye.style.setProperty("border","none"),Ye.style.setProperty("color","white"),Ye.style.setProperty("cursor","pointer"),Ye.style.setProperty("font-size","1.5rem"),Ye.style.setProperty("line-height","1"),pt.style.setProperty("padding","1.5rem"),t(pt,i(u,{get when(){return R()},get children(){var oe=my();return oe.style.setProperty("text-align","center"),oe.style.setProperty("padding","3rem"),oe.style.setProperty("color","#666"),oe}}),null),t(pt,i(u,{get when(){return!R()},get children(){return[(()=>{var oe=gy(),H=oe.firstChild,Ge=H.nextSibling,Se=Ge.firstChild,Je=Se.nextSibling;return Je.nextSibling,oe.style.setProperty("text-align","center"),oe.style.setProperty("margin-bottom","1.5rem"),H.style.setProperty("margin","0"),H.style.setProperty("font-size","1.5rem"),H.style.setProperty("color","#1e3a5f"),Ge.style.setProperty("margin","0.5rem 0 0"),Ge.style.setProperty("color","#666"),t(Ge,()=>e.client.firstName,Se),t(Ge,()=>e.client.lastName,Je),t(Ge,()=>e.client.taxYear||new Date().getFullYear(),null),oe})(),i(u,{get when(){return m().length>0},get children(){var oe=fy(),H=oe.firstChild,Ge=H.nextSibling;return oe.style.setProperty("margin-bottom","2rem"),H.style.setProperty("font-size","1rem"),H.style.setProperty("font-weight","600"),H.style.setProperty("color","#374151"),H.style.setProperty("border-bottom","2px solid #e5e7eb"),H.style.setProperty("padding-bottom","0.5rem"),H.style.setProperty("margin-bottom","1rem"),Ge.style.setProperty("display","grid"),Ge.style.setProperty("grid-template-columns","repeat(auto-fill, minmax(160px, 1fr))"),Ge.style.setProperty("gap","1.5rem"),t(Ge,i(zt,{get each(){return m()},children:Se=>(()=>{var Je=Nn(),je=Je.firstChild,Re=je.nextSibling;return Je.style.setProperty("text-align","center"),Je.style.setProperty("padding","1rem"),Je.style.setProperty("border","1px solid #e5e7eb"),Je.style.setProperty("border-radius","8px"),Je.style.setProperty("background","#fafafa"),je.style.setProperty("width","140px"),je.style.setProperty("height","140px"),Re.style.setProperty("margin-top","0.75rem"),Re.style.setProperty("font-weight","600"),Re.style.setProperty("font-size","0.875rem"),Re.style.setProperty("color","#1e3a5f"),t(Re,()=>Se.label),t(Je,i(u,{get when(){return Se.sublabel},get children(){var b=In();return b.style.setProperty("font-size","0.75rem"),b.style.setProperty("color","#6b7280"),b.style.setProperty("margin-top","0.25rem"),t(b,()=>Se.sublabel),b}}),null),v(b=>{var Ue=Se.dataUrl,Me=Se.label;return Ue!==b.e&&or(je,"src",b.e=Ue),Me!==b.t&&or(je,"alt",b.t=Me),b},{e:void 0,t:void 0}),Je})()})),oe}}),i(u,{get when(){return ae().length>0},get children(){var oe=vy(),H=oe.firstChild,Ge=H.firstChild,Se=Ge.nextSibling;Se.nextSibling;var Je=H.nextSibling;return oe.style.setProperty("margin-bottom","2rem"),H.style.setProperty("font-size","1rem"),H.style.setProperty("font-weight","600"),H.style.setProperty("color","#374151"),H.style.setProperty("border-bottom","2px solid #e5e7eb"),H.style.setProperty("padding-bottom","0.5rem"),H.style.setProperty("margin-bottom","1rem"),t(H,()=>ae().length,Se),Je.style.setProperty("display","grid"),Je.style.setProperty("grid-template-columns","repeat(auto-fill, minmax(160px, 1fr))"),Je.style.setProperty("gap","1.5rem"),t(Je,i(zt,{get each(){return ae()},children:je=>(()=>{var Re=Nn(),b=Re.firstChild,Ue=b.nextSibling;return Re.style.setProperty("text-align","center"),Re.style.setProperty("padding","1rem"),Re.style.setProperty("border","1px solid #e5e7eb"),Re.style.setProperty("border-radius","8px"),Re.style.setProperty("background","#fafafa"),b.style.setProperty("width","140px"),b.style.setProperty("height","140px"),Ue.style.setProperty("margin-top","0.75rem"),Ue.style.setProperty("font-weight","600"),Ue.style.setProperty("font-size","0.875rem"),Ue.style.setProperty("color","#1e3a5f"),t(Ue,()=>je.label),t(Re,i(u,{get when(){return je.sublabel},get children(){var Me=In();return Me.style.setProperty("font-size","0.75rem"),Me.style.setProperty("color","#6b7280"),Me.style.setProperty("margin-top","0.25rem"),t(Me,()=>je.sublabel),Me}}),null),v(Me=>{var fe=je.dataUrl,nt=je.label;return fe!==Me.e&&or(b,"src",Me.e=fe),nt!==Me.t&&or(b,"alt",Me.t=nt),Me},{e:void 0,t:void 0}),Re})()})),oe}}),i(u,{get when(){return s().length>0},get children(){var oe=hy(),H=oe.firstChild,Ge=H.firstChild,Se=Ge.nextSibling;Se.nextSibling;var Je=H.nextSibling;return oe.style.setProperty("margin-bottom","2rem"),H.style.setProperty("font-size","1rem"),H.style.setProperty("font-weight","600"),H.style.setProperty("color","#374151"),H.style.setProperty("border-bottom","2px solid #e5e7eb"),H.style.setProperty("padding-bottom","0.5rem"),H.style.setProperty("margin-bottom","1rem"),t(H,()=>s().length,Se),Je.style.setProperty("display","grid"),Je.style.setProperty("grid-template-columns","repeat(auto-fill, minmax(160px, 1fr))"),Je.style.setProperty("gap","1.5rem"),t(Je,i(zt,{get each(){return s()},children:je=>(()=>{var Re=Nn(),b=Re.firstChild,Ue=b.nextSibling;return Re.style.setProperty("text-align","center"),Re.style.setProperty("padding","1rem"),Re.style.setProperty("border","1px solid #e5e7eb"),Re.style.setProperty("border-radius","8px"),Re.style.setProperty("background","#fafafa"),b.style.setProperty("width","140px"),b.style.setProperty("height","140px"),Ue.style.setProperty("margin-top","0.75rem"),Ue.style.setProperty("font-weight","600"),Ue.style.setProperty("font-size","0.875rem"),Ue.style.setProperty("color","#1e3a5f"),t(Ue,()=>je.label),t(Re,i(u,{get when(){return je.sublabel},get children(){var Me=In();return Me.style.setProperty("font-size","0.75rem"),Me.style.setProperty("color","#6b7280"),Me.style.setProperty("margin-top","0.25rem"),Me.style.setProperty("max-width","180px"),Me.style.setProperty("overflow","hidden"),Me.style.setProperty("text-overflow","ellipsis"),Me.style.setProperty("white-space","nowrap"),Me.style.setProperty("margin","0.25rem auto 0"),t(Me,()=>je.sublabel),Me}}),null),v(Me=>{var fe=je.dataUrl,nt=je.label;return fe!==Me.e&&or(b,"src",Me.e=fe),nt!==Me.t&&or(b,"alt",Me.t=nt),Me},{e:void 0,t:void 0}),Re})()})),oe}}),i(u,{get when(){return ct(()=>C().length===0)()&&!R()},get children(){var oe=by();return oe.style.setProperty("text-align","center"),oe.style.setProperty("padding","3rem"),oe.style.setProperty("color","#666"),oe}}),i(u,{get when(){return C().length>0},get children(){var oe=xy(),H=oe.firstChild,Ge=H.nextSibling,Se=Ge.nextSibling,Je=Se.nextSibling,je=Je.nextSibling,Re=je.nextSibling,b=Re.nextSibling;return b.nextSibling,oe.style.setProperty("margin-top","2rem"),oe.style.setProperty("padding","1rem"),oe.style.setProperty("background","#f8fafc"),oe.style.setProperty("border-radius","8px"),oe.style.setProperty("font-size","0.875rem"),oe.style.setProperty("color","#64748b"),t(oe,()=>m().length,Se),t(oe,()=>ae().length,je),t(oe,()=>s().length,b),oe}})]}}),null),ne})()]}})};ar(["click"]);var Sy=a("<div>"),wy=a(`<div><div><button><svg width=20 height=20 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2><path d="M19 12H5M12 19l-7-7 7-7"></path></svg>Back</button><div><h1> <span>Tax Year </span></h1><div></div></div><button><svg width=18 height=18 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2><path d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"></path></svg>Print QR Codes</button></div><div></div><style>
        @keyframes slideDown {
          from {
            opacity: 0;
            transform: translateY(-10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
      `),Cy=a("<div><div><div>"),_y=a("<div><div>Loading client workspace..."),nl=a("<span>"),ky=a("<span> | "),Ty=a('<div><div><svg width=32 height=32 viewBox="0 0 24 24"fill=none stroke-width=2 stroke-linecap=round stroke-linejoin=round><path></path></svg></div><h3></h3><div>');const Ey=()=>{const e=yl(),C=cl(),[y,R]=Xe(null),[M,h]=Xe([]),[me,se]=Xe([]),[D,Z]=Xe(!0),[K,n]=Xe(null),[Q,xe]=Xe(null),[N,O]=Xe(0),[m,ae]=Xe(!1),[s,ne]=Xe({}),[T,S]=Xe(!1),ce=new Date().getFullYear(),[f,et]=Xe(ce),$e=async ye=>{Z(!0),n(null);try{$t("Loading client data for ID:",ye);const[_e,it,ft]=await Promise.all([ml(ye),xl(ye),gl(ye)]);if(!_e){n("Client not found"),Z(!1);return}$t(it),R(_e),h(it||[]),se(ft||[]),_e.taxYear&&(et(_e.taxYear),$t("Using client tax year:",_e.taxYear));const ot=(it||[]).filter(Ct=>!Ct.verified&&Ct.uploadStatus!=="error").length;O(ot)}catch(_e){$t("Error loading client data:",_e),n("Failed to load client data")}finally{Z(!1)}};pl(()=>{const ye=e.id;if(!ye){n("No client ID provided"),Z(!1);return}$e(ye)});const Ye=ye=>{Q()===ye?xe(null):xe(ye)},pt=()=>{C("/tax-clients")},oe=ye=>{R(_e=>_e?{..._e,...ye}:null),ne(_e=>({..._e,...ye}))},H=async()=>{const ye=y();if(ye){ae(!0);try{await fl(ye.id,s()),ne({})}finally{ae(!1)}}},Se=[{id:"info",title:"INFO",icon:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",color:"#ec4899",getLabel:()=>"Client Details"},{id:"status",title:"STATUS",icon:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",color:"#22c55e",getLabel:()=>{const ye=y();if(!ye)return"Track Progress";const _e=ye.workflowStatus||"intake",it=ye.paymentStatus||"pending";return it==="paid"?"Paid":it==="partial"?"Partial Pay":_e.replace(/_/g," ").replace(/\b\w/g,ft=>ft.toUpperCase())}},{id:"docs",title:"DOCS",icon:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",color:"#3b82f6",getLabel:()=>`${M().length} files`},{id:"tasks",title:"TASKS",icon:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4",color:"#f59e0b",getLabel:()=>`${N()} pending`},{id:"tax",title:"TAX",icon:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z",color:"#8b5cf6",getLabel:()=>"Prepare"},{id:"strategy",title:"STRATEGY",icon:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01",color:"#06b6d4",getLabel:()=>"Checklist"}],Je={padding:"1.5rem","max-width":"1400px",margin:"0 auto","min-height":"100vh"},je={display:"flex","align-items":"center",gap:"1rem","margin-bottom":"2rem"},Re={background:"var(--surface-color)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-md)",padding:"0.5rem 1rem",cursor:"pointer",display:"flex","align-items":"center",gap:"0.5rem",color:"var(--text-primary)",transition:"all 0.2s"},b={flex:1},Ue={"font-size":"1.75rem","font-weight":"700",margin:0,color:"var(--text-primary)"},Me={display:"inline-block",background:"var(--primary-color)",color:"white",padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.875rem","font-weight":"600","margin-left":"0.75rem"},fe={color:"var(--text-muted)","font-size":"0.875rem","margin-top":"0.25rem"},nt={display:"grid","grid-template-columns":"repeat(6, 1fr)",gap:"1.25rem","margin-bottom":"2rem"},St=(ye,_e)=>({background:_e?ye.color:"var(--surface-color)",border:`2px solid ${_e?ye.color:"var(--border-color)"}`,"border-radius":"var(--border-radius-lg)",padding:"2rem",cursor:"pointer",transition:"all 0.2s ease","text-align":"center",transform:_e?"translateY(-4px)":"none","box-shadow":_e?`0 8px 25px ${ye.color}40`:"0 2px 8px rgba(0,0,0,0.05)"}),ut=(ye,_e)=>({width:"64px",height:"64px","border-radius":"50%",background:_e?"rgba(255,255,255,0.2)":`${ye}15`,display:"flex","align-items":"center","justify-content":"center",margin:"0 auto 1rem auto"}),_t=ye=>({"font-size":"1.25rem","font-weight":"700",margin:"0 0 0.5rem 0",color:ye?"white":"var(--text-primary)"}),Et=ye=>({"font-size":"0.875rem",color:ye?"rgba(255,255,255,0.8)":"var(--text-muted)"}),Bt={background:"var(--surface-color)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-lg)",padding:"1.5rem","margin-top":"0.5rem",animation:"slideDown 0.2s ease-out"},G={display:"flex","align-items":"center","justify-content":"center","min-height":"400px","font-size":"1.25rem",color:"var(--text-muted)"},le={display:"flex","flex-direction":"column","align-items":"center","justify-content":"center","min-height":"400px",gap:"1rem"};return i(u,{get when(){return!K()},get fallback(){return(()=>{var ye=Cy(),_e=ye.firstChild,it=_e.firstChild;return it.style.setProperty("font-size","1.25rem"),it.style.setProperty("color","var(--error-color)"),t(it,K),t(_e,i(_r,{onClick:pt,children:"Back to Tax Portal"}),null),v(ft=>{var ot=Je,Ct=le;return ft.e=r(ye,ot,ft.e),ft.t=r(_e,Ct,ft.t),ft},{e:void 0,t:void 0}),ye})()},get children(){return i(u,{get when(){return!D()},get fallback(){return(()=>{var ye=_y(),_e=ye.firstChild;return r(_e,G),v(it=>r(ye,Je,it)),ye})()},get children(){var ye=wy(),_e=ye.firstChild,it=_e.firstChild,ft=it.nextSibling,ot=ft.firstChild,Ct=ot.firstChild,bt=Ct.nextSibling;bt.firstChild;var Ke=ot.nextSibling,xt=ft.nextSibling,I=_e.nextSibling,X=I.nextSibling;return r(_e,je),it.$$mouseout=J=>{J.currentTarget.style.background="var(--surface-color)"},it.$$mouseover=J=>{J.currentTarget.style.background="var(--hover-color)"},it.$$click=pt,r(it,Re),r(ft,b),r(ot,Ue),t(ot,()=>y()?.firstName,Ct),t(ot,()=>y()?.lastName,bt),r(bt,Me),t(bt,f,null),r(Ke,fe),t(Ke,(()=>{var J=ct(()=>!!y()?.email);return()=>J()&&(()=>{var de=nl();return t(de,()=>y()?.email),de})()})(),null),t(Ke,(()=>{var J=ct(()=>!!(y()?.email&&y()?.phone));return()=>J()&&ky()})(),null),t(Ke,(()=>{var J=ct(()=>!!y()?.phone);return()=>J()&&(()=>{var de=nl();return t(de,()=>y()?.phone),de})()})(),null),xt.$$mouseout=J=>{J.currentTarget.style.background="#8b5cf6"},xt.$$mouseover=J=>{J.currentTarget.style.background="#7c3aed"},xt.$$click=()=>S(!0),xt.style.setProperty("background","#8b5cf6"),xt.style.setProperty("color","white"),xt.style.setProperty("border","none"),xt.style.setProperty("border-radius","var(--border-radius-md)"),xt.style.setProperty("padding","0.75rem 1.25rem"),xt.style.setProperty("cursor","pointer"),xt.style.setProperty("display","flex"),xt.style.setProperty("align-items","center"),xt.style.setProperty("gap","0.5rem"),xt.style.setProperty("font-weight","600"),xt.style.setProperty("font-size","0.875rem"),xt.style.setProperty("transition","all 0.2s"),r(I,nt),t(I,()=>Se.map(J=>{const de=Q()===J.id;return(()=>{var we=Ty(),W=we.firstChild,Ie=W.firstChild,F=Ie.firstChild,V=W.nextSibling,Oe=V.nextSibling;return we.$$mouseout=Ee=>{de||(Ee.currentTarget.style.borderColor="var(--border-color)",Ee.currentTarget.style.transform="none",Ee.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.05)")},we.$$mouseover=Ee=>{de||(Ee.currentTarget.style.borderColor=J.color,Ee.currentTarget.style.transform="translateY(-2px)",Ee.currentTarget.style.boxShadow=`0 4px 15px ${J.color}20`)},we.$$click=()=>Ye(J.id),t(V,()=>J.title),t(Oe,()=>J.getLabel()),v(Ee=>{var g=St(J,de),k=ut(J.color,de),De=de?"white":J.color,Ze=J.icon,be=_t(de),Qe=Et(de);return Ee.e=r(we,g,Ee.e),Ee.t=r(W,k,Ee.t),De!==Ee.a&&or(Ie,"stroke",Ee.a=De),Ze!==Ee.o&&or(F,"d",Ee.o=Ze),Ee.i=r(V,be,Ee.i),Ee.n=r(Oe,Qe,Ee.n),Ee},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),we})()})),t(ye,i(u,{get when(){return Q()},get children(){var J=Sy();return r(J,Bt),t(J,i(u,{get when(){return Q()==="info"},get children(){return i(Yi,{get client(){return y()},onClientChange:oe,onSave:H,get isSaving(){return m()}})}}),null),t(J,i(u,{get when(){return Q()==="status"},get children(){return i(ed,{get client(){return y()},onClientChange:oe,onSave:H,get isSaving(){return m()}})}}),null),t(J,i(u,{get when(){return Q()==="docs"},get children(){return i(Vs,{get client(){return y()},get taxPortal(){return y()},get documents(){return M()},get taxYear(){return f()},onDocumentsChange:h})}}),null),t(J,i(u,{get when(){return Q()==="tasks"},get children(){return i(Po,{get client(){return y()},get taxPortal(){return y()},get documents(){return M()},get documentRequests(){return me()},onTasksChange:de=>O(de)})}}),null),t(J,i(u,{get when(){return Q()==="tax"},get children(){return i(Oa,{get client(){return y()},get documents(){return M()},get taxYear(){return f()}})}}),null),t(J,i(u,{get when(){return Q()==="strategy"},get children(){return i(cy,{get client(){return y()},get documents(){return M()},onClientChange:oe,onSave:H,get isSaving(){return m()}})}}),null),J}}),X),t(ye,i($y,{get client(){return y()},get documents(){return M()},get dependents(){return y()?.dependents||[]},get isOpen(){return T()},onClose:()=>S(!1)}),null),v(J=>r(ye,Je,J)),ye}})}})};ar(["click","mouseover","mouseout"]);export{Ey as default};
