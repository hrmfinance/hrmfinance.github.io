import{aa as qi,c as A,D as Ai,e as fe,t as E,j as i,i as e,a as _,b as m,S as w,w as L,F as br,W as dt,Z as Yt,d as Fi}from"./index-BatYe0cj.js";import{q as Bi,i as Mi,a as Hi,r as Ui,f as Oi,t as Ge,v as ji,w as Vi}from"./taxPortalApi-DUN0wtzp.js";import{p as Yi}from"./taxDocumentApi-D-bNlZIE.js";import{V as Ji}from"./drakeTypes-DcjcYEfx.js";var Gi=E("<div><div><div></div><p>"),Qi=E("<div><div><div>X</div><h2></h2><p></p><p>"),Qe=E("<div><span>OK</span><span>"),Xi=E("<div><div><span>:</span></div><div>"),Wi=E("<div><div><div>, <!>!</div><div><span> <!>: </span><span>|</span><span></span></div></div><div><div><div><div></div></div><div></div></div><div><span></span></div><div>"),Ki=E("<div><div>OK</div><div><strong></strong><div>"),Zi=E("<div><div><span></span></div><div><p><strong></strong> </p><p><strong></strong></p><ul><li></li><li></li><li></li><li>"),en=E(`<div><style>
        @keyframes spin {
          to { transform: rotate(360deg); }
        }
        @media (max-width: 640px) {
          .document-item {
            flex-direction: column;
            align-items: stretch !important;
          }
          .document-info {
            margin-bottom: 0.5rem;
          }
          .upload-btn {
            width: 100%;
            justify-content: center;
          }
        }
      </style><div><button></button><div><div></div><p></p></div><div><p></p><p> `),Xe=E("<div><div></div><div>"),We=E("<p>"),tn=E('<div><div><label> *</label><input type=text></div><div><label> *</label><select><option value></option><option value=single></option><option value=married_jointly></option><option value=married_separate></option><option value=head_household></option></select></div><div><label></label><input type=tel placeholder="(555) 123-4567"></div><div><label></label><input type=text placeholder="123 Main St"></div><div><div><label></label><input type=text placeholder=Miami></div><div><label></label><input type=text placeholder=FL></div></div><div><label></label><input type=text placeholder=33101></div><button>'),rn=E('<div><div><label> *</label><select><option value></option><option value=checking></option><option value=savings></option></select></div><div><label> *</label><input type=text placeholder=123456789 maxlength=9></div><div><label> *</label><input type=text placeholder=123456789012></div><div><label> *</label><input type=text placeholder=123456789012></div><div><label></label><input type=text placeholder="John Doe"></div><button>'),ut=E("<div>"),nn=E("<div><div><div><label> *</label><input type=text></div><div><label> *</label><input type=text></div></div><div><label> *</label><select><option value></option><option value=child></option><option value=stepchild></option><option value=parent></option><option value=sibling></option><option value=other></option></select></div><div><div><label></label><input type=text placeholder=123-45-6789></div><div><label></label><input type=date></div></div><div><button></button><button>"),on=E("<div><button>+ </button><button>"),ln=E("<div><span>OK</span><span> (<!>)"),sn=E("<div><div></div><div><input type=checkbox id=agreeToTerms><label for=agreeToTerms> *</label></div><div><label> *</label><div><canvas width=500 height=150></canvas><div></div><div>✕</div></div><div><span></span><button type=button></button></div></div><div><label> *</label><input type=text></div><div><label></label><input type=date></div><button>"),an=E("<div><span>:</span><span>***-**-"),dn=E("<div><span>:</span><span>"),un=E("<div><div><h4></h4><div><div><span>:</span><span></span></div><div><span>:</span><span> / </span></div></div></div><div><input type=checkbox id=confirmReview><label for=confirmReview> *</label></div><button>"),ct=E("<span>"),cn=E("<div><div><strong>IRS Form 8879</strong> - </div><div><div><label> *</label><input type=text inputmode=numeric maxlength=5></div><div><label> *</label><input type=text inputmode=numeric maxlength=5></div></div><div><label> *</label><div><canvas width=500 height=150></canvas><div></div><div>✕</div></div><div><span></span><button type=button></button></div></div><div><label> *</label><input type=text></div><button>"),Ke=E("<span>REQUIRED"),pn=E("<div><div><div> </div><div></div></div><button>X"),gn=E("<div><div><div>"),mn=E("<div><button type=button>"),fn=E("<div class=document-item><input type=file accept=.pdf,.jpg,.jpeg,.png><div class=document-info><div></div><div><div></div></div></div><button class=upload-btn type=button>"),yn=E("<span>OK"),vn=E("<span>*");const bn=["application/pdf","image/jpeg","image/png"],hn=25*1024*1024,hr=ye=>Ji.includes(ye),Pr={en:{pageTitle:"Tax Document Upload",pageSubtitle:"Securely upload your tax documents",TaxYear:"Tax Year",Hello:"Hello",RequestedDocuments:"Requested Documents",IfyPrep:"Instructions from your tax preparer",loadingRequest:"Loading your document request...",errorTitle:"Unable to Load Request",errorContact:"If you believe this is an error, please contact your tax preparer.",allDocsUploaded:"All documents uploaded!",completed:"complete",docRequired:"required document",remaining:"remaining",uploaded:"Uploaded",uploading:"Uploading...",processing:"Processing...",upload:"Upload",tryAgain:"Try again",REQUIRED:"REQUIRED",completionTitle:"All documents uploaded!",completionMessage:"Your tax preparer will be notified and will contact you if anything else is needed.",needHelp:"Need Help?",acceptedFiles:"Accepted file types:",acceptedFilesDesc:"PDF, JPG, PNG (max 25MB each)",tipsTitle:"Tips for best results:",tip1:"Make sure the entire document is visible and readable",tip2:"Avoid blurry or dark images",tip3:"For multi-page documents, upload a single PDF if possible",tip4:"You can re-upload a document to replace a previous version",secureTransmission:"Your documents are transmitted securely and encrypted.",linkExpires:"This link expires on",verifyInfoTitle:"Verify Personal Information",verifyInfoDescription:"Please confirm your personal details",ssnLabel:"Social Security Number",ssnPlaceholder:"123-45-6789",filingStatusLabel:"Filing Status",filingStatusSingle:"Single",filingStatusMarried:"Married Filing Jointly",filingStatusMarriedSeparate:"Married Filing Separately",filingStatusHeadHousehold:"Head of Household",phoneLabel:"Phone Number",addressLabel:"Street Address",cityLabel:"City",stateLabel:"State",zipLabel:"ZIP Code",submitVerification:"Submit Information",verificationComplete:"Information submitted",bankInfoTitle:"Bank Account Information",bankInfoDescription:"For direct deposit of your refund",accountTypeLabel:"Account Type",accountTypeChecking:"Checking",accountTypeSavings:"Savings",routingNumberLabel:"Routing Number",accountNumberLabel:"Account Number",confirmAccountLabel:"Confirm Account Number",accountHolderLabel:"Account Holder Name",submitBankInfo:"Save Bank Info",bankInfoComplete:"Bank info saved",dependentTitle:"Dependent Information",dependentDescription:"Add dependents you will claim on your return",addDependent:"Add Dependent",noDependents:"No dependents added",skipDependents:"I have no dependents",dependentFirstName:"First Name",dependentLastName:"Last Name",dependentRelationship:"Relationship",dependentSSN:"SSN",dependentDOB:"Date of Birth",saveDependent:"Save Dependent",cancelDependent:"Cancel",relationshipChild:"Child",relationshipStepchild:"Stepchild",relationshipParent:"Parent",relationshipSibling:"Sibling",relationshipOther:"Other",dependentsComplete:"Dependents saved",statusPending:"Pending",statusComplete:"Complete",required:"Required",optional:"Optional",select:"-- Select --",signLetterTitle:"Sign Engagement Letter",signLetterDescription:"Please review and sign the tax preparation engagement letter",engagementLetterText:"I hereby authorize and engage this tax preparation service to prepare my federal and state income tax returns for the tax year indicated. I understand that the accuracy of my returns depends on the information I provide, and I agree to provide complete and accurate information. I agree to review my completed return before filing and understand that I am ultimately responsible for the contents of my tax return. I understand that this engagement letter is a binding agreement.",agreeToTermsLabel:"I have read and agree to the terms above",signatureBoxLabel:"Your Signature",signatureInstructions:"Draw your signature above",clearSignature:"Clear",signatureNameLabel:"Print Full Legal Name",signatureNamePlaceholder:"Enter your full legal name",signatureDateLabel:"Date",submitSignature:"Sign Engagement Letter",signatureComplete:"Engagement letter signed",reviewSummaryTitle:"Review Tax Summary",reviewSummaryDescription:"Please review your tax information summary before submission",clientInfoSummary:"Client Information Summary",clientNameLabel:"Client Name",ssnLast4Label:"SSN (Last 4 digits)",filingStatusSummaryLabel:"Filing Status",documentsUploadedLabel:"Documents Uploaded",confirmReviewLabel:"I confirm that I have reviewed the information above and it is accurate",submitReview:"Confirm Review",reviewComplete:"Review confirmed",signingPinTitle:"Set E-Filing PIN",signingPinDescription:"Create a 5-digit PIN to authorize e-filing your tax return. This PIN will be used to sign your electronic return.",pinLabel:"Enter 5-Digit PIN",pinPlaceholder:"12345",confirmPinLabel:"Confirm PIN",confirmPinPlaceholder:"Re-enter PIN",pinMismatch:"PINs do not match",pinInvalid:"PIN must be exactly 5 digits",submitPin:"Set PIN",pinComplete:"E-Filing PIN set"},es:{pageTitle:"Subir Documentos de Impuestos",pageSubtitle:"Suba sus documentos de impuestos de forma segura",TaxYear:"Año Fiscal",Hello:"Hola",RequestedDocuments:"Documentos Solicitados",IfyPrep:"Instrucciones de su preparador de impuestos",loadingRequest:"Cargando su solicitud de documentos...",errorTitle:"No se pudo cargar la solicitud",errorContact:"Si cree que esto es un error, contacte a su preparador de impuestos.",allDocsUploaded:"Todos los documentos han sido subidos!",completed:"completado",docRequired:"documento requerido",remaining:"faltante",uploaded:"Subido",uploading:"Subiendo...",processing:"Procesando...",upload:"Subir",tryAgain:"Intentar de nuevo",REQUIRED:"REQUERIDO",completionTitle:"Todos los documentos han sido subidos!",completionMessage:"Su preparador de impuestos sera notificado y lo contactara si necesita algo mas.",needHelp:"Necesita Ayuda?",acceptedFiles:"Tipos de archivo aceptados:",acceptedFilesDesc:"PDF, JPG, PNG (maximo 25MB cada uno)",tipsTitle:"Consejos para mejores resultados:",tip1:"Asegurese de que todo el documento sea visible y legible",tip2:"Evite imagenes borrosas u oscuras",tip3:"Para documentos de varias paginas, suba un solo PDF si es posible",tip4:"Puede volver a subir un documento para reemplazar una version anterior",secureTransmission:"Sus documentos se transmiten de forma segura y encriptada.",linkExpires:"Este enlace expira el",verifyInfoTitle:"Verificar Informacion Personal",verifyInfoDescription:"Por favor confirme sus datos personales",ssnLabel:"Numero de Seguro Social",ssnPlaceholder:"123-45-6789",filingStatusLabel:"Estado Civil para Impuestos",filingStatusSingle:"Soltero",filingStatusMarried:"Casado Declarando Juntos",filingStatusMarriedSeparate:"Casado Declarando por Separado",filingStatusHeadHousehold:"Jefe de Familia",phoneLabel:"Numero de Telefono",addressLabel:"Direccion",cityLabel:"Ciudad",stateLabel:"Estado",zipLabel:"Codigo Postal",submitVerification:"Enviar Informacion",verificationComplete:"Informacion enviada",bankInfoTitle:"Informacion de Cuenta Bancaria",bankInfoDescription:"Para deposito directo de su reembolso",accountTypeLabel:"Tipo de Cuenta",accountTypeChecking:"Cheques",accountTypeSavings:"Ahorros",routingNumberLabel:"Numero de Ruta",accountNumberLabel:"Numero de Cuenta",confirmAccountLabel:"Confirmar Numero de Cuenta",accountHolderLabel:"Nombre del Titular",submitBankInfo:"Guardar Informacion Bancaria",bankInfoComplete:"Informacion bancaria guardada",dependentTitle:"Informacion de Dependientes",dependentDescription:"Agregue los dependientes que reclamara en su declaracion",addDependent:"Agregar Dependiente",noDependents:"No hay dependientes agregados",skipDependents:"No tengo dependientes",dependentFirstName:"Nombre",dependentLastName:"Apellido",dependentRelationship:"Relacion",dependentSSN:"SSN",dependentDOB:"Fecha de Nacimiento",saveDependent:"Guardar Dependiente",cancelDependent:"Cancelar",relationshipChild:"Hijo/a",relationshipStepchild:"Hijastro/a",relationshipParent:"Padre/Madre",relationshipSibling:"Hermano/a",relationshipOther:"Otro",dependentsComplete:"Dependientes guardados",statusPending:"Pendiente",statusComplete:"Completado",required:"Requerido",optional:"Opcional",select:"-- Seleccionar --",signLetterTitle:"Firmar Carta de Compromiso",signLetterDescription:"Por favor revise y firme la carta de compromiso para la preparacion de impuestos",engagementLetterText:"Por la presente autorizo y contrato este servicio de preparacion de impuestos para preparar mis declaraciones de impuestos federales y estatales para el ano fiscal indicado. Entiendo que la precision de mis declaraciones depende de la informacion que proporcione, y acepto proporcionar informacion completa y precisa. Acepto revisar mi declaracion completada antes de presentarla y entiendo que soy el responsable final del contenido de mi declaracion de impuestos. Entiendo que esta carta de compromiso es un acuerdo vinculante.",agreeToTermsLabel:"He leido y acepto los terminos anteriores",signatureBoxLabel:"Su Firma",signatureInstructions:"Dibuje su firma arriba",clearSignature:"Borrar",signatureNameLabel:"Nombre Legal Completo (Letra de Imprenta)",signatureNamePlaceholder:"Ingrese su nombre legal completo",signatureDateLabel:"Fecha",submitSignature:"Firmar Carta de Compromiso",signatureComplete:"Carta de compromiso firmada",reviewSummaryTitle:"Revisar Resumen de Impuestos",reviewSummaryDescription:"Por favor revise el resumen de su informacion fiscal antes de enviar",clientInfoSummary:"Resumen de Informacion del Cliente",clientNameLabel:"Nombre del Cliente",ssnLast4Label:"SSN (Ultimos 4 digitos)",filingStatusSummaryLabel:"Estado Civil para Impuestos",documentsUploadedLabel:"Documentos Subidos",confirmReviewLabel:"Confirmo que he revisado la informacion anterior y es correcta",submitReview:"Confirmar Revision",reviewComplete:"Revision confirmada",signingPinTitle:"Establecer PIN de Firma Electronica",signingPinDescription:"Cree un PIN de 5 digitos para autorizar la presentacion electronica de su declaracion de impuestos. Este PIN se usara para firmar su declaracion electronica.",pinLabel:"Ingrese PIN de 5 Digitos",pinPlaceholder:"12345",confirmPinLabel:"Confirmar PIN",confirmPinPlaceholder:"Vuelva a ingresar el PIN",pinMismatch:"Los PIN no coinciden",pinInvalid:"El PIN debe tener exactamente 5 digitos",submitPin:"Establecer PIN",pinComplete:"PIN de firma electronica establecido"}},_n=()=>{const ye=qi(),[$t,Le]=A(!0),[_t,Ee]=A(null),[$,Jt]=A(null),[Sr,Gt]=A(new Map),[Qt,oe]=A(null),[W,xr]=A("en"),[re,$r]=A({ssn:"",filingStatus:"",phone:"",address:"",city:"",state:"",zipCode:""}),[Ct,_r]=A(!1),[Re,Cr]=A({accountType:"",routingNumber:"",accountNumber:"",confirmAccountNumber:"",accountHolderName:""}),[wt,wr]=A(!1),[ze,Xt]=A([]),[It,Ir]=A(!1),[Dt,Tt]=A(!1),[qe,Wt]=A({firstName:"",lastName:"",relationship:"",ssn:"",dateOfBirth:""}),[ve,Dr]=A({name:"",date:new Date().toISOString().split("T")[0],agreedToTerms:!1}),[kt,Tr]=A(!1);let le=null;const[Kt,Zt]=A(!1),[Ae,er]=A(!1);let pt=null,Nt=0;const[tr,kr]=A({confirmed:!1}),[Lt,Nr]=A(!1),[ne,Lr]=A(""),[ce,Er]=A(""),[Et,Rr]=A(!1),[rr,Ce]=A(null),[Ze,zr]=A("");let se=null;const[ir,nr]=A(!1),[Fe,or]=A(!1);let gt=null,Rt=0;const qr=t=>{const s=[{name:"Chrome",regex:/Chrome\/(\d+)/},{name:"Safari",regex:/Safari\/(\d+)/},{name:"Firefox",regex:/Firefox\/(\d+)/},{name:"Edge",regex:/Edg\/(\d+)/},{name:"Opera",regex:/OPR\/(\d+)/}];for(const u of s){const v=t.match(u.regex);if(v)return{name:u.name,version:v[1]}}return{name:"Unknown",version:"0"}},lr=(t,s,u)=>{const v=qr(navigator.userAgent);return{userAgent:navigator.userAgent,browserName:v.name,browserVersion:v.version,platform:navigator.platform,screenWidth:window.screen.width,screenHeight:window.screen.height,devicePixelRatio:window.devicePixelRatio||1,touchEnabled:"ontouchstart"in window||navigator.maxTouchPoints>0,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,language:navigator.language,pageUrl:window.location.href,referrer:document.referrer||void 0,clientTimestamp:Date.now(),timezoneOffset:new Date().getTimezoneOffset(),canvasWidth:t?.width,canvasHeight:t?.height,strokeCount:u,signatureDuration:s?Date.now()-s:void 0}},sr=new Map,r=t=>Pr[W()]?.[t]||Pr.en?.[t]||t,Ar=()=>{xr(W()==="en"?"es":"en")},De=(t,s)=>{$r(u=>({...u,[t]:s}))},et=(t,s)=>{Cr(u=>({...u,[t]:s}))},tt=(t,s)=>{Wt(u=>({...u,[t]:s}))},mt=(t,s)=>{Dr(u=>({...u,[t]:s}))},Fr=t=>{le=t;const s=t.getContext("2d");s&&(s.strokeStyle="#1e3a5f",s.lineWidth=2,s.lineCap="round",s.lineJoin="round")},ft=(t,s)=>{const u=s.getBoundingClientRect(),v=s.width/u.width,V=s.height/u.height;return"touches"in t?{x:(t.touches[0].clientX-u.left)*v,y:(t.touches[0].clientY-u.top)*V}:{x:(t.clientX-u.left)*v,y:(t.clientY-u.top)*V}},ar=t=>{if(!le)return;t.preventDefault(),Zt(!0),pt||(pt=Date.now());const s=le.getContext("2d");if(s){const{x:u,y:v}=ft(t,le);s.beginPath(),s.moveTo(u,v)}},dr=t=>{if(!Kt()||!le)return;t.preventDefault();const s=le.getContext("2d");if(s){const{x:u,y:v}=ft(t,le);s.lineTo(u,v),s.stroke(),er(!0)}},zt=()=>{Kt()&&Nt++,Zt(!1)},Br=()=>{if(!le)return;const t=le.getContext("2d");t&&(t.clearRect(0,0,le.width,le.height),er(!1),mt("signatureImage",""),pt=null,Nt=0)},Mr=()=>!le||!Ae()?"":le.toDataURL("image/png"),Hr=t=>{se=t;const s=t.getContext("2d");s&&(s.strokeStyle="#1e3a5f",s.lineWidth=2,s.lineCap="round",s.lineJoin="round")},ur=t=>{if(!se)return;t.preventDefault(),nr(!0),gt||(gt=Date.now());const s=se.getContext("2d");if(s){const{x:u,y:v}=ft(t,se);s.beginPath(),s.moveTo(u,v)}},cr=t=>{if(!ir()||!se)return;t.preventDefault();const s=se.getContext("2d");if(s){const{x:u,y:v}=ft(t,se);s.lineTo(u,v),s.stroke(),or(!0)}},qt=()=>{ir()&&Rt++,nr(!1)},Ur=()=>{if(!se)return;const t=se.getContext("2d");t&&(t.clearRect(0,0,se.width,se.height),or(!1),gt=null,Rt=0)},Or=()=>!se||!Fe()?"":se.toDataURL("image/png"),jr=(t,s)=>{kr(u=>({...u,[t]:s}))},Vr=async()=>{const t=re();if(!t.ssn||!t.filingStatus){alert(W()==="es"?"Por favor complete el SSN y el estado civil":"Please complete SSN and filing status");return}try{const s=$();if(!s)return;const u=await Ge(s.id,ye.accessToken,{clientVerification:{ssn:t.ssn,filingStatus:t.filingStatus,phone:t.phone,address:t.address,city:t.city,state:t.state,zipCode:t.zipCode,submittedAt:Date.now()},markDocumentUploaded:"verify_info"},s.businessId);u.success?(_r(!0),oe(r("verificationComplete")),setTimeout(()=>oe(null),5e3)):alert(u.error||"Error saving verification info")}catch(s){fe("Error submitting verification:",s),alert(W()==="es"?"Error al guardar la informacion":"Error saving information")}},Yr=async()=>{const t=Re();if(!t.accountType||!t.routingNumber||!t.accountNumber){alert(W()==="es"?"Por favor complete todos los campos bancarios requeridos":"Please complete all required bank fields");return}if(t.accountNumber!==t.confirmAccountNumber){alert(W()==="es"?"Los numeros de cuenta no coinciden":"Account numbers do not match");return}try{const s=$();if(!s)return;const u=await Ge(s.id,ye.accessToken,{clientBankInfo:{accountType:t.accountType,routingNumber:t.routingNumber,accountNumber:t.accountNumber,accountHolderName:t.accountHolderName,submittedAt:Date.now()},markDocumentUploaded:"verify_bank_info"},s.businessId);u.success?(wr(!0),oe(r("bankInfoComplete")),setTimeout(()=>oe(null),5e3)):alert(u.error||"Error saving bank info")}catch(s){fe("Error submitting bank info:",s),alert(W()==="es"?"Error al guardar la informacion bancaria":"Error saving bank information")}},Jr=()=>{const t=qe();if(!t.firstName||!t.lastName||!t.relationship){alert(W()==="es"?"Por favor complete nombre, apellido y relacion":"Please complete first name, last name, and relationship");return}Xt(s=>[...s,{...t}]),Wt({firstName:"",lastName:"",relationship:"",ssn:"",dateOfBirth:""}),Tt(!1)},Gr=async()=>{try{const t=$();if(!t)return;const s=await Ge(t.id,ye.accessToken,{clientDependents:ze(),markDocumentUploaded:"provide_dependent_info"},t.businessId);s.success?(Ir(!0),oe(r("dependentsComplete")),setTimeout(()=>oe(null),5e3)):alert(s.error||"Error saving dependents info")}catch(t){fe("Error submitting dependents:",t),alert(W()==="es"?"Error al guardar los dependientes":"Error saving dependents")}},Qr=async()=>{const t=ve();if(!t.name||!t.agreedToTerms){alert(W()==="es"?"Por favor ingrese su nombre y acepte los términos":"Please enter your name and agree to the terms");return}if(!Ae()){alert(W()==="es"?"Por favor firme en el recuadro de firma":"Please sign in the signature box");return}try{const s=$();if(!s)return;const u=Mr(),v=lr(le,pt,Nt),V=await Ge(s.id,ye.accessToken,{clientSignature:{name:t.name,date:t.date,agreedToTerms:t.agreedToTerms,signedAt:Date.now(),signatureImage:u,metadata:v},markDocumentUploaded:"sign_letter",status:"completed"},s.businessId);V.success?(Tr(!0),oe(r("signatureComplete")),setTimeout(()=>oe(null),5e3)):alert(V.error||"Error saving signature")}catch(s){fe("Error submitting signature:",s),alert(W()==="es"?"Error al guardar la firma":"Error saving signature")}},Xr=async()=>{const t=tr();if(!t.confirmed){alert(W()==="es"?"Por favor confirme que ha revisado el resumen":"Please confirm that you have reviewed the summary");return}try{const s=$();if(!s)return;const u=await Ge(s.id,ye.accessToken,{clientReviewConfirmation:{confirmed:t.confirmed,reviewedAt:Date.now()},markDocumentUploaded:"review_summary"},s.businessId);u.success?(Nr(!0),oe(r("reviewComplete")),setTimeout(()=>oe(null),5e3)):alert(u.error||"Error saving review confirmation")}catch(s){fe("Error submitting review:",s),alert(W()==="es"?"Error al guardar la confirmacion":"Error saving confirmation")}},Wr=async()=>{const t=ne(),s=ce(),u=Ze();if(!/^\d{5}$/.test(t)){Ce(r("pinInvalid"));return}if(t!==s){Ce(r("pinMismatch"));return}if(!Fe()){Ce(W()==="es"?"Se requiere firma":"Signature is required");return}if(!u.trim()){Ce(W()==="es"?"Se requiere el nombre completo":"Full name is required");return}Ce(null);try{const v=$();if(!v)return;const V=Or(),be=lr(se,gt,Rt),Pe=await Ge(v.id,ye.accessToken,{clientSigningPin:{pin:t,setAt:Date.now(),signerName:u.trim(),signatureImage:V,metadata:be},markDocumentUploaded:"signing_pin",status:"completed"},v.businessId);Pe.success?(Rr(!0),oe(r("pinComplete")),setTimeout(()=>oe(null),5e3)):alert(Pe.error||"Error saving PIN")}catch(v){fe("Error submitting signing PIN:",v),alert(W()==="es"?"Error al guardar el PIN":"Error saving PIN")}};Ai(async()=>{const t=ye.accessToken,s=ye.id;if(!t){Ee("Invalid access link. Please check your URL."),Le(!1);return}try{Le(!0),Ee(null);const u=await Bi(s,t);if(!u){Ee("This document request was not found. The link may be invalid or expired."),Le(!1);return}if(u.status==="expired"||Mi(u)){Ee("This document request has expired. Please contact your tax preparer for a new link."),Le(!1);return}if(u.status==="cancelled"){Ee("This document request has been cancelled. Please contact your tax preparer."),Le(!1);return}Jt(u),fe(u);const v=new Map;u.requestedDocuments.forEach(V=>{v.set(V.type,{docType:V.type,status:V.uploaded?"success":"idle",progress:V.uploaded?100:0,fileName:void 0})}),Gt(v)}catch(u){fe("Error loading document request:",u),Ee("Unable to load document request. Please try again later.")}finally{Le(!1)}});const Kr=async(t,s)=>{const u=s.target,v=u.files?.[0];if(v){if(!bn.includes(v.type)){we(t,{status:"error",progress:0,errorMessage:"Invalid file type. Please upload a PDF, JPG, or PNG file."});return}if(v.size>hn){we(t,{status:"error",progress:0,errorMessage:"File is too large. Maximum size is 25MB."});return}await Zr(t,v),u.value=""}},we=(t,s)=>{Gt(u=>{const v=new Map(u),V=v.get(t)||{docType:t,status:"idle",progress:0};return v.set(t,{...V,...s}),v})},Zr=async(t,s)=>{if($()){we(t,{status:"uploading",progress:10,fileName:s.name,errorMessage:void 0});try{we(t,{progress:30});const u=$();if(!u)throw new Error("No request found");const v=await ji(s,u.taxPortalId,u.taxYear,{documentType:t,businessId:u.businessId});if(!v.success||!v.documentId)throw new Error(v.error||"Upload failed");we(t,{status:"processing",progress:60});const V=await Yi(v.documentId);V.success||fe("Document processing failed, but upload succeeded:",V.error),we(t,{progress:90}),await Vi(u.id,u.businessId,t,v.documentId),Jt(be=>be?{...be,requestedDocuments:be.requestedDocuments.map(Pe=>Pe.type===t?{...Pe,uploaded:!0,documentId:v.documentId}:Pe),uploadedDocuments:[...be.uploadedDocuments,v.documentId]}:null),we(t,{status:"success",progress:100}),oe(`Successfully uploaded ${s.name}!`),setTimeout(()=>oe(null),5e3)}catch(u){fe("Upload error:",u),we(t,{status:"error",progress:0,errorMessage:u.message||"Upload failed. Please try again."})}}},pr=t=>{const s=sr.get(t);s&&s.click()},ei=t=>t.label||t.type.replace(/_/g,"-").toUpperCase(),ti={"min-height":"100vh",background:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 50%, #f0fdf4 100%)",padding:"1rem"},ri={"max-width":"800px",margin:"0 auto",padding:"1rem"},ii={"text-align":"center","margin-bottom":"2rem"},ni={"font-size":"2.5rem","margin-bottom":"1rem"},oi={color:"#64748b","font-size":"1rem"},yt={background:"white","border-radius":"16px","box-shadow":"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)",padding:"0",overflow:"hidden","margin-bottom":"1.5rem"},li={background:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",padding:"1.5rem",color:"white"},si={"font-size":"1.5rem","font-weight":"600","margin-bottom":"0.5rem"},ai={display:"flex","flex-wrap":"wrap",gap:"1rem","font-size":"0.875rem",opacity:"0.9"},di={padding:"1.5rem"},ui={background:"#f1f5f9","border-radius":"9999px",height:"12px",overflow:"hidden","margin-bottom":"0.5rem"},ci=t=>({background:t===100?"linear-gradient(90deg, #22c55e 0%, #16a34a 100%)":"linear-gradient(90deg, #3b82f6 0%, #1d4ed8 100%)",height:"100%",width:`${t}%`,transition:"width 0.3s ease","border-radius":"9999px"}),pi={"text-align":"center","font-size":"0.875rem",color:"#64748b"},gr={"font-size":"1.125rem","font-weight":"600",color:"#1e293b","margin-bottom":"1rem",display:"flex","align-items":"center",gap:"0.5rem"},gi={display:"flex","flex-direction":"column",gap:"0.75rem"},mi=(t,s)=>({display:"flex","align-items":"center","justify-content":"space-between",padding:"1rem",background:s?"#fef2f2":t?"#f0fdf4":"#f8fafc","border-radius":"12px",border:`1px solid ${s?"#fecaca":t?"#bbf7d0":"#e2e8f0"}`,"flex-wrap":"wrap",gap:"0.75rem"}),fi={display:"flex","align-items":"center",gap:"0.75rem",flex:"1","min-width":"200px"},yi=(t,s)=>({width:"24px",height:"24px","border-radius":"6px",border:`2px solid ${t?"#22c55e":s?"#3b82f6":"#cbd5e1"}`,background:t?"#22c55e":"white",display:"flex","align-items":"center","justify-content":"center",color:"white","font-size":"0.75rem","flex-shrink":"0"}),vi={"font-weight":"500",color:"#1e293b"},Te={background:"#dbeafe",color:"#1d4ed8",padding:"0.125rem 0.5rem","border-radius":"4px","font-size":"0.7rem","font-weight":"600"},bi=(t,s)=>({padding:"0.5rem 1rem","border-radius":"8px",border:"none",background:t?"#dcfce7":s?"#e0e7ff":"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",color:t?"#16a34a":s?"#4f46e5":"white",cursor:t||s?"default":"pointer","font-weight":"500","font-size":"0.875rem",display:"flex","align-items":"center",gap:"0.5rem","white-space":"nowrap",transition:"all 0.2s ease"}),hi={color:"#dc2626","font-size":"0.8rem","margin-top":"0.25rem",width:"100%"},Pi={width:"100%",height:"4px",background:"#e2e8f0","border-radius":"2px",overflow:"hidden","margin-top":"0.5rem"},Si={background:"white","border-radius":"12px",border:"1px solid #e2e8f0",padding:"1.5rem","margin-bottom":"0.75rem"},Be={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"0.5rem"},Me={"font-size":"1.125rem","font-weight":"600",color:"#1e293b"},He={color:"#64748b","font-size":"0.875rem","margin-bottom":"1rem"},rt={display:"flex","flex-direction":"column",gap:"0.75rem"},B={display:"block","font-size":"0.875rem","font-weight":"500",color:"#475569","margin-bottom":"0.375rem"},J={width:"100%",padding:"0.75rem 1rem","border-radius":"8px",border:"1px solid #e2e8f0","font-size":"1rem",background:"white","box-sizing":"border-box"},At={...J,appearance:"none","background-image":`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e")`,"background-position":"right 0.75rem center","background-repeat":"no-repeat","background-size":"1.25rem 1.25rem","padding-right":"2.5rem"},Ft={display:"grid","grid-template-columns":"1fr 1fr",gap:"0.75rem"},ke={width:"100%",padding:"0.875rem 1.5rem","border-radius":"8px",border:"none",background:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",color:"white","font-size":"1rem","font-weight":"600",cursor:"pointer","margin-top":"0.5rem"},Bt={padding:"0.75rem 1.5rem","border-radius":"8px",border:"1px solid #e2e8f0",background:"white",color:"#475569","font-size":"1rem","font-weight":"500",cursor:"pointer"},Ue={display:"flex","align-items":"center","justify-content":"center",gap:"0.75rem",padding:"1rem",color:"#16a34a","font-weight":"500"},Oe=t=>({padding:"0.375rem 0.75rem","border-radius":"9999px","font-size":"0.875rem","font-weight":"600",background:t?"#dcfce7":"#f1f5f9",color:t?"#16a34a":"#64748b"}),xi={padding:"0.75rem 1rem",background:"#f8fafc","border-radius":"8px","margin-bottom":"0.5rem",display:"flex","justify-content":"space-between","align-items":"center"},mr=t=>{const s={success:{bg:"#f0fdf4",border:"#bbf7d0",color:"#16a34a"},error:{bg:"#fef2f2",border:"#fecaca",color:"#dc2626"},info:{bg:"#eff6ff",border:"#bfdbfe",color:"#2563eb"}};return{padding:"1rem",background:s[t].bg,border:`1px solid ${s[t].border}`,"border-radius":"12px",color:s[t].color,display:"flex","align-items":"center",gap:"0.75rem","margin-bottom":"1rem"}},$i={background:"#fffbeb",border:"1px solid #fde68a","border-radius":"12px",padding:"1rem","margin-bottom":"1rem"},_i={"font-weight":"600",color:"#92400e","margin-bottom":"0.5rem",display:"flex","align-items":"center",gap:"0.5rem"},Ci={color:"#a16207","font-size":"0.9rem","line-height":"1.5"},wi={"text-align":"center",padding:"2rem 1rem",color:"#94a3b8","font-size":"0.875rem"},Ii={display:"flex","flex-direction":"column","align-items":"center","justify-content":"center","min-height":"400px",gap:"1rem"},Di={width:"48px",height:"48px",border:"4px solid #e2e8f0","border-top-color":"#3b82f6","border-radius":"50%",animation:"spin 1s linear infinite"},vt=$(),bt=vt?Hi(vt):0,fr=vt?Ui(vt):[];return(()=>{var t=en(),s=t.firstChild,u=s.nextSibling,v=u.firstChild,V=v.nextSibling,be=V.firstChild,Pe=be.nextSibling,it=V.nextSibling,yr=it.firstChild,nt=yr.nextSibling,Ti=nt.firstChild;return i(t,ti),i(u,ri),v.$$click=Ar,v.style.setProperty("position","absolute"),v.style.setProperty("top","1rem"),v.style.setProperty("right","1rem"),v.style.setProperty("padding","0.5rem 1rem"),v.style.setProperty("background","#f1f5f9"),v.style.setProperty("border","1px solid #e2e8f0"),v.style.setProperty("border-radius","8px"),v.style.setProperty("cursor","pointer"),v.style.setProperty("font-size","0.875rem"),v.style.setProperty("color","#475569"),e(v,()=>W()==="en"?"Espanol":"English"),i(be,ni),e(be,()=>r("pageTitle")),i(Pe,oi),e(Pe,()=>r("pageSubtitle")),e(u,_(w,{get when(){return $t()},get children(){var N=Gi(),H=N.firstChild,G=H.firstChild,Q=G.nextSibling;return i(G,Di),Q.style.setProperty("color","#64748b"),e(Q,()=>r("loadingRequest")),m(U=>{var de={...yt,padding:"3rem"},pe=Ii;return U.e=i(N,de,U.e),U.t=i(H,pe,U.t),U},{e:void 0,t:void 0}),N}}),it),e(u,_(w,{get when(){return L(()=>!$t())()&&_t()},get children(){var N=Qi(),H=N.firstChild,G=H.firstChild,Q=G.nextSibling,U=Q.nextSibling,de=U.nextSibling;return H.style.setProperty("padding","3rem"),H.style.setProperty("text-align","center"),G.style.setProperty("font-size","4rem"),G.style.setProperty("margin-bottom","1rem"),Q.style.setProperty("color","#dc2626"),Q.style.setProperty("margin-bottom","0.5rem"),e(Q,()=>r("errorTitle")),U.style.setProperty("color","#64748b"),U.style.setProperty("margin-bottom","1.5rem"),e(U,_t),de.style.setProperty("color","#94a3b8"),de.style.setProperty("font-size","0.875rem"),e(de,()=>r("errorContact")),m(pe=>i(N,yt,pe)),N}}),it),e(u,_(w,{get when(){return L(()=>!$t()&&!_t())()&&$()},get children(){return[_(w,{get when(){return Qt()},get children(){var N=Qe(),H=N.firstChild,G=H.nextSibling;return H.style.setProperty("font-size","1.25rem"),e(G,Qt),m(Q=>i(N,mr("success"),Q)),N}}),(()=>{var N=Wi(),H=N.firstChild,G=H.firstChild,Q=G.firstChild,U=Q.nextSibling;U.nextSibling;var de=G.nextSibling,pe=de.firstChild,Mt=pe.firstChild,je=Mt.nextSibling;je.nextSibling;var ht=pe.nextSibling,Pt=ht.nextSibling,Ve=H.nextSibling,ot=Ve.firstChild,Se=ot.firstChild,Ht=Se.firstChild,St=Se.nextSibling,xt=ot.nextSibling,ki=xt.firstChild,vr=xt.nextSibling;return i(H,li),i(G,si),e(G,()=>r("Hello"),Q),e(G,()=>$()?.clientName||$()?.recipientName,U),e(pe,()=>r("TaxYear"),je),e(pe,()=>$()?.taxYear,null),e(Pt,()=>Oi($()?.expiresAt||0)),i(Ve,di),ot.style.setProperty("margin-bottom","1.5rem"),i(Se,ui),e(St,()=>bt===100?r("allDocsUploaded"):`${bt}% ${r("completed")} - ${fr.length} ${r("docRequired")}${fr.length!==1?"s":""} ${r("remaining")}`),e(Ve,_(w,{get when(){return $()?.instructions},get children(){var b=Xi(),ee=b.firstChild,ge=ee.firstChild,he=ge.firstChild,Ne=ee.nextSibling;return i(b,$i),i(ee,_i),e(ge,()=>r("IfyPrep"),he),i(Ne,Ci),e(Ne,()=>$()?.instructions),b}}),xt),e(ki,()=>r("RequestedDocuments")),e(vr,_(br,{get each(){return $()?.requestedDocuments},children:b=>{fe("Document:",b.type,"Label:",b.label,"Is verification form?",hr(b.type));const ee=Sr().get(b.type),ge=b.uploaded||ee?.status==="success",he=ee?.status==="uploading"||ee?.status==="processing",Ne=ee?.status==="error",Ut=hr(b.type),ae=()=>{const O=$();return b.type==="verify_ssn"||b.type==="verify_info"?Ct()||!!O?.clientVerification?.submittedAt:b.type==="verify_bank_info"?wt()||!!O?.clientBankInfo?.submittedAt:b.type==="provide_dependent_info"?It()||O?.clientDependents&&O.clientDependents.length>0:b.type==="sign_letter"?kt()||!!O?.clientSignature?.signedAt:b.type==="review_summary"?Lt()||!!O?.clientReviewConfirmation?.reviewedAt:b.type==="set_signing_pin"?Et()||!!O?.clientSigningPin?.setAt:!1};return Ut?(()=>{var O=ut();return i(O,Si),e(O,_(w,{get when(){return b.type==="verify_ssn"||b.type==="verify_info"},get children(){return[(()=>{var o=Xe(),l=o.firstChild,p=l.nextSibling;return e(l,()=>r("verifyInfoTitle"),null),e(l,(()=>{var n=L(()=>!!b.required);return()=>n()&&(()=>{var g=Ke();return m(f=>i(g,{...Te,"margin-left":"0.5rem"},f)),g})()})(),null),e(p,(()=>{var n=L(()=>!!ae());return()=>n()?r("statusComplete"):r("statusPending")})()),m(n=>{var g=Be,f=Me,c=Oe(ae());return n.e=i(o,g,n.e),n.t=i(l,f,n.t),n.a=i(p,c,n.a),n},{e:void 0,t:void 0,a:void 0}),o})(),(()=>{var o=We();return e(o,()=>r("verifyInfoDescription")),m(l=>i(o,He,l)),o})(),_(w,{get when(){return L(()=>!Ct())()&&!$()?.clientVerification?.submittedAt},get children(){var o=tn(),l=o.firstChild,p=l.firstChild,n=p.firstChild,g=p.nextSibling,f=l.nextSibling,c=f.firstChild,P=c.firstChild,I=c.nextSibling,S=I.firstChild,F=S.nextSibling,D=F.nextSibling,K=D.nextSibling,R=K.nextSibling,j=f.nextSibling,C=j.firstChild,z=C.nextSibling,q=j.nextSibling,x=q.firstChild,T=x.nextSibling,M=q.nextSibling,k=M.firstChild,X=k.firstChild,Y=X.nextSibling,a=k.nextSibling,ie=a.firstChild,te=ie.nextSibling,d=M.nextSibling,Z=d.firstChild,ue=Z.nextSibling,h=d.nextSibling;return e(p,()=>r("ssnLabel"),n),g.$$input=y=>De("ssn",y.currentTarget.value),e(c,()=>r("filingStatusLabel"),P),I.addEventListener("change",y=>De("filingStatus",y.currentTarget.value)),e(S,()=>r("select")),e(F,()=>r("filingStatusSingle")),e(D,()=>r("filingStatusMarried")),e(K,()=>r("filingStatusMarriedSeparate")),e(R,()=>r("filingStatusHeadHousehold")),e(C,()=>r("phoneLabel")),z.$$input=y=>De("phone",y.currentTarget.value),e(x,()=>r("addressLabel")),T.$$input=y=>De("address",y.currentTarget.value),e(X,()=>r("cityLabel")),Y.$$input=y=>De("city",y.currentTarget.value),e(ie,()=>r("stateLabel")),te.$$input=y=>De("state",y.currentTarget.value),e(Z,()=>r("zipLabel")),ue.$$input=y=>De("zipCode",y.currentTarget.value),h.$$click=Vr,e(h,()=>r("submitVerification")),m(y=>{var xe=rt,$e=B,me=J,Ie=r("ssnPlaceholder"),_e=B,lt=At,st=B,Ye=J,at=B,Je=J,Ot=Ft,jt=B,Vt=J,Ni=B,Li=J,Ei=B,Ri=J,zi=ke;return y.e=i(o,xe,y.e),y.t=i(p,$e,y.t),y.a=i(g,me,y.a),Ie!==y.o&&dt(g,"placeholder",y.o=Ie),y.i=i(c,_e,y.i),y.n=i(I,lt,y.n),y.s=i(C,st,y.s),y.h=i(z,Ye,y.h),y.r=i(x,at,y.r),y.d=i(T,Je,y.d),y.l=i(M,Ot,y.l),y.u=i(X,jt,y.u),y.c=i(Y,Vt,y.c),y.w=i(ie,Ni,y.w),y.m=i(te,Li,y.m),y.f=i(Z,Ei,y.f),y.y=i(ue,Ri,y.y),y.g=i(h,zi,y.g),y},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0}),m(()=>g.value=re().ssn),m(()=>I.value=re().filingStatus),m(()=>z.value=re().phone),m(()=>T.value=re().address),m(()=>Y.value=re().city),m(()=>te.value=re().state),m(()=>ue.value=re().zipCode),o}}),_(w,{get when(){return Ct()||$()?.clientVerification?.submittedAt},get children(){var o=Qe(),l=o.firstChild,p=l.nextSibling;return l.style.setProperty("font-size","1.5rem"),e(p,()=>r("verificationComplete")),m(n=>i(o,Ue,n)),o}})]}}),null),e(O,_(w,{get when(){return b.type==="verify_bank_info"},get children(){return[(()=>{var o=Xe(),l=o.firstChild,p=l.nextSibling;return e(l,()=>r("bankInfoTitle"),null),e(l,(()=>{var n=L(()=>!!b.required);return()=>n()&&(()=>{var g=Ke();return m(f=>i(g,{...Te,"margin-left":"0.5rem"},f)),g})()})(),null),e(p,(()=>{var n=L(()=>!!ae());return()=>n()?r("statusComplete"):r("statusPending")})()),m(n=>{var g=Be,f=Me,c=Oe(ae());return n.e=i(o,g,n.e),n.t=i(l,f,n.t),n.a=i(p,c,n.a),n},{e:void 0,t:void 0,a:void 0}),o})(),(()=>{var o=We();return e(o,()=>r("bankInfoDescription")),m(l=>i(o,He,l)),o})(),_(w,{get when(){return L(()=>!wt())()&&!$()?.clientBankInfo?.submittedAt},get children(){var o=rn(),l=o.firstChild,p=l.firstChild,n=p.firstChild,g=p.nextSibling,f=g.firstChild,c=f.nextSibling,P=c.nextSibling,I=l.nextSibling,S=I.firstChild,F=S.firstChild,D=S.nextSibling,K=I.nextSibling,R=K.firstChild,j=R.firstChild,C=R.nextSibling,z=K.nextSibling,q=z.firstChild,x=q.firstChild,T=q.nextSibling,M=z.nextSibling,k=M.firstChild,X=k.nextSibling,Y=M.nextSibling;return e(p,()=>r("accountTypeLabel"),n),g.addEventListener("change",a=>et("accountType",a.currentTarget.value)),e(f,()=>r("select")),e(c,()=>r("accountTypeChecking")),e(P,()=>r("accountTypeSavings")),e(S,()=>r("routingNumberLabel"),F),D.$$input=a=>et("routingNumber",a.currentTarget.value),e(R,()=>r("accountNumberLabel"),j),C.$$input=a=>et("accountNumber",a.currentTarget.value),e(q,()=>r("confirmAccountLabel"),x),T.$$input=a=>et("confirmAccountNumber",a.currentTarget.value),e(k,()=>r("accountHolderLabel")),X.$$input=a=>et("accountHolderName",a.currentTarget.value),Y.$$click=Yr,e(Y,()=>r("submitBankInfo")),m(a=>{var ie=rt,te=B,d=At,Z=B,ue=J,h=B,y=J,xe=B,$e=J,me=B,Ie=J,_e=ke;return a.e=i(o,ie,a.e),a.t=i(p,te,a.t),a.a=i(g,d,a.a),a.o=i(S,Z,a.o),a.i=i(D,ue,a.i),a.n=i(R,h,a.n),a.s=i(C,y,a.s),a.h=i(q,xe,a.h),a.r=i(T,$e,a.r),a.d=i(k,me,a.d),a.l=i(X,Ie,a.l),a.u=i(Y,_e,a.u),a},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0}),m(()=>g.value=Re().accountType),m(()=>D.value=Re().routingNumber),m(()=>C.value=Re().accountNumber),m(()=>T.value=Re().confirmAccountNumber),m(()=>X.value=Re().accountHolderName),o}}),_(w,{get when(){return wt()||$()?.clientBankInfo?.submittedAt},get children(){var o=Qe(),l=o.firstChild,p=l.nextSibling;return l.style.setProperty("font-size","1.5rem"),e(p,()=>r("bankInfoComplete")),m(n=>i(o,Ue,n)),o}})]}}),null),e(O,_(w,{get when(){return b.type==="provide_dependent_info"},get children(){return[(()=>{var o=Xe(),l=o.firstChild,p=l.nextSibling;return e(l,()=>r("dependentTitle"),null),e(l,(()=>{var n=L(()=>!!b.required);return()=>n()&&(()=>{var g=Ke();return m(f=>i(g,{...Te,"margin-left":"0.5rem"},f)),g})()})(),null),e(p,(()=>{var n=L(()=>!!ae());return()=>n()?r("statusComplete"):r("statusPending")})()),m(n=>{var g=Be,f=Me,c=Oe(ae());return n.e=i(o,g,n.e),n.t=i(l,f,n.t),n.a=i(p,c,n.a),n},{e:void 0,t:void 0,a:void 0}),o})(),(()=>{var o=We();return e(o,()=>r("dependentDescription")),m(l=>i(o,He,l)),o})(),_(w,{get when(){return L(()=>!It())()&&!($()?.clientDependents&&$().clientDependents.length>0)},get children(){return[_(w,{get when(){return ze().length>0},get children(){var o=ut();return o.style.setProperty("margin-bottom","1rem"),e(o,_(br,{get each(){return ze()},children:(l,p)=>(()=>{var n=pn(),g=n.firstChild,f=g.firstChild,c=f.firstChild,P=f.nextSibling,I=g.nextSibling;return i(n,xi),f.style.setProperty("font-weight","500"),e(f,()=>l.firstName,c),e(f,()=>l.lastName,null),P.style.setProperty("font-size","0.875rem"),P.style.setProperty("color","#64748b"),e(P,()=>l.relationship),I.$$click=()=>Xt(S=>S.filter((F,D)=>D!==p())),m(S=>i(I,{...Bt,padding:"0.375rem 0.75rem","font-size":"0.875rem"},S)),n})()})),o}}),_(w,{get when(){return L(()=>ze().length===0)()&&!Dt()},get children(){var o=ut();return o.style.setProperty("text-align","center"),o.style.setProperty("padding","1rem"),o.style.setProperty("color","#64748b"),e(o,()=>r("noDependents")),o}}),_(w,{get when(){return Dt()},get children(){var o=nn(),l=o.firstChild,p=l.firstChild,n=p.firstChild,g=n.firstChild,f=n.nextSibling,c=p.nextSibling,P=c.firstChild,I=P.firstChild,S=P.nextSibling,F=l.nextSibling,D=F.firstChild,K=D.firstChild,R=D.nextSibling,j=R.firstChild,C=j.nextSibling,z=C.nextSibling,q=z.nextSibling,x=q.nextSibling,T=x.nextSibling,M=F.nextSibling,k=M.firstChild,X=k.firstChild,Y=X.nextSibling,a=k.nextSibling,ie=a.firstChild,te=ie.nextSibling,d=M.nextSibling,Z=d.firstChild,ue=Z.nextSibling;return o.style.setProperty("padding","1rem"),o.style.setProperty("background","#f8fafc"),o.style.setProperty("border-radius","8px"),o.style.setProperty("margin-bottom","1rem"),e(n,()=>r("dependentFirstName"),g),f.$$input=h=>tt("firstName",h.currentTarget.value),e(P,()=>r("dependentLastName"),I),S.$$input=h=>tt("lastName",h.currentTarget.value),e(D,()=>r("dependentRelationship"),K),R.addEventListener("change",h=>tt("relationship",h.currentTarget.value)),e(j,()=>r("select")),e(C,()=>r("relationshipChild")),e(z,()=>r("relationshipStepchild")),e(q,()=>r("relationshipParent")),e(x,()=>r("relationshipSibling")),e(T,()=>r("relationshipOther")),e(X,()=>r("dependentSSN")),Y.$$input=h=>tt("ssn",h.currentTarget.value),e(ie,()=>r("dependentDOB")),te.$$input=h=>tt("dateOfBirth",h.currentTarget.value),d.style.setProperty("display","flex"),d.style.setProperty("gap","0.75rem"),d.style.setProperty("margin-top","0.5rem"),Z.$$click=()=>Tt(!1),e(Z,()=>r("cancelDependent")),ue.$$click=Jr,e(ue,()=>r("saveDependent")),m(h=>{var y=Ft,xe=B,$e=J,me=B,Ie=J,_e=B,lt=At,st=Ft,Ye=B,at=J,Je=B,Ot=J,jt=Bt,Vt=ke;return h.e=i(l,y,h.e),h.t=i(n,xe,h.t),h.a=i(f,$e,h.a),h.o=i(P,me,h.o),h.i=i(S,Ie,h.i),h.n=i(D,_e,h.n),h.s=i(R,lt,h.s),h.h=i(M,st,h.h),h.r=i(X,Ye,h.r),h.d=i(Y,at,h.d),h.l=i(ie,Je,h.l),h.u=i(te,Ot,h.u),h.c=i(Z,jt,h.c),h.w=i(ue,Vt,h.w),h},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0}),m(()=>f.value=qe().firstName),m(()=>S.value=qe().lastName),m(()=>R.value=qe().relationship),m(()=>Y.value=qe().ssn),m(()=>te.value=qe().dateOfBirth),o}}),_(w,{get when(){return!Dt()},get children(){var o=on(),l=o.firstChild;l.firstChild;var p=l.nextSibling;return o.style.setProperty("display","flex"),o.style.setProperty("gap","0.75rem"),l.$$click=()=>Tt(!0),e(l,()=>r("addDependent"),null),p.$$click=Gr,e(p,(()=>{var n=L(()=>ze().length===0);return()=>n()?r("skipDependents"):r("dependentsComplete")})()),m(n=>{var g=Bt,f=ke;return n.e=i(l,g,n.e),n.t=i(p,f,n.t),n},{e:void 0,t:void 0}),o}})]}}),_(w,{get when(){return It()||$()?.clientDependents&&$().clientDependents.length>0},get children(){var o=ln(),l=o.firstChild,p=l.nextSibling,n=p.firstChild,g=n.nextSibling;return g.nextSibling,l.style.setProperty("font-size","1.5rem"),e(p,()=>r("dependentsComplete"),n),e(p,()=>ze().length,g),m(f=>i(o,Ue,f)),o}})]}}),null),e(O,_(w,{get when(){return b.type==="sign_letter"},get children(){return[(()=>{var o=Xe(),l=o.firstChild,p=l.nextSibling;return e(l,()=>r("signLetterTitle"),null),e(l,(()=>{var n=L(()=>!!b.required);return()=>n()&&(()=>{var g=Ke();return m(f=>i(g,{...Te,"margin-left":"0.5rem"},f)),g})()})(),null),e(p,(()=>{var n=L(()=>!!ae());return()=>n()?r("statusComplete"):r("statusPending")})()),m(n=>{var g=Be,f=Me,c=Oe(ae());return n.e=i(o,g,n.e),n.t=i(l,f,n.t),n.a=i(p,c,n.a),n},{e:void 0,t:void 0,a:void 0}),o})(),(()=>{var o=We();return e(o,()=>r("signLetterDescription")),m(l=>i(o,He,l)),o})(),_(w,{get when(){return L(()=>!kt())()&&!$()?.clientSignature?.signedAt},get children(){var o=sn(),l=o.firstChild,p=l.nextSibling,n=p.firstChild,g=n.nextSibling,f=g.firstChild,c=p.nextSibling,P=c.firstChild,I=P.firstChild,S=P.nextSibling,F=S.firstChild,D=F.nextSibling,K=D.nextSibling,R=S.nextSibling,j=R.firstChild,C=j.nextSibling,z=c.nextSibling,q=z.firstChild,x=q.firstChild,T=q.nextSibling,M=z.nextSibling,k=M.firstChild,X=k.nextSibling,Y=M.nextSibling;return l.style.setProperty("padding","1rem"),l.style.setProperty("background","#f8fafc"),l.style.setProperty("border-radius","8px"),l.style.setProperty("border","1px solid #e2e8f0"),l.style.setProperty("font-size","0.9rem"),l.style.setProperty("line-height","1.6"),l.style.setProperty("color","#475569"),l.style.setProperty("max-height","200px"),l.style.setProperty("overflow-y","auto"),e(l,()=>r("engagementLetterText")),p.style.setProperty("display","flex"),p.style.setProperty("align-items","flex-start"),p.style.setProperty("gap","0.75rem"),n.addEventListener("change",a=>mt("agreedToTerms",a.currentTarget.checked)),n.style.setProperty("width","20px"),n.style.setProperty("height","20px"),n.style.setProperty("margin-top","2px"),n.style.setProperty("cursor","pointer"),g.style.setProperty("font-size","0.9rem"),g.style.setProperty("color","#1e293b"),g.style.setProperty("cursor","pointer"),e(g,()=>r("agreeToTermsLabel"),f),e(P,()=>r("signatureBoxLabel"),I),S.style.setProperty("position","relative"),S.style.setProperty("border-radius","8px"),S.style.setProperty("background","#ffffff"),S.style.setProperty("overflow","hidden"),F.$$touchend=zt,F.$$touchmove=a=>dr(a),F.$$touchstart=a=>ar(a),F.addEventListener("mouseleave",zt),F.$$mouseup=zt,F.$$mousemove=a=>dr(a),F.$$mousedown=a=>ar(a),Yt(a=>Fr(a),F),F.style.setProperty("width","100%"),F.style.setProperty("height","150px"),F.style.setProperty("cursor","crosshair"),F.style.setProperty("touch-action","none"),D.style.setProperty("position","absolute"),D.style.setProperty("bottom","30px"),D.style.setProperty("left","20px"),D.style.setProperty("right","20px"),D.style.setProperty("height","1px"),D.style.setProperty("background","#94a3b8"),D.style.setProperty("pointer-events","none"),K.style.setProperty("position","absolute"),K.style.setProperty("bottom","35px"),K.style.setProperty("left","15px"),K.style.setProperty("color","#94a3b8"),K.style.setProperty("font-size","1rem"),K.style.setProperty("pointer-events","none"),R.style.setProperty("display","flex"),R.style.setProperty("justify-content","space-between"),R.style.setProperty("align-items","center"),R.style.setProperty("margin-top","0.5rem"),j.style.setProperty("font-size","0.8rem"),j.style.setProperty("color","#64748b"),e(j,()=>r("signatureInstructions")),C.$$click=Br,C.style.setProperty("padding","0.4rem 0.75rem"),C.style.setProperty("font-size","0.8rem"),C.style.setProperty("background","#f1f5f9"),C.style.setProperty("border","1px solid #e2e8f0"),C.style.setProperty("border-radius","6px"),C.style.setProperty("color","#64748b"),C.style.setProperty("cursor","pointer"),e(C,()=>r("clearSignature")),e(q,()=>r("signatureNameLabel"),x),T.$$input=a=>mt("name",a.currentTarget.value),e(k,()=>r("signatureDateLabel")),X.$$input=a=>mt("date",a.currentTarget.value),Y.$$click=Qr,e(Y,()=>r("submitSignature")),m(a=>{var ie=rt,te=B,d=Ae()?"2px solid #22c55e":"2px dashed #cbd5e1",Z=B,ue=J,h=r("signatureNamePlaceholder"),y=B,xe=J,$e={...ke,opacity:!ve().agreedToTerms||!Ae()||!ve().name?.5:1,cursor:!ve().agreedToTerms||!Ae()||!ve().name?"not-allowed":"pointer"},me=!ve().agreedToTerms||!Ae()||!ve().name;return a.e=i(o,ie,a.e),a.t=i(P,te,a.t),d!==a.a&&((a.a=d)!=null?S.style.setProperty("border",d):S.style.removeProperty("border")),a.o=i(q,Z,a.o),a.i=i(T,ue,a.i),h!==a.n&&dt(T,"placeholder",a.n=h),a.s=i(k,y,a.s),a.h=i(X,xe,a.h),a.r=i(Y,$e,a.r),me!==a.d&&(Y.disabled=a.d=me),a},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0}),m(()=>n.checked=ve().agreedToTerms),m(()=>T.value=ve().name),m(()=>X.value=ve().date),o}}),_(w,{get when(){return kt()||$()?.clientSignature?.signedAt},get children(){var o=Qe(),l=o.firstChild,p=l.nextSibling;return l.style.setProperty("font-size","1.5rem"),e(p,()=>r("signatureComplete")),m(n=>i(o,Ue,n)),o}})]}}),null),e(O,_(w,{get when(){return b.type==="review_summary"},get children(){return[(()=>{var o=Xe(),l=o.firstChild,p=l.nextSibling;return e(l,()=>r("reviewSummaryTitle"),null),e(l,(()=>{var n=L(()=>!!b.required);return()=>n()&&(()=>{var g=Ke();return m(f=>i(g,{...Te,"margin-left":"0.5rem"},f)),g})()})(),null),e(p,(()=>{var n=L(()=>!!ae());return()=>n()?r("statusComplete"):r("statusPending")})()),m(n=>{var g=Be,f=Me,c=Oe(ae());return n.e=i(o,g,n.e),n.t=i(l,f,n.t),n.a=i(p,c,n.a),n},{e:void 0,t:void 0,a:void 0}),o})(),(()=>{var o=We();return e(o,()=>r("reviewSummaryDescription")),m(l=>i(o,He,l)),o})(),_(w,{get when(){return L(()=>!Lt())()&&!$()?.clientReviewConfirmation?.reviewedAt},get children(){var o=un(),l=o.firstChild,p=l.firstChild,n=p.nextSibling,g=n.firstChild,f=g.firstChild,c=f.firstChild,P=f.nextSibling,I=g.nextSibling,S=I.firstChild,F=S.firstChild,D=S.nextSibling,K=D.firstChild,R=l.nextSibling,j=R.firstChild,C=j.nextSibling,z=C.firstChild,q=R.nextSibling;return l.style.setProperty("padding","1rem"),l.style.setProperty("background","#f0f9ff"),l.style.setProperty("border-radius","8px"),l.style.setProperty("border","1px solid #bfdbfe"),p.style.setProperty("font-size","1rem"),p.style.setProperty("font-weight","600"),p.style.setProperty("color","#1e40af"),p.style.setProperty("margin-bottom","0.75rem"),e(p,()=>r("clientInfoSummary")),n.style.setProperty("display","flex"),n.style.setProperty("flex-direction","column"),n.style.setProperty("gap","0.5rem"),g.style.setProperty("display","flex"),g.style.setProperty("justify-content","space-between"),g.style.setProperty("font-size","0.9rem"),f.style.setProperty("color","#64748b"),e(f,()=>r("clientNameLabel"),c),P.style.setProperty("color","#1e293b"),P.style.setProperty("font-weight","500"),e(P,()=>$()?.clientName||"-"),e(n,_(w,{get when(){return re().ssn},get children(){var x=an(),T=x.firstChild,M=T.firstChild,k=T.nextSibling;return k.firstChild,x.style.setProperty("display","flex"),x.style.setProperty("justify-content","space-between"),x.style.setProperty("font-size","0.9rem"),T.style.setProperty("color","#64748b"),e(T,()=>r("ssnLast4Label"),M),k.style.setProperty("color","#1e293b"),k.style.setProperty("font-weight","500"),e(k,()=>re().ssn.slice(-4),null),x}}),I),e(n,_(w,{get when(){return re().filingStatus},get children(){var x=dn(),T=x.firstChild,M=T.firstChild,k=T.nextSibling;return x.style.setProperty("display","flex"),x.style.setProperty("justify-content","space-between"),x.style.setProperty("font-size","0.9rem"),T.style.setProperty("color","#64748b"),e(T,()=>r("filingStatusSummaryLabel"),M),k.style.setProperty("color","#1e293b"),k.style.setProperty("font-weight","500"),e(k,(()=>{var X=L(()=>re().filingStatus==="single");return()=>X()?r("filingStatusSingle"):L(()=>re().filingStatus==="married_jointly")()?r("filingStatusMarried"):L(()=>re().filingStatus==="married_separate")()?r("filingStatusMarriedSeparate"):L(()=>re().filingStatus==="head_household")()?r("filingStatusHeadHousehold"):re().filingStatus})()),x}}),I),I.style.setProperty("display","flex"),I.style.setProperty("justify-content","space-between"),I.style.setProperty("font-size","0.9rem"),S.style.setProperty("color","#64748b"),e(S,()=>r("documentsUploadedLabel"),F),D.style.setProperty("color","#1e293b"),D.style.setProperty("font-weight","500"),e(D,()=>$()?.requestedDocuments.filter(x=>x.uploaded).length||0,K),e(D,()=>$()?.requestedDocuments.length||0,null),R.style.setProperty("display","flex"),R.style.setProperty("align-items","flex-start"),R.style.setProperty("gap","0.75rem"),j.addEventListener("change",x=>jr("confirmed",x.currentTarget.checked)),j.style.setProperty("width","20px"),j.style.setProperty("height","20px"),j.style.setProperty("margin-top","2px"),j.style.setProperty("cursor","pointer"),C.style.setProperty("font-size","0.9rem"),C.style.setProperty("color","#1e293b"),C.style.setProperty("cursor","pointer"),e(C,()=>r("confirmReviewLabel"),z),q.$$click=Xr,e(q,()=>r("submitReview")),m(x=>{var T=rt,M=ke;return x.e=i(o,T,x.e),x.t=i(q,M,x.t),x},{e:void 0,t:void 0}),m(()=>j.checked=tr().confirmed),o}}),_(w,{get when(){return Lt()||$()?.clientReviewConfirmation?.reviewedAt},get children(){var o=Qe(),l=o.firstChild,p=l.nextSibling;return l.style.setProperty("font-size","1.5rem"),e(p,()=>r("reviewComplete")),m(n=>i(o,Ue,n)),o}})]}}),null),e(O,_(w,{get when(){return b.type==="set_signing_pin"},get children(){return[(()=>{var o=Xe(),l=o.firstChild,p=l.nextSibling;return e(l,()=>r("signingPinTitle"),null),e(l,(()=>{var n=L(()=>!!b.required);return()=>n()&&(()=>{var g=Ke();return m(f=>i(g,{...Te,"margin-left":"0.5rem"},f)),g})()})(),null),e(p,(()=>{var n=L(()=>!!ae());return()=>n()?r("statusComplete"):r("statusPending")})()),m(n=>{var g=Be,f=Me,c=Oe(ae());return n.e=i(o,g,n.e),n.t=i(l,f,n.t),n.a=i(p,c,n.a),n},{e:void 0,t:void 0,a:void 0}),o})(),(()=>{var o=We();return e(o,()=>r("signingPinDescription")),m(l=>i(o,He,l)),o})(),_(w,{get when(){return L(()=>!Et())()&&!$()?.clientSigningPin?.setAt},get children(){var o=cn(),l=o.firstChild,p=l.firstChild;p.nextSibling;var n=l.nextSibling,g=n.firstChild,f=g.firstChild,c=f.firstChild,P=f.nextSibling,I=g.nextSibling,S=I.firstChild,F=S.firstChild,D=S.nextSibling,K=n.nextSibling,R=K.firstChild,j=R.firstChild,C=R.nextSibling,z=C.firstChild,q=z.nextSibling,x=q.nextSibling,T=C.nextSibling,M=T.firstChild,k=M.nextSibling,X=K.nextSibling,Y=X.firstChild,a=Y.firstChild,ie=Y.nextSibling,te=X.nextSibling;return l.style.setProperty("padding","1rem"),l.style.setProperty("background","#fef3c7"),l.style.setProperty("border-radius","8px"),l.style.setProperty("border","1px solid #fcd34d"),l.style.setProperty("font-size","0.875rem"),l.style.setProperty("line-height","1.5"),l.style.setProperty("color","#92400e"),e(l,()=>W()==="es"?"Autorizacion de firma electronica para declaracion de impuestos. Su PIN de 5 digitos y firma autorizan la presentacion electronica de su declaracion.":"E-file Signature Authorization. Your 5-digit PIN and signature authorize electronic filing of your tax return.",null),n.style.setProperty("display","grid"),n.style.setProperty("grid-template-columns","1fr 1fr"),n.style.setProperty("gap","1rem"),e(f,()=>r("pinLabel"),c),P.$$input=d=>{const Z=d.currentTarget.value.replace(/\D/g,"").slice(0,5);Lr(Z),Ce(null)},e(S,()=>r("confirmPinLabel"),F),D.$$input=d=>{const Z=d.currentTarget.value.replace(/\D/g,"").slice(0,5);Er(Z),Ce(null)},e(I,_(w,{get when(){return L(()=>!!(ce()&&ne()))()&&ce()!==ne()},get children(){var d=ct();return d.style.setProperty("color","#dc2626"),d.style.setProperty("font-size","0.75rem"),d.style.setProperty("margin-top","0.25rem"),d.style.setProperty("display","block"),e(d,()=>r("pinMismatch")),d}}),null),e(R,()=>r("signatureBoxLabel"),j),C.style.setProperty("position","relative"),C.style.setProperty("border-radius","8px"),C.style.setProperty("background","#ffffff"),C.style.setProperty("overflow","hidden"),z.$$touchend=qt,z.$$touchmove=d=>cr(d),z.$$touchstart=d=>ur(d),z.addEventListener("mouseleave",qt),z.$$mouseup=qt,z.$$mousemove=d=>cr(d),z.$$mousedown=d=>ur(d),Yt(d=>Hr(d),z),z.style.setProperty("width","100%"),z.style.setProperty("height","150px"),z.style.setProperty("cursor","crosshair"),z.style.setProperty("touch-action","none"),q.style.setProperty("position","absolute"),q.style.setProperty("bottom","30px"),q.style.setProperty("left","20px"),q.style.setProperty("right","20px"),q.style.setProperty("height","1px"),q.style.setProperty("background","#94a3b8"),q.style.setProperty("pointer-events","none"),x.style.setProperty("position","absolute"),x.style.setProperty("bottom","35px"),x.style.setProperty("left","15px"),x.style.setProperty("color","#94a3b8"),x.style.setProperty("font-size","1rem"),x.style.setProperty("pointer-events","none"),T.style.setProperty("display","flex"),T.style.setProperty("justify-content","space-between"),T.style.setProperty("align-items","center"),T.style.setProperty("margin-top","0.5rem"),M.style.setProperty("font-size","0.8rem"),M.style.setProperty("color","#64748b"),e(M,()=>r("signatureInstructions")),k.$$click=Ur,k.style.setProperty("padding","0.4rem 0.75rem"),k.style.setProperty("font-size","0.8rem"),k.style.setProperty("background","#f1f5f9"),k.style.setProperty("border","1px solid #e2e8f0"),k.style.setProperty("border-radius","6px"),k.style.setProperty("color","#64748b"),k.style.setProperty("cursor","pointer"),e(k,()=>r("clearSignature")),e(Y,()=>r("signatureNameLabel"),a),ie.$$input=d=>{zr(d.currentTarget.value),Ce(null)},e(o,_(w,{get when(){return rr()},get children(){var d=ut();return d.style.setProperty("padding","0.75rem"),d.style.setProperty("background","#fef2f2"),d.style.setProperty("border","1px solid #fecaca"),d.style.setProperty("border-radius","6px"),d.style.setProperty("color","#dc2626"),d.style.setProperty("font-size","0.875rem"),e(d,rr),d}}),te),te.$$click=Wr,e(te,()=>r("submitPin")),m(d=>{var Z=rt,ue=B,h={...J,"font-size":"1.5rem","text-align":"center","letter-spacing":"0.5rem","font-weight":"bold"},y=r("pinPlaceholder"),xe=B,$e={...J,"font-size":"1.5rem","text-align":"center","letter-spacing":"0.5rem","font-weight":"bold","border-color":ce()&&ne()&&ce()!==ne()?"#dc2626":void 0},me=r("confirmPinPlaceholder"),Ie=B,_e=Fe()?"2px solid #22c55e":"2px dashed #cbd5e1",lt=B,st=J,Ye=r("signatureNamePlaceholder"),at={...ke,opacity:!ne()||!ce()||ne().length!==5||ne()!==ce()||!Fe()||!Ze()?.5:1,cursor:!ne()||!ce()||ne().length!==5||ne()!==ce()||!Fe()||!Ze()?"not-allowed":"pointer"},Je=!ne()||!ce()||ne().length!==5||ne()!==ce()||!Fe()||!Ze();return d.e=i(o,Z,d.e),d.t=i(f,ue,d.t),d.a=i(P,h,d.a),y!==d.o&&dt(P,"placeholder",d.o=y),d.i=i(S,xe,d.i),d.n=i(D,$e,d.n),me!==d.s&&dt(D,"placeholder",d.s=me),d.h=i(R,Ie,d.h),_e!==d.r&&((d.r=_e)!=null?C.style.setProperty("border",_e):C.style.removeProperty("border")),d.d=i(Y,lt,d.d),d.l=i(ie,st,d.l),Ye!==d.u&&dt(ie,"placeholder",d.u=Ye),d.c=i(te,at,d.c),Je!==d.w&&(te.disabled=d.w=Je),d},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0}),m(()=>P.value=ne()),m(()=>D.value=ce()),m(()=>ie.value=Ze()),o}}),_(w,{get when(){return Et()||$()?.clientSigningPin?.setAt},get children(){var o=Qe(),l=o.firstChild,p=l.nextSibling;return l.style.setProperty("font-size","1.5rem"),e(p,()=>r("pinComplete")),m(n=>i(o,Ue,n)),o}})]}}),null),O})():(()=>{var O=fn(),o=O.firstChild,l=o.nextSibling,p=l.firstChild,n=p.nextSibling,g=n.firstChild,f=l.nextSibling;return o.addEventListener("change",c=>Kr(b.type,c)),Yt(c=>sr.set(b.type,c),o),o.style.setProperty("display","none"),i(l,fi),e(p,ge&&yn()),i(g,vi),e(g,()=>ei(b),null),e(g,(()=>{var c=L(()=>!!b.required);return()=>c()&&(()=>{var P=ct();return e(P,()=>r("REQUIRED")),m(I=>i(P,{...Te,"margin-left":"0.5rem"},I)),P})()})(),null),e(n,_(w,{get when(){return ee?.fileName&&he},get children(){var c=ut();return c.style.setProperty("font-size","0.8rem"),c.style.setProperty("color","#64748b"),c.style.setProperty("margin-top","0.25rem"),e(c,()=>ee?.fileName),c}}),null),f.$$click=()=>!ge&&!he&&pr(b.type),f.disabled=ge||he,e(f,ge?(()=>{var c=ct();return e(c,()=>r("uploaded")),c})():he?[(()=>{var c=vn();return c.style.setProperty("animation","spin 1s linear infinite"),c.style.setProperty("display","inline-block"),c})(),(()=>{var c=ct();return e(c,(()=>{var P=L(()=>ee?.status==="processing");return()=>P()?r("processing"):r("uploading")})()),c})()]:(()=>{var c=ct();return e(c,()=>r("upload")),c})()),e(O,_(w,{get when(){return he&&ee?.progress},get children(){var c=gn(),P=c.firstChild,I=P.firstChild;return c.style.setProperty("width","100%"),i(P,Pi),I.style.setProperty("height","100%"),I.style.setProperty("background","linear-gradient(90deg, #3b82f6 0%, #1d4ed8 100%)"),I.style.setProperty("transition","width 0.3s ease"),m(S=>(S=`${ee?.progress}%`)!=null?I.style.setProperty("width",S):I.style.removeProperty("width")),c}}),null),e(O,_(w,{get when(){return Ne&&ee?.errorMessage},get children(){var c=mn(),P=c.firstChild;return i(c,hi),e(c,()=>ee?.errorMessage,P),P.$$click=()=>pr(b.type),P.style.setProperty("margin-left","0.5rem"),P.style.setProperty("background","none"),P.style.setProperty("border","none"),P.style.setProperty("color","#2563eb"),P.style.setProperty("cursor","pointer"),P.style.setProperty("text-decoration","underline"),P.style.setProperty("font-size","0.8rem"),e(P,()=>r("tryAgain")),c}}),null),m(c=>{var P=mi(ge,Ne),I=yi(ge,b.required),S=bi(ge,he);return c.e=i(O,P,c.e),c.t=i(p,I,c.t),c.a=i(f,S,c.a),c},{e:void 0,t:void 0,a:void 0}),O})()}})),m(b=>{var ee=yt,ge=ai,he=ci(bt),Ne=pi,Ut=gr,ae=gi;return b.e=i(N,ee,b.e),b.t=i(de,ge,b.t),b.a=i(Ht,he,b.a),b.o=i(St,Ne,b.o),b.i=i(xt,Ut,b.i),b.n=i(vr,ae,b.n),b},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),N})(),_(w,{when:bt===100,get children(){var N=Ki(),H=N.firstChild,G=H.nextSibling,Q=G.firstChild,U=Q.nextSibling;return H.style.setProperty("font-size","2rem"),e(Q,()=>r("completionTitle")),U.style.setProperty("font-size","0.875rem"),U.style.setProperty("margin-top","0.25rem"),e(U,()=>r("completionMessage")),m(de=>i(N,mr("success"),de)),N}}),(()=>{var N=Zi(),H=N.firstChild,G=H.firstChild,Q=H.nextSibling,U=Q.firstChild,de=U.firstChild;de.nextSibling;var pe=U.nextSibling,Mt=pe.firstChild,je=pe.nextSibling,ht=je.firstChild,Pt=ht.nextSibling,Ve=Pt.nextSibling,ot=Ve.nextSibling;return e(G,()=>r("needHelp")),Q.style.setProperty("color","#64748b"),Q.style.setProperty("font-size","0.9rem"),Q.style.setProperty("line-height","1.6"),U.style.setProperty("margin-bottom","0.75rem"),e(de,()=>r("acceptedFiles")),e(U,()=>r("acceptedFilesDesc"),null),pe.style.setProperty("margin-bottom","0.75rem"),e(Mt,()=>r("tipsTitle")),je.style.setProperty("padding-left","1.5rem"),je.style.setProperty("margin","0"),e(ht,()=>r("tip1")),e(Pt,()=>r("tip2")),e(Ve,()=>r("tip3")),e(ot,()=>r("tip4")),m(Se=>{var Ht={...yt,padding:"1.5rem"},St=gr;return Se.e=i(N,Ht,Se.e),Se.t=i(H,St,Se.t),Se},{e:void 0,t:void 0}),N})()]}}),it),e(yr,()=>r("secureTransmission")),nt.style.setProperty("margin-top","0.5rem"),nt.style.setProperty("font-size","0.8rem"),e(nt,()=>r("linkExpires"),Ti),e(nt,(()=>{var N=L(()=>!!$()?.expiresAt);return()=>N()?new Date($().expiresAt).toLocaleDateString():"--"})(),null),m(N=>{var H=ii,G=wi;return N.e=i(V,H,N.e),N.t=i(it,G,N.t),N},{e:void 0,t:void 0}),t})()};Fi(["click","input","mousedown","mousemove","mouseup","touchstart","touchmove","touchend"]);export{_n as default};
