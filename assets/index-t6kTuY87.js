(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();const oi=!1,ii=(t,e)=>t===e,rn=Symbol("solid-proxy"),No=typeof Proxy=="function",li=Symbol("solid-track"),nn={equals:ii};let To=Fo;const ir=1,on=2,Bo={owned:null,cleanups:null,context:null,owner:null};var dt=null;let yn=null,ai=null,St=null,Dt=null,Kt=null,dn=0;function Or(t,e){const n=St,i=dt,a=t.length===0,s=e===void 0?i:e,l=a?Bo:{owned:null,cleanups:null,context:s?s.context:null,owner:s},c=a?t:()=>t(()=>Ut(()=>jr(l)));dt=l,St=null;try{return sr(c,!0)}finally{St=n,dt=i}}function Z(t,e){e=e?Object.assign({},nn,e):nn;const n={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},i=a=>(typeof a=="function"&&(a=a(n.value)),zo(n,a));return[jo.bind(n),i]}function B(t,e,n){const i=zn(t,e,!1,ir);qr(i)}function lr(t,e,n){To=yi;const i=zn(t,e,!1,ir);i.user=!0,Kt?Kt.push(i):qr(i)}function qe(t,e,n){n=n?Object.assign({},nn,n):nn;const i=zn(t,e,!0,0);return i.observers=null,i.observerSlots=null,i.comparator=n.equals||void 0,qr(i),jo.bind(i)}function si(t){return sr(t,!1)}function Ut(t){if(St===null)return t();const e=St;St=null;try{return t()}finally{St=e}}function Rn(t,e,n){const i=Array.isArray(t);let a,s=n&&n.defer;return l=>{let c;if(i){c=Array(t.length);for(let y=0;y<t.length;y++)c[y]=t[y]()}else c=t();if(s)return s=!1,l;const d=Ut(()=>e(c,a,l));return a=c,d}}function ar(t){lr(()=>Ut(t))}function kr(t){return dt===null||(dt.cleanups===null?dt.cleanups=[t]:dt.cleanups.push(t)),t}function Mo(){return dt}function Ro(t,e){const n=dt,i=St;dt=t,St=null;try{return sr(e,!0)}catch(a){Fn(a)}finally{dt=n,St=i}}function ci(t){const e=St,n=dt;return Promise.resolve().then(()=>{St=e,dt=n;let i;return sr(t,!1),St=dt=null,i?i.done:void 0})}const[Ou,ju]=Z(!1);function Oo(t,e){const n=Symbol("context");return{id:n,Provider:vi(n),defaultValue:t}}function On(t){let e;return dt&&dt.context&&(e=dt.context[t.id])!==void 0?e:t.defaultValue}function jn(t){const e=qe(t),n=qe(()=>Ln(e()));return n.toArray=()=>{const i=n();return Array.isArray(i)?i:i!=null?[i]:[]},n}function jo(){if(this.sources&&this.state)if(this.state===ir)qr(this);else{const t=Dt;Dt=null,sr(()=>an(this),!1),Dt=t}if(St){const t=this.observers?this.observers.length:0;St.sources?(St.sources.push(this),St.sourceSlots.push(t)):(St.sources=[this],St.sourceSlots=[t]),this.observers?(this.observers.push(St),this.observerSlots.push(St.sources.length-1)):(this.observers=[St],this.observerSlots=[St.sources.length-1])}return this.value}function zo(t,e,n){let i=t.value;return(!t.comparator||!t.comparator(i,e))&&(t.value=e,t.observers&&t.observers.length&&sr(()=>{for(let a=0;a<t.observers.length;a+=1){const s=t.observers[a],l=yn&&yn.running;l&&yn.disposed.has(s),(l?!s.tState:!s.state)&&(s.pure?Dt.push(s):Kt.push(s),s.observers&&qo(s)),l||(s.state=ir)}if(Dt.length>1e6)throw Dt=[],new Error},!1)),e}function qr(t){if(!t.fn)return;jr(t);const e=dn;di(t,t.value,e)}function di(t,e,n){let i;const a=dt,s=St;St=dt=t;try{i=t.fn(e)}catch(l){return t.pure&&(t.state=ir,t.owned&&t.owned.forEach(jr),t.owned=null),t.updatedAt=n+1,Fn(l)}finally{St=s,dt=a}(!t.updatedAt||t.updatedAt<=n)&&(t.updatedAt!=null&&"observers"in t?zo(t,i):t.value=i,t.updatedAt=n)}function zn(t,e,n,i=ir,a){const s={fn:t,state:i,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:dt,context:dt?dt.context:null,pure:n};return dt===null||dt!==Bo&&(dt.owned?dt.owned.push(s):dt.owned=[s]),s}function ln(t){if(t.state===0)return;if(t.state===on)return an(t);if(t.suspense&&Ut(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<dn);)t.state&&e.push(t);for(let n=e.length-1;n>=0;n--)if(t=e[n],t.state===ir)qr(t);else if(t.state===on){const i=Dt;Dt=null,sr(()=>an(t,e[0]),!1),Dt=i}}function sr(t,e){if(Dt)return t();let n=!1;e||(Dt=[]),Kt?n=!0:Kt=[],dn++;try{const i=t();return ui(n),i}catch(i){n||(Kt=null),Dt=null,Fn(i)}}function ui(t){if(Dt&&(Fo(Dt),Dt=null),t)return;const e=Kt;Kt=null,e.length&&sr(()=>To(e),!1)}function Fo(t){for(let e=0;e<t.length;e++)ln(t[e])}function yi(t){let e,n=0;for(e=0;e<t.length;e++){const i=t[e];i.user?t[n++]=i:ln(i)}for(e=0;e<n;e++)ln(t[e])}function an(t,e){t.state=0;for(let n=0;n<t.sources.length;n+=1){const i=t.sources[n];if(i.sources){const a=i.state;a===ir?i!==e&&(!i.updatedAt||i.updatedAt<dn)&&ln(i):a===on&&an(i,e)}}}function qo(t){for(let e=0;e<t.observers.length;e+=1){const n=t.observers[e];n.state||(n.state=on,n.pure?Dt.push(n):Kt.push(n),n.observers&&qo(n))}}function jr(t){let e;if(t.sources)for(;t.sources.length;){const n=t.sources.pop(),i=t.sourceSlots.pop(),a=n.observers;if(a&&a.length){const s=a.pop(),l=n.observerSlots.pop();i<a.length&&(s.sourceSlots[l]=i,a[i]=s,n.observerSlots[i]=l)}}if(t.tOwned){for(e=t.tOwned.length-1;e>=0;e--)jr(t.tOwned[e]);delete t.tOwned}if(t.owned){for(e=t.owned.length-1;e>=0;e--)jr(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function mi(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function Fn(t,e=dt){throw mi(t)}function Ln(t){if(typeof t=="function"&&!t.length)return Ln(t());if(Array.isArray(t)){const e=[];for(let n=0;n<t.length;n++){const i=Ln(t[n]);Array.isArray(i)?e.push.apply(e,i):e.push(i)}return e}return t}function vi(t,e){return function(i){let a;return B(()=>a=Ut(()=>(dt.context={...dt.context,[t]:i.value},jn(()=>i.children))),void 0),a}}const gi=Symbol("fallback");function Gn(t){for(let e=0;e<t.length;e++)t[e]()}function pi(t,e,n={}){let i=[],a=[],s=[],l=0,c=e.length>1?[]:null;return kr(()=>Gn(s)),()=>{let d=t()||[],y=d.length,g,E;return d[li],Ut(()=>{let A,$,P,x,h,M,U,R,X;if(y===0)l!==0&&(Gn(s),s=[],i=[],a=[],l=0,c&&(c=[])),n.fallback&&(i=[gi],a[0]=Or(Y=>(s[0]=Y,n.fallback())),l=1);else if(l===0){for(a=new Array(y),E=0;E<y;E++)i[E]=d[E],a[E]=Or(L);l=y}else{for(P=new Array(y),x=new Array(y),c&&(h=new Array(y)),M=0,U=Math.min(l,y);M<U&&i[M]===d[M];M++);for(U=l-1,R=y-1;U>=M&&R>=M&&i[U]===d[R];U--,R--)P[R]=a[U],x[R]=s[U],c&&(h[R]=c[U]);for(A=new Map,$=new Array(R+1),E=R;E>=M;E--)X=d[E],g=A.get(X),$[E]=g===void 0?-1:g,A.set(X,E);for(g=M;g<=U;g++)X=i[g],E=A.get(X),E!==void 0&&E!==-1?(P[E]=a[g],x[E]=s[g],c&&(h[E]=c[g]),E=$[E],A.set(X,E)):s[g]();for(E=M;E<y;E++)E in P?(a[E]=P[E],s[E]=x[E],c&&(c[E]=h[E],c[E](E))):a[E]=Or(L);a=a.slice(0,l=y),i=d.slice(0)}return a});function L(A){if(s[E]=A,c){const[$,P]=Z(E);return c[E]=P,e(d[E],$)}return e(d[E])}}}function u(t,e){return Ut(()=>t(e||{}))}function Vr(){return!0}const Dn={get(t,e,n){return e===rn?n:t.get(e)},has(t,e){return e===rn?!0:t.has(e)},set:Vr,deleteProperty:Vr,getOwnPropertyDescriptor(t,e){return{configurable:!0,enumerable:!0,get(){return t.get(e)},set:Vr,deleteProperty:Vr}},ownKeys(t){return t.keys()}};function mn(t){return(t=typeof t=="function"?t():t)?t:{}}function fi(){for(let t=0,e=this.length;t<e;++t){const n=this[t]();if(n!==void 0)return n}}function Nn(...t){let e=!1;for(let l=0;l<t.length;l++){const c=t[l];e=e||!!c&&rn in c,t[l]=typeof c=="function"?(e=!0,qe(c)):c}if(No&&e)return new Proxy({get(l){for(let c=t.length-1;c>=0;c--){const d=mn(t[c])[l];if(d!==void 0)return d}},has(l){for(let c=t.length-1;c>=0;c--)if(l in mn(t[c]))return!0;return!1},keys(){const l=[];for(let c=0;c<t.length;c++)l.push(...Object.keys(mn(t[c])));return[...new Set(l)]}},Dn);const n={},i=Object.create(null);for(let l=t.length-1;l>=0;l--){const c=t[l];if(!c)continue;const d=Object.getOwnPropertyNames(c);for(let y=d.length-1;y>=0;y--){const g=d[y];if(g==="__proto__"||g==="constructor")continue;const E=Object.getOwnPropertyDescriptor(c,g);if(!i[g])i[g]=E.get?{enumerable:!0,configurable:!0,get:fi.bind(n[g]=[E.get.bind(c)])}:E.value!==void 0?E:void 0;else{const L=n[g];L&&(E.get?L.push(E.get.bind(c)):E.value!==void 0&&L.push(()=>E.value))}}}const a={},s=Object.keys(i);for(let l=s.length-1;l>=0;l--){const c=s[l],d=i[c];d&&d.get?Object.defineProperty(a,c,d):a[c]=d?d.value:void 0}return a}function bi(t,...e){if(No&&rn in t){const a=new Set(e.length>1?e.flat():e[0]),s=e.map(l=>new Proxy({get(c){return l.includes(c)?t[c]:void 0},has(c){return l.includes(c)&&c in t},keys(){return l.filter(c=>c in t)}},Dn));return s.push(new Proxy({get(l){return a.has(l)?void 0:t[l]},has(l){return a.has(l)?!1:l in t},keys(){return Object.keys(t).filter(l=>!a.has(l))}},Dn)),s}const n={},i=e.map(()=>({}));for(const a of Object.getOwnPropertyNames(t)){const s=Object.getOwnPropertyDescriptor(t,a),l=!s.get&&!s.set&&s.enumerable&&s.writable&&s.configurable;let c=!1,d=0;for(const y of e)y.includes(a)&&(c=!0,l?i[d][a]=s.value:Object.defineProperty(i[d],a,s)),++d;c||(l?n[a]=s.value:Object.defineProperty(n,a,s))}return[...i,n]}const hi=t=>`Stale read from <${t}>.`;function mt(t){const e="fallback"in t&&{fallback:()=>t.fallback};return qe(pi(()=>t.each,t.children,e||void 0))}function Ge(t){const e=t.keyed,n=qe(()=>t.when,void 0,void 0),i=e?n:qe(n,void 0,{equals:(a,s)=>!a==!s});return qe(()=>{const a=i();if(a){const s=t.children;return typeof s=="function"&&s.length>0?Ut(()=>s(e?a:()=>{if(!Ut(i))throw hi("Show");return n()})):s}return t.fallback},void 0,void 0)}const Si=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Pi=new Set(["className","value","readOnly","noValidate","formNoValidate","isMap","noModule","playsInline",...Si]),$i=new Set(["innerHTML","textContent","innerText","children"]),xi=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Ci=Object.assign(Object.create(null),{class:"className",novalidate:{$:"noValidate",FORM:1},formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function _i(t,e){const n=Ci[t];return typeof n=="object"?n[e]?n.$:void 0:n}const wi=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),F=t=>qe(()=>t());function ki(t,e,n){let i=n.length,a=e.length,s=i,l=0,c=0,d=e[a-1].nextSibling,y=null;for(;l<a||c<s;){if(e[l]===n[c]){l++,c++;continue}for(;e[a-1]===n[s-1];)a--,s--;if(a===l){const g=s<i?c?n[c-1].nextSibling:n[s-c]:d;for(;c<s;)t.insertBefore(n[c++],g)}else if(s===c)for(;l<a;)(!y||!y.has(e[l]))&&e[l].remove(),l++;else if(e[l]===n[s-1]&&n[c]===e[a-1]){const g=e[--a].nextSibling;t.insertBefore(n[c++],e[l++].nextSibling),t.insertBefore(n[--s],g),e[a]=n[s]}else{if(!y){y=new Map;let E=c;for(;E<s;)y.set(n[E],E++)}const g=y.get(e[l]);if(g!=null)if(c<g&&g<s){let E=l,L=1,A;for(;++E<a&&E<s&&!((A=y.get(e[E]))==null||A!==g+L);)L++;if(L>g-c){const $=e[l];for(;c<g;)t.insertBefore(n[c++],$)}else t.replaceChild(n[c++],e[l++])}else l++;else e[l++].remove()}}}const Jn="_$DX_DELEGATE";function Ai(t,e,n,i={}){let a;return Or(s=>{a=s,e===document?t():r(e,t(),e.firstChild?null:void 0,n)},i.owner),()=>{a(),e.textContent=""}}function k(t,e,n,i){let a;const s=()=>{const c=document.createElement("template");return c.innerHTML=t,c.content.firstChild},l=()=>(a||(a=s())).cloneNode(!0);return l.cloneNode=l,l}function vt(t,e=window.document){const n=e[Jn]||(e[Jn]=new Set);for(let i=0,a=t.length;i<a;i++){const s=t[i];n.has(s)||(n.add(s),e.addEventListener(s,Bi))}}function Ze(t,e,n){n==null?t.removeAttribute(e):t.setAttribute(e,n)}function Ii(t,e,n){n?t.setAttribute(e,""):t.removeAttribute(e)}function qn(t,e){e==null?t.removeAttribute("class"):t.className=e}function br(t,e,n,i){if(i)Array.isArray(n)?(t[`$$${e}`]=n[0],t[`$$${e}Data`]=n[1]):t[`$$${e}`]=n;else if(Array.isArray(n)){const a=n[0];t.addEventListener(e,n[0]=s=>a.call(t,n[1],s))}else t.addEventListener(e,n,typeof n!="function"&&n)}function Ei(t,e,n={}){const i=Object.keys(e||{}),a=Object.keys(n);let s,l;for(s=0,l=a.length;s<l;s++){const c=a[s];!c||c==="undefined"||e[c]||(Qn(t,c,!1),delete n[c])}for(s=0,l=i.length;s<l;s++){const c=i[s],d=!!e[c];!c||c==="undefined"||n[c]===d||!d||(Qn(t,c,!0),n[c]=d)}return n}function o(t,e,n){if(!e)return n?Ze(t,"style"):e;const i=t.style;if(typeof e=="string")return i.cssText=e;typeof n=="string"&&(i.cssText=n=void 0),n||(n={}),e||(e={});let a,s;for(s in n)e[s]==null&&i.removeProperty(s),delete n[s];for(s in e)a=e[s],a!==n[s]&&(i.setProperty(s,a),n[s]=a);return n}function Li(t,e={},n,i){const a={};return B(()=>a.children=zr(t,e.children,a.children)),B(()=>typeof e.ref=="function"&&Di(e.ref,t)),B(()=>Ni(t,e,n,!0,a,!0)),a}function Di(t,e,n){return Ut(()=>t(e,n))}function r(t,e,n,i){if(n!==void 0&&!i&&(i=[]),typeof e!="function")return zr(t,e,i,n);B(a=>zr(t,e(),a,n),i)}function Ni(t,e,n,i,a={},s=!1){e||(e={});for(const l in a)if(!(l in e)){if(l==="children")continue;a[l]=Kn(t,l,null,a[l],n,s,e)}for(const l in e){if(l==="children")continue;const c=e[l];a[l]=Kn(t,l,c,a[l],n,s,e)}}function Ti(t){return t.toLowerCase().replace(/-([a-z])/g,(e,n)=>n.toUpperCase())}function Qn(t,e,n){const i=e.trim().split(/\s+/);for(let a=0,s=i.length;a<s;a++)t.classList.toggle(i[a],n)}function Kn(t,e,n,i,a,s,l){let c,d,y,g,E;if(e==="style")return o(t,n,i);if(e==="classList")return Ei(t,n,i);if(n===i)return i;if(e==="ref")s||n(t);else if(e.slice(0,3)==="on:"){const L=e.slice(3);i&&t.removeEventListener(L,i,typeof i!="function"&&i),n&&t.addEventListener(L,n,typeof n!="function"&&n)}else if(e.slice(0,10)==="oncapture:"){const L=e.slice(10);i&&t.removeEventListener(L,i,!0),n&&t.addEventListener(L,n,!0)}else if(e.slice(0,2)==="on"){const L=e.slice(2).toLowerCase(),A=wi.has(L);if(!A&&i){const $=Array.isArray(i)?i[0]:i;t.removeEventListener(L,$)}(A||n)&&(br(t,L,n,A),A&&vt([L]))}else e.slice(0,5)==="attr:"?Ze(t,e.slice(5),n):e.slice(0,5)==="bool:"?Ii(t,e.slice(5),n):(E=e.slice(0,5)==="prop:")||(y=$i.has(e))||(g=_i(e,t.tagName))||(d=Pi.has(e))||(c=t.nodeName.includes("-")||"is"in l)?(E&&(e=e.slice(5),d=!0),e==="class"||e==="className"?qn(t,n):c&&!d&&!y?t[Ti(e)]=n:t[g||e]=n):Ze(t,xi[e]||e,n);return n}function Bi(t){let e=t.target;const n=`$$${t.type}`,i=t.target,a=t.currentTarget,s=d=>Object.defineProperty(t,"target",{configurable:!0,value:d}),l=()=>{const d=e[n];if(d&&!e.disabled){const y=e[`${n}Data`];if(y!==void 0?d.call(e,y,t):d.call(e,t),t.cancelBubble)return}return e.host&&typeof e.host!="string"&&!e.host._$host&&e.contains(t.target)&&s(e.host),!0},c=()=>{for(;l()&&(e=e._$host||e.parentNode||e.host););};if(Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return e||document}}),t.composedPath){const d=t.composedPath();s(d[0]);for(let y=0;y<d.length-2&&(e=d[y],!!l());y++){if(e._$host){e=e._$host,c();break}if(e.parentNode===a)break}}else c();s(i)}function zr(t,e,n,i,a){for(;typeof n=="function";)n=n();if(e===n)return n;const s=typeof e,l=i!==void 0;if(t=l&&n[0]&&n[0].parentNode||t,s==="string"||s==="number"){if(s==="number"&&(e=e.toString(),e===n))return n;if(l){let c=n[0];c&&c.nodeType===3?c.data!==e&&(c.data=e):c=document.createTextNode(e),n=xr(t,n,i,c)}else n!==""&&typeof n=="string"?n=t.firstChild.data=e:n=t.textContent=e}else if(e==null||s==="boolean")n=xr(t,n,i);else{if(s==="function")return B(()=>{let c=e();for(;typeof c=="function";)c=c();n=zr(t,c,n,i)}),()=>n;if(Array.isArray(e)){const c=[],d=n&&Array.isArray(n);if(Tn(c,e,n,a))return B(()=>n=zr(t,c,n,i,!0)),()=>n;if(c.length===0){if(n=xr(t,n,i),l)return n}else d?n.length===0?Zn(t,c,i):ki(t,n,c):(n&&xr(t),Zn(t,c));n=c}else if(e.nodeType){if(Array.isArray(n)){if(l)return n=xr(t,n,i,e);xr(t,n,null,e)}else n==null||n===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);n=e}}return n}function Tn(t,e,n,i){let a=!1;for(let s=0,l=e.length;s<l;s++){let c=e[s],d=n&&n[t.length],y;if(!(c==null||c===!0||c===!1))if((y=typeof c)=="object"&&c.nodeType)t.push(c);else if(Array.isArray(c))a=Tn(t,c,d)||a;else if(y==="function")if(i){for(;typeof c=="function";)c=c();a=Tn(t,Array.isArray(c)?c:[c],Array.isArray(d)?d:[d])||a}else t.push(c),a=!0;else{const g=String(c);d&&d.nodeType===3&&d.data===g?t.push(d):t.push(document.createTextNode(g))}}return a}function Zn(t,e,n=null){for(let i=0,a=e.length;i<a;i++)t.insertBefore(e[i],n)}function xr(t,e,n,i){if(n===void 0)return t.textContent="";const a=i||document.createTextNode("");if(e.length){let s=!1;for(let l=e.length-1;l>=0;l--){const c=e[l];if(a!==c){const d=c.parentNode===t;!s&&!l?d?t.replaceChild(a,c):t.insertBefore(a,n):d&&c.remove()}else s=!0}}else t.insertBefore(a,n);return[a]}const Mi=!1;function Uo(){let t=new Set;function e(a){return t.add(a),()=>t.delete(a)}let n=!1;function i(a,s){if(n)return!(n=!1);const l={to:a,options:s,defaultPrevented:!1,preventDefault:()=>l.defaultPrevented=!0};for(const c of t)c.listener({...l,from:c.location,retry:d=>{d&&(n=!0),c.navigate(a,{...s,resolve:!1})}});return!l.defaultPrevented}return{subscribe:e,confirm:i}}let Bn;function Un(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),Bn=window.history.state._depth}Un();function Ri(t){return{...t,_depth:window.history.state&&window.history.state._depth}}function Oi(t,e){let n=!1;return()=>{const i=Bn;Un();const a=i==null?null:Bn-i;if(n){n=!1;return}a&&e(a)?(n=!0,window.history.go(-a)):t()}}const ji=/^(?:[a-z0-9]+:)?\/\//i,zi=/^\/+|(\/)\/+$/g,Vo="http://sr";function pr(t,e=!1){const n=t.replace(zi,"$1");return n?e||/^[?#]/.test(n)?n:"/"+n:""}function tn(t,e,n){if(ji.test(e))return;const i=pr(t),a=n&&pr(n);let s="";return!a||e.startsWith("/")?s=i:a.toLowerCase().indexOf(i.toLowerCase())!==0?s=i+a:s=a,(s||"/")+pr(e,!s)}function Fi(t,e){if(t==null)throw new Error(e);return t}function qi(t,e){return pr(t).replace(/\/*(\*.*)?$/g,"")+pr(e)}function Yo(t){const e={};return t.searchParams.forEach((n,i)=>{i in e?Array.isArray(e[i])?e[i].push(n):e[i]=[e[i],n]:e[i]=n}),e}function Ui(t,e,n){const[i,a]=t.split("/*",2),s=i.split("/").filter(Boolean),l=s.length;return c=>{const d=c.split("/").filter(Boolean),y=d.length-l;if(y<0||y>0&&a===void 0&&!e)return null;const g={path:l?"":"/",params:{}},E=L=>n===void 0?void 0:n[L];for(let L=0;L<l;L++){const A=s[L],$=A[0]===":",P=$?d[L]:d[L].toLowerCase(),x=$?A.slice(1):A.toLowerCase();if($&&vn(P,E(x)))g.params[x]=P;else if($||!vn(P,x))return null;g.path+=`/${P}`}if(a){const L=y?d.slice(-y).join("/"):"";if(vn(L,E(a)))g.params[a]=L;else return null}return g}}function vn(t,e){const n=i=>i===t;return e===void 0?!0:typeof e=="string"?n(e):typeof e=="function"?e(t):Array.isArray(e)?e.some(n):e instanceof RegExp?e.test(t):!1}function Vi(t){const[e,n]=t.pattern.split("/*",2),i=e.split("/").filter(Boolean);return i.reduce((a,s)=>a+(s.startsWith(":")?2:3),i.length-(n===void 0?0:1))}function Wo(t){const e=new Map,n=Mo();return new Proxy({},{get(i,a){return e.has(a)||Ro(n,()=>e.set(a,qe(()=>t()[a]))),e.get(a)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(t())}})}function Ho(t){let e=/(\/?\:[^\/]+)\?/.exec(t);if(!e)return[t];let n=t.slice(0,e.index),i=t.slice(e.index+e[0].length);const a=[n,n+=e[1]];for(;e=/^(\/\:[^\/]+)\?/.exec(i);)a.push(n+=e[1]),i=i.slice(e[0].length);return Ho(i).reduce((s,l)=>[...s,...a.map(c=>c+l)],[])}const Yi=100,Go=Oo(),Vn=Oo(),Ur=()=>Fi(On(Go),"<A> and 'use' router primitives can be only used inside a Route."),Wi=()=>On(Vn)||Ur().base,Hi=t=>{const e=Wi();return qe(()=>e.resolvePath(t()))},Gi=t=>{const e=Ur();return qe(()=>{const n=t();return n!==void 0?e.renderPath(n):n})},Yn=()=>Ur().navigatorFactory(),Ji=()=>Ur().location,Qi=()=>Ur().params;function Ki(t,e=""){const{component:n,preload:i,load:a,children:s,info:l}=t,c=!s||Array.isArray(s)&&!s.length,d={key:t,component:n,preload:i||a,info:l};return Jo(t.path).reduce((y,g)=>{for(const E of Ho(g)){const L=qi(e,E);let A=c?L:L.split("/*",1)[0];A=A.split("/").map($=>$.startsWith(":")||$.startsWith("*")?$:encodeURIComponent($)).join("/"),y.push({...d,originalPath:g,pattern:A,matcher:Ui(A,!c,t.matchFilters)})}return y},[])}function Zi(t,e=0){return{routes:t,score:Vi(t[t.length-1])*1e4-e,matcher(n){const i=[];for(let a=t.length-1;a>=0;a--){const s=t[a],l=s.matcher(n);if(!l)return null;i.unshift({...l,route:s})}return i}}}function Jo(t){return Array.isArray(t)?t:[t]}function Qo(t,e="",n=[],i=[]){const a=Jo(t);for(let s=0,l=a.length;s<l;s++){const c=a[s];if(c&&typeof c=="object"){c.hasOwnProperty("path")||(c.path="");const d=Ki(c,e);for(const y of d){n.push(y);const g=Array.isArray(c.children)&&c.children.length===0;if(c.children&&!g)Qo(c.children,y.pattern,n,i);else{const E=Zi([...n],i.length);i.push(E)}n.pop()}}}return n.length?i:i.sort((s,l)=>l.score-s.score)}function gn(t,e){for(let n=0,i=t.length;n<i;n++){const a=t[n].matcher(e);if(a)return a}return[]}function Xi(t,e,n){const i=new URL(Vo),a=qe(g=>{const E=t();try{return new URL(E,i)}catch{return console.error(`Invalid path ${E}`),g}},i,{equals:(g,E)=>g.href===E.href}),s=qe(()=>a().pathname),l=qe(()=>a().search,!0),c=qe(()=>a().hash),d=()=>"",y=Rn(l,()=>Yo(a()));return{get pathname(){return s()},get search(){return l()},get hash(){return c()},get state(){return e()},get key(){return d()},query:n?n(y):Wo(y)}}let vr;function el(){return vr}function tl(t,e,n,i={}){const{signal:[a,s],utils:l={}}=t,c=l.parsePath||(ie=>ie),d=l.renderPath||(ie=>ie),y=l.beforeLeave||Uo(),g=tn("",i.base||"");if(g===void 0)throw new Error(`${g} is not a valid base path`);g&&!a().value&&s({value:g,replace:!0,scroll:!1});const[E,L]=Z(!1);let A;const $=(ie,_)=>{_.value===P()&&_.state===h()||(A===void 0&&L(!0),vr=ie,A=_,ci(()=>{A===_&&(x(A.value),M(A.state),X[1](m=>m.filter(D=>D.pending)))}).finally(()=>{A===_&&si(()=>{vr=void 0,ie==="navigate"&&ee(A),L(!1),A=void 0})}))},[P,x]=Z(a().value),[h,M]=Z(a().state),U=Xi(P,h,l.queryWrapper),R=[],X=Z([]),Y=qe(()=>typeof i.transformUrl=="function"?gn(e(),i.transformUrl(U.pathname)):gn(e(),U.pathname)),oe=()=>{const ie=Y(),_={};for(let m=0;m<ie.length;m++)Object.assign(_,ie[m].params);return _},re=l.paramsWrapper?l.paramsWrapper(oe,e):Wo(oe),me={pattern:g,path:()=>g,outlet:()=>null,resolvePath(ie){return tn(g,ie)}};return B(Rn(a,ie=>$("native",ie),{defer:!0})),{base:me,location:U,params:re,isRouting:E,renderPath:d,parsePath:c,navigatorFactory:te,matches:Y,beforeLeave:y,preloadRoute:f,singleFlight:i.singleFlight===void 0?!0:i.singleFlight,submissions:X};function ue(ie,_,m){Ut(()=>{if(typeof _=="number"){_&&(l.go?l.go(_):console.warn("Router integration does not support relative routing"));return}const D=!_||_[0]==="?",{replace:v,resolve:C,scroll:b,state:w}={replace:!1,resolve:!D,scroll:!0,...m},le=C?ie.resolvePath(_):tn(D&&U.pathname||"",_);if(le===void 0)throw new Error(`Path '${_}' is not a routable path`);if(R.length>=Yi)throw new Error("Too many redirects");const S=P();(le!==S||w!==h())&&(Mi||y.confirm(le,m)&&(R.push({value:S,replace:v,scroll:b,state:h()}),$("navigate",{value:le,state:w})))})}function te(ie){return ie=ie||On(Vn)||me,(_,m)=>ue(ie,_,m)}function ee(ie){const _=R[0];_&&(s({...ie,replace:_.replace,scroll:_.scroll}),R.length=0)}function f(ie,_){const m=gn(e(),ie.pathname),D=vr;vr="preload";for(let v in m){const{route:C,params:b}=m[v];C.component&&C.component.preload&&C.component.preload();const{preload:w}=C;_&&w&&Ro(n(),()=>w({params:b,location:{pathname:ie.pathname,search:ie.search,hash:ie.hash,query:Yo(ie),state:null,key:""},intent:"preload"}))}vr=D}}function rl(t,e,n,i){const{base:a,location:s,params:l}=t,{pattern:c,component:d,preload:y}=i().route,g=qe(()=>i().path);d&&d.preload&&d.preload();const E=y?y({params:l,location:s,intent:vr||"initial"}):void 0;return{parent:e,pattern:c,path:g,outlet:()=>d?u(d,{params:l,location:s,data:E,get children(){return n()}}):n(),resolvePath(A){return tn(a.path(),A,g())}}}const nl=t=>e=>{const{base:n}=e,i=jn(()=>e.children),a=qe(()=>Qo(i(),e.base||""));let s;const l=tl(t,a,()=>s,{base:n,singleFlight:e.singleFlight,transformUrl:e.transformUrl});return t.create&&t.create(l),u(Go.Provider,{value:l,get children(){return u(ol,{routerState:l,get root(){return e.root},get preload(){return e.rootPreload||e.rootLoad},get children(){return[F(()=>(s=Mo())&&null),u(il,{routerState:l,get branches(){return a()}})]}})}})};function ol(t){const e=t.routerState.location,n=t.routerState.params,i=qe(()=>t.preload&&Ut(()=>{t.preload({params:n,location:e,intent:el()||"initial"})}));return u(Ge,{get when(){return t.root},keyed:!0,get fallback(){return t.children},children:a=>u(a,{params:n,location:e,get data(){return i()},get children(){return t.children}})})}function il(t){const e=[];let n;const i=qe(Rn(t.routerState.matches,(a,s,l)=>{let c=s&&a.length===s.length;const d=[];for(let y=0,g=a.length;y<g;y++){const E=s&&s[y],L=a[y];l&&E&&L.route.key===E.route.key?d[y]=l[y]:(c=!1,e[y]&&e[y](),Or(A=>{e[y]=A,d[y]=rl(t.routerState,d[y-1]||t.routerState.base,Xn(()=>i()[y+1]),()=>t.routerState.matches()[y])}))}return e.splice(a.length).forEach(y=>y()),l&&c?l:(n=d[0],d)}));return Xn(()=>i()&&n)()}const Xn=t=>()=>u(Ge,{get when(){return t()},keyed:!0,children:e=>u(Vn.Provider,{value:e,get children(){return e.outlet()}})}),Wt=t=>{const e=jn(()=>t.children);return Nn(t,{get children(){return e()}})};function ll([t,e],n,i){return[t,i?a=>e(i(a)):e]}function al(t){let e=!1;const n=a=>typeof a=="string"?{value:a}:a,i=ll(Z(n(t.get()),{equals:(a,s)=>a.value===s.value&&a.state===s.state}),void 0,a=>(!e&&t.set(a),a));return t.init&&kr(t.init((a=t.get())=>{e=!0,i[1](n(a)),e=!1})),nl({signal:i,create:t.create,utils:t.utils})}function sl(t,e,n){return t.addEventListener(e,n),()=>t.removeEventListener(e,n)}function cl(t,e){const n=t&&document.getElementById(t);n?n.scrollIntoView():e&&window.scrollTo(0,0)}const dl=new Map;function ul(t=!0,e=!1,n="/_server",i){return a=>{const s=a.base.path(),l=a.navigatorFactory(a.base);let c,d;function y(P){return P.namespaceURI==="http://www.w3.org/2000/svg"}function g(P){if(P.defaultPrevented||P.button!==0||P.metaKey||P.altKey||P.ctrlKey||P.shiftKey)return;const x=P.composedPath().find(Y=>Y instanceof Node&&Y.nodeName.toUpperCase()==="A");if(!x||e&&!x.hasAttribute("link"))return;const h=y(x),M=h?x.href.baseVal:x.href;if((h?x.target.baseVal:x.target)||!M&&!x.hasAttribute("state"))return;const R=(x.getAttribute("rel")||"").split(/\s+/);if(x.hasAttribute("download")||R&&R.includes("external"))return;const X=h?new URL(M,document.baseURI):new URL(M);if(!(X.origin!==window.location.origin||s&&X.pathname&&!X.pathname.toLowerCase().startsWith(s.toLowerCase())))return[x,X]}function E(P){const x=g(P);if(!x)return;const[h,M]=x,U=a.parsePath(M.pathname+M.search+M.hash),R=h.getAttribute("state");P.preventDefault(),l(U,{resolve:!1,replace:h.hasAttribute("replace"),scroll:!h.hasAttribute("noscroll"),state:R?JSON.parse(R):void 0})}function L(P){const x=g(P);if(!x)return;const[h,M]=x;a.preloadRoute(M,h.getAttribute("preload")!=="false")}function A(P){clearTimeout(c);const x=g(P);if(!x)return d=null;const[h,M]=x;d!==h&&(c=setTimeout(()=>{a.preloadRoute(M,h.getAttribute("preload")!=="false"),d=h},20))}function $(P){if(P.defaultPrevented)return;let x=P.submitter&&P.submitter.hasAttribute("formaction")?P.submitter.getAttribute("formaction"):P.target.getAttribute("action");if(!x)return;if(!x.startsWith("https://action/")){const M=new URL(x,Vo);if(x=a.parsePath(M.pathname+M.search),!x.startsWith(n))return}if(P.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const h=dl.get(x);if(h){P.preventDefault();const M=new FormData(P.target,P.submitter);h.call({r:a,f:P.target},P.target.enctype==="multipart/form-data"?M:new URLSearchParams(M))}}vt(["click","submit"]),document.addEventListener("click",E),t&&(document.addEventListener("mousemove",A,{passive:!0}),document.addEventListener("focusin",L,{passive:!0}),document.addEventListener("touchstart",L,{passive:!0})),document.addEventListener("submit",$),kr(()=>{document.removeEventListener("click",E),t&&(document.removeEventListener("mousemove",A),document.removeEventListener("focusin",L),document.removeEventListener("touchstart",L)),document.removeEventListener("submit",$)})}}function yl(t){const e=t.replace(/^.*?#/,"");if(!e.startsWith("/")){const[,n="/"]=window.location.hash.split("#",2);return`${n}#${e}`}return e}function ml(t){const e=()=>window.location.hash.slice(1),n=Uo();return al({get:e,set({value:i,replace:a,scroll:s,state:l}){a?window.history.replaceState(Ri(l),"","#"+i):window.history.pushState(l,"","#"+i);const c=i.indexOf("#"),d=c>=0?i.slice(c+1):"";cl(d,s),Un()},init:i=>sl(window,"hashchange",Oi(i,a=>!n.confirm(a&&a<0?a:e()))),create:ul(t.preload,t.explicitLinks,t.actionBase),utils:{go:i=>window.history.go(i),renderPath:i=>`#${i}`,parsePath:yl,beforeLeave:n}})(t)}var vl=k("<a>");function er(t){t=Nn({inactiveClass:"inactive",activeClass:"active"},t);const[,e]=bi(t,["href","state","class","activeClass","inactiveClass","end"]),n=Hi(()=>t.href),i=Gi(n),a=Ji(),s=qe(()=>{const l=n();if(l===void 0)return[!1,!1];const c=pr(l.split(/[?#]/,1)[0]).toLowerCase(),d=decodeURI(pr(a.pathname).toLowerCase());return[t.end?c===d:d.startsWith(c+"/")||d===c,c===d]});return(()=>{var l=vl();return Li(l,Nn(e,{get href(){return i()||t.href},get state(){return JSON.stringify(t.state)},get classList(){return{...t.class&&{[t.class]:!0},[t.inactiveClass]:!s()[0],[t.activeClass]:s()[0],...e.classList}},link:"",get"aria-current"(){return s()[1]?"page":void 0}}),!1),l})()}const ct=(t=300+Math.random()*700)=>new Promise(e=>setTimeout(e,t)),dr=(t="")=>`${t}${Date.now()}-${Math.random().toString(36).substr(2,9)}`;let Te={products:[{id:"prod-001",name:"Wireless Headphones",sku:"WH-001",productCode:"WH-001",productName:"Wireless Headphones",description:"High-quality wireless bluetooth headphones",category:"Electronics",unitOfMeasure:"pcs",unitCost:45,sellingPrice:89.99,minStockLevel:10,maxStockLevel:100,isActive:!0,createdDate:"2024-01-15T10:00:00Z",lastModified:"2024-01-15T10:00:00Z",businessId:"YB100423253156428"},{id:"prod-002",name:"USB-C Cable",sku:"USB-001",description:"3ft USB-C charging cable",category:"Accessories",unitOfMeasure:"pcs",unitCost:8.5,sellingPrice:19.99,minStockLevel:25,maxStockLevel:200,isActive:!0,createdDate:"2024-01-16T10:00:00Z",lastModified:"2024-01-16T10:00:00Z",businessId:"YB100423253156428"},{id:"prod-003",name:"Laptop Stand",sku:"LS-001",description:"Adjustable aluminum laptop stand",category:"Office",unitOfMeasure:"pcs",unitCost:25,sellingPrice:49.99,minStockLevel:5,maxStockLevel:50,isActive:!0,createdDate:"2024-01-17T10:00:00Z",lastModified:"2024-01-17T10:00:00Z",businessId:"YB100423253156428"}],locations:[{id:"loc-001",name:"Main Warehouse",code:"WH-001",type:"warehouse",address:"123 Industrial Dr, City, State 12345",isActive:!0,createdDate:"2024-01-01T10:00:00Z"},{id:"loc-002",name:"Retail Store - Downtown",code:"ST-001",type:"store",address:"456 Main St, City, State 12345",isActive:!0,createdDate:"2024-01-01T10:00:00Z"},{id:"loc-003",name:"Retail Store - Mall",code:"ST-002",type:"store",address:"789 Mall Blvd, City, State 12345",isActive:!0,createdDate:"2024-01-01T10:00:00Z"}],movements:[{id:"mov-001",productId:"prod-001",productName:"Wireless Headphones",productSku:"WH-001",locationId:"loc-001",locationName:"Main Warehouse",movementType:"in",quantity:50,unitCost:45,totalCost:2250,referenceNumber:"PO-001",notes:"Initial stock purchase",createdBy:"admin",createdDate:"2024-01-15T10:00:00Z",invoiceId:"INV-1000001"},{id:"mov-002",productId:"prod-002",productName:"USB-C Cable",productSku:"USB-001",locationId:"loc-001",locationName:"Main Warehouse",movementType:"in",quantity:100,unitCost:8.5,totalCost:850,referenceNumber:"PO-001",notes:"Bulk purchase",createdBy:"admin",createdDate:"2024-01-15T10:05:00Z",invoiceId:"INV-1000001"}],accounts:[{id:"acc-001",accountNumber:"1000",accountName:"Cash",accountType:"asset",category:"currentAssets",balance:5e4,parentAccountId:null,description:"Cash and cash equivalents",isActive:!0,createdDate:"2024-01-01T10:00:00Z",lastModified:"2024-01-01T10:00:00Z"},{id:"acc-002",accountNumber:"1100",accountName:"Accounts Receivable",accountType:"asset",category:"currentAssets",balance:25e3,parentAccountId:null,description:"Money owed by customers",isActive:!0,createdDate:"2024-01-01T10:00:00Z",lastModified:"2024-01-01T10:00:00Z"}],journalEntries:[{id:"je-001",entryNumber:"JE-001",date:"2024-01-15",description:"Initial cash deposit",reference:"DEP-001",status:"posted",createdBy:"admin",createdAt:"2024-01-15T10:00:00Z",postedAt:"2024-01-15T10:05:00Z",lines:[{id:"jel-001",accountId:"acc-001",accountName:"Cash",description:"Initial deposit",debitAmount:5e4,creditAmount:0},{id:"jel-002",accountId:"acc-003",accountName:"Owner Equity",description:"Initial capital",debitAmount:0,creditAmount:5e4}]}]};const wt=(t=.05)=>Math.random()<t,kt=()=>{const t=["Network timeout","Connection refused","Server temporarily unavailable","Invalid request"];throw new Error(t[Math.floor(Math.random()*t.length)])},Rt={products:{async getAll(t,e){await ct(),wt()&&kt();let n=[...Te.products];if(t&&t.trim()){const i=t.toLowerCase();n=n.filter(a=>a.name.toLowerCase().includes(i)||a.sku.toLowerCase().includes(i)||a.category.toLowerCase().includes(i)||a.description.toLowerCase().includes(i))}return e?.category&&(n=n.filter(i=>i.category===e.category)),e?.isActive!==void 0&&(n=n.filter(i=>i.isActive===e.isActive)),n},async getById(t){return await ct(),wt()&&kt(),Te.products.find(e=>e.id===t)||null},async create(t){if(await ct(),wt()&&kt(),Te.products.some(n=>n.sku===t.sku))throw new Error("SKU already exists");const e={...t,id:dr("prod-"),createdDate:new Date().toISOString(),lastModified:new Date().toISOString()};return Te.products.push(e),e},async update(t,e){await ct(),wt()&&kt();const n=Te.products.findIndex(a=>a.id===t);if(n===-1)throw new Error("Product not found");if(e.sku&&Te.products.some(a=>a.id!==t&&a.sku===e.sku))throw new Error("SKU already exists");const i={...Te.products[n],...e,lastModified:new Date().toISOString()};return Te.products[n]=i,i},async delete(t){await ct(),wt()&&kt();const e=Te.products.findIndex(i=>i.id===t);if(e===-1)throw new Error("Product not found");return Te.movements.some(i=>i.productId===t)?{success:!1,message:"Cannot delete product with existing movements"}:(Te.products.splice(e,1),{success:!0,message:"Product deleted successfully"})}},locations:{async getAll(t){await ct(),wt()&&kt();let e=[...Te.locations];return t?.type&&(e=e.filter(n=>n.type===t.type)),t?.isActive!==void 0&&(e=e.filter(n=>n.isActive===t.isActive)),e},async getById(t){return await ct(),Te.locations.find(e=>e.id===t)||null},async create(t){if(await ct(),wt()&&kt(),Te.locations.some(n=>n.code===t.code))throw new Error("Location code already exists");const e={...t,id:dr("loc-"),createdDate:new Date().toISOString()};return Te.locations.push(e),e},async update(t,e){await ct(),wt()&&kt();const n=Te.locations.findIndex(i=>i.id===t);if(n===-1)throw new Error("Location not found");if(e.code&&Te.locations.some(i=>i.id!==t&&i.code===e.code))throw new Error("Location code already exists");return Te.locations[n]={...Te.locations[n],...e},Te.locations[n]}},movements:{async getAll(t){await ct(),wt()&&kt();let e=[...Te.movements];if(t?.productId&&(e=e.filter(n=>n.productId===t.productId)),t?.locationId&&(e=e.filter(n=>n.locationId===t.locationId)),t?.movementType&&(e=e.filter(n=>n.movementType===t.movementType)),t?.dateFrom&&(e=e.filter(n=>n.createdDate>=t.dateFrom)),t?.dateTo&&(e=e.filter(n=>n.createdDate<=t.dateTo)),t?.search){const n=t.search.toLowerCase();e=e.filter(i=>i.productName.toLowerCase().includes(n)||i.productSku.toLowerCase().includes(n)||i.referenceNumber.toLowerCase().includes(n)||i.notes.toLowerCase().includes(n))}return e.sort((n,i)=>new Date(i.createdDate).getTime()-new Date(n.createdDate).getTime()),e},async getById(t){return await ct(),Te.movements.find(e=>e.id===t)||null},async create(t){if(await ct(),wt()&&kt(),!Te.products.find(a=>a.id===t.productId))throw new Error("Product not found");if(!Te.locations.find(a=>a.id===t.locationId))throw new Error("Location not found");if(t.movementType==="out"){const a=await this.getStockLevel(t.productId,t.locationId);if(a<t.quantity)throw new Error(`Insufficient stock. Available: ${a}, Requested: ${t.quantity}`)}const i={...t,id:dr("mov-"),createdDate:new Date().toISOString()};return Te.movements.push(i),i},async update(t,e){await ct(),wt()&&kt();const n=Te.movements.findIndex(a=>a.id===t);if(n===-1)throw new Error("Movement not found");const i={...Te.movements[n],...e,lastModified:new Date().toISOString()};return Te.movements[n]=i,i},async delete(t){await ct(),wt()&&kt();const e=Te.movements.findIndex(n=>n.id===t);if(e===-1)throw new Error("Movement not found");return Te.movements.splice(e,1),{success:!0,message:"Movement deleted successfully"}},async createBulk(t){await ct(),wt()&&kt();const e=[],n=[],i=new Date().toISOString(),a=Te.locations.find(s=>s.id===t.locationId);if(!a)return{success:!1,movements:[],errors:["Invalid location"]};for(let s=0;s<t.items.length;s++){const l=t.items[s],c=Te.products.find(g=>g.id===l.productId);if(!c){e.push(`Item ${s+1}: Product not found`);continue}if(l.quantity<=0){e.push(`Item ${s+1}: Quantity must be greater than 0`);continue}if(t.movementType==="out"){const g=await this.getStockLevel(l.productId,t.locationId);if(l.quantity>g){e.push(`Item ${s+1}: Insufficient stock. Available: ${g}, Requested: ${l.quantity}`);continue}}const d=l.unitCost||c.unitCost,y={id:dr("mov-"),productId:c.id,productName:c.name,productSku:c.sku,locationId:t.locationId,locationName:a.name,movementType:t.movementType,quantity:l.quantity,unitCost:d,totalCost:l.quantity*d,referenceNumber:t.referenceNumber,notes:l.notes||t.generalNotes||"",createdBy:t.createdBy,createdDate:i,invoiceId:t.invoiceId,fromLocationId:t.fromLocationId,fromLocationName:t.fromLocationId?Te.locations.find(g=>g.id===t.fromLocationId)?.name:void 0};n.push(y)}return e.length>0?{success:!1,movements:[],errors:e}:(Te.movements.push(...n),{success:!0,movements:n,errors:[]})},async getStockLevel(t,e){return await ct(50),Te.movements.filter(n=>n.productId===t&&n.locationId===e).reduce((n,i)=>{switch(i.movementType){case"in":case"adjustment":return n+i.quantity;case"out":return n-i.quantity;case"transfer":return i.locationId===e?n+i.quantity:n;default:return n}},0)},async getStockLevels(){await ct();const t=new Map;for(const e of Te.movements){const n=`${e.productId}-${e.locationId}`;let i=t.get(n);switch(i||(i={id:n,productId:e.productId,locationId:e.locationId,quantity:0,reservedQuantity:0,availableQuantity:0,averageCost:0,lastMovementDate:e.createdDate,lastMovementType:e.movementType},t.set(n,i)),e.movementType){case"in":case"adjustment":i.quantity+=e.quantity;break;case"out":i.quantity-=e.quantity;break;case"transfer":e.locationId===e.locationId&&(i.quantity+=e.quantity);break}new Date(e.createdDate)>new Date(i.lastMovementDate)&&(i.lastMovementDate=e.createdDate,i.lastMovementType=e.movementType),i.averageCost=e.unitCost,i.availableQuantity=i.quantity-i.reservedQuantity}return Array.from(t.values())}},accounts:{async getAll(t){await ct(),wt()&&kt();let e=[...Te.accounts];return t?.accountType&&(e=e.filter(n=>n.accountType===t.accountType)),t?.category&&(e=e.filter(n=>n.category===t.category)),t?.isActive!==void 0&&(e=e.filter(n=>n.isActive===t.isActive)),e},async getById(t){return await ct(),Te.accounts.find(e=>e.id===t)||null},async create(t){if(await ct(),wt()&&kt(),Te.accounts.some(n=>n.accountNumber===t.accountNumber))throw new Error("Account number already exists");const e={...t,id:dr("acc-"),createdDate:new Date().toISOString(),lastModified:new Date().toISOString()};return Te.accounts.push(e),e},async update(t,e){await ct(),wt()&&kt();const n=Te.accounts.findIndex(i=>i.id===t);if(n===-1)throw new Error("Account not found");if(e.accountNumber&&Te.accounts.some(i=>i.id!==t&&i.accountNumber===e.accountNumber))throw new Error("Account number already exists");return Te.accounts[n]={...Te.accounts[n],...e,lastModified:new Date().toISOString()},Te.accounts[n]}},journal:{async getAll(t){await ct(),wt()&&kt();let e=[...Te.journalEntries];return t?.status&&(e=e.filter(n=>n.status===t.status)),t?.accountId&&(e=e.filter(n=>n.lines.some(i=>i.accountId===t.accountId))),t?.dateFrom&&(e=e.filter(n=>n.date>=t.dateFrom)),t?.dateTo&&(e=e.filter(n=>n.date<=t.dateTo)),e.sort((n,i)=>new Date(i.createdAt).getTime()-new Date(n.createdAt).getTime())},async getById(t){return await ct(),Te.journalEntries.find(e=>e.id===t)||null},async create(t){await ct(),wt()&&kt();const e=t.lines.reduce((c,d)=>c+(d.debitAmount||0),0),n=t.lines.reduce((c,d)=>c+(d.creditAmount||0),0);if(Math.abs(e-n)>.01)throw new Error(`Entry is not balanced. Debit: ${e}, Credit: ${n}`);const i=Te.journalEntries.sort((c,d)=>d.entryNumber.localeCompare(c.entryNumber))[0],s=`JE-${((i?parseInt(i.entryNumber.split("-")[1]):0)+1).toString().padStart(3,"0")}`,l={...t,id:dr("je-"),entryNumber:s,createdAt:new Date().toISOString(),lines:t.lines.map(c=>({...c,id:dr("jel-")}))};return Te.journalEntries.push(l),l},async update(t,e){await ct(),wt()&&kt();const n=Te.journalEntries.findIndex(i=>i.id===t);if(n===-1)throw new Error("Journal entry not found");if(Te.journalEntries[n].status==="posted")throw new Error("Cannot modify posted entries");return Te.journalEntries[n]={...Te.journalEntries[n],...e},Te.journalEntries[n]},async post(t){await ct(),wt()&&kt();const e=Te.journalEntries.findIndex(s=>s.id===t);if(e===-1)throw new Error("Journal entry not found");const n=Te.journalEntries[e];if(n.status==="posted")throw new Error("Entry is already posted");const i=n.lines.reduce((s,l)=>s+(l.debitAmount||0),0),a=n.lines.reduce((s,l)=>s+(l.creditAmount||0),0);if(Math.abs(i-a)>.01)throw new Error("Entry must be balanced before posting");return Te.journalEntries[e]={...n,status:"posted",postedAt:new Date().toISOString()},n.lines.forEach(s=>{const l=Te.accounts.findIndex(c=>c.id===s.accountId);if(l!==-1){const c=Te.accounts[l],d=s.debitAmount||0,y=s.creditAmount||0;["asset","expense"].includes(c.accountType)?c.balance+=d-y:c.balance+=y-d}}),Te.journalEntries[e]}},utils:{async getNextEntryNumber(){await ct(100);const t=Te.journalEntries.sort((n,i)=>i.entryNumber.localeCompare(n.entryNumber))[0];return`JE-${((t?parseInt(t.entryNumber.split("-")[1]):0)+1).toString().padStart(3,"0")}`},async getNextProductCode(t){await ct(100);const e=t.toUpperCase().slice(0,3),n=Te.products.filter(a=>a.productCode?.startsWith(e)).sort((a,s)=>(s.productCode||"").localeCompare(a.productCode||""));if(n.length===0)return`${e}001`;const i=parseInt(n[0].productCode?.slice(-3)||"0");return`${e}${(i+1).toString().padStart(3,"0")}`},async healthCheck(){return await ct(50),{status:"healthy",timestamp:new Date().toISOString(),version:"1.0.0"}},async resetDatabase(){return await ct(200),Te={products:[...Te.products.slice(0,3)],locations:[...Te.locations.slice(0,3)],movements:[...Te.movements.slice(0,2)],accounts:[...Te.accounts.slice(0,2)],journalEntries:[...Te.journalEntries.slice(0,1)]},{success:!0,message:"Database reset to initial state"}},async getStats(){return await ct(100),{products:Te.products.length,locations:Te.locations.length,movements:Te.movements.length,accounts:Te.accounts.length,journalEntries:Te.journalEntries.length,totalStockValue:Te.movements.reduce((t,e)=>e.movementType==="in"?t+e.totalCost:e.movementType==="out"?t-e.totalCost:t,0)}}}},sn=async t=>{const i=await fetch("https://qvamarkets.com/gql_api",{method:"POST",headers:{"Content-Type":"application/json","Accept-Encoding":"gzip, deflate, br",Authorization:"eyJhbGciOiJSUzI1NiIsImtpZCI6IjhlOGZjOGU1NTZmN2E3NmQwOGQzNTgyOWQ2ZjkwYWUyZTEyY2ZkMGQiLCJ0eXAiOiJKV1QifQ"},body:JSON.stringify(t)});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const a=await i.json();if(a.errors)throw new Error(a.errors[0]?.message||"GraphQL error");return a.data},Ko=t=>({ENTRY:"in",in:"in",TRANSFER:"transfer",transfer:"transfer",SALES:"out",out:"out",adjustment:"adjustment"})[t],Mn=t=>({ENTRY:"ENTRY",in:"ENTRY",TRANSFER:"TRANSFER",transfer:"TRANSFER",SALES:"SALES",out:"SALES",adjustment:"adjustment"})[t];function gl(t){var e=[];return t&&Object.keys(t).map(n=>{e.push(t[n])}),e}const pl=()=>(typeof window<"u"&&localStorage.getItem("hrmfinance-api-mode"),"real");let gr=pl();const Fr={getMode(){return gr},setMode(t){gr=t,typeof window<"u"&&localStorage.setItem("hrmfinance-api-mode",t)},isFakeMode(){return gr==="fake"},isRealMode(){return gr==="real"},isHybridMode(){return gr==="hybrid"}},qt=async(t,e,n=!0)=>{if(gr==="fake")return e();if(gr==="real")return t();try{return await t()}catch(i){if(console.warn("Real API failed, falling back to fake server:",i),n)return e();throw i}},eo={async getAll(t,e){const n=await sn({query:"getScanYabaProducts",queryString:"!* contain :search0 AND !* contain :search1 AND !* contain :search2 AND !* contain :search3 AND !* contain :search4",params:{businessId:"YB100423253156428",":search0":"produ"}});return gl(n)},async getById(t){return qt(async()=>(await this.getAll()).find(n=>n.id===t)||null,()=>Rt.products.getById(t))},async create(t){return qt(async()=>{throw console.log("Creating product via real API:",t),new Error("Real API not implemented yet")},()=>Rt.products.create(t))},async update(t,e){return qt(async()=>{throw console.log("Updating product via real API:",t,e),new Error("Real API not implemented yet")},()=>Rt.products.update(t,e))},async delete(t){return qt(async()=>{throw console.log("Deleting product via real API:",t),new Error("Real API not implemented yet")},()=>Rt.products.delete(t))}},fr={async getInventory(t,e){if(!(t&&t?.trim()))return[];let n={businessId:"YB100423253156428"};return t&&t.split(" ").map((s,l)=>{s&&(n[":search"+l]=s.trim())}),await sn({query:"getScanYabaInventory",queryString:"!* contain :search0 AND !* contain :search1 AND !* contain :search2 AND !* contain :search3 AND !* contain :search4",params:n})},async getProducts(t){if(!(t&&t?.trim()))return[];let e={businessId:"YB100423253156428"};return t&&t.split(" ").map((a,s)=>{a&&(e[":search"+s]=a.trim())}),await sn({query:"getScanYabaProducts",queryString:"!* contain :search0 AND !* contain :search1 AND !* contain :search2 AND !* contain :search3 AND !* contain :search4",params:e})}},to={async getAll(t){return qt(async()=>{throw console.log("Getting accounts via real API:",t),new Error("Real API not implemented yet")},()=>Rt.accounts.getAll(t))},async getById(t){return qt(async()=>{throw console.log("Getting account by ID via real API:",t),new Error("Real API not implemented yet")},()=>Rt.accounts.getById(t))},async create(t){return qt(async()=>{throw console.log("Creating account via real API:",t),new Error("Real API not implemented yet")},()=>Rt.accounts.create(t))},async update(t,e){return qt(async()=>{throw console.log("Updating account via real API:",t,e),new Error("Real API not implemented yet")},()=>Rt.accounts.update(t,e))}},ro={async getNextEntryNumber(){return qt(async()=>{throw console.log("Getting next entry number via real API"),new Error("Real API not implemented yet")},()=>Rt.utils.getNextEntryNumber())},async getNextProductCode(t){return qt(async()=>{throw console.log("Getting next product code via real API:",t),new Error("Real API not implemented yet")},()=>Rt.utils.getNextProductCode(t))},async healthCheck(){return qt(async()=>{const t=await fetch("/api/health");if(!t.ok)throw new Error("Health check failed");return t.json()},()=>Rt.utils.healthCheck())},async getStats(){return qt(async()=>{throw console.log("Getting stats via real API"),new Error("Real API not implemented yet")},()=>Rt.utils.getStats())}},fl=()=>{Fr.setMode("real"),console.log("🚀 HRM Finance initialized in REAL API mode for production")};fl();var bl=k("<button>");const Ae=t=>{const e=()=>{const n={"font-family":"inherit",cursor:t.disabled?"not-allowed":"pointer",border:"none","border-radius":"var(--border-radius-sm)","font-weight":"500",transition:"all 0.2s ease","text-decoration":"none",display:"inline-flex","align-items":"center","justify-content":"center",gap:"0.5rem",opacity:t.disabled?"0.6":"1"},i={sm:{padding:"0.5rem 1rem","font-size":"0.875rem"},md:{padding:"0.75rem 1.5rem","font-size":"1rem"},lg:{padding:"1rem 2rem","font-size":"1.125rem"}},a={primary:{background:"linear-gradient(135deg, var(--primary-color), var(--primary-dark))",color:"white","box-shadow":"var(--shadow-sm)"},secondary:{background:"var(--surface-color)",color:"var(--text-primary)",border:"1px solid var(--border-color)"},outline:{background:"transparent",color:"var(--primary-color)",border:"1px solid var(--primary-color)"}};return{...n,...i[t.size||"md"],...a[t.variant||"primary"]}};return(()=>{var n=bl();return br(n,"click",t.onClick,!0),r(n,()=>t.children),B(i=>{var a=e(),s=t.disabled,l=t.type||"button",c=`btn btn-${t.variant||"primary"} ${t.className||""}`;return i.e=o(n,a,i.e),s!==i.t&&(n.disabled=i.t=s),l!==i.a&&Ze(n,"type",i.a=l),c!==i.o&&qn(n,i.o=c),i},{e:void 0,t:void 0,a:void 0,o:void 0}),n})()};vt(["click"]);var hl=k("<div><div><div><h2></h2><button>×</button></div><div>");const It=t=>{const e={position:"fixed",top:"0",left:"0",right:"0",bottom:"0","background-color":"rgba(0, 0, 0, 0.5)",display:"flex","align-items":"center","justify-content":"center","z-index":"1000"},n={background:"var(--surface-color)","border-radius":"var(--border-radius)","box-shadow":"var(--shadow-lg)","max-width":"920px",width:"90%","max-height":"80vh",overflow:"auto",position:"relative"},i={padding:"1.5rem","border-bottom":"1px solid var(--border-color)",display:"flex","justify-content":"space-between","align-items":"center"},a={"font-size":"1.25rem","font-weight":"600",color:"var(--text-primary)",margin:"0"},s={background:"none",border:"none","font-size":"1.5rem",cursor:"pointer",color:"var(--text-muted)",padding:"0.5rem","border-radius":"var(--border-radius-sm)"},l={padding:"1.5rem"},c=d=>{d.target===d.currentTarget&&t.onClose()};return u(Ge,{get when(){return t.isOpen},get children(){var d=hl(),y=d.firstChild,g=y.firstChild,E=g.firstChild,L=E.nextSibling,A=g.nextSibling;return d.$$click=c,o(g,i),o(E,a),r(E,()=>t.title),L.addEventListener("mouseleave",$=>$.target.style.background="none"),L.addEventListener("mouseenter",$=>$.target.style.background="var(--background-color)"),br(L,"click",t.onClose,!0),o(L,s),o(A,l),r(A,()=>t.children),B($=>{var P=e,x=n;return $.e=o(d,P,$.e),$.t=o(y,x,$.t),$},{e:void 0,t:void 0}),d}})};vt(["click"]);var no=k("<div>"),Sl=k("<h3>"),Pl=k("<p>");const je=t=>{const e={background:"var(--surface-color)","border-radius":"var(--border-radius)",padding:"1.5rem","box-shadow":"var(--shadow-sm)",border:"1px solid var(--border-color)",transition:"all 0.2s ease",cursor:t.onClick?"pointer":"default"},n={"margin-bottom":"1rem"},i={"font-size":"1.25rem","font-weight":"600",color:"var(--text-primary)",margin:"0 0 0.5rem 0"},a={"font-size":"0.875rem",color:"var(--text-muted)",margin:"0"};return(()=>{var s=no();return br(s,"click",t.onClick,!0),r(s,(()=>{var l=F(()=>!!(t.title||t.subtitle));return()=>l()&&(()=>{var c=no();return o(c,n),r(c,(()=>{var d=F(()=>!!t.title);return()=>d()&&(()=>{var y=Sl();return o(y,i),r(y,()=>t.title),y})()})(),null),r(c,(()=>{var d=F(()=>!!t.subtitle);return()=>d()&&(()=>{var y=Pl();return o(y,a),r(y,()=>t.subtitle),y})()})(),null),c})()})(),null),r(s,()=>t.children,null),B(l=>{var c=e,d=`card ${t.className||""}`;return l.e=o(s,c,l.e),d!==l.t&&qn(s,l.t=d),l},{e:void 0,t:void 0}),s})()};vt(["click"]);var $l=k("<div><label></label><input>"),xl=k("<span>*");const st=t=>{const e={display:"block","font-weight":"500","margin-bottom":"0.5rem",color:"var(--text-primary)"},n={width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem","font-family":"inherit",background:"var(--surface-color)",color:"var(--text-primary)",transition:"border-color 0.2s ease"},i={"margin-bottom":"1rem"};return(()=>{var a=$l(),s=a.firstChild,l=s.nextSibling;return o(a,i),o(s,e),r(s,()=>t.label,null),r(s,(()=>{var c=F(()=>!!t.required);return()=>c()&&(()=>{var d=xl();return d.style.setProperty("color","var(--primary-color)"),d})()})(),null),l.addEventListener("blur",c=>c.target.style.borderColor="var(--border-color)"),l.addEventListener("focus",c=>c.target.style.borderColor="var(--primary-color)"),l.$$input=c=>t.onChange(c.target.value),o(l,n),B(c=>{var d=t.type||"text",y=t.placeholder,g=t.required,E=t.disabled;return d!==c.e&&Ze(l,"type",c.e=d),y!==c.t&&Ze(l,"placeholder",c.t=y),g!==c.a&&(l.required=c.a=g),E!==c.o&&(l.disabled=c.o=E),c},{e:void 0,t:void 0,a:void 0,o:void 0}),B(()=>l.value=t.value),a})()};vt(["input"]);const Cl={en:{common:{save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",add:"Add",close:"Close",search:"Search",filter:"Filter",reset:"Reset",back:"Back",next:"Next",previous:"Previous",yes:"Yes",no:"No",loading:"Loading...",error:"Error",success:"Success",warning:"Warning",info:"Information",confirm:"Confirm",actions:"Actions",status:"Status",active:"Active",inactive:"Inactive",date:"Date",time:"Time",description:"Description",notes:"Notes",amount:"Amount",total:"Total",subtotal:"Subtotal",currency:"USD",language:"Language",english:"English",spanish:"Spanish",noDataFound:"No data found",required:"Required",optional:"Optional",all:"All",none:"None",select:"Select",clear:"Clear",searching:"Searching...",refresh:"Refresh",showAll:"Show All",products:"products",filtered:"Filtered",view:"View",suggested:"Suggested",clearFilters:"Clear Filters",enhanced:"Enhanced",legacy:"Legacy",email:"Email",phone:"Phone",address:"Address",name:"Name",code:"Code",category:"Category",type:"Type",quantity:"Quantity",price:"Price",cost:"Cost",value:"Value",balance:"Balance",created:"Created",modified:"Modified",details:"Details",summary:"Summary",history:"History",new:"New",addNew:"Add New",unknown:"Unknown",notAvailable:"N/A",remove:"Remove",startDate:"Start Date",endDate:"End Date",from:"From",invoice:"Invoice",reference:"Reference",createdBy:"Created By",units:"units",invoiceDocumentId:"Invoice/Document ID",referenceNumber:"Reference Number",referenceNumberPlaceholder:"Enter reference number...",generalNotes:"General Notes",auto:"Auto",optionalNotes:"Optional notes...",showPerPage:"Show per page",first:"First",last:"Last",pageOfPages:"Page {{current}} of {{total}}",showingXofY:"Showing {{start}}-{{end}} of {{total}}",page:"Page",of:"of"},forms:{referenceNumberRequired:"Reference number is required",locationRequired:"Location is required",fromLocationRequired:"From location is required for transfers",atLeastOneProduct:"At least one product is required",itemProductRequired:"Product is required for item {{index}}",itemQuantityRequired:"Quantity must be greater than 0 for item {{index}}"},navigation:{dashboard:"Dashboard",accounts:"Chart of Accounts",balanceSheet:"Balance Sheet",inventory:"Inventory",employees:"Employees",entryBooks:"Entry Books",consolidate:"Bank Consolidation",reports:"Reports",settings:"Settings"},dashboard:{title:"Dashboard",welcome:"Welcome to HRM Finance",totalRevenue:"Total Revenue",overview:"Overview",recentActivity:"Recent Activity",quickActions:"Quick Actions",employeeCount:"Employee Count",pendingInvoices:"Pending Invoices",cashBalance:"Cash Balance",totalAssets:"Total Assets",totalLiabilities:"Total Liabilities",totalExpenses:"Total Expenses",netIncome:"Net Income",netLoss:"Net Loss",monthlyPayroll:"Monthly Payroll",current:"Current",newHires:"+3 new hires",outstanding:"Outstanding",totalOutstanding:"$23,450 total",lastUpdatedToday:"Last updated today",commonTasks:"Common tasks",generateReport:"Generate Report",latestUpdates:"Latest updates",invoicePaid:"Invoice #1234 paid",hoursAgo:"2 hours ago",newEmployeeOnboarded:"New employee onboarded",dayAgo:"1 day ago",monthlyReportGenerated:"Monthly report generated",daysAgo:"2 days ago"},accounts:{title:"Chart of Accounts",accountNumber:"Account Number",accountName:"Account Name",accountType:"Account Type",category:"Category",balance:"Balance",parentAccount:"Parent Account",subAccounts:"Sub-accounts",addAccount:"Add Account",editAccount:"Edit Account",deleteAccount:"Delete Account",accountDetails:"Account Details",transactions:"Transactions",accountHistory:"Account History",backToAccounts:"Back to Accounts",accountNotFound:"Account not found",accountInformation:"Account Information",accountPurpose:"Account purpose",transactionHistory:"Transaction History",noTransactions:"No transactions found for this account",createdDate:"Created Date",lastModified:"Last Modified",noDescription:"No description provided.",totalCount:"Total count",basicDetails:"Basic details",currentBalance:"Current balance",classification:"Classification",allTransactions:"All account transactions",reference:"Reference",allAccounts:"All Accounts",types:{asset:"Asset",liability:"Liability",equity:"Equity",revenue:"Revenue",expense:"Expense"},categories:{currentAssets:"Current Assets",fixedAssets:"Fixed Assets",currentLiabilities:"Current Liabilities",longTermLiabilities:"Long-term Liabilities",ownersEquity:"Owner's Equity",operatingRevenue:"Operating Revenue",operatingExpenses:"Operating Expenses"}},inventory:{title:"Inventory Management",overview:"Overview",products:"Products & Stock",movements:"Movements",locations:"Locations",bulkMovement:"Bulk Movement",addMovement:"Add Movement",addProduct:"Add Product",addLocation:"Add Location",singleMovement:"Add Single Movement",addNewItem:"Add New Item",activeProducts:"Active Products",lowStockAlert:"Low Stock Items",totalValue:"Total Stock Value",activeLocations:"Active Locations",productsNeedRestocking:"products need restocking",recentMovements:"Recent Movements",noProducts:"No products at this location",productName:"Product Name",productCode:"Product Code",sku:"SKU",unitOfMeasure:"Unit of Measure",unitCost:"Unit Cost",minStockLevel:"Min Stock Level",maxStockLevel:"Max Stock Level",locationName:"Location Name",locationType:"Location Type",locationCode:"Location Code",movementType:"Movement Type",referenceNumber:"Reference Number",invoiceNumber:"Invoice Number",fromLocation:"From Location",toLocation:"To Location",stockIn:"Stock In",stockOut:"Stock Out",transfer:"Transfer",adjustment:"Adjustment",inStock:"In Stock",lowStock:"Low Stock",outOfStock:"Out of Stock",stockLevels:"Stock Levels",stockByLocation:"Stock by Location",searchProducts:"Search products by name, SKU, or category...",searchProductsStock:"Search products and check stock levels...",searchResult:"Search Result",searchResults:"Search Results",searchFallback:"Showing local results",tryDifferentTerm:"Try a different search term or check spelling.",showingTopResults:"Showing top {{count}} results",searchLocations:"Search locations...",noMovements:"No movements found",productDetails:"Product Details",locationDetails:"Location Details",movementDetails:"Movement Details",totalProducts:"Total Products",totalLocations:"Total Locations",lastSeen:"Last seen",warehouseType:"Warehouse",storeType:"Store",supplierType:"Supplier",customerType:"Customer",currentlyManaged:"Currently managed",needAttention:"Need attention",currentWorth:"Current worth",warehousesStores:"Warehouses & stores",thisMonth:"This Month",latestActivities:"Latest inventory activities",searchMovements:"Search Movements",countingSheet:"Counting Sheet",physicalCount:"Physical Count",physicalInventoryCount:"Physical Inventory Count",setupPhysicalCount:"Setup Physical Inventory Count",setupDescription:"Configure your physical inventory count settings and begin the counting process.",countWillInclude:"This count will include {{count}} products from {{location}} in {{category}} category.",startCounting:"Start Physical Count",counted:"Counted",remaining:"Remaining",variances:"Variances",complete:"Complete",systemQty:"System Qty",variance:"Variance",addNotes:"Add notes...",reviewAndConfirm:"Review and Confirm Adjustments",reviewDescription:"Review the inventory adjustments below and confirm to update your system.",stockIncreases:"Stock Increases",stockDecreases:"Stock Decreases",totalAdjustments:"Total Adjustments",confirmAdjustments:"Confirm Adjustments",adjustment:"Adjustment",perfectCount:"Perfect Count!",noVariances:"No variances found. Your physical count matches the system exactly.",physicalCountAdjustment:"Physical count adjustment",inventoryCountingSheetTitle:"INVENTORY COUNTING SHEET",location:"Location",allCategories:"All Categories",countedBy:"Counted by",verifiedBy:"Verified by",instructions:"Instructions",countInstructions:["Count all items physically present at this location",'Write the actual count in the "Physical Count" column',"Leave blank if item is not found",'Note any discrepancies in the "Notes" column',"Sign and date when complete"],productName:"Product Name",unit:"Unit",totalProductsListed:"Total Products Listed",itemsCounted:"Items Counted",discrepanciesFound:"Discrepancies Found",counterSignature:"Counter Signature",supervisorSignature:"Supervisor Signature",downloadCSV:"Download CSV",noAdjustmentsToDownload:"No adjustments to download",stockIncrease:"Stock Increase",stockDecrease:"Stock Decrease",purchaseReceive:"Purchase/Receive",saleIssue:"Sale/Issue",transfer:"Transfer",adjustment:"Adjustment",movementType:"Movement Type",fromLocation:"From Location",toLocation:"To Location",searchSourceLocation:"Search source location...",searchDestinationLocation:"Search destination location...",searchLocation:"Search location...",addProduct:"Add Product",searchProduct:"Search product...",unitCost:"Unit Cost",noProductsAdded:'No products added yet. Click "Add Product" to get started.',createMovement:"Create Movement",generalNotesPlaceholder:"Enter general notes for this movement...",sortBy:"Sort By",allLocations:"All Locations",searchByProduct:"Search by product, location, reference, notes, invoice...",allProducts:"All Products",allTypes:"All Types",startDate:"Start Date",endDate:"End Date",totalMovements:"Total Movements",totalItems:"Total Items",adjustMovements:"Try adjusting your filters or check back later.",inventoryMovements:"Inventory Movements",createdBy:"Created By",view:"View",enhanced:"Enhanced",legacy:"Legacy",addSingleMovement:"Add Single Movement",inStockSubtitle:"In stock",itemsBelowThreshold:"Items below threshold",inventoryWorth:"Inventory worth",quantity:"Quantity",units:"units",normal:"Normal",productsAndStock:"Products & Stock",lowStockItems:"Low Stock Items",totalStockValue:"Total Stock Value",warehousesAndStores:"Warehouses & stores",andMore:"...and {count} more",latestInventoryActivities:"Latest inventory activities",min:"Min",max:"Max",cost:"Cost",noProductsFound:"No products found matching your search.",noProductsAvailable:"No products available.",noLocationsFound:"No locations found matching your search.",noLocationsAvailable:"No locations available.",searchPlaceholder:"Search by product, location, reference, notes, invoice...",noMovementsFound:"No movements found",tryAdjustingFilters:"Try adjusting your filters or check back later.",transfers:"Transfers",adjustments:"Adjustments",bulk:"Bulk",product:"Product",location:"Location",store:"Store",supplier:"Supplier",warehouse:"Warehouse",movement:"Movement",editMovement:"Edit Movement",updateMovement:"Update Movement",movementInformation:"Movement Information",locationInformation:"Location Information"},employees:{title:"Employee Management",employeeList:"Employee List",addEmployee:"Add Employee",editEmployee:"Edit Employee",employeeDetails:"Employee Details",personalInfo:"Personal Information",employmentInfo:"Employment Information",payrollInfo:"Payroll Information",firstName:"First Name",lastName:"Last Name",fullName:"Full Name",email:"Email",phone:"Phone",address:"Address",dateOfBirth:"Date of Birth",employeeId:"Employee ID",department:"Department",position:"Position",hireDate:"Hire Date",employmentStatus:"Employment Status",salary:"Salary",payFrequency:"Pay Frequency",taxId:"Tax ID",bankAccount:"Bank Account",emergencyContact:"Emergency Contact",activeEmployees:"Active Employees",inactiveEmployees:"Inactive Employees",totalPayroll:"Total Payroll",searchEmployees:"Search employees...",enterFullName:"Enter employee's full name",enterPosition:"Enter job position",enterEmail:"Enter email address",enterPhone:"Enter phone number",enterSalary:"Enter annual salary",departments:{engineering:"Engineering",product:"Product",design:"Design",marketing:"Marketing",sales:"Sales",humanResources:"Human Resources",finance:"Finance",operations:"Operations",analytics:"Analytics"}},entryBooks:{title:"Entry Books",bookName:"Book Name",bookType:"Book Type",createBook:"Create Book",editBook:"Edit Book",salesBook:"Sales Book",purchaseBook:"Purchase Book",cashBook:"Cash Book",generalBook:"General Book",entries:"Entries",addEntry:"Add Entry",period:"Period",startDate:"Start Date",endDate:"End Date",bookBalance:"Book Balance",reconciledBalance:"Reconciled Balance",difference:"Difference",reconcile:"Reconcile",isReconciled:"Is Reconciled",noBooks:"No entry books found",createFirst:"Create your first entry book to get started",bookDetails:"Book Details",entriesCount:"entries",bookOverview:"Book overview and details",bookEntries:"Book Entries",allEntries:"All entries in this book",noEntries:"No entries found",addFirst:"Add your first entry to this book",entryDate:"Entry Date",entryDescription:"Entry Description",entryAmount:"Entry Amount",entryReference:"Entry Reference",subtitle:"Manage accounting entries and general ledger records",viewReconciliation:"View Reconciliation",totalEntries:"Total Entries",allJournalEntries:"All journal entries",postedEntriesOnly:"Posted entries only",fromPostedEntries:"From {count} posted entries",needBankReconciliation:"Need bank reconciliation",allReconciled:"All reconciled",sortBy:"Sort By",fromDate:"From Date",toDate:"To Date",order:"Order",newest:"Newest",oldest:"Oldest",resetFilters:"Reset Filters",activeFilters:"Active filters",from:"From",to:"To",entriesFound:"{count} entries found",noJournalEntries:"No Journal Entries",startByCreating:"Start by creating your first entry",noEntriesMatch:"No journal entries match your current filters.",createFirstEntry:"Create First Entry",void:"Void",confirmVoid:"Are you sure you want to void this journal entry?",entryBookRecords:"Entry Book Records"},banking:{title:"Bank Consolidation",bankAccount:"Bank Account",statementDate:"Statement Date",beginningBalance:"Beginning Balance",endingBalance:"Ending Balance",deposits:"Deposits",withdrawals:"Withdrawals",bankCharges:"Bank Charges",interest:"Interest",reconcile:"Reconcile",matched:"Matched",unmatched:"Unmatched",importStatement:"Import Statement",manualEntry:"Manual Entry",autoMatch:"Auto Match",clearAll:"Clear All",reconciliationStatus:"Reconciliation Status",difference:"Difference",bookBalance:"Book Balance",statementBalance:"Statement Balance",outstandingChecks:"Outstanding Checks",depositsInTransit:"Deposits in Transit",reconciled:"Reconciled",notReconciled:"Not Reconciled",unreconciled:"Unreconciled",reconciliation:"Reconciliation",compareStatements:"Compare bank statements with entry book records",importCSV:"Import CSV",startNewReconciliation:"Start New Reconciliation",bankAccountInfo:"Bank Account Info",currentAccountDetails:"Current account details",lastReconciled:"Last reconciled",bankTransactions:"Bank Transactions",selectedPeriod:"Selected period",pending:"pending",bookEntriesForComparison:"Book entries for comparison",reconciliationRate:"Reconciliation Rate",completionStatus:"Completion status",recentReconciliationSessions:"Recent Reconciliation Sessions",latestActivity:"Latest activity",noRecentSessions:"No recent reconciliation sessions found.",startFirstReconciliation:"Start First Reconciliation",entryBookRecords:"Entry Book Records",pleaseUploadCSV:"Please upload a CSV file",csvRequiresHeaderAndData:"CSV file must have at least a header and one data row",successfullyParsed:"Successfully parsed {count} rows",errorParsingCSV:"Error parsing CSV file. Please check the format.",dateDescriptionRequired:"Date and Description columns are required",importedTransaction:"Imported transaction",successfullyImported:"Successfully imported {count} bank transactions",errorImportingTransactions:"Error importing transactions. Please check your data.",importBankStatementCSV:"Import Bank Statement CSV",dropCSVHere:"Drop CSV file here",clickToUploadCSV:"Click to upload or drag and drop CSV file",supportedFormat:"Supported format: CSV with Date, Description, and Amount columns",mapCSVColumns:"Map CSV Columns",dateColumn:"Date Column",selectColumn:"Select column...",descriptionColumn:"Description Column",referenceColumn:"Reference Column",amountDebitColumn:"Amount/Debit Column",creditColumn:"Credit Column",balanceColumn:"Balance Column",andMoreRows:"... and {count} more rows",importing:"Importing...",importTransactions:"Import {count} Transactions",reconciliationComparison:"Reconciliation Comparison",bankStatements:"Bank Statements",totalTransactions:"Total transactions",totalEntries:"Total entries",unreconciledBank:"Unreconciled Bank",unreconciledBooks:"Unreconciled Books",needAttention:"Need attention",unreconcile:"Unreconcile",clickToReconcile:"Click to reconcile",potentialMatchesFound:"Potential Matches Found",clickRecordToReconcile:"Click on a record below to reconcile",exactMatch:"Exact Match",possibleMatch:"Possible Match",selected:"Selected",clearSelection:"Clear Selection"},journal:{title:"Journal Entries",entryNumber:"Entry Number",entryDate:"Entry Date",debit:"Debit",credit:"Credit",account:"Account",memo:"Memo",reference:"Reference",createEntry:"Create Entry",editEntry:"Edit Entry",deleteEntry:"Delete Entry",posted:"Posted",draft:"Draft",reversed:"Reversed",recurringEntry:"Recurring Entry",attachments:"Attachments",totalDebits:"Total Debits",totalCredits:"Total Credits",outOfBalance:"Out of Balance",balanced:"Balanced",addEntry:"Add Journal Entry",allEntries:"All Entries",totalDebit:"Total Debit",totalCredit:"Total Credit",debitShort:"Dr.",creditShort:"Cr.",noReference:"No reference",createdBy:"By",totalAmount:"Total Amount",lines:"Lines",entryNotBalancedShort:"Entry is not balanced",accountLines:"Account Lines",noDescription:"No description",andMoreLines:"... and {count} more lines",viewDetails:"View Details",entryLines:"Journal Entry Lines",addLine:"Add Line",lineDescription:"Line description",notBalanced:"Not Balanced",updateEntry:"Update Entry",saveAsDraft:"Save as Draft",entryDetails:"Journal Entry Details",entryNotFound:"Entry Not Found",entryNotFoundMessage:"The journal entry you're looking for could not be found or may have been deleted.",editEntryTooltip:"Edit this journal entry",post:"Post",entryMustBeBalanced:"Entry must be balanced to post",postEntryTooltip:"Post this journal entry",voidEntryTooltip:"Void this journal entry",journalLines:"Journal Lines",balanceStatus:"Balance Status",unbalanced:"Unbalanced",difference:"difference",createdAt:"Created At",postedAt:"Posted At",quickActions:"Quick Actions",postEntry:"Post Entry",fixBalance:"Fix Balance",voidEntry:"Void Entry",draftEntry:"Draft Entry",draftEntryDescription:"This entry can be edited and posted.",entryMustBeBalancedBeforePosting:"Entry must be balanced before posting.",postedEntry:"Posted Entry",postedEntryDescription:"This entry has been posted to the general ledger. Editing will create a new draft copy.",voidEntryDescription:"This entry has been voided and cannot be modified.",confirmEditPosted:"This entry has been posted. Editing will create a new draft copy. Continue?",confirmPost:"Are you sure you want to post this journal entry? This action cannot be undone.",confirmVoid:"Are you sure you want to void this journal entry?",minTwoLinesRequired:"At least 2 line items are required",entryNotBalanced:"Entry is not balanced. Debit: ${debit}, Credit: ${credit}",lineAccountRequired:"Line {lineNumber}: Account is required",lineAmountRequired:"Line {lineNumber}: Either debit or credit amount must be provided",lineBothAmounts:"Line {lineNumber}: Cannot have both debit and credit amounts",enterEntryDescription:"Enter journal entry description",enterReferenceNumber:"Enter reference number"},forms:{requiredField:"This field is required",invalidEmail:"Invalid email address",invalidNumber:"Invalid number",invalidDate:"Invalid date",selectOption:"Please select an option",enterValue:"Please enter a value",confirmDelete:"Are you sure you want to delete this item?",unsavedChanges:"You have unsaved changes. Do you want to continue?",saveSuccess:"Saved successfully",saveError:"Error saving data",deleteSuccess:"Deleted successfully",deleteError:"Error deleting item",duplicateAccountNumber:"Account number already exists",descriptionRequired:"Description is required",errorOccurred:"An error occurred",errorPostingEntry:"An error occurred while posting the entry"},modals:{addInventory:"Add Inventory Movement",bulkMovement:"Bulk Inventory Movement",addProduct:"Add New Product",addLocation:"Add New Location",inventoryDetail:"Inventory Item Details",quickAdd:"Quick Add",selectProduct:"Select Product",selectLocation:"Select Location",enterQuantity:"Enter quantity",enterCost:"Enter unit cost",enterReference:"Enter reference number",addNotes:"Add notes (optional)",generalInformation:"General Information",stockInformation:"Stock Information",locationInformation:"Location Information",movementInformation:"Movement Information",addToInventory:"Add to Inventory",createProduct:"Create Product",createLocation:"Create Location",processing:"Processing...",addingMovement:"Adding movement...",creatingProduct:"Creating product...",creatingLocation:"Creating location..."},products:{title:"Products",addNew:"Add New Product",totalProducts:"Total Products",inCatalog:"In catalog",activeProducts:"Active Products",currentlyAvailable:"Currently available",outOfStock:"Out of Stock",needsRestock:"Needs restock",productCatalog:"Product Catalog",manageYourProducts:"Manage your products and pricing",inStock:"In Stock",furniture:"Furniture",electronics:"Electronics",supplies:"Supplies",lighting:"Lighting",searchPlaceholder:"Search products by name, SKU, or category...",allCategories:"All Categories",clearFilters:"Clear filters",noResults:"No products found matching your criteria.",noProducts:"No products available.",showing:"Showing",filtered:"Filtered results",allProducts:"All products",searchResult:"Search Result",stock:"Stock",lowStock:"Low Stock"},invoices:{title:"Invoices",createNew:"Create New Invoice",totalOutstanding:"Total Outstanding",unpaidInvoices:"Unpaid invoices",thisMonth:"This Month",revenueCollected:"Revenue collected",overdue:"Overdue",pastDueInvoices:"Past due invoices",recentInvoices:"Recent Invoices",latestBillingActivity:"Latest billing activity",paid:"Paid",pending:"Pending"}},es:{common:{save:"Guardar",cancel:"Cancelar",delete:"Eliminar",edit:"Editar",add:"Agregar",close:"Cerrar",search:"Buscar",filter:"Filtrar",reset:"Restablecer",back:"Atrás",next:"Siguiente",previous:"Anterior",yes:"Sí",no:"No",loading:"Cargando...",error:"Error",success:"Éxito",warning:"Advertencia",info:"Información",confirm:"Confirmar",actions:"Acciones",status:"Estado",active:"Activo",inactive:"Inactivo",date:"Fecha",time:"Hora",description:"Descripción",notes:"Notas",amount:"Monto",total:"Total",subtotal:"Subtotal",currency:"USD",language:"Idioma",english:"Inglés",spanish:"Español",noDataFound:"No se encontraron datos",required:"Requerido",optional:"Opcional",all:"Todos",none:"Ninguno",select:"Seleccionar",clear:"Limpiar",view:"Ver",suggested:"Sugerido",clearFilters:"Limpiar Filtros",enhanced:"Mejorado",legacy:"Clásico",email:"Correo Electrónico",phone:"Teléfono",address:"Dirección",name:"Nombre",code:"Código",category:"Categoría",type:"Tipo",quantity:"Cantidad",price:"Precio",cost:"Costo",value:"Valor",balance:"Saldo",created:"Creado",modified:"Modificado",details:"Detalles",summary:"Resumen",history:"Historial",new:"Nuevo",addNew:"Agregar Nuevo",unknown:"Desconocido",notAvailable:"N/A",remove:"Remover",startDate:"Fecha de Inicio",endDate:"Fecha de Fin",from:"De",invoice:"Factura",reference:"Referencia",createdBy:"Creado Por",units:"unidades",invoiceDocumentId:"ID de Factura/Documento",referenceNumber:"Número de Referencia",referenceNumberPlaceholder:"Ingrese número de referencia...",generalNotes:"Notas Generales",auto:"Auto",optionalNotes:"Notas opcionales...",showPerPage:"Mostrar por página",first:"Primera",last:"Última",pageOfPages:"Página {{current}} de {{total}}",showingXofY:"Mostrando {{start}}-{{end}} de {{total}}",page:"Página",of:"de"},forms:{referenceNumberRequired:"El número de referencia es requerido",locationRequired:"La ubicación es requerida",fromLocationRequired:"La ubicación de origen es requerida para transferencias",atLeastOneProduct:"Al menos un producto es requerido",itemProductRequired:"El producto es requerido para el artículo {{index}}",itemQuantityRequired:"La cantidad debe ser mayor que 0 para el artículo {{index}}"},navigation:{dashboard:"Panel de Control",accounts:"Plan de Cuentas",balanceSheet:"Balance General",inventory:"Inventario",employees:"Empleados",entryBooks:"Libros de Entrada",consolidate:"Consolidación Bancaria",reports:"Reportes",settings:"Configuración"},dashboard:{title:"Panel de Control",welcome:"Bienvenido a HRM Finance",totalRevenue:"Ingresos Totales",overview:"Resumen",recentActivity:"Actividad Reciente",quickActions:"Acciones Rápidas",employeeCount:"Número de Empleados",pendingInvoices:"Facturas Pendientes",cashBalance:"Saldo en Efectivo",totalAssets:"Activos Totales",totalLiabilities:"Pasivos Totales",totalExpenses:"Gastos Totales",netIncome:"Ingreso Neto",netLoss:"Pérdida Neta",monthlyPayroll:"Nómina Mensual",current:"Actual",newHires:"+3 nuevas contrataciones",outstanding:"Pendiente",totalOutstanding:"$23,450 total",lastUpdatedToday:"Última actualización hoy",commonTasks:"Tareas comunes",generateReport:"Generar Reporte",latestUpdates:"Últimas actualizaciones",invoicePaid:"Factura #1234 pagada",hoursAgo:"hace 2 horas",newEmployeeOnboarded:"Nuevo empleado incorporado",dayAgo:"hace 1 día",monthlyReportGenerated:"Reporte mensual generado",daysAgo:"hace 2 días"},accounts:{title:"Plan de Cuentas",accountNumber:"Número de Cuenta",accountName:"Nombre de Cuenta",accountType:"Tipo de Cuenta",category:"Categoría",balance:"Saldo",parentAccount:"Cuenta Padre",subAccounts:"Subcuentas",addAccount:"Agregar Cuenta",editAccount:"Editar Cuenta",deleteAccount:"Eliminar Cuenta",accountDetails:"Detalles de Cuenta",transactions:"Transacciones",accountHistory:"Historial de Cuenta",backToAccounts:"Volver a Cuentas",accountNotFound:"Cuenta no encontrada",accountInformation:"Información de Cuenta",accountPurpose:"Propósito de la cuenta",transactionHistory:"Historial de Transacciones",noTransactions:"No se encontraron transacciones para esta cuenta",createdDate:"Fecha de Creación",lastModified:"Última Modificación",noDescription:"No se proporcionó descripción.",totalCount:"Conteo total",basicDetails:"Detalles básicos",currentBalance:"Saldo actual",classification:"Clasificación",allTransactions:"Todas las transacciones de la cuenta",reference:"Referencia",types:{asset:"Activo",liability:"Pasivo",equity:"Patrimonio",revenue:"Ingreso",expense:"Gasto"},categories:{currentAssets:"Activos Corrientes",fixedAssets:"Activos Fijos",currentLiabilities:"Pasivos Corrientes",longTermLiabilities:"Pasivos a Largo Plazo",ownersEquity:"Patrimonio del Propietario",operatingRevenue:"Ingresos Operacionales",operatingExpenses:"Gastos Operacionales"}},inventory:{title:"Gestión de Inventario",overview:"Resumen",products:"Productos y Stock",movements:"Movimientos",locations:"Ubicaciones",bulkMovement:"Movimiento Masivo",addMovement:"Agregar Movimiento",addProduct:"Agregar Producto",addLocation:"Agregar Ubicación",singleMovement:"Agregar Movimiento Individual",addNewItem:"Agregar Nuevo Artículo",activeProducts:"Productos Activos",lowStockAlert:"Artículos con Stock Bajo",totalValue:"Valor Total del Stock",activeLocations:"Ubicaciones Activas",productsNeedRestocking:"productos necesitan reabastecimiento",recentMovements:"Movimientos Recientes",noProducts:"No hay productos en esta ubicación",productName:"Nombre del Producto",productCode:"Código del Producto",sku:"SKU",unitOfMeasure:"Unidad de Medida",unitCost:"Costo Unitario",minStockLevel:"Nivel Mínimo de Stock",maxStockLevel:"Nivel Máximo de Stock",locationName:"Nombre de Ubicación",locationType:"Tipo de Ubicación",locationCode:"Código de Ubicación",movementType:"Tipo de Movimiento",referenceNumber:"Número de Referencia",invoiceNumber:"Número de Factura",fromLocation:"Desde Ubicación",toLocation:"Hacia Ubicación",stockIn:"Entrada de Stock",stockOut:"Salida de Stock",transfer:"Transferencia",adjustment:"Ajuste",inStock:"En Stock",lowStock:"Stock Bajo",outOfStock:"Sin Stock",stockLevels:"Niveles de Stock",stockByLocation:"Stock por Ubicación",searchProducts:"Buscar productos...",searchLocations:"Buscar ubicaciones...",noMovements:"No se encontraron movimientos",productDetails:"Detalles del Producto",locationDetails:"Detalles de Ubicación",movementDetails:"Detalles del Movimiento",totalProducts:"Total de Productos",totalLocations:"Total de Ubicaciones",lastSeen:"Visto por última vez",warehouseType:"Almacén",storeType:"Tienda",supplierType:"Proveedor",customerType:"Cliente",currentlyManaged:"Gestionados actualmente",needAttention:"Necesitan atención",currentWorth:"Valor actual",warehousesStores:"Almacenes y tiendas",thisMonth:"Este Mes",latestActivities:"Últimas actividades de inventario",searchMovements:"Buscar Movimientos",countingSheet:"Hoja de Conteo",physicalCount:"Conteo Físico",physicalInventoryCount:"Conteo Físico de Inventario",setupPhysicalCount:"Configurar Conteo Físico de Inventario",setupDescription:"Configure los ajustes de su conteo físico de inventario y comience el proceso de conteo.",countWillInclude:"Este conteo incluirá {{count}} productos de {{location}} en la categoría {{category}}.",startCounting:"Iniciar Conteo Físico",counted:"Contado",remaining:"Restante",variances:"Variaciones",complete:"Completo",systemQty:"Cant. Sistema",variance:"Variación",addNotes:"Agregar notas...",reviewAndConfirm:"Revisar y Confirmar Ajustes",reviewDescription:"Revise los ajustes de inventario a continuación y confirme para actualizar su sistema.",stockIncreases:"Aumentos de Stock",stockDecreases:"Disminuciones de Stock",totalAdjustments:"Ajustes Totales",confirmAdjustments:"Confirmar Ajustes",adjustment:"Ajuste",perfectCount:"¡Conteo Perfecto!",noVariances:"No se encontraron variaciones. Su conteo físico coincide exactamente con el sistema.",physicalCountAdjustment:"Ajuste de conteo físico",inventoryCountingSheetTitle:"HOJA DE CONTEO DE INVENTARIO",location:"Ubicación",allCategories:"Todas las Categorías",countedBy:"Contado por",verifiedBy:"Verificado por",instructions:"Instrucciones",countInstructions:["Contar todos los artículos físicamente presentes en esta ubicación",'Escribir el conteo real en la columna "Conteo Físico"',"Dejar en blanco si el artículo no se encuentra",'Anotar cualquier discrepancia en la columna "Notas"',"Firmar y fechar cuando esté completo"],productName:"Nombre del Producto",unit:"Unidad",totalProductsListed:"Total de Productos Listados",itemsCounted:"Artículos Contados",discrepanciesFound:"Discrepancias Encontradas",counterSignature:"Firma del Contador",supervisorSignature:"Firma del Supervisor",downloadCSV:"Descargar CSV",noAdjustmentsToDownload:"No hay ajustes para descargar",stockIncrease:"Aumento de Stock",stockDecrease:"Disminución de Stock",purchaseReceive:"Compra/Recepción",saleIssue:"Venta/Emisión",transfer:"Transferencia",adjustment:"Ajuste",movementType:"Tipo de Movimiento",fromLocation:"Ubicación de Origen",toLocation:"Ubicación de Destino",searchSourceLocation:"Buscar ubicación de origen...",searchDestinationLocation:"Buscar ubicación de destino...",searchLocation:"Buscar ubicación...",addProduct:"Agregar Producto",searchProduct:"Buscar producto...",unitCost:"Costo Unitario",noProductsAdded:'No se han agregado productos aún. Haga clic en "Agregar Producto" para comenzar.',createMovement:"Crear Movimiento",generalNotesPlaceholder:"Ingrese notas generales para este movimiento...",sortBy:"Ordenar Por",allLocations:"Todas las Ubicaciones",searchByProduct:"Buscar por producto, ubicación, referencia, notas, factura...",allProducts:"Todos los Productos",allTypes:"Todos los Tipos",startDate:"Fecha de Inicio",endDate:"Fecha de Fin",totalMovements:"Movimientos Totales",totalItems:"Artículos Totales",adjustMovements:"Intenta ajustar tus filtros o revisa más tarde.",inventoryMovements:"Movimientos de Inventario",createdBy:"Creado Por",view:"Ver",enhanced:"Mejorado",legacy:"Clásico",addSingleMovement:"Agregar Movimiento Individual",inStockSubtitle:"En stock",itemsBelowThreshold:"Artículos bajo el umbral",inventoryWorth:"Valor del inventario",quantity:"Cantidad",units:"unidades",normal:"Normal",productsAndStock:"Productos y Stock",lowStockItems:"Artículos con Stock Bajo",totalStockValue:"Valor Total del Stock",warehousesAndStores:"Almacenes y tiendas",andMore:"...y {count} más",latestInventoryActivities:"Últimas actividades de inventario",min:"Mín",max:"Máx",cost:"Costo",noProductsFound:"No se encontraron productos que coincidan con su búsqueda.",noProductsAvailable:"No hay productos disponibles.",noLocationsFound:"No se encontraron ubicaciones que coincidan con su búsqueda.",noLocationsAvailable:"No hay ubicaciones disponibles.",searchPlaceholder:"Buscar por producto, ubicación, referencia, notas, factura...",noMovementsFound:"No se encontraron movimientos",tryAdjustingFilters:"Intenta ajustar tus filtros o revisa más tarde.",transfers:"Transferencias",adjustments:"Ajustes",bulk:"Masivo",product:"Producto",location:"Ubicación",store:"Tienda",supplier:"Proveedor",warehouse:"Almacén",movement:"Movimiento",editMovement:"Editar Movimiento",updateMovement:"Actualizar Movimiento",movementInformation:"Información del Movimiento",locationInformation:"Información de Ubicación"},employees:{title:"Gestión de Empleados",employeeList:"Lista de Empleados",addEmployee:"Agregar Empleado",editEmployee:"Editar Empleado",employeeDetails:"Detalles del Empleado",personalInfo:"Información Personal",employmentInfo:"Información Laboral",payrollInfo:"Información de Nómina",firstName:"Nombre",lastName:"Apellido",fullName:"Nombre Completo",email:"Correo Electrónico",phone:"Teléfono",address:"Dirección",dateOfBirth:"Fecha de Nacimiento",employeeId:"ID de Empleado",department:"Departamento",position:"Puesto",hireDate:"Fecha de Contratación",employmentStatus:"Estado Laboral",salary:"Salario",payFrequency:"Frecuencia de Pago",taxId:"ID Fiscal",bankAccount:"Cuenta Bancaria",emergencyContact:"Contacto de Emergencia",activeEmployees:"Empleados Activos",inactiveEmployees:"Empleados Inactivos",totalPayroll:"Nómina Total",searchEmployees:"Buscar empleados...",enterFullName:"Ingrese el nombre completo del empleado",enterPosition:"Ingrese el puesto de trabajo",enterEmail:"Ingrese la dirección de correo electrónico",enterPhone:"Ingrese el número de teléfono",enterSalary:"Ingrese el salario anual",departments:{engineering:"Ingeniería",product:"Producto",design:"Diseño",marketing:"Marketing",sales:"Ventas",humanResources:"Recursos Humanos",finance:"Finanzas",operations:"Operaciones",analytics:"Analítica"}},entryBooks:{title:"Libros de Entrada",bookName:"Nombre del Libro",bookType:"Tipo de Libro",createBook:"Crear Libro",editBook:"Editar Libro",salesBook:"Libro de Ventas",purchaseBook:"Libro de Compras",cashBook:"Libro de Caja",generalBook:"Libro General",entries:"Entradas",addEntry:"Agregar Entrada",period:"Período",startDate:"Fecha de Inicio",endDate:"Fecha de Fin",bookBalance:"Saldo del Libro",reconciledBalance:"Saldo Conciliado",difference:"Diferencia",reconcile:"Conciliar",isReconciled:"Está Conciliado",noBooks:"No se encontraron libros de entrada",createFirst:"Crea tu primer libro de entrada para comenzar",bookDetails:"Detalles del Libro",entriesCount:"entradas",bookOverview:"Resumen y detalles del libro",bookEntries:"Entradas del Libro",allEntries:"Todas las entradas en este libro",noEntries:"No se encontraron entradas",addFirst:"Agrega tu primera entrada a este libro",entryDate:"Fecha de Entrada",entryDescription:"Descripción de Entrada",entryAmount:"Monto de Entrada",entryReference:"Referencia de Entrada"},banking:{title:"Consolidación Bancaria",bankAccount:"Cuenta Bancaria",statementDate:"Fecha del Estado",beginningBalance:"Saldo Inicial",endingBalance:"Saldo Final",deposits:"Depósitos",withdrawals:"Retiros",bankCharges:"Cargos Bancarios",interest:"Intereses",reconcile:"Conciliar",matched:"Conciliado",unmatched:"No Conciliado",importStatement:"Importar Estado",manualEntry:"Entrada Manual",autoMatch:"Coincidencia Automática",clearAll:"Limpiar Todo",reconciliationStatus:"Estado de Conciliación",difference:"Diferencia",bookBalance:"Saldo en Libros",statementBalance:"Saldo del Estado",outstandingChecks:"Cheques Pendientes",depositsInTransit:"Depósitos en Tránsito",reconciled:"Conciliado",notReconciled:"No Conciliado",unreconciled:"No Conciliado",reconciliation:"Conciliación",compareStatements:"Comparar estados bancarios con registros de libros de entrada",importCSV:"Importar CSV",startNewReconciliation:"Iniciar Nueva Conciliación",bankAccountInfo:"Información de Cuenta Bancaria",currentAccountDetails:"Detalles de cuenta actual",lastReconciled:"Última conciliación",bankTransactions:"Transacciones Bancarias",selectedPeriod:"Período seleccionado",pending:"pendiente",bookEntriesForComparison:"Entradas de libros para comparación",reconciliationRate:"Tasa de Conciliación",completionStatus:"Estado de finalización",recentReconciliationSessions:"Sesiones de Conciliación Recientes",latestActivity:"Actividad reciente",noRecentSessions:"No se encontraron sesiones de conciliación recientes.",startFirstReconciliation:"Iniciar Primera Conciliación",entryBookRecords:"Registros de Libros de Entrada",pleaseUploadCSV:"Por favor suba un archivo CSV",csvRequiresHeaderAndData:"El archivo CSV debe tener al menos un encabezado y una fila de datos",successfullyParsed:"Se analizaron exitosamente {count} filas",errorParsingCSV:"Error al analizar el archivo CSV. Verifique el formato.",dateDescriptionRequired:"Las columnas de Fecha y Descripción son requeridas",importedTransaction:"Transacción importada",successfullyImported:"Se importaron exitosamente {count} transacciones bancarias",errorImportingTransactions:"Error al importar transacciones. Verifique sus datos.",importBankStatementCSV:"Importar CSV de Estado Bancario",dropCSVHere:"Suelte el archivo CSV aquí",clickToUploadCSV:"Haga clic para cargar o arrastre y suelte el archivo CSV",supportedFormat:"Formato soportado: CSV con columnas de Fecha, Descripción y Monto",mapCSVColumns:"Mapear Columnas CSV",dateColumn:"Columna de Fecha",selectColumn:"Seleccionar columna...",descriptionColumn:"Columna de Descripción",referenceColumn:"Columna de Referencia",amountDebitColumn:"Columna de Monto/Débito",creditColumn:"Columna de Crédito",balanceColumn:"Columna de Saldo",andMoreRows:"... y {count} filas más",importing:"Importando...",importTransactions:"Importar {count} Transacciones",reconciliationComparison:"Comparación de Conciliación",bankStatements:"Estados Bancarios",totalTransactions:"Transacciones totales",totalEntries:"Entradas totales",unreconciledBank:"Banco No Conciliado",unreconciledBooks:"Libros No Conciliados",needAttention:"Necesitan atención",unreconcile:"Desconciliar",clickToReconcile:"Hacer clic para conciliar",potentialMatchesFound:"Coincidencias Potenciales Encontradas",clickRecordToReconcile:"Haga clic en un registro a continuación para conciliar",exactMatch:"Coincidencia Exacta",possibleMatch:"Posible Coincidencia",selected:"Seleccionado",clearSelection:"Limpiar Selección"},journal:{title:"Asientos Contables",entryNumber:"Número de Asiento",entryDate:"Fecha del Asiento",debit:"Débito",credit:"Crédito",account:"Cuenta",memo:"Memo",reference:"Referencia",createEntry:"Crear Asiento",editEntry:"Editar Asiento",deleteEntry:"Eliminar Asiento",posted:"Registrado",draft:"Borrador",reversed:"Revertido",recurringEntry:"Asiento Recurrente",attachments:"Adjuntos",totalDebits:"Débitos Totales",totalCredits:"Créditos Totales",outOfBalance:"Desbalanceado",balanced:"Balanceado"},forms:{requiredField:"Este campo es requerido",invalidEmail:"Dirección de correo inválida",invalidNumber:"Número inválido",invalidDate:"Fecha inválida",selectOption:"Por favor seleccione una opción",enterValue:"Por favor ingrese un valor",confirmDelete:"¿Está seguro de que desea eliminar este elemento?",unsavedChanges:"Tiene cambios sin guardar. ¿Desea continuar?",saveSuccess:"Guardado exitosamente",saveError:"Error al guardar datos",deleteSuccess:"Eliminado exitosamente",deleteError:"Error al eliminar elemento",duplicateAccountNumber:"El número de cuenta ya existe"},modals:{addInventory:"Agregar Movimiento de Inventario",bulkMovement:"Movimiento Masivo de Inventario",addProduct:"Agregar Nuevo Producto",addLocation:"Agregar Nueva Ubicación",inventoryDetail:"Detalles del Artículo de Inventario",quickAdd:"Agregar Rápido",selectProduct:"Seleccionar Producto",selectLocation:"Seleccionar Ubicación",enterQuantity:"Ingresar cantidad",enterCost:"Ingresar costo unitario",enterReference:"Ingresar número de referencia",addNotes:"Agregar notas (opcional)",generalInformation:"Información General",stockInformation:"Información de Stock",locationInformation:"Información de Ubicación",movementInformation:"Información de Movimiento",addToInventory:"Agregar al Inventario",createProduct:"Crear Producto",createLocation:"Crear Ubicación",processing:"Procesando...",addingMovement:"Agregando movimiento...",creatingProduct:"Creando producto...",creatingLocation:"Creando ubicación..."},products:{title:"Productos",addNew:"Agregar Nuevo Producto",totalProducts:"Total de Productos",inCatalog:"En catálogo",activeProducts:"Productos Activos",currentlyAvailable:"Actualmente disponibles",outOfStock:"Sin Stock",needsRestock:"Necesita reabastecimiento",productCatalog:"Catálogo de Productos",manageYourProducts:"Gestiona tus productos y precios",inStock:"En Stock",furniture:"Muebles",electronics:"Electrónicos",supplies:"Suministros",lighting:"Iluminación"},invoices:{title:"Facturas",createNew:"Crear Nueva Factura",totalOutstanding:"Total Pendiente",unpaidInvoices:"Facturas no pagadas",thisMonth:"Este Mes",revenueCollected:"Ingresos recaudados",overdue:"Vencidas",pastDueInvoices:"Facturas vencidas",recentInvoices:"Facturas Recientes",latestBillingActivity:"Actividad de facturación reciente",paid:"Pagado",pending:"Pendiente"}}},_l=()=>{if(typeof window<"u"){const t=localStorage.getItem("hrmfinance-language");if(t&&["en","es"].includes(t))return t}return"en"},[oo,wl]=Z(_l()),Qe=()=>({t:(i,a,s)=>{const l=oo(),c=i.split(".");let d=Cl[l];for(const g of c)if(d&&typeof d=="object"&&g in d)d=d[g];else return a||i;let y=typeof d=="string"?d:a||i;return s&&typeof y=="string"&&Object.keys(s).forEach(g=>{const E=s[g],L=`{{${g}}}`;y=y.replace(new RegExp(L,"g"),String(E))}),y},language:()=>oo(),setLanguage:i=>{wl(i),typeof window<"u"&&localStorage.setItem("hrmfinance-language",i)}});var kl=k("<div><label></label><select><option value>"),Al=k("<span>*"),Il=k("<option>");const Lt=t=>{const{t:e}=Qe(),n={display:"block","font-weight":"500","margin-bottom":"0.5rem",color:"var(--text-primary)"},i={width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem","font-family":"inherit",background:"var(--surface-color)",color:"var(--text-primary)",transition:"border-color 0.2s ease"},a={"margin-bottom":"1rem"};return(()=>{var s=kl(),l=s.firstChild,c=l.nextSibling,d=c.firstChild;return o(s,a),o(l,n),r(l,()=>t.label,null),r(l,(()=>{var y=F(()=>!!t.required);return()=>y()&&(()=>{var g=Al();return g.style.setProperty("color","var(--primary-color)"),g})()})(),null),c.addEventListener("blur",y=>y.target.style.borderColor="var(--border-color)"),c.addEventListener("focus",y=>y.target.style.borderColor="var(--primary-color)"),c.addEventListener("change",y=>t.onChange(y.target.value)),o(c,i),r(d,()=>e("forms.selectOption")),r(c,()=>t.options.map(y=>(()=>{var g=Il();return r(g,()=>y.label),B(()=>g.value=y.value),g})()),null),B(y=>{var g=t.required,E=t.disabled;return g!==y.e&&(c.required=y.e=g),E!==y.t&&(c.disabled=y.t=E),y},{e:void 0,t:void 0}),B(()=>c.value=t.value),s})()};var El=k("<div><span>:</span><select><option value=en>🇺🇸 </option><option value=es>🇪🇸 ");const Ll=()=>{const{t,language:e,setLanguage:n}=Qe(),i={display:"flex","align-items":"center",gap:"0.5rem","margin-left":"auto"},a={padding:"0.5rem 1rem","border-radius":"var(--border-radius-sm)",border:"1px solid var(--border-color)",background:"var(--surface-color)",color:"var(--text-primary)",cursor:"pointer","font-size":"0.875rem","font-weight":"500",transition:"all 0.2s ease","min-width":"120px"},s={"font-weight":"500",color:"var(--text-muted)","font-size":"0.875rem"},l=c=>{const d=c.target;n(d.value)};return(()=>{var c=El(),d=c.firstChild,y=d.firstChild,g=d.nextSibling,E=g.firstChild;E.firstChild;var L=E.nextSibling;return L.firstChild,o(c,i),o(d,s),r(d,()=>t("common.language"),y),g.addEventListener("change",l),o(g,a),r(E,()=>t("common.english"),null),r(L,()=>t("common.spanish"),null),B(()=>g.value=e()),c})()};var Dl=k("<main><div>"),Nl=k("<header><h1>");const Yt=t=>{const e={"min-height":"100vh",background:"var(--background-color)"},n={"max-width":"1200px",margin:"0 auto",padding:"2rem"},i={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"2rem"},a={"font-size":"2rem","font-weight":"700",color:"var(--text-primary)",margin:"0"};return(()=>{var s=Dl(),l=s.firstChild;return o(s,e),o(l,n),r(l,(()=>{var c=F(()=>!!t.title);return()=>c()&&(()=>{var d=Nl(),y=d.firstChild;return o(d,i),o(y,a),r(y,()=>t.title),r(d,u(Ll,{}),null),d})()})(),null),r(l,()=>t.children,null),s})()};var Tl=k(`<nav><div><div></div></div><style>
        .nav-active {
          background: linear-gradient(135deg, var(--primary-color), var(--primary-dark)) !important;
          color: white !important;
          box-shadow: var(--shadow-sm);
        }
        
        nav a:hover:not(.nav-active) {
          background: var(--background-color);
          color: var(--text-primary);
        }
        
        @media (max-width: 768px) {
          nav div:first-child {
            flex-direction: column;
            gap: 1rem;
            padding: 1rem;
          }
          
          nav div:last-child {
            flex-wrap: wrap;
            justify-content: center;
          }
        }
      `);const Bl=()=>{const{t}=Qe(),e={background:"var(--surface-color)","border-bottom":"1px solid var(--border-color)","box-shadow":"var(--shadow-sm)","backdrop-filter":"blur(10px)",position:"sticky",top:"0","z-index":"100"},n={display:"flex","align-items":"center","justify-content":"space-between",padding:"1rem 2rem","max-width":"1200px",margin:"0 auto"},i={"font-size":"1.5rem","font-weight":"700",color:"var(--primary-color)","text-decoration":"none","margin-right":"2rem"},a={display:"flex",gap:"0.5rem","align-items":"center"},s={"text-decoration":"none",color:"var(--text-secondary)",padding:"0.5rem 1rem","border-radius":"var(--border-radius-sm)","font-weight":"500","font-size":"0.875rem",transition:"all 0.2s ease","white-space":"nowrap"};return(()=>{var l=Tl(),c=l.firstChild,d=c.firstChild;return o(c,n),r(c,u(er,{href:"/",style:i,children:"HRM Finance"}),d),o(d,a),r(d,u(er,{href:"/",style:s,activeClass:"nav-active",get children(){return t("navigation.dashboard")}}),null),r(d,u(er,{href:"/accounts",style:s,activeClass:"nav-active",get children(){return t("navigation.accounts")}}),null),r(d,u(er,{href:"/entry-books",style:s,activeClass:"nav-active",get children(){return t("navigation.entryBooks")}}),null),r(d,u(er,{href:"/employees",style:s,activeClass:"nav-active",get children(){return t("navigation.employees")}}),null),r(d,u(er,{href:"/bank-consolidations",style:s,activeClass:"nav-active",get children(){return t("navigation.consolidate")}}),null),r(d,u(er,{href:"/balance-sheet",style:s,activeClass:"nav-active",get children(){return t("navigation.balanceSheet")}}),null),r(d,u(er,{href:"/inventory",style:s,activeClass:"nav-active",get children(){return t("navigation.inventory")}}),null),B(y=>o(l,e,y)),l})()};var Ml=k('<button title="Open Dev Tools">🛠️'),Rl=k("<span>(<!>)"),Ol=k("<div><span></span><span>"),io=k("<div>"),jl=k("<div>Database reset only available in fake mode"),zl=k("<div><div>Loading..."),Fl=k("<div><div><h3>🛠️ Dev Tools</h3><button>✕</button></div><div><div>API Mode</div><div><button>Fake Server</button><button>Real API</button><button>Hybrid</button></div><div>Current: <strong></strong></div></div><div><div>Health Status</div></div><div><div>Database Stats</div></div><div><div>Actions</div><div><button>🔄 Refresh Stats</button><button>💊 Health Check</button></div><div><button>🗑️ Reset DB</button></div></div><div><div>Info</div><div>• <strong>Fake Server:</strong> Uses local mock data<br>• <strong>Real API:</strong> Connects to actual backend<br>• <strong>Hybrid:</strong> Real API with fake fallback<br>• Settings are saved in localStorage"),ql=k("<div>Loading..."),Ul=k("<div><span>:</span><span>");const Vl=()=>{const[t,e]=Z(!1),[n,i]=Z(Fr.getMode()),[a,s]=Z({}),[l,c]=Z(null),[d,y]=Z(!1);ar(async()=>{await g(),await E()});const g=async()=>{try{const oe=await ro.getStats();s(oe)}catch(oe){console.error("Failed to load stats:",oe)}},E=async()=>{try{const oe=await ro.healthCheck();c(oe)}catch(oe){console.error("Health check failed:",oe),c({status:"error",error:oe.message})}},L=async oe=>{y(!0);try{Fr.setMode(oe),i(oe),await g(),await E()}catch(re){console.error("Failed to change API mode:",re)}finally{y(!1)}},A=async()=>{if(confirm("Are you sure you want to reset the fake database to its initial state?")){y(!0);try{const oe=await Rt.utils.resetDatabase();alert(oe.message),await g()}catch(oe){console.error("Failed to reset database:",oe),alert("Failed to reset database")}finally{y(!1)}}},$={position:"fixed",bottom:"20px",right:"20px","z-index":"10000","font-family":"monospace"},P={background:"#1a1a1a",color:"#fff",border:"1px solid #333","border-radius":"8px",padding:"16px","min-width":"300px","max-width":"400px","box-shadow":"0 4px 20px rgba(0,0,0,0.3)"},x={background:"#007acc",color:"#fff",border:"none","border-radius":"50%",width:"50px",height:"50px",cursor:"pointer","font-size":"20px","box-shadow":"0 2px 10px rgba(0,0,0,0.2)",display:"flex","align-items":"center","justify-content":"center"},h={background:"#333",color:"#fff",border:"1px solid #555","border-radius":"4px",padding:"6px 12px",cursor:"pointer","font-size":"12px","margin-right":"8px","margin-bottom":"8px"},M={...h,background:"#007acc","border-color":"#007acc"},U={"margin-bottom":"16px","padding-bottom":"12px","border-bottom":"1px solid #333"},R={"font-size":"14px","font-weight":"bold","margin-bottom":"8px",color:"#007acc"},X={display:"flex","justify-content":"space-between","font-size":"12px","margin-bottom":"4px"},Y=oe=>({display:"inline-block",width:"8px",height:"8px","border-radius":"50%","margin-right":"8px",background:oe==="healthy"?"#00ff00":oe==="error"?"#ff0000":"#ffff00"});return(()=>{var oe=io();return r(oe,u(Ge,{get when(){return!t()},get children(){var re=Ml();return re.$$click=()=>e(!0),o(re,x),re}}),null),r(oe,u(Ge,{get when(){return t()},get children(){var re=Fl(),me=re.firstChild,ue=me.firstChild,te=ue.nextSibling,ee=me.nextSibling,f=ee.firstChild,ie=f.nextSibling,_=ie.firstChild,m=_.nextSibling,D=m.nextSibling,v=ie.nextSibling,C=v.firstChild,b=C.nextSibling,w=ee.nextSibling,le=w.firstChild,S=w.nextSibling,I=S.firstChild,H=S.nextSibling,V=H.firstChild,ne=V.nextSibling,W=ne.firstChild,q=W.nextSibling,ae=ne.nextSibling,N=ae.firstChild,G=H.nextSibling,fe=G.firstChild,Se=fe.nextSibling;return o(re,P),me.style.setProperty("display","flex"),me.style.setProperty("justify-content","space-between"),me.style.setProperty("align-items","center"),me.style.setProperty("margin-bottom","16px"),ue.style.setProperty("margin","0"),ue.style.setProperty("color","#007acc"),ue.style.setProperty("font-size","16px"),te.$$click=()=>e(!1),_.$$click=()=>L("fake"),m.$$click=()=>L("real"),D.$$click=()=>L("hybrid"),v.style.setProperty("font-size","11px"),v.style.setProperty("color","#888"),v.style.setProperty("margin-top","4px"),r(b,n),r(v,()=>n()==="fake"&&" (Using fake server)",null),r(v,()=>n()==="real"&&" (Using real API)",null),r(v,()=>n()==="hybrid"&&" (Real API with fallback)",null),r(w,u(Ge,{get when(){return l()},get fallback(){return(()=>{var K=ql();return K.style.setProperty("font-size","12px"),K})()},get children(){return[(()=>{var K=Ol(),J=K.firstChild,se=J.nextSibling;return K.style.setProperty("display","flex"),K.style.setProperty("align-items","center"),K.style.setProperty("font-size","12px"),r(se,()=>l()?.status||"Unknown"),r(K,u(Ge,{get when(){return l()?.timestamp},get children(){var Q=Rl(),O=Q.firstChild,pe=O.nextSibling;return pe.nextSibling,Q.style.setProperty("margin-left","8px"),Q.style.setProperty("color","#888"),r(Q,()=>new Date(l().timestamp).toLocaleTimeString(),pe),Q}}),null),B(Q=>o(J,Y(l()?.status||"unknown"),Q)),K})(),u(Ge,{get when(){return l()?.error},get children(){var K=io();return K.style.setProperty("font-size","11px"),K.style.setProperty("color","#ff6666"),K.style.setProperty("margin-top","4px"),r(K,()=>l().error),K}})]}}),null),r(S,u(mt,{get each(){return Object.entries(a())},children:([K,J])=>(()=>{var se=Ul(),Q=se.firstChild,O=Q.firstChild,pe=Q.nextSibling;return o(se,X),Q.style.setProperty("text-transform","capitalize"),r(Q,K,O),pe.style.setProperty("color","#00ff00"),r(pe,J),se})()}),null),W.$$click=g,q.$$click=E,ae.style.setProperty("margin-top","8px"),N.$$click=A,r(H,u(Ge,{get when(){return n()!=="fake"},get children(){var K=jl();return K.style.setProperty("font-size","11px"),K.style.setProperty("color","#888"),K.style.setProperty("margin-top","4px"),K}}),null),Se.style.setProperty("font-size","11px"),Se.style.setProperty("color","#888"),Se.style.setProperty("line-height","1.4"),r(re,u(Ge,{get when(){return d()},get children(){var K=zl(),J=K.firstChild;return K.style.setProperty("position","absolute"),K.style.setProperty("top","0"),K.style.setProperty("left","0"),K.style.setProperty("right","0"),K.style.setProperty("bottom","0"),K.style.setProperty("background","rgba(0,0,0,0.7)"),K.style.setProperty("display","flex"),K.style.setProperty("align-items","center"),K.style.setProperty("justify-content","center"),K.style.setProperty("border-radius","8px"),J.style.setProperty("color","#fff"),J.style.setProperty("font-size","14px"),K}}),null),B(K=>{var J={...h,padding:"4px 8px"},se=U,Q=R,O=n()==="fake"?M:h,pe=d(),ge=n()==="real"?M:h,T=d(),j=n()==="hybrid"?M:h,be=d(),ye=U,ce=R,z=U,p=R,de=U,_e=R,$e=h,xe=d(),we=h,Re=d(),Ie={...h,background:"#cc4400","border-color":"#cc4400"},ve=d()||n()!=="fake",ke=R;return K.e=o(te,J,K.e),K.t=o(ee,se,K.t),K.a=o(f,Q,K.a),K.o=o(_,O,K.o),pe!==K.i&&(_.disabled=K.i=pe),K.n=o(m,ge,K.n),T!==K.s&&(m.disabled=K.s=T),K.h=o(D,j,K.h),be!==K.r&&(D.disabled=K.r=be),K.d=o(w,ye,K.d),K.l=o(le,ce,K.l),K.u=o(S,z,K.u),K.c=o(I,p,K.c),K.w=o(H,de,K.w),K.m=o(V,_e,K.m),K.f=o(W,$e,K.f),xe!==K.y&&(W.disabled=K.y=xe),K.g=o(q,we,K.g),Re!==K.p&&(q.disabled=K.p=Re),K.b=o(N,Ie,K.b),ve!==K.T&&(N.disabled=K.T=ve),K.A=o(fe,ke,K.A),K},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0}),re}}),null),B(re=>o(oe,$,re)),oe})()};vt(["click"]);var Yl=k("<div>$124,350"),Wl=k("<div>+12% from last month"),Hl=k("<div>247"),Cr=k("<div>"),Gl=k("<div>18"),Jl=k("<div>$89,250"),Ql=k("<div><div><div></div><div></div></div><div><div></div><div></div></div><div><div></div><div>");const Kl=()=>{const{t}=Qe(),e={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"},n={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem"},i={"font-size":"2rem","font-weight":"700",color:"var(--primary-color)",margin:"0.5rem 0"},a={"font-size":"0.875rem",color:"var(--text-muted)","text-transform":"uppercase","letter-spacing":"0.5px"};return u(Yt,{get title(){return t("dashboard.title")},get children(){return[(()=>{var s=Cr();return o(s,e),r(s,u(je,{get title(){return t("dashboard.totalRevenue")},get subtitle(){return t("dashboard.overview")},get children(){return[(()=>{var l=Yl();return B(c=>o(l,i,c)),l})(),(()=>{var l=Wl();return B(c=>o(l,a,c)),l})()]}}),null),r(s,u(je,{get title(){return t("dashboard.employeeCount")},get subtitle(){return t("dashboard.current")},get children(){return[(()=>{var l=Hl();return B(c=>o(l,i,c)),l})(),(()=>{var l=Cr();return r(l,()=>t("dashboard.newHires")),B(c=>o(l,a,c)),l})()]}}),null),r(s,u(je,{get title(){return t("dashboard.pendingInvoices")},get subtitle(){return t("dashboard.outstanding")},get children(){return[(()=>{var l=Gl();return B(c=>o(l,i,c)),l})(),(()=>{var l=Cr();return r(l,()=>t("dashboard.totalOutstanding")),B(c=>o(l,a,c)),l})()]}}),null),r(s,u(je,{get title(){return t("dashboard.cashBalance")},get subtitle(){return t("accounts.title")},get children(){return[(()=>{var l=Jl();return B(c=>o(l,i,c)),l})(),(()=>{var l=Cr();return r(l,()=>t("dashboard.lastUpdatedToday")),B(c=>o(l,a,c)),l})()]}}),null),s})(),(()=>{var s=Cr();return o(s,n),r(s,u(je,{get title(){return t("dashboard.quickActions")},get subtitle(){return t("dashboard.commonTasks")},get children(){var l=Cr();return l.style.setProperty("display","flex"),l.style.setProperty("flex-direction","column"),l.style.setProperty("gap","1rem"),r(l,u(Ae,{variant:"primary",get children(){return t("invoices.createNew")}}),null),r(l,u(Ae,{variant:"secondary",get children(){return t("employees.addEmployee")}}),null),r(l,u(Ae,{variant:"outline",get children(){return t("dashboard.generateReport")}}),null),l}}),null),r(s,u(je,{get title(){return t("dashboard.recentActivity")},get subtitle(){return t("dashboard.latestUpdates")},get children(){var l=Ql(),c=l.firstChild,d=c.firstChild,y=d.nextSibling,g=c.nextSibling,E=g.firstChild,L=E.nextSibling,A=g.nextSibling,$=A.firstChild,P=$.nextSibling;return l.style.setProperty("display","flex"),l.style.setProperty("flex-direction","column"),l.style.setProperty("gap","0.75rem"),c.style.setProperty("border-bottom","1px solid var(--border-color)"),c.style.setProperty("padding-bottom","0.5rem"),d.style.setProperty("font-weight","500"),r(d,()=>t("dashboard.invoicePaid")),y.style.setProperty("font-size","0.875rem"),y.style.setProperty("color","var(--text-muted)"),r(y,()=>t("dashboard.hoursAgo")),g.style.setProperty("border-bottom","1px solid var(--border-color)"),g.style.setProperty("padding-bottom","0.5rem"),E.style.setProperty("font-weight","500"),r(E,()=>t("dashboard.newEmployeeOnboarded")),L.style.setProperty("font-size","0.875rem"),L.style.setProperty("color","var(--text-muted)"),r(L,()=>t("dashboard.dayAgo")),$.style.setProperty("font-weight","500"),r($,()=>t("dashboard.monthlyReportGenerated")),P.style.setProperty("font-size","0.875rem"),P.style.setProperty("color","var(--text-muted)"),r(P,()=>t("dashboard.daysAgo")),l}}),null),s})()]}})},Zl=[{id:"1",accountNumber:"1000",name:"Cash and Cash Equivalents",type:"Asset",category:"Current Assets",description:"Cash on hand and in bank accounts",balance:45230.5,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-15"},{id:"1001",accountNumber:"1001",name:"Petty Cash",type:"Asset",category:"Current Assets",description:"Small amounts of cash for minor expenses",balance:500,isActive:!0,parentAccountId:"1",createdDate:"2024-01-01",lastModified:"2024-01-15"},{id:"1002",accountNumber:"1002",name:"Bank - Checking Account",type:"Asset",category:"Current Assets",description:"Main operating checking account",balance:32730.5,isActive:!0,parentAccountId:"1",createdDate:"2024-01-01",lastModified:"2024-01-15"},{id:"1003",accountNumber:"1003",name:"Bank - Savings Account",type:"Asset",category:"Current Assets",description:"Interest-bearing savings account",balance:12e3,isActive:!0,parentAccountId:"1",createdDate:"2024-01-01",lastModified:"2024-01-15"},{id:"2",accountNumber:"1100",name:"Accounts Receivable",type:"Asset",category:"Current Assets",description:"Money owed by customers",balance:23450.75,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-14"},{id:"2001",accountNumber:"1101",name:"Trade Receivables",type:"Asset",category:"Current Assets",description:"Receivables from regular customers",balance:18450.75,isActive:!0,parentAccountId:"2",createdDate:"2024-01-01",lastModified:"2024-01-14"},{id:"2002",accountNumber:"1102",name:"Employee Advances",type:"Asset",category:"Current Assets",description:"Money advanced to employees",balance:5e3,isActive:!0,parentAccountId:"2",createdDate:"2024-01-01",lastModified:"2024-01-14"},{id:"3",accountNumber:"1200",name:"Inventory",type:"Asset",category:"Current Assets",description:"Products held for sale",balance:78920.25,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-13"},{id:"4",accountNumber:"1500",name:"Equipment",type:"Asset",category:"Fixed Assets",description:"Office equipment and machinery",balance:125e3,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-12"},{id:"5",accountNumber:"2000",name:"Accounts Payable",type:"Liability",category:"Current Liabilities",description:"Money owed to suppliers",balance:15670.3,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-11"},{id:"6",accountNumber:"2100",name:"Accrued Expenses",type:"Liability",category:"Current Liabilities",description:"Expenses incurred but not yet paid",balance:8945.6,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-10"},{id:"7",accountNumber:"2500",name:"Long-term Debt",type:"Liability",category:"Long-term Liabilities",description:"Long-term loans and mortgages",balance:85e3,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-09"},{id:"8",accountNumber:"3000",name:"Owner's Equity",type:"Equity",category:"Owner's Equity",description:"Owner's investment in the business",balance:15e4,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-08"},{id:"9",accountNumber:"3100",name:"Retained Earnings",type:"Equity",category:"Owner's Equity",description:"Accumulated profits retained in business",balance:32450.8,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-07"},{id:"10",accountNumber:"4000",name:"Sales Revenue",type:"Revenue",category:"Operating Revenue",description:"Revenue from product sales",balance:245678.9,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-06"},{id:"11",accountNumber:"4100",name:"Service Revenue",type:"Revenue",category:"Operating Revenue",description:"Revenue from services provided",balance:89432.15,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-05"},{id:"12",accountNumber:"5000",name:"Cost of Goods Sold",type:"Expense",category:"Operating Expenses",description:"Direct costs of producing goods",balance:125678.45,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-04"},{id:"13",accountNumber:"5100",name:"Salaries Expense",type:"Expense",category:"Operating Expenses",description:"Employee salary expenses",balance:98765.32,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-03"},{id:"14",accountNumber:"5200",name:"Rent Expense",type:"Expense",category:"Operating Expenses",description:"Office rent expenses",balance:24e3,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-02"}],Xl=[{id:"1",accountId:"1",date:"2024-01-15",description:"Customer payment received",debitAmount:5e3,creditAmount:0,reference:"INV-2024-001",type:"debit"},{id:"2",accountId:"2",date:"2024-01-15",description:"Customer payment received",debitAmount:0,creditAmount:5e3,reference:"INV-2024-001",type:"credit"},{id:"3",accountId:"5",date:"2024-01-14",description:"Office supplies purchased",debitAmount:0,creditAmount:1250,reference:"PO-2024-001",type:"credit"}],[Ht,Yr]=Z(Zl),[pn,ea]=Z(Xl),nt={get accounts(){return Ht()},get transactions(){return pn()},fetchAllAccount(t){const e={...t,id:Date.now().toString(),createdDate:new Date().toISOString().split("T")[0],lastModified:new Date().toISOString().split("T")[0]};return Yr([...Ht(),e]),e},addAccount(t){const e={...t,id:Date.now().toString(),createdDate:new Date().toISOString().split("T")[0],lastModified:new Date().toISOString().split("T")[0]};return Yr([...Ht(),e]),e},updateAccount(t,e){Yr(Ht().map(n=>n.id===t?{...n,...e,lastModified:new Date().toISOString().split("T")[0]}:n))},deleteAccount(t){Yr(Ht().filter(e=>e.id!==t))},getAccountById(t){return Ht().find(e=>e.id===t)},getAccountsByType(t){return Ht().filter(e=>e.type===t)},getAccountTransactions(t){return pn().filter(e=>e.accountId===t)},addTransaction(t){const e={...t,id:Date.now().toString()};ea([...pn(),e]);const n=this.getAccountById(t.accountId);if(n){const i=t.type==="debit"?t.debitAmount:-t.creditAmount;this.updateAccount(t.accountId,{balance:n.balance+i})}return e},getTotalByType(t){return Ht().filter(e=>e.type===t&&e.isActive).reduce((e,n)=>e+n.balance,0)},getAccountCategories(t){const e=this.getAccountsByType(t);return[...new Set(e.map(n=>n.category))]},getSubAccounts(t){return Ht().filter(e=>e.parentAccountId===t)},getParentAccounts(){return Ht().filter(t=>!t.parentAccountId)},getAccountHierarchy(){return this.getParentAccounts().map(e=>({...e,subAccounts:this.getSubAccounts(e.id)}))},getAccountWithSubAccounts(t){const e=this.getAccountById(t);return e?{...e,subAccounts:this.getSubAccounts(t),parentAccount:e.parentAccountId?this.getAccountById(e.parentAccountId):null}:null},getAccountPath(t){const e=this.getAccountById(t);if(!e)return[];const n=[e];let i=e;for(;i.parentAccountId;){const a=this.getAccountById(i.parentAccountId);if(a)n.unshift(a),i=a;else break}return n},getTotalBalanceWithSubAccounts(t){const e=this.getAccountById(t);if(!e)return 0;const i=this.getSubAccounts(t).reduce((a,s)=>a+this.getTotalBalanceWithSubAccounts(s.id),0);return e.balance+i},canDeleteAccount(t){const e=this.getSubAccounts(t);if(e.length>0)return{canDelete:!1,reason:`Account has ${e.length} sub-account(s). Delete or move sub-accounts first.`};const n=this.getAccountTransactions(t);return n.length>0?{canDelete:!1,reason:`Account has ${n.length} transaction(s). Cannot delete account with transaction history.`}:{canDelete:!0}}};var tr=k("<div>"),Dr=k("<div> ");const ta=()=>{const{t}=Qe(),e={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"},n={"font-size":"1.5rem","font-weight":"600",color:"var(--primary-color)","margin-bottom":"0.5rem"},i={"font-size":"0.875rem",color:"var(--text-muted)"},a=P=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(P),s=nt.getTotalByType("Asset"),l=nt.getTotalByType("Liability"),c=nt.getTotalByType("Equity"),d=nt.getTotalByType("Revenue"),y=nt.getTotalByType("Expense"),g=nt.getAccountsByType("Asset").length,E=nt.getAccountsByType("Liability").length,L=nt.getAccountsByType("Equity").length,A=nt.getAccountsByType("Revenue").length,$=nt.getAccountsByType("Expense").length;return(()=>{var P=tr();return o(P,e),r(P,u(je,{get title(){return t("dashboard.totalAssets")},get subtitle(){return t("dashboard.overview")},get children(){return[(()=>{var x=tr();return r(x,()=>a(s)),B(h=>o(x,n,h)),x})(),(()=>{var x=Dr(),h=x.firstChild;return r(x,g,h),r(x,()=>t("navigation.accounts"),null),B(M=>o(x,i,M)),x})()]}}),null),r(P,u(je,{get title(){return t("dashboard.totalLiabilities")},get subtitle(){return t("dashboard.overview")},get children(){return[(()=>{var x=tr();return r(x,()=>a(l)),B(h=>o(x,n,h)),x})(),(()=>{var x=Dr(),h=x.firstChild;return r(x,E,h),r(x,()=>t("navigation.accounts"),null),B(M=>o(x,i,M)),x})()]}}),null),r(P,u(je,{get title(){return t("dashboard.totalEquity")},get subtitle(){return t("accounts.categories.ownersEquity")},get children(){return[(()=>{var x=tr();return r(x,()=>a(c)),B(h=>o(x,n,h)),x})(),(()=>{var x=Dr(),h=x.firstChild;return r(x,L,h),r(x,()=>t("navigation.accounts"),null),B(M=>o(x,i,M)),x})()]}}),null),r(P,u(je,{get title(){return t("dashboard.totalRevenue")},get subtitle(){return t("accounts.categories.operatingRevenue")},get children(){return[(()=>{var x=tr();return r(x,()=>a(d)),B(h=>o(x,n,h)),x})(),(()=>{var x=Dr(),h=x.firstChild;return r(x,A,h),r(x,()=>t("navigation.accounts"),null),B(M=>o(x,i,M)),x})()]}}),null),r(P,u(je,{get title(){return t("dashboard.totalExpenses")},get subtitle(){return t("accounts.categories.operatingExpenses")},get children(){return[(()=>{var x=tr();return r(x,()=>a(y)),B(h=>o(x,n,h)),x})(),(()=>{var x=Dr(),h=x.firstChild;return r(x,$,h),r(x,()=>t("navigation.accounts"),null),B(M=>o(x,i,M)),x})()]}}),null),r(P,u(je,{get title(){return t("dashboard.netIncome")},get subtitle(){return`${t("dashboard.totalRevenue")} - ${t("dashboard.totalExpenses")}`},get children(){return[(()=>{var x=tr();return r(x,()=>a(d-y)),B(h=>o(x,{...n,color:d-y>=0?"#4caf50":"#f44336"},h)),x})(),(()=>{var x=tr();return r(x,()=>d-y>=0?t("dashboard.netIncome"):t("dashboard.netLoss")),B(h=>o(x,i,h)),x})()]}}),null),P})()};var ra=k("<div><div></div><div>"),na=k("<h3>"),Nr=k("<div>");const oa=t=>{const{t:e}=Qe();Yn();const n={display:"flex","justify-content":"flex-end","margin-top":"1rem","padding-top":"1rem","border-top":"1px solid var(--border-color)"},i={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"1rem"},a={"font-size":"0.875rem","font-weight":"600",color:"var(--text-muted)","text-transform":"uppercase","letter-spacing":"0.5px"},s={padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500","text-transform":"uppercase","letter-spacing":"0.5px"},l={"font-size":"1.5rem","font-weight":"600",color:"var(--primary-color)","margin-bottom":"0.5rem"},c={"font-size":"0.875rem",color:"var(--text-muted)","margin-bottom":"0.5rem"},d={"font-size":"0.875rem",color:"var(--text-secondary)","line-height":"1.4"},y=L=>({Asset:{bg:"#e8f5e8",color:"#2d7d32"},Liability:{bg:"#fff3e0",color:"#f57c00"},Equity:{bg:"#e3f2fd",color:"#1976d2"},Revenue:{bg:"#e8f5e8",color:"#388e3c"},Expense:{bg:"#ffebee",color:"#d32f2f"}})[L]||{bg:"#f5f5f5",color:"#666"},g=L=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(L),E=y(t.account.type);return u(je,{get children(){return[(()=>{var L=ra(),A=L.firstChild,$=A.nextSibling;return o(L,i),o(A,a),r(A,()=>t.account.accountNumber),r($,()=>e(`accounts.types.${t.account.type.toLowerCase()}`)),B(P=>o($,{...s,background:E.bg,color:E.color},P)),L})(),(()=>{var L=na();return L.style.setProperty("margin","0 0 0.5rem 0"),L.style.setProperty("font-size","1.1rem"),r(L,()=>t.account.name),L})(),(()=>{var L=Nr();return o(L,c),r(L,()=>t.account.category),L})(),(()=>{var L=Nr();return o(L,l),r(L,()=>g(t.account.balance)),L})(),(()=>{var L=Nr();return o(L,d),r(L,()=>t.account.description),L})(),F(()=>F(()=>!t.account.isActive)()&&(()=>{var L=Nr();return L.style.setProperty("margin-top","0.5rem"),L.style.setProperty("padding","0.25rem 0.75rem"),L.style.setProperty("border-radius","9999px"),L.style.setProperty("font-size","0.75rem"),L.style.setProperty("font-weight","500"),L.style.setProperty("background","#ffebee"),L.style.setProperty("color","#d32f2f"),L.style.setProperty("text-align","center"),r(L,()=>e("common.inactive")),L})()),(()=>{var L=Nr();return o(L,n),r(L,u(Ae,{variant:"primary",size:"sm",onClick:()=>t.onViewDetails?.(t.account),get children(){return[F(()=>e("common.view"))," ",F(()=>e("accounts.accountDetails"))]}})),L})()]}})};var ia=k("<div><div><div><div></div><h3></h3></div></div><div><div></div><div>"),la=k("<div>"),aa=k("<button>"),sa=k("<div><h4> (<!>)"),ca=k("<div><div><div></div><div> • </div></div><div>");const da=t=>{const{t:e}=Qe(),n=Yn(),[i,a]=Z(!0),s={"margin-bottom":"1rem"},l={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"1rem"},c={display:"flex","align-items":"center",gap:"1rem"},d={background:"none",border:"none",cursor:"pointer","font-size":"1.2rem",color:"var(--text-muted)",padding:"0.25rem","border-radius":"var(--border-radius-sm)",transition:"all 0.2s ease"},y={"font-size":"0.875rem","font-weight":"600",color:"var(--text-muted)","text-transform":"uppercase"},g={"font-size":"1.1rem","font-weight":"600",color:"var(--text-primary)",margin:"0"},E={"font-size":"1.25rem","font-weight":"600",color:"var(--primary-color)"},L={padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500","text-transform":"uppercase","letter-spacing":"0.5px"},A={"margin-left":"1rem","border-left":"2px solid var(--border-color)","padding-left":"1rem","margin-top":"1rem"},$={display:"flex","justify-content":"space-between","align-items":"center",padding:"0.75rem","margin-bottom":"0.5rem",background:"var(--background-color)","border-radius":"var(--border-radius-sm)",border:"1px solid var(--border-color)",cursor:"pointer",transition:"all 0.2s ease"},P={flex:"1"},x={"font-weight":"500","margin-bottom":"0.25rem"},h={"font-size":"0.875rem",color:"var(--text-muted)"},M={"font-weight":"600",color:"var(--primary-color)"},U={display:"flex",gap:"0.5rem"},R=ue=>({Asset:{bg:"#e8f5e8",color:"#2d7d32"},Liability:{bg:"#fff3e0",color:"#f57c00"},Equity:{bg:"#e3f2fd",color:"#1976d2"},Revenue:{bg:"#e8f5e8",color:"#388e3c"},Expense:{bg:"#ffebee",color:"#d32f2f"}})[ue]||{bg:"#f5f5f5",color:"#666"},X=ue=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(ue),Y=ue=>{t.onViewDetails?t.onViewDetails(ue):n(`/accounts/${ue.id}`)},oe=()=>{t.onAddSubAccount&&t.onAddSubAccount(t.account)},re=t.account.balance+t.account.subAccounts.reduce((ue,te)=>ue+te.balance,0),me=R(t.account.type);return u(je,{className:"account-hierarchy-card",style:s,get children(){return[(()=>{var ue=ia(),te=ue.firstChild,ee=te.firstChild,f=ee.firstChild,ie=f.nextSibling,_=te.nextSibling,m=_.firstChild,D=m.nextSibling;return o(ue,l),o(te,c),r(te,(()=>{var v=F(()=>t.account.subAccounts.length>0);return()=>v()&&(()=>{var C=aa();return C.addEventListener("mouseleave",b=>b.target.style.background="none"),C.addEventListener("mouseenter",b=>b.target.style.background="var(--background-color)"),C.$$click=()=>a(!i()),o(C,d),r(C,()=>i()?"▼":"▶"),C})()})(),ee),ee.$$click=()=>Y(t.account),ee.style.setProperty("cursor","pointer"),o(f,y),r(f,()=>t.account.accountNumber),o(ie,g),r(ie,()=>t.account.name),_.style.setProperty("text-align","right"),o(m,E),r(m,()=>X(re)),r(D,()=>e(`accounts.types.${t.account.type.toLowerCase()}`)),B(v=>o(D,{...L,background:me.bg,color:me.color},v)),ue})(),(()=>{var ue=la();return o(ue,U),r(ue,u(Ae,{variant:"secondary",size:"sm",onClick:()=>Y(t.account),get children(){return[F(()=>e("common.view"))," ",F(()=>e("accounts.accountDetails"))]}}),null),r(ue,u(Ae,{variant:"outline",size:"sm",onClick:oe,get children(){return[F(()=>e("common.add"))," ",F(()=>e("accounts.subAccounts"))]}}),null),ue})(),F(()=>F(()=>!!(i()&&t.account.subAccounts.length>0))()&&(()=>{var ue=sa(),te=ue.firstChild,ee=te.firstChild,f=ee.nextSibling;return f.nextSibling,o(ue,A),te.style.setProperty("margin","0 0 1rem 0"),te.style.setProperty("font-size","1rem"),te.style.setProperty("color","var(--text-muted)"),r(te,()=>e("accounts.subAccounts"),ee),r(te,()=>t.account.subAccounts.length,f),r(ue,()=>t.account.subAccounts.map(ie=>(()=>{var _=ca(),m=_.firstChild,D=m.firstChild,v=D.nextSibling,C=v.firstChild,b=m.nextSibling;return _.addEventListener("mouseleave",w=>{w.currentTarget.style.background="var(--background-color)",w.currentTarget.style.transform="translateY(0)"}),_.addEventListener("mouseenter",w=>{w.currentTarget.style.background="var(--surface-color)",w.currentTarget.style.transform="translateY(-1px)"}),_.$$click=()=>Y(ie),o(_,$),o(m,P),o(D,x),r(D,()=>ie.name),o(v,h),r(v,()=>ie.accountNumber,C),r(v,()=>ie.description,null),o(b,M),r(b,()=>X(ie.balance)),_})()),null),ue})())]}})};vt(["click"]);var ua=k("<form><div>");const ya=t=>{const{t:e}=Qe(),[n,i]=Z({accountNumber:"",name:"",type:"",category:"",description:"",balance:"0",isActive:"true"}),a=[{value:"Asset",label:e("accounts.types.asset")},{value:"Liability",label:e("accounts.types.liability")},{value:"Equity",label:e("accounts.types.equity")},{value:"Revenue",label:e("accounts.types.revenue")},{value:"Expense",label:e("accounts.types.expense")}],s=()=>{const g=n().type;return g?{Asset:[{value:"Current Assets",label:e("accounts.categories.currentAssets")},{value:"Fixed Assets",label:e("accounts.categories.fixedAssets")}],Liability:[{value:"Current Liabilities",label:e("accounts.categories.currentLiabilities")},{value:"Long-term Liabilities",label:e("accounts.categories.longTermLiabilities")}],Equity:[{value:"Owner's Equity",label:e("accounts.categories.ownersEquity")}],Revenue:[{value:"Operating Revenue",label:e("accounts.categories.operatingRevenue")}],Expense:[{value:"Operating Expenses",label:e("accounts.categories.operatingExpenses")}]}[g]||[]:[]},l=[{value:"true",label:e("common.active")},{value:"false",label:e("common.inactive")}],c={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},d=g=>{g.preventDefault();const E=n();if(!E.accountNumber||!E.name||!E.type||!E.category){alert(e("forms.requiredField"));return}if(nt.accounts.find($=>$.accountNumber===E.accountNumber)){alert(e("forms.duplicateAccountNumber"));return}const A={accountNumber:E.accountNumber,name:E.name,type:E.type,category:E.category,description:E.description,balance:parseFloat(E.balance)||0,isActive:E.isActive==="true"};nt.addAccount(A),i({accountNumber:"",name:"",type:"",category:"",description:"",balance:"0",isActive:"true"}),t.onClose()},y=(g,E)=>{i(L=>{const A={...L,[g]:E};return g==="type"&&(A.category=""),A})};return u(It,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return e("accounts.addAccount")},get children(){var g=ua(),E=g.firstChild;return g.addEventListener("submit",d),r(g,u(st,{get label(){return e("accounts.accountNumber")},get value(){return n().accountNumber},onChange:L=>y("accountNumber",L),get placeholder(){return e("accounts.accountNumber")},required:!0}),E),r(g,u(st,{get label(){return e("accounts.accountName")},get value(){return n().name},onChange:L=>y("name",L),get placeholder(){return e("accounts.accountName")},required:!0}),E),r(g,u(Lt,{get label(){return e("accounts.accountType")},get value(){return n().type},onChange:L=>y("type",L),options:a,required:!0}),E),r(g,u(Lt,{get label(){return e("accounts.category")},get value(){return n().category},onChange:L=>y("category",L),get options(){return s()},required:!0}),E),r(g,u(st,{get label(){return e("common.description")},get value(){return n().description},onChange:L=>y("description",L),get placeholder(){return e("common.description")}}),E),r(g,u(st,{get label(){return e("accounts.balance")},type:"number",get value(){return n().balance},onChange:L=>y("balance",L),get placeholder(){return e("accounts.balance")}}),E),r(g,u(Lt,{get label(){return e("common.status")},get value(){return n().isActive},onChange:L=>y("isActive",L),options:l,required:!0}),E),o(E,c),r(E,u(Ae,{variant:"secondary",type:"button",get onClick(){return t.onClose},get children(){return e("common.cancel")}}),null),r(E,u(Ae,{variant:"primary",type:"submit",get children(){return e("accounts.addAccount")}}),null),g}})};var ma=k("<form><div>"),va=k("<div><div></div><div> - </div><div> • ");const ga=t=>{const{t:e}=Qe(),[n,i]=Z({accountNumber:"",name:"",category:"",description:"",balance:"0",isActive:"true"}),a=()=>t.parentAccount?{Asset:[{value:"Current Assets",label:e("accounts.categories.currentAssets")},{value:"Fixed Assets",label:e("accounts.categories.fixedAssets")}],Liability:[{value:"Current Liabilities",label:e("accounts.categories.currentLiabilities")},{value:"Long-term Liabilities",label:e("accounts.categories.longTermLiabilities")}],Equity:[{value:"Owner's Equity",label:e("accounts.categories.ownersEquity")}],Revenue:[{value:"Operating Revenue",label:e("accounts.categories.operatingRevenue")}],Expense:[{value:"Operating Expenses",label:e("accounts.categories.operatingExpenses")}]}[t.parentAccount.type]||[]:[],s=[{value:"true",label:e("common.active")},{value:"false",label:e("common.inactive")}],l={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},c={background:"var(--background-color)",padding:"1rem","border-radius":"var(--border-radius-sm)","margin-bottom":"1.5rem",border:"1px solid var(--border-color)"},d={"font-size":"0.875rem","font-weight":"500",color:"var(--text-muted)","margin-bottom":"0.5rem"},y={"font-weight":"600",color:"var(--text-primary)"},g={"font-size":"0.875rem",color:"var(--text-secondary)"},E=P=>{P.preventDefault();const x=n();if(!x.accountNumber||!x.name||!x.category||!t.parentAccount){alert(e("forms.requiredField"));return}if(nt.accounts.find(U=>U.accountNumber===x.accountNumber)){alert(e("forms.duplicateAccountNumber"));return}const M={accountNumber:x.accountNumber,name:x.name,type:t.parentAccount.type,category:x.category,description:x.description,balance:parseFloat(x.balance)||0,isActive:x.isActive==="true",parentAccountId:t.parentAccount.id};nt.addAccount(M),i({accountNumber:"",name:"",category:"",description:"",balance:"0",isActive:"true"}),t.onClose()},L=(P,x)=>{i(h=>({...h,[P]:x}))},A=()=>{if(!t.parentAccount)return"";const P=t.parentAccount.accountNumber,h=nt.getSubAccounts(t.parentAccount.id).length+1;return(parseInt(P)+h).toString()},$=()=>n().accountNumber===""&&t.parentAccount?A():n().accountNumber;return u(It,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return`${e("common.add")} ${e("accounts.subAccounts")}`},get children(){return[F(()=>F(()=>!!t.parentAccount)()&&(()=>{var P=va(),x=P.firstChild,h=x.nextSibling,M=h.firstChild,U=h.nextSibling,R=U.firstChild;return o(P,c),o(x,d),r(x,()=>e("accounts.parentAccount")),o(h,y),r(h,()=>t.parentAccount.accountNumber,M),r(h,()=>t.parentAccount.name,null),o(U,g),r(U,()=>e(`accounts.types.${t.parentAccount.type.toLowerCase()}`),R),r(U,()=>t.parentAccount.category,null),P})()),(()=>{var P=ma(),x=P.firstChild;return P.addEventListener("submit",E),r(P,u(st,{get label(){return e("accounts.accountNumber")},get value(){return $()},onChange:h=>L("accountNumber",h),get placeholder(){return`${e("common.suggested")}: ${A()}`},required:!0}),x),r(P,u(st,{get label(){return e("accounts.accountName")},get value(){return n().name},onChange:h=>L("name",h),get placeholder(){return e("accounts.accountName")},required:!0}),x),r(P,u(Lt,{get label(){return e("accounts.category")},get value(){return n().category},onChange:h=>L("category",h),get options(){return a()},required:!0}),x),r(P,u(st,{get label(){return e("common.description")},get value(){return n().description},onChange:h=>L("description",h),get placeholder(){return e("common.description")}}),x),r(P,u(st,{get label(){return e("accounts.balance")},type:"number",get value(){return n().balance},onChange:h=>L("balance",h),get placeholder(){return e("accounts.balance")}}),x),r(P,u(Lt,{get label(){return e("common.status")},get value(){return n().isActive},onChange:h=>L("isActive",h),options:s,required:!0}),x),o(x,l),r(x,u(Ae,{variant:"secondary",type:"button",get onClick(){return t.onClose},get children(){return e("common.cancel")}}),null),r(x,u(Ae,{variant:"primary",type:"submit",get children(){return[F(()=>e("common.add"))," ",F(()=>e("accounts.subAccounts"))]}}),null),P})()]}})};var pa=k("<form><div>"),fa=k("<div>");const ba=t=>{const{t:e}=Qe(),[n,i]=Z({accountNumber:"",name:"",type:"",category:"",description:"",balance:"0",isActive:"true"}),[a,s]=Z(null);lr(()=>{t.account&&(i({accountNumber:t.account.accountNumber,name:t.account.name,type:t.account.type,category:t.account.category,description:t.account.description,balance:t.account.balance.toString(),isActive:t.account.isActive.toString()}),s(null))});const l=[{value:"Asset",label:e("accounts.types.asset")},{value:"Liability",label:e("accounts.types.liability")},{value:"Equity",label:e("accounts.types.equity")},{value:"Revenue",label:e("accounts.types.revenue")},{value:"Expense",label:e("accounts.types.expense")}],c=()=>{const A=n().type;return A?{Asset:[{value:"Current Assets",label:e("accounts.categories.currentAssets")},{value:"Fixed Assets",label:e("accounts.categories.fixedAssets")}],Liability:[{value:"Current Liabilities",label:e("accounts.categories.currentLiabilities")},{value:"Long-term Liabilities",label:e("accounts.categories.longTermLiabilities")}],Equity:[{value:"Owner's Equity",label:e("accounts.categories.ownersEquity")}],Revenue:[{value:"Operating Revenue",label:e("accounts.categories.operatingRevenue")}],Expense:[{value:"Operating Expenses",label:e("accounts.categories.operatingExpenses")}]}[A]||[]:[]},d=[{value:"true",label:e("common.active")},{value:"false",label:e("common.inactive")}],y={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},g=A=>{if(A.preventDefault(),s(null),!t.account)return;const $=n();if(!$.accountNumber||!$.name||!$.type||!$.category){s(e("forms.requiredField"));return}if(nt.accounts.find(h=>h.accountNumber===$.accountNumber&&h.id!==t.account.id)){s(e("forms.duplicateAccountNumber"));return}const x={accountNumber:$.accountNumber,name:$.name,type:$.type,category:$.category,description:$.description,balance:parseFloat($.balance)||0,isActive:$.isActive==="true"};try{nt.updateAccount(t.account.id,x),t.onClose()}catch(h){s(h instanceof Error?h.message:e("forms.saveError"))}},E=()=>{if(!t.account)return;const A=nt.canDeleteAccount(t.account.id);if(!A.canDelete){s(A.reason||e("forms.deleteError"));return}const $=e("forms.confirmDelete");if(confirm($))try{nt.deleteAccount(t.account.id),t.onClose()}catch(P){s(P instanceof Error?P.message:e("forms.deleteError"))}},L=(A,$)=>{i(P=>{const x={...P,[A]:$};return A==="type"&&(x.category=""),x}),a()&&s(null)};return t.account?u(It,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return e("accounts.editAccount")},get children(){var A=pa(),$=A.firstChild;return A.addEventListener("submit",g),r(A,u(st,{get label(){return e("accounts.accountNumber")},get value(){return n().accountNumber},onChange:P=>L("accountNumber",P),get placeholder(){return e("accounts.accountNumber")},required:!0}),$),r(A,u(st,{get label(){return e("accounts.accountName")},get value(){return n().name},onChange:P=>L("name",P),get placeholder(){return e("accounts.accountName")},required:!0}),$),r(A,u(Lt,{get label(){return e("accounts.accountType")},get value(){return n().type},onChange:P=>L("type",P),options:l,required:!0}),$),r(A,u(Lt,{get label(){return e("accounts.category")},get value(){return n().category},onChange:P=>L("category",P),get options(){return c()},required:!0}),$),r(A,u(st,{get label(){return e("common.description")},get value(){return n().description},onChange:P=>L("description",P),get placeholder(){return e("common.description")}}),$),r(A,u(st,{get label(){return e("accounts.balance")},type:"number",get value(){return n().balance},onChange:P=>L("balance",P),get placeholder(){return e("accounts.balance")}}),$),r(A,u(Lt,{get label(){return e("common.status")},get value(){return n().isActive},onChange:P=>L("isActive",P),options:d,required:!0}),$),r(A,(()=>{var P=F(()=>!!a());return()=>P()&&(()=>{var x=fa();return x.style.setProperty("padding","1rem"),x.style.setProperty("border-radius","var(--border-radius-sm)"),x.style.setProperty("margin-top","1rem"),x.style.setProperty("background","#f8d7da"),x.style.setProperty("color","#721c24"),x.style.setProperty("border","1px solid #f5c6cb"),r(x,a),x})()})(),$),o($,y),r($,u(Ae,{variant:"outline",type:"button",onClick:E,style:{color:"#dc3545","border-color":"#dc3545","margin-right":"auto"},get children(){return e("accounts.deleteAccount")}}),null),r($,u(Ae,{variant:"secondary",type:"button",get onClick(){return t.onClose},get children(){return e("common.cancel")}}),null),r($,u(Ae,{variant:"primary",type:"submit",get children(){return e("common.save")}}),null),A}}):null};var ha=k("<div><div>⚠️</div><div></div><div></div><div>"),Sa=k("<div><div></div><div></div><div>"),Pa=k("<div><button></button><button> (<!>)"),fn=k("<div>"),$a=k("<div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span>"),xa=k("<div><div><div></div><div> • </div></div><div>");const Ca=t=>{const{t:e}=Qe(),[n,i]=Z("details"),[a,s]=Z(!1),l=qe(()=>t.account?nt.getAccountById(t.account.id)||t.account:null),c={display:"flex","justify-content":"space-between","align-items":"center",padding:"0.75rem 0","border-bottom":"1px solid var(--border-color)"},d={"font-weight":"500",color:"var(--text-muted)","font-size":"0.875rem"},y={"font-weight":"600",color:"var(--text-primary)"},g={"text-align":"center","margin-bottom":"2rem"},E={"font-size":"1.5rem","font-weight":"600",color:"var(--text-primary)",margin:"0.5rem 0"},L={"font-size":"2rem","font-weight":"700",color:"var(--primary-color)","margin-bottom":"0.5rem"},A={padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500","text-transform":"uppercase","letter-spacing":"0.5px","margin-bottom":"1rem"},$={display:"flex","border-bottom":"1px solid var(--border-color)","margin-bottom":"1.5rem"},P=me=>({padding:"0.75rem 1rem",background:"none",border:"none",cursor:"pointer","font-weight":"500",color:me?"var(--primary-color)":"var(--text-muted)","border-bottom":me?"2px solid var(--primary-color)":"2px solid transparent",transition:"all 0.2s ease"}),x={display:"flex","justify-content":"space-between","align-items":"center",padding:"1rem 0","border-bottom":"1px solid var(--border-color)"},h={flex:"1"},M={"font-size":"0.875rem",color:"var(--text-muted)"},U={"font-weight":"500","margin-bottom":"0.25rem"},R=me=>({"font-weight":"600",color:me==="debit"?"#4caf50":"#f44336"}),X={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},Y=me=>({Asset:{bg:"#e8f5e8",color:"#2d7d32"},Liability:{bg:"#fff3e0",color:"#f57c00"},Equity:{bg:"#e3f2fd",color:"#1976d2"},Revenue:{bg:"#e8f5e8",color:"#388e3c"},Expense:{bg:"#ffebee",color:"#d32f2f"}})[me]||{bg:"#f5f5f5",color:"#666"},oe=me=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(me),re=me=>new Date(me).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return u(It,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return e("accounts.accountDetails")},get children(){return[F(()=>F(()=>!l())()?(()=>{var me=ha(),ue=me.firstChild,te=ue.nextSibling,ee=te.nextSibling,f=ee.nextSibling;return me.style.setProperty("text-align","center"),me.style.setProperty("padding","3rem"),me.style.setProperty("color","var(--text-muted)"),ue.style.setProperty("font-size","1.5rem"),ue.style.setProperty("margin-bottom","1rem"),te.style.setProperty("font-size","1.1rem"),te.style.setProperty("margin-bottom","0.5rem"),r(te,()=>e("common.error")),ee.style.setProperty("font-size","0.875rem"),r(ee,()=>e("common.noDataFound")),f.style.setProperty("margin-top","2rem"),r(f,u(Ae,{variant:"primary",get onClick(){return t.onClose},get children(){return e("common.close")}})),me})():(()=>{const me=qe(()=>Y(l().type)),ue=qe(()=>nt.getAccountTransactions(l().id));return[(()=>{var te=Sa(),ee=te.firstChild,f=ee.nextSibling,ie=f.nextSibling;return o(te,g),o(ee,E),r(ee,()=>l().name),o(f,L),r(f,()=>oe(l().balance)),r(ie,()=>e(`accounts.types.${l().type.toLowerCase()}`)),B(_=>o(ie,{...A,background:me().bg,color:me().color},_)),te})(),(()=>{var te=Pa(),ee=te.firstChild,f=ee.nextSibling,ie=f.firstChild,_=ie.nextSibling;return _.nextSibling,o(te,$),ee.$$click=()=>i("details"),r(ee,()=>e("accounts.accountDetails")),f.$$click=()=>i("transactions"),r(f,()=>e("accounts.transactions"),ie),r(f,()=>ue().length,_),B(m=>{var D=P(n()==="details"),v=P(n()==="transactions");return m.e=o(ee,D,m.e),m.t=o(f,v,m.t),m},{e:void 0,t:void 0}),te})(),F(()=>F(()=>n()==="details")()&&(()=>{var te=$a(),ee=te.firstChild,f=ee.firstChild,ie=f.nextSibling,_=ee.nextSibling,m=_.firstChild,D=m.nextSibling,v=_.nextSibling,C=v.firstChild,b=C.nextSibling,w=v.nextSibling,le=w.firstChild,S=le.nextSibling,I=w.nextSibling,H=I.firstChild,V=H.nextSibling,ne=I.nextSibling,W=ne.firstChild,q=W.nextSibling;return r(f,()=>e("accounts.accountNumber")),r(ie,()=>l().accountNumber),r(m,()=>e("accounts.category")),r(D,()=>l().category),r(C,()=>e("common.description")),r(b,()=>l().description),r(le,()=>e("common.status")),r(S,(()=>{var ae=F(()=>!!l().isActive);return()=>ae()?e("common.active"):e("common.inactive")})()),r(H,()=>e("accounts.createdDate")),r(V,()=>re(l().createdDate)),r(W,()=>e("accounts.lastModified")),r(q,()=>re(l().lastModified)),B(ae=>{var N=c,G=d,fe=y,Se=c,K=d,J=y,se=c,Q=d,O=y,pe=c,ge=d,T=y,j=c,be=d,ye=y,ce=c,z=d,p=y;return ae.e=o(ee,N,ae.e),ae.t=o(f,G,ae.t),ae.a=o(ie,fe,ae.a),ae.o=o(_,Se,ae.o),ae.i=o(m,K,ae.i),ae.n=o(D,J,ae.n),ae.s=o(v,se,ae.s),ae.h=o(C,Q,ae.h),ae.r=o(b,O,ae.r),ae.d=o(w,pe,ae.d),ae.l=o(le,ge,ae.l),ae.u=o(S,T,ae.u),ae.c=o(I,j,ae.c),ae.w=o(H,be,ae.w),ae.m=o(V,ye,ae.m),ae.f=o(ne,ce,ae.f),ae.y=o(W,z,ae.y),ae.g=o(q,p,ae.g),ae},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0}),te})()),F(()=>F(()=>n()==="transactions")()&&(()=>{var te=fn();return r(te,(()=>{var ee=F(()=>ue().length===0);return()=>ee()?(()=>{var f=fn();return f.style.setProperty("text-align","center"),f.style.setProperty("color","var(--text-muted)"),f.style.setProperty("padding","2rem"),r(f,()=>e("common.noDataFound")),f})():ue().map(f=>(()=>{var ie=xa(),_=ie.firstChild,m=_.firstChild,D=m.nextSibling,v=D.firstChild,C=_.nextSibling;return o(ie,x),o(_,h),o(m,U),r(m,()=>f.description),o(D,M),r(D,()=>re(f.date),v),r(D,()=>f.reference,null),r(C,()=>f.type==="debit"?"+":"-",null),r(C,()=>oe(f.type==="debit"?f.debitAmount:f.creditAmount),null),B(b=>o(C,R(f.type),b)),ie})())})()),te})()),(()=>{var te=fn();return o(te,X),r(te,u(Ae,{variant:"secondary",get onClick(){return t.onClose},get children(){return e("common.close")}}),null),r(te,u(Ae,{variant:"primary",onClick:()=>s(!0),get children(){return e("accounts.editAccount")}}),null),te})()]})()),F(()=>F(()=>!!l())()&&u(ba,{get isOpen(){return a()},onClose:()=>{s(!1)},get account(){return l()}}))]}})};vt(["click"]);const _a="https://qvamarkets.com/gql_api",[wa,lo]=Z(!1),[ka,bn]=Z(null);class Aa{baseUrl;constructor(e=_a){this.baseUrl=e}async request(e,n,i,a){lo(!0),bn(null);try{const s=n.startsWith("http")?n:`${this.baseUrl}${n}`,l={method:e,headers:{"Content-Type":"application/json",Accept:"application/json",...a}};i&&(e==="POST"||e==="PUT"||e==="PATCH")&&(l.body=JSON.stringify(i));const c=await fetch(s,l);if(!c.ok)throw new Error(`HTTP error! status: ${c.status}`);const d=await c.json();if(d.errors&&d.errors.length>0)throw new Error(d.errors[0].message);return d.data||d}catch(s){const l=s instanceof Error?s.message:"Unknown error occurred";throw bn(l),s}finally{lo(!1)}}async graphql(e){return this.request("POST","",e)}async get(e,n){return this.request("GET",e,void 0,n)}async post(e,n,i){return this.request("POST",e,n,i)}async put(e,n,i){return this.request("PUT",e,n,i)}async patch(e,n,i){return this.request("PATCH",e,n,i)}async delete(e,n){return this.request("DELETE",e,void 0,n)}getLoadingState(){return wa()}getErrorState(){return ka()}clearError(){bn(null)}}const Wr=new Aa,Wn=`
  fragment AccountFields on Account {
    id
    accountNumber
    name
    type
    category
    description
    balance
    isActive
    parentAccountId
    createdDate
    lastModified
  }
`,Ia=`
  query GetAccountById($id: ID!) {
    account(id: $id) {
      ...AccountFields
    }
  }
  ${Wn}
`,Ea=`
  mutation CreateAccount($input: CreateAccountInput!) {
    createAccount(input: $input) {
      ...AccountFields
    }
  }
  ${Wn}
`,La=`
  mutation UpdateAccount($id: ID!, $input: UpdateAccountInput!) {
    updateAccount(id: $id, input: $input) {
      ...AccountFields
    }
  }
  ${Wn}
`,Da=`
  mutation DeleteAccount($id: ID!) {
    deleteAccount(id: $id) {
      success
      message
    }
  }
`;class Na{async getAccounts(e,n){try{if(Fr.isFakeMode())return await to.getAll(e);const i=await sn({query:"getAllYabaProducts",params:{businessId:"YB100423253156428"}});return console.log("Real API accounts response:",i),i?.accounts||[]}catch(i){if(console.error("Error fetching accounts:",i),Fr.isHybridMode())return console.warn("Falling back to fake API for accounts"),await to.getAll(e);throw i}}async getAccountById(e){try{return(await Wr.graphql({query:Ia,variables:{id:e}})).account}catch(n){throw console.error("Error fetching account:",n),n}}async createAccount(e){try{return(await Wr.graphql({query:Ea,variables:{input:e}})).createAccount}catch(n){throw console.error("Error creating account:",n),n}}async updateAccount(e,n){try{return(await Wr.graphql({query:La,variables:{id:e,input:n}})).updateAccount}catch(i){throw console.error("Error updating account:",i),i}}async deleteAccount(e){try{return(await Wr.graphql({query:Da,variables:{id:e}})).deleteAccount}catch(n){throw console.error("Error deleting account:",n),n}}async getAccountsByType(e){return this.getAccounts({type:e})}async getAccountHierarchy(){const e=await this.getAccounts();return this.buildHierarchy(e)}buildHierarchy(e){const n=new Map,i=[];return e.forEach(a=>{n.set(a.id,{...a,subAccounts:[]})}),e.forEach(a=>{const s=n.get(a.id);if(a.parentAccountId){const l=n.get(a.parentAccountId);l&&(l.subAccounts=l.subAccounts||[],l.subAccounts.push(s))}else i.push(s)}),i}async getAccountBalance(e){const n=await this.getAccountById(e);return n?n.balance:0}async searchAccounts(e){return this.getAccounts({search:e})}}const Ta=new Na;var Ba=k("<div><h2></h2><div><span>:</span><button></button><button>"),Ma=k("<div><span>:"),ao=k("<div>"),Ra=k("<button>");const Oa=()=>{const{t}=Qe(),[e,n]=Z(!1),[i,a]=Z(!1),[s,l]=Z(!1),[c,d]=Z(null),[y,g]=Z(null),[E,L]=Z("All"),[A,$]=Z("hierarchy"),P=re=>{d(re),l(!0)},x=re=>{g(re),a(!0)},h=()=>E()==="All"?A()==="hierarchy"?nt.getAccountHierarchy():nt.accounts:A()==="hierarchy"?nt.getAccountHierarchy().filter(re=>re.type===E()):nt.getAccountsByType(E()),M={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(350px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"},U={display:"flex",gap:"1rem","margin-bottom":"2rem","align-items":"center"},R=re=>({padding:"0.5rem 1rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)",background:re?"var(--primary-color)":"var(--surface-color)",color:re?"white":"var(--text-primary)",cursor:"pointer","font-weight":"500",transition:"all 0.2s ease"}),X={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"2rem"},Y={display:"flex",gap:"0.5rem","align-items":"center","margin-left":"auto","margin-right":"1rem"},oe=re=>({padding:"0.5rem 1rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)",background:re?"var(--primary-color)":"var(--surface-color)",color:re?"white":"var(--text-primary)",cursor:"pointer","font-weight":"500","font-size":"0.875rem",transition:"all 0.2s ease"});return u(Yt,{get title(){return t("accounts.title")},get children(){return[u(ta,{}),(()=>{var re=Ba(),me=re.firstChild,ue=me.nextSibling,te=ue.firstChild,ee=te.firstChild,f=te.nextSibling,ie=f.nextSibling;return o(re,X),me.style.setProperty("margin","0"),me.style.setProperty("font-size","1.5rem"),r(me,()=>t("accounts.title")),o(ue,Y),te.style.setProperty("font-weight","500"),te.style.setProperty("color","var(--text-muted)"),te.style.setProperty("font-size","0.875rem"),r(te,()=>t("common.view"),ee),f.$$click=()=>$("hierarchy"),r(f,()=>t("accounts.accountHierarchy")),ie.$$click=()=>{$("flat"),Ta.getAccounts()},r(ie,()=>t("common.all")),r(re,u(Ae,{variant:"primary",onClick:()=>n(!0),get children(){return t("accounts.addAccount")}}),null),B(_=>{var m=oe(A()==="hierarchy"),D=oe(A()==="flat");return _.e=o(f,m,_.e),_.t=o(ie,D,_.t),_},{e:void 0,t:void 0}),re})(),(()=>{var re=Ma(),me=re.firstChild,ue=me.firstChild;return o(re,U),me.style.setProperty("font-weight","500"),me.style.setProperty("color","var(--text-muted)"),r(me,()=>t("common.filter"),ue),r(re,()=>[t("common.all"),t("accounts.types.asset"),t("accounts.types.liability"),t("accounts.types.equity"),t("accounts.types.revenue"),t("accounts.types.expense")].map((te,ee)=>{const ie=["All","Asset","Liability","Equity","Revenue","Expense"][ee];return(()=>{var _=Ra();return _.$$click=()=>L(ie),r(_,te),B(m=>o(_,R(E()===ie),m)),_})()}),null),re})(),(()=>{var re=ao();return r(re,(()=>{var me=F(()=>A()==="hierarchy");return()=>me()?h().map(ue=>u(da,{account:ue,onAddSubAccount:x,onViewDetails:P})):h().map(ue=>u(oa,{account:ue,onViewDetails:P}))})()),B(me=>o(re,A()==="hierarchy"?{display:"flex","flex-direction":"column",gap:"1rem"}:M,me)),re})(),F(()=>F(()=>h().length===0)()&&(()=>{var re=ao();return re.style.setProperty("text-align","center"),re.style.setProperty("color","var(--text-muted)"),re.style.setProperty("padding","3rem"),re.style.setProperty("font-size","1.1rem"),r(re,()=>t("common.noDataFound")),re})()),u(ya,{get isOpen(){return e()},onClose:()=>n(!1)}),u(ga,{get isOpen(){return i()},onClose:()=>a(!1),get parentAccount(){return y()}}),u(Ca,{get isOpen(){return s()},onClose:()=>l(!1),get account(){return c()}})]}})};vt(["click"]);var ja=k("<div><h2>"),_r=k("<div>"),za=k("<div><div><div></div><h1></h1><div></div></div><div>"),Fa=k("<div><button></button><button> (<!>)"),Hr=k("<div><span></span><span>"),qa=k("<p>"),Ua=k("<div><div></div><div>"),Va=k("<div><div><div></div><div> • </div></div><div>");const Ya=()=>{const{t}=Qe(),e=Qi(),n=Yn(),[i,a]=Z(null),[s,l]=Z("overview");ar(()=>{const f=nt.getAccountById(e.id);f?a(f):n("/accounts")});const c={display:"flex","align-items":"center",gap:"0.5rem","margin-bottom":"1rem"},d={display:"flex","align-items":"center",gap:"1rem","margin-bottom":"2rem"},y={"font-size":"1rem","font-weight":"600",color:"var(--text-muted)","text-transform":"uppercase"},g={"font-size":"2.5rem","font-weight":"700",color:"var(--primary-color)"},E={padding:"0.5rem 1rem","border-radius":"9999px","font-size":"0.875rem","font-weight":"500","text-transform":"uppercase","letter-spacing":"0.5px"},L={display:"flex","border-bottom":"1px solid var(--border-color)","margin-bottom":"2rem"},A=f=>({padding:"1rem 2rem",background:"none",border:"none",cursor:"pointer","font-weight":"500",color:f?"var(--primary-color)":"var(--text-muted)","border-bottom":f?"2px solid var(--primary-color)":"2px solid transparent",transition:"all 0.2s ease"}),$={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"},P={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem"},x={display:"flex","justify-content":"space-between","align-items":"center",padding:"0.75rem 0","border-bottom":"1px solid var(--border-color)"},h={"font-weight":"500",color:"var(--text-muted)"},M={"font-weight":"600",color:"var(--text-primary)"},U={display:"flex","justify-content":"space-between","align-items":"center",padding:"1rem 0","border-bottom":"1px solid var(--border-color)"},R={flex:"1"},X={"font-weight":"500","margin-bottom":"0.25rem"},Y={"font-size":"0.875rem",color:"var(--text-muted)"},oe=f=>({"font-weight":"600",color:f==="debit"?"#4caf50":"#f44336"});if(!i())return u(Yt,{get title(){return t("accounts.accountDetails")},get children(){var f=ja(),ie=f.firstChild;return f.style.setProperty("text-align","center"),f.style.setProperty("padding","3rem"),r(ie,()=>t("common.error")),r(f,u(Ae,{variant:"primary",onClick:()=>n("/accounts"),get children(){return[F(()=>t("common.back"))," ",F(()=>t("navigation.accounts"))]}}),null),f}});const re=f=>({Asset:{bg:"#e8f5e8",color:"#2d7d32"},Liability:{bg:"#fff3e0",color:"#f57c00"},Equity:{bg:"#e3f2fd",color:"#1976d2"},Revenue:{bg:"#e8f5e8",color:"#388e3c"},Expense:{bg:"#ffebee",color:"#d32f2f"}})[f]||{bg:"#f5f5f5",color:"#666"},me=f=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(f),ue=f=>new Date(f).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),te=re(i().type),ee=nt.getAccountTransactions(i().id);return u(Yt,{get title(){return i().name},get children(){return[(()=>{var f=_r();return o(f,c),r(f,u(Ae,{variant:"secondary",onClick:()=>n("/accounts"),get children(){return["← ",F(()=>t("common.back"))," ",F(()=>t("navigation.accounts"))]}})),f})(),(()=>{var f=za(),ie=f.firstChild,_=ie.firstChild,m=_.nextSibling,D=m.nextSibling,v=ie.nextSibling;return o(f,d),o(_,y),r(_,()=>i().accountNumber),m.style.setProperty("margin","0.5rem 0"),m.style.setProperty("font-size","2rem"),r(m,()=>i().name),o(D,g),r(D,()=>me(i().balance)),r(v,()=>i().type),B(C=>o(v,{...E,background:te.bg,color:te.color},C)),f})(),(()=>{var f=Fa(),ie=f.firstChild,_=ie.nextSibling,m=_.firstChild,D=m.nextSibling;return D.nextSibling,o(f,L),ie.$$click=()=>l("overview"),r(ie,()=>t("dashboard.overview")),_.$$click=()=>l("transactions"),r(_,()=>t("accounts.transactions"),m),r(_,()=>ee.length,D),B(v=>{var C=A(s()==="overview"),b=A(s()==="transactions");return v.e=o(ie,C,v.e),v.t=o(_,b,v.t),v},{e:void 0,t:void 0}),f})(),F(()=>F(()=>s()==="overview")()&&(()=>{var f=Ua(),ie=f.firstChild,_=ie.nextSibling;return o(ie,$),r(ie,u(je,{get title(){return t("accounts.balance")},get subtitle(){return t("dashboard.overview")},get children(){var m=_r();return m.style.setProperty("font-size","1.5rem"),m.style.setProperty("font-weight","600"),m.style.setProperty("color","var(--primary-color)"),r(m,()=>me(i().balance)),m}}),null),r(ie,u(je,{get title(){return t("accounts.accountType")},get subtitle(){return t("accounts.category")},get children(){var m=_r();return m.style.setProperty("font-size","1.5rem"),m.style.setProperty("font-weight","600"),m.style.setProperty("color","var(--primary-color)"),r(m,()=>t(`accounts.types.${i().type.toLowerCase()}`)),m}}),null),r(ie,u(je,{get title(){return t("common.status")},get subtitle(){return t("accounts.accountDetails")},get children(){var m=_r();return m.style.setProperty("font-size","1.5rem"),m.style.setProperty("font-weight","600"),r(m,(()=>{var D=F(()=>!!i().isActive);return()=>D()?t("common.active"):t("common.inactive")})()),B(D=>(D=i().isActive?"#4caf50":"#f44336")!=null?m.style.setProperty("color",D):m.style.removeProperty("color")),m}}),null),r(ie,u(je,{get title(){return t("accounts.transactions")},get subtitle(){return t("common.total")},get children(){var m=_r();return m.style.setProperty("font-size","1.5rem"),m.style.setProperty("font-weight","600"),m.style.setProperty("color","var(--primary-color)"),r(m,()=>ee.length),m}}),null),o(_,P),r(_,u(je,{get title(){return t("accounts.accountDetails")},get subtitle(){return t("dashboard.overview")},get children(){return[(()=>{var m=Hr(),D=m.firstChild,v=D.nextSibling;return r(D,()=>t("accounts.accountNumber")),r(v,()=>i().accountNumber),B(C=>{var b=x,w=h,le=M;return C.e=o(m,b,C.e),C.t=o(D,w,C.t),C.a=o(v,le,C.a),C},{e:void 0,t:void 0,a:void 0}),m})(),(()=>{var m=Hr(),D=m.firstChild,v=D.nextSibling;return r(D,()=>t("accounts.category")),r(v,()=>i().category),B(C=>{var b=x,w=h,le=M;return C.e=o(m,b,C.e),C.t=o(D,w,C.t),C.a=o(v,le,C.a),C},{e:void 0,t:void 0,a:void 0}),m})(),(()=>{var m=Hr(),D=m.firstChild,v=D.nextSibling;return r(D,()=>t("common.date")),r(v,()=>ue(i().createdDate)),B(C=>{var b=x,w=h,le=M;return C.e=o(m,b,C.e),C.t=o(D,w,C.t),C.a=o(v,le,C.a),C},{e:void 0,t:void 0,a:void 0}),m})(),(()=>{var m=Hr(),D=m.firstChild,v=D.nextSibling;return r(D,()=>t("common.date")),r(v,()=>ue(i().lastModified)),B(C=>{var b=x,w=h,le=M;return C.e=o(m,b,C.e),C.t=o(D,w,C.t),C.a=o(v,le,C.a),C},{e:void 0,t:void 0,a:void 0}),m})()]}}),null),r(_,u(je,{get title(){return t("common.description")},get subtitle(){return t("accounts.accountDetails")},get children(){var m=qa();return m.style.setProperty("margin","0"),m.style.setProperty("color","var(--text-secondary)"),r(m,()=>i().description||t("common.noDataFound")),m}}),null),f})()),F(()=>F(()=>s()==="transactions")()&&u(je,{get title(){return t("accounts.accountHistory")},get subtitle(){return t("accounts.transactions")},get children(){return F(()=>ee.length===0)()?(()=>{var f=_r();return f.style.setProperty("text-align","center"),f.style.setProperty("color","var(--text-muted)"),f.style.setProperty("padding","2rem"),r(f,()=>t("common.noDataFound")),f})():ee.map(f=>(()=>{var ie=Va(),_=ie.firstChild,m=_.firstChild,D=m.nextSibling,v=D.firstChild,C=_.nextSibling;return o(ie,U),o(_,R),o(m,X),r(m,()=>f.description),o(D,Y),r(D,()=>ue(f.date),v),r(D,()=>f.reference,null),r(C,()=>f.type==="debit"?"+":"-",null),r(C,()=>me(f.type==="debit"?f.debitAmount:f.creditAmount),null),B(b=>o(C,oe(f.type),b)),ie})())}}))]}})};vt(["click"]);var Wa=k("<div><div><h1></h1><p> </p></div><div><input type=date>"),Gt=k("<div><span></span><span>"),Ha=k("<div><div></div><div>"),Ga=k("<div><div><div></div><div></div></div><div><div></div><div></div></div><div><div></div><div>"),Ja=k("<div><div> (<!> = <!> + <!>)</div><div> = "),Qa=k("<span>(<!>: <!>)");const Ka=()=>{const{t}=Qe(),[e,n]=Z(new Date().toISOString().split("T")[0]),[i,a]=Z(0),[s,l]=Z(0),[c,d]=Z(0);ar(()=>{y()});const y=()=>{const $=nt.getAccountsByType("Asset"),P=nt.getAccountsByType("Liability"),x=nt.getAccountsByType("Equity"),h=$.reduce((R,X)=>R+X.balance,0),M=P.reduce((R,X)=>R+X.balance,0),U=x.reduce((R,X)=>R+X.balance,0);a(h),l(M),d(U)},g=$=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format($),E={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"2rem"},L={"margin-bottom":"2rem"},A={"font-weight":"bold","font-size":"1.1rem","border-top":"2px solid var(--border-color)","padding-top":"0.5rem","margin-top":"1rem"};return u(Yt,{get title(){return t("balanceSheet.title")},get children(){return[(()=>{var $=Wa(),P=$.firstChild,x=P.firstChild,h=x.nextSibling,M=h.firstChild,U=P.nextSibling,R=U.firstChild;return o($,E),x.style.setProperty("margin","0"),r(x,()=>t("balanceSheet.title")),h.style.setProperty("margin","0.5rem 0 0 0"),h.style.setProperty("color","var(--text-muted)"),r(h,()=>t("balanceSheet.asOf"),M),r(h,()=>new Date(e()).toLocaleDateString(),null),U.style.setProperty("display","flex"),U.style.setProperty("gap","1rem"),R.addEventListener("change",X=>n(X.target.value)),R.style.setProperty("padding","0.5rem"),R.style.setProperty("border","1px solid var(--border-color)"),R.style.setProperty("border-radius","var(--border-radius-sm)"),r(U,u(Ae,{variant:"primary",onClick:y,get children(){return t("balanceSheet.generateReport")}}),null),B(()=>R.value=e()),$})(),(()=>{var $=Ha(),P=$.firstChild,x=P.nextSibling;return $.style.setProperty("display","grid"),$.style.setProperty("grid-template-columns","1fr 1fr"),$.style.setProperty("gap","2rem"),r(P,u(je,{get title(){return t("balanceSheet.assets")},style:L,get children(){return[(()=>{var h=Gt(),M=h.firstChild,U=M.nextSibling;return h.style.setProperty("display","flex"),h.style.setProperty("justify-content","space-between"),h.style.setProperty("align-items","center"),r(M,()=>t("balanceSheet.currentAssets")),r(U,()=>g(i()*.6)),h})(),(()=>{var h=Gt(),M=h.firstChild,U=M.nextSibling;return h.style.setProperty("display","flex"),h.style.setProperty("justify-content","space-between"),h.style.setProperty("align-items","center"),r(M,()=>t("balanceSheet.nonCurrentAssets")),r(U,()=>g(i()*.4)),h})(),(()=>{var h=Gt(),M=h.firstChild,U=M.nextSibling;return r(M,()=>t("balanceSheet.totalAssets")),r(U,()=>g(i())),B(R=>o(h,{...A,display:"flex","justify-content":"space-between"},R)),h})()]}})),r(x,u(je,{get title(){return t("balanceSheet.liabilities")},style:L,get children(){return[(()=>{var h=Gt(),M=h.firstChild,U=M.nextSibling;return h.style.setProperty("display","flex"),h.style.setProperty("justify-content","space-between"),h.style.setProperty("align-items","center"),r(M,()=>t("balanceSheet.currentLiabilities")),r(U,()=>g(s()*.7)),h})(),(()=>{var h=Gt(),M=h.firstChild,U=M.nextSibling;return h.style.setProperty("display","flex"),h.style.setProperty("justify-content","space-between"),h.style.setProperty("align-items","center"),r(M,()=>t("balanceSheet.nonCurrentLiabilities")),r(U,()=>g(s()*.3)),h})(),(()=>{var h=Gt(),M=h.firstChild,U=M.nextSibling;return r(M,()=>t("balanceSheet.totalLiabilities")),r(U,()=>g(s())),B(R=>o(h,{...A,display:"flex","justify-content":"space-between"},R)),h})()]}}),null),r(x,u(je,{get title(){return t("balanceSheet.equity")},get children(){return[(()=>{var h=Gt(),M=h.firstChild,U=M.nextSibling;return h.style.setProperty("display","flex"),h.style.setProperty("justify-content","space-between"),h.style.setProperty("align-items","center"),r(M,()=>t("balanceSheet.commonStock")),r(U,()=>g(c()*.8)),h})(),(()=>{var h=Gt(),M=h.firstChild,U=M.nextSibling;return h.style.setProperty("display","flex"),h.style.setProperty("justify-content","space-between"),h.style.setProperty("align-items","center"),r(M,()=>t("balanceSheet.retainedEarnings")),r(U,()=>g(c()*.2)),h})(),(()=>{var h=Gt(),M=h.firstChild,U=M.nextSibling;return r(M,()=>t("balanceSheet.totalEquity")),r(U,()=>g(c())),B(R=>o(h,{...A,display:"flex","justify-content":"space-between"},R)),h})()]}}),null),$})(),u(je,{get title(){return t("dashboard.overview")},style:{"margin-top":"2rem"},get children(){return[(()=>{var $=Ga(),P=$.firstChild,x=P.firstChild,h=x.nextSibling,M=P.nextSibling,U=M.firstChild,R=U.nextSibling,X=M.nextSibling,Y=X.firstChild,oe=Y.nextSibling;return $.style.setProperty("display","grid"),$.style.setProperty("grid-template-columns","repeat(3, 1fr)"),$.style.setProperty("gap","2rem"),P.style.setProperty("text-align","center"),x.style.setProperty("font-size","0.875rem"),x.style.setProperty("color","var(--text-muted)"),x.style.setProperty("margin-bottom","0.5rem"),r(x,()=>t("balanceSheet.totalAssets")),h.style.setProperty("font-size","1.5rem"),h.style.setProperty("font-weight","bold"),h.style.setProperty("color","var(--primary-color)"),r(h,()=>g(i())),M.style.setProperty("text-align","center"),U.style.setProperty("font-size","0.875rem"),U.style.setProperty("color","var(--text-muted)"),U.style.setProperty("margin-bottom","0.5rem"),r(U,()=>t("balanceSheet.totalLiabilities")),R.style.setProperty("font-size","1.5rem"),R.style.setProperty("font-weight","bold"),R.style.setProperty("color","#f44336"),r(R,()=>g(s())),X.style.setProperty("text-align","center"),Y.style.setProperty("font-size","0.875rem"),Y.style.setProperty("color","var(--text-muted)"),Y.style.setProperty("margin-bottom","0.5rem"),r(Y,()=>t("balanceSheet.totalEquity")),oe.style.setProperty("font-size","1.5rem"),oe.style.setProperty("font-weight","bold"),oe.style.setProperty("color","#4caf50"),r(oe,()=>g(c())),$})(),(()=>{var $=Ja(),P=$.firstChild,x=P.firstChild,h=x.nextSibling,M=h.nextSibling,U=M.nextSibling,R=U.nextSibling,X=R.nextSibling;X.nextSibling;var Y=P.nextSibling,oe=Y.firstChild;return $.style.setProperty("margin-top","2rem"),$.style.setProperty("text-align","center"),P.style.setProperty("font-size","0.875rem"),P.style.setProperty("color","var(--text-muted)"),P.style.setProperty("margin-bottom","0.5rem"),r(P,()=>t("common.total"),x),r(P,()=>t("balanceSheet.totalAssets"),h),r(P,()=>t("balanceSheet.totalLiabilities"),U),r(P,()=>t("balanceSheet.totalEquity"),X),Y.style.setProperty("font-size","1.2rem"),Y.style.setProperty("font-weight","bold"),r(Y,()=>g(i()),oe),r(Y,()=>g(s()+c()),null),r(Y,(()=>{var re=F(()=>Math.abs(i()-(s()+c()))>.01);return()=>re()&&(()=>{var me=Qa(),ue=me.firstChild,te=ue.nextSibling,ee=te.nextSibling,f=ee.nextSibling;return f.nextSibling,me.style.setProperty("font-size","0.875rem"),me.style.setProperty("color","#f44336"),me.style.setProperty("display","block"),r(me,()=>t("common.error"),te),r(me,()=>g(i()-(s()+c())),f),me})()})(),null),B(re=>(re=Math.abs(i()-(s()+c()))<.01?"#4caf50":"#f44336")!=null?Y.style.setProperty("color",re):Y.style.removeProperty("color")),$})()]}})]}})};vt(["click"]);const Za=[{id:"YY_8801",code:"YY_8801",name:"YABA SUR",bussinesId:"YB100423253156428",type:"store",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8802",code:"YY_8802",name:"CENTER",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8803",code:"YY_8803",name:"BISONET",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8804",code:"YY_8804",name:"IRVIN",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8805",code:"YY_8805",name:"KATTY",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8814",code:"YY_8814",name:"YABASUR OR",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8816",code:"YY_8816",name:"YABA GLOBAL",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8818",code:"YY_8818",name:"YABASURAUSTIN",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8844",code:"YY_8844",name:"YABANEBRASKA",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8847",code:"YY_8847",name:"YABAOFICINA AZ",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_3251",code:"YY_3251",name:"YABA FASHION",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_32",code:"YY_32",name:"YABA MESQUITE",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_33",code:"YY_33",name:"YABASUR ARIZONA",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8635",code:"YY_8635",name:"FASHION MESQUITE",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8665",code:"YY_8665",name:"IRVIN FASHION",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8901",code:"YY_8901",name:"ALMACEN CENTRAL YABA",bussinesId:"YB100423253156428",type:"warehouse",address:"123 Industrial Dr, City, State 12345",isActive:!0,createdDate:"2024-01-01"}],Xa=[{id:"1",name:'MacBook Pro 16"',price:2399,quantity:75,category:"Electronics",description:"Apple MacBook Pro 16-inch with M2 Pro chip",sku:"MBP-16-M2P",supplier:"Apple Inc.",minStock:10,location:"Warehouse A",lastUpdated:"2024-01-15"},{id:"2",name:'Dell Monitor 27"',price:299,quantity:35,category:"Electronics",description:"Dell 27-inch 4K UHD Monitor",sku:"DELL-MON-27-4K",supplier:"Dell Technologies",minStock:15,location:"Warehouse B",lastUpdated:"2024-01-14"},{id:"3",name:"Wireless Mouse",price:49.99,quantity:12,category:"Accessories",description:"Ergonomic wireless mouse with precision tracking",sku:"MOUSE-WL-001",supplier:"Logitech",minStock:25,location:"Warehouse A",lastUpdated:"2024-01-13"}],Gr=()=>{const t=new Map;return Ft().forEach(e=>{const n=`${e.productId}-${e.locationId}`;let i=t.get(n);i||(i={id:n,productId:e.productId,locationId:e.locationId,quantity:0,reservedQuantity:0,availableQuantity:0,averageCost:0,lastMovementDate:e.createdDate,lastMovementType:e.movementType},t.set(n,i)),e.movementType==="in"||e.movementType==="transfer"?(e.locationId===e.toLocationId||e.movementType==="in")&&(i.quantity+=e.quantity*1):e.movementType==="out"?i.quantity-=e.quantity*1:e.movementType==="adjustment"&&(i.quantity=e.quantity*1),new Date(e.createdDate)>new Date(i.lastMovementDate)&&(i.lastMovementDate=e.createdDate,i.lastMovementType=e.movementType),i.averageCost=e.unitCost*1,i.availableQuantity=i.quantity*1-i.reservedQuantity*1}),Array.from(t.values())},[ur,hn]=Z([]),[yr,so]=Z(Za),[Ft,Jr]=Z([]),[rr,Rr]=Z([]),es=()=>{const t=new Map;return Ft().forEach(e=>{const n=`${e.productId}-${e.locationId}`;let i=t.get(n);i||(i={id:n,productId:e.productId,locationId:e.locationId,quantity:0,reservedQuantity:0,availableQuantity:0,averageCost:0,lastMovementDate:e.createdDate,lastMovementType:e.movementType},t.set(n,i)),e.movementType==="in"||e.movementType==="transfer"?(e.locationId===e.toLocationId||e.movementType==="in")&&(i.quantity+=e.quantity*1):e.movementType==="out"?i.quantity-=e.quantity*1:e.movementType==="adjustment"&&(i.quantity=e.quantity*1),new Date(e.createdDate)>new Date(i.lastMovementDate)&&(i.lastMovementDate=e.createdDate,i.lastMovementType=e.movementType),i.averageCost=e.unitCost*1,i.availableQuantity=i.quantity*1-i.reservedQuantity*1}),Array.from(t.values())};Rr(es());const[Qr,Sn]=Z(Xa),Ne={get products(){return ur()},get locations(){return yr()},get movements(){return Ft()},get stockLevels(){return rr()},fecthInventory:async t=>{const e=await fr.getInventory(t),n=Object.keys(e).slice(0,900),i=[],a=s=>{let l=e;l[s]?.products&&l[s]?.products?.map(c=>{let d=Ko(l[s]?.type),y=c?.price*1||c?.unitCost*1,g=c?.qty*1||c?.quantity*1;y=isNaN(y)?0:y,g=isNaN(g)?0:g,console.log({unitCost:y,quantity:g});let E={id:l[s]?.ssg_inventory_key,productId:c?.product?.id,productName:c?.product?.label,productSku:c?.product?.code,locationId:l[s]?.store,locationName:l[s]?.store,location:l[s]?.store,movementType:d,quantity:g,unitCost:y,totalCost:y*1*g,minStock:10,referenceNumber:"PO-001",notes:l[s]?.description||l[s]?.notes,createdBy:"admin",createdDate:l[s]?.createDate?new Date(l[s]?.createDate).toISOString():new Date().toISOString(),invoiceId:l[s]?.invoice};i.push(E)})};return n.map(a),Ne.updMovements(i),i},fecthProduct:async t=>{const e=await fr.getProducts(t),n=Object.keys(e),i=s=>{let l=e;return{id:s,name:l[s].name,businessId:l[s].businessId,sku:l[s].code,UPC:l[s].UPC,numCode:l[s].codeN,category:l[s].category,unitCost:l[s].unitCost||0,unitOfMeasure:l[s].unitOfMeasure,minStockLevel:l[s].minStockLevel,maxStockLevel:l[s].maxStockLevel,isActive:l[s].isActive,description:l[s].description||"",createdDate:l[s].createdAt||new Date().toISOString(),lastModified:l[s].updatedAt||new Date().toISOString()}},a=n.map(i);return Ne.updProduct(a),a},getProductById:t=>ur().find(e=>e.id===t),updProduct:t=>{hn(t)},getProductsBySku:t=>ur().filter(e=>e.sku.toLowerCase().includes(t.toLowerCase())),getProductsByCategory:t=>ur().filter(e=>e.category===t),getActiveProducts:()=>ur().filter(t=>t.name),getLocationById:t=>yr().find(e=>e.id===t),getLocationsByType:t=>yr().filter(e=>e.type===t),getActiveLocations:()=>yr().filter(t=>t.isActive),getMovementsByProduct:t=>Ft().filter(e=>e.productId===t),updMovements:t=>{Jr([...t]),Rr(Gr())},getMovementsByLocation:t=>Ft().filter(e=>e.locationId===t),getMovementsByDateRange:(t,e)=>Ft().filter(n=>n.createdDate>=t&&n.createdDate<=e),getStockByProduct:t=>rr().filter(e=>e.productId===t),getStockByLocation:t=>rr().filter(e=>e.locationId===t),getStockByProductAndLocation:(t,e)=>rr().find(n=>n.productId===t&&n.locationId===e),getTotalStockByProduct:t=>rr().filter(e=>e.productId===t).reduce((e,n)=>e*1+n.quantity*1,0),getLastLocationByProduct:t=>{const e=Ft().filter(n=>n.productId===t).sort((n,i)=>new Date(i.createdDate).getTime()-new Date(n.createdDate).getTime());if(e.length>0)return yr().find(n=>n.id===e[0].locationId)},getLowStockProducts:()=>(ur()||[])?.map(t=>{const e=rr().filter(n=>n.productId===t.id).reduce((n,i)=>n+i.quantity,0);return{...t,currentStock:e}}).filter(t=>t.currentStock<=t.minStockLevel),addInventoryMovement:t=>{const e={...t,id:`mov-${Date.now()}`,createdDate:new Date().toISOString()};Jr(n=>[...n,e]),Rr(Gr())},addBulkInventoryMovements:t=>{const e=[],n=[],i=new Date().toISOString(),a=yr().find(l=>l.id===t.locationId);if(!a)return{success:!1,errors:["Invalid location"]};let s;if(t.movementType==="transfer"){if(!t.fromLocationId)return{success:!1,errors:["From location required for transfers"]};if(s=yr().find(l=>l.id===t.fromLocationId),!s)return{success:!1,errors:["Invalid from location"]};if(t.fromLocationId===t.locationId)return{success:!1,errors:["From and to locations cannot be the same"]}}return t.items.forEach((l,c)=>{const d=ur().find(L=>L.id===l.productId);if(!d){e.push(`Item ${c+1}: Product not found`);return}if(l.quantity<=0){e.push(`Item ${c+1}: Quantity must be greater than 0`);return}if(t.movementType==="out"){const L=rr().filter(A=>A.productId===l.productId&&A.locationId===t.locationId).reduce((A,$)=>A+$.quantity,0);if(l.quantity>L){e.push(`Item ${c+1}: Insufficient stock. Available: ${L}, Requested: ${l.quantity}`);return}}if(t.movementType==="transfer"){const L=rr().filter(A=>A.productId===l.productId&&A.locationId===t.fromLocationId).reduce((A,$)=>A+$.quantity,0);if(l.quantity>L){e.push(`Item ${c+1}: Insufficient stock at ${s?.name}. Available: ${L}, Requested: ${l.quantity}`);return}}const y=l.unitCost||d.unitCost,g=l.quantity*y,E={id:`mov-${Date.now()}-${c}`,productId:d.id,productName:d.name,productSku:d.sku,locationId:t.locationId,locationName:a.name,movementType:t.movementType,quantity:l.quantity,unitCost:y,totalCost:g,minStock:10,referenceNumber:t.referenceNumber,notes:l.notes||t.generalNotes||"",createdBy:t.createdBy,createdDate:i,invoiceId:t.invoiceId,fromLocationId:t.fromLocationId,fromLocationName:s?.name};if(n.push(E),t.movementType==="transfer"&&s){const L={id:`mov-${Date.now()}-${c}-out`,productId:d.id,productName:d.name,productSku:d.sku,locationId:t.fromLocationId,locationName:s.name,movementType:"out",quantity:l.quantity,unitCost:y,totalCost:g,minStock:10,referenceNumber:t.referenceNumber,notes:`Transfer to ${a.name}`+(l.notes?` - ${l.notes}`:""),createdBy:t.createdBy,createdDate:i,invoiceId:t.invoiceId,toLocationId:t.locationId,toLocationName:a.name};n.push(L)}}),e.length>0?{success:!1,errors:e}:(Jr(l=>[...l,...n]),Rr(Gr()),{success:!0,errors:[]})},getMovementsByInvoice:t=>Ft().filter(e=>e.invoiceId===t),getInvoiceSummary:t=>{const e=Ft().filter(s=>s.invoiceId===t);if(e.length===0)return null;const n=e.reduce((s,l)=>s+l.totalCost,0),i=new Set(e.map(s=>s.productId)).size,a=e[0];return{invoiceId:t,referenceNumber:a.referenceNumber,movementType:a.movementType,location:a.locationName,fromLocation:a.fromLocationName,productCount:i,totalItems:e.reduce((s,l)=>s+l.quantity,0),totalValue:n,createdDate:a.createdDate,createdBy:a.createdBy}},addProduct:t=>{const e={...t,id:`prod-${Date.now()}`,createdDate:new Date().toISOString(),lastModified:new Date().toISOString()};hn(n=>[...n,e])},addLocation:t=>{const e={...t,id:`loc-${Date.now()}`,createdDate:new Date().toISOString()};so(n=>[...n,e])},updateProduct:(t,e)=>{hn(n=>n.map(i=>i.id===t?{...i,...e,lastModified:new Date().toISOString()}:i))},updateLocation:(t,e)=>{so(n=>n.map(i=>i.id===t?{...i,...e}:i))},updateMovement:(t,e)=>{Jr(n=>n.map(i=>i.id===t?{...i,...e,lastModified:new Date().toISOString()}:i)),Rr(Gr())},get inventory(){return Qr()},addItem(t){const e={...t,id:Date.now().toString(),lastUpdated:new Date().toISOString().split("T")[0]};return Sn([...Qr(),e]),e},updateItem(t,e){Sn(Qr().map(n=>n.id===t?{...n,...e,lastUpdated:new Date().toISOString().split("T")[0]}:n))},deleteItem(t){Sn(Qr().filter(e=>e.id!==t))},getItemById(t){return Ft().find(e=>e.id===t)},getLowStockItems(){return Ft().filter(t=>t.quantity*1<=t.minStock*1)},getTotalValue(){return Ft().reduce((t,e)=>t*1+e.unitCost*1*e.quantity*1,0)}};var co=k("<div>"),ts=k("<div><div><input type=text autocomplete=off>"),rs=k("<button type=button>+"),ns=k("<div><div><div><div></div><div><span>: </span><span>•</span><span></span><span>•</span><span></span></div></div><div><div> </div><div>");const Zo=t=>{const{t:e}=Qe(),[n,i]=Z(!1),[a,s]=Z(""),[l,c]=Z(-1),d=qe(()=>t.value?Ne.getProductById(t.value):null),y=qe(()=>{const _=a().toLowerCase();return _?Ne.getActiveProducts().filter(m=>m.name.toLowerCase().includes(_)||m.sku.toLowerCase().includes(_)||m.category.toLowerCase().includes(_)):Ne.getActiveProducts()}),g=()=>{i(!0),s(""),c(-1)},E=_=>{const m=_.target;s(m.value),i(!0),c(-1)},L=_=>{t.onChange(_),i(!1),s(""),c(-1)},A=_=>{const m=y();switch(_.key){case"ArrowDown":_.preventDefault(),c(D=>Math.min(D+1,m.length-1));break;case"ArrowUp":_.preventDefault(),c(D=>Math.max(D-1,-1));break;case"Enter":_.preventDefault(),l()>=0&&m[l()]&&L(m[l()]);break;case"Escape":i(!1),s(""),c(-1);break}},$=_=>{setTimeout(()=>{i(!1),s(""),c(-1)},150)},P=_=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(_),x=_=>Ne.stockLevels.filter(m=>m.productId===_).reduce((m,D)=>m+D.quantity,0),h={position:"relative",width:"100%",...t.style},M={width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)",cursor:t.disabled?"not-allowed":"text",opacity:t.disabled?"0.6":"1"},U={position:"absolute",top:"100%",left:"0",right:"0","z-index":"1000","max-height":"300px","overflow-y":"auto",background:"var(--surface-color)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","box-shadow":"0 4px 12px rgba(0,0,0,0.15)","margin-top":"2px"},R=_=>({padding:"0.75rem",cursor:"pointer","border-bottom":"1px solid "+_?"var(--primary-color)":"var(--border-color)",background:_?"var(--strip-color)":"transparent",color:_?"var(--primary-color)":"var(--text-primary)",transition:"all 0.2s ease"}),X={display:"flex","justify-content":"space-between","align-items":"center"},Y={flex:"1"},oe={"font-weight":"500","margin-bottom":"0.25rem"},re={"font-size":"0.875rem",color:"var(--text-muted)",display:"flex",gap:"0.5rem"},me={"text-align":"right","font-size":"0.875rem"},ue={padding:"1rem","text-align":"center",color:"var(--text-muted)","font-style":"italic"},te=()=>n()&&a()?a():d()?`${d().name} (${d().sku})`:"",ee={display:"flex","align-items":"stretch",width:"100%"},f={padding:"0.75rem",border:"1px solid var(--border-color)","border-left":"none","border-radius":"0 var(--border-radius-sm) var(--border-radius-sm) 0",background:"var(--surface-color)",cursor:"pointer",color:"var(--primary-color)","font-weight":"600","font-size":"1rem",transition:"all 0.2s ease","min-width":"40px",display:"flex","align-items":"center","justify-content":"center"},ie={...M,"border-radius":t.onAddNew?"var(--border-radius-sm) 0 0 var(--border-radius-sm)":"var(--border-radius-sm)","border-right":t.onAddNew?"none":"1px solid var(--border-color)"};return(()=>{var _=ts(),m=_.firstChild,D=m.firstChild;return o(m,ee),D.addEventListener("blur",$),D.$$keydown=A,D.$$click=g,D.$$input=E,r(m,(()=>{var v=F(()=>!!t.onAddNew);return()=>v()&&(()=>{var C=rs();return C.addEventListener("mouseleave",b=>{b.currentTarget.style.background="var(--surface-color)",b.currentTarget.style.color="var(--primary-color)"}),C.addEventListener("mouseenter",b=>{b.currentTarget.style.background="var(--primary-color)",b.currentTarget.style.color="white"}),br(C,"click",t.onAddNew,!0),o(C,f),B(()=>Ze(C,"title",e("inventory.addProduct","Add new product"))),C})()})(),null),r(_,u(Ge,{get when(){return n()},get children(){var v=co();return r(v,u(Ge,{get when(){return y().length>0},get fallback(){return(()=>{var C=co();return o(C,ue),r(C,(()=>{var b=F(()=>!!a());return()=>b()?e("inventory.noProductsFound","No products found matching your search."):e("inventory.noProductsAvailable","No products available.")})()),C})()},get children(){return u(mt,{get each(){return y()},children:(C,b)=>{const w=x(C.id),le=w<=C.minStockLevel;return(()=>{var S=ns(),I=S.firstChild,H=I.firstChild,V=H.firstChild,ne=V.nextSibling,W=ne.firstChild,q=W.firstChild,ae=W.nextSibling,N=ae.nextSibling,G=N.nextSibling,fe=G.nextSibling,Se=H.nextSibling,K=Se.firstChild,J=K.firstChild,se=K.nextSibling;return S.addEventListener("mouseenter",()=>c(b())),S.$$click=()=>L(C),o(I,X),o(H,Y),o(V,oe),r(V,()=>C.name),o(ne,re),r(W,()=>e("inventory.sku","SKU"),q),r(W,()=>C.sku,null),r(N,()=>C.category),r(fe,()=>P(C.unitCost)),o(Se,me),K.style.setProperty("font-weight","600"),(le?"#f44336":"var(--text-primary)")!=null?K.style.setProperty("color",le?"#f44336":"var(--text-primary)"):K.style.removeProperty("color"),r(K,w,J),r(K,()=>C.unitOfMeasure,null),se.style.setProperty("color","var(--text-muted)"),r(se,()=>le?e("inventory.lowStock","Low Stock"):e("inventory.inStock","In Stock")),B(Q=>o(S,R(b()===l()),Q)),S})()}})}})),B(C=>o(v,U,C)),v}}),null),B(v=>{var C=h,b=ie,w=t.placeholder||e("inventory.searchProducts","Search products by name, SKU, or category..."),le=t.disabled,S=t.required;return v.e=o(_,C,v.e),v.t=o(D,b,v.t),w!==v.a&&Ze(D,"placeholder",v.a=w),le!==v.o&&(D.disabled=v.o=le),S!==v.i&&(D.required=v.i=S),v},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),B(()=>D.value=te()),_})()};vt(["input","click","keydown"]);var uo=k("<div>"),os=k("<div><div><input type=text autocomplete=off>"),is=k("<button type=button>+"),ls=k("<div><div><div><div> </div><div><span>: </span><span></span></div><div>");const cn=t=>{const{t:e}=Qe(),[n,i]=Z(!1),[a,s]=Z(""),[l,c]=Z(-1),d=qe(()=>t.value?Ne.getLocationById(t.value):null),y=qe(()=>{let _=Ne.getActiveLocations();t.filterType&&(_=_.filter(D=>D.type===t.filterType));const m=a().toLowerCase();return m?_.filter(D=>D.name.toLowerCase().includes(m)||D?.code?.toLowerCase().includes(m)||D?.type?.toLowerCase().includes(m)||D?.address?.toLowerCase().includes(m)):_}),g=()=>{i(!0),s(""),c(-1)},E=_=>{const m=_.target;s(m.value),i(!0),c(-1)},L=_=>{t.onChange(_.id),i(!1),s(""),c(-1)},A=_=>{const m=y();switch(_.key){case"ArrowDown":_.preventDefault(),c(D=>Math.min(D+1,m.length-1));break;case"ArrowUp":_.preventDefault(),c(D=>Math.max(D-1,-1));break;case"Enter":_.preventDefault(),l()>=0&&m[l()]&&L(m[l()]);break;case"Escape":i(!1),s(""),c(-1);break}},$=_=>{setTimeout(()=>{i(!1),s(""),c(-1)},150)},P=_=>({warehouse:"🏭",store:"🏪",supplier:"🚚",customer:"👥"})[_]||"📍",x=_=>({warehouse:"#2196F3",store:"#4CAF50",supplier:"#FF9800",customer:"#9C27B0"})[_]||"#757575",h={position:"relative",width:"100%",...t.style},M={width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)",cursor:t.disabled?"not-allowed":"text",opacity:t.disabled?"0.6":"1"},U={display:"flex","align-items":"stretch",width:"100%"},R={padding:"0.75rem",border:"1px solid var(--border-color)","border-left":"none","border-radius":"0 var(--border-radius-sm) var(--border-radius-sm) 0",background:"var(--surface-color)",cursor:"pointer",color:"var(--primary-color)","font-weight":"600","font-size":"1rem",transition:"all 0.2s ease","min-width":"40px",display:"flex","align-items":"center","justify-content":"center"},X={...M,"border-radius":t.onAddNew?"var(--border-radius-sm) 0 0 var(--border-radius-sm)":"var(--border-radius-sm)","border-right":t.onAddNew?"none":"1px solid var(--border-color)"},Y={position:"absolute",top:"100%",left:"0",right:"0","z-index":"1000","max-height":"300px","overflow-y":"auto",background:"var(--surface-color)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","box-shadow":"0 4px 12px rgba(0,0,0,0.15)","margin-top":"2px"},oe=_=>({padding:"0.75rem",cursor:"pointer","border-bottom":"1px solid var(--border-color)",background:_?"var(--strip-color)":"transparent",color:_?"var(--primary-dark)":"var(--text-primary)",transition:"all 0.2s ease"}),re={display:"flex","justify-content":"space-between","align-items":"center"},me={flex:"1"},ue={"font-weight":"500","margin-bottom":"0.25rem"},te={"font-size":"0.875rem",color:"var(--text-muted)",display:"flex",gap:"0.5rem","align-items":"center"},ee=_=>({padding:"0.2rem 0.5rem","border-radius":"var(--border-radius-sm)","font-size":"0.7rem","font-weight":"500",background:x(_),color:"white","text-transform":"uppercase"}),f={padding:"1rem","text-align":"center",color:"var(--text-muted)","font-style":"italic"},ie=()=>n()&&a()?a():d()?`${d().name} (${d().code})`:"";return(()=>{var _=os(),m=_.firstChild,D=m.firstChild;return o(m,U),D.addEventListener("blur",$),D.$$keydown=A,D.$$click=g,D.$$input=E,r(m,(()=>{var v=F(()=>!!t.onAddNew);return()=>v()&&(()=>{var C=is();return C.addEventListener("mouseleave",b=>{b.currentTarget.style.background="var(--surface-color)",b.currentTarget.style.color="var(--primary-color)"}),C.addEventListener("mouseenter",b=>{b.currentTarget.style.background="var(--primary-color)",b.currentTarget.style.color="white"}),br(C,"click",t.onAddNew,!0),o(C,R),B(()=>Ze(C,"title",e("inventory.addLocation","Add new location"))),C})()})(),null),r(_,u(Ge,{get when(){return n()},get children(){var v=uo();return r(v,u(Ge,{get when(){return y().length>0},get fallback(){return(()=>{var C=uo();return o(C,f),r(C,(()=>{var b=F(()=>!!a());return()=>b()?e("inventory.noLocationsFound","No locations found matching your search."):e("inventory.noLocationsAvailable","No locations available.")})()),C})()},get children(){return u(mt,{get each(){return y()},children:(C,b)=>(()=>{var w=ls(),le=w.firstChild,S=le.firstChild,I=S.firstChild,H=I.firstChild,V=I.nextSibling,ne=V.firstChild,W=ne.firstChild,q=ne.nextSibling,ae=V.nextSibling;return w.addEventListener("mouseenter",()=>c(b())),w.$$click=()=>L(C),o(le,re),o(S,me),o(I,ue),r(I,()=>P(C.type),H),r(I,()=>C.name,null),o(V,te),r(ne,()=>e("inventory.locationCode","Code"),W),r(ne,()=>C.code,null),r(q,()=>C.type),ae.style.setProperty("font-size","0.75rem"),ae.style.setProperty("color","var(--text-muted)"),ae.style.setProperty("margin-top","0.25rem"),r(ae,()=>C.address),B(N=>{var G=oe(b()===l()),fe=ee(C.type);return N.e=o(w,G,N.e),N.t=o(q,fe,N.t),N},{e:void 0,t:void 0}),w})()})}})),B(C=>o(v,Y,C)),v}}),null),B(v=>{var C=h,b=X,w=t.placeholder||e("inventory.searchLocations","Search locations by name, code, or type..."),le=t.disabled,S=t.required;return v.e=o(_,C,v.e),v.t=o(D,b,v.t),w!==v.a&&Ze(D,"placeholder",v.a=w),le!==v.o&&(D.disabled=v.o=le),S!==v.i&&(D.required=v.i=S),v},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),B(()=>D.value=ie()),_})()};vt(["input","click","keydown"]);var as=k("<form><div><label> *</label><input type=text required></div><div><div><label> *</label><input type=text required></div><div><label> *</label><input type=text list=categories required><datalist id=categories><option value=Electronics></option><option value=Accessories></option><option value=Office></option><option value=Furniture></option><option value=Software></option><option value=Hardware></option></datalist></div></div><div><label></label><textarea></textarea></div><div><div><label></label><select><option value=pcs></option><option value=kg></option><option value=lbs></option><option value=m></option><option value=ft></option><option value=l></option><option value=gal></option><option value=box></option><option value=pack></option></select></div><div><label></label><input type=number min=0 step=0.01 placeholder=0.00></div></div><div><div><label></label><input type=number min=0 step=0.01 placeholder=0.00></div><div></div></div><div><div><label></label><input type=number min=0 step=1></div><div><label></label><input type=number min=1 step=1></div></div><div>"),ss=k("<div>");const un=t=>{const{t:e}=Qe(),[n,i]=Z(""),[a,s]=Z(""),[l,c]=Z(""),[d,y]=Z(""),[g,E]=Z("pcs"),[L,A]=Z(0),[$,P]=Z(0),[x,h]=Z(10),[M,U]=Z(100),[R,X]=Z(""),Y=()=>{i(""),s(""),c(""),y(""),E("pcs"),A(0),P(0),h(10),U(100),X("")},oe=m=>{if(m.preventDefault(),X(""),!n().trim()){X(e("forms.productNameRequired"));return}if(!a().trim()){X(e("forms.skuRequired"));return}if(!d().trim()){X(e("forms.categoryRequired"));return}if(L()<0){X(e("forms.unitCostNotNegative"));return}if($()<0){X(e("forms.sellingPriceNotNegative"));return}if(x()<0){X(e("forms.minStockNotNegative"));return}if(M()<=x()){X(e("forms.maxStockGreaterThanMin"));return}if(Ne.getProductsBySku(a()).length>0){X(e("forms.skuAlreadyExists"));return}const v={name:n().trim(),sku:a().trim().toUpperCase(),description:l().trim(),category:d().trim(),unitOfMeasure:g(),unitCost:L(),sellingPrice:$(),minStockLevel:x(),maxStockLevel:M(),isActive:!0,businessId:"default-business"};Ne.addProduct(v);const C=`prod-${Date.now()}`;t.onProductAdded&&t.onProductAdded(C),Y(),t.onClose()},re=()=>{Y(),t.onClose()},me={"margin-bottom":"1.5rem"},ue={display:"block","margin-bottom":"0.5rem","font-weight":"500",color:"var(--text-primary)"},te={width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)"},ee={...te,cursor:"pointer"},f={color:"#f44336","font-size":"0.875rem","margin-bottom":"1rem"},ie={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},_={display:"grid","grid-template-columns":"1fr 1fr",gap:"1rem"};return u(It,{get isOpen(){return t.isOpen},onClose:re,get title(){return e("inventory.addNewProduct")},get children(){var m=as(),D=m.firstChild,v=D.firstChild,C=v.firstChild,b=v.nextSibling,w=D.nextSibling,le=w.firstChild,S=le.firstChild,I=S.firstChild,H=S.nextSibling,V=le.nextSibling,ne=V.firstChild,W=ne.firstChild,q=ne.nextSibling,ae=w.nextSibling,N=ae.firstChild,G=N.nextSibling,fe=ae.nextSibling,Se=fe.firstChild,K=Se.firstChild,J=K.nextSibling,se=J.firstChild,Q=se.nextSibling,O=Q.nextSibling,pe=O.nextSibling,ge=pe.nextSibling,T=ge.nextSibling,j=T.nextSibling,be=j.nextSibling,ye=be.nextSibling,ce=Se.nextSibling,z=ce.firstChild,p=z.nextSibling,de=fe.nextSibling,_e=de.firstChild,$e=_e.firstChild,xe=$e.nextSibling,we=de.nextSibling,Re=we.firstChild,Ie=Re.firstChild,ve=Ie.nextSibling,ke=Re.nextSibling,De=ke.firstChild,Be=De.nextSibling,Me=we.nextSibling;return m.addEventListener("submit",oe),r(v,()=>e("inventory.productName"),C),b.addEventListener("change",Pe=>i(Pe.target.value)),r(S,()=>e("inventory.sku"),I),H.addEventListener("change",Pe=>s(Pe.target.value)),r(ne,()=>e("inventory.category"),W),q.addEventListener("change",Pe=>y(Pe.target.value)),r(N,()=>e("common.description")),G.addEventListener("change",Pe=>c(Pe.target.value)),r(K,()=>e("inventory.unitOfMeasure")),J.addEventListener("change",Pe=>E(Pe.target.value)),r(se,()=>e("inventory.pieces")),r(Q,()=>e("inventory.kilograms")),r(O,()=>e("inventory.pounds")),r(pe,()=>e("inventory.meters")),r(ge,()=>e("inventory.feet")),r(T,()=>e("inventory.liters")),r(j,()=>e("inventory.gallons")),r(be,()=>e("inventory.boxes")),r(ye,()=>e("inventory.packs")),r(z,()=>e("inventory.unitCost")),p.addEventListener("change",Pe=>A(Number(Pe.target.value))),r($e,()=>e("inventory.sellingPrice")),xe.addEventListener("change",Pe=>P(Number(Pe.target.value))),r(Ie,()=>e("inventory.minimumStockLevel")),ve.addEventListener("change",Pe=>h(Number(Pe.target.value))),r(De,()=>e("inventory.maximumStockLevel")),Be.addEventListener("change",Pe=>U(Number(Pe.target.value))),r(m,(()=>{var Pe=F(()=>!!R());return()=>Pe()&&(()=>{var Fe=ss();return o(Fe,f),r(Fe,R),Fe})()})(),Me),o(Me,ie),r(Me,u(Ae,{variant:"secondary",type:"button",onClick:re,get children(){return e("common.cancel")}}),null),r(Me,u(Ae,{variant:"primary",type:"submit",get children(){return e("inventory.addProduct")}}),null),B(Pe=>{var Fe=me,Oe=ue,Je=te,he=e("inventory.enterProductName"),Ve=_,it=ue,We=te,et=e("inventory.enterSkuCode"),tt=ue,gt=te,pt=e("inventory.enterCategory"),lt=me,Le=ue,Ee={...te,"min-height":"80px",resize:"vertical"},Ue=e("inventory.enterProductDescription"),He=_,ot=ue,Ye=ee,Ce=ue,ze=te,Ke=_,rt=ue,Ct=te,Pt=_,ft=ue,$t=te,at=ue,ut=te;return Pe.e=o(D,Fe,Pe.e),Pe.t=o(v,Oe,Pe.t),Pe.a=o(b,Je,Pe.a),he!==Pe.o&&Ze(b,"placeholder",Pe.o=he),Pe.i=o(w,Ve,Pe.i),Pe.n=o(S,it,Pe.n),Pe.s=o(H,We,Pe.s),et!==Pe.h&&Ze(H,"placeholder",Pe.h=et),Pe.r=o(ne,tt,Pe.r),Pe.d=o(q,gt,Pe.d),pt!==Pe.l&&Ze(q,"placeholder",Pe.l=pt),Pe.u=o(ae,lt,Pe.u),Pe.c=o(N,Le,Pe.c),Pe.w=o(G,Ee,Pe.w),Ue!==Pe.m&&Ze(G,"placeholder",Pe.m=Ue),Pe.f=o(fe,He,Pe.f),Pe.y=o(K,ot,Pe.y),Pe.g=o(J,Ye,Pe.g),Pe.p=o(z,Ce,Pe.p),Pe.b=o(p,ze,Pe.b),Pe.T=o(de,Ke,Pe.T),Pe.A=o($e,rt,Pe.A),Pe.O=o(xe,Ct,Pe.O),Pe.I=o(we,Pt,Pe.I),Pe.S=o(Ie,ft,Pe.S),Pe.W=o(ve,$t,Pe.W),Pe.C=o(De,at,Pe.C),Pe.B=o(Be,ut,Pe.B),Pe},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0,O:void 0,I:void 0,S:void 0,W:void 0,C:void 0,B:void 0}),B(()=>b.value=n()),B(()=>H.value=a()),B(()=>q.value=d()),B(()=>G.value=l()),B(()=>J.value=g()),B(()=>p.value=L()),B(()=>xe.value=$()),B(()=>ve.value=x()),B(()=>Be.value=M()),m}})};var cs=k('<form><div><label> *</label><input type=text required></div><div><div><label> *<button type=button title="Generate code automatically"></button></label><input type=text required><div></div></div><div><label> *</label><select required><option value=warehouse> </option><option value=store> </option><option value=supplier> </option><option value=customer> </option></select><div></div></div></div><div><label> *</label><textarea required></textarea></div><div>'),ds=k("<div><div>:</div><div><span></span><div><div></div><div>"),us=k("<div>");const Hn=t=>{const{t:e}=Qe(),[n,i]=Z(""),[a,s]=Z(""),[l,c]=Z("warehouse"),[d,y]=Z(""),[g,E]=Z(""),L=()=>{i(""),s(""),c("warehouse"),y(""),E("")},A=()=>{if(n()){const te=l()==="warehouse"?"WH":l()==="store"?"ST":l()==="supplier"?"SUP":"CUST",ee=n().toUpperCase().replace(/[^A-Z0-9]/g,"").substring(0,3),f=String(Math.floor(Math.random()*1e3)).padStart(3,"0");s(`${te}-${ee}-${f}`)}},$=te=>{if(te.preventDefault(),E(""),!n().trim()){E(e("forms.locationNameRequired"));return}if(!a().trim()){E(e("forms.locationCodeRequired"));return}if(!d().trim()){E(e("forms.addressRequired"));return}if(Ne.locations.filter(_=>_.code.toLowerCase()===a().toLowerCase()).length>0){E(e("forms.locationCodeExists"));return}const f={name:n().trim(),code:a().trim().toUpperCase(),type:l(),address:d().trim(),isActive:!0};Ne.addLocation(f);const ie=`loc-${Date.now()}`;t.onLocationAdded&&t.onLocationAdded(ie),L(),t.onClose()},P=()=>{L(),t.onClose()},x={"margin-bottom":"1.5rem"},h={display:"block","margin-bottom":"0.5rem","font-weight":"500",color:"var(--text-primary)"},M={width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)"},U={...M,cursor:"pointer"},R={color:"#f44336","font-size":"0.875rem","margin-bottom":"1rem"},X={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},Y={display:"grid","grid-template-columns":"2fr 1fr",gap:"1rem"},oe={"font-size":"0.875rem",color:"var(--text-muted)","margin-top":"0.25rem"},re={padding:"0.25rem 0.5rem","font-size":"0.75rem","margin-left":"0.5rem",background:"var(--background-color)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)",cursor:"pointer",color:"var(--text-muted)"},me=te=>({warehouse:"🏭",store:"🏪",supplier:"🚚",customer:"👥"})[te]||"📍",ue=te=>({warehouse:e("inventory.warehouseDescription"),store:e("inventory.storeDescription"),supplier:e("inventory.supplierDescription"),customer:e("inventory.customerDescription")})[te]||"";return u(It,{get isOpen(){return t.isOpen},onClose:P,get title(){return e("inventory.addNewLocation")},get children(){var te=cs(),ee=te.firstChild,f=ee.firstChild,ie=f.firstChild,_=f.nextSibling,m=ee.nextSibling,D=m.firstChild,v=D.firstChild,C=v.firstChild,b=C.nextSibling,w=v.nextSibling,le=w.nextSibling,S=D.nextSibling,I=S.firstChild,H=I.firstChild,V=I.nextSibling,ne=V.firstChild,W=ne.firstChild,q=ne.nextSibling,ae=q.firstChild,N=q.nextSibling,G=N.firstChild,fe=N.nextSibling,Se=fe.firstChild,K=V.nextSibling,J=m.nextSibling,se=J.firstChild,Q=se.firstChild,O=se.nextSibling,pe=J.nextSibling;return te.addEventListener("submit",$),r(f,()=>e("inventory.locationName"),ie),_.addEventListener("change",ge=>i(ge.target.value)),o(m,Y),r(v,()=>e("inventory.locationCode"),C),b.$$click=A,o(b,re),r(b,()=>e("common.generate")),w.addEventListener("change",ge=>s(ge.target.value)),r(le,()=>e("inventory.uniqueIdentifierHelp")),r(I,()=>e("inventory.locationType"),H),V.addEventListener("change",ge=>c(ge.target.value)),r(ne,()=>me("warehouse"),W),r(ne,()=>e("inventory.warehouse"),null),r(q,()=>me("store"),ae),r(q,()=>e("inventory.store"),null),r(N,()=>me("supplier"),G),r(N,()=>e("inventory.supplier"),null),r(fe,()=>me("customer"),Se),r(fe,()=>e("inventory.customer"),null),r(K,()=>ue(l())),r(se,()=>e("common.address"),Q),O.addEventListener("change",ge=>y(ge.target.value)),r(te,(()=>{var ge=F(()=>!!n());return()=>ge()&&(()=>{var T=ds(),j=T.firstChild,be=j.firstChild,ye=j.nextSibling,ce=ye.firstChild,z=ce.nextSibling,p=z.firstChild,de=p.nextSibling;return T.style.setProperty("padding","1rem"),T.style.setProperty("background","var(--background-color)"),T.style.setProperty("border-radius","var(--border-radius-sm)"),T.style.setProperty("border","1px solid var(--border-color)"),T.style.setProperty("margin-bottom","1rem"),j.style.setProperty("font-weight","500"),j.style.setProperty("margin-bottom","0.5rem"),r(j,()=>e("common.preview"),be),ye.style.setProperty("display","flex"),ye.style.setProperty("align-items","center"),ye.style.setProperty("gap","0.5rem"),ce.style.setProperty("font-size","1.2rem"),r(ce,()=>me(l())),p.style.setProperty("font-weight","600"),r(p,n),de.style.setProperty("font-size","0.875rem"),de.style.setProperty("color","var(--text-muted)"),r(de,(()=>{var _e=F(()=>!!a());return()=>_e()&&`${a()} • `})(),null),r(de,l,null),T})()})(),pe),r(te,(()=>{var ge=F(()=>!!g());return()=>ge()&&(()=>{var T=us();return o(T,R),r(T,g),T})()})(),pe),o(pe,X),r(pe,u(Ae,{variant:"secondary",type:"button",onClick:P,get children(){return e("common.cancel")}}),null),r(pe,u(Ae,{variant:"primary",type:"submit",get children(){return e("inventory.addLocation")}}),null),B(ge=>{var T=x,j=h,be=M,ye=e("inventory.enterLocationName"),ce=h,z=M,p=e("inventory.enterUniqueCode"),de=oe,_e=h,$e=U,xe=oe,we=x,Re=h,Ie={...M,"min-height":"100px",resize:"vertical"},ve=e("inventory.enterCompleteAddress");return ge.e=o(ee,T,ge.e),ge.t=o(f,j,ge.t),ge.a=o(_,be,ge.a),ye!==ge.o&&Ze(_,"placeholder",ge.o=ye),ge.i=o(v,ce,ge.i),ge.n=o(w,z,ge.n),p!==ge.s&&Ze(w,"placeholder",ge.s=p),ge.h=o(le,de,ge.h),ge.r=o(I,_e,ge.r),ge.d=o(V,$e,ge.d),ge.l=o(K,xe,ge.l),ge.u=o(J,we,ge.u),ge.c=o(se,Re,ge.c),ge.w=o(O,Ie,ge.w),ve!==ge.m&&Ze(O,"placeholder",ge.m=ve),ge},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0}),B(()=>_.value=n()),B(()=>w.value=a()),B(()=>V.value=l()),B(()=>O.value=d()),te}})};vt(["click"]);var ys=k("<form><div>"),yo=k("<div><label> *"),ms=k("<div><label> *</label><select required><option value=in></option><option value=out></option><option value=transfer></option><option value=adjustment>"),vs=k("<div><label>"),gs=k("<div><label> *</label><input type=number min=0 step=1 required>"),ps=k("<div><label></label><input type=number min=0 step=0.01>"),fs=k("<div><label></label><input type=text>"),bs=k("<div><label></label><textarea>"),hs=k("<div><div><span>:</span><span> </span></div><div><span>:</span><span></span></div><div><span>:</span><span> "),Ss=k("<div><div><span>:</span><span>"),Ps=k("<div>");const $s=t=>{const{t:e}=Qe(),[n,i]=Z({name:"",price:"",quantity:"",category:"",description:"",sku:"",supplier:"",minStock:"",location:""}),[a,s]=Z(""),[l,c]=Z(""),[d,y]=Z("in"),[g,E]=Z(0),[L,A]=Z(0),[$,P]=Z(""),[x,h]=Z(""),[M,U]=Z(""),[R,X]=Z(""),[Y,oe]=Z(!1),[re,me]=Z(!1),ue=()=>t.mode==="movement",te=qe(()=>a()?Ne.getProductById(a()):null),ee=qe(()=>l()?Ne.getLocationById(l()):null),f=qe(()=>M()?Ne.getLocationById(M()):null),ie=qe(()=>g()*L()),_=qe(()=>!a()||!l()?0:Ne.getStockByProductAndLocation(a(),l())?.quantity||0),m=[{value:"Electronics",label:"Electronics"},{value:"Accessories",label:"Accessories"},{value:"Furniture",label:"Furniture"},{value:"Office Supplies",label:"Office Supplies"},{value:"Software",label:"Software"},{value:"Hardware",label:"Hardware"},{value:"Consumables",label:"Consumables"}],D=[{value:"Warehouse A",label:"Warehouse A"},{value:"Warehouse B",label:"Warehouse B"},{value:"Warehouse C",label:"Warehouse C"},{value:"Storage Room",label:"Storage Room"},{value:"Main Office",label:"Main Office"}],v={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},C=()=>{s(""),c(""),y("in"),E(0),A(0),P(""),h(""),U(""),X("")},b=()=>{i({name:"",price:"",quantity:"",category:"",description:"",sku:"",supplier:"",minStock:"",location:""})},w=fe=>{if(fe.preventDefault(),ue()){if(X(""),!a()){X(e("forms.selectProduct"));return}if(!l()){X(e("forms.selectLocation"));return}if(g()<=0){X(e("forms.quantityGreaterThanZero"));return}if(L()<0){X(e("forms.unitCostNotNegative"));return}if(d()==="transfer"&&!M()){X(e("forms.selectFromLocation"));return}if(d()==="transfer"&&M()===l()){X(e("forms.sameLocationError"));return}if(d()==="out"&&g()>_()){X(e("forms.insufficientStock",{currentStock:_()}));return}const Se=te(),K=ee(),J={productId:Se.id,productName:Se.name,productSku:Se.sku,locationId:K.id,locationName:K.name,movementType:d(),quantity:g(),unitCost:L()||Se.unitCost,totalCost:ie()||g()*Se.unitCost,referenceNumber:$()||`AUTO-${Date.now()}`,notes:x(),createdBy:"admin",fromLocationId:d()==="transfer"?M():void 0,fromLocationName:d()==="transfer"?f()?.name:void 0};Ne.addInventoryMovement(J),C()}else{const Se=n();if(!Se.name||!Se.price||!Se.quantity||!Se.category||!Se.sku||!Se.supplier||!Se.minStock||!Se.location){alert(e("forms.fillAllRequired"));return}const K={name:Se.name,price:parseFloat(Se.price),quantity:parseInt(Se.quantity),category:Se.category,description:Se.description,sku:Se.sku,supplier:Se.supplier,minStock:parseInt(Se.minStock),location:Se.location};Ne.addItem(K),b()}t.onClose()},le=(fe,Se)=>{i(K=>({...K,[fe]:Se}))},S=()=>{ue()?C():b(),t.onClose()},I=fe=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(fe),H={width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)"},V={...H,cursor:"pointer"},ne={color:"#f44336","font-size":"0.875rem","margin-top":"0.5rem"},W={padding:"1rem",background:"var(--background-color)","border-radius":"var(--border-radius-sm)",border:"1px solid var(--border-color)","margin-bottom":"1rem"},q={display:"flex","justify-content":"space-between","margin-bottom":"0.5rem"},ae={"font-weight":"500",color:"var(--text-muted)"},N={"font-weight":"600",color:"var(--text-primary)"},G=()=>ue()?e("inventory.addMovement"):e("inventory.addNewItem");return u(It,{get isOpen(){return t.isOpen},onClose:S,get title(){return G()},get children(){return[(()=>{var fe=ys(),Se=fe.firstChild;return fe.addEventListener("submit",w),r(fe,(()=>{var K=F(()=>!!ue());return()=>K()?[(()=>{var J=yo(),se=J.firstChild,Q=se.firstChild;return J.style.setProperty("margin-bottom","1.5rem"),se.style.setProperty("display","block"),se.style.setProperty("margin-bottom","0.5rem"),se.style.setProperty("font-weight","500"),r(se,()=>e("inventory.product"),Q),r(J,u(Zo,{get value(){return a()},onChange:O=>{s(O);const pe=Ne.getProductById(O);pe&&A(pe.unitCost)},get placeholder(){return e("inventory.searchProductsPlaceholder")},onAddNew:()=>oe(!0),required:!0}),null),J})(),(()=>{var J=ms(),se=J.firstChild,Q=se.firstChild,O=se.nextSibling,pe=O.firstChild,ge=pe.nextSibling,T=ge.nextSibling,j=T.nextSibling;return J.style.setProperty("margin-bottom","1.5rem"),se.style.setProperty("display","block"),se.style.setProperty("margin-bottom","0.5rem"),se.style.setProperty("font-weight","500"),r(se,()=>e("inventory.movementType"),Q),O.addEventListener("change",be=>y(be.target.value)),r(pe,()=>e("inventory.stockInPurchase")),r(ge,()=>e("inventory.stockOutSale")),r(T,()=>e("inventory.transferBetween")),r(j,()=>e("inventory.stockAdjustment")),B(be=>o(O,V,be)),B(()=>O.value=d()),J})(),F(()=>F(()=>d()==="transfer")()&&(()=>{var J=yo(),se=J.firstChild,Q=se.firstChild;return J.style.setProperty("margin-bottom","1.5rem"),se.style.setProperty("display","block"),se.style.setProperty("margin-bottom","0.5rem"),se.style.setProperty("font-weight","500"),r(se,()=>e("inventory.fromLocation"),Q),r(J,u(cn,{get value(){return M()},onChange:O=>U(O),get placeholder(){return e("inventory.searchSourceLocation")},onAddNew:()=>me(!0),required:!0}),null),J})()),(()=>{var J=vs(),se=J.firstChild;return J.style.setProperty("margin-bottom","1.5rem"),se.style.setProperty("display","block"),se.style.setProperty("margin-bottom","0.5rem"),se.style.setProperty("font-weight","500"),r(se,(()=>{var Q=F(()=>d()==="transfer");return()=>Q()?e("inventory.toLocation")+" *":e("inventory.locationName")+" *"})()),r(J,u(cn,{get value(){return l()},onChange:Q=>c(Q),get placeholder(){return F(()=>d()==="transfer")()?e("inventory.searchDestinationLocation"):e("inventory.searchLocation")},onAddNew:()=>me(!0),required:!0}),null),J})(),F(()=>F(()=>!!(te()&&ee()))()&&(()=>{var J=hs(),se=J.firstChild,Q=se.firstChild,O=Q.firstChild,pe=Q.nextSibling,ge=pe.firstChild,T=se.nextSibling,j=T.firstChild,be=j.firstChild,ye=j.nextSibling,ce=T.nextSibling,z=ce.firstChild,p=z.firstChild,de=z.nextSibling,_e=de.firstChild;return r(Q,()=>e("inventory.currentStockAt",{location:ee()?.name}),O),r(pe,_,ge),r(pe,()=>te()?.unitOfMeasure,null),r(j,()=>e("inventory.productCost"),be),r(ye,()=>I(te()?.unitCost||0)),r(z,()=>e("inventory.minStockLevel"),p),r(de,()=>te()?.minStockLevel,_e),r(de,()=>te()?.unitOfMeasure,null),B($e=>{var xe=W,we=q,Re=ae,Ie=N,ve=q,ke=ae,De=N,Be=q,Me=ae,Pe=N;return $e.e=o(J,xe,$e.e),$e.t=o(se,we,$e.t),$e.a=o(Q,Re,$e.a),$e.o=o(pe,Ie,$e.o),$e.i=o(T,ve,$e.i),$e.n=o(j,ke,$e.n),$e.s=o(ye,De,$e.s),$e.h=o(ce,Be,$e.h),$e.r=o(z,Me,$e.r),$e.d=o(de,Pe,$e.d),$e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0}),J})()),(()=>{var J=gs(),se=J.firstChild,Q=se.firstChild,O=se.nextSibling;return J.style.setProperty("margin-bottom","1.5rem"),se.style.setProperty("display","block"),se.style.setProperty("margin-bottom","0.5rem"),se.style.setProperty("font-weight","500"),r(se,()=>e("inventory.quantity"),Q),O.addEventListener("change",pe=>E(Number(pe.target.value))),B(pe=>o(O,H,pe)),B(()=>O.value=g()),J})(),(()=>{var J=ps(),se=J.firstChild,Q=se.nextSibling;return J.style.setProperty("margin-bottom","1.5rem"),se.style.setProperty("display","block"),se.style.setProperty("margin-bottom","0.5rem"),se.style.setProperty("font-weight","500"),r(se,()=>e("inventory.unitCost")),Q.addEventListener("change",O=>A(Number(O.target.value))),B(O=>{var pe=H,ge=e("inventory.willUseDefaultCost");return O.e=o(Q,pe,O.e),ge!==O.t&&Ze(Q,"placeholder",O.t=ge),O},{e:void 0,t:void 0}),B(()=>Q.value=L()),J})(),F(()=>F(()=>g()>0&&L()>0)()&&(()=>{var J=Ss(),se=J.firstChild,Q=se.firstChild,O=Q.firstChild,pe=Q.nextSibling;return r(Q,()=>e("inventory.totalCost"),O),r(pe,()=>I(ie())),B(ge=>{var T=W,j=q,be=ae,ye={...N,"font-size":"1.2rem",color:"var(--primary-color)"};return ge.e=o(J,T,ge.e),ge.t=o(se,j,ge.t),ge.a=o(Q,be,ge.a),ge.o=o(pe,ye,ge.o),ge},{e:void 0,t:void 0,a:void 0,o:void 0}),J})()),(()=>{var J=fs(),se=J.firstChild,Q=se.nextSibling;return J.style.setProperty("margin-bottom","1.5rem"),se.style.setProperty("display","block"),se.style.setProperty("margin-bottom","0.5rem"),se.style.setProperty("font-weight","500"),r(se,()=>e("common.referenceNumber")),Q.addEventListener("change",O=>P(O.target.value)),B(O=>{var pe=H,ge=e("common.referenceNumberPlaceholder");return O.e=o(Q,pe,O.e),ge!==O.t&&Ze(Q,"placeholder",O.t=ge),O},{e:void 0,t:void 0}),B(()=>Q.value=$()),J})(),(()=>{var J=bs(),se=J.firstChild,Q=se.nextSibling;return J.style.setProperty("margin-bottom","1.5rem"),se.style.setProperty("display","block"),se.style.setProperty("margin-bottom","0.5rem"),se.style.setProperty("font-weight","500"),r(se,()=>e("common.notes")),Q.addEventListener("change",O=>h(O.target.value)),B(O=>{var pe={...H,"min-height":"100px",resize:"vertical"},ge=e("inventory.additionalNotesPlaceholder");return O.e=o(Q,pe,O.e),ge!==O.t&&Ze(Q,"placeholder",O.t=ge),O},{e:void 0,t:void 0}),B(()=>Q.value=x()),J})(),F(()=>F(()=>!!R())()&&(()=>{var J=Ps();return o(J,ne),r(J,R),J})())]:[u(st,{get label(){return e("inventory.itemName")},get value(){return n().name},onChange:J=>le("name",J),get placeholder(){return e("inventory.enterItemName")},required:!0}),u(st,{get label(){return e("inventory.sku")},get value(){return n().sku},onChange:J=>le("sku",J),get placeholder(){return e("inventory.enterSkuCode")},required:!0}),u(Lt,{get label(){return e("inventory.category")},get value(){return n().category},onChange:J=>le("category",J),options:m,required:!0}),u(st,{get label(){return e("common.description")},get value(){return n().description},onChange:J=>le("description",J),get placeholder(){return e("inventory.enterItemDescription")}}),u(st,{get label(){return e("common.price")},type:"number",get value(){return n().price},onChange:J=>le("price",J),get placeholder(){return e("common.enterPrice")},required:!0}),u(st,{get label(){return e("inventory.quantity")},type:"number",get value(){return n().quantity},onChange:J=>le("quantity",J),get placeholder(){return e("inventory.enterQuantity")},required:!0}),u(st,{get label(){return e("inventory.minimumStock")},type:"number",get value(){return n().minStock},onChange:J=>le("minStock",J),get placeholder(){return e("inventory.enterMinStockLevel")},required:!0}),u(st,{get label(){return e("inventory.supplier")},get value(){return n().supplier},onChange:J=>le("supplier",J),get placeholder(){return e("inventory.enterSupplierName")},required:!0}),u(Lt,{get label(){return e("inventory.location")},get value(){return n().location},onChange:J=>le("location",J),options:D,required:!0})]})(),Se),o(Se,v),r(Se,u(Ae,{variant:"secondary",type:"button",onClick:S,get children(){return e("common.cancel")}}),null),r(Se,u(Ae,{variant:"primary",type:"submit",get children(){return F(()=>!!ue())()?e("inventory.addMovement"):e("inventory.addItem")}}),null),fe})(),u(un,{get isOpen(){return Y()},onClose:()=>oe(!1),onProductAdded:fe=>{s(fe),oe(!1)}}),u(Hn,{get isOpen(){return re()},onClose:()=>me(!1),onLocationAdded:fe=>{d()==="transfer"&&!M()?U(fe):c(fe),me(!1)}})]}})};vt(["input","keydown"]);var xs=k("<form><div><div><label> *</label><input type=text required></div><div><label> *</label><input type=text required></div></div><div><label> *</label><select required><option value=in></option><option value=out></option><option value=transfer></option><option value=adjustment></option></select></div><div><div><label></label></div></div><div><div><h3></h3></div></div><div><label></label><textarea></textarea></div><div>"),Cs=k("<div><label> *"),_s=k("<div><div></div><div></div><div></div><div></div><div>"),Pn=k("<div>"),ws=k("<div><input type=number min=0 step=1 required><input type=number min=0 step=0.01><input type=text>"),ks=k("<div><h4></h4><div><span>:</span><span></span></div><div><span>:</span><span></span></div><div><span>:</span><span></span></div><div><span>:</span><span>"),As=k("<div>• ");const Is=t=>{const{t:e}=Qe(),[n,i]=Z(`INV-${Date.now()}`),[a,s]=Z(""),[l,c]=Z("in"),[d,y]=Z(""),[g,E]=Z(""),[L,A]=Z(""),[$,P]=Z([]),[x,h]=Z([]),[M,U]=Z(!1),[R,X]=Z(!1),Y=()=>{P(W=>[...W,{productId:"",quantity:0,unitCost:0,notes:""}])},oe=W=>{P(q=>q.filter((ae,N)=>N!==W))},re=(W,q,ae)=>{P(N=>N.map((G,fe)=>fe===W?{...G,[q]:ae}:G))},me=()=>{i(`INV-${Date.now()}`),s(""),c("in"),y(""),E(""),A(""),P([]),h([])},ue=W=>{W.preventDefault(),h([]);const q=[];if(a()||q.push(e("forms.referenceNumberRequired")),d()||q.push(e("forms.locationRequired")),l()==="transfer"&&!g()&&q.push(e("forms.fromLocationRequired")),$().length===0&&q.push(e("forms.atLeastOneProduct")),$().forEach((G,fe)=>{G.productId||q.push(e("forms.itemProductRequired","Product is required for item {{index}}",{index:fe+1})),G.quantity<=0&&q.push(e("forms.itemQuantityRequired","Quantity must be greater than 0 for item {{index}}",{index:fe+1}))}),q.length>0){h(q);return}const ae={invoiceId:n(),referenceNumber:a(),movementType:l(),type:Mn(l()),locationId:d(),fromLocationId:l()==="transfer"?g():void 0,items:$(),products:$(),generalNotes:L(),description:L(),invoice:a(),store:d(),createdBy:"admin"};console.log(ae);const N=Ne.addBulkInventoryMovements(ae);N.success?(me(),t.onClose()):h(N.errors)},te=()=>{me(),t.onClose()},ee=qe(()=>$().reduce((W,q)=>{const ae=Ne.getProductById(q.productId),N=q.unitCost||ae?.unitCost||0;return W+q.quantity*N},0)),f=qe(()=>$().reduce((W,q)=>W+q.quantity,0)),ie={"margin-bottom":"1.5rem"},_={display:"block","margin-bottom":"0.5rem","font-weight":"500",color:"var(--text-primary)"},m={width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)"},D={...m,cursor:"pointer"},v={display:"grid",gap:"0.5rem","align-items":"end","margin-bottom":"0.5rem",padding:"0.75rem",background:"var(--background-color)","border-radius":"var(--border-radius-sm)",border:"1px solid var(--border-color)"},C={display:"grid","grid-template-columns":"2fr 1fr 1fr 2fr auto",gap:"0.5rem","align-items":"end","margin-bottom":"0.5rem",padding:"0.75rem",background:"var(--background-color)","border-radius":"var(--border-radius-sm)",border:"1px solid var(--border-color)"},b={display:"grid","grid-template-columns":"2fr 1fr 1fr 2fr auto",gap:"0.5rem","font-weight":"600","font-size":"0.875rem",color:"var(--text-muted)","margin-bottom":"0.5rem","padding-left":"0.75rem"},w={padding:"1rem",background:"var(--surface-color)","border-radius":"var(--border-radius-sm)",border:"1px solid var(--border-color)","margin-bottom":"1rem"},le={display:"flex","justify-content":"space-between","margin-bottom":"0.5rem"},S={color:"#f44336","font-size":"0.875rem","margin-bottom":"1rem"},I={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},H=W=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(W),V=W=>({in:e("inventory.purchaseReceive"),out:e("inventory.saleIssue"),transfer:e("inventory.transfer"),adjustment:e("inventory.adjustment")})[W]||W,ne=async W=>{await Ne.fecthInventory(W),await Ne.fecthProduct(W)};return ar(()=>{ne("prod")}),u(It,{get isOpen(){return t.isOpen},onClose:te,get title(){return e("inventory.bulkMovement")},get children(){return[(()=>{var W=xs(),q=W.firstChild,ae=q.firstChild,N=ae.firstChild,G=N.firstChild,fe=N.nextSibling,Se=ae.nextSibling,K=Se.firstChild,J=K.firstChild,se=K.nextSibling,Q=q.nextSibling,O=Q.firstChild,pe=O.firstChild,ge=O.nextSibling,T=ge.firstChild,j=T.nextSibling,be=j.nextSibling,ye=be.nextSibling,ce=Q.nextSibling,z=ce.firstChild,p=z.firstChild,de=ce.nextSibling,_e=de.firstChild,$e=_e.firstChild,xe=de.nextSibling,we=xe.firstChild,Re=we.nextSibling,Ie=xe.nextSibling;return W.addEventListener("submit",ue),q.style.setProperty("display","grid"),q.style.setProperty("grid-template-columns","1fr 1fr"),q.style.setProperty("gap","1rem"),q.style.setProperty("margin-bottom","1.5rem"),r(N,()=>e("common.invoiceDocumentId"),G),fe.addEventListener("change",ve=>i(ve.target.value)),r(K,()=>e("common.referenceNumber"),J),se.addEventListener("change",ve=>s(ve.target.value)),r(O,()=>e("inventory.movementType"),pe),ge.addEventListener("change",ve=>c(ve.target.value)),r(T,()=>e("inventory.purchaseReceive")),r(j,()=>e("inventory.saleIssue")),r(be,()=>e("inventory.transfer")),r(ye,()=>e("inventory.adjustment")),ce.style.setProperty("display","grid"),ce.style.setProperty("gap","1rem"),ce.style.setProperty("margin-bottom","1.5rem"),r(ce,(()=>{var ve=F(()=>l()==="transfer");return()=>ve()&&(()=>{var ke=Cs(),De=ke.firstChild,Be=De.firstChild;return r(De,()=>e("inventory.fromLocation"),Be),r(ke,u(cn,{get value(){return g()},onChange:Me=>E(Me),get placeholder(){return e("inventory.searchSourceLocation")},onAddNew:()=>X(!0),required:!0}),null),B(Me=>o(De,_,Me)),ke})()})(),z),r(p,(()=>{var ve=F(()=>l()==="transfer");return()=>ve()?e("inventory.toLocation")+" *":e("inventory.location")+" *"})()),r(z,u(cn,{get value(){return d()},onChange:ve=>y(ve),get placeholder(){return F(()=>l()==="transfer")()?e("inventory.searchDestinationLocation"):e("inventory.searchLocation")},onAddNew:()=>X(!0),required:!0}),null),_e.style.setProperty("display","flex"),_e.style.setProperty("justify-content","space-between"),_e.style.setProperty("align-items","center"),_e.style.setProperty("margin-bottom","1rem"),$e.style.setProperty("margin","0"),$e.style.setProperty("font-size","1.1rem"),r($e,()=>e("inventory.products")),r(_e,u(Ae,{variant:"outline",type:"button",onClick:Y,get children(){return e("inventory.addProduct")}}),null),r(de,(()=>{var ve=F(()=>$().length>0);return()=>ve()&&[(()=>{var ke=_s(),De=ke.firstChild,Be=De.nextSibling,Me=Be.nextSibling,Pe=Me.nextSibling;return o(ke,b),r(De,()=>e("inventory.product")),r(Be,()=>e("inventory.quantity")),r(Me,()=>e("inventory.unitCost")),r(Pe,()=>e("common.notes")),ke})(),u(mt,{get each(){return $()},children:(ke,De)=>[(()=>{var Be=Pn();return o(Be,v),r(Be,u(Zo,{get value(){return ke.productId},onChange:Me=>{re(De(),"productId",Me.id);let Pe={id:Me.id,label:Me.name,code:Me.sku};re(De(),"product",Pe);const Fe=Ne.getProductById(Me.id);Fe&&!ke.unitCost&&re(De(),"unitCost",Fe.unitCost)},get placeholder(){return e("inventory.searchProduct")},onAddNew:()=>U(!0),required:!0})),Be})(),(()=>{var Be=ws(),Me=Be.firstChild,Pe=Me.nextSibling,Fe=Pe.nextSibling;return o(Be,C),Me.addEventListener("change",Oe=>re(De(),"quantity",Number(Oe.target.value))),Pe.addEventListener("change",Oe=>re(De(),"unitCost",Number(Oe.target.value))),Fe.addEventListener("change",Oe=>re(De(),"notes",Oe.target.value)),r(Be,u(Ae,{variant:"outline",size:"sm",type:"button",onClick:()=>oe(De()),style:{color:"#f44336","border-color":"#f44336"},get children(){return e("common.remove")}}),null),B(Oe=>{var Je=m,he=m,Ve=e("common.auto"),it=m,We=e("common.optionalNotes");return Oe.e=o(Me,Je,Oe.e),Oe.t=o(Pe,he,Oe.t),Ve!==Oe.a&&Ze(Pe,"placeholder",Oe.a=Ve),Oe.o=o(Fe,it,Oe.o),We!==Oe.i&&Ze(Fe,"placeholder",Oe.i=We),Oe},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),B(()=>Me.value=ke.quantity),B(()=>Pe.value=ke.unitCost),B(()=>Fe.value=ke.notes),Be})()]})]})(),null),r(de,(()=>{var ve=F(()=>$().length===0);return()=>ve()&&(()=>{var ke=Pn();return ke.style.setProperty("text-align","center"),ke.style.setProperty("padding","2rem"),ke.style.setProperty("background","var(--background-color)"),ke.style.setProperty("border-radius","var(--border-radius-sm)"),ke.style.setProperty("border","1px solid var(--border-color)"),ke.style.setProperty("color","var(--text-muted)"),r(ke,()=>e("inventory.noProductsAdded")),ke})()})(),null),r(W,(()=>{var ve=F(()=>$().length>0);return()=>ve()&&(()=>{var ke=ks(),De=ke.firstChild,Be=De.nextSibling,Me=Be.firstChild,Pe=Me.firstChild,Fe=Me.nextSibling,Oe=Be.nextSibling,Je=Oe.firstChild,he=Je.firstChild,Ve=Je.nextSibling,it=Oe.nextSibling,We=it.firstChild,et=We.firstChild,tt=We.nextSibling,gt=it.nextSibling,pt=gt.firstChild,lt=pt.firstChild,Le=pt.nextSibling;return o(ke,w),De.style.setProperty("margin","0 0 1rem 0"),De.style.setProperty("font-size","1rem"),r(De,()=>e("common.summary")),r(Me,()=>e("inventory.totalProducts"),Pe),Fe.style.setProperty("font-weight","600"),r(Fe,()=>$().length),r(Je,()=>e("inventory.totalItems"),he),Ve.style.setProperty("font-weight","600"),r(Ve,f),r(We,()=>e("inventory.totalValue"),et),tt.style.setProperty("font-weight","600"),tt.style.setProperty("color","var(--primary-color)"),r(tt,()=>H(ee())),r(pt,()=>e("inventory.movementType"),lt),Le.style.setProperty("font-weight","600"),r(Le,()=>V(l())),B(Ee=>{var Ue=le,He=le,ot=le,Ye=le;return Ee.e=o(Be,Ue,Ee.e),Ee.t=o(Oe,He,Ee.t),Ee.a=o(it,ot,Ee.a),Ee.o=o(gt,Ye,Ee.o),Ee},{e:void 0,t:void 0,a:void 0,o:void 0}),ke})()})(),xe),r(we,()=>e("common.generalNotes")),Re.addEventListener("change",ve=>A(ve.target.value)),r(W,(()=>{var ve=F(()=>x().length>0);return()=>ve()&&(()=>{var ke=Pn();return o(ke,S),r(ke,u(mt,{get each(){return x()},children:De=>(()=>{var Be=As();return Be.firstChild,r(Be,De,null),Be})()})),ke})()})(),Ie),o(Ie,I),r(Ie,u(Ae,{variant:"secondary",type:"button",onClick:te,get children(){return e("common.cancel")}}),null),r(Ie,u(Ae,{variant:"primary",type:"submit",get children(){return e("inventory.createMovement")}}),null),B(ve=>{var ke=_,De=m,Be=_,Me=m,Pe=e("common.referenceNumberPlaceholder"),Fe=ie,Oe=_,Je=D,he=l()==="transfer"?"1fr 1fr":"1fr",Ve=_,it=ie,We=ie,et=_,tt={...m,"min-height":"80px",resize:"vertical"},gt=e("inventory.generalNotesPlaceholder");return ve.e=o(N,ke,ve.e),ve.t=o(fe,De,ve.t),ve.a=o(K,Be,ve.a),ve.o=o(se,Me,ve.o),Pe!==ve.i&&Ze(se,"placeholder",ve.i=Pe),ve.n=o(Q,Fe,ve.n),ve.s=o(O,Oe,ve.s),ve.h=o(ge,Je,ve.h),he!==ve.r&&((ve.r=he)!=null?ce.style.setProperty("grid-template-columns",he):ce.style.removeProperty("grid-template-columns")),ve.d=o(p,Ve,ve.d),ve.l=o(de,it,ve.l),ve.u=o(xe,We,ve.u),ve.c=o(we,et,ve.c),ve.w=o(Re,tt,ve.w),gt!==ve.m&&Ze(Re,"placeholder",ve.m=gt),ve},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0}),B(()=>fe.value=n()),B(()=>se.value=a()),B(()=>ge.value=l()),B(()=>Re.value=L()),W})(),u(un,{get isOpen(){return M()},onClose:()=>U(!1),onProductAdded:W=>{U(!1)}}),u(Hn,{get isOpen(){return R()},onClose:()=>X(!1),onLocationAdded:W=>{l()==="transfer"&&!g()?E(W):y(W),X(!1)}})]}})};var Es=k("<div><div></div><div></div><div></div><div>"),Ls=k("<div><strong>:</strong> "),Ds=k("<div><div><span></span><span></span></div><div><span></span><span> </span></div><div><span></span><span> </span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span>"),Ns=k("<div>");const Ts=t=>{const{t:e}=Qe(),n={display:"flex","justify-content":"space-between","align-items":"center",padding:"0.75rem 0","border-bottom":"1px solid var(--border-color)"},i={"font-weight":"500",color:"var(--text-muted)","font-size":"0.875rem"},a={"font-weight":"600",color:"var(--text-primary)"},s={"text-align":"center","margin-bottom":"2rem"},l={"font-size":"1.5rem","font-weight":"600",color:"var(--text-primary)",margin:"0.5rem 0"},c={color:"var(--text-muted)","font-size":"1rem"},d={"font-size":"1.25rem","font-weight":"600",color:"var(--primary-color)","margin-bottom":"1rem"},y=(P,x)=>({padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500","text-transform":"uppercase","letter-spacing":"0.5px",background:P>x?"#d4edda":"#f8d7da",color:P>x?"#155724":"#721c24"}),g={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},E={"margin-bottom":"1.5rem",padding:"1rem",background:"var(--background-color)","border-radius":"var(--border-radius-sm)",color:"var(--text-secondary)"};if(!t.item)return null;const L=P=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(P),A=P=>new Date(P).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),$=t.item.price*t.item.quantity;return u(It,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return e("inventory.itemDetails")},get children(){return[(()=>{var P=Es(),x=P.firstChild,h=x.nextSibling,M=h.nextSibling,U=M.nextSibling;return o(P,s),o(x,l),r(x,()=>t.item.name),o(h,c),r(h,()=>t.item.category),o(M,d),r(M,()=>L(t.item.price)),r(U,(()=>{var R=F(()=>t.item.quantity>t.item.minStock);return()=>R()?e("inventory.inStock"):e("inventory.lowStockAlert")})()),B(R=>o(U,y(t.item.quantity,t.item.minStock),R)),P})(),(()=>{var P=Ls(),x=P.firstChild,h=x.firstChild;return x.nextSibling,o(P,E),r(x,()=>e("common.description"),h),r(P,()=>t.item.description,null),P})(),(()=>{var P=Ds(),x=P.firstChild,h=x.firstChild,M=h.nextSibling,U=x.nextSibling,R=U.firstChild,X=R.nextSibling,Y=X.firstChild,oe=U.nextSibling,re=oe.firstChild,me=re.nextSibling,ue=me.firstChild,te=oe.nextSibling,ee=te.firstChild,f=ee.nextSibling,ie=te.nextSibling,_=ie.firstChild,m=_.nextSibling,D=ie.nextSibling,v=D.firstChild,C=v.nextSibling,b=D.nextSibling,w=b.firstChild,le=w.nextSibling;return r(h,()=>e("inventory.sku")),r(M,()=>t.item.sku),r(R,()=>e("inventory.quantity")),r(X,()=>t.item.quantity,Y),r(X,()=>e("common.units"),null),r(re,()=>e("inventory.minimumStock")),r(me,()=>t.item.minStock,ue),r(me,()=>e("common.units"),null),r(ee,()=>e("inventory.totalValue")),r(f,()=>L($)),r(_,()=>e("inventory.supplier")),r(m,()=>t.item.supplier),r(v,()=>e("inventory.location")),r(C,()=>t.item.location),r(w,()=>e("common.lastUpdated")),r(le,()=>A(t.item.lastUpdated)),B(S=>{var I=n,H=i,V=a,ne=n,W=i,q=a,ae=n,N=i,G=a,fe=n,Se=i,K=a,J=n,se=i,Q=a,O=n,pe=i,ge=a,T=n,j=i,be=a;return S.e=o(x,I,S.e),S.t=o(h,H,S.t),S.a=o(M,V,S.a),S.o=o(U,ne,S.o),S.i=o(R,W,S.i),S.n=o(X,q,S.n),S.s=o(oe,ae,S.s),S.h=o(re,N,S.h),S.r=o(me,G,S.r),S.d=o(te,fe,S.d),S.l=o(ee,Se,S.l),S.u=o(f,K,S.u),S.c=o(ie,J,S.c),S.w=o(_,se,S.w),S.m=o(m,Q,S.m),S.f=o(D,O,S.f),S.y=o(v,pe,S.y),S.g=o(C,ge,S.g),S.p=o(b,T,S.p),S.b=o(w,j,S.b),S.T=o(le,be,S.T),S},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0}),P})(),(()=>{var P=Ns();return o(P,g),r(P,u(Ae,{variant:"secondary",get onClick(){return t.onClose},get children(){return e("common.close")}}),null),r(P,u(Ae,{variant:"primary",onClick:()=>{console.log("Edit item:",t.item.id)},get children(){return e("common.editItem")}}),null),P})()]}})};var Bs=k("<div>🔄"),Ms=k("<button type=button>×"),Rs=k("<div>⚠️ "),mo=k("<div>"),Os=k("<div><div><input type=text autocomplete=off>"),js=k("<div><div><div><div></div><div><span>: </span><span>•</span><span></span><span>•</span><span></span></div></div><div><div> </div><div>"),zs=k("<span>⚠️ ");const Fs=t=>{const{t:e}=Qe(),[n,i]=Z(""),[a,s]=Z(!1),[l,c]=Z(null),[d,y]=Z([]),[g,E]=Z(!1),[L,A]=Z(-1),[$,P]=Z(null),x=t.searchDelay||300;t.maxResults;const h=async I=>{if(!I.trim()||I.trim().length<3){y([]),t.onSearchResults?.([]);return}try{s(!0),c(null);try{console.log("apiResults",I),t.onSearchResults?.(I)}catch(H){console.warn("API search failed, using local fallback:",H),c("API search failed, showing local results")}}catch(H){const V=H instanceof Error?H.message:"Search failed";c(V),y([]),t.onSearchResults?.([])}finally{s(!1)}},M=I=>{const V=I.target.value;i(V),c(null),console.log(),t.showResults,$()&&clearTimeout($());const ne=setTimeout(()=>{h(V)},x);P(ne)},U=I=>{i(I.name),E(!1),A(-1),t.onInventorySelect?.(I)},R=I=>{if(!(!g()||d().length===0))switch(I.key){case"ArrowDown":I.preventDefault(),A(H=>Math.min(H+1,d().length-1));break;case"ArrowUp":I.preventDefault(),A(H=>Math.max(H-1,-1));break;case"Enter":I.preventDefault(),L()>=0&&d()[L()]&&U(d()[L()]);break;case"Escape":E(!1),A(-1);break}},X=()=>{t.showResults!==!1&&d().length>0&&E(!0)},Y=()=>{setTimeout(()=>{E(!1),A(-1)},150)},oe=()=>{i(""),y([]),c(null),E(!1),A(-1),t.onSearchResults?.([]),$()&&(clearTimeout($()),P(null))},re=I=>Ne.stockLevels.filter(H=>H.inventoryId===I).reduce((H,V)=>H+V.quantity,0),me=I=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(I),ue={position:"relative",width:"100%",...t.style},te={position:"relative",display:"flex","align-items":"center"},ee={width:"100%",padding:"0.75rem","padding-right":n()?"2.5rem":"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)",cursor:t.disabled?"not-allowed":"text",opacity:t.disabled?"0.6":"1",outline:"none",transition:"border-color 0.2s ease"},f={position:"absolute",right:"0.5rem",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"var(--text-muted)","font-size":"1.2rem","line-height":"1",padding:"0.25rem","border-radius":"50%",transition:"all 0.2s ease"},ie={position:"absolute",right:n()?"2.5rem":"0.75rem",top:"50%",transform:"translateY(-50%)","font-size":"0.875rem",color:"var(--text-muted)"},_={position:"absolute",top:"100%",left:"0",right:"0","z-index":"1000","max-height":"300px","overflow-y":"auto",background:"var(--surface-color)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","box-shadow":"0 4px 12px rgba(0,0,0,0.15)","margin-top":"2px"},m=I=>({padding:"0.75rem",cursor:"pointer","border-bottom":"1px solid var(--border-color)",background:I?"var(--strip-color)":"transparent",transition:"background-color 0.2s ease"}),D={display:"flex","justify-content":"space-between","align-items":"center"},v={flex:"1"},C={"font-weight":"500","margin-bottom":"0.25rem",color:"var(--text-primary)"},b={"font-size":"0.875rem",color:"var(--text-muted)",display:"flex",gap:"0.5rem"},w={"text-align":"right","font-size":"0.875rem"},le={padding:"1rem","text-align":"center",color:"var(--text-muted)","font-style":"italic"},S={padding:"0.5rem 1rem",background:"#fff3cd",color:"#856404","border-bottom":"1px solid var(--border-color)","font-size":"0.875rem"};return(()=>{var I=Os(),H=I.firstChild,V=H.firstChild;return V.addEventListener("blur",Y),V.addEventListener("focus",X),V.$$keydown=R,V.$$input=M,r(H,u(Ge,{get when(){return a()},get children(){var ne=Bs();return B(W=>o(ne,ie,W)),ne}}),null),r(H,u(Ge,{get when(){return F(()=>!!n())()&&!a()},get children(){var ne=Ms();return ne.addEventListener("mouseleave",W=>{W.currentTarget.style.background="none",W.currentTarget.style.color="var(--text-muted)"}),ne.addEventListener("mouseenter",W=>{W.currentTarget.style.background="var(--border-color)",W.currentTarget.style.color="var(--text-primary)"}),ne.$$click=oe,B(W=>{var q=f,ae=e("common.clear","Clear search");return W.e=o(ne,q,W.e),ae!==W.t&&Ze(ne,"title",W.t=ae),W},{e:void 0,t:void 0}),ne}}),null),r(I,u(Ge,{get when(){return g()&&t.showResults!==!1},get children(){var ne=mo();return r(ne,u(Ge,{get when(){return l()},get children(){var W=Rs();return W.firstChild,o(W,S),r(W,l,null),W}}),null),r(ne,u(Ge,{get when(){return d().length>0},get fallback(){return F(()=>!!(n()&&!a()))()&&(()=>{var W=mo();return o(W,le),r(W,()=>e("inventory.noInventorysFound","No inventorys found matching your search.")),W})()},get children(){return u(mt,{get each(){return d()},children:(W,q)=>{const ae=re(W.id),N=ae<=W.minStockLevel;return(()=>{var G=js(),fe=G.firstChild,Se=fe.firstChild,K=Se.firstChild,J=K.nextSibling,se=J.firstChild,Q=se.firstChild,O=se.nextSibling,pe=O.nextSibling,ge=pe.nextSibling,T=ge.nextSibling,j=Se.nextSibling,be=j.firstChild,ye=be.firstChild,ce=be.nextSibling;return G.addEventListener("mouseenter",()=>A(q())),G.$$click=()=>U(W),o(fe,D),o(Se,v),o(K,C),r(K,()=>W.name),o(J,b),r(se,()=>e("inventory.sku","SKU"),Q),r(se,()=>W.sku,null),r(pe,()=>W.category),r(T,()=>me(W.unitCost)),o(j,w),be.style.setProperty("font-weight","600"),(N?"#f44336":"var(--text-primary)")!=null?be.style.setProperty("color",N?"#f44336":"var(--text-primary)"):be.style.removeProperty("color"),r(be,ae,ye),r(be,()=>W.unitOfMeasure,null),ce.style.setProperty("color","var(--text-muted)"),r(ce,()=>N?(()=>{var z=zs();return z.firstChild,z.style.setProperty("color","#f44336"),r(z,()=>e("inventory.lowStock","Low Stock"),null),z})():e("inventory.inStock","In Stock")),B(z=>o(G,m(q()===L()),z)),G})()}})}}),null),B(W=>o(ne,_,W)),ne}}),null),B(ne=>{var W=ue,q=te,ae=ee,N=t.placeholder||e("inventory.searchInventorys","Search inventorys by name, SKU, or category..."),G=t.disabled;return ne.e=o(I,W,ne.e),ne.t=o(H,q,ne.t),ne.a=o(V,ae,ne.a),N!==ne.o&&Ze(V,"placeholder",ne.o=N),G!==ne.i&&(V.disabled=ne.i=G),ne},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),B(()=>V.value=n()),I})()};vt(["input","keydown","click"]);var qs=k("<div>"),$n=k("<div><span>:</span><span>"),Us=k("<div><button> "),Vs=k("<div><div><div><h3></h3><div>: </div></div><div><span></span></div></div><div><h4></h4><div><span>:</span><span></span></div><div><span>:</span><span> </span></div><div><span>:</span><span></span></div><div><span> <!>:</span><span></span></div></div><div><h4></h4><div><span>:</span><span></span></div></div><div><h4></h4><div><span>:</span><span></span></div><div><span>:</span><span>");const Ys=t=>{const{t:e}=Qe(),n=A=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(A),i=A=>new Date(A).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),a=A=>({in:{bg:"#e8f5e8",color:"#2d7d32"},out:{bg:"#ffebee",color:"#d32f2f"},transfer:{bg:"#e3f2fd",color:"#1976d2"},adjustment:{bg:"#fff3e0",color:"#f57c00"}})[A]||{bg:"#f5f5f5",color:"#666"},s=A=>({in:"📦",out:"📤",transfer:"🔄",adjustment:"⚖️"})[A]||"📋",l=()=>t.movement,c={display:"flex","justify-content":"space-between","align-items":"center",padding:"0.75rem 0","border-bottom":"1px solid var(--border-color)"},d={"font-weight":"500",color:"var(--text-muted)","font-size":"0.875rem"},y={"font-weight":"600",color:"var(--text-primary)","text-align":"right"},g={"margin-bottom":"1.5rem"},E={"font-weight":"600","margin-bottom":"0.75rem","padding-bottom":"0.5rem","border-bottom":"2px solid var(--border-color)"},L=A=>({display:"inline-flex","align-items":"center",gap:"0.5rem",padding:"0.5rem 1rem","border-radius":"9999px","font-size":"0.875rem","font-weight":"600","text-transform":"uppercase","letter-spacing":"0.5px",background:a(A).bg,color:a(A).color});return u(It,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return e("inventory.movementDetails")},size:"lg",get children(){return u(Ge,{get when(){return l()},get fallback(){return(()=>{var A=qs();return r(A,()=>e("common.noDataFound")),A})()},children:A=>(()=>{var $=Vs(),P=$.firstChild,x=P.firstChild,h=x.firstChild,M=h.nextSibling,U=M.firstChild,R=x.nextSibling,X=R.firstChild,Y=P.nextSibling,oe=Y.firstChild,re=oe.nextSibling,me=re.firstChild,ue=me.firstChild,te=me.nextSibling,ee=re.nextSibling,f=ee.firstChild,ie=f.firstChild,_=f.nextSibling,m=_.firstChild,D=ee.nextSibling,v=D.firstChild,C=v.firstChild,b=v.nextSibling,w=D.nextSibling,le=w.firstChild,S=le.firstChild,I=S.nextSibling;I.nextSibling;var H=le.nextSibling,V=Y.nextSibling,ne=V.firstChild,W=ne.nextSibling,q=W.firstChild,ae=q.firstChild,N=q.nextSibling,G=V.nextSibling,fe=G.firstChild,Se=fe.nextSibling,K=Se.firstChild,J=K.firstChild,se=K.nextSibling,Q=Se.nextSibling,O=Q.firstChild,pe=O.firstChild,ge=O.nextSibling;return P.style.setProperty("display","flex"),P.style.setProperty("justify-content","space-between"),P.style.setProperty("align-items","center"),P.style.setProperty("margin-bottom","1.5rem"),P.style.setProperty("padding-bottom","1rem"),P.style.setProperty("border-bottom","2px solid var(--border-color)"),h.style.setProperty("margin","0 0 0.5rem 0"),h.style.setProperty("font-size","1.25rem"),r(h,()=>A().productName),M.style.setProperty("font-size","0.875rem"),M.style.setProperty("color","var(--text-muted)"),r(M,()=>e("inventory.sku"),U),r(M,()=>A().productSku,null),X.style.setProperty("font-size","1.2rem"),r(X,()=>s(A().movementType)),r(R,()=>A().movementType,null),r(oe,()=>e("inventory.movementInformation")),r(me,()=>e("inventory.referenceNumber"),ue),r(te,()=>A().referenceNumber),r(f,()=>e("common.quantity"),ie),r(_,()=>A().quantity,m),r(_,()=>e("common.units"),null),r(v,()=>e("inventory.unitCost"),C),r(b,()=>n(A().unitCost)),r(le,()=>e("common.total"),S),r(le,()=>e("common.value"),I),r(H,()=>n(A().totalCost)),r(ne,()=>e("inventory.locationInformation")),r(q,()=>e("inventory.location"),ae),r(N,()=>A().locationName),r(V,u(Ge,{get when(){return A().fromLocationName},get children(){var T=$n(),j=T.firstChild,be=j.firstChild,ye=j.nextSibling;return r(j,()=>e("common.from"),be),r(ye,()=>A().fromLocationName),B(ce=>{var z=c,p=d,de=y;return ce.e=o(T,z,ce.e),ce.t=o(j,p,ce.t),ce.a=o(ye,de,ce.a),ce},{e:void 0,t:void 0,a:void 0}),T}}),null),r(V,u(Ge,{get when(){return A().invoiceId},get children(){var T=$n(),j=T.firstChild,be=j.firstChild,ye=j.nextSibling;return r(j,()=>e("common.invoice"),be),r(ye,()=>A().invoiceId),B(ce=>{var z=c,p=d,de={...y,color:"var(--primary-color)"};return ce.e=o(T,z,ce.e),ce.t=o(j,p,ce.t),ce.a=o(ye,de,ce.a),ce},{e:void 0,t:void 0,a:void 0}),T}}),null),r(fe,()=>e("common.details")),r(K,()=>e("common.createdBy"),J),r(se,()=>A().createdBy),r(O,()=>e("common.created"),pe),r(ge,()=>i(A().createdDate)),r(G,u(Ge,{get when(){return A().notes},get children(){var T=$n(),j=T.firstChild,be=j.firstChild,ye=j.nextSibling;return r(j,()=>e("common.notes"),be),r(ye,()=>A().notes),B(ce=>{var z={...c,"border-bottom":"none"},p=d,de={...y,"font-style":"italic","max-width":"60%","white-space":"pre-wrap"};return ce.e=o(T,z,ce.e),ce.t=o(j,p,ce.t),ce.a=o(ye,de,ce.a),ce},{e:void 0,t:void 0,a:void 0}),T}}),null),r($,u(Ge,{get when(){return t.onEdit},get children(){var T=Us(),j=T.firstChild,be=j.firstChild;return T.style.setProperty("display","flex"),T.style.setProperty("justify-content","flex-end"),T.style.setProperty("margin-top","1.5rem"),T.style.setProperty("padding-top","1rem"),T.style.setProperty("border-top","1px solid var(--border-color)"),j.addEventListener("mouseleave",ye=>{ye.currentTarget.style.transform="translateY(0)",ye.currentTarget.style.boxShadow="none"}),j.addEventListener("mouseenter",ye=>{ye.currentTarget.style.transform="translateY(-1px)",ye.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.15)"}),j.$$click=()=>t.onEdit?.(A()),j.style.setProperty("padding","0.5rem 1.5rem"),j.style.setProperty("border-radius","var(--border-radius-sm)"),j.style.setProperty("border","1px solid var(--primary-color)"),j.style.setProperty("background","var(--primary-color)"),j.style.setProperty("color","white"),j.style.setProperty("cursor","pointer"),j.style.setProperty("font-weight","500"),j.style.setProperty("transition","all 0.2s ease"),r(j,()=>e("common.edit"),be),r(j,()=>e("inventory.movement"),null),T}}),null),B(T=>{var j=L(A().movementType),be=g,ye=E,ce=c,z=d,p=y,de=c,_e=d,$e={...y,"font-size":"1.1rem",color:"var(--primary-color)"},xe=c,we=d,Re=y,Ie=c,ve=d,ke={...y,"font-size":"1.1rem",color:"var(--primary-color)"},De=g,Be=E,Me=c,Pe=d,Fe=y,Oe=g,Je=E,he=c,Ve=d,it=y,We=c,et=d,tt=y;return T.e=o(R,j,T.e),T.t=o(Y,be,T.t),T.a=o(oe,ye,T.a),T.o=o(re,ce,T.o),T.i=o(me,z,T.i),T.n=o(te,p,T.n),T.s=o(ee,de,T.s),T.h=o(f,_e,T.h),T.r=o(_,$e,T.r),T.d=o(D,xe,T.d),T.l=o(v,we,T.l),T.u=o(b,Re,T.u),T.c=o(w,Ie,T.c),T.w=o(le,ve,T.w),T.m=o(H,ke,T.m),T.f=o(V,De,T.f),T.y=o(ne,Be,T.y),T.g=o(W,Me,T.g),T.p=o(q,Pe,T.p),T.b=o(N,Fe,T.b),T.T=o(G,Oe,T.T),T.A=o(fe,Je,T.A),T.O=o(Se,he,T.O),T.I=o(K,Ve,T.I),T.S=o(se,it,T.S),T.W=o(Q,We,T.W),T.C=o(O,et,T.C),T.B=o(ge,tt,T.B),T},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0,O:void 0,I:void 0,S:void 0,W:void 0,C:void 0,B:void 0}),$})()})}})};vt(["click"]);var mr=k("<div>"),Ws=k("<div><label></label><select><option value>"),Hs=k("<div><div><span>:</span><span>$"),Gs=k("<form><div><label></label><select><option value=in></option><option value=out></option><option value=transfer></option><option value=adjustment></option></select></div><div><label></label><select><option value></option></select></div><div><label></label><input type=number min=0.01 step=0.01></div><div><label></label><input type=number min=0 step=0.01></div><div><label></label><input type=text></div><div><label> (<!>)</label><input type=text></div><div><label> (<!>)</label><textarea></textarea></div><div><button type=button></button><button type=submit>"),vo=k("<option> (<!>)");const Js=t=>{const{t:e}=Qe(),[n,i]=Z("in"),[a,s]=Z(""),[l,c]=Z(""),[d,y]=Z(""),[g,E]=Z(""),[L,A]=Z(""),[$,P]=Z(""),[x,h]=Z(""),[M,U]=Z(!1),[R,X]=Z({});lr(()=>{const ie=t.movement;ie&&t.isOpen&&(i(ie.movementType),s(ie.quantity.toString()),c(ie.unitCost.toString()),y(ie.referenceNumber),E(ie.notes),P(ie.locationId),A(ie.fromLocationId||""),h(ie.invoiceId||""),X({}))});const Y=()=>{const ie={};return(!a()||parseFloat(a())<=0)&&(ie.quantity=e("forms.requiredField")),(!l()||parseFloat(l())<0)&&(ie.unitCost=e("forms.requiredField")),d().trim()||(ie.referenceNumber=e("forms.requiredField")),$()||(ie.locationId=e("forms.requiredField")),n()==="transfer"&&!L()&&(ie.fromLocationId=e("forms.requiredField")),X(ie),Object.keys(ie).length===0},oe=async ie=>{if(ie.preventDefault(),!(!Y()||!t.movement)){U(!0);try{const _=t.movement,m=Ne.getProductById(_.productId),D=Ne.getLocationById($()),v=L()?Ne.getLocationById(L()):null;if(!m||!D)throw new Error("Product or location not found");const C={..._,movementType:n(),quantity:parseFloat(a()),unitCost:parseFloat(l()),totalCost:parseFloat(a())*parseFloat(l()),referenceNumber:d().trim(),notes:g().trim(),locationId:$(),locationName:D.name,fromLocationId:L()||void 0,fromLocationName:v?.name,invoiceId:x().trim()||void 0,lastModified:new Date().toISOString()};Ne.updateMovement(_.id,C),t.onMovementUpdated?.(),t.onClose(),re()}catch(_){console.error("Error updating movement:",_),X({submit:e("forms.saveError")})}finally{U(!1)}}},re=()=>{i("in"),s(""),c(""),y(""),E(""),A(""),P(""),h(""),X({})},me=()=>{re(),t.onClose()},ue={width:"100%",padding:"0.5rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",transition:"border-color 0.2s ease"},te={display:"block","margin-bottom":"0.25rem","font-weight":"500","font-size":"0.875rem"},ee={color:"#d32f2f","font-size":"0.75rem","margin-top":"0.25rem"},f={"margin-bottom":"1rem"};return u(It,{get isOpen(){return t.isOpen},onClose:me,get title(){return e("inventory.editMovement","Edit Movement")},get children(){return u(Ge,{get when(){return t.movement},get fallback(){return(()=>{var ie=mr();return r(ie,()=>e("common.loading")),ie})()},get children(){var ie=Gs(),_=ie.firstChild,m=_.firstChild,D=m.nextSibling,v=D.firstChild,C=v.nextSibling,b=C.nextSibling,w=b.nextSibling,le=_.nextSibling,S=le.firstChild,I=S.nextSibling,H=I.firstChild,V=le.nextSibling,ne=V.firstChild,W=ne.nextSibling,q=V.nextSibling,ae=q.firstChild,N=ae.nextSibling,G=q.nextSibling,fe=G.firstChild,Se=fe.nextSibling,K=G.nextSibling,J=K.firstChild,se=J.firstChild,Q=se.nextSibling;Q.nextSibling;var O=J.nextSibling,pe=K.nextSibling,ge=pe.firstChild,T=ge.firstChild,j=T.nextSibling;j.nextSibling;var be=ge.nextSibling,ye=pe.nextSibling,ce=ye.firstChild,z=ce.nextSibling;return ie.addEventListener("submit",oe),r(m,()=>e("inventory.movementType")),D.addEventListener("change",p=>i(p.target.value)),r(v,()=>e("inventory.stockIn")),r(C,()=>e("inventory.stockOut")),r(b,()=>e("inventory.transfer")),r(w,()=>e("inventory.adjustment")),r(S,(()=>{var p=F(()=>n()==="transfer");return()=>p()?e("inventory.toLocation"):e("inventory.location")})()),I.addEventListener("change",p=>P(p.target.value)),r(H,()=>e("modals.selectLocation")),r(I,u(mt,{get each(){return Ne.getActiveLocations()},children:p=>(()=>{var de=vo(),_e=de.firstChild,$e=_e.nextSibling;return $e.nextSibling,r(de,()=>p.name,_e),r(de,()=>p.type,$e),B(()=>de.value=p.id),de})()}),null),r(le,u(Ge,{get when(){return R().locationId},get children(){var p=mr();return r(p,()=>R().locationId),B(de=>o(p,ee,de)),p}}),null),r(ie,u(Ge,{get when(){return n()==="transfer"},get children(){var p=Ws(),de=p.firstChild,_e=de.nextSibling,$e=_e.firstChild;return r(de,()=>e("inventory.fromLocation")),_e.addEventListener("change",xe=>A(xe.target.value)),r($e,()=>e("modals.selectLocation")),r(_e,u(mt,{get each(){return Ne.getActiveLocations().filter(xe=>xe.id!==$())},children:xe=>(()=>{var we=vo(),Re=we.firstChild,Ie=Re.nextSibling;return Ie.nextSibling,r(we,()=>xe.name,Re),r(we,()=>xe.type,Ie),B(()=>we.value=xe.id),we})()}),null),r(p,u(Ge,{get when(){return R().fromLocationId},get children(){var xe=mr();return r(xe,()=>R().fromLocationId),B(we=>o(xe,ee,we)),xe}}),null),B(xe=>{var we=f,Re=te,Ie={...ue,"border-color":R().fromLocationId?"#d32f2f":"var(--border-color)"},ve=M();return xe.e=o(p,we,xe.e),xe.t=o(de,Re,xe.t),xe.a=o(_e,Ie,xe.a),ve!==xe.o&&(_e.disabled=xe.o=ve),xe},{e:void 0,t:void 0,a:void 0,o:void 0}),B(()=>_e.value=L()),p}}),V),r(ne,()=>e("common.quantity")),W.$$input=p=>s(p.target.value),r(V,u(Ge,{get when(){return R().quantity},get children(){var p=mr();return r(p,()=>R().quantity),B(de=>o(p,ee,de)),p}}),null),r(ae,()=>e("inventory.unitCost")),N.$$input=p=>c(p.target.value),r(q,u(Ge,{get when(){return R().unitCost},get children(){var p=mr();return r(p,()=>R().unitCost),B(de=>o(p,ee,de)),p}}),null),r(ie,u(Ge,{get when(){return F(()=>!!a())()&&l()},get children(){var p=Hs(),de=p.firstChild,_e=de.firstChild,$e=_e.firstChild,xe=_e.nextSibling;return xe.firstChild,de.style.setProperty("display","flex"),de.style.setProperty("justify-content","space-between"),_e.style.setProperty("font-weight","500"),r(_e,()=>e("common.total"),$e),xe.style.setProperty("font-weight","600"),xe.style.setProperty("color","var(--primary-color)"),r(xe,()=>(parseFloat(a()||"0")*parseFloat(l()||"0")).toFixed(2),null),B(we=>o(p,{...f,padding:"0.75rem",background:"var(--surface-color)","border-radius":"var(--border-radius-sm)"},we)),p}}),G),r(fe,()=>e("inventory.referenceNumber")),Se.$$input=p=>y(p.target.value),r(G,u(Ge,{get when(){return R().referenceNumber},get children(){var p=mr();return r(p,()=>R().referenceNumber),B(de=>o(p,ee,de)),p}}),null),r(J,()=>e("inventory.invoiceNumber"),se),r(J,()=>e("common.optional"),Q),O.$$input=p=>h(p.target.value),r(ge,()=>e("common.notes"),T),r(ge,()=>e("common.optional"),j),be.$$input=p=>E(p.target.value),r(ie,u(Ge,{get when(){return R().submit},get children(){var p=mr();return r(p,()=>R().submit),B(de=>o(p,{...ee,"margin-bottom":"1rem"},de)),p}}),ye),ye.style.setProperty("display","flex"),ye.style.setProperty("gap","1rem"),ye.style.setProperty("justify-content","flex-end"),ce.$$click=me,ce.style.setProperty("padding","0.5rem 1rem"),ce.style.setProperty("border","1px solid var(--border-color)"),ce.style.setProperty("border-radius","var(--border-radius-sm)"),ce.style.setProperty("background","white"),ce.style.setProperty("cursor","pointer"),r(ce,()=>e("common.cancel")),z.style.setProperty("padding","0.5rem 1rem"),z.style.setProperty("border","none"),z.style.setProperty("border-radius","var(--border-radius-sm)"),z.style.setProperty("background","var(--primary-color)"),z.style.setProperty("color","white"),z.style.setProperty("cursor","pointer"),z.style.setProperty("font-weight","500"),r(z,(()=>{var p=F(()=>!!M());return()=>p()?e("modals.processing"):e("inventory.updateMovement","Update Movement")})()),B(p=>{var de=f,_e=te,$e=ue,xe=M(),we=f,Re=te,Ie={...ue,"border-color":R().locationId?"#d32f2f":"var(--border-color)"},ve=M(),ke=f,De=te,Be={...ue,"border-color":R().quantity?"#d32f2f":"var(--border-color)"},Me=e("modals.enterQuantity"),Pe=M(),Fe=f,Oe=te,Je={...ue,"border-color":R().unitCost?"#d32f2f":"var(--border-color)"},he=e("modals.enterCost"),Ve=M(),it=f,We=te,et={...ue,"border-color":R().referenceNumber?"#d32f2f":"var(--border-color)"},tt=e("modals.enterReference"),gt=M(),pt=f,lt=te,Le=ue,Ee=e("inventory.invoiceNumber"),Ue=M(),He=f,ot=te,Ye={...ue,resize:"vertical","min-height":"80px"},Ce=e("modals.addNotes"),ze=M(),Ke=M(),rt=M();return p.e=o(_,de,p.e),p.t=o(m,_e,p.t),p.a=o(D,$e,p.a),xe!==p.o&&(D.disabled=p.o=xe),p.i=o(le,we,p.i),p.n=o(S,Re,p.n),p.s=o(I,Ie,p.s),ve!==p.h&&(I.disabled=p.h=ve),p.r=o(V,ke,p.r),p.d=o(ne,De,p.d),p.l=o(W,Be,p.l),Me!==p.u&&Ze(W,"placeholder",p.u=Me),Pe!==p.c&&(W.disabled=p.c=Pe),p.w=o(q,Fe,p.w),p.m=o(ae,Oe,p.m),p.f=o(N,Je,p.f),he!==p.y&&Ze(N,"placeholder",p.y=he),Ve!==p.g&&(N.disabled=p.g=Ve),p.p=o(G,it,p.p),p.b=o(fe,We,p.b),p.T=o(Se,et,p.T),tt!==p.A&&Ze(Se,"placeholder",p.A=tt),gt!==p.O&&(Se.disabled=p.O=gt),p.I=o(K,pt,p.I),p.S=o(J,lt,p.S),p.W=o(O,Le,p.W),Ee!==p.C&&Ze(O,"placeholder",p.C=Ee),Ue!==p.B&&(O.disabled=p.B=Ue),p.v=o(pe,He,p.v),p.k=o(ge,ot,p.k),p.x=o(be,Ye,p.x),Ce!==p.j&&Ze(be,"placeholder",p.j=Ce),ze!==p.q&&(be.disabled=p.q=ze),Ke!==p.z&&(ce.disabled=p.z=Ke),rt!==p.P&&(z.disabled=p.P=rt),p},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0,O:void 0,I:void 0,S:void 0,W:void 0,C:void 0,B:void 0,v:void 0,k:void 0,x:void 0,j:void 0,q:void 0,z:void 0,P:void 0}),B(()=>D.value=n()),B(()=>I.value=$()),B(()=>W.value=a()),B(()=>N.value=l()),B(()=>Se.value=d()),B(()=>O.value=x()),B(()=>be.value=g()),ie}})}})};vt(["input","click"]);var Qs=k("<div><div></div><div><div><label></label><select><option value=all></option><option value=in></option><option value=out></option><option value=transfer></option><option value=adjustment></option></select></div><div><label></label><input type=date></div><div><label></label><input type=date></div></div><div><div><div></div><div></div></div><div><div></div><div></div></div><div><div></div><div></div></div><div><div></div><div></div></div><div><div></div><div></div></div><div><div></div><div>"),Ks=k("<div><h2>"),go=k("<div><label></label><select><option value>"),Zs=k("<option> (<!>)"),Xs=k("<option>"),ec=k("<div><div>📦</div><div></div><div>"),tc=k("<div><div><div><div><span></span><h3></h3><span></span></div><div> • </div></div><div><div></div><div> <!> @ </div></div></div><div><div><div><span>:</span><span></span></div><div><span>:</span><span></span></div></div><div><div><span>:</span><span>"),rc=k("<span>"),nc=k("<span>• <!>: "),po=k("<div><span>:</span><span>"),oc=k("<div><div><span>:</span><select><option value=10>10</option><option value=25>25</option><option value=50>50</option><option value=100>100</option></select><span></span></div><div><div><span>:</span><input type=number min=1><span> "),ic=k("<span>..."),lc=k("<button>");const ac=t=>{const{t:e}=Qe(),[n,i]=Z(""),[a,s]=Z(""),[l,c]=Z("all"),[d,y]=Z({start:"",end:""}),[g,E]=Z(""),[L,A]=Z(""),[$,P]=Z(1),[x,h]=Z(25),[M,U]=Z(null),[R,X]=Z(!1),[Y,oe]=Z(!1),re=qe(()=>{let Q=Ne.movements;if(t.filterBy==="product"&&t.filterId?Q=Q.filter(O=>O.productId===t.filterId):t.filterBy==="location"&&t.filterId&&(Q=Q.filter(O=>O.locationId===t.filterId)),n()&&(Q=Q.filter(O=>O.productId===n())),a()&&(Q=Q.filter(O=>O.locationId===a())),l()!=="all"&&(Q=Q.filter(O=>O.movementType===l())),d().start&&(Q=Q.filter(O=>O.createdDate>=d().start)),d().end&&(Q=Q.filter(O=>O.createdDate<=d().end+"T23:59:59Z")),g()){const O=g().toLowerCase();Q=Q.filter(pe=>pe.productName.toLowerCase().includes(O)||pe.productSku.toLowerCase().includes(O)||pe.locationName.toLowerCase().includes(O)||pe.referenceNumber.toLowerCase().includes(O)||pe.notes.toLowerCase().includes(O)||pe.createdBy.toLowerCase().includes(O)||pe.invoiceId&&pe.invoiceId.toLowerCase().includes(O)||pe.fromLocationName&&pe.fromLocationName.toLowerCase().includes(O)||pe.movementType.toLowerCase().includes(O))}return Q.sort((O,pe)=>new Date(pe.createdDate).getTime()-new Date(O.createdDate).getTime())});lr(()=>{n(),a(),l(),d(),g(),P(1)});const me=qe(()=>{const Q=($()-1)*x(),O=Q+x();return re().slice(Q,O)}),ue=qe(()=>Math.ceil(re().length/x())),te=qe(()=>{const Q=re();return{total:Q.length,stockIn:Q.filter(O=>O.movementType==="in").length,stockOut:Q.filter(O=>O.movementType==="out").length,transfers:Q.filter(O=>O.movementType==="transfer").length,adjustments:Q.filter(O=>O.movementType==="adjustment").length,totalValue:Q.reduce((O,pe)=>O+pe.totalCost,0)}}),ee={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"2rem"},f={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem","margin-bottom":"2rem",padding:"1.5rem",background:"var(--surface-color)","border-radius":"var(--border-radius)",border:"1px solid var(--border-color)"},ie={width:"100%",padding:"0.5rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)",background:"var(--background-color)",cursor:"pointer"},_={width:"100%",padding:"0.5rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)",background:"var(--background-color)"},m={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem","margin-bottom":"2rem"},D={padding:"1rem",background:"var(--surface-color)","border-radius":"var(--border-radius-sm)",border:"1px solid var(--border-color)","text-align":"center"},v={"font-size":"1.5rem","font-weight":"700",color:"var(--primary-color)","margin-bottom":"0.5rem"},C={"font-size":"0.875rem",color:"var(--text-muted)","font-weight":"500"},b={padding:"1.5rem","margin-bottom":"1rem",background:"var(--surface-color)","border-radius":"var(--border-radius)",border:"1px solid var(--border-color)",transition:"all 0.2s ease"},w={display:"flex","justify-content":"space-between","align-items":"flex-start","margin-bottom":"1rem"},le=Q=>({padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500","text-transform":"uppercase","letter-spacing":"0.5px",background:q(Q).bg,color:q(Q).color}),S={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem","margin-bottom":"1rem"},I={display:"flex","justify-content":"space-between","align-items":"center",padding:"0.5rem 0","border-bottom":"1px solid var(--border-color)"},H={"font-weight":"500",color:"var(--text-muted)","font-size":"0.875rem"},V={"font-weight":"600",color:"var(--text-primary)"},ne={display:"flex","justify-content":"space-between","align-items":"center","margin-top":"2rem",padding:"1rem",background:"var(--surface-color)","border-radius":"var(--border-radius)",border:"1px solid var(--border-color)"},W=Q=>({padding:"0.25rem 0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)",background:Q?"var(--primary-color)":"var(--surface-color)",color:Q?"white":"var(--text-primary)",cursor:"pointer","font-weight":"500","font-size":"0.875rem",transition:"all 0.2s ease"});function q(Q){return{in:{bg:"#e8f5e8",color:"#2d7d32"},out:{bg:"#ffebee",color:"#d32f2f"},transfer:{bg:"#e3f2fd",color:"#1976d2"},adjustment:{bg:"#fff3e0",color:"#f57c00"}}[Q]||{bg:"#f5f5f5",color:"#666"}}const ae=Q=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Q),N=Q=>new Date(Q).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),G=Q=>({in:"📦",out:"📤",transfer:"🔄",adjustment:"⚖️"})[Q]||"📋",fe=()=>{i(""),s(""),c("all"),y({start:"",end:""}),E(""),P(1)},Se=Q=>{U(Q),X(!0)},K=Q=>{U(Q),X(!1),oe(!0)},J=()=>{oe(!1),U(null)},se=async Q=>{a()&&(Q+=" "+a()),Mn(l())&&(Q+=" "+Mn(l()));const O=await fr.getInventory(Q);console.log("inventoryApi.getInventory",Q);const pe=Object.keys(O).slice(0,900),ge=[],T=j=>{let be=O;be[j]?.products&&be[j]?.products?.map(ye=>{let ce=Ko(be[j]?.type),z=ye?.price*1||ye?.unitCost*1,p=ye?.qty*1||ye?.quantity*1;z=isNaN(z)?0:z,p=isNaN(p)?0:p;let de={id:be[j]?.ssg_inventory_key,productId:ye?.product?.id,productName:ye?.product?.label,productSku:ye?.product?.code,locationId:be[j]?.store,locationName:be[j]?.store,location:be[j]?.store,movementType:ce,quantity:p,unitCost:z,totalCost:z*1*p,minStock:10,referenceNumber:"PO-001",notes:be[j]?.description||be[j]?.notes,createdBy:"admin",createdDate:be[j]?.createDate?new Date(be[j]?.createDate).toISOString():new Date().toISOString(),invoiceId:be[j]?.invoice};ge.push(de)})};pe.map(T),Ne.updMovements(ge)};return(()=>{var Q=Qs(),O=Q.firstChild,pe=O.nextSibling,ge=pe.firstChild,T=ge.firstChild,j=T.nextSibling,be=j.firstChild,ye=be.nextSibling,ce=ye.nextSibling,z=ce.nextSibling,p=z.nextSibling,de=ge.nextSibling,_e=de.firstChild,$e=_e.nextSibling,xe=de.nextSibling,we=xe.firstChild,Re=we.nextSibling,Ie=pe.nextSibling,ve=Ie.firstChild,ke=ve.firstChild,De=ke.nextSibling,Be=ve.nextSibling,Me=Be.firstChild,Pe=Me.nextSibling,Fe=Be.nextSibling,Oe=Fe.firstChild,Je=Oe.nextSibling,he=Fe.nextSibling,Ve=he.firstChild,it=Ve.nextSibling,We=he.nextSibling,et=We.firstChild,tt=et.nextSibling,gt=We.nextSibling,pt=gt.firstChild,lt=pt.nextSibling;return r(Q,(()=>{var Le=F(()=>!t.filterBy);return()=>Le()&&(()=>{var Ee=Ks(),Ue=Ee.firstChild;return o(Ee,ee),Ue.style.setProperty("margin","0"),Ue.style.setProperty("font-size","1.5rem"),r(Ue,()=>e("inventory.movements")),r(Ee,u(Ae,{variant:"outline",onClick:fe,get children(){return e("common.clearFilters")}}),null),Ee})()})(),O),r(Q,u(Fs,{filters:{selectedLocation:a,movementType:l},onSearchResults:Le=>{A(Le),se(Le)},get placeholder(){return e("inventory.searchProductsStock","Search inventories...")},showResults:!1,maxResults:20}),O),O.style.setProperty("margin","20px"),o(pe,f),r(pe,(()=>{var Le=F(()=>!t.filterBy);return()=>Le()&&[(()=>{var Ee=go(),Ue=Ee.firstChild,He=Ue.nextSibling,ot=He.firstChild;return Ue.style.setProperty("display","block"),Ue.style.setProperty("margin-bottom","0.5rem"),Ue.style.setProperty("font-weight","500"),r(Ue,()=>e("inventory.product")),He.addEventListener("change",Ye=>i(Ye.target.value)),r(ot,()=>e("inventory.allProducts")),r(He,u(mt,{get each(){return Ne.products},children:Ye=>(()=>{var Ce=Zs(),ze=Ce.firstChild,Ke=ze.nextSibling;return Ke.nextSibling,r(Ce,()=>Ye.name,ze),r(Ce,()=>Ye.sku,Ke),B(()=>Ce.value=Ye.id),Ce})()}),null),B(Ye=>o(He,ie,Ye)),B(()=>He.value=n()),Ee})(),(()=>{var Ee=go(),Ue=Ee.firstChild,He=Ue.nextSibling,ot=He.firstChild;return Ue.style.setProperty("display","block"),Ue.style.setProperty("margin-bottom","0.5rem"),Ue.style.setProperty("font-weight","500"),r(Ue,()=>e("inventory.location")),He.addEventListener("change",Ye=>s(Ye.target.value)),r(ot,()=>e("inventory.allLocations")),r(He,u(mt,{get each(){return Ne.locations},children:Ye=>(()=>{var Ce=Xs();return r(Ce,()=>Ye.name),B(()=>Ce.value=Ye.id),Ce})()}),null),B(Ye=>o(He,ie,Ye)),B(()=>He.value=a()),Ee})()]})(),ge),T.style.setProperty("display","block"),T.style.setProperty("margin-bottom","0.5rem"),T.style.setProperty("font-weight","500"),r(T,()=>e("inventory.movementType")),j.addEventListener("change",Le=>{c(Le.target.value),se(L())}),r(be,()=>e("inventory.allTypes")),r(ye,()=>e("inventory.stockIn")),r(ce,()=>e("inventory.stockOut")),r(z,()=>e("inventory.transfer")),r(p,()=>e("inventory.adjustment")),_e.style.setProperty("display","block"),_e.style.setProperty("margin-bottom","0.5rem"),_e.style.setProperty("font-weight","500"),r(_e,()=>e("common.startDate")),$e.addEventListener("change",Le=>y(Ee=>({...Ee,start:Le.target.value}))),we.style.setProperty("display","block"),we.style.setProperty("margin-bottom","0.5rem"),we.style.setProperty("font-weight","500"),r(we,()=>e("common.endDate")),Re.addEventListener("change",Le=>y(Ee=>({...Ee,end:Le.target.value}))),o(Ie,m),r(ke,()=>te().total),r(De,()=>e("inventory.totalMovements")),r(Me,()=>te().stockIn),r(Pe,()=>e("inventory.stockIn")),r(Oe,()=>te().stockOut),r(Je,()=>e("inventory.stockOut")),r(Ve,()=>te().transfers),r(it,()=>e("inventory.transfers")),r(et,()=>te().adjustments),r(tt,()=>e("inventory.adjustments")),r(pt,()=>ae(te().totalValue)),r(lt,()=>e("inventory.totalValue")),r(Q,(()=>{var Le=F(()=>me().length===0);return()=>Le()?(()=>{var Ee=ec(),Ue=Ee.firstChild,He=Ue.nextSibling,ot=He.nextSibling;return Ee.style.setProperty("text-align","center"),Ee.style.setProperty("padding","3rem"),Ee.style.setProperty("color","var(--text-muted)"),Ee.style.setProperty("background","var(--surface-color)"),Ee.style.setProperty("border-radius","var(--border-radius)"),Ee.style.setProperty("border","1px solid var(--border-color)"),Ue.style.setProperty("font-size","1.5rem"),Ue.style.setProperty("margin-bottom","1rem"),He.style.setProperty("font-size","1.1rem"),He.style.setProperty("margin-bottom","0.5rem"),r(He,()=>e("inventory.noMovementsFound")),ot.style.setProperty("font-size","0.875rem"),r(ot,()=>e("inventory.tryAdjustingFilters")),Ee})():[u(mt,{get each(){return me()},children:Ee=>(()=>{var Ue=tc(),He=Ue.firstChild,ot=He.firstChild,Ye=ot.firstChild,Ce=Ye.firstChild,ze=Ce.nextSibling,Ke=ze.nextSibling,rt=Ye.nextSibling,Ct=rt.firstChild,Pt=ot.nextSibling,ft=Pt.firstChild,$t=ft.nextSibling,at=$t.firstChild,ut=at.nextSibling;ut.nextSibling;var _t=He.nextSibling,bt=_t.firstChild,ht=bt.firstChild,Bt=ht.firstChild,Ot=Bt.firstChild,Nt=Bt.nextSibling,jt=ht.nextSibling,Zt=jt.firstChild,Ar=Zt.firstChild,hr=Zt.nextSibling,Sr=bt.nextSibling,Pr=Sr.firstChild,Xt=Pr.firstChild,Ir=Xt.firstChild,$r=Xt.nextSibling;return Ue.addEventListener("mouseleave",Xe=>{Xe.currentTarget.style.transform="translateY(0)",Xe.currentTarget.style.boxShadow="none"}),Ue.addEventListener("mouseenter",Xe=>{Xe.currentTarget.style.transform="translateY(-2px)",Xe.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)"}),Ue.$$click=()=>Se(Ee),o(He,w),Ye.style.setProperty("display","flex"),Ye.style.setProperty("align-items","center"),Ye.style.setProperty("gap","0.5rem"),Ye.style.setProperty("margin-bottom","0.5rem"),Ce.style.setProperty("font-size","1.2rem"),r(Ce,()=>G(Ee.movementType)),ze.style.setProperty("margin","0"),ze.style.setProperty("font-size","1.1rem"),r(ze,()=>Ee.productName),r(Ke,()=>Ee.movementType),r(Ye,(()=>{var Xe=F(()=>!!Ee.invoiceId);return()=>Xe()&&(()=>{var yt=rc();return yt.style.setProperty("padding","0.2rem 0.5rem"),yt.style.setProperty("border-radius","var(--border-radius-sm)"),yt.style.setProperty("font-size","0.7rem"),yt.style.setProperty("font-weight","500"),yt.style.setProperty("background","var(--primary-color)"),yt.style.setProperty("color","white"),r(yt,()=>e("inventory.bulk")),yt})()})(),null),rt.style.setProperty("font-size","0.875rem"),rt.style.setProperty("color","var(--text-muted)"),r(rt,()=>Ee.productSku,Ct),r(rt,()=>N(Ee.createdDate),null),r(rt,(()=>{var Xe=F(()=>!!Ee.invoiceId);return()=>Xe()&&(()=>{var yt=nc(),Et=yt.firstChild,zt=Et.nextSibling;return zt.nextSibling,yt.style.setProperty("margin-left","0.5rem"),yt.style.setProperty("font-weight","500"),r(yt,()=>e("common.invoice"),zt),r(yt,()=>Ee.invoiceId,null),yt})()})(),null),Pt.style.setProperty("text-align","right"),ft.style.setProperty("font-size","1.25rem"),ft.style.setProperty("font-weight","700"),ft.style.setProperty("color","var(--primary-color)"),r(ft,()=>ae(Ee.totalCost)),$t.style.setProperty("font-size","0.875rem"),$t.style.setProperty("color","var(--text-muted)"),r($t,()=>Ee.quantity,at),r($t,()=>e("common.units"),ut),r($t,()=>ae(Ee.unitCost),null),o(_t,S),r(Bt,()=>e("inventory.location"),Ot),r(Nt,()=>Ee.locationName),r(bt,(()=>{var Xe=F(()=>!!Ee.fromLocationName);return()=>Xe()&&(()=>{var yt=po(),Et=yt.firstChild,zt=Et.firstChild,Vt=Et.nextSibling;return r(Et,()=>e("common.from"),zt),r(Vt,()=>Ee.fromLocationName),B(xt=>{var cr=I,Er=H,Lr=V;return xt.e=o(yt,cr,xt.e),xt.t=o(Et,Er,xt.t),xt.a=o(Vt,Lr,xt.a),xt},{e:void 0,t:void 0,a:void 0}),yt})()})(),jt),r(Zt,()=>e("common.reference"),Ar),r(hr,()=>Ee.referenceNumber),r(Xt,()=>e("common.createdBy"),Ir),r($r,()=>Ee.createdBy),r(Sr,(()=>{var Xe=F(()=>!!Ee.notes);return()=>Xe()&&(()=>{var yt=po(),Et=yt.firstChild,zt=Et.firstChild,Vt=Et.nextSibling;return r(Et,()=>e("common.notes"),zt),r(Vt,()=>Ee.notes),B(xt=>{var cr={...I,"border-bottom":"none"},Er=H,Lr={...V,"max-width":"200px","text-align":"right","font-style":"italic"};return xt.e=o(yt,cr,xt.e),xt.t=o(Et,Er,xt.t),xt.a=o(Vt,Lr,xt.a),xt},{e:void 0,t:void 0,a:void 0}),yt})()})(),null),B(Xe=>{var yt={...b,"border-left":Ee.invoiceId?"4px solid var(--primary-color)":"1px solid var(--border-color)",cursor:"pointer"},Et=le(Ee.movementType),zt=I,Vt=H,xt=V,cr=I,Er=H,Lr=V,ti=I,ri=H,ni=V;return Xe.e=o(Ue,yt,Xe.e),Xe.t=o(Ke,Et,Xe.t),Xe.a=o(ht,zt,Xe.a),Xe.o=o(Bt,Vt,Xe.o),Xe.i=o(Nt,xt,Xe.i),Xe.n=o(jt,cr,Xe.n),Xe.s=o(Zt,Er,Xe.s),Xe.h=o(hr,Lr,Xe.h),Xe.r=o(Pr,ti,Xe.r),Xe.d=o(Xt,ri,Xe.d),Xe.l=o($r,ni,Xe.l),Xe},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0}),Ue})()}),F(()=>F(()=>ue()>1)()&&(()=>{var Ee=oc(),Ue=Ee.firstChild,He=Ue.firstChild,ot=He.firstChild,Ye=He.nextSibling,Ce=Ye.nextSibling,ze=Ue.nextSibling,Ke=ze.firstChild,rt=Ke.firstChild,Ct=rt.firstChild,Pt=rt.nextSibling,ft=Pt.nextSibling,$t=ft.firstChild;return o(Ee,ne),Ue.style.setProperty("display","flex"),Ue.style.setProperty("align-items","center"),Ue.style.setProperty("gap","0.5rem"),He.style.setProperty("font-size","0.875rem"),He.style.setProperty("color","var(--text-muted)"),r(He,()=>e("common.showPerPage","Show per page"),ot),Ye.addEventListener("change",at=>{h(Number(at.target.value)),P(1)}),Ye.style.setProperty("padding","0.25rem 0.5rem"),Ye.style.setProperty("border","1px solid var(--border-color)"),Ye.style.setProperty("border-radius","var(--border-radius-sm)"),Ye.style.setProperty("background","var(--surface-color)"),Ye.style.setProperty("cursor","pointer"),Ye.style.setProperty("font-size","0.875rem"),Ce.style.setProperty("font-size","0.875rem"),Ce.style.setProperty("color","var(--text-muted)"),Ce.style.setProperty("margin-left","1rem"),r(Ce,()=>e("common.showingXofY","Showing {{start}}-{{end}} of {{total}}",{start:($()-1)*x()+1,end:Math.min($()*x(),re().length),total:re().length})),ze.style.setProperty("display","flex"),ze.style.setProperty("align-items","center"),ze.style.setProperty("gap","0.5rem"),r(ze,u(Ae,{variant:"outline",size:"sm",onClick:()=>P(1),get disabled(){return $()===1},style:{padding:"0.25rem 0.5rem"},get children(){return e("common.first","First")}}),Ke),r(ze,u(Ae,{variant:"outline",size:"sm",onClick:()=>P(at=>Math.max(1,at-1)),get disabled(){return $()===1},style:{padding:"0.25rem 0.5rem"},get children(){return e("common.previous")}}),Ke),r(ze,()=>{const at=[],ut=ue(),_t=$();if(ut<=7)for(let bt=1;bt<=ut;bt++)at.push(bt);else{at.push(1),_t>3&&at.push("...");for(let bt=Math.max(2,_t-1);bt<=Math.min(ut-1,_t+1);bt++)at.includes(bt)||at.push(bt);_t<ut-2&&at.push("..."),at.includes(ut)||at.push(ut)}return u(mt,{each:at,children:bt=>bt==="..."?(()=>{var ht=ic();return ht.style.setProperty("padding","0 0.5rem"),ht.style.setProperty("color","var(--text-muted)"),ht})():(()=>{var ht=lc();return ht.$$click=()=>P(bt),r(ht,bt),B(Bt=>o(ht,W(bt===$()),Bt)),ht})()})},Ke),r(ze,u(Ae,{variant:"outline",size:"sm",onClick:()=>P(at=>Math.min(ue(),at+1)),get disabled(){return $()===ue()},style:{padding:"0.25rem 0.5rem"},get children(){return e("common.next")}}),Ke),r(ze,u(Ae,{variant:"outline",size:"sm",onClick:()=>P(ue()),get disabled(){return $()===ue()},style:{padding:"0.25rem 0.5rem"},get children(){return e("common.last","Last")}}),Ke),Ke.style.setProperty("display","flex"),Ke.style.setProperty("align-items","center"),Ke.style.setProperty("gap","0.5rem"),Ke.style.setProperty("margin-left","1rem"),rt.style.setProperty("font-size","0.875rem"),rt.style.setProperty("color","var(--text-muted)"),r(rt,()=>e("common.page","Page"),Ct),Pt.addEventListener("change",at=>{const ut=Number(at.target.value);ut>=1&&ut<=ue()&&P(ut)}),Pt.style.setProperty("width","4rem"),Pt.style.setProperty("padding","0.25rem 0.5rem"),Pt.style.setProperty("border","1px solid var(--border-color)"),Pt.style.setProperty("border-radius","var(--border-radius-sm)"),Pt.style.setProperty("background","var(--surface-color)"),Pt.style.setProperty("text-align","center"),Pt.style.setProperty("font-size","0.875rem"),ft.style.setProperty("font-size","0.875rem"),ft.style.setProperty("color","var(--text-muted)"),r(ft,()=>e("common.of","of"),$t),r(ft,ue,null),B(()=>Ze(Pt,"max",ue())),B(()=>Ye.value=x()),B(()=>Pt.value=$()),Ee})())]})(),null),r(Q,u(Ys,{get isOpen(){return R()},onClose:()=>{X(!1),U(null)},get movement(){return M()},onEdit:K}),null),r(Q,u(Js,{get isOpen(){return Y()},onClose:()=>{oe(!1),U(null)},get movement(){return M()},onMovementUpdated:J}),null),B(Le=>{var Ee=ie,Ue=_,He=_,ot=D,Ye=v,Ce=C,ze=D,Ke={...v,color:"#2d7d32"},rt=C,Ct=D,Pt={...v,color:"#d32f2f"},ft=C,$t=D,at={...v,color:"#1976d2"},ut=C,_t=D,bt={...v,color:"#f57c00"},ht=C,Bt=D,Ot=v,Nt=C;return Le.e=o(j,Ee,Le.e),Le.t=o($e,Ue,Le.t),Le.a=o(Re,He,Le.a),Le.o=o(ve,ot,Le.o),Le.i=o(ke,Ye,Le.i),Le.n=o(De,Ce,Le.n),Le.s=o(Be,ze,Le.s),Le.h=o(Me,Ke,Le.h),Le.r=o(Pe,rt,Le.r),Le.d=o(Fe,Ct,Le.d),Le.l=o(Oe,Pt,Le.l),Le.u=o(Je,ft,Le.u),Le.c=o(he,$t,Le.c),Le.w=o(Ve,at,Le.w),Le.m=o(it,ut,Le.m),Le.f=o(We,_t,Le.f),Le.y=o(et,bt,Le.y),Le.g=o(tt,ht,Le.g),Le.p=o(gt,Bt,Le.p),Le.b=o(pt,Ot,Le.b),Le.T=o(lt,Nt,Le.T),Le},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0}),B(()=>j.value=l()),B(()=>$e.value=d().start),B(()=>Re.value=d().end),Q})()};vt(["click"]);var sc=k("<div>🔄"),cc=k("<button type=button>×"),dc=k("<div>⚠️ "),fo=k("<div>"),uc=k("<div><div><input type=text autocomplete=off>"),yc=k("<div><div><div><div></div><div><span>: </span><span>•</span><span></span><span>•</span><span></span></div></div><div><div> </div><div>"),mc=k("<span>⚠️ ");const vc=t=>{const{t:e}=Qe(),[n,i]=Z(""),[a,s]=Z(!1),[l,c]=Z(null),[d,y]=Z([]),[g,E]=Z(!1),[L,A]=Z(-1),[$,P]=Z(null),x=t.searchDelay||300,h=t.maxResults||900,M=async H=>{if(!H.trim()||H.trim().length<3){y([]),t.onSearchResults?.([]);return}try{s(!0),c(null);try{const V=await fr.getProducts(H),ne=Object.keys(V),W=ae=>{let N=V;return{id:ae,name:N[ae].name,businessId:N[ae].businessId,sku:N[ae].code,UPC:N[ae].UPC,numCode:N[ae].codeN,category:N[ae].category,unitCost:N[ae].unitCost||0,unitOfMeasure:N[ae].unitOfMeasure,minStockLevel:N[ae].minStockLevel,maxStockLevel:N[ae].maxStockLevel,isActive:N[ae].isActive,description:N[ae].description||"",createdDate:N[ae].createdAt||new Date().toISOString(),lastModified:N[ae].updatedAt||new Date().toISOString()}},q=ne.map(W);y(q),Ne.updProduct(q),t.onSearchResults?.(q)}catch(V){console.warn("API search failed, using local fallback:",V),c("API search failed, showing local results");const ne=Ne.getActiveProducts().filter(W=>W.name.toLowerCase().includes(H.toLowerCase())||W.sku.toLowerCase().includes(H.toLowerCase())||W.category.toLowerCase().includes(H.toLowerCase())).slice(0,h);y(ne),t.onSearchResults?.(ne)}}catch(V){const ne=V instanceof Error?V.message:"Search failed";c(ne),y([]),t.onSearchResults?.([])}finally{s(!1)}},U=H=>{const ne=H.target.value;i(ne),c(null),t.showResults!==!1&&E(!0),$()&&clearTimeout($());const W=setTimeout(()=>{M(ne)},x);P(W)},R=H=>{i(H.name),E(!1),A(-1),t.onProductSelect?.(H)},X=H=>{if(!(!g()||d().length===0))switch(H.key){case"ArrowDown":H.preventDefault(),A(V=>Math.min(V+1,d().length-1));break;case"ArrowUp":H.preventDefault(),A(V=>Math.max(V-1,-1));break;case"Enter":H.preventDefault(),L()>=0&&d()[L()]&&R(d()[L()]);break;case"Escape":E(!1),A(-1);break}},Y=()=>{t.showResults!==!1&&d().length>0&&E(!0)},oe=()=>{setTimeout(()=>{E(!1),A(-1)},150)},re=()=>{i(""),y([]),c(null),E(!1),A(-1),t.onSearchResults?.([]),$()&&(clearTimeout($()),P(null))},me=H=>Ne.stockLevels.filter(V=>V.productId===H).reduce((V,ne)=>V+ne.quantity,0),ue=H=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(H),te={position:"relative",width:"100%",...t.style},ee={position:"relative",display:"flex","align-items":"center"},f={width:"100%",padding:"0.75rem","padding-right":n()?"2.5rem":"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)",cursor:t.disabled?"not-allowed":"text",opacity:t.disabled?"0.6":"1",outline:"none",transition:"border-color 0.2s ease"},ie={position:"absolute",right:"0.5rem",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"var(--text-muted)","font-size":"1.2rem","line-height":"1",padding:"0.25rem","border-radius":"50%",transition:"all 0.2s ease"},_={position:"absolute",right:n()?"2.5rem":"0.75rem",top:"50%",transform:"translateY(-50%)","font-size":"0.875rem",color:"var(--text-muted)"},m={position:"absolute",top:"100%",left:"0",right:"0","z-index":"1000","max-height":"300px","overflow-y":"auto",background:"var(--surface-color)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","box-shadow":"0 4px 12px rgba(0,0,0,0.15)","margin-top":"2px"},D=H=>({padding:"0.75rem",cursor:"pointer","border-bottom":"1px solid var(--border-color)",background:H?"var(--strip-color)":"transparent",transition:"background-color 0.2s ease"}),v={display:"flex","justify-content":"space-between","align-items":"center"},C={flex:"1"},b={"font-weight":"500","margin-bottom":"0.25rem",color:"var(--text-primary)"},w={"font-size":"0.875rem",color:"var(--text-muted)",display:"flex",gap:"0.5rem"},le={"text-align":"right","font-size":"0.875rem"},S={padding:"1rem","text-align":"center",color:"var(--text-muted)","font-style":"italic"},I={padding:"0.5rem 1rem",background:"#fff3cd",color:"#856404","border-bottom":"1px solid var(--border-color)","font-size":"0.875rem"};return(()=>{var H=uc(),V=H.firstChild,ne=V.firstChild;return ne.addEventListener("blur",oe),ne.addEventListener("focus",Y),ne.$$keydown=X,ne.$$input=U,r(V,u(Ge,{get when(){return a()},get children(){var W=sc();return B(q=>o(W,_,q)),W}}),null),r(V,u(Ge,{get when(){return F(()=>!!n())()&&!a()},get children(){var W=cc();return W.addEventListener("mouseleave",q=>{q.currentTarget.style.background="none",q.currentTarget.style.color="var(--text-muted)"}),W.addEventListener("mouseenter",q=>{q.currentTarget.style.background="var(--border-color)",q.currentTarget.style.color="var(--text-primary)"}),W.$$click=re,B(q=>{var ae=ie,N=e("common.clear","Clear search");return q.e=o(W,ae,q.e),N!==q.t&&Ze(W,"title",q.t=N),q},{e:void 0,t:void 0}),W}}),null),r(H,u(Ge,{get when(){return g()&&t.showResults!==!1},get children(){var W=fo();return r(W,u(Ge,{get when(){return l()},get children(){var q=dc();return q.firstChild,o(q,I),r(q,l,null),q}}),null),r(W,u(Ge,{get when(){return d().length>0},get fallback(){return F(()=>!!(n()&&!a()))()&&(()=>{var q=fo();return o(q,S),r(q,()=>e("inventory.noProductsFound","No products found matching your search.")),q})()},get children(){return u(mt,{get each(){return d()},children:(q,ae)=>{const N=me(q.id),G=N<=q.minStockLevel;return(()=>{var fe=yc(),Se=fe.firstChild,K=Se.firstChild,J=K.firstChild,se=J.nextSibling,Q=se.firstChild,O=Q.firstChild,pe=Q.nextSibling,ge=pe.nextSibling,T=ge.nextSibling,j=T.nextSibling,be=K.nextSibling,ye=be.firstChild,ce=ye.firstChild,z=ye.nextSibling;return fe.addEventListener("mouseenter",()=>A(ae())),fe.$$click=()=>R(q),o(Se,v),o(K,C),o(J,b),r(J,()=>q.name),o(se,w),r(Q,()=>e("inventory.sku","SKU"),O),r(Q,()=>q.sku,null),r(ge,()=>q.category),r(j,()=>ue(q.unitCost)),o(be,le),ye.style.setProperty("font-weight","600"),(G?"#f44336":"var(--text-primary)")!=null?ye.style.setProperty("color",G?"#f44336":"var(--text-primary)"):ye.style.removeProperty("color"),r(ye,N,ce),r(ye,()=>q.unitOfMeasure,null),z.style.setProperty("color","var(--text-muted)"),r(z,()=>G?(()=>{var p=mc();return p.firstChild,p.style.setProperty("color","#f44336"),r(p,()=>e("inventory.lowStock","Low Stock"),null),p})():e("inventory.inStock","In Stock")),B(p=>o(fe,D(ae()===L()),p)),fe})()}})}}),null),B(q=>o(W,m,q)),W}}),null),B(W=>{var q=te,ae=ee,N=f,G=t.placeholder||e("inventory.searchProducts","Search products by name, SKU, or category..."),fe=t.disabled;return W.e=o(H,q,W.e),W.t=o(V,ae,W.t),W.a=o(ne,N,W.a),G!==W.o&&Ze(ne,"placeholder",W.o=G),fe!==W.i&&(ne.disabled=W.i=fe),W},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),B(()=>ne.value=n()),H})()};vt(["input","keydown","click"]);var gc=k("<div><p>📋 "),pc=k("<div>"),fc=k("<div><div>📊</div><h3></h3><p></p><div><div><label>:</label><select><option value=all></option></select></div><div><label>:</label><select><option value=all></option></select></div><div><label>:</label><select><option value=name></option><option value=sku></option><option value=category>"),bc=k("<div><div><div><div></div><div></div></div><div><div></div><div></div></div><div><div></div><div></div></div><div><div>%</div><div></div></div></div><div></div><div><table><thead><tr><th></th><th></th><th></th><th></th><th></th></tr></thead><tbody>"),hc=k("<div><table><thead><tr><th></th><th></th><th></th><th></th><th></th></tr></thead><tbody>"),Sc=k("<div><div>✅</div><h3></h3><p>"),Pc=k("<div><div><h3>📋 </h3><p></p></div><div><div><div></div><div></div></div><div><div></div><div></div></div><div><div></div><div></div></div></div><div>"),$c=k("<div><div><div><h2>📋 </h2><button>×"),bo=k("<option>"),xc=k("<div>..."),Cc=k("<tr><td><div></div><div> • </div></td><td><div></div></td><td><div></div></td><td><div></div></td><td><div>"),_c=k("<tr><td><div></div><div> • <!> • </div></td><td><div></div></td><td><input type=number placeholder=0 min=0 step=0.01></td><td><div></div></td><td><input type=text>");const wc=t=>{const{t:e}=Qe(),[n,i]=Z([]),[a,s]=Z(!1),[l,c]=Z(!1),[d,y]=Z("all"),[g,E]=Z("all"),[L,A]=Z("name"),[$,P]=Z([]),[x,h]=Z("setup");ar(async()=>{await M(),t.selectedLocationId&&y(t.selectedLocationId)});const M=async()=>{try{s(!0);const v=await fr.getProducts("prod");if(!v||typeof v!="object"){console.warn("No API results, using local store"),i(Ne.products);return}const C=Object.keys(v),b=le=>{let I=v[le];return{id:le,name:I.name||"Unknown Product",businessId:I.businessId||"",sku:I.code||I.sku||"",UPC:I.UPC||"",numCode:I.codeN||"",category:I.category||"General",unitCost:I.unitCost||0,unitOfMeasure:I.unitOfMeasure||"pcs",minStockLevel:I.minStockLevel||0,maxStockLevel:I.maxStockLevel||100,isActive:I.isActive!==!1,description:I.description||"",createdDate:I.createdAt||new Date().toISOString(),lastModified:I.updatedAt||new Date().toISOString(),sellingPrice:parseFloat(I.sellingPrice||I.price||"0")}},w=C.map(b);i(w)}catch(v){console.error("Failed to load products from API:",v),i(Ne.products)}finally{s(!1)}},U=qe(()=>[...new Set(n().map(C=>C.category).filter(C=>C))].sort()),R=qe(()=>{let v=n().filter(C=>C.isActive);return g()!=="all"&&(v=v.filter(C=>C.category===g())),v.sort((C,b)=>{switch(L()){case"name":return C.name.localeCompare(b.name);case"sku":return C.sku.localeCompare(b.sku);case"category":return C.category.localeCompare(b.category)||C.name.localeCompare(b.name);default:return 0}}),v}),X=qe(()=>Ne.getActiveLocations()),Y=(v,C)=>C&&C!=="all"?Ne.getStockByProductAndLocation(v,C)?.quantity||0:Ne.getTotalStockByProduct(v),oe=()=>{const v=R().map(C=>{const b=Y(C.id,d()!=="all"?d():void 0);return{productId:C.id,systemQuantity:b,physicalCount:null,notes:"",variance:0,product:C}});P(v),h("counting")},re=(v,C)=>{P(b=>b.map(w=>{if(w.productId===v){const le=C,S=le!==null?le-w.systemQuantity:0;return{...w,physicalCount:le,variance:S}}return w}))},me=(v,C)=>{P(b=>b.map(w=>w.productId===v?{...w,notes:C}:w))},ue=qe(()=>{const v=$(),C=v.length,b=v.filter(I=>I.physicalCount!==null).length,w=v.filter(I=>I.variance!==0).length,le=v.filter(I=>I.variance>0).length,S=v.filter(I=>I.variance<0).length;return{totalProducts:C,countedProducts:b,remainingProducts:C-b,variances:w,positiveVariances:le,negativeVariances:S,isComplete:b===C}}),te=()=>{const v=$().filter(le=>le.physicalCount!==null&&le.variance!==0);if(v.length===0)return null;const C=[e("inventory.product","Product"),e("inventory.sku","SKU"),e("inventory.category","Category"),e("inventory.location","Location"),e("inventory.systemQty","System Qty"),e("inventory.physicalCount","Physical Count"),e("inventory.variance","Variance"),e("inventory.adjustment","Adjustment"),e("common.notes","Notes"),e("common.date","Date")],b=v.map(le=>[`"${le.product.name}"`,`"${le.product.sku}"`,`"${le.product.category}"`,`"${ie()}"`,le.systemQuantity,le.physicalCount,le.variance,le.variance>0?e("inventory.stockIncrease","Stock Increase"):e("inventory.stockDecrease","Stock Decrease"),`"${le.notes||e("inventory.physicalCountAdjustment","Physical count adjustment")}"`,`"${_()}"`]);return[C.join(","),...b.map(le=>le.join(","))].join(`
`)},ee=()=>{const v=te();if(!v){alert(e("inventory.noAdjustmentsToDownload","No adjustments to download"));return}const C=new Blob([v],{type:"text/csv;charset=utf-8;"}),b=document.createElement("a");if(b.download!==void 0){const w=URL.createObjectURL(C);b.setAttribute("href",w),b.setAttribute("download",`inventory-adjustments-${_().replace(/[/:,\s]/g,"-")}.csv`),b.style.visibility="hidden",document.body.appendChild(b),b.click(),document.body.removeChild(b)}},f=async(v=!0)=>{try{c(!0),console.log($());const C=$().filter(b=>b.physicalCount!==null&&b.variance!==0).map(b=>({productId:b.productId,locationId:d()!=="all"?d():"main",systemQuantity:b.systemQuantity,physicalCount:b.physicalCount,variance:b.variance,notes:b.notes||"Physical inventory adjustment",movementType:b.variance>0?"in":"out",quantity:Math.abs(b.variance),reason:"Physical Count Adjustment"}));v&&C.length>0&&ee(),console.log("Saving inventory adjustments:",C),await new Promise(b=>setTimeout(b,1e3)),t.onClose()}catch(C){console.error("Failed to save inventory adjustments:",C)}finally{c(!1)}},ie=qe(()=>d()==="all"?"All Locations":X().find(C=>C.id===d())?.name||"Unknown Location"),_=()=>new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),m=()=>{const v=window.open("","_blank");if(!v){alert("Please allow pop-ups to print the counting sheet");return}const C=D();v.document.write(C),v.document.close(),v.onload=()=>{v.print(),v.onafterprint=()=>{v.close()}}},D=()=>{const v=R().map((b,w)=>{const le=Y(b.id,d()!=="all"?d():void 0);return`
        <tr>
          <td style="border: 1px solid #000; padding: 8px; text-align: center;">${w+1}</td>
          <td style="border: 1px solid #000; padding: 8px; font-family: monospace;">${b.sku}</td>
          <td style="border: 1px solid #000; padding: 8px;">
            <div style="font-weight: 500;">${b.name}</div>
            ${b.UPC?`<div style="font-size: 0.8em; color: #666;">UPC: ${b.UPC}</div>`:""}
          </td>
          <td style="border: 1px solid #000; padding: 8px;">${b.category}</td>
          <td style="border: 1px solid #000; padding: 8px; text-align: center;">${b.unitOfMeasure}</td>
          <td style="border: 1px solid #000; padding: 8px; text-align: center; font-weight: bold;">${le}</td>
          <td style="border: 1px solid #000; padding: 8px; text-align: center; background-color: #f9f9f9;">________</td>
          <td style="border: 1px solid #000; padding: 8px;">_______________</td>
        </tr>
      `}).join(""),C=e("inventory.countInstructions",["Count all items physically present at this location",'Write the actual count in the "Physical Count" column',"Leave blank if item is not found",'Note any discrepancies in the "Notes" column',"Sign and date when complete"]);return`
      <!DOCTYPE html>
      <html>
      <head>
        <title>${e("inventory.countingSheet","Inventory Counting Sheet")} - ${_()}</title>
        <style>
          @page {
            size: letter;
            margin: 0.5in;
          }
          body {
            font-family: Arial, sans-serif;
            font-size: 12px;
            margin: 0;
            padding: 0;
          }
          h1 {
            text-align: center;
            margin: 0 0 10px 0;
            font-size: 24px;
          }
          .header-info {
            text-align: center;
            margin-bottom: 20px;
          }
          .instructions {
            background-color: #f0f0f0;
            padding: 10px;
            margin-bottom: 20px;
            border: 1px solid #ccc;
          }
          table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
          }
          th {
            background-color: #333;
            color: white;
            padding: 8px;
            text-align: left;
            font-weight: bold;
            border: 1px solid #000;
          }
          .summary-table {
            width: 50%;
            margin: 20px auto;
          }
          .signature-section {
            margin-top: 40px;
            display: flex;
            justify-content: space-between;
          }
          .signature-box {
            width: 45%;
            text-align: center;
          }
          .signature-line {
            border-bottom: 1px solid #000;
            margin-bottom: 5px;
            height: 30px;
          }
          @media print {
            tr { page-break-inside: avoid; }
          }
        </style>
      </head>
      <body>
        <h1>${e("inventory.inventoryCountingSheetTitle","INVENTORY COUNTING SHEET")}</h1>
        <div class="header-info">
          <p><strong>${e("inventory.location","Location")}:</strong> ${ie()}</p>
          <p><strong>${e("inventory.category","Category")}:</strong> ${g()==="all"?e("inventory.allCategories","All Categories"):g()}</p>
          <p><strong>${e("common.date","Date")}:</strong> ${_()}</p>
          <p style="margin-top: 10px;">
            <span style="margin-right: 30px;">${e("inventory.countedBy","Counted by")}: _________________________</span>
            <span>${e("inventory.verifiedBy","Verified by")}: _________________________</span>
          </p>
        </div>
        
        <div class="instructions">
          <h3 style="margin: 0 0 10px 0;">${e("inventory.instructions","Instructions")}:</h3>
          <ul style="margin: 0; padding-left: 20px;">
            ${Array.isArray(C)?C.map(b=>`<li>${b}</li>`).join(""):`<li>${e("inventory.countInstructions[0]","Count all items physically present at this location")}</li>
               <li>${e("inventory.countInstructions[1]",'Write the actual count in the "Physical Count" column')}</li>
               <li>${e("inventory.countInstructions[2]","Leave blank if item is not found")}</li>
               <li>${e("inventory.countInstructions[3]",'Note any discrepancies in the "Notes" column')}</li>
               <li>${e("inventory.countInstructions[4]","Sign and date when complete")}</li>`}
          </ul>
        </div>
        
        <table>
          <thead>
            <tr>
              <th style="width: 5%; text-align: center;">#</th>
              <th style="width: 12%;">${e("inventory.sku","SKU")}</th>
              <th style="width: 25%;">${e("inventory.productName","Product Name")}</th>
              <th style="width: 12%;">${e("inventory.category","Category")}</th>
              <th style="width: 8%; text-align: center;">${e("inventory.unit","Unit")}</th>
              <th style="width: 10%; text-align: center;">${e("inventory.systemQty","System Qty")}</th>
              <th style="width: 12%; text-align: center; background-color: #f0f0f0;">${e("inventory.physicalCount","Physical Count")}</th>
              <th style="width: 16%;">${e("common.notes","Notes")}</th>
            </tr>
          </thead>
          <tbody>
            ${v}
          </tbody>
        </table>
        
        <table class="summary-table">
          <tr>
            <td style="border: 1px solid #000; padding: 8px; font-weight: bold; background-color: #f0f0f0;">
              ${e("inventory.totalProductsListed","Total Products Listed")}:
            </td>
            <td style="border: 1px solid #000; padding: 8px; text-align: center; font-weight: bold;">
              ${R().length}
            </td>
          </tr>
          <tr>
            <td style="border: 1px solid #000; padding: 8px; font-weight: bold; background-color: #f0f0f0;">
              ${e("inventory.itemsCounted","Items Counted")}:
            </td>
            <td style="border: 1px solid #000; padding: 8px; text-align: center;">
              ___________
            </td>
          </tr>
          <tr>
            <td style="border: 1px solid #000; padding: 8px; font-weight: bold; background-color: #f0f0f0;">
              ${e("inventory.discrepanciesFound","Discrepancies Found")}:
            </td>
            <td style="border: 1px solid #000; padding: 8px; text-align: center;">
              ___________
            </td>
          </tr>
        </table>
        
        <div class="signature-section">
          <div class="signature-box">
            <div class="signature-line"></div>
            <p>${e("inventory.counterSignature","Counter Signature")}</p>
            <p>${e("common.date","Date")}: _______________</p>
          </div>
          <div class="signature-box">
            <div class="signature-line"></div>
            <p>${e("inventory.supervisorSignature","Supervisor Signature")}</p>
            <p>${e("common.date","Date")}: _______________</p>
          </div>
        </div>
      </body>
      </html>
    `};return u(Ge,{get when(){return t.isOpen},get children(){var v=$c(),C=v.firstChild,b=C.firstChild,w=b.firstChild;w.firstChild;var le=w.nextSibling;return v.style.setProperty("position","fixed"),v.style.setProperty("top","0"),v.style.setProperty("left","0"),v.style.setProperty("right","0"),v.style.setProperty("bottom","0"),v.style.setProperty("background","rgba(0, 0, 0, 0.5)"),v.style.setProperty("z-index","1000"),v.style.setProperty("display","flex"),v.style.setProperty("align-items","center"),v.style.setProperty("justify-content","center"),C.style.setProperty("background","white"),C.style.setProperty("border-radius","var(--border-radius)"),C.style.setProperty("padding","2rem"),C.style.setProperty("width","95%"),C.style.setProperty("height","95%"),C.style.setProperty("max-width","1400px"),C.style.setProperty("overflow-y","auto"),C.style.setProperty("position","relative"),b.style.setProperty("display","flex"),b.style.setProperty("justify-content","space-between"),b.style.setProperty("align-items","center"),b.style.setProperty("margin-bottom","2rem"),b.style.setProperty("border-bottom","1px solid var(--border-color)"),b.style.setProperty("padding-bottom","1rem"),w.style.setProperty("margin","0"),w.style.setProperty("font-size","1.5rem"),r(w,()=>e("inventory.physicalInventoryCount","Physical Inventory Count"),null),br(le,"click",t.onClose,!0),le.style.setProperty("background","none"),le.style.setProperty("border","none"),le.style.setProperty("font-size","1.5rem"),le.style.setProperty("cursor","pointer"),le.style.setProperty("padding","0.5rem"),r(C,u(Ge,{get when(){return x()==="setup"},get children(){var S=fc(),I=S.firstChild,H=I.nextSibling,V=H.nextSibling,ne=V.nextSibling,W=ne.firstChild,q=W.firstChild,ae=q.firstChild,N=q.nextSibling,G=N.firstChild,fe=W.nextSibling,Se=fe.firstChild,K=Se.firstChild,J=Se.nextSibling,se=J.firstChild,Q=fe.nextSibling,O=Q.firstChild,pe=O.firstChild,ge=O.nextSibling,T=ge.firstChild,j=T.nextSibling,be=j.nextSibling;return S.style.setProperty("text-align","center"),S.style.setProperty("padding","2rem"),S.style.setProperty("max-width","600px"),S.style.setProperty("margin","0 auto"),I.style.setProperty("font-size","3rem"),I.style.setProperty("margin-bottom","1rem"),H.style.setProperty("margin-bottom","1rem"),r(H,()=>e("inventory.setupPhysicalCount","Setup Physical Inventory Count")),V.style.setProperty("margin-bottom","2rem"),V.style.setProperty("color","var(--text-muted)"),r(V,()=>e("inventory.setupDescription","Configure your physical inventory count settings and begin the counting process.")),ne.style.setProperty("display","grid"),ne.style.setProperty("grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))"),ne.style.setProperty("gap","1rem"),ne.style.setProperty("margin-bottom","2rem"),ne.style.setProperty("padding","1rem"),ne.style.setProperty("background","var(--surface-color)"),ne.style.setProperty("border-radius","var(--border-radius)"),ne.style.setProperty("text-align","left"),q.style.setProperty("display","block"),q.style.setProperty("margin-bottom","0.5rem"),q.style.setProperty("font-weight","500"),r(q,()=>e("inventory.location","Location"),ae),N.addEventListener("change",ye=>y(ye.target.value)),N.style.setProperty("width","100%"),N.style.setProperty("padding","0.5rem"),N.style.setProperty("border","1px solid var(--border-color)"),N.style.setProperty("border-radius","var(--border-radius-sm)"),r(G,()=>e("inventory.allLocations","All Locations")),r(N,u(mt,{get each(){return X()},children:ye=>(()=>{var ce=bo();return r(ce,()=>ye.name),B(()=>ce.value=ye.id),ce})()}),null),Se.style.setProperty("display","block"),Se.style.setProperty("margin-bottom","0.5rem"),Se.style.setProperty("font-weight","500"),r(Se,()=>e("inventory.category","Category"),K),J.addEventListener("change",ye=>E(ye.target.value)),J.style.setProperty("width","100%"),J.style.setProperty("padding","0.5rem"),J.style.setProperty("border","1px solid var(--border-color)"),J.style.setProperty("border-radius","var(--border-radius-sm)"),r(se,()=>e("products.allCategories","All Categories")),r(J,u(mt,{get each(){return U()},children:ye=>(()=>{var ce=bo();return ce.value=ye,r(ce,ye),ce})()}),null),O.style.setProperty("display","block"),O.style.setProperty("margin-bottom","0.5rem"),O.style.setProperty("font-weight","500"),r(O,()=>e("inventory.sortBy","Sort By"),pe),ge.addEventListener("change",ye=>A(ye.target.value)),ge.style.setProperty("width","100%"),ge.style.setProperty("padding","0.5rem"),ge.style.setProperty("border","1px solid var(--border-color)"),ge.style.setProperty("border-radius","var(--border-radius-sm)"),r(T,()=>e("inventory.productName","Product Name")),r(j,()=>e("inventory.sku","SKU")),r(be,()=>e("inventory.category","Category")),r(S,u(Ge,{get when(){return!a()},get fallback(){return(()=>{var ye=xc(),ce=ye.firstChild;return ye.style.setProperty("padding","2rem"),r(ye,()=>e("common.loading","Loading"),ce),ye})()},get children(){return[(()=>{var ye=gc(),ce=ye.firstChild;return ce.firstChild,ye.style.setProperty("padding","1rem"),ye.style.setProperty("background","#fff3cd"),ye.style.setProperty("border-radius","var(--border-radius-sm)"),ye.style.setProperty("margin-bottom","2rem"),ce.style.setProperty("margin","0"),ce.style.setProperty("color","#856404"),r(ce,()=>e("inventory.countWillInclude","This count will include {{count}} products from {{location}} in {{category}} category.",{count:R().length,location:ie(),category:g()==="all"?e("inventory.allCategories","all categories"):g()}),null),ye})(),(()=>{var ye=pc();return ye.style.setProperty("display","grid"),ye.style.setProperty("grid-template-columns","repeat(auto-fit, minmax(150px, 1fr))"),ye.style.setProperty("gap","1rem"),ye.style.setProperty("margin-bottom","2rem"),ye.style.setProperty("padding","1rem"),ye.style.setProperty("background","var(--surface-color)"),ye.style.setProperty("border-radius","var(--border-radius)"),r(ye,u(Ae,{variant:"primary",size:"large",onClick:oe,get disabled(){return a()||R().length===0},get children(){return["🚀 ",F(()=>e("inventory.startCounting","Start Physical Count"))]}}),null),r(ye,u(Ae,{variant:"primary",onClick:m,get disabled(){return a()},get children(){return["🖨️ ",F(()=>e("common.print","Print"))]}}),null),ye})()]}}),null),B(()=>N.value=d()),B(()=>J.value=g()),B(()=>ge.value=L()),S}}),null),r(C,u(Ge,{get when(){return x()==="counting"},get children(){var S=bc(),I=S.firstChild,H=I.firstChild,V=H.firstChild,ne=V.nextSibling,W=H.nextSibling,q=W.firstChild,ae=q.nextSibling,N=W.nextSibling,G=N.firstChild,fe=G.nextSibling,Se=N.nextSibling,K=Se.firstChild,J=K.firstChild,se=K.nextSibling,Q=I.nextSibling,O=Q.nextSibling,pe=O.firstChild,ge=pe.firstChild,T=ge.firstChild,j=T.firstChild,be=j.nextSibling,ye=be.nextSibling,ce=ye.nextSibling,z=ce.nextSibling,p=ge.nextSibling;return I.style.setProperty("display","grid"),I.style.setProperty("grid-template-columns","repeat(auto-fit, minmax(150px, 1fr))"),I.style.setProperty("gap","1rem"),I.style.setProperty("margin-bottom","2rem"),I.style.setProperty("padding","1rem"),I.style.setProperty("background","var(--surface-color)"),I.style.setProperty("border-radius","var(--border-radius)"),H.style.setProperty("text-align","center"),V.style.setProperty("font-size","1.5rem"),V.style.setProperty("font-weight","700"),V.style.setProperty("color","var(--primary-color)"),r(V,()=>ue().countedProducts),ne.style.setProperty("font-size","0.875rem"),ne.style.setProperty("color","var(--text-muted)"),r(ne,()=>e("inventory.counted","Counted")),W.style.setProperty("text-align","center"),q.style.setProperty("font-size","1.5rem"),q.style.setProperty("font-weight","700"),q.style.setProperty("color","#ff9800"),r(q,()=>ue().remainingProducts),ae.style.setProperty("font-size","0.875rem"),ae.style.setProperty("color","var(--text-muted)"),r(ae,()=>e("inventory.remaining","Remaining")),N.style.setProperty("text-align","center"),G.style.setProperty("font-size","1.5rem"),G.style.setProperty("font-weight","700"),G.style.setProperty("color","#f44336"),r(G,()=>ue().variances),fe.style.setProperty("font-size","0.875rem"),fe.style.setProperty("color","var(--text-muted)"),r(fe,()=>e("inventory.variances","Variances")),Se.style.setProperty("text-align","center"),K.style.setProperty("font-size","1.5rem"),K.style.setProperty("font-weight","700"),r(K,()=>Math.round(ue().countedProducts/ue().totalProducts*100),J),se.style.setProperty("font-size","0.875rem"),se.style.setProperty("color","var(--text-muted)"),r(se,()=>e("inventory.complete","Complete")),Q.style.setProperty("display","flex"),Q.style.setProperty("gap","1rem"),Q.style.setProperty("margin-bottom","2rem"),Q.style.setProperty("justify-content","center"),r(Q,u(Ae,{variant:"outline",onClick:()=>h("setup"),get children(){return["⬅️ ",F(()=>e("common.back","Back to Setup"))]}}),null),r(Q,u(Ae,{variant:"primary",onClick:()=>h("review"),get children(){return["📋 ",F(()=>e("inventory.reviewAdjustments","Review Adjustments"))]}}),null),O.style.setProperty("border","1px solid var(--border-color)"),O.style.setProperty("border-radius","var(--border-radius)"),O.style.setProperty("overflow-x","auto"),pe.style.setProperty("width","100%"),pe.style.setProperty("border-collapse","collapse"),T.style.setProperty("background","var(--surface-color)"),j.style.setProperty("padding","1rem"),j.style.setProperty("text-align","left"),j.style.setProperty("border-bottom","1px solid var(--border-color)"),r(j,()=>e("inventory.product","Product")),be.style.setProperty("padding","1rem"),be.style.setProperty("text-align","center"),be.style.setProperty("border-bottom","1px solid var(--border-color)"),r(be,()=>e("inventory.systemQty","System Qty")),ye.style.setProperty("padding","1rem"),ye.style.setProperty("text-align","center"),ye.style.setProperty("border-bottom","1px solid var(--border-color)"),r(ye,()=>e("inventory.physicalCount","Physical Count")),ce.style.setProperty("padding","1rem"),ce.style.setProperty("text-align","center"),ce.style.setProperty("border-bottom","1px solid var(--border-color)"),r(ce,()=>e("inventory.variance","Variance")),z.style.setProperty("padding","1rem"),z.style.setProperty("text-align","left"),z.style.setProperty("border-bottom","1px solid var(--border-color)"),r(z,()=>e("common.notes","Notes")),r(p,u(mt,{get each(){return $()},children:(de,_e)=>u(kc,{get index(){return _e()},updatePhysicalCount:re,entry:de,updateNotes:me})})),B(de=>(de=ue().isComplete?"#4caf50":"#ff9800")!=null?K.style.setProperty("color",de):K.style.removeProperty("color")),S}}),null),r(C,u(Ge,{get when(){return x()==="review"},get children(){var S=Pc(),I=S.firstChild,H=I.firstChild;H.firstChild;var V=H.nextSibling,ne=I.nextSibling,W=ne.firstChild,q=W.firstChild,ae=q.nextSibling,N=W.nextSibling,G=N.firstChild,fe=G.nextSibling,Se=N.nextSibling,K=Se.firstChild,J=K.nextSibling,se=ne.nextSibling;return I.style.setProperty("text-align","center"),I.style.setProperty("margin-bottom","2rem"),H.style.setProperty("margin-bottom","1rem"),r(H,()=>e("inventory.reviewAndConfirm","Review and Confirm Adjustments"),null),V.style.setProperty("color","var(--text-muted)"),r(V,()=>e("inventory.reviewDescription","Review the inventory adjustments below and confirm to update your system.")),ne.style.setProperty("display","grid"),ne.style.setProperty("grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))"),ne.style.setProperty("gap","1rem"),ne.style.setProperty("margin-bottom","2rem"),ne.style.setProperty("padding","1rem"),ne.style.setProperty("background","var(--surface-color)"),ne.style.setProperty("border-radius","var(--border-radius)"),W.style.setProperty("text-align","center"),q.style.setProperty("font-size","1.5rem"),q.style.setProperty("font-weight","700"),q.style.setProperty("color","#4caf50"),r(q,()=>ue().positiveVariances),ae.style.setProperty("font-size","0.875rem"),ae.style.setProperty("color","var(--text-muted)"),r(ae,()=>e("inventory.stockIncreases","Stock Increases")),N.style.setProperty("text-align","center"),G.style.setProperty("font-size","1.5rem"),G.style.setProperty("font-weight","700"),G.style.setProperty("color","#f44336"),r(G,()=>ue().negativeVariances),fe.style.setProperty("font-size","0.875rem"),fe.style.setProperty("color","var(--text-muted)"),r(fe,()=>e("inventory.stockDecreases","Stock Decreases")),Se.style.setProperty("text-align","center"),K.style.setProperty("font-size","1.5rem"),K.style.setProperty("font-weight","700"),K.style.setProperty("color","var(--primary-color)"),r(K,()=>ue().variances),J.style.setProperty("font-size","0.875rem"),J.style.setProperty("color","var(--text-muted)"),r(J,()=>e("inventory.totalAdjustments","Total Adjustments")),se.style.setProperty("display","flex"),se.style.setProperty("gap","1rem"),se.style.setProperty("margin-bottom","2rem"),se.style.setProperty("justify-content","center"),se.style.setProperty("flex-wrap","wrap"),r(se,u(Ae,{variant:"outline",onClick:()=>h("counting"),get children(){return["⬅️ ",F(()=>e("common.back","Back to Counting"))]}}),null),r(se,u(Ae,{variant:"outline",onClick:ee,get disabled(){return ue().variances===0},get children(){return["📥 ",F(()=>e("inventory.downloadCSV","Download CSV"))]}}),null),r(se,u(Ae,{variant:"primary",onClick:f,get disabled(){return l()||ue().variances===0},get children(){return F(()=>!!l())()?"💾 "+e("common.saving","Saving")+"...":"✅ "+e("inventory.confirmAdjustments","Confirm Adjustments")}}),null),r(S,u(Ge,{get when(){return ue().variances>0},get children(){var Q=hc(),O=Q.firstChild,pe=O.firstChild,ge=pe.firstChild,T=ge.firstChild,j=T.nextSibling,be=j.nextSibling,ye=be.nextSibling,ce=ye.nextSibling,z=pe.nextSibling;return Q.style.setProperty("border","1px solid var(--border-color)"),Q.style.setProperty("border-radius","var(--border-radius)"),Q.style.setProperty("overflow-x","auto"),O.style.setProperty("width","100%"),O.style.setProperty("border-collapse","collapse"),ge.style.setProperty("background","var(--surface-color)"),T.style.setProperty("padding","1rem"),T.style.setProperty("text-align","left"),T.style.setProperty("border-bottom","1px solid var(--border-color)"),r(T,()=>e("inventory.product","Product")),j.style.setProperty("padding","1rem"),j.style.setProperty("text-align","center"),j.style.setProperty("border-bottom","1px solid var(--border-color)"),r(j,()=>e("inventory.systemQty","System Qty")),be.style.setProperty("padding","1rem"),be.style.setProperty("text-align","center"),be.style.setProperty("border-bottom","1px solid var(--border-color)"),r(be,()=>e("inventory.physicalCount","Physical Count")),ye.style.setProperty("padding","1rem"),ye.style.setProperty("text-align","center"),ye.style.setProperty("border-bottom","1px solid var(--border-color)"),r(ye,()=>e("inventory.adjustment","Adjustment")),ce.style.setProperty("padding","1rem"),ce.style.setProperty("text-align","left"),ce.style.setProperty("border-bottom","1px solid var(--border-color)"),r(ce,()=>e("common.notes","Notes")),r(z,u(mt,{get each(){return $().filter(p=>p.variance!==0)},children:p=>(()=>{var de=Cc(),_e=de.firstChild,$e=_e.firstChild,xe=$e.nextSibling,we=xe.firstChild,Re=_e.nextSibling,Ie=Re.firstChild,ve=Re.nextSibling,ke=ve.firstChild,De=ve.nextSibling,Be=De.firstChild,Me=De.nextSibling,Pe=Me.firstChild;return de.style.setProperty("border-bottom","1px solid var(--border-color)"),_e.style.setProperty("padding","1rem"),$e.style.setProperty("font-weight","500"),r($e,()=>p.product.name),xe.style.setProperty("font-size","0.875rem"),xe.style.setProperty("color","var(--text-muted)"),r(xe,()=>p.product.sku,we),r(xe,()=>p.product.category,null),Re.style.setProperty("padding","1rem"),Re.style.setProperty("text-align","center"),Ie.style.setProperty("font-weight","600"),r(Ie,()=>p.systemQuantity),ve.style.setProperty("padding","1rem"),ve.style.setProperty("text-align","center"),ke.style.setProperty("font-weight","600"),r(ke,()=>p.physicalCount),De.style.setProperty("padding","1rem"),De.style.setProperty("text-align","center"),Be.style.setProperty("font-weight","700"),r(Be,()=>p.variance>0?"+":"",null),r(Be,()=>p.variance,null),Me.style.setProperty("padding","1rem"),Pe.style.setProperty("font-size","0.875rem"),r(Pe,()=>p.notes||e("inventory.physicalCountAdjustment","Physical count adjustment")),B(Fe=>{var Oe=p.variance>0?"#d4edda":"#f8d7da",Je=p.variance>0?"#4caf50":"#f44336";return Oe!==Fe.e&&((Fe.e=Oe)!=null?de.style.setProperty("background",Oe):de.style.removeProperty("background")),Je!==Fe.t&&((Fe.t=Je)!=null?Be.style.setProperty("color",Je):Be.style.removeProperty("color")),Fe},{e:void 0,t:void 0}),de})()})),Q}}),null),r(S,u(Ge,{get when(){return ue().variances===0},get children(){var Q=Sc(),O=Q.firstChild,pe=O.nextSibling,ge=pe.nextSibling;return Q.style.setProperty("text-align","center"),Q.style.setProperty("padding","3rem"),Q.style.setProperty("background","var(--surface-color)"),Q.style.setProperty("border-radius","var(--border-radius)"),O.style.setProperty("font-size","3rem"),O.style.setProperty("margin-bottom","1rem"),pe.style.setProperty("margin-bottom","0.5rem"),r(pe,()=>e("inventory.perfectCount","Perfect Count!")),ge.style.setProperty("color","var(--text-muted)"),r(ge,()=>e("inventory.noVariances","No variances found. Your physical count matches the system exactly.")),Q}}),null),S}}),null),v}})},kc=t=>{const{t:e}=Qe(),[n,i]=Z(""),[a,s]=Z("");let{entry:l,updatePhysicalCount:c,updateNotes:d,index:y}=t;return ar(()=>{s(l?.notes),i(l?.physicalCount)}),(()=>{var g=_c(),E=g.firstChild,L=E.firstChild,A=L.nextSibling,$=A.firstChild,P=$.nextSibling;P.nextSibling;var x=E.nextSibling,h=x.firstChild,M=x.nextSibling,U=M.firstChild,R=M.nextSibling,X=R.firstChild,Y=R.nextSibling,oe=Y.firstChild;return g.style.setProperty("border-bottom","1px solid var(--border-color)"),E.style.setProperty("padding","1rem"),L.style.setProperty("font-weight","500"),r(L,()=>l?.product.name),A.style.setProperty("font-size","0.875rem"),A.style.setProperty("color","var(--text-muted)"),r(A,()=>l?.product.sku,$),r(A,()=>l?.product.category,P),r(A,()=>l?.product.unitOfMeasure,null),x.style.setProperty("padding","1rem"),x.style.setProperty("text-align","center"),h.style.setProperty("font-weight","600"),r(h,()=>l?.systemQuantity),M.style.setProperty("padding","1rem"),M.style.setProperty("text-align","center"),U.addEventListener("blur",()=>{c(l?.productId,n()===""?null:parseFloat(n()))}),U.$$keydown=re=>{re.keyCode===13&&c(l?.productId,n()===""?null:parseFloat(n())),re.keyCode===27&&c(l?.productId,n()===""?null:parseFloat(n())),re.keyCode===9&&c(l?.productId,n()===""?null:parseFloat(n()))},U.$$input=re=>{const me=re.target.value;i(me)},Ze(U,"tabindex",y),U.style.setProperty("width","100px"),U.style.setProperty("padding","0.5rem"),U.style.setProperty("border","1px solid var(--border-color)"),U.style.setProperty("border-radius","var(--border-radius-sm)"),U.style.setProperty("text-align","center"),R.style.setProperty("padding","1rem"),R.style.setProperty("text-align","center"),X.style.setProperty("font-weight","600"),r(X,()=>l?.variance>0?"+":"",null),r(X,()=>l?.variance||"—",null),Y.style.setProperty("padding","1rem"),oe.addEventListener("blur",re=>{d(l?.productId,a())}),oe.$$keydown=re=>{re.keyCode===13&&d(l?.productId,a()),re.keyCode===27&&d(l?.productId,a()),re.keyCode===9&&d(l?.productId,a())},oe.$$input=re=>{const me=re.target.value;s(me)},oe.style.setProperty("width","200px"),oe.style.setProperty("padding","0.5rem"),oe.style.setProperty("border","1px solid var(--border-color)"),oe.style.setProperty("border-radius","var(--border-radius-sm)"),B(re=>{var me=l?.physicalCount!==null?l?.variance!==0?"#fff3cd":"#d4edda":"transparent",ue=l?.variance>0?"#4caf50":l?.variance<0?"#f44336":"var(--text-muted)",te=e("inventory.addNotes","Add notes...");return me!==re.e&&((re.e=me)!=null?g.style.setProperty("background",me):g.style.removeProperty("background")),ue!==re.t&&((re.t=ue)!=null?X.style.setProperty("color",ue):X.style.removeProperty("color")),te!==re.a&&Ze(oe,"placeholder",re.a=te),re},{e:void 0,t:void 0,a:void 0}),B(()=>U.value=n()||""),B(()=>oe.value=a()||""),g})()};vt(["click","input","keydown"]);var Ac=k("<div><h1></h1><div><div><span>View:</span><button> 1</button><button> 2"),Tt=k("<div>"),Ic=k("<div><h3></h3><div>"),Ec=k("<div>: <!> "),Lc=k("<div><button></button><button></button><button></button><button>"),Dc=k("<div><div>"),Nc=k("<div><span> (<!>)</span><span> / <!> "),Tc=k("<div><div><div><h2></h2><div><div></div></div></div></div><div><span>"),Bc=k("<span>🔍 "),Mc=k("<div><div><div><div><h3></h3><span></span></div><div></div><div>: </div></div><div><div> </div><div>: <!> • <!>: </div><div>: "),Rc=k("<div><div>:</div><div>"),Oc=k("<div>: "),jc=k("<div><div><span>:</span><select><option value=10>10</option><option value=20>20</option><option value=50>50</option><option value=100>100</option></select></div><div><div><span></span><input type=number min=1><span> </span></div></div><div>"),zc=k("<div><div><h2></h2></div><div>"),Fc=k("<div><div><div><span></span><h3></h3></div><div> • </div><div></div></div><div><div><span>:</span><span></span></div><div><span>:</span><span></span></div><div><span>:</span><span></span></div></div><div><div>:"),qc=k("<div><div><div><div></div><div></div></div><div><div> </div><div></div><div>Min: "),Uc=k("<span>⚠️ LOW");const Vc=()=>{const{t}=Qe(),[e,n]=Z(!1),[i,a]=Z(!1),[s,l]=Z(!1),[c,d]=Z(null),[y,g]=Z("overview"),[E,L]=Z("new"),[A,$]=Z(""),[P,x]=Z(""),[h,M]=Z([]),[U,R]=Z(!1),[X,Y]=Z(!1),[oe,re]=Z(!1),[me,ue]=Z(!1),[te,ee]=Z(!1),[f,ie]=Z(!1),[_,m]=Z(1),[D,v]=Z(20),C=z=>{d(z),l(!0)},b=qe(()=>{const z=Ne.products||[],p=Ne.movements||[],de=Ne.stockLevels||[],_e=Ne.getLowStockProducts(),$e=z?.length||0,xe=z?.filter(Ie=>Ie.isActive).length,we=de.reduce((Ie,ve)=>Ie*1+ve.quantity*1*ve.averageCost*1,0),Re=p?.filter(Ie=>{const ve=new Date(Ie.createdDate),ke=new Date;return ve.getMonth()===ke.getMonth()&&ve.getFullYear()===ke.getFullYear()}).length;return{totalProducts:$e,activeProducts:xe,lowStockProducts:_e.length,totalStockValue:we,totalMovementsThisMonth:Re,totalLocations:Ne.locations.length,activeLocations:Ne.getActiveLocations().length}}),w=qe(()=>Ne.products.map(z=>{const p=Ne.getStockByProduct(z.id),de=Ne.getTotalStockByProduct(z.id),_e=Ne.getLastLocationByProduct(z.id);return{...z,totalStock:de,stockByLocation:p,lastLocation:_e,isLowStock:de<=z.minStockLevel}})),le=qe(()=>h().map(z=>{const p=Ne.getStockByProduct(z.id),de=Ne.getTotalStockByProduct(z.id),_e=Ne.getLastLocationByProduct(z.id);return console.log(z),{...z,totalStock:de,stockByLocation:p,lastLocation:_e,isLowStock:de<=z.minStockLevel}})),S=qe(()=>{const z=X()?le():w(),p=(_()-1)*D(),de=p+D();return z.slice(p,de)}),I=qe(()=>{const z=X()?le():w();return Math.ceil(z.length/D())});qe(()=>{X(),m(1)});const H=(z,p)=>z<=p?t("inventory.lowStockAlert"):z<=p*2?t("inventory.normalStock"):t("inventory.inStock"),V=z=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(z),ne=z=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(z),W=z=>{switch(z){case"warehouse":return t("inventory.warehouse");case"store":return t("inventory.store");case"supplier":return t("inventory.supplier");case"customer":return t("inventory.customer");default:return z}},q={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"},ae={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"1rem"},N=z=>({padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500",background:z>50?"#d4edda":z>20?"#fff3cd":"#f8d7da",color:z>50?"#155724":z>20?"#856404":"#721c24"}),G={"font-size":"1.25rem","font-weight":"600",color:"var(--primary-color)","margin-bottom":"0.5rem"},fe={color:"var(--text-muted)","font-size":"0.875rem"},Se={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"},K={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"2rem"},J={display:"flex","border-bottom":"1px solid var(--border-color)","margin-bottom":"1.5rem"},se=z=>({padding:"0.75rem 1rem",background:"none",border:"none",cursor:"pointer","font-weight":"500",color:z?"var(--primary-color)":"var(--text-muted)","border-bottom":z?"2px solid var(--primary-color)":"2px solid transparent",transition:"all 0.2s ease"}),Q={padding:"1.5rem","margin-bottom":"1rem",background:"var(--surface-color)","border-radius":"var(--border-radius)",border:"1px solid var(--border-color)",cursor:"pointer",transition:"all 0.2s ease"},O={display:"flex","justify-content":"space-between","align-items":"flex-start","margin-bottom":"1rem"},pe=z=>({padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500","text-transform":"uppercase","letter-spacing":"0.5px",background:z?"#ffebee":"#e8f5e8",color:z?"#d32f2f":"#2d7d32"}),ge={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem","margin-bottom":"2rem"},T={padding:"1rem",background:"var(--surface-color)","border-radius":"var(--border-radius-sm)",border:"1px solid var(--border-color)"},j={display:"flex",gap:"0.5rem","align-items":"center","margin-left":"auto","margin-right":"1rem"},be=z=>({padding:"0.5rem 1rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)",background:z?"var(--primary-color)":"var(--surface-color)",color:z?"white":"var(--text-primary)",cursor:"pointer","font-weight":"500","font-size":"0.875rem",transition:"all 0.2s ease"}),ye=qe(()=>{const z=Ne.movements;return{total:z.length,stockIn:z.filter(p=>p.movementType==="in").length,stockOut:z.filter(p=>p.movementType==="out").length,transfers:z.filter(p=>p.movementType==="transfer").length,adjustments:z.filter(p=>p.movementType==="adjustment").length,totalValue:z.reduce((p,de)=>p+de.totalCost,0)}}),ce=async()=>{try{try{const z=await fr.getProducts("prod");console.log({apiResults:z});const p=Object.keys(z),de=$e=>{let we=z[$e];return{id:$e,name:we.name,businessId:we.businessId,sku:we.code,UPC:we.UPC,numCode:we.codeN,category:we.category,unitCost:we.unitCost||0,unitOfMeasure:we.unitOfMeasure,minStockLevel:we.minStockLevel,maxStockLevel:we.maxStockLevel,isActive:we.isActive,description:we.description||"",createdDate:we.createdAt||new Date().toISOString(),lastModified:we.updatedAt||new Date().toISOString(),sellingPrice:parseFloat(we.sellingPrice||we.price||"0")}};let _e=p.map(de);M(_e),Ne.updProduct(_e)}catch(z){console.warn("API failed, using local store:",z),M(Ne.products)}}catch{}finally{}};return ar(()=>{}),u(Yt,{get title(){return t("inventory.title")},get children(){return[(()=>{var z=Ac(),p=z.firstChild,de=p.nextSibling,_e=de.firstChild,$e=_e.firstChild,xe=$e.nextSibling,we=xe.firstChild,Re=xe.nextSibling,Ie=Re.firstChild;return o(z,K),p.style.setProperty("margin","0"),p.style.setProperty("font-size","1.75rem"),r(p,()=>t("inventory.title")),de.style.setProperty("display","flex"),de.style.setProperty("align-items","center"),de.style.setProperty("gap","1rem"),o(_e,j),$e.style.setProperty("font-weight","500"),$e.style.setProperty("color","var(--text-muted)"),$e.style.setProperty("font-size","0.875rem"),xe.$$click=()=>L("new"),r(xe,()=>t("common.view"),we),Re.$$click=()=>L("legacy"),r(Re,()=>t("common.view"),Ie),r(de,(()=>{var ve=F(()=>E()==="new");return()=>ve()&&u(Ae,{variant:"outline",onClick:()=>ie(!0),get children(){return["🔢 ",F(()=>t("inventory.physicalCount","Physical Count"))]}})})(),null),r(de,u(Ae,{variant:"primary",onClick:()=>a(!0),get children(){return F(()=>E()==="new")()?t("inventory.addMovement"):t("common.add")}}),null),B(ve=>{var ke=be(E()==="new"),De=be(E()==="legacy");return ve.e=o(xe,ke,ve.e),ve.t=o(Re,De,ve.t),ve},{e:void 0,t:void 0}),z})(),F(()=>F(()=>E()==="legacy")()?[(()=>{var z=Tt();return r(z,u(je,{get title(){return t("inventory.totalItems")},get subtitle(){return t("inventory.inStock")},get children(){var p=Tt();return p.style.setProperty("font-size","1.5rem"),p.style.setProperty("font-weight","600"),p.style.setProperty("color","var(--primary-color)"),r(p,()=>Ne.inventory.length),p}}),null),r(z,u(je,{get title(){return t("inventory.lowStockAlert")},get subtitle(){return t("inventory.itemsBelowThreshold")},get children(){var p=Tt();return p.style.setProperty("font-size","1.5rem"),p.style.setProperty("font-weight","600"),p.style.setProperty("color","var(--primary-color)"),r(p,()=>Ne.getLowStockItems().length),p}}),null),r(z,u(je,{get title(){return t("inventory.totalValue")},get subtitle(){return t("inventory.inventoryWorth")},get children(){var p=Tt();return p.style.setProperty("font-size","1.5rem"),p.style.setProperty("font-weight","600"),p.style.setProperty("color","var(--primary-color)"),r(p,()=>V(Ne.getTotalValue())),p}}),null),B(p=>o(z,Se,p)),z})(),(()=>{var z=Tt();return o(z,q),r(z,u(mt,{get each(){return Ne.inventory},children:p=>{const de=H(p.quantity,p.minStock),_e=p.quantity<=p.minStock?8:p.quantity<=p.minStock*2?35:75;return u(je,{onClick:()=>C(p),get children(){return[(()=>{var $e=Ic(),xe=$e.firstChild,we=xe.nextSibling;return o($e,ae),xe.style.setProperty("margin","0"),xe.style.setProperty("font-size","1.1rem"),r(xe,()=>p.name),r(we,de),B(Re=>o(we,N(_e),Re)),$e})(),(()=>{var $e=Tt();return o($e,G),r($e,()=>V(p.price)),$e})(),(()=>{var $e=Ec(),xe=$e.firstChild,we=xe.nextSibling;return we.nextSibling,o($e,fe),r($e,()=>t("inventory.quantity"),xe),r($e,()=>p.quantity,we),r($e,()=>t("common.units"),null),$e})()]}})}})),z})()]:[(()=>{var z=Lc(),p=z.firstChild,de=p.nextSibling,_e=de.nextSibling,$e=_e.nextSibling;return o(z,J),p.$$click=()=>g("overview"),r(p,()=>t("inventory.overview")),de.$$click=()=>g("products"),r(de,()=>t("inventory.products")),_e.$$click=()=>g("movements"),r(_e,()=>t("inventory.movements")),$e.$$click=()=>g("locations"),r($e,()=>t("inventory.locations")),B(xe=>{var we=se(y()==="overview"),Re=se(y()==="products"),Ie=se(y()==="movements"),ve=se(y()==="locations");return xe.e=o(p,we,xe.e),xe.t=o(de,Re,xe.t),xe.a=o(_e,Ie,xe.a),xe.o=o($e,ve,xe.o),xe},{e:void 0,t:void 0,a:void 0,o:void 0}),z})(),F(()=>F(()=>y()==="overview")()&&(()=>{var z=Dc(),p=z.firstChild;return r(p,u(je,{get title(){return t("inventory.activeProducts")},get subtitle(){return t("inventory.currentlyManaged")},get children(){var de=Tt();return de.style.setProperty("font-size","1.5rem"),de.style.setProperty("font-weight","600"),de.style.setProperty("color","var(--primary-color)"),r(de,()=>b().activeProducts),de}}),null),r(p,u(je,{get title(){return t("inventory.lowStockAlert")},get subtitle(){return t("inventory.needAttention")},get children(){var de=Tt();return de.style.setProperty("font-size","1.5rem"),de.style.setProperty("font-weight","600"),de.style.setProperty("color","#d32f2f"),r(de,()=>b().lowStockProducts),de}}),null),r(p,u(je,{get title(){return t("inventory.totalValue")},get subtitle(){return t("inventory.currentWorth")},get children(){var de=Tt();return de.style.setProperty("font-size","1.5rem"),de.style.setProperty("font-weight","600"),de.style.setProperty("color","var(--primary-color)"),r(de,()=>ne(ye().totalValue)),de}}),null),r(p,u(je,{get title(){return t("inventory.movements")},get subtitle(){return t("inventory.thisMonth")},get children(){var de=Tt();return de.style.setProperty("font-size","1.5rem"),de.style.setProperty("font-weight","600"),de.style.setProperty("color","var(--primary-color)"),r(de,()=>b().totalMovementsThisMonth),de}}),null),r(p,u(je,{get title(){return t("inventory.activeLocations")},get subtitle(){return t("inventory.warehousesStores")},get children(){var de=Tt();return de.style.setProperty("font-size","1.5rem"),de.style.setProperty("font-weight","600"),de.style.setProperty("color","var(--primary-color)"),r(de,()=>b().activeLocations),de}}),null),r(z,(()=>{var de=F(()=>b().lowStockProducts>0);return()=>de()&&u(je,{get title(){return`⚠️ ${t("inventory.lowStockAlert")}`},get subtitle(){return`${b().lowStockProducts} ${t("inventory.productsNeedRestocking")}`},style:{"margin-bottom":"2rem","border-color":"#ffcdd2",background:"#ffebee"},get children(){var _e=Tt();return _e.style.setProperty("margin-top","1rem"),r(_e,u(mt,{get each(){return Ne.getLowStockProducts().slice(0,9)},children:$e=>(()=>{var xe=Nc(),we=xe.firstChild,Re=we.firstChild,Ie=Re.nextSibling;Ie.nextSibling;var ve=we.nextSibling,ke=ve.firstChild,De=ke.nextSibling;return De.nextSibling,xe.style.setProperty("display","flex"),xe.style.setProperty("justify-content","space-between"),xe.style.setProperty("margin-bottom","0.5rem"),xe.style.setProperty("font-size","0.875rem"),r(we,()=>$e.name,Re),r(we,()=>$e?.sku,Ie),ve.style.setProperty("color","#d32f2f"),ve.style.setProperty("font-weight","600"),r(ve,()=>$e.currentStock,ke),r(ve,()=>$e.minStockLevel,De),r(ve,()=>t("inventory.min"),null),xe})()}),null),r(_e,(()=>{var $e=F(()=>Ne.getLowStockProducts().length>5);return()=>$e()&&(()=>{var xe=Tt();return xe.style.setProperty("font-size","0.875rem"),xe.style.setProperty("color","var(--text-muted)"),xe.style.setProperty("font-style","italic"),r(xe,()=>t("common.andMore",{count:Ne.getLowStockProducts().length-9})),xe})()})(),null),_e}})})(),null),B(de=>o(p,Se,de)),z})()),F(()=>F(()=>y()==="products")()&&(()=>{var z=Tc(),p=z.firstChild,de=p.firstChild,_e=de.firstChild,$e=_e.nextSibling,xe=$e.firstChild,we=p.nextSibling,Re=we.firstChild;return p.style.setProperty("display","flex"),p.style.setProperty("justify-content","space-between"),p.style.setProperty("align-items","flex-start"),p.style.setProperty("margin-bottom","1.5rem"),p.style.setProperty("flex-wrap","wrap"),p.style.setProperty("gap","1rem"),de.style.setProperty("flex","1"),de.style.setProperty("min-width","300px"),_e.style.setProperty("margin","0 0 1rem 0"),_e.style.setProperty("font-size","1.5rem"),r(_e,()=>t("inventory.products")),$e.style.setProperty("display","flex"),$e.style.setProperty("gap","1rem"),$e.style.setProperty("align-items","center"),$e.style.setProperty("flex-wrap","wrap"),xe.style.setProperty("flex","1"),xe.style.setProperty("min-width","250px"),r(xe,u(vc,{onSearchResults:Ie=>{M(Ie),Y(Ie.length>0)},get placeholder(){return t("inventory.searchProductsStock","Search products and check stock levels...")},showResults:!1,maxResults:20})),r($e,u(Ae,{variant:"outline",onClick:()=>{ce(),Y(!1)},get children(){return["🔄 ",F(()=>t("common.showAll","Show All"))]}}),null),r(p,u(Ae,{variant:"primary",onClick:()=>re(!0),get children(){return["➕ ",F(()=>t("inventory.addProduct"))]}}),null),we.style.setProperty("margin-bottom","1rem"),we.style.setProperty("font-size","0.875rem"),we.style.setProperty("color","var(--text-muted)"),we.style.setProperty("display","flex"),we.style.setProperty("justify-content","space-between"),we.style.setProperty("align-items","center"),r(Re,(()=>{var Ie=F(()=>!!X());return()=>Ie()?`${t("inventory.searchResults","Search Results")}: ${le().length} ${t("common.products","products")}`:`${t("inventory.totalProducts","Total Products")}: ${w().length} ${t("common.products","products")}`})()),r(we,(()=>{var Ie=F(()=>!!X());return()=>Ie()&&(()=>{var ve=Bc();return ve.firstChild,ve.style.setProperty("color","var(--primary-color)"),r(ve,()=>t("inventory.filtered","Filtered view"),null),ve})()})(),null),r(z,u(mt,{get each(){return S()},children:Ie=>(()=>{var ve=Mc(),ke=ve.firstChild,De=ke.firstChild,Be=De.firstChild,Me=Be.firstChild,Pe=Me.nextSibling,Fe=Be.nextSibling,Oe=Fe.nextSibling,Je=Oe.firstChild,he=De.nextSibling,Ve=he.firstChild,it=Ve.firstChild,We=Ve.nextSibling,et=We.firstChild,tt=et.nextSibling,gt=tt.nextSibling,pt=gt.nextSibling;pt.nextSibling;var lt=We.nextSibling,Le=lt.firstChild;return ve.addEventListener("mouseleave",Ee=>{Ee.currentTarget.style.transform="translateY(0)",Ee.currentTarget.style.boxShadow="none"}),ve.addEventListener("mouseenter",Ee=>{Ee.currentTarget.style.transform="translateY(-2px)",Ee.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)"}),o(ve,Q),o(ke,O),Be.style.setProperty("display","flex"),Be.style.setProperty("align-items","center"),Be.style.setProperty("gap","0.5rem"),Be.style.setProperty("margin-bottom","0.5rem"),Me.style.setProperty("margin","0"),Me.style.setProperty("font-size","1.1rem"),r(Me,()=>Ie.name),r(Pe,(()=>{var Ee=F(()=>!!Ie.isLowStock);return()=>Ee()?t("inventory.lowStockAlert"):t("inventory.inStock")})()),Fe.style.setProperty("font-size","0.875rem"),Fe.style.setProperty("color","var(--text-muted)"),r(Fe,()=>Ie.sku,null),r(Fe,()=>Ie.UPC?" • "+Ie.UPC:"",null),r(Fe,()=>Ie.category?" • "+Ie.category:"",null),Oe.style.setProperty("font-size","0.875rem"),Oe.style.setProperty("color","var(--text-muted)"),r(Oe,()=>t("inventory.lastSeen"),Je),r(Oe,()=>Ie.lastLocation?.name||t("inventory.noMovements"),null),he.style.setProperty("text-align","right"),Ve.style.setProperty("font-size","1.25rem"),Ve.style.setProperty("font-weight","700"),Ve.style.setProperty("color","var(--primary-color)"),r(Ve,()=>Ie.totalStock,it),r(Ve,()=>Ie.unitOfMeasure,null),We.style.setProperty("font-size","0.875rem"),We.style.setProperty("color","var(--text-muted)"),r(We,()=>t("inventory.min"),et),r(We,()=>Ie.minStockLevel,tt),r(We,()=>t("inventory.max"),pt),r(We,()=>Ie.maxStockLevel,null),lt.style.setProperty("font-size","0.875rem"),lt.style.setProperty("color","var(--text-muted)"),r(lt,()=>t("inventory.cost"),Le),r(lt,()=>ne(Ie.unitCost),null),r(ve,(()=>{var Ee=F(()=>Ie.stockByLocation.length>0);return()=>Ee()&&(()=>{var Ue=Rc(),He=Ue.firstChild,ot=He.firstChild,Ye=He.nextSibling;return Ue.style.setProperty("margin-top","1rem"),He.style.setProperty("font-weight","500"),He.style.setProperty("margin-bottom","0.5rem"),He.style.setProperty("font-size","0.875rem"),r(He,()=>t("inventory.stockByLocation"),ot),Ye.style.setProperty("display","flex"),Ye.style.setProperty("flex-wrap","wrap"),Ye.style.setProperty("gap","0.5rem"),r(Ye,u(mt,{get each(){return Ie.stockByLocation},children:Ce=>{const ze=Ne.getLocationById(Ce.locationId);return console.log("location",Ce,ze),(()=>{var Ke=Oc(),rt=Ke.firstChild;return Ke.style.setProperty("padding","0.25rem 0.5rem"),Ke.style.setProperty("background","var(--background-color)"),Ke.style.setProperty("border-radius","var(--border-radius-sm)"),Ke.style.setProperty("font-size","0.75rem"),Ke.style.setProperty("border","1px solid var(--border-color)"),r(Ke,()=>ze?.name,rt),r(Ke,()=>Ce.quantity,null),Ke})()}})),Ue})()})(),null),B(Ee=>o(Pe,pe(Ie.isLowStock),Ee)),ve})()}),null),r(z,(()=>{var Ie=F(()=>I()>1);return()=>Ie()&&(()=>{var ve=jc(),ke=ve.firstChild,De=ke.firstChild,Be=De.firstChild,Me=De.nextSibling,Pe=ke.nextSibling,Fe=Pe.firstChild,Oe=Fe.firstChild,Je=Oe.nextSibling,he=Je.nextSibling,Ve=he.firstChild,it=Pe.nextSibling;return ve.style.setProperty("display","flex"),ve.style.setProperty("justify-content","space-between"),ve.style.setProperty("align-items","center"),ve.style.setProperty("margin-top","2rem"),ve.style.setProperty("padding","1rem"),ve.style.setProperty("background","var(--surface-color)"),ve.style.setProperty("border-radius","var(--border-radius)"),ve.style.setProperty("border","1px solid var(--border-color)"),ke.style.setProperty("display","flex"),ke.style.setProperty("align-items","center"),ke.style.setProperty("gap","0.5rem"),De.style.setProperty("font-size","0.875rem"),De.style.setProperty("color","var(--text-muted)"),r(De,()=>t("common.showPerPage","Show per page"),Be),Me.addEventListener("change",We=>{v(parseInt(We.target.value)),m(1)}),Me.style.setProperty("padding","0.25rem 0.5rem"),Me.style.setProperty("border","1px solid var(--border-color)"),Me.style.setProperty("border-radius","var(--border-radius-sm)"),Me.style.setProperty("background","var(--background-color)"),Me.style.setProperty("cursor","pointer"),Pe.style.setProperty("display","flex"),Pe.style.setProperty("align-items","center"),Pe.style.setProperty("gap","0.5rem"),r(Pe,u(Ae,{variant:"outline",size:"sm",onClick:()=>m(1),get disabled(){return _()===1},get children(){return t("common.first","First")}}),Fe),r(Pe,u(Ae,{variant:"outline",size:"sm",onClick:()=>m(We=>Math.max(1,We-1)),get disabled(){return _()===1},get children(){return t("common.previous","Previous")}}),Fe),Fe.style.setProperty("display","flex"),Fe.style.setProperty("align-items","center"),Fe.style.setProperty("gap","0.25rem"),Oe.style.setProperty("font-size","0.875rem"),r(Oe,()=>t("common.page","Page")),Je.addEventListener("change",We=>{const et=parseInt(We.target.value);et>=1&&et<=I()&&m(et)}),Je.style.setProperty("width","60px"),Je.style.setProperty("padding","0.25rem 0.5rem"),Je.style.setProperty("border","1px solid var(--border-color)"),Je.style.setProperty("border-radius","var(--border-radius-sm)"),Je.style.setProperty("text-align","center"),Je.style.setProperty("font-size","0.875rem"),he.style.setProperty("font-size","0.875rem"),r(he,()=>t("common.of","of"),Ve),r(he,I,null),r(Pe,u(Ae,{variant:"outline",size:"sm",onClick:()=>m(We=>Math.min(I(),We+1)),get disabled(){return _()===I()},get children(){return t("common.next","Next")}}),null),r(Pe,u(Ae,{variant:"outline",size:"sm",onClick:()=>m(I()),get disabled(){return _()===I()},get children(){return t("common.last","Last")}}),null),it.style.setProperty("font-size","0.875rem"),it.style.setProperty("color","var(--text-muted)"),r(it,()=>{const We=X()?le():w(),et=(_()-1)*D()+1,tt=Math.min(_()*D(),We.length);return t("common.showingXofY","Showing {{start}}-{{end}} of {{total}}",{start:et,end:tt,total:We.length})}),B(()=>Ze(Je,"max",I())),B(()=>Me.value=D()),B(()=>Je.value=_()),ve})()})(),null),z})()),F(()=>F(()=>y()==="movements")()&&u(ac,{})),F(()=>F(()=>y()==="locations")()&&(()=>{var z=zc(),p=z.firstChild,de=p.firstChild,_e=p.nextSibling;return p.style.setProperty("display","flex"),p.style.setProperty("justify-content","space-between"),p.style.setProperty("align-items","center"),p.style.setProperty("margin-bottom","1.5rem"),de.style.setProperty("margin","0"),de.style.setProperty("font-size","1.5rem"),r(de,()=>t("inventory.locations")),r(p,u(Ae,{variant:"primary",onClick:()=>ue(!0),get children(){return["🏭 ",F(()=>t("inventory.addLocation"))]}}),null),o(_e,ge),r(_e,u(mt,{get each(){return Ne.getActiveLocations()},children:$e=>{const xe=Ne.getStockByLocation($e.id),we=xe.length,Re=xe.reduce((ve,ke)=>ve*1+ke.quantity*1,0),Ie=xe.reduce((ve,ke)=>{const De=Ne.getProductById(ke.productId);return ve+ke.quantity*1*(De?.unitCost||0)},0);return(()=>{var ve=Fc(),ke=ve.firstChild,De=ke.firstChild,Be=De.firstChild,Me=Be.nextSibling,Pe=De.nextSibling,Fe=Pe.firstChild,Oe=Pe.nextSibling,Je=ke.nextSibling,he=Je.firstChild,Ve=he.firstChild,it=Ve.firstChild,We=Ve.nextSibling,et=he.nextSibling,tt=et.firstChild,gt=tt.firstChild,pt=tt.nextSibling,lt=et.nextSibling,Le=lt.firstChild,Ee=Le.firstChild,Ue=Le.nextSibling,He=Je.nextSibling,ot=He.firstChild,Ye=ot.firstChild;return ke.style.setProperty("margin-bottom","1rem"),ke.style.setProperty("padding-bottom","1rem"),ke.style.setProperty("border-bottom","1px solid var(--border-color)"),De.style.setProperty("display","flex"),De.style.setProperty("align-items","center"),De.style.setProperty("gap","0.5rem"),De.style.setProperty("margin-bottom","0.5rem"),Be.style.setProperty("font-size","1.2rem"),r(Be,()=>$e.type==="warehouse"?"🏭":$e.type==="store"?"🏪":$e.type==="supplier"?"🚚":"👥"),Me.style.setProperty("margin","0"),Me.style.setProperty("font-size","1.1rem"),r(Me,()=>$e.name),Pe.style.setProperty("font-size","0.875rem"),Pe.style.setProperty("color","var(--text-muted)"),r(Pe,()=>$e.code,Fe),r(Pe,()=>W($e.type),null),Oe.style.setProperty("font-size","0.75rem"),Oe.style.setProperty("color","var(--text-muted)"),Oe.style.setProperty("margin-top","0.25rem"),r(Oe,()=>$e.address),Je.style.setProperty("margin-bottom","1rem"),he.style.setProperty("display","flex"),he.style.setProperty("justify-content","space-between"),he.style.setProperty("margin-bottom","0.5rem"),Ve.style.setProperty("font-size","0.875rem"),Ve.style.setProperty("font-weight","500"),r(Ve,()=>t("inventory.products"),it),We.style.setProperty("font-weight","600"),r(We,we),et.style.setProperty("display","flex"),et.style.setProperty("justify-content","space-between"),et.style.setProperty("margin-bottom","0.5rem"),tt.style.setProperty("font-size","0.875rem"),tt.style.setProperty("font-weight","500"),r(tt,()=>t("inventory.totalItems"),gt),pt.style.setProperty("font-weight","600"),pt.style.setProperty("color","var(--primary-color)"),r(pt,Re),lt.style.setProperty("display","flex"),lt.style.setProperty("justify-content","space-between"),lt.style.setProperty("margin-bottom","1rem"),Le.style.setProperty("font-size","0.875rem"),Le.style.setProperty("font-weight","500"),r(Le,()=>t("inventory.totalValue"),Ee),Ue.style.setProperty("font-weight","600"),Ue.style.setProperty("color","var(--primary-color)"),r(Ue,()=>ne(Ie)),ot.style.setProperty("font-weight","600"),ot.style.setProperty("margin-bottom","0.75rem"),ot.style.setProperty("font-size","0.875rem"),ot.style.setProperty("color","var(--text-primary)"),ot.style.setProperty("border-bottom","1px solid var(--border-color)"),ot.style.setProperty("padding-bottom","0.5rem"),r(ot,()=>t("inventory.productDetails"),Ye),r(He,(()=>{var Ce=F(()=>xe.length===0);return()=>Ce()?(()=>{var ze=Tt();return ze.style.setProperty("text-align","center"),ze.style.setProperty("color","var(--text-muted)"),ze.style.setProperty("font-style","italic"),ze.style.setProperty("padding","1rem"),r(ze,()=>t("inventory.noProducts")),ze})():(()=>{var ze=Tt();return ze.style.setProperty("max-height","200px"),ze.style.setProperty("overflow-y","auto"),ze.style.setProperty("border","1px solid var(--border-color)"),ze.style.setProperty("border-radius","var(--border-radius-sm)"),r(ze,u(mt,{each:xe,children:Ke=>{const rt=Ne.getProductById(Ke.productId);if(!rt)return null;const Ct=Ke.quantity<=rt.minStockLevel,Pt=Ke.quantity*rt.unitCost;return(()=>{var ft=qc(),$t=ft.firstChild,at=$t.firstChild,ut=at.firstChild,_t=ut.nextSibling,bt=at.nextSibling,ht=bt.firstChild,Bt=ht.firstChild,Ot=ht.nextSibling,Nt=Ot.nextSibling;return Nt.firstChild,ft.style.setProperty("padding","0.75rem"),ft.style.setProperty("border-bottom","1px solid var(--border-color)"),(Ct?"#fff5f5":"transparent")!=null?ft.style.setProperty("background",Ct?"#fff5f5":"transparent"):ft.style.removeProperty("background"),ft.style.setProperty("transition","background-color 0.2s ease"),$t.style.setProperty("display","flex"),$t.style.setProperty("justify-content","space-between"),$t.style.setProperty("align-items","flex-start"),$t.style.setProperty("margin-bottom","0.25rem"),at.style.setProperty("flex","1"),ut.style.setProperty("font-weight","500"),ut.style.setProperty("font-size","0.875rem"),(Ct?"#d32f2f":"var(--text-primary)")!=null?ut.style.setProperty("color",Ct?"#d32f2f":"var(--text-primary)"):ut.style.removeProperty("color"),r(ut,()=>rt.name,null),r(ut,Ct&&(()=>{var jt=Uc();return jt.style.setProperty("margin-left","0.5rem"),jt.style.setProperty("font-size","0.7rem"),jt.style.setProperty("color","#d32f2f"),jt})(),null),_t.style.setProperty("font-size","0.75rem"),_t.style.setProperty("color","var(--text-muted)"),_t.style.setProperty("margin-top","0.1rem"),r(_t,()=>rt.sku,null),r(_t,()=>rt.UPC?" • "+rt.UPC:"",null),r(_t,()=>rt.category?" • "+rt.category:"",null),bt.style.setProperty("text-align","right"),ht.style.setProperty("font-weight","600"),ht.style.setProperty("font-size","0.875rem"),(Ct?"#d32f2f":"var(--primary-color)")!=null?ht.style.setProperty("color",Ct?"#d32f2f":"var(--primary-color)"):ht.style.removeProperty("color"),r(ht,()=>Ke.quantity,Bt),r(ht,()=>rt.unitOfMeasure,null),Ot.style.setProperty("font-size","0.75rem"),Ot.style.setProperty("color","var(--text-muted)"),r(Ot,()=>ne(Pt)),Nt.style.setProperty("font-size","0.7rem"),Nt.style.setProperty("color","var(--text-muted)"),Nt.style.setProperty("margin-top","0.1rem"),r(Nt,()=>rt.minStockLevel,null),ft})()}})),ze})()})(),null),B(Ce=>o(ve,{...T,"min-height":"400px"},Ce)),ve})()}})),z})())]),u($s,{get isOpen(){return e()},onClose:()=>n(!1),get mode(){return E()==="new"?"movement":"legacy"}}),u(Is,{get isOpen(){return i()},onClose:()=>a(!1)}),u(Ts,{get isOpen(){return s()},onClose:()=>l(!1),get item(){return c()}}),u(un,{get isOpen(){return oe()},onClose:()=>re(!1),onProductAdded:()=>{re(!1)}}),u(Hn,{get isOpen(){return me()},onClose:()=>ue(!1),onLocationAdded:()=>{ue(!1)}}),u(wc,{get isOpen(){return f()},onClose:()=>ie(!1)})]}})};vt(["click"]);function Yc(t,e=300,n=!1){let i,a;const s=()=>{i!==void 0&&(clearTimeout(i),i=void 0),a=void 0},l=()=>{i!==void 0&&a!==void 0&&(clearTimeout(i),i=void 0,t(...a),a=void 0)},c=(...d)=>{a=d,i!==void 0&&clearTimeout(i),n&&i===void 0&&t(...d),i=window.setTimeout(()=>{n||t(...d),i=void 0,a=void 0},e)};return kr(()=>{s()}),{debounced:c,cancel:s,flush:l}}function Wc(t,e=300){const[n,i]=Z(!1);let a;const s=async y=>{if(a&&a.abort(),!y.trim()){i(!1);return}a=new AbortController,i(!0);try{await t(y)}catch(g){g instanceof Error&&g.name!=="AbortError"&&console.error("Search error:",g)}finally{a.signal.aborted||i(!1)}},{debounced:l,cancel:c}=Yc(s,e,!1),d=()=>{c(),a&&a.abort(),i(!1)};return kr(()=>{d()}),{search:l,isSearching:n,cancel:d}}var Hc=k("<div>"),Gc=k("<div><h4>"),Jc=k("<div><div><div><h2></h2><div>SKU: <!> • </div></div><div></div></div><div><h3></h3><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div></div><div><h3></h3><div><div><div><span></span><span></span></div><div><span></span><span></span></div></div><div><div><span></span><span></span></div><div><span></span><span>%</span></div></div></div></div><div><h3></h3><div><div><div><span></span><span> </span></div><div><span></span><span> </span></div></div><div><div><span></span><span> </span></div><div><span></span><span></span></div></div></div></div><div><h3></h3><div><span></span><span></span></div><div><span></span><span></span></div></div><div>"),Qc=k("<span>✓ "),Kc=k("<span>✗ "),Zc=k("<div><div><span></span><span> </span></div><div>: <!> • <!>: ");const Xc=t=>{const{t:e}=Qe(),n=qe(()=>{if(!t.product)return null;const $=Ne.getTotalStockByProduct(t.product.id),P=Ne.getStockByProduct(t.product.id),x=$<=t.product.minStockLevel,h=$===0,M=$>=t.product.maxStockLevel;return{total:$,byLocation:P,status:h?"out":x?"low":M?"over":"good",statusText:h?e("products.outOfStock","Out of Stock"):x?e("products.lowStock","Low Stock"):M?e("products.overStock","Over Stock"):e("products.inStock","In Stock")}}),i=$=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format($),a=$=>new Date($).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),s=qe(()=>!t.product||t.product.unitCost===0?0:((t.product.sellingPrice-t.product.unitCost)/t.product.unitCost*100).toFixed(2)),l={"margin-bottom":"2rem"},c={display:"flex","justify-content":"space-between","align-items":"center",padding:"0.75rem 0","border-bottom":"1px solid var(--border-color)"},d={"font-weight":"500",color:"var(--text-muted)","font-size":"0.875rem"},y={"font-weight":"400",color:"var(--text-primary)","font-size":"1rem"},g=$=>{const P={good:{background:"#d4edda",color:"#155724"},low:{background:"#fff3cd",color:"#856404"},out:{background:"#f8d7da",color:"#721c24"},over:{background:"#cce5ff",color:"#004085"}};return{display:"inline-block",padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.875rem","font-weight":"500",...P[$]||P.good}},E={display:"grid","grid-template-columns":"1fr 1fr",gap:"1rem"},L={background:"var(--surface-color)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)",padding:"1rem","margin-bottom":"0.75rem"},A={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"1.5rem","padding-bottom":"1rem","border-bottom":"2px solid var(--border-color)"};return u(It,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return e("products.productDetails","Product Details")},size:"large",get children(){return u(Ge,{get when(){return t.product},get fallback(){return(()=>{var $=Hc();return $.style.setProperty("text-align","center"),$.style.setProperty("padding","2rem"),$.style.setProperty("color","var(--text-muted)"),r($,()=>e("products.noProductSelected","No product selected")),$})()},children:$=>(()=>{var P=Jc(),x=P.firstChild,h=x.firstChild,M=h.firstChild,U=M.nextSibling,R=U.firstChild,X=R.nextSibling;X.nextSibling;var Y=h.nextSibling,oe=x.nextSibling,re=oe.firstChild,me=re.nextSibling,ue=me.firstChild,te=ue.nextSibling,ee=me.nextSibling,f=ee.firstChild,ie=f.nextSibling,_=ee.nextSibling,m=_.firstChild,D=m.nextSibling,v=oe.nextSibling,C=v.firstChild,b=C.nextSibling,w=b.firstChild,le=w.firstChild,S=le.firstChild,I=S.nextSibling,H=le.nextSibling,V=H.firstChild,ne=V.nextSibling,W=w.nextSibling,q=W.firstChild,ae=q.firstChild,N=ae.nextSibling,G=q.nextSibling,fe=G.firstChild,Se=fe.nextSibling,K=Se.firstChild,J=v.nextSibling,se=J.firstChild,Q=se.nextSibling,O=Q.firstChild,pe=O.firstChild,ge=pe.firstChild,T=ge.nextSibling,j=T.firstChild,be=pe.nextSibling,ye=be.firstChild,ce=ye.nextSibling,z=ce.firstChild,p=O.nextSibling,de=p.firstChild,_e=de.firstChild,$e=_e.nextSibling,xe=$e.firstChild,we=de.nextSibling,Re=we.firstChild,Ie=Re.nextSibling,ve=J.nextSibling,ke=ve.firstChild,De=ke.nextSibling,Be=De.firstChild,Me=Be.nextSibling,Pe=De.nextSibling,Fe=Pe.firstChild,Oe=Fe.nextSibling,Je=ve.nextSibling;return o(x,A),M.style.setProperty("margin","0"),M.style.setProperty("font-size","1.5rem"),M.style.setProperty("margin-bottom","0.25rem"),r(M,()=>$().name),U.style.setProperty("color","var(--text-muted)"),r(U,()=>$().sku,X),r(U,()=>$().category,null),r(Y,()=>n()?.statusText),re.style.setProperty("margin-bottom","1rem"),re.style.setProperty("font-size","1.1rem"),r(re,()=>e("products.basicInformation","Basic Information")),r(ue,()=>e("products.description","Description")),r(te,()=>$().description||e("common.notAvailable","N/A")),r(f,()=>e("products.unitOfMeasure","Unit of Measure")),r(ie,()=>$().unitOfMeasure),r(m,()=>e("products.status","Status")),r(D,(()=>{var he=F(()=>!!$().isActive);return()=>he()?(()=>{var Ve=Qc();return Ve.firstChild,Ve.style.setProperty("color","#2e7d32"),r(Ve,()=>e("common.active","Active"),null),Ve})():(()=>{var Ve=Kc();return Ve.firstChild,Ve.style.setProperty("color","#d32f2f"),r(Ve,()=>e("common.inactive","Inactive"),null),Ve})()})()),C.style.setProperty("margin-bottom","1rem"),C.style.setProperty("font-size","1.1rem"),r(C,()=>e("products.pricingInformation","Pricing Information")),r(S,()=>e("products.unitCost","Unit Cost")),r(I,()=>i($().unitCost)),r(V,()=>e("products.sellingPrice","Selling Price")),r(ne,()=>i($().sellingPrice)),r(ae,()=>e("products.profit","Profit")),r(N,()=>i($().sellingPrice-$().unitCost)),r(fe,()=>e("products.profitMargin","Profit Margin")),r(Se,s,K),se.style.setProperty("margin-bottom","1rem"),se.style.setProperty("font-size","1.1rem"),r(se,()=>e("products.stockInformation","Stock Information")),r(ge,()=>e("products.totalStock","Total Stock")),r(T,()=>n()?.total||0,j),r(T,()=>$().unitOfMeasure,null),r(ye,()=>e("products.minStockLevel","Min Stock Level")),r(ce,()=>$().minStockLevel,z),r(ce,()=>$().unitOfMeasure,null),r(_e,()=>e("products.maxStockLevel","Max Stock Level")),r($e,()=>$().maxStockLevel,xe),r($e,()=>$().unitOfMeasure,null),r(Re,()=>e("products.stockValue","Stock Value")),r(Ie,()=>i((n()?.total||0)*$().unitCost)),r(J,u(Ge,{get when(){return F(()=>!!n()?.byLocation)()&&n().byLocation.length>0},get children(){var he=Gc(),Ve=he.firstChild;return he.style.setProperty("margin-top","1.5rem"),Ve.style.setProperty("margin-bottom","1rem"),Ve.style.setProperty("font-size","1rem"),r(Ve,()=>e("products.stockByLocation","Stock by Location")),r(he,()=>n().byLocation.map(it=>(()=>{var We=Zc(),et=We.firstChild,tt=et.firstChild,gt=tt.nextSibling,pt=gt.firstChild,lt=et.nextSibling,Le=lt.firstChild,Ee=Le.nextSibling,Ue=Ee.nextSibling,He=Ue.nextSibling;return He.nextSibling,o(We,L),et.style.setProperty("display","flex"),et.style.setProperty("justify-content","space-between"),et.style.setProperty("align-items","center"),tt.style.setProperty("font-weight","500"),r(tt,()=>it.locationName),gt.style.setProperty("font-weight","600"),gt.style.setProperty("color","var(--primary-color)"),r(gt,()=>it.quantity,pt),r(gt,()=>$().unitOfMeasure,null),lt.style.setProperty("margin-top","0.5rem"),lt.style.setProperty("font-size","0.875rem"),lt.style.setProperty("color","var(--text-muted)"),r(lt,()=>e("products.available","Available"),Le),r(lt,()=>it.availableQuantity,Ee),r(lt,()=>e("products.reserved","Reserved"),He),r(lt,()=>it.reservedQuantity,null),We})()),null),he}}),null),ke.style.setProperty("margin-bottom","1rem"),ke.style.setProperty("font-size","1.1rem"),r(ke,()=>e("products.timestamps","Timestamps")),r(Be,()=>e("common.createdDate","Created Date")),r(Me,()=>a($().createdDate)),r(Fe,()=>e("common.lastModified","Last Modified")),r(Oe,()=>a($().lastModified)),Je.style.setProperty("display","flex"),Je.style.setProperty("gap","1rem"),Je.style.setProperty("justify-content","flex-end"),Je.style.setProperty("margin-top","2rem"),r(Je,u(Ae,{variant:"secondary",get onClick(){return t.onClose},get children(){return e("common.close","Close")}}),null),r(Je,u(Ge,{get when(){return t.onEdit},get children(){return u(Ae,{variant:"primary",get onClick(){return t.onEdit},get children(){return e("common.edit","Edit")}})}}),null),B(he=>{var Ve=g(n()?.status||"good"),it=l,We=c,et=d,tt=y,gt=c,pt=d,lt=y,Le=c,Ee=d,Ue=y,He=l,ot=E,Ye=c,Ce=d,ze=y,Ke=c,rt=d,Ct=y,Pt=c,ft=d,$t=y,at=c,ut=d,_t=y,bt=l,ht=E,Bt=c,Ot=d,Nt=y,jt=c,Zt=d,Ar=y,hr=c,Sr=d,Pr=y,Xt=c,Ir=d,$r=y,Xe=l,yt=c,Et=d,zt=y,Vt=c,xt=d,cr=y;return he.e=o(Y,Ve,he.e),he.t=o(oe,it,he.t),he.a=o(me,We,he.a),he.o=o(ue,et,he.o),he.i=o(te,tt,he.i),he.n=o(ee,gt,he.n),he.s=o(f,pt,he.s),he.h=o(ie,lt,he.h),he.r=o(_,Le,he.r),he.d=o(m,Ee,he.d),he.l=o(D,Ue,he.l),he.u=o(v,He,he.u),he.c=o(b,ot,he.c),he.w=o(le,Ye,he.w),he.m=o(S,Ce,he.m),he.f=o(I,ze,he.f),he.y=o(H,Ke,he.y),he.g=o(V,rt,he.g),he.p=o(ne,Ct,he.p),he.b=o(q,Pt,he.b),he.T=o(ae,ft,he.T),he.A=o(N,$t,he.A),he.O=o(G,at,he.O),he.I=o(fe,ut,he.I),he.S=o(Se,_t,he.S),he.W=o(J,bt,he.W),he.C=o(Q,ht,he.C),he.B=o(pe,Bt,he.B),he.v=o(ge,Ot,he.v),he.k=o(T,Nt,he.k),he.x=o(be,jt,he.x),he.j=o(ye,Zt,he.j),he.q=o(ce,Ar,he.q),he.z=o(de,hr,he.z),he.P=o(_e,Sr,he.P),he.H=o($e,Pr,he.H),he.F=o(we,Xt,he.F),he.M=o(Re,Ir,he.M),he.D=o(Ie,$r,he.D),he.R=o(ve,Xe,he.R),he.E=o(De,yt,he.E),he.L=o(Be,Et,he.L),he.N=o(Me,zt,he.N),he.G=o(Pe,Vt,he.G),he.U=o(Fe,xt,he.U),he.K=o(Oe,cr,he.K),he},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0,O:void 0,I:void 0,S:void 0,W:void 0,C:void 0,B:void 0,v:void 0,k:void 0,x:void 0,j:void 0,q:void 0,z:void 0,P:void 0,H:void 0,F:void 0,M:void 0,D:void 0,R:void 0,E:void 0,L:void 0,N:void 0,G:void 0,U:void 0,K:void 0}),P})()})}})};var ed=k("<form><div><label> *</label><input type=text required></div><div><div><label> *</label><input type=text required></div><div><label> *</label><input type=text list=categories required><datalist id=categories><option value=Electronics></option><option value=Accessories></option><option value=Office></option><option value=Furniture></option><option value=Software></option><option value=Hardware></option></datalist></div></div><div><label></label><textarea></textarea></div><div><label></label><div><input type=checkbox id=activeStatus><label for=activeStatus></label></div></div><div><div><label></label><select><option value=pcs></option><option value=kg></option><option value=lbs></option><option value=m></option><option value=ft></option><option value=l></option><option value=gal></option><option value=box></option><option value=pack></option></select></div><div><label></label><input type=number min=0 step=0.01 placeholder=0.00></div></div><div><div><label></label><input type=number min=0 step=0.01 placeholder=0.00></div><div></div></div><div><div><span>:</span><span>$</span></div><div><span>:</span><span>%</span></div></div><div><div><label></label><input type=number min=0 step=1></div><div><label></label><input type=number min=1 step=1></div></div><div>"),ho=k("<div>"),td=k("<span>✓ "),rd=k("<span>✗ ");const nd=t=>{const{t:e}=Qe(),[n,i]=Z(""),[a,s]=Z(""),[l,c]=Z(""),[d,y]=Z(""),[g,E]=Z("pcs"),[L,A]=Z(0),[$,P]=Z(0),[x,h]=Z(10),[M,U]=Z(100),[R,X]=Z(!0),[Y,oe]=Z("");lr(()=>{t.product&&(i(t.product.name),s(t.product.sku),c(t.product.description||""),y(t.product.category),E(t.product.unitOfMeasure),A(t.product.unitCost),P(t.product.sellingPrice),h(t.product.minStockLevel),U(t.product.maxStockLevel),X(t.product.isActive),oe(""))});const re=b=>{if(b.preventDefault(),oe(""),!t.product)return;if(!n().trim()){oe(e("forms.productNameRequired","Product name is required"));return}if(!a().trim()){oe(e("forms.skuRequired","SKU is required"));return}if(!d().trim()){oe(e("forms.categoryRequired","Category is required"));return}if(L()<0){oe(e("forms.unitCostNotNegative","Unit cost cannot be negative"));return}if($()<0){oe(e("forms.sellingPriceNotNegative","Selling price cannot be negative"));return}if(x()<0){oe(e("forms.minStockNotNegative","Min stock level cannot be negative"));return}if(M()<=x()){oe(e("forms.maxStockGreaterThanMin","Max stock level must be greater than min stock level"));return}const w=Ne.getProductsBySku(a());if(w.length>0&&w[0].id!==t.product.id){oe(e("forms.skuAlreadyExists","SKU already exists"));return}const le={...t.product,name:n().trim(),sku:a().trim().toUpperCase(),description:l().trim(),category:d().trim(),unitOfMeasure:g(),unitCost:L(),sellingPrice:$(),minStockLevel:x(),maxStockLevel:M(),isActive:R(),lastModified:new Date().toISOString()};Ne.updateProduct(t.product.id,le),t.onProductUpdated&&t.onProductUpdated(t.product.id),t.onClose()},me=()=>{oe(""),t.onClose()},ue=()=>L()===0?0:(($()-L())/L()*100).toFixed(2),te={"margin-bottom":"1.5rem"},ee={display:"block","margin-bottom":"0.5rem","font-weight":"500",color:"var(--text-primary)"},f={width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)"},ie={...f,cursor:"pointer"},_={color:"#f44336","font-size":"0.875rem","margin-bottom":"1rem"},m={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},D={display:"grid","grid-template-columns":"1fr 1fr",gap:"1rem"},v={padding:"1rem",background:"var(--surface-color)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","margin-bottom":"1.5rem",display:"flex","justify-content":"space-between","align-items":"center"},C={display:"flex","align-items":"center",gap:"0.5rem",cursor:"pointer"};return u(It,{get isOpen(){return t.isOpen},onClose:me,get title(){return e("products.updateProduct","Update Product")},size:"large",get children(){return u(Ge,{get when(){return t.product},get fallback(){return(()=>{var b=ho();return b.style.setProperty("text-align","center"),b.style.setProperty("padding","2rem"),b.style.setProperty("color","var(--text-muted)"),r(b,()=>e("products.noProductSelected","No product selected")),b})()},get children(){var b=ed(),w=b.firstChild,le=w.firstChild,S=le.firstChild,I=le.nextSibling,H=w.nextSibling,V=H.firstChild,ne=V.firstChild,W=ne.firstChild,q=ne.nextSibling,ae=V.nextSibling,N=ae.firstChild,G=N.firstChild,fe=N.nextSibling,Se=H.nextSibling,K=Se.firstChild,J=K.nextSibling,se=Se.nextSibling,Q=se.firstChild,O=Q.nextSibling,pe=O.firstChild,ge=pe.nextSibling,T=se.nextSibling,j=T.firstChild,be=j.firstChild,ye=be.nextSibling,ce=ye.firstChild,z=ce.nextSibling,p=z.nextSibling,de=p.nextSibling,_e=de.nextSibling,$e=_e.nextSibling,xe=$e.nextSibling,we=xe.nextSibling,Re=we.nextSibling,Ie=j.nextSibling,ve=Ie.firstChild,ke=ve.nextSibling,De=T.nextSibling,Be=De.firstChild,Me=Be.firstChild,Pe=Me.nextSibling,Fe=De.nextSibling,Oe=Fe.firstChild,Je=Oe.firstChild,he=Je.firstChild,Ve=Je.nextSibling;Ve.firstChild;var it=Oe.nextSibling,We=it.firstChild,et=We.firstChild,tt=We.nextSibling,gt=tt.firstChild,pt=Fe.nextSibling,lt=pt.firstChild,Le=lt.firstChild,Ee=Le.nextSibling,Ue=lt.nextSibling,He=Ue.firstChild,ot=He.nextSibling,Ye=pt.nextSibling;return b.addEventListener("submit",re),r(le,()=>e("inventory.productName","Product Name"),S),I.addEventListener("change",Ce=>i(Ce.target.value)),r(ne,()=>e("inventory.sku","SKU"),W),q.addEventListener("change",Ce=>s(Ce.target.value)),r(N,()=>e("inventory.category","Category"),G),fe.addEventListener("change",Ce=>y(Ce.target.value)),r(K,()=>e("common.description","Description")),J.addEventListener("change",Ce=>c(Ce.target.value)),r(Q,()=>e("products.status","Status")),o(O,C),pe.addEventListener("change",Ce=>X(Ce.target.checked)),pe.style.setProperty("cursor","pointer"),ge.style.setProperty("cursor","pointer"),r(ge,(()=>{var Ce=F(()=>!!R());return()=>Ce()?(()=>{var ze=td();return ze.firstChild,ze.style.setProperty("color","#2e7d32"),r(ze,()=>e("common.active","Active"),null),ze})():(()=>{var ze=rd();return ze.firstChild,ze.style.setProperty("color","#d32f2f"),r(ze,()=>e("common.inactive","Inactive"),null),ze})()})()),r(be,()=>e("inventory.unitOfMeasure","Unit of Measure")),ye.addEventListener("change",Ce=>E(Ce.target.value)),r(ce,()=>e("inventory.pieces","Pieces")),r(z,()=>e("inventory.kilograms","Kilograms")),r(p,()=>e("inventory.pounds","Pounds")),r(de,()=>e("inventory.meters","Meters")),r(_e,()=>e("inventory.feet","Feet")),r($e,()=>e("inventory.liters","Liters")),r(xe,()=>e("inventory.gallons","Gallons")),r(we,()=>e("inventory.boxes","Boxes")),r(Re,()=>e("inventory.packs","Packs")),r(ve,()=>e("inventory.unitCost","Unit Cost")),ke.addEventListener("change",Ce=>A(Number(Ce.target.value))),r(Me,()=>e("inventory.sellingPrice","Selling Price")),Pe.addEventListener("change",Ce=>P(Number(Ce.target.value))),o(Fe,v),Je.style.setProperty("color","var(--text-muted)"),Je.style.setProperty("font-size","0.875rem"),r(Je,()=>e("products.profit","Profit"),he),Ve.style.setProperty("margin-left","0.5rem"),Ve.style.setProperty("font-weight","600"),r(Ve,()=>($()-L()).toFixed(2),null),We.style.setProperty("color","var(--text-muted)"),We.style.setProperty("font-size","0.875rem"),r(We,()=>e("products.profitMargin","Profit Margin"),et),tt.style.setProperty("margin-left","0.5rem"),tt.style.setProperty("font-weight","600"),r(tt,ue,gt),r(Le,()=>e("inventory.minimumStockLevel","Minimum Stock Level")),Ee.addEventListener("change",Ce=>h(Number(Ce.target.value))),r(He,()=>e("inventory.maximumStockLevel","Maximum Stock Level")),ot.addEventListener("change",Ce=>U(Number(Ce.target.value))),r(b,(()=>{var Ce=F(()=>!!Y());return()=>Ce()&&(()=>{var ze=ho();return o(ze,_),r(ze,Y),ze})()})(),Ye),o(Ye,m),r(Ye,u(Ae,{variant:"secondary",type:"button",onClick:me,get children(){return e("common.cancel","Cancel")}}),null),r(Ye,u(Ae,{variant:"primary",type:"submit",get children(){return e("common.update","Update")}}),null),B(Ce=>{var ze=te,Ke=ee,rt=f,Ct=e("inventory.enterProductName","Enter product name"),Pt=D,ft=ee,$t=f,at=e("inventory.enterSkuCode","Enter SKU code"),ut=ee,_t=f,bt=e("inventory.enterCategory","Enter category"),ht=te,Bt=ee,Ot={...f,"min-height":"80px",resize:"vertical"},Nt=e("inventory.enterProductDescription","Enter product description"),jt=te,Zt=ee,Ar=D,hr=ee,Sr=ie,Pr=ee,Xt=f,Ir=D,$r=ee,Xe=f,yt=D,Et=ee,zt=f,Vt=ee,xt=f;return Ce.e=o(w,ze,Ce.e),Ce.t=o(le,Ke,Ce.t),Ce.a=o(I,rt,Ce.a),Ct!==Ce.o&&Ze(I,"placeholder",Ce.o=Ct),Ce.i=o(H,Pt,Ce.i),Ce.n=o(ne,ft,Ce.n),Ce.s=o(q,$t,Ce.s),at!==Ce.h&&Ze(q,"placeholder",Ce.h=at),Ce.r=o(N,ut,Ce.r),Ce.d=o(fe,_t,Ce.d),bt!==Ce.l&&Ze(fe,"placeholder",Ce.l=bt),Ce.u=o(Se,ht,Ce.u),Ce.c=o(K,Bt,Ce.c),Ce.w=o(J,Ot,Ce.w),Nt!==Ce.m&&Ze(J,"placeholder",Ce.m=Nt),Ce.f=o(se,jt,Ce.f),Ce.y=o(Q,Zt,Ce.y),Ce.g=o(T,Ar,Ce.g),Ce.p=o(be,hr,Ce.p),Ce.b=o(ye,Sr,Ce.b),Ce.T=o(ve,Pr,Ce.T),Ce.A=o(ke,Xt,Ce.A),Ce.O=o(De,Ir,Ce.O),Ce.I=o(Me,$r,Ce.I),Ce.S=o(Pe,Xe,Ce.S),Ce.W=o(pt,yt,Ce.W),Ce.C=o(Le,Et,Ce.C),Ce.B=o(Ee,zt,Ce.B),Ce.v=o(He,Vt,Ce.v),Ce.k=o(ot,xt,Ce.k),Ce},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0,O:void 0,I:void 0,S:void 0,W:void 0,C:void 0,B:void 0,v:void 0,k:void 0}),B(()=>I.value=n()),B(()=>q.value=a()),B(()=>fe.value=d()),B(()=>J.value=l()),B(()=>pe.checked=R()),B(()=>ye.value=g()),B(()=>ke.value=L()),B(()=>Pe.value=$()),B(()=>Ee.value=x()),B(()=>ot.value=M()),b}})}})};var So=k("<div>🔄 "),od=k("<div><div><div><input type=text></div><select><option value>"),id=k("<div>⚠️ "),nr=k("<div>"),ld=k("<option>"),ad=k("<div>🔍 <br><button>"),sd=k("<div><div><h3></h3><div></div></div><div></div><div>SKU: <!> • UPC: <!> • </div><div><span>: <!> </span><span></span></div><div><button></button><button>");const cd=()=>{const{t}=Qe(),[e,n]=Z(""),[i,a]=Z(""),[s,l]=Z([]),[c,d]=Z(!1),[y,g]=Z(null),[E,L]=Z(!1),[A,$]=Z(!1),[P,x]=Z(!1),[h,M]=Z(null);ar(async()=>{await U()});const U=async()=>{try{d(!0),g(null);try{const S=await eo.getAll();console.log({apiProducts:S}),l(S.map(I=>({id:I.id||`prod-${Date.now()}-${Math.random()}`,name:I.productName||I.name||"Unknown Product",sku:I.sku||I.productCode||"",description:I.description||"",category:I.category||"General",unitOfMeasure:I.unitOfMeasure||"pcs",unitCost:parseFloat(I.unitCost||I.cost||"0"),sellingPrice:parseFloat(I.sellingPrice||I.price||"0"),minStockLevel:parseInt(I.minStockLevel||"0"),maxStockLevel:parseInt(I.maxStockLevel||"100"),isActive:I.isActive!==!1,createdDate:I.createdDate||new Date().toISOString(),lastModified:I.lastModified||new Date().toISOString(),businessId:I.businessId||"YB100423253156428"})))}catch(S){console.warn("API failed, using local store:",S),l(Ne.products)}}catch(S){g(S instanceof Error?S.message:"Failed to load products")}finally{d(!1)}},R=async()=>{try{d(!0),g(null);try{console.log("loadAllProducts inventoryApi");const S=await fr.getProducts("prod");console.log({apiResults:S});const I=Object.keys(S),H=ne=>{let q=S[ne];return{id:q.id,name:q.name,businessId:q.businessId,sku:q.code,numCode:q.codeN,category:q.category,unitCost:q.unitCost||0,unitOfMeasure:q.unitOfMeasure,minStockLevel:q.minStockLevel,maxStockLevel:q.maxStockLevel,isActive:q.isActive,description:q.description||"",createdDate:q.createdAt||new Date().toISOString(),lastModified:q.updatedAt||new Date().toISOString(),sellingPrice:parseFloat(q.sellingPrice||q.price||"0")}},V=I.map(H);l(V)}catch(S){console.warn("API failed, using local store:",S),l(Ne.products)}}catch(S){g(S instanceof Error?S.message:"Failed to load products")}finally{d(!1)}},{search:X,isSearching:Y,cancel:oe}=Wc(async S=>{if(!S.trim()){await U();return}try{g(null);const I=await eo.getAll(S);l(I.map(H=>({id:H.id||`prod-${Date.now()}-${Math.random()}`,name:H.productName||H.name||"Unknown Product",sku:H.sku||H.productCode||"",description:H.description||"",category:H.category||"General",unitOfMeasure:H.unitOfMeasure||"pcs",unitCost:parseFloat(H.unitCost||H.cost||"0"),sellingPrice:parseFloat(H.sellingPrice||H.price||"0"),minStockLevel:parseInt(H.minStockLevel||"0"),maxStockLevel:parseInt(H.maxStockLevel||"100"),isActive:H.isActive!==!1,createdDate:H.createdDate||new Date().toISOString(),lastModified:H.lastModified||new Date().toISOString(),businessId:H.businessId||"YB100423253156428"})))}catch(I){g(I instanceof Error?I.message:"Search failed");const H=Ne.products.filter(V=>V.name.toLowerCase().includes(S.toLowerCase())||V.sku.toLowerCase().includes(S.toLowerCase())||V.category.toLowerCase().includes(S.toLowerCase()));l(H)}},300),re=S=>{const H=S.target.value;n(H),X(H)};kr(()=>{oe()});const me=qe(()=>{let S=s();return i()&&(S=S.filter(I=>I.category===i())),S}),ue=qe(()=>[...new Set(s().map(I=>I.category))].sort()),te=qe(()=>{const S=s().filter(V=>V.isActive),I=s().length,H=s().filter(V=>Ne.getTotalStockByProduct(V.id)===0);return{total:I,active:S.length,outOfStock:H.length}}),ee=S=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(S),f=S=>{const I=Ne.getTotalStockByProduct(S),H=s().find(W=>W.id===S);if(!H)return{quantity:0,status:"unknown"};const V=I<=H.minStockLevel;return{quantity:I,status:I===0?"out":V?"low":"good"}},ie={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"},_={padding:"1.5rem",background:"var(--surface-color)","border-radius":"var(--border-radius)",border:"1px solid var(--border-color)",cursor:"pointer",transition:"all 0.2s ease"},m={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"1rem"},D={"font-size":"1.25rem","font-weight":"600",color:"var(--primary-color)"},v=S=>({padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500",background:S?"#d4edda":"#f8d7da",color:S?"#155724":"#721c24"}),C={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"},b={display:"flex",gap:"1rem","align-items":"center","margin-bottom":"2rem","flex-wrap":"wrap"},w={flex:"1","min-width":"300px",padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)"},le={padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)","min-width":"150px"};return u(Yt,{get title(){return t("products.title","Products")},get children(){return[(()=>{var S=od(),I=S.firstChild,H=I.firstChild,V=H.firstChild,ne=H.nextSibling,W=ne.firstChild;return S.style.setProperty("display","flex"),S.style.setProperty("justify-content","space-between"),S.style.setProperty("align-items","flex-start"),S.style.setProperty("margin-bottom","2rem"),S.style.setProperty("flex-wrap","wrap"),S.style.setProperty("gap","1rem"),o(I,b),H.style.setProperty("position","relative"),H.style.setProperty("flex","1"),H.style.setProperty("min-width","300px"),V.$$input=re,o(V,w),r(H,u(Ge,{get when(){return Y()},get children(){var q=So();return q.firstChild,q.style.setProperty("position","absolute"),q.style.setProperty("right","0.75rem"),q.style.setProperty("top","50%"),q.style.setProperty("transform","translateY(-50%)"),q.style.setProperty("font-size","0.875rem"),q.style.setProperty("color","var(--text-muted)"),r(q,()=>t("common.searching","Searching..."),null),q}}),null),ne.addEventListener("change",q=>a(q.target.value)),o(ne,le),r(W,()=>t("products.allCategories","All Categories")),r(ne,u(mt,{get each(){return ue()},children:q=>(()=>{var ae=ld();return ae.value=q,r(ae,q),ae})()}),null),r(I,u(Ae,{variant:"outline",onClick:()=>{n(""),a(""),console.log("loadAllProducts"),R()},get children(){return["🔄 ",F(()=>t("common.refresh","Refresh"))]}}),null),r(S,u(Ae,{variant:"primary",onClick:()=>L(!0),get children(){return["➕ ",F(()=>t("products.addNew","Add New Product"))]}}),null),B(()=>Ze(V,"placeholder",t("products.searchPlaceholder","Search products by name, SKU, or category..."))),B(()=>V.value=e()),B(()=>ne.value=i()),S})(),u(Ge,{get when(){return y()},get children(){var S=id();return S.firstChild,S.style.setProperty("padding","1rem"),S.style.setProperty("margin-bottom","1rem"),S.style.setProperty("background","#ffebee"),S.style.setProperty("border","1px solid #ffcdd2"),S.style.setProperty("border-radius","var(--border-radius)"),S.style.setProperty("color","#d32f2f"),r(S,y,null),S}}),(()=>{var S=nr();return o(S,C),r(S,u(je,{get title(){return t("products.totalProducts","Total Products")},get subtitle(){return t("products.inCatalog","In catalog")},get children(){var I=nr();return I.style.setProperty("font-size","1.5rem"),I.style.setProperty("font-weight","600"),I.style.setProperty("color","var(--primary-color)"),r(I,()=>te().total),I}}),null),r(S,u(je,{get title(){return t("products.activeProducts","Active Products")},get subtitle(){return t("products.currentlyAvailable","Currently available")},get children(){var I=nr();return I.style.setProperty("font-size","1.5rem"),I.style.setProperty("font-weight","600"),I.style.setProperty("color","var(--primary-color)"),r(I,()=>te().active),I}}),null),r(S,u(je,{get title(){return t("products.outOfStock","Out of Stock")},get subtitle(){return t("products.needsRestock","Needs restock")},get children(){var I=nr();return I.style.setProperty("font-size","1.5rem"),I.style.setProperty("font-weight","600"),r(I,()=>te().outOfStock),B(H=>(H=te().outOfStock>0?"#f44336":"var(--primary-color)")!=null?I.style.setProperty("color",H):I.style.removeProperty("color")),I}}),null),r(S,u(je,{get title(){return t("products.showing","Showing")},get subtitle(){return F(()=>!!(e()||i()))()?t("products.filtered","Filtered results"):t("products.allProducts","All products")},get children(){var I=nr();return I.style.setProperty("font-size","1.5rem"),I.style.setProperty("font-weight","600"),I.style.setProperty("color","var(--primary-color)"),r(I,()=>me().length),I}}),null),S})(),u(je,{get title(){return t("products.productCatalog","Product Catalog")},get subtitle(){return t("products.manageYourProducts","Manage your products and pricing")},get children(){return u(Ge,{get when(){return F(()=>!c())()&&!Y()},get fallback(){return(()=>{var S=So();return S.firstChild,S.style.setProperty("text-align","center"),S.style.setProperty("padding","3rem"),S.style.setProperty("color","var(--text-muted)"),r(S,()=>t("common.loading","Loading products..."),null),S})()},get children(){return u(Ge,{get when(){return me().length>0},get fallback(){return(()=>{var S=nr();return S.style.setProperty("text-align","center"),S.style.setProperty("padding","3rem"),S.style.setProperty("color","var(--text-muted)"),r(S,(()=>{var I=F(()=>!!(e()||i()));return()=>I()?(()=>{var H=ad(),V=H.firstChild,ne=V.nextSibling,W=ne.nextSibling;return r(H,()=>t("products.noResults","No products found matching your criteria."),ne),W.$$click=()=>{n(""),a(""),U()},W.style.setProperty("margin-top","1rem"),W.style.setProperty("padding","0.5rem 1rem"),W.style.setProperty("background","none"),W.style.setProperty("border","1px solid var(--primary-color)"),W.style.setProperty("border-radius","var(--border-radius-sm)"),W.style.setProperty("color","var(--primary-color)"),W.style.setProperty("cursor","pointer"),r(W,()=>t("products.clearFilters","Clear filters")),H})():t("products.noProducts","No products available.")})()),S})()},get children(){var S=nr();return o(S,ie),r(S,u(mt,{get each(){return me()},children:I=>{const H=f(I.id),V={good:{background:"#d4edda",color:"#155724"},low:{background:"#fff3cd",color:"#856404"},out:{background:"#f8d7da",color:"#721c24"}}[H.status];return(()=>{var ne=sd(),W=ne.firstChild,q=W.firstChild,ae=q.nextSibling,N=W.nextSibling,G=N.nextSibling,fe=G.firstChild,Se=fe.nextSibling,K=Se.nextSibling,J=K.nextSibling;J.nextSibling;var se=G.nextSibling,Q=se.firstChild,O=Q.firstChild,pe=O.nextSibling;pe.nextSibling;var ge=Q.nextSibling,T=se.nextSibling,j=T.firstChild,be=j.nextSibling;return ne.addEventListener("mouseleave",ye=>{ye.currentTarget.style.transform="translateY(0)",ye.currentTarget.style.boxShadow="none"}),ne.addEventListener("mouseenter",ye=>{ye.currentTarget.style.transform="translateY(-2px)",ye.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)"}),ne.$$click=()=>{M(I),$(!0)},o(W,m),q.style.setProperty("margin","0"),q.style.setProperty("font-size","1.1rem"),r(q,()=>I.name),r(ae,(()=>{var ye=F(()=>H.status==="out");return()=>ye()?t("products.outOfStock","Out of Stock"):F(()=>H.status==="low")()?t("products.lowStock","Low Stock"):t("products.inStock","In Stock")})()),o(N,D),r(N,()=>ee(I.unitCost)),G.style.setProperty("color","var(--text-muted)"),G.style.setProperty("font-size","0.875rem"),G.style.setProperty("margin-bottom","0.5rem"),r(G,()=>I.sku,Se),r(G,()=>I.UPC,J),r(G,()=>I.category,null),se.style.setProperty("display","flex"),se.style.setProperty("justify-content","space-between"),se.style.setProperty("align-items","center"),se.style.setProperty("font-size","0.875rem"),se.style.setProperty("color","var(--text-muted)"),r(Q,()=>t("products.stock","Stock"),O),r(Q,()=>H.quantity,pe),r(Q,()=>I.unitOfMeasure,null),ge.style.setProperty("font-weight","600"),r(ge,()=>H.status==="out"?"⚠️":H.status==="low"?"⚡":"✅"),r(ne,(()=>{var ye=F(()=>!!I.description);return()=>ye()&&(()=>{var ce=nr();return ce.style.setProperty("margin-top","0.5rem"),ce.style.setProperty("font-size","0.75rem"),ce.style.setProperty("color","var(--text-muted)"),ce.style.setProperty("font-style","italic"),ce.style.setProperty("white-space","nowrap"),ce.style.setProperty("overflow","hidden"),ce.style.setProperty("text-overflow","ellipsis"),r(ce,()=>I.description),ce})()})(),T),T.style.setProperty("display","flex"),T.style.setProperty("gap","0.5rem"),T.style.setProperty("margin-top","1rem"),T.style.setProperty("padding-top","1rem"),T.style.setProperty("border-top","1px solid var(--border-color)"),j.addEventListener("mouseleave",ye=>ye.currentTarget.style.opacity="1"),j.addEventListener("mouseenter",ye=>ye.currentTarget.style.opacity="0.8"),j.$$click=ye=>{ye.stopPropagation(),M(I),$(!0)},j.style.setProperty("flex","1"),j.style.setProperty("padding","0.5rem"),j.style.setProperty("background","var(--primary-color)"),j.style.setProperty("color","white"),j.style.setProperty("border","none"),j.style.setProperty("border-radius","var(--border-radius-sm)"),j.style.setProperty("cursor","pointer"),j.style.setProperty("font-size","0.875rem"),j.style.setProperty("transition","opacity 0.2s"),r(j,()=>t("common.view","View")),be.addEventListener("mouseleave",ye=>{ye.currentTarget.style.background="transparent",ye.currentTarget.style.color="var(--primary-color)"}),be.addEventListener("mouseenter",ye=>{ye.currentTarget.style.background="var(--primary-color)",ye.currentTarget.style.color="white"}),be.$$click=ye=>{ye.stopPropagation(),M(I),x(!0)},be.style.setProperty("flex","1"),be.style.setProperty("padding","0.5rem"),be.style.setProperty("background","transparent"),be.style.setProperty("color","var(--primary-color)"),be.style.setProperty("border","1px solid var(--primary-color)"),be.style.setProperty("border-radius","var(--border-radius-sm)"),be.style.setProperty("cursor","pointer"),be.style.setProperty("font-size","0.875rem"),be.style.setProperty("transition","all 0.2s"),r(be,()=>t("common.edit","Edit")),B(ye=>{var ce={..._,cursor:"pointer",transition:"all 0.2s ease"},z={...v(H.status==="good"),...V},p=H.status==="good"?"#2e7d32":H.status==="low"?"#f57f17":"#d32f2f";return ye.e=o(ne,ce,ye.e),ye.t=o(ae,z,ye.t),p!==ye.a&&((ye.a=p)!=null?ge.style.setProperty("color",p):ge.style.removeProperty("color")),ye},{e:void 0,t:void 0,a:void 0}),ne})()}})),S}})}})}}),u(un,{get isOpen(){return E()},onClose:()=>L(!1),onProductAdded:()=>{U()}}),u(Xc,{get isOpen(){return A()},onClose:()=>{$(!1),M(null)},get product(){return h()},onEdit:()=>{$(!1),x(!0)}}),u(nd,{get isOpen(){return P()},onClose:()=>{x(!1),M(null)},get product(){return h()},onProductUpdated:()=>{U()}})]}})};vt(["input","click"]);const dd=[{id:"1",name:"John Doe",position:"Software Engineer",salary:85e3,email:"john.doe@company.com",phone:"+1 (555) 123-4567",department:"Engineering",startDate:"2023-01-15"},{id:"2",name:"Jane Smith",position:"Product Manager",salary:95e3,email:"jane.smith@company.com",phone:"+1 (555) 234-5678",department:"Product",startDate:"2022-08-20"},{id:"3",name:"Mike Brown",position:"Designer",salary:7e4,email:"mike.brown@company.com",phone:"+1 (555) 345-6789",department:"Design",startDate:"2023-03-10"},{id:"4",name:"Sarah Kim",position:"HR Manager",salary:78e3,email:"sarah.kim@company.com",phone:"+1 (555) 456-7890",department:"Human Resources",startDate:"2022-11-05"},{id:"5",name:"Alex Lee",position:"Data Analyst",salary:72e3,email:"alex.lee@company.com",phone:"+1 (555) 567-8901",department:"Analytics",startDate:"2023-02-28"},{id:"6",name:"Emma Wilson",position:"Marketing Manager",salary:82e3,email:"emma.wilson@company.com",phone:"+1 (555) 678-9012",department:"Marketing",startDate:"2022-09-15"}],[Tr,xn]=Z(dd),Xo={get employees(){return Tr()},addEmployee(t){const e={...t,id:Date.now().toString()};return xn([...Tr(),e]),e},updateEmployee(t,e){xn(Tr().map(n=>n.id===t?{...n,...e}:n))},deleteEmployee(t){xn(Tr().filter(e=>e.id!==t))},getEmployeeById(t){return Tr().find(e=>e.id===t)}};var ud=k("<form><div>");const yd=t=>{const{t:e}=Qe(),[n,i]=Z({name:"",position:"",salary:"",email:"",phone:"",department:"",startDate:""}),a=[{value:"Engineering",label:e("employees.departments.engineering","Engineering")},{value:"Product",label:e("employees.departments.product","Product")},{value:"Design",label:e("employees.departments.design","Design")},{value:"Marketing",label:e("employees.departments.marketing","Marketing")},{value:"Sales",label:e("employees.departments.sales","Sales")},{value:"Human Resources",label:e("employees.departments.humanResources","Human Resources")},{value:"Finance",label:e("employees.departments.finance","Finance")},{value:"Operations",label:e("employees.departments.operations","Operations")},{value:"Analytics",label:e("employees.departments.analytics","Analytics")}],s={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},l=d=>{d.preventDefault();const y=n();if(!y.name||!y.position||!y.salary||!y.email||!y.department||!y.startDate){alert(e("forms.requiredField"));return}const g={name:y.name,position:y.position,salary:parseFloat(y.salary),email:y.email,phone:y.phone,department:y.department,startDate:y.startDate};Xo.addEmployee(g),i({name:"",position:"",salary:"",email:"",phone:"",department:"",startDate:""}),t.onClose()},c=(d,y)=>{i(g=>({...g,[d]:y}))};return u(It,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return e("employees.addEmployee")},get children(){var d=ud(),y=d.firstChild;return d.addEventListener("submit",l),r(d,u(st,{get label(){return e("employees.fullName")},get value(){return n().name},onChange:g=>c("name",g),get placeholder(){return e("employees.enterFullName","Enter employee's full name")},required:!0}),y),r(d,u(st,{get label(){return e("employees.position")},get value(){return n().position},onChange:g=>c("position",g),get placeholder(){return e("employees.enterPosition","Enter job position")},required:!0}),y),r(d,u(Lt,{get label(){return e("employees.department")},get value(){return n().department},onChange:g=>c("department",g),options:a,required:!0}),y),r(d,u(st,{get label(){return e("employees.email")},type:"email",get value(){return n().email},onChange:g=>c("email",g),get placeholder(){return e("employees.enterEmail","Enter email address")},required:!0}),y),r(d,u(st,{get label(){return e("employees.phone")},type:"tel",get value(){return n().phone},onChange:g=>c("phone",g),get placeholder(){return e("employees.enterPhone","Enter phone number")}}),y),r(d,u(st,{get label(){return e("employees.salary")},type:"number",get value(){return n().salary},onChange:g=>c("salary",g),get placeholder(){return e("employees.enterSalary","Enter annual salary")},required:!0}),y),r(d,u(st,{get label(){return e("employees.hireDate")},type:"date",get value(){return n().startDate},onChange:g=>c("startDate",g),required:!0}),y),o(y,s),r(y,u(Ae,{variant:"secondary",type:"button",get onClick(){return t.onClose},get children(){return e("common.cancel")}}),null),r(y,u(Ae,{variant:"primary",type:"submit",get children(){return e("employees.addEmployee")}}),null),d}})};var md=k("<div><div></div><div></div><div>"),vd=k("<div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span>"),gd=k("<div>");const pd=t=>{const{t:e}=Qe(),n={display:"flex","justify-content":"space-between","align-items":"center",padding:"0.75rem 0","border-bottom":"1px solid var(--border-color)"},i={"font-weight":"500",color:"var(--text-muted)","font-size":"0.875rem"},a={"font-weight":"600",color:"var(--text-primary)"},s={width:"80px",height:"80px","border-radius":"50%",background:"linear-gradient(135deg, var(--primary-color), var(--secondary-color))",display:"flex","align-items":"center","justify-content":"center",color:"white","font-weight":"600","font-size":"1.5rem",margin:"0 auto 1.5rem auto"},l={"text-align":"center","margin-bottom":"2rem"},c={"font-size":"1.5rem","font-weight":"600",color:"var(--text-primary)",margin:"0.5rem 0"},d={color:"var(--text-muted)","font-size":"1rem"},y={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"};if(!t.employee)return null;const g=A=>A.split(" ").map($=>$[0]).join("").toUpperCase(),E=A=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(A),L=A=>new Date(A).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return u(It,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return e("employees.employeeDetails")},get children(){return[(()=>{var A=md(),$=A.firstChild,P=$.nextSibling,x=P.nextSibling;return o(A,l),o($,s),r($,()=>g(t.employee.name)),o(P,c),r(P,()=>t.employee.name),o(x,d),r(x,()=>t.employee.position),A})(),(()=>{var A=vd(),$=A.firstChild,P=$.firstChild,x=P.nextSibling,h=$.nextSibling,M=h.firstChild,U=M.nextSibling,R=h.nextSibling,X=R.firstChild,Y=X.nextSibling,oe=R.nextSibling,re=oe.firstChild,me=re.nextSibling,ue=oe.nextSibling,te=ue.firstChild,ee=te.nextSibling,f=ue.nextSibling,ie=f.firstChild,_=ie.nextSibling;return r(P,()=>e("employees.employeeId")),r(x,()=>t.employee.id),r(M,()=>e("employees.department")),r(U,()=>t.employee.department),r(X,()=>e("employees.email")),r(Y,()=>t.employee.email),r(re,()=>e("employees.phone")),r(me,()=>t.employee.phone),r(te,()=>e("employees.salary")),r(ee,()=>E(t.employee.salary)),r(ie,()=>e("employees.hireDate")),r(_,()=>L(t.employee.startDate)),B(m=>{var D=n,v=i,C=a,b=n,w=i,le=a,S=n,I=i,H=a,V=n,ne=i,W=a,q=n,ae=i,N=a,G=n,fe=i,Se=a;return m.e=o($,D,m.e),m.t=o(P,v,m.t),m.a=o(x,C,m.a),m.o=o(h,b,m.o),m.i=o(M,w,m.i),m.n=o(U,le,m.n),m.s=o(R,S,m.s),m.h=o(X,I,m.h),m.r=o(Y,H,m.r),m.d=o(oe,V,m.d),m.l=o(re,ne,m.l),m.u=o(me,W,m.u),m.c=o(ue,q,m.c),m.w=o(te,ae,m.w),m.m=o(ee,N,m.m),m.f=o(f,G,m.f),m.y=o(ie,fe,m.y),m.g=o(_,Se,m.g),m},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0}),A})(),(()=>{var A=gd();return o(A,y),r(A,u(Ae,{variant:"secondary",get onClick(){return t.onClose},get children(){return e("common.close")}}),null),r(A,u(Ae,{variant:"primary",onClick:()=>{console.log("Edit employee:",t.employee.id)},get children(){return e("employees.editEmployee")}}),null),A})()]}})};var Po=k("<div>"),fd=k("<div><div></div><div><div></div><div></div><div>/year");const bd=()=>{const{t}=Qe(),[e,n]=Z(!1),[i,a]=Z(!1),[s,l]=Z(null),c=P=>{l(P),a(!0)},d={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"},y={display:"flex","align-items":"center",gap:"1rem"},g={width:"60px",height:"60px","border-radius":"50%",background:"linear-gradient(135deg, var(--primary-color), var(--secondary-color))",display:"flex","align-items":"center","justify-content":"center",color:"white","font-weight":"600","font-size":"1.2rem"},E={flex:"1"},L={"font-weight":"600","margin-bottom":"0.25rem"},A={color:"var(--text-muted)","font-size":"0.875rem","margin-bottom":"0.5rem"},$={color:"var(--primary-color)","font-weight":"500"};return u(Yt,{get title(){return t("employees.title")},get children(){return[(()=>{var P=Po();return P.style.setProperty("margin-bottom","2rem"),r(P,u(Ae,{variant:"primary",onClick:()=>n(!0),get children(){return t("employees.addEmployee")}})),P})(),(()=>{var P=Po();return o(P,d),r(P,()=>Xo.employees.map(x=>{const h=U=>U.split(" ").map(R=>R[0]).join("").toUpperCase(),M=U=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(U);return u(je,{onClick:()=>c(x),get children(){var U=fd(),R=U.firstChild,X=R.nextSibling,Y=X.firstChild,oe=Y.nextSibling,re=oe.nextSibling,me=re.firstChild;return o(U,y),o(R,g),r(R,()=>h(x.name)),o(X,E),o(Y,L),r(Y,()=>x.name),o(oe,A),r(oe,()=>x.position),o(re,$),r(re,()=>M(x.salary),me),U}})})),P})(),u(yd,{get isOpen(){return e()},onClose:()=>n(!1)}),u(pd,{get isOpen(){return i()},onClose:()=>a(!1),get employee(){return s()}})]}})},hd=[{id:"1",accountId:"1002",bankName:"First National Bank",accountNumber:"****1234",accountType:"checking",currency:"USD",currentBalance:32730.5,lastReconciledDate:"2024-01-01",lastReconciledBalance:3e4,isActive:!0},{id:"2",accountId:"1003",bankName:"First National Bank",accountNumber:"****5678",accountType:"savings",currency:"USD",currentBalance:12e3,lastReconciledDate:"2024-01-01",lastReconciledBalance:1e4,isActive:!0}],Sd=[{id:"1",accountId:"1002",date:"2024-01-15",description:"Customer Payment - ABC Corp",reference:"CHK001234",debitAmount:5e3,creditAmount:0,balance:35730.5,category:"Customer Payment",isReconciled:!0,reconciledWith:"eb1",importedAt:"2024-01-16",source:"csv_import"},{id:"2",accountId:"1002",date:"2024-01-14",description:"Office Supplies - Staples",reference:"CHK001235",debitAmount:0,creditAmount:250,balance:30730.5,category:"Office Expenses",isReconciled:!0,reconciledWith:"eb2",importedAt:"2024-01-16",source:"csv_import"},{id:"3",accountId:"1002",date:"2024-01-13",description:"Monthly Rent Payment",reference:"CHK001236",debitAmount:0,creditAmount:2e3,balance:28730.5,category:"Rent",isReconciled:!1,importedAt:"2024-01-16",source:"csv_import"},{id:"4",accountId:"1002",date:"2024-01-12",description:"Wire Transfer In",reference:"WIRE001",debitAmount:1e4,creditAmount:0,balance:38730.5,category:"Wire Transfer",isReconciled:!1,importedAt:"2024-01-16",source:"csv_import"}],Pd=[{id:"eb1",accountId:"1002",date:"2024-01-15",description:"Customer Payment Received - ABC Corp",reference:"INV-2024-001",debitAmount:5e3,creditAmount:0,category:"Accounts Receivable",isReconciled:!0,reconciledWith:"1",createdAt:"2024-01-15"},{id:"eb2",accountId:"1002",date:"2024-01-14",description:"Office Supplies Purchase",reference:"PO-2024-001",debitAmount:0,creditAmount:250,category:"Office Expenses",isReconciled:!0,reconciledWith:"2",createdAt:"2024-01-14"},{id:"eb3",accountId:"1002",date:"2024-01-11",description:"Salary Payment - John Doe",reference:"PAY-2024-001",debitAmount:0,creditAmount:3500,category:"Salary Expense",isReconciled:!1,createdAt:"2024-01-11"}],$d=[{id:"1",bankAccountId:"1",periodStart:"2024-01-01",periodEnd:"2024-01-15",startingBalance:3e4,endingBalance:35730.5,status:"in_progress",totalBankTransactions:4,totalEntryBookRecords:3,reconciledTransactions:2,unreconciledTransactions:2,discrepancyAmount:1500,createdAt:"2024-01-16",notes:"Wire transfer and rent payment need investigation"}],[Kr,$o]=Z(hd),[or,Cn]=Z(Sd),[Br,xo]=Z(Pd),[Zr,Co]=Z($d),At={get bankAccounts(){return Kr()},addBankAccount(t){const e={...t,id:Date.now().toString()};return $o([...Kr(),e]),e},updateBankAccount(t,e){$o(Kr().map(n=>n.id===t?{...n,...e}:n))},getBankAccountById(t){return Kr().find(e=>e.id===t)},get bankStatements(){return or()},addBankStatement(t){const e={...t,id:Date.now().toString(),importedAt:new Date().toISOString()};return Cn([...or(),e]),e},addBankStatementsFromCSV(t){const e=t.map(n=>({...n,id:`csv_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,importedAt:new Date().toISOString(),source:"csv_import",isReconciled:!1}));return Cn([...or(),...e]),e},updateBankStatement(t,e){Cn(or().map(n=>n.id===t?{...n,...e}:n))},getBankStatementsByAccount(t){return or().filter(e=>e.accountId===t)},getUnreconciledBankStatements(t){return(t?this.getBankStatementsByAccount(t):or()).filter(n=>!n.isReconciled)},get entryBookRecords(){return Br()},addEntryBookRecord(t){const e={...t,id:Date.now().toString(),createdAt:new Date().toISOString()};return xo([...Br(),e]),e},updateEntryBookRecord(t,e){xo(Br().map(n=>n.id===t?{...n,...e}:n))},getEntryBookRecordsByAccount(t){return Br().filter(e=>e.accountId===t)},getUnreconciledEntryBookRecords(t){return(t?this.getEntryBookRecordsByAccount(t):Br()).filter(n=>!n.isReconciled)},reconcileTransaction(t,e){this.updateBankStatement(t,{isReconciled:!0,reconciledWith:e}),this.updateEntryBookRecord(e,{isReconciled:!0,reconciledWith:t})},unreconciledTransaction(t){const e=or().find(n=>n.id===t);e?.reconciledWith&&this.updateEntryBookRecord(e.reconciledWith,{isReconciled:!1,reconciledWith:void 0}),this.updateBankStatement(t,{isReconciled:!1,reconciledWith:void 0})},findPotentialMatches(t){const e=or().find(i=>i.id===t);return e?this.getUnreconciledEntryBookRecords(e.accountId).filter(i=>{const a=Math.abs(e.debitAmount-i.debitAmount)<.01||Math.abs(e.creditAmount-i.creditAmount)<.01,s=new Date(e.date),l=new Date(i.date),d=Math.abs((s.getTime()-l.getTime())/(1e3*60*60*24))<=3,y=e.reference===i.reference||e.description.toLowerCase().includes(i.description.toLowerCase())||i.description.toLowerCase().includes(e.description.toLowerCase());return a&&(d||y)}).sort((i,a)=>{const s=(i.date===e.date?2:0)+(i.reference===e.reference?1:0);return(a.date===e.date?2:0)+(a.reference===e.reference?1:0)-s}):[]},get reconciliationSessions(){return Zr()},startReconciliationSession(t,e,n){const i=this.getBankStatementsByAccount(t).filter(y=>y.date>=e&&y.date<=n),a=this.getEntryBookRecordsByAccount(t).filter(y=>y.date>=e&&y.date<=n),s=i.filter(y=>y.isReconciled).length,l=this.getBankAccountById(t)?.lastReconciledBalance||0,c=this.getBankAccountById(t)?.currentBalance||0,d={id:Date.now().toString(),bankAccountId:t,periodStart:e,periodEnd:n,startingBalance:l,endingBalance:c,status:"in_progress",totalBankTransactions:i.length,totalEntryBookRecords:a.length,reconciledTransactions:s,unreconciledTransactions:i.length-s,discrepancyAmount:0,createdAt:new Date().toISOString()};return Co([...Zr(),d]),d},updateReconciliationSession(t,e){Co(Zr().map(n=>n.id===t?{...n,...e}:n))},getReconciliationSessionsByAccount(t){return Zr().filter(e=>e.bankAccountId===t)}};var _n=k("<div>"),xd=k("<div><strong>:</strong> <!> - "),Cd=k("<div><div><div>📄</div><div></div><div></div></div><input id=csvFileInput type=file accept=.csv>"),_d=k("<div><h4></h4><div><div><label> *</label><select><option value></option></select></div><div><label> *</label><select><option value></option></select></div><div><label></label><select><option value></option></select></div><div><label> *</label><select><option value></option></select></div><div><label></label><select><option value></option></select></div><div><label></label><select><option value>"),wr=k("<option>"),wd=k("<div><table><thead><tr></tr></thead><tbody>"),kd=k("<th>"),Ad=k("<tr>"),Id=k("<td>");const Ed=t=>{const{t:e}=Qe(),[n,i]=Z(!1),[a,s]=Z(!1),[l,c]=Z(null),[d,y]=Z([]),[g,E]=Z({date:"",description:"",reference:"",debit:"",credit:"",balance:""}),L={border:`2px dashed ${n()?"var(--primary-color)":"var(--border-color)"}`,"border-radius":"var(--border-radius)",padding:"2rem","text-align":"center","background-color":n()?"var(--background-color)":"transparent",transition:"all 0.2s ease",cursor:"pointer"},A={display:"grid","grid-template-columns":"1fr 1fr",gap:"1rem","margin-top":"1.5rem"},$={width:"100%",padding:"0.5rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-family":"inherit"},P={"max-height":"200px","overflow-y":"auto",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","margin-top":"1rem"},x={width:"100%","border-collapse":"collapse","font-size":"0.875rem"},h={padding:"0.5rem","border-bottom":"1px solid var(--border-color)","text-align":"left"},M={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},U=ee=>{ee.preventDefault(),i(!0)},R=ee=>{ee.preventDefault(),i(!1)},X=ee=>{ee.preventDefault(),i(!1);const f=ee.dataTransfer?.files;f&&f.length>0&&oe(f[0])},Y=ee=>{const f=ee.target;f.files&&f.files.length>0&&oe(f.files[0])},oe=ee=>{if(!ee.name.toLowerCase().endsWith(".csv")){c({success:!1,message:e("banking.pleaseUploadCSV")});return}s(!0);const f=new FileReader;f.onload=ie=>{try{const m=(ie.target?.result).split(`
`).filter(b=>b.trim());if(m.length<2){c({success:!1,message:e("banking.csvRequiresHeaderAndData")}),s(!1);return}const D=m[0].split(",").map(b=>b.trim().replace(/[\"\']/g,"")),v=m.slice(1).map(b=>{const w=b.split(",").map(S=>S.trim().replace(/[\"\']/g,"")),le={};return D.forEach((S,I)=>{le[S]=w[I]||""}),le});y(v),c({success:!0,message:e("banking.successfullyParsed").replace("{count}",v.length.toString()),count:v.length});const C={...g()};D.forEach(b=>{const w=b.toLowerCase();w.includes("date")&&(C.date=b),(w.includes("description")||w.includes("memo"))&&(C.description=b),(w.includes("reference")||w.includes("check")||w.includes("ref"))&&(C.reference=b),(w.includes("debit")||w.includes("deposit"))&&(C.debit=b),(w.includes("credit")||w.includes("withdrawal")||w.includes("amount"))&&(C.debit?C.credit=b:C.debit=b),w.includes("balance")&&(C.balance=b)}),E(C)}catch{c({success:!1,message:e("banking.errorParsingCSV")})}s(!1)},f.readAsText(ee)},re=(ee,f)=>{E(ie=>({...ie,[ee]:f}))},me=()=>d().length===0?[]:Object.keys(d()[0]),ue=()=>{if(!t.bankAccount||d().length===0)return;const ee=g();if(!ee.date||!ee.description){c({success:!1,message:e("banking.dateDescriptionRequired")});return}s(!0);try{const f=d().map(_=>{const m=b=>b&&parseFloat(b.replace(/[^0-9.-]/g,""))||0,D=b=>{const w=new Date(b);if(isNaN(w.getTime())){const le=b.split("/");if(le.length===3)return new Date(parseInt(le[2]),parseInt(le[0])-1,parseInt(le[1])).toISOString().split("T")[0]}return w.toISOString().split("T")[0]};let v=0,C=0;if(ee.debit&&ee.credit)v=m(_[ee.debit]),C=m(_[ee.credit]);else if(ee.debit){const b=m(_[ee.debit]);b>0?v=b:C=Math.abs(b)}return{accountId:t.bankAccount.accountId,date:D(_[ee.date]),description:_[ee.description]||e("banking.importedTransaction"),reference:_[ee.reference]||"",debitAmount:v,creditAmount:C,balance:ee.balance?m(_[ee.balance]):0,isReconciled:!1}}),ie=At.addBankStatementsFromCSV(f);c({success:!0,message:e("banking.successfullyImported").replace("{count}",ie.length.toString()),count:ie.length}),y([]),E({date:"",description:"",reference:"",debit:"",credit:"",balance:""})}catch{c({success:!1,message:e("banking.errorImportingTransactions")})}s(!1)},te=()=>{y([]),c(null),E({date:"",description:"",reference:"",debit:"",credit:"",balance:""})};return u(It,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return e("banking.importBankStatementCSV")},get children(){return[F(()=>F(()=>!!t.bankAccount)()&&(()=>{var ee=xd(),f=ee.firstChild,ie=f.firstChild,_=f.nextSibling,m=_.nextSibling;return m.nextSibling,ee.style.setProperty("margin-bottom","1.5rem"),ee.style.setProperty("padding","1rem"),ee.style.setProperty("background","var(--background-color)"),ee.style.setProperty("border-radius","var(--border-radius-sm)"),ee.style.setProperty("border","1px solid var(--border-color)"),r(f,()=>e("banking.bankAccount"),ie),r(ee,()=>t.bankAccount.bankName,m),r(ee,()=>t.bankAccount.accountNumber,null),ee})()),F(()=>F(()=>d().length===0)()?(()=>{var ee=Cd(),f=ee.firstChild,ie=f.firstChild,_=ie.nextSibling,m=_.nextSibling,D=f.nextSibling;return f.$$click=()=>document.getElementById("csvFileInput")?.click(),f.addEventListener("drop",X),f.addEventListener("dragleave",R),f.addEventListener("dragover",U),ie.style.setProperty("font-size","2rem"),ie.style.setProperty("margin-bottom","1rem"),_.style.setProperty("font-weight","500"),_.style.setProperty("margin-bottom","0.5rem"),r(_,(()=>{var v=F(()=>!!n());return()=>v()?e("banking.dropCSVHere"):e("banking.clickToUploadCSV")})()),m.style.setProperty("font-size","0.875rem"),m.style.setProperty("color","var(--text-muted)"),r(m,()=>e("banking.supportedFormat")),D.addEventListener("change",Y),D.style.setProperty("display","none"),B(v=>o(f,L,v)),ee})():(()=>{var ee=_d(),f=ee.firstChild,ie=f.nextSibling,_=ie.firstChild,m=_.firstChild,D=m.firstChild,v=m.nextSibling,C=v.firstChild,b=_.nextSibling,w=b.firstChild,le=w.firstChild,S=w.nextSibling,I=S.firstChild,H=b.nextSibling,V=H.firstChild,ne=V.nextSibling,W=ne.firstChild,q=H.nextSibling,ae=q.firstChild,N=ae.firstChild,G=ae.nextSibling,fe=G.firstChild,Se=q.nextSibling,K=Se.firstChild,J=K.nextSibling,se=J.firstChild,Q=Se.nextSibling,O=Q.firstChild,pe=O.nextSibling,ge=pe.firstChild;return f.style.setProperty("margin","0 0 1rem 0"),r(f,()=>e("banking.mapCSVColumns")),o(ie,A),m.style.setProperty("display","block"),m.style.setProperty("margin-bottom","0.5rem"),m.style.setProperty("font-weight","500"),r(m,()=>e("banking.dateColumn"),D),v.addEventListener("change",T=>re("date",T.target.value)),r(C,()=>e("banking.selectColumn")),r(v,()=>me().map(T=>(()=>{var j=wr();return j.value=T,r(j,T),j})()),null),w.style.setProperty("display","block"),w.style.setProperty("margin-bottom","0.5rem"),w.style.setProperty("font-weight","500"),r(w,()=>e("banking.descriptionColumn"),le),S.addEventListener("change",T=>re("description",T.target.value)),r(I,()=>e("banking.selectColumn")),r(S,()=>me().map(T=>(()=>{var j=wr();return j.value=T,r(j,T),j})()),null),V.style.setProperty("display","block"),V.style.setProperty("margin-bottom","0.5rem"),V.style.setProperty("font-weight","500"),r(V,()=>e("banking.referenceColumn")),ne.addEventListener("change",T=>re("reference",T.target.value)),r(W,()=>e("banking.selectColumn")),r(ne,()=>me().map(T=>(()=>{var j=wr();return j.value=T,r(j,T),j})()),null),ae.style.setProperty("display","block"),ae.style.setProperty("margin-bottom","0.5rem"),ae.style.setProperty("font-weight","500"),r(ae,()=>e("banking.amountDebitColumn"),N),G.addEventListener("change",T=>re("debit",T.target.value)),r(fe,()=>e("banking.selectColumn")),r(G,()=>me().map(T=>(()=>{var j=wr();return j.value=T,r(j,T),j})()),null),K.style.setProperty("display","block"),K.style.setProperty("margin-bottom","0.5rem"),K.style.setProperty("font-weight","500"),r(K,()=>e("banking.creditColumn")),J.addEventListener("change",T=>re("credit",T.target.value)),r(se,()=>e("banking.selectColumn")),r(J,()=>me().map(T=>(()=>{var j=wr();return j.value=T,r(j,T),j})()),null),O.style.setProperty("display","block"),O.style.setProperty("margin-bottom","0.5rem"),O.style.setProperty("font-weight","500"),r(O,()=>e("banking.balanceColumn")),pe.addEventListener("change",T=>re("balance",T.target.value)),r(ge,()=>e("banking.selectColumn")),r(pe,()=>me().map(T=>(()=>{var j=wr();return j.value=T,r(j,T),j})()),null),r(ee,(()=>{var T=F(()=>d().length>0);return()=>T()&&(()=>{var j=wd(),be=j.firstChild,ye=be.firstChild,ce=ye.firstChild,z=ye.nextSibling;return o(j,P),ce.style.setProperty("background-color","var(--background-color)"),r(ce,()=>me().slice(0,6).map(p=>(()=>{var de=kd();return r(de,p),B(_e=>o(de,h,_e)),de})())),r(z,()=>d().slice(0,3).map(p=>(()=>{var de=Ad();return r(de,()=>me().slice(0,6).map(_e=>(()=>{var $e=Id();return r($e,()=>p[_e]),B(xe=>o($e,h,xe)),$e})())),de})())),r(j,(()=>{var p=F(()=>d().length>3);return()=>p()&&(()=>{var de=_n();return de.style.setProperty("padding","0.5rem"),de.style.setProperty("text-align","center"),de.style.setProperty("color","var(--text-muted)"),r(de,()=>e("banking.andMoreRows").replace("{count}",(d().length-3).toString())),de})()})(),null),B(p=>o(be,x,p)),j})()})(),null),B(T=>{var j=$,be=$,ye=$,ce=$,z=$,p=$;return T.e=o(v,j,T.e),T.t=o(S,be,T.t),T.a=o(ne,ye,T.a),T.o=o(G,ce,T.o),T.i=o(J,z,T.i),T.n=o(pe,p,T.n),T},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),B(()=>v.value=g().date),B(()=>S.value=g().description),B(()=>ne.value=g().reference),B(()=>G.value=g().debit),B(()=>J.value=g().credit),B(()=>pe.value=g().balance),ee})()),F(()=>F(()=>!!l())()&&(()=>{var ee=_n();return ee.style.setProperty("padding","1rem"),ee.style.setProperty("border-radius","var(--border-radius-sm)"),ee.style.setProperty("margin-top","1rem"),r(ee,()=>l().message),B(f=>{var ie=l().success?"#d4edda":"#f8d7da",_=l().success?"#155724":"#721c24",m=`1px solid ${l().success?"#c3e6cb":"#f5c6cb"}`;return ie!==f.e&&((f.e=ie)!=null?ee.style.setProperty("background",ie):ee.style.removeProperty("background")),_!==f.t&&((f.t=_)!=null?ee.style.setProperty("color",_):ee.style.removeProperty("color")),m!==f.a&&((f.a=m)!=null?ee.style.setProperty("border",m):ee.style.removeProperty("border")),f},{e:void 0,t:void 0,a:void 0}),ee})()),(()=>{var ee=_n();return o(ee,M),r(ee,u(Ae,{variant:"secondary",onClick:()=>{te(),t.onClose()},get children(){return e("common.cancel")}}),null),r(ee,(()=>{var f=F(()=>d().length>0);return()=>f()&&u(Ae,{variant:"outline",onClick:te,get children(){return e("common.reset")}})})(),null),r(ee,(()=>{var f=F(()=>d().length>0);return()=>f()&&u(Ae,{variant:"primary",onClick:ue,get disabled(){return a()||!g().date||!g().description},get children(){return F(()=>!!a())()?e("banking.importing"):e("banking.importTransactions").replace("{count}",d().length.toString())}})})(),null),ee})()]}})};vt(["click"]);var _o=k("<span>"),Xr=k("<div>"),wo=k("<div> "),Ld=k("<div><div><h3></h3><div><button></button><button></button><button></button></div></div><div></div><div><div><h4></h4><div></div></div><div><h4></h4><div>"),Dd=k("<div><div><div></div><div> • </div></div><div><div>"),wn=k("<span>✓ "),Nd=k("<span>(<!>)"),Td=k("<div><strong>:</strong> "),ko=k("<div><div><div></div><div> • </div></div><div>"),Bd=k("<div><div>:</div><div></div><div>");const Md=t=>{const{t:e}=Qe(),[n,i]=Z([]),[a,s]=Z([]),[l,c]=Z(null),[d,y]=Z([]),[g,E]=Z("unreconciled");lr(()=>{const m=At.getBankAccountById(t.bankAccountId);if(m){const D=At.getBankStatementsByAccount(m.accountId).filter(C=>C.date>=t.selectedPeriod.start&&C.date<=t.selectedPeriod.end),v=At.getEntryBookRecordsByAccount(m.accountId).filter(C=>C.date>=t.selectedPeriod.start&&C.date<=t.selectedPeriod.end);i(D),s(v)}});const L=()=>{const m=n();switch(g()){case"reconciled":return m.filter(D=>D.isReconciled);case"unreconciled":return m.filter(D=>!D.isReconciled);default:return m}},A=()=>{const m=a();switch(g()){case"reconciled":return m.filter(D=>D.isReconciled);case"unreconciled":return m.filter(D=>!D.isReconciled);default:return m}},$=m=>{if(c(m),m.isReconciled)y([]);else{const D=At.findPotentialMatches(m.id);y(D)}},P=m=>{const D=l();if(D){At.reconcileTransaction(D.id,m.id);const v=At.getBankAccountById(t.bankAccountId);if(v){const C=At.getBankStatementsByAccount(v.accountId).filter(w=>w.date>=t.selectedPeriod.start&&w.date<=t.selectedPeriod.end),b=At.getEntryBookRecordsByAccount(v.accountId).filter(w=>w.date>=t.selectedPeriod.start&&w.date<=t.selectedPeriod.end);i(C),s(b)}c(null),y([])}},x=m=>{At.unreconciledTransaction(m.id);const D=At.getBankAccountById(t.bankAccountId);if(D){const v=At.getBankStatementsByAccount(D.accountId).filter(b=>b.date>=t.selectedPeriod.start&&b.date<=t.selectedPeriod.end),C=At.getEntryBookRecordsByAccount(D.accountId).filter(b=>b.date>=t.selectedPeriod.start&&b.date<=t.selectedPeriod.end);i(v),s(C)}},h={display:"grid","grid-template-columns":"1fr 1fr",gap:"2rem","margin-top":"2rem"},M={height:"600px","overflow-y":"auto"},U={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"1rem"},R=m=>({padding:"0.5rem 1rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)",background:m?"var(--primary-color)":"var(--surface-color)",color:m?"white":"var(--text-primary)",cursor:"pointer","font-weight":"500","font-size":"0.875rem",transition:"all 0.2s ease"}),X=(m,D)=>({display:"flex","justify-content":"space-between","align-items":"center",padding:"1rem","margin-bottom":"0.5rem",background:m?"var(--primary-color)":D?"#e8f5e8":"var(--surface-color)",color:m?"white":"var(--text-primary)","border-radius":"var(--border-radius-sm)",border:`1px solid ${m?"var(--primary-color)":D?"#c3e6cb":"var(--border-color)"}`,cursor:"pointer",transition:"all 0.2s ease"}),Y={flex:"1"},oe={"font-weight":"500","margin-bottom":"0.25rem"},re={"font-size":"0.875rem",opacity:"0.8"},me=m=>({"font-weight":"600",color:m?"#4caf50":"#f44336"}),ue={padding:"0.25rem 0.5rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500","margin-left":"0.5rem"},te=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(m),ee=m=>new Date(m).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),f=m=>{if(!l())return null;const D=l();return(Math.abs(D.debitAmount-m.debitAmount)<.01||Math.abs(D.creditAmount-m.creditAmount)<.01)&&D.date===m.date?(()=>{var b=_o();return r(b,()=>e("banking.exactMatch")),B(w=>o(b,{...ue,background:"#d4edda",color:"#155724"},w)),b})():d().includes(m)?(()=>{var b=_o();return r(b,()=>e("banking.possibleMatch")),B(w=>o(b,{...ue,background:"#fff3cd",color:"#856404"},w)),b})():null},_=(()=>{const m=n(),D=a(),v=m.filter(b=>b.isReconciled).length,C=D.filter(b=>b.isReconciled).length;return{totalStatements:m.length,totalRecords:D.length,reconciledStatements:v,reconciledRecords:C,unreconciledStatements:m.length-v,unreconciledRecords:D.length-C}})();return(()=>{var m=Ld(),D=m.firstChild,v=D.firstChild,C=v.nextSibling,b=C.firstChild,w=b.nextSibling,le=w.nextSibling,S=D.nextSibling,I=S.nextSibling,H=I.firstChild,V=H.firstChild,ne=V.nextSibling,W=H.nextSibling,q=W.firstChild,ae=q.nextSibling;return o(D,U),v.style.setProperty("margin","0"),v.style.setProperty("font-size","1.25rem"),r(v,()=>e("banking.reconciliationComparison")),C.style.setProperty("display","flex"),C.style.setProperty("gap","0.5rem"),b.$$click=()=>E("all"),r(b,()=>e("common.all")),w.$$click=()=>E("unreconciled"),r(w,()=>e("banking.unreconciled")),le.$$click=()=>E("reconciled"),r(le,()=>e("banking.reconciled")),S.style.setProperty("display","grid"),S.style.setProperty("grid-template-columns","repeat(4, 1fr)"),S.style.setProperty("gap","1rem"),S.style.setProperty("margin-bottom","2rem"),r(S,u(je,{get title(){return e("banking.bankStatements")},get subtitle(){return e("banking.totalTransactions")},get children(){return[(()=>{var N=Xr();return N.style.setProperty("font-size","1.5rem"),N.style.setProperty("font-weight","600"),N.style.setProperty("color","var(--primary-color)"),r(N,()=>_.totalStatements),N})(),(()=>{var N=wo(),G=N.firstChild;return N.style.setProperty("font-size","0.875rem"),N.style.setProperty("color","var(--text-muted)"),r(N,()=>_.reconciledStatements,G),r(N,()=>e("banking.reconciled"),null),N})()]}}),null),r(S,u(je,{get title(){return e("banking.entryBookRecords")},get subtitle(){return e("banking.totalEntries")},get children(){return[(()=>{var N=Xr();return N.style.setProperty("font-size","1.5rem"),N.style.setProperty("font-weight","600"),N.style.setProperty("color","var(--primary-color)"),r(N,()=>_.totalRecords),N})(),(()=>{var N=wo(),G=N.firstChild;return N.style.setProperty("font-size","0.875rem"),N.style.setProperty("color","var(--text-muted)"),r(N,()=>_.reconciledRecords,G),r(N,()=>e("banking.reconciled"),null),N})()]}}),null),r(S,u(je,{get title(){return e("banking.unreconciledBank")},get subtitle(){return e("banking.needAttention")},get children(){var N=Xr();return N.style.setProperty("font-size","1.5rem"),N.style.setProperty("font-weight","600"),N.style.setProperty("color","#f44336"),r(N,()=>_.unreconciledStatements),N}}),null),r(S,u(je,{get title(){return e("banking.unreconciledBooks")},get subtitle(){return e("banking.needAttention")},get children(){var N=Xr();return N.style.setProperty("font-size","1.5rem"),N.style.setProperty("font-weight","600"),N.style.setProperty("color","#f44336"),r(N,()=>_.unreconciledRecords),N}}),null),o(I,h),V.style.setProperty("margin","0 0 1rem 0"),r(V,()=>e("banking.bankStatements")),r(ne,()=>L().map(N=>(()=>{var G=Dd(),fe=G.firstChild,Se=fe.firstChild,K=Se.nextSibling,J=K.firstChild,se=fe.nextSibling,Q=se.firstChild;return G.$$click=()=>$(N),r(Se,()=>N.description),r(K,()=>ee(N.date),J),r(K,()=>N.reference,null),r(K,(()=>{var O=F(()=>!!N.isReconciled);return()=>O()&&(()=>{var pe=wn();return pe.firstChild,pe.style.setProperty("color","#4caf50"),pe.style.setProperty("margin-left","0.5rem"),r(pe,()=>e("banking.reconciled"),null),pe})()})(),null),r(Q,()=>N.debitAmount>0?"+":"-",null),r(Q,()=>te(N.debitAmount||N.creditAmount),null),r(se,(()=>{var O=F(()=>!!N.isReconciled);return()=>O()&&u(Ae,{variant:"outline",size:"sm",onClick:pe=>{pe.stopPropagation(),x(N)},style:{"margin-top":"0.5rem"},get children(){return e("banking.unreconcile")}})})(),null),B(O=>{var pe=X(l()?.id===N.id,N.isReconciled),ge=Y,T=oe,j=re,be=me(N.debitAmount>0);return O.e=o(G,pe,O.e),O.t=o(fe,ge,O.t),O.a=o(Se,T,O.a),O.o=o(K,j,O.o),O.i=o(Q,be,O.i),O},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),G})())),q.style.setProperty("margin","0 0 1rem 0"),r(q,()=>e("banking.entryBookRecords"),null),r(q,(()=>{var N=F(()=>!!(l()&&!l().isReconciled));return()=>N()&&(()=>{var G=Nd(),fe=G.firstChild,Se=fe.nextSibling;return Se.nextSibling,G.style.setProperty("font-weight","400"),G.style.setProperty("color","var(--text-muted)"),G.style.setProperty("margin-left","0.5rem"),r(G,()=>e("banking.clickToReconcile"),Se),G})()})(),null),r(ae,(()=>{var N=F(()=>!!(l()&&!l().isReconciled));return()=>N()?[F(()=>F(()=>d().length>0)()&&(()=>{var G=Td(),fe=G.firstChild,Se=fe.firstChild;return fe.nextSibling,G.style.setProperty("margin-bottom","1rem"),G.style.setProperty("padding","0.75rem"),G.style.setProperty("background","#fff3cd"),G.style.setProperty("border-radius","var(--border-radius-sm)"),r(fe,()=>e("banking.potentialMatchesFound"),Se),r(G,()=>e("banking.clickRecordToReconcile"),null),G})()),F(()=>A().map(G=>(d().includes(G),(()=>{var fe=ko(),Se=fe.firstChild,K=Se.firstChild,J=K.nextSibling,se=J.firstChild,Q=Se.nextSibling;return fe.$$click=()=>{G.isReconciled||P(G)},r(K,()=>G.description,null),r(K,()=>f(G),null),r(J,()=>ee(G.date),se),r(J,()=>G.reference,null),r(J,(()=>{var O=F(()=>!!G.isReconciled);return()=>O()&&(()=>{var pe=wn();return pe.firstChild,pe.style.setProperty("color","#4caf50"),pe.style.setProperty("margin-left","0.5rem"),r(pe,()=>e("banking.reconciled"),null),pe})()})(),null),r(Q,()=>G.debitAmount>0?"+":"-",null),r(Q,()=>te(G.debitAmount||G.creditAmount),null),B(O=>{var pe={...X(!1,G.isReconciled),opacity:G.isReconciled?.6:1,cursor:G.isReconciled?"not-allowed":"pointer"},ge=Y,T=oe,j=re,be=me(G.debitAmount>0);return O.e=o(fe,pe,O.e),O.t=o(Se,ge,O.t),O.a=o(K,T,O.a),O.o=o(J,j,O.o),O.i=o(Q,be,O.i),O},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),fe})())))]:A().map(G=>(()=>{var fe=ko(),Se=fe.firstChild,K=Se.firstChild,J=K.nextSibling,se=J.firstChild,Q=Se.nextSibling;return r(K,()=>G.description),r(J,()=>ee(G.date),se),r(J,()=>G.reference,null),r(J,(()=>{var O=F(()=>!!G.isReconciled);return()=>O()&&(()=>{var pe=wn();return pe.firstChild,pe.style.setProperty("color","#4caf50"),pe.style.setProperty("margin-left","0.5rem"),r(pe,()=>e("banking.reconciled"),null),pe})()})(),null),r(Q,()=>G.debitAmount>0?"+":"-",null),r(Q,()=>te(G.debitAmount||G.creditAmount),null),B(O=>{var pe=X(!1,G.isReconciled),ge=Y,T=oe,j=re,be=me(G.debitAmount>0);return O.e=o(fe,pe,O.e),O.t=o(Se,ge,O.t),O.a=o(K,T,O.a),O.o=o(J,j,O.o),O.i=o(Q,be,O.i),O},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),fe})())})()),r(m,(()=>{var N=F(()=>!!(l()&&!l().isReconciled));return()=>N()&&(()=>{var G=Bd(),fe=G.firstChild,Se=fe.firstChild,K=fe.nextSibling,J=K.nextSibling;return G.style.setProperty("position","fixed"),G.style.setProperty("bottom","2rem"),G.style.setProperty("right","2rem"),G.style.setProperty("background","var(--surface-color)"),G.style.setProperty("padding","1rem"),G.style.setProperty("border-radius","var(--border-radius)"),G.style.setProperty("box-shadow","var(--shadow-lg)"),G.style.setProperty("border","1px solid var(--border-color)"),G.style.setProperty("max-width","300px"),fe.style.setProperty("font-weight","500"),fe.style.setProperty("margin-bottom","0.5rem"),r(fe,()=>e("banking.selected"),Se),K.style.setProperty("font-size","0.875rem"),K.style.setProperty("margin-bottom","0.5rem"),r(K,()=>l().description),J.style.setProperty("font-weight","600"),J.style.setProperty("color","var(--primary-color)"),r(J,()=>te(l().debitAmount||l().creditAmount)),r(G,u(Ae,{variant:"secondary",size:"sm",onClick:()=>{c(null),y([])},style:{"margin-top":"0.5rem"},get children(){return e("banking.clearSelection")}}),null),G})()})(),null),B(N=>{var G=R(g()==="all"),fe=R(g()==="unreconciled"),Se=R(g()==="reconciled"),K=M,J=M;return N.e=o(b,G,N.e),N.t=o(w,fe,N.t),N.a=o(le,Se,N.a),N.o=o(ne,K,N.o),N.i=o(ae,J,N.i),N},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),m})()};vt(["click"]);var Rd=k("<div><div><h2></h2><p></p></div><div>"),Od=k("<div><div><label></label></div><div><label></label><input type=date></div><div><label></label><input type=date>"),jd=k("<div><button></button><button>"),zd=k("<div><br>"),Mr=k("<div>"),Fd=k("<div><div></div><div> • </div><div>"),qd=k("<div>: "),Ud=k("<div> <!> • <!> "),Vd=k("<div>%"),Yd=k("<div> of <!> transactions");const Wd=()=>{const{t}=Qe(),[e,n]=Z(null),[i,a]=Z({start:new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),[s,l]=Z(!1),[c,d]=Z("overview");lr(()=>{!e()&&At.bankAccounts.length>0&&n(At.bankAccounts[0])});const y={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"2rem"},g={display:"flex",gap:"1rem","align-items":"center","margin-bottom":"2rem",padding:"1.5rem",background:"var(--surface-color)","border-radius":"var(--border-radius)",border:"1px solid var(--border-color)"},E={display:"flex","border-bottom":"1px solid var(--border-color)","margin-bottom":"2rem"},L=U=>({padding:"1rem 2rem",background:"none",border:"none",cursor:"pointer","font-weight":"500",color:U?"var(--primary-color)":"var(--text-muted)","border-bottom":U?"2px solid var(--primary-color)":"2px solid transparent",transition:"all 0.2s ease"}),A={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"},$=U=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(U),P=U=>new Date(U).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),x=()=>At.bankAccounts.map(U=>({value:U.id,label:`${U.bankName} - ${U.accountNumber} (${U.accountType})`})),M=(()=>{if(!e())return null;const U=At.getBankStatementsByAccount(e().accountId).filter(Y=>Y.date>=i().start&&Y.date<=i().end),R=At.getEntryBookRecordsByAccount(e().accountId).filter(Y=>Y.date>=i().start&&Y.date<=i().end),X=U.filter(Y=>Y.isReconciled).length;return R.filter(Y=>Y.isReconciled).length,{totalBankTransactions:U.length,totalEntryBookRecords:R.length,reconciledTransactions:X,unreconciledTransactions:U.length-X,reconciliationRate:U.length>0?X/U.length*100:0}})();return u(Yt,{get title(){return t("banking.title")},get children(){return[(()=>{var U=Rd(),R=U.firstChild,X=R.firstChild,Y=X.nextSibling,oe=R.nextSibling;return o(U,y),X.style.setProperty("margin","0 0 0.5rem 0"),X.style.setProperty("font-size","1.5rem"),r(X,()=>t("banking.reconciliation")),Y.style.setProperty("margin","0"),Y.style.setProperty("color","var(--text-muted)"),r(Y,()=>t("banking.compareStatements")),oe.style.setProperty("display","flex"),oe.style.setProperty("gap","1rem"),r(oe,u(Ae,{variant:"secondary",onClick:()=>l(!0),get disabled(){return!e()},get children(){return t("banking.importCSV")}}),null),r(oe,u(Ae,{variant:"primary",get children(){return t("banking.startNewReconciliation")}}),null),U})(),(()=>{var U=Od(),R=U.firstChild,X=R.firstChild,Y=R.nextSibling,oe=Y.firstChild,re=oe.nextSibling,me=Y.nextSibling,ue=me.firstChild,te=ue.nextSibling;return o(U,g),R.style.setProperty("flex","1"),X.style.setProperty("display","block"),X.style.setProperty("margin-bottom","0.5rem"),X.style.setProperty("font-weight","500"),r(X,()=>t("banking.bankAccount")),r(R,u(Lt,{label:"",get value(){return e()?.id||""},onChange:ee=>{const f=At.getBankAccountById(ee);n(f||null)},get options(){return x()}}),null),oe.style.setProperty("display","block"),oe.style.setProperty("margin-bottom","0.5rem"),oe.style.setProperty("font-weight","500"),r(oe,()=>t("entryBooks.startDate")),re.addEventListener("change",ee=>a(f=>({...f,start:ee.target.value}))),re.style.setProperty("padding","0.75rem"),re.style.setProperty("border","1px solid var(--border-color)"),re.style.setProperty("border-radius","var(--border-radius-sm)"),re.style.setProperty("font-family","inherit"),ue.style.setProperty("display","block"),ue.style.setProperty("margin-bottom","0.5rem"),ue.style.setProperty("font-weight","500"),r(ue,()=>t("entryBooks.endDate")),te.addEventListener("change",ee=>a(f=>({...f,end:ee.target.value}))),te.style.setProperty("padding","0.75rem"),te.style.setProperty("border","1px solid var(--border-color)"),te.style.setProperty("border-radius","var(--border-radius-sm)"),te.style.setProperty("font-family","inherit"),B(()=>re.value=i().start),B(()=>te.value=i().end),U})(),(()=>{var U=jd(),R=U.firstChild,X=R.nextSibling;return o(U,E),R.$$click=()=>d("overview"),r(R,()=>t("common.overview")),X.$$click=()=>d("reconciliation"),r(X,()=>t("banking.reconciliation")),B(Y=>{var oe=L(c()==="overview"),re=L(c()==="reconciliation");return Y.e=o(R,oe,Y.e),Y.t=o(X,re,Y.t),Y},{e:void 0,t:void 0}),U})(),F(()=>F(()=>c()==="overview")()&&(()=>{var U=Mr();return r(U,(()=>{var R=F(()=>!!e());return()=>R()&&(()=>{var X=Mr();return o(X,A),r(X,u(je,{get title(){return t("banking.bankAccountInfo")},get subtitle(){return t("banking.currentAccountDetails")},get children(){return[(()=>{var Y=Fd(),oe=Y.firstChild,re=oe.nextSibling,me=re.firstChild,ue=re.nextSibling;return Y.style.setProperty("margin-bottom","1rem"),oe.style.setProperty("font-weight","600"),oe.style.setProperty("margin-bottom","0.5rem"),r(oe,()=>e().bankName),re.style.setProperty("color","var(--text-muted)"),re.style.setProperty("margin-bottom","0.5rem"),r(re,()=>e().accountNumber,me),r(re,()=>e().accountType,null),ue.style.setProperty("font-size","1.25rem"),ue.style.setProperty("font-weight","600"),ue.style.setProperty("color","var(--primary-color)"),r(ue,()=>$(e().currentBalance)),Y})(),F(()=>F(()=>!!e().lastReconciledDate)()&&(()=>{var Y=qd(),oe=Y.firstChild;return Y.style.setProperty("font-size","0.875rem"),Y.style.setProperty("color","var(--text-muted)"),r(Y,()=>t("banking.lastReconciled"),oe),r(Y,()=>P(e().lastReconciledDate),null),Y})())]}}),null),r(X,M&&[u(je,{get title(){return t("banking.bankTransactions")},get subtitle(){return t("banking.selectedPeriod")},get children(){return[(()=>{var Y=Mr();return Y.style.setProperty("font-size","1.5rem"),Y.style.setProperty("font-weight","600"),Y.style.setProperty("color","var(--primary-color)"),Y.style.setProperty("margin-bottom","0.5rem"),r(Y,()=>M.totalBankTransactions),Y})(),(()=>{var Y=Ud(),oe=Y.firstChild,re=oe.nextSibling,me=re.nextSibling,ue=me.nextSibling;return ue.nextSibling,Y.style.setProperty("font-size","0.875rem"),Y.style.setProperty("color","var(--text-muted)"),r(Y,()=>M.reconciledTransactions,oe),r(Y,()=>t("banking.reconciled"),re),r(Y,()=>M.unreconciledTransactions,ue),r(Y,()=>t("banking.pending"),null),Y})()]}}),u(je,{get title(){return t("entryBooks.entryBookRecords")},get subtitle(){return t("banking.selectedPeriod")},get children(){return[(()=>{var Y=Mr();return Y.style.setProperty("font-size","1.5rem"),Y.style.setProperty("font-weight","600"),Y.style.setProperty("color","var(--primary-color)"),Y.style.setProperty("margin-bottom","0.5rem"),r(Y,()=>M.totalEntryBookRecords),Y})(),(()=>{var Y=Mr();return Y.style.setProperty("font-size","0.875rem"),Y.style.setProperty("color","var(--text-muted)"),r(Y,()=>t("banking.bookEntriesForComparison")),Y})()]}}),u(je,{get title(){return t("banking.reconciliationRate")},get subtitle(){return t("banking.completionStatus")},get children(){return[(()=>{var Y=Vd(),oe=Y.firstChild;return Y.style.setProperty("font-size","1.5rem"),Y.style.setProperty("font-weight","600"),Y.style.setProperty("margin-bottom","0.5rem"),r(Y,()=>Math.round(M.reconciliationRate),oe),B(re=>(re=M.reconciliationRate>80?"#4caf50":M.reconciliationRate>50?"#ff9800":"#f44336")!=null?Y.style.setProperty("color",re):Y.style.removeProperty("color")),Y})(),(()=>{var Y=Yd(),oe=Y.firstChild,re=oe.nextSibling;return re.nextSibling,Y.style.setProperty("font-size","0.875rem"),Y.style.setProperty("color","var(--text-muted)"),r(Y,()=>M.reconciledTransactions,oe),r(Y,()=>M.totalBankTransactions,re),Y})()]}})],null),X})()})(),null),r(U,u(je,{get title(){return t("banking.recentReconciliationSessions")},get subtitle(){return t("banking.latestActivity")},get children(){var R=zd(),X=R.firstChild;return R.style.setProperty("text-align","center"),R.style.setProperty("color","var(--text-muted)"),R.style.setProperty("padding","2rem"),r(R,()=>t("banking.noRecentSessions"),X),r(R,u(Ae,{variant:"primary",style:{"margin-top":"1rem"},onClick:()=>d("reconciliation"),get children(){return t("banking.startFirstReconciliation")}}),null),R}}),null),U})()),F(()=>F(()=>!!(c()==="reconciliation"&&e()))()&&u(Md,{get bankAccountId(){return e().id},get selectedPeriod(){return i()}})),u(Ed,{get isOpen(){return s()},onClose:()=>l(!1),get bankAccount(){return e()}})]}})};vt(["click"]);var Hd=k("<div><div></div><div>"),kn=k("<div>"),Gd=k("<div> • <!> • <!> "),Jd=k("<div><div><div></div><div></div></div><div><div></div><div>"),Qd=k("<div><div>:"),Kd=k("<div>⚠️ <!>: <!> <!>, <!> "),Zd=k("<div><div><div></div><div></div></div><div>"),Ao=k("<div> "),Xd=k("<div>✓ ");const eu=t=>{const{t:e}=Qe(),n={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"1rem"},i={"font-size":"0.875rem","font-weight":"600",color:"var(--text-muted)","text-transform":"uppercase"},a={padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500","text-transform":"uppercase","letter-spacing":"0.5px"},s={"font-size":"1.1rem","font-weight":"600",color:"var(--text-primary)","margin-bottom":"0.5rem"},l={"font-size":"0.875rem",color:"var(--text-muted)","margin-bottom":"1rem"},c={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"1rem"},d={"font-size":"1.25rem","font-weight":"600",color:"var(--primary-color)"},y={"max-height":"100px","overflow-y":"auto","border-top":"1px solid var(--border-color)","padding-top":"1rem"},g={display:"flex","justify-content":"space-between","align-items":"center","font-size":"0.875rem","margin-bottom":"0.5rem"},E={display:"flex","justify-content":"flex-end","margin-top":"1rem","padding-top":"1rem","border-top":"1px solid var(--border-color)"},L=h=>({draft:{bg:"#fff3cd",color:"#856404"},posted:{bg:"#d4edda",color:"#155724"},void:{bg:"#f8d7da",color:"#721c24"}})[h],A=h=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(h),$=h=>new Date(h).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),P=L(t.entry.status),x=Math.abs(t.entry.totalDebit-t.entry.totalCredit)<.01;return u(je,{get children(){return[(()=>{var h=Hd(),M=h.firstChild,U=M.nextSibling;return o(h,n),o(M,i),r(M,()=>t.entry.entryNumber),r(U,()=>t.entry.status),B(R=>o(U,{...a,background:P.bg,color:P.color},R)),h})(),(()=>{var h=kn();return o(h,s),r(h,()=>t.entry.description),h})(),(()=>{var h=Gd(),M=h.firstChild,U=M.nextSibling,R=U.nextSibling,X=R.nextSibling;return X.nextSibling,o(h,l),r(h,()=>$(t.entry.date),M),r(h,()=>t.entry.reference||e("journal.noReference","No reference"),U),r(h,()=>e("journal.createdBy","By"),X),r(h,()=>t.entry.createdBy,null),h})(),(()=>{var h=Jd(),M=h.firstChild,U=M.firstChild,R=U.nextSibling,X=M.nextSibling,Y=X.firstChild,oe=Y.nextSibling;return o(h,c),U.style.setProperty("font-size","0.875rem"),U.style.setProperty("color","var(--text-muted)"),r(U,()=>e("journal.totalAmount","Total Amount")),o(R,d),r(R,()=>A(t.entry.totalDebit)),X.style.setProperty("text-align","right"),Y.style.setProperty("font-size","0.875rem"),Y.style.setProperty("color","var(--text-muted)"),r(Y,()=>e("journal.lines","Lines")),oe.style.setProperty("font-weight","600"),r(oe,()=>t.entry.lines.length),h})(),F(()=>!x&&(()=>{var h=Kd(),M=h.firstChild,U=M.nextSibling,R=U.nextSibling,X=R.nextSibling,Y=X.nextSibling,oe=Y.nextSibling,re=oe.nextSibling,me=re.nextSibling;return me.nextSibling,h.style.setProperty("padding","0.5rem"),h.style.setProperty("border-radius","var(--border-radius-sm)"),h.style.setProperty("background","#f8d7da"),h.style.setProperty("color","#721c24"),h.style.setProperty("font-size","0.875rem"),h.style.setProperty("margin-bottom","1rem"),r(h,()=>e("journal.entryNotBalancedShort","Entry is not balanced"),U),r(h,()=>e("journal.debit"),X),r(h,()=>A(t.entry.totalDebit),oe),r(h,()=>e("journal.credit"),me),r(h,()=>A(t.entry.totalCredit),null),h})()),(()=>{var h=Qd(),M=h.firstChild,U=M.firstChild;return o(h,y),M.style.setProperty("font-weight","500"),M.style.setProperty("margin-bottom","0.5rem"),M.style.setProperty("font-size","0.875rem"),r(M,()=>e("journal.accountLines","Account Lines"),U),r(h,()=>t.entry.lines.slice(0,3).map(R=>(()=>{var X=Zd(),Y=X.firstChild,oe=Y.firstChild,re=oe.nextSibling,me=Y.nextSibling;return o(X,g),Y.style.setProperty("flex","1"),oe.style.setProperty("font-weight","500"),r(oe,()=>R.accountName),re.style.setProperty("font-size","0.75rem"),re.style.setProperty("color","var(--text-muted)"),r(re,()=>R.description||e("journal.noDescription","No description")),me.style.setProperty("text-align","right"),r(me,(()=>{var ue=F(()=>R.debitAmount>0);return()=>ue()&&(()=>{var te=Ao(),ee=te.firstChild;return te.style.setProperty("color","#4caf50"),te.style.setProperty("font-weight","500"),r(te,()=>e("journal.debitShort","Dr."),ee),r(te,()=>A(R.debitAmount),null),te})()})(),null),r(me,(()=>{var ue=F(()=>R.creditAmount>0);return()=>ue()&&(()=>{var te=Ao(),ee=te.firstChild;return te.style.setProperty("color","#f44336"),te.style.setProperty("font-weight","500"),r(te,()=>e("journal.creditShort","Cr."),ee),r(te,()=>A(R.creditAmount),null),te})()})(),null),r(me,(()=>{var ue=F(()=>!!R.reconciled);return()=>ue()&&(()=>{var te=Xd();return te.firstChild,te.style.setProperty("font-size","0.75rem"),te.style.setProperty("color","#4caf50"),r(te,()=>e("banking.reconciled","Reconciled"),null),te})()})(),null),X})()),null),r(h,(()=>{var R=F(()=>t.entry.lines.length>3);return()=>R()&&(()=>{var X=kn();return X.style.setProperty("text-align","center"),X.style.setProperty("color","var(--text-muted)"),X.style.setProperty("font-size","0.875rem"),r(X,()=>e("journal.andMoreLines","... and {count} more lines").replace("{count}",(t.entry.lines.length-3).toString())),X})()})(),null),h})(),(()=>{var h=kn();return o(h,E),r(h,u(Ae,{variant:"primary",size:"sm",onClick:()=>t.onViewDetails?.(t.entry),get children(){return e("journal.viewDetails","View Details")}})),h})()]}})},tu=[{id:"je1",entryNumber:"JE-2024-001",date:"2024-01-15",description:"Customer Payment Received - ABC Corp",reference:"INV-2024-001",status:"posted",createdBy:"John Doe",createdAt:"2024-01-15T09:00:00Z",postedAt:"2024-01-15T09:05:00Z",totalDebit:5e3,totalCredit:5e3,lines:[{id:"jel1",accountId:"1002",accountName:"Bank - Checking Account",description:"Payment from ABC Corp",debitAmount:5e3,creditAmount:0,reconciled:!0,reconciledWith:"eb1"},{id:"jel2",accountId:"2001",accountName:"Trade Receivables",description:"Payment received for INV-2024-001",debitAmount:0,creditAmount:5e3}]},{id:"je2",entryNumber:"JE-2024-002",date:"2024-01-14",description:"Office Supplies Purchase",reference:"PO-2024-001",status:"posted",createdBy:"Jane Smith",createdAt:"2024-01-14T10:00:00Z",postedAt:"2024-01-14T10:15:00Z",totalDebit:250,totalCredit:250,lines:[{id:"jel3",accountId:"5200",accountName:"Office Expenses",description:"Office supplies from Staples",debitAmount:250,creditAmount:0},{id:"jel4",accountId:"1002",accountName:"Bank - Checking Account",description:"Payment to Staples",debitAmount:0,creditAmount:250,reconciled:!0,reconciledWith:"eb2"}]},{id:"je3",entryNumber:"JE-2024-003",date:"2024-01-13",description:"Monthly Rent Payment",reference:"RENT-2024-01",status:"posted",createdBy:"John Doe",createdAt:"2024-01-13T08:00:00Z",postedAt:"2024-01-13T08:30:00Z",totalDebit:2e3,totalCredit:2e3,lines:[{id:"jel5",accountId:"5200",accountName:"Rent Expense",description:"January office rent",debitAmount:2e3,creditAmount:0},{id:"jel6",accountId:"1002",accountName:"Bank - Checking Account",description:"Rent payment",debitAmount:0,creditAmount:2e3,reconciled:!1}]},{id:"je4",entryNumber:"JE-2024-004",date:"2024-01-12",description:"Wire Transfer - Capital Investment",reference:"WIRE-001",status:"posted",createdBy:"Admin",createdAt:"2024-01-12T14:00:00Z",postedAt:"2024-01-12T14:30:00Z",totalDebit:1e4,totalCredit:1e4,lines:[{id:"jel7",accountId:"1002",accountName:"Bank - Checking Account",description:"Wire transfer received",debitAmount:1e4,creditAmount:0,reconciled:!1},{id:"jel8",accountId:"8",accountName:"Owner's Equity",description:"Capital investment",debitAmount:0,creditAmount:1e4}]},{id:"je5",entryNumber:"JE-2024-005",date:"2024-01-11",description:"Salary Payment - John Doe",reference:"PAY-2024-001",status:"posted",createdBy:"HR Manager",createdAt:"2024-01-11T16:00:00Z",postedAt:"2024-01-11T16:30:00Z",totalDebit:3500,totalCredit:3500,lines:[{id:"jel9",accountId:"13",accountName:"Salaries Expense",description:"Monthly salary - John Doe",debitAmount:3500,creditAmount:0},{id:"jel10",accountId:"1002",accountName:"Bank - Checking Account",description:"Salary payment",debitAmount:0,creditAmount:3500,reconciled:!1}]},{id:"je6",entryNumber:"JE-2024-006",date:"2024-01-10",description:"Product Sales - Multiple Customers",reference:"SALES-2024-010",status:"posted",createdBy:"Sales Manager",createdAt:"2024-01-10T11:00:00Z",postedAt:"2024-01-10T11:30:00Z",totalDebit:8500,totalCredit:8500,lines:[{id:"jel11",accountId:"1001",accountName:"Petty Cash",description:"Cash sales",debitAmount:1500,creditAmount:0},{id:"jel12",accountId:"2001",accountName:"Trade Receivables",description:"Credit sales",debitAmount:7e3,creditAmount:0},{id:"jel13",accountId:"10",accountName:"Sales Revenue",description:"Product sales revenue",debitAmount:0,creditAmount:8500}]},{id:"je7",entryNumber:"JE-2024-007",date:"2024-01-09",description:"Inventory Purchase",reference:"PO-2024-002",status:"draft",createdBy:"Warehouse Manager",createdAt:"2024-01-09T15:00:00Z",totalDebit:15e3,totalCredit:15e3,lines:[{id:"jel14",accountId:"3",accountName:"Inventory",description:"Product inventory purchase",debitAmount:15e3,creditAmount:0},{id:"jel15",accountId:"5",accountName:"Accounts Payable",description:"Amount owed to supplier",debitAmount:0,creditAmount:15e3}]},{id:"je8",entryNumber:"JE-2024-008",date:"2024-01-08",description:"Utility Bills Payment",reference:"UTIL-2024-01",status:"posted",createdBy:"Admin",createdAt:"2024-01-08T09:00:00Z",postedAt:"2024-01-08T09:30:00Z",totalDebit:450,totalCredit:450,lines:[{id:"jel16",accountId:"14",accountName:"Operating Expenses",description:"Electricity and water bills",debitAmount:450,creditAmount:0},{id:"jel17",accountId:"1003",accountName:"Bank - Savings Account",description:"Utility payment",debitAmount:0,creditAmount:450}]}],[Mt,An]=Z(tu),Io=()=>Mt().filter(e=>e.status==="posted").flatMap(e=>e.lines.filter(n=>["1001","1002","1003"].includes(n.accountId))).map(e=>{const n=Mt().find(i=>i.lines.some(a=>a.id===e.id));return n?{id:`eb_${e.id}`,accountId:e.accountId,date:n.date,description:n.description,reference:n.reference,debitAmount:e.debitAmount,creditAmount:e.creditAmount,category:e.accountName,isReconciled:e.reconciled||!1,reconciledWith:e.reconciledWith,createdAt:n.createdAt}:null}).filter(e=>e!==null),Qt={get journalEntries(){return Mt()},addJournalEntry(t){const e={...t,id:Date.now().toString()};return An([...Mt(),e]),e},updateJournalEntry(t,e){An(Mt().map(n=>n.id===t?{...n,...e}:n))},deleteJournalEntry(t){const e=Mt().find(n=>n.id===t);if(e&&e.status==="posted")throw new Error("Cannot delete posted journal entries. Void them instead.");An(Mt().filter(n=>n.id!==t))},voidJournalEntry(t){this.updateJournalEntry(t,{status:"void"})},postJournalEntry(t){const e=Mt().find(n=>n.id===t);if(!e)throw new Error("Journal entry not found");if(Math.abs(e.totalDebit-e.totalCredit)>.01)throw new Error("Journal entry is not balanced. Debits must equal credits.");this.updateJournalEntry(t,{status:"posted",postedAt:new Date().toISOString()}),Io()},getJournalEntryById(t){return Mt().find(e=>e.id===t)},getJournalEntriesByStatus(t){return Mt().filter(e=>e.status===t)},getJournalEntriesByDateRange(t,e){return Mt().filter(n=>n.date>=t&&n.date<=e)},getJournalEntriesByAccount(t){return Mt().filter(e=>e.lines.some(n=>n.accountId===t))},getNextEntryNumber(){const t=new Date().getFullYear(),n=Mt().filter(i=>i.entryNumber.includes(t.toString())).reduce((i,a)=>{const s=parseInt(a.entryNumber.split("-").pop()||"0");return s>i?s:i},0);return`JE-${t}-${String(n+1).padStart(3,"0")}`},validateJournalEntry(t){const e=[];if(t.date||e.push("Date is required"),t.description||e.push("Description is required"),(!t.lines||t.lines.length===0)&&e.push("At least one line item is required"),t.lines){const n=t.lines.reduce((a,s)=>a+(s.debitAmount||0),0),i=t.lines.reduce((a,s)=>a+(s.creditAmount||0),0);Math.abs(n-i)>.01&&e.push(`Entry is not balanced. Debit: ${n}, Credit: ${i}`),t.lines.forEach((a,s)=>{a.accountId||e.push(`Line ${s+1}: Account is required`),a.debitAmount===0&&a.creditAmount===0&&e.push(`Line ${s+1}: Either debit or credit amount must be provided`),a.debitAmount>0&&a.creditAmount>0&&e.push(`Line ${s+1}: Cannot have both debit and credit amounts`)})}return{isValid:e.length===0,errors:e}},getBankRelatedEntries(){return Io()}};var ru=k("<form><div></div><div><div><h4></h4></div><div><div><div><strong></strong></div><div><strong></strong></div><div><strong></strong></div><div><strong></strong></div><div><strong></strong></div></div></div><div><div><strong>: </strong></div><div><strong>: </strong></div><div></div></div></div><div>"),Eo=k("<div>");const ei=t=>{const{t:e}=Qe(),[n,i]=Z({entryNumber:"",date:new Date().toISOString().split("T")[0],description:"",reference:"",createdBy:"Current User"}),[a,s]=Z([{tempId:`line_${Date.now()}_0`,accountId:"",accountName:"",description:"",debitAmount:0,creditAmount:0},{tempId:`line_${Date.now()}_1`,accountId:"",accountName:"",description:"",debitAmount:0,creditAmount:0}]),[l,c]=Z(null);lr(()=>{if(t.isOpen){if(t.editEntry)i({entryNumber:t.editEntry.entryNumber,date:t.editEntry.date,description:t.editEntry.description,reference:t.editEntry.reference,createdBy:t.editEntry.createdBy}),s(t.editEntry.lines.map((R,X)=>({...R,tempId:`line_${Date.now()}_${X}`})));else{const R=Qt.getNextEntryNumber();i({entryNumber:R,date:new Date().toISOString().split("T")[0],description:"",reference:"",createdBy:"Current User"}),s([{tempId:`line_${Date.now()}_0`,accountId:"",accountName:"",description:"",debitAmount:0,creditAmount:0},{tempId:`line_${Date.now()}_1`,accountId:"",accountName:"",description:"",debitAmount:0,creditAmount:0}])}c(null)}});const d={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},y={display:"grid","grid-template-columns":"2fr 2fr 1fr 1fr 1fr",gap:"1rem","align-items":"end","margin-bottom":"1rem",padding:"1rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)",background:"var(--background-color)"},g={display:"flex","justify-content":"space-between","align-items":"center",padding:"1rem",background:"var(--surface-color)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","margin-top":"1rem"},E=()=>nt.accounts.map(R=>({value:R.id,label:`${R.accountNumber} - ${R.name}`})),L=(R,X)=>{i(Y=>({...Y,[R]:X}))},A=(R,X,Y)=>{s(oe=>oe.map(re=>{if(re.tempId===R){const me={...re,[X]:Y};if(X==="accountId"&&typeof Y=="string"){const ue=nt.getAccountById(Y);ue&&(me.accountName=ue.name)}return me}return re}))},$=()=>{s(R=>[...R,{tempId:`line_${Date.now()}_${R.length}`,accountId:"",accountName:"",description:"",debitAmount:0,creditAmount:0}])},P=R=>{a().length>2&&s(X=>X.filter(Y=>Y.tempId!==R))},x=()=>{const R=a().reduce((Y,oe)=>Y+(oe.debitAmount||0),0),X=a().reduce((Y,oe)=>Y+(oe.creditAmount||0),0);return{totalDebit:R,totalCredit:X,isBalanced:Math.abs(R-X)<.01}},h=R=>{R.preventDefault(),c(null);const X=n(),Y=a(),{totalDebit:oe,totalCredit:re,isBalanced:me}=x();if(!X.description){c(e("forms.descriptionRequired","Description is required"));return}if(Y.length<2){c(e("journal.minTwoLinesRequired","At least 2 line items are required"));return}if(!me){c(e("journal.entryNotBalanced","Entry is not balanced. Debit: ${debit}, Credit: ${credit}").replace("${debit}",`$${oe.toFixed(2)}`).replace("${credit}",`$${re.toFixed(2)}`));return}for(let te=0;te<Y.length;te++){const ee=Y[te];if(!ee.accountId){c(e("journal.lineAccountRequired","Line {lineNumber}: Account is required").replace("{lineNumber}",(te+1).toString()));return}if(ee.debitAmount===0&&ee.creditAmount===0){c(e("journal.lineAmountRequired","Line {lineNumber}: Either debit or credit amount must be provided").replace("{lineNumber}",(te+1).toString()));return}if((ee.debitAmount||0)>0&&(ee.creditAmount||0)>0){c(e("journal.lineBothAmounts","Line {lineNumber}: Cannot have both debit and credit amounts").replace("{lineNumber}",(te+1).toString()));return}}const ue={entryNumber:X.entryNumber,date:X.date,description:X.description,reference:X.reference,status:"draft",createdBy:X.createdBy,createdAt:new Date().toISOString(),totalDebit:oe,totalCredit:re,lines:Y.map((te,ee)=>{const{tempId:f,...ie}=te;return{id:`jel_${Date.now()}_${ee}`,...ie}})};try{t.editEntry?Qt.updateJournalEntry(t.editEntry.id,ue):Qt.addJournalEntry(ue),i({entryNumber:Qt.getNextEntryNumber(),date:new Date().toISOString().split("T")[0],description:"",reference:"",createdBy:"Current User"}),s([{tempId:`line_${Date.now()}_0`,accountId:"",accountName:"",description:"",debitAmount:0,creditAmount:0},{tempId:`line_${Date.now()}_1`,accountId:"",accountName:"",description:"",debitAmount:0,creditAmount:0}]),t.onClose()}catch(te){c(te instanceof Error?te.message:e("forms.errorOccurred","An error occurred"))}},M=R=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(R),U=x();return u(It,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return F(()=>!!t.editEntry)()?e("journal.editEntry"):e("journal.addEntry","Add Journal Entry")},get children(){var R=ru(),X=R.firstChild,Y=X.nextSibling,oe=Y.firstChild,re=oe.firstChild,me=oe.nextSibling,ue=me.firstChild,te=ue.firstChild,ee=te.firstChild,f=te.nextSibling,ie=f.firstChild,_=f.nextSibling,m=_.firstChild,D=_.nextSibling,v=D.firstChild,C=D.nextSibling,b=C.firstChild,w=me.nextSibling,le=w.firstChild,S=le.firstChild,I=S.firstChild,H=le.nextSibling,V=H.firstChild,ne=V.firstChild,W=H.nextSibling,q=Y.nextSibling;return R.addEventListener("submit",h),X.style.setProperty("display","grid"),X.style.setProperty("grid-template-columns","1fr 1fr"),X.style.setProperty("gap","1rem"),r(X,u(st,{get label(){return e("journal.entryNumber")},get value(){return n().entryNumber},onChange:ae=>L("entryNumber",ae),get disabled(){return!!t.editEntry},required:!0}),null),r(X,u(st,{get label(){return e("common.date")},type:"date",get value(){return n().date},onChange:ae=>L("date",ae),required:!0}),null),r(R,u(st,{get label(){return e("common.description")},get value(){return n().description},onChange:ae=>L("description",ae),get placeholder(){return e("journal.enterEntryDescription","Enter journal entry description")},required:!0}),Y),r(R,u(st,{get label(){return e("journal.reference")},get value(){return n().reference},onChange:ae=>L("reference",ae),get placeholder(){return e("journal.enterReferenceNumber","Enter reference number")}}),Y),Y.style.setProperty("margin-top","2rem"),oe.style.setProperty("display","flex"),oe.style.setProperty("justify-content","space-between"),oe.style.setProperty("align-items","center"),oe.style.setProperty("margin-bottom","1rem"),re.style.setProperty("margin","0"),r(re,()=>e("journal.entryLines","Journal Entry Lines")),r(oe,u(Ae,{type:"button",variant:"secondary",size:"sm",onClick:$,get children(){return e("journal.addLine","Add Line")}}),null),me.style.setProperty("margin-bottom","1rem"),me.style.setProperty("font-size","0.875rem"),me.style.setProperty("color","var(--text-muted)"),ue.style.setProperty("display","grid"),ue.style.setProperty("grid-template-columns","2fr 2fr 1fr 1fr 1fr"),ue.style.setProperty("gap","1rem"),r(ee,()=>e("journal.account")),r(ie,()=>e("common.description")),r(m,()=>e("journal.debit")),r(v,()=>e("journal.credit")),r(b,()=>e("common.actions")),r(Y,u(mt,{get each(){return a()},children:ae=>(()=>{var N=Eo();return o(N,y),r(N,u(Lt,{label:"",get value(){return ae.accountId||""},onChange:G=>A(ae.tempId,"accountId",G),get options(){return E()}}),null),r(N,u(st,{label:"",get value(){return ae.description||""},onChange:G=>A(ae.tempId,"description",G),get placeholder(){return e("journal.lineDescription","Line description")}}),null),r(N,u(st,{label:"",type:"number",get value(){return ae.debitAmount?.toString()||"0"},onChange:G=>{A(ae.tempId,"debitAmount",parseFloat(G)||0),parseFloat(G)>0&&A(ae.tempId,"creditAmount",0)},placeholder:"0.00"}),null),r(N,u(st,{label:"",type:"number",get value(){return ae.creditAmount?.toString()||"0"},onChange:G=>{A(ae.tempId,"creditAmount",parseFloat(G)||0),parseFloat(G)>0&&A(ae.tempId,"debitAmount",0)},placeholder:"0.00"}),null),r(N,u(Ae,{type:"button",variant:"outline",size:"sm",onClick:()=>P(ae.tempId),get disabled(){return a().length<=2},get children(){return e("common.remove","Remove")}}),null),N})()}),w),o(w,g),r(S,()=>e("journal.totalDebit","Total Debit"),I),r(S,()=>M(U.totalDebit),null),r(V,()=>e("journal.totalCredit","Total Credit"),ne),r(V,()=>M(U.totalCredit),null),W.style.setProperty("font-weight","600"),r(W,(()=>{var ae=F(()=>!!U.isBalanced);return()=>ae()?`✓ ${e("journal.balanced")}`:`⚠️ ${e("journal.notBalanced","Not Balanced")}`})()),r(R,(()=>{var ae=F(()=>!!l());return()=>ae()&&(()=>{var N=Eo();return N.style.setProperty("padding","1rem"),N.style.setProperty("border-radius","var(--border-radius-sm)"),N.style.setProperty("margin-top","1rem"),N.style.setProperty("background","#f8d7da"),N.style.setProperty("color","#721c24"),N.style.setProperty("border","1px solid #f5c6cb"),r(N,l),N})()})(),q),o(q,d),r(q,u(Ae,{variant:"secondary",type:"button",get onClick(){return t.onClose},get children(){return e("common.cancel")}}),null),r(q,u(Ae,{variant:"primary",type:"submit",get disabled(){return!U.isBalanced},get children(){return F(()=>!!t.editEntry)()?e("journal.updateEntry","Update Entry"):e("journal.saveAsDraft","Save as Draft")}}),null),B(ae=>(ae=U.isBalanced?"#4caf50":"#f44336")!=null?W.style.setProperty("color",ae):W.style.removeProperty("color")),R}})};var nu=k("<div><div>⚠️</div><div></div><div></div><div>"),ou=k("<div><div></div><div></div><div></div><div></div><div>"),iu=k("<div><button></button><button> (<!>)</button><button> (<!>/<!>)"),Lo=k("<div>"),lu=k("<div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><div><h4></h4><div></div></div><div>"),In=k("<div><span></span><span>"),En=k("<div><strong>:</strong> "),au=k("<div><div><div></div><div></div><div></div><div></div><div></div></div><div><div><strong>:</strong> </div><div><strong>:</strong> </div><div></div></div><div><div><strong>🔗 Reconciliation Summary</strong></div><div><div><div><strong>Total Lines:</strong> </div><div><strong>Reconciled:</strong> </div><div><strong>Unreconciled:</strong> </div></div><div><div><strong>Bank Accounts:</strong> </div><div><strong>Bank Reconciled:</strong> "),su=k("<div><div><div></div><div></div></div><div></div><div></div><div></div><div>"),cu=k("<div><span>✓ "),du=k("<span>(<!>)"),uu=k("<div><strong>Bank Pending:</strong> "),yu=k("<div><div>Reconciled Lines:"),mu=k("<div><div>⚠️ Pending Bank Reconciliation:</div><div>Visit Bank Consolidations to reconcile these transactions"),vu=k("<div><div><div><span></span><h3></h3></div><div><div><div></div><div>Total Lines</div></div><div><div></div><div>Reconciled</div></div><div><div></div><div>Pending"),gu=k("<div><h4>✅ Reconciled Lines (<!>)"),pu=k("<div><div><div></div><div></div></div><div></div><div></div><div></div><div><div>✓ Matched"),fu=k("<div>→ "),bu=k("<div><h4>⏳ Unreconciled Lines (<!>)"),hu=k("<div><div><div></div><div></div></div><div></div><div></div><div></div><div><div>⏳ Pending"),Su=k("<div>Bank account"),Pu=k("<div><div>💡 Reconciliation Tip</div><div>This entry has unreconciled bank account transactions. Visit <strong>Bank Consolidations</strong> to match these with bank statements.");const $u=t=>{const{t:e}=Qe(),[n,i]=Z("details"),[a,s]=Z(!1),l=qe(()=>t.entryId?Qt.getJournalEntryById(t.entryId):null),c={"text-align":"center","margin-bottom":"2rem",position:"relative"},d={position:"absolute",top:"0",right:"0",display:"flex",gap:"0.5rem"},y={"font-size":"0.875rem","font-weight":"600",color:"var(--text-muted)","text-transform":"uppercase","margin-bottom":"0.5rem"},g={"font-size":"1.5rem","font-weight":"600",color:"var(--text-primary)",margin:"0.5rem 0"},E={"font-size":"2rem","font-weight":"700",color:"var(--primary-color)","margin-bottom":"0.5rem"},L={padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500","text-transform":"uppercase","letter-spacing":"0.5px","margin-bottom":"1rem",display:"inline-block"},A={display:"flex","justify-content":"space-between","align-items":"center",padding:"0.75rem 0","border-bottom":"1px solid var(--border-color)"},$={"font-weight":"500",color:"var(--text-muted)","font-size":"0.875rem"},P={"font-weight":"600",color:"var(--text-primary)"},x={display:"flex","border-bottom":"1px solid var(--border-color)","margin-bottom":"1.5rem"},h=f=>({padding:"0.75rem 1rem",background:"none",border:"none",cursor:"pointer","font-weight":"500",color:f?"var(--primary-color)":"var(--text-muted)","border-bottom":f?"2px solid var(--primary-color)":"2px solid transparent",transition:"all 0.2s ease"}),M={display:"grid","grid-template-columns":"2fr 2.5fr 1fr 1fr 1.5fr",gap:"1rem",padding:"1rem 0","border-bottom":"1px solid var(--border-color)","align-items":"center"},U={...M,"font-weight":"600","font-size":"0.875rem",color:"var(--text-muted)","border-bottom":"2px solid var(--border-color)"},R={display:"flex","justify-content":"space-between","align-items":"center",padding:"1rem",background:"var(--surface-color)","border-radius":"var(--border-radius-sm)","margin-top":"1rem"},X={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},Y=f=>({draft:{bg:"#fff3cd",color:"#856404"},posted:{bg:"#d4edda",color:"#155724"},void:{bg:"#f8d7da",color:"#721c24"}})[f],oe=f=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(f),re=f=>new Date(f).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),me=f=>new Date(f).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),ue=()=>{entry.status==="posted"&&!confirm(e("journal.confirmEditPosted","This entry has been posted. Editing will create a new draft copy. Continue?"))||s(!0)},te=()=>{if(l()&&confirm(e("journal.confirmPost","Are you sure you want to post this journal entry? This action cannot be undone.")))try{Qt.postJournalEntry(l().id)}catch(f){alert(f instanceof Error?f.message:e("forms.errorPostingEntry","An error occurred while posting the entry"))}},ee=()=>{l()&&confirm(e("journal.confirmVoid","Are you sure you want to void this journal entry?"))&&Qt.voidJournalEntry(l().id)};return[u(It,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return e("journal.entryDetails","Journal Entry Details")},get children(){return F(()=>!l())()?(()=>{var f=nu(),ie=f.firstChild,_=ie.nextSibling,m=_.nextSibling,D=m.nextSibling;return f.style.setProperty("text-align","center"),f.style.setProperty("padding","3rem"),f.style.setProperty("color","var(--text-muted)"),ie.style.setProperty("font-size","1.5rem"),ie.style.setProperty("margin-bottom","1rem"),_.style.setProperty("font-size","1.1rem"),_.style.setProperty("margin-bottom","0.5rem"),r(_,()=>e("journal.entryNotFound","Entry Not Found")),m.style.setProperty("font-size","0.875rem"),r(m,()=>e("journal.entryNotFoundMessage","The journal entry you're looking for could not be found or may have been deleted.")),D.style.setProperty("margin-top","2rem"),r(D,u(Ae,{variant:"primary",get onClick(){return t.onClose},get children(){return e("common.close")}})),f})():(()=>{const f=l(),ie=Y(f.status),_=Math.abs(f.totalDebit-f.totalCredit)<.01;return[(()=>{var m=ou(),D=m.firstChild,v=D.nextSibling,C=v.nextSibling,b=C.nextSibling,w=b.nextSibling;return o(m,c),r(D,u(Ae,{variant:"outline",size:"sm",onClick:ue,get title(){return e("journal.editEntryTooltip","Edit this journal entry")},get children(){return e("common.edit")}}),null),r(D,(()=>{var le=F(()=>f.status==="draft");return()=>le()&&u(Ae,{variant:"primary",size:"sm",onClick:te,disabled:!_,get title(){return _?e("journal.postEntryTooltip","Post this journal entry"):e("journal.entryMustBeBalanced","Entry must be balanced to post")},get children(){return e("journal.post","Post")}})})(),null),r(D,(()=>{var le=F(()=>f.status==="posted");return()=>le()&&u(Ae,{variant:"outline",size:"sm",onClick:ee,style:{color:"#dc3545","border-color":"#dc3545"},get title(){return e("journal.voidEntryTooltip","Void this journal entry")},get children(){return e("entryBooks.void","Void")}})})(),null),o(v,y),r(v,()=>f.entryNumber),o(C,g),r(C,()=>f.description),o(b,E),r(b,()=>oe(f.totalDebit)),r(w,()=>f.status),B(le=>{var S=d,I={...L,background:ie.bg,color:ie.color};return le.e=o(D,S,le.e),le.t=o(w,I,le.t),le},{e:void 0,t:void 0}),m})(),(()=>{var m=iu(),D=m.firstChild,v=D.nextSibling,C=v.firstChild,b=C.nextSibling;b.nextSibling;var w=v.nextSibling,le=w.firstChild,S=le.nextSibling,I=S.nextSibling,H=I.nextSibling;return H.nextSibling,o(m,x),D.$$click=()=>i("details"),r(D,()=>e("common.details")),v.$$click=()=>i("lines"),r(v,()=>e("journal.journalLines","Journal Lines"),C),r(v,()=>f.lines.length,b),w.$$click=()=>i("reconciliation"),r(w,()=>e("banking.reconciliation","Reconciliation"),le),r(w,()=>f.lines.filter(V=>V.reconciled).length,S),r(w,()=>f.lines.length,H),B(V=>{var ne=h(n()==="details"),W=h(n()==="lines"),q=h(n()==="reconciliation");return V.e=o(D,ne,V.e),V.t=o(v,W,V.t),V.a=o(w,q,V.a),V},{e:void 0,t:void 0,a:void 0}),m})(),F(()=>F(()=>n()==="details")()&&(()=>{var m=lu(),D=m.firstChild,v=D.firstChild,C=v.nextSibling,b=D.nextSibling,w=b.firstChild,le=w.nextSibling,S=b.nextSibling,I=S.firstChild,H=I.nextSibling,V=S.nextSibling,ne=V.firstChild,W=ne.nextSibling,q=V.nextSibling,ae=q.firstChild,N=ae.nextSibling,G=q.nextSibling,fe=G.firstChild,Se=fe.nextSibling,K=G.nextSibling,J=K.firstChild,se=J.nextSibling,Q=K.nextSibling,O=Q.firstChild,pe=O.firstChild,ge=pe.nextSibling,T=O.nextSibling;return r(v,()=>e("common.date")),r(C,()=>re(f.date)),r(w,()=>e("journal.reference")),r(le,()=>f.reference||e("common.notAvailable","N/A")),r(I,()=>e("journal.totalDebit")),r(H,()=>oe(f.totalDebit)),r(ne,()=>e("journal.totalCredit")),r(W,()=>oe(f.totalCredit)),r(ae,()=>e("journal.balanceStatus","Balance Status")),r(N,()=>_?`${e("journal.balanced")} ✓`:`${e("journal.unbalanced","Unbalanced")} (${oe(Math.abs(f.totalDebit-f.totalCredit))} ${e("journal.difference","difference")})`),r(fe,()=>e("journal.createdBy")),r(Se,()=>f.createdBy),r(J,()=>e("journal.createdAt","Created At")),r(se,()=>me(f.createdAt)),r(m,(()=>{var j=F(()=>!!f.postedAt);return()=>j()&&(()=>{var be=In(),ye=be.firstChild,ce=ye.nextSibling;return r(ye,()=>e("journal.postedAt","Posted At")),r(ce,()=>me(f.postedAt)),B(z=>{var p=A,de=$,_e=P;return z.e=o(be,p,z.e),z.t=o(ye,de,z.t),z.a=o(ce,_e,z.a),z},{e:void 0,t:void 0,a:void 0}),be})()})(),Q),Q.style.setProperty("margin-top","2rem"),Q.style.setProperty("padding-top","1rem"),Q.style.setProperty("border-top","2px solid var(--border-color)"),O.style.setProperty("display","flex"),O.style.setProperty("justify-content","space-between"),O.style.setProperty("align-items","center"),O.style.setProperty("margin-bottom","1rem"),pe.style.setProperty("margin","0"),pe.style.setProperty("font-size","1rem"),r(pe,()=>e("journal.quickActions","Quick Actions")),ge.style.setProperty("display","flex"),ge.style.setProperty("gap","0.5rem"),r(ge,u(Ae,{variant:"primary",size:"sm",onClick:ue,get children(){return["✏️ ",F(()=>e("journal.editEntry"))]}}),null),r(ge,(()=>{var j=F(()=>f.status==="draft");return()=>j()&&u(Ae,{variant:"outline",size:"sm",onClick:te,disabled:!_,style:{"border-color":_?"#4caf50":"#f44336",color:_?"#4caf50":"#f44336"},get children(){return _?`✓ ${e("journal.postEntry","Post Entry")}`:`⚠️ ${e("journal.fixBalance","Fix Balance")}`}})})(),null),r(ge,(()=>{var j=F(()=>f.status==="posted");return()=>j()&&u(Ae,{variant:"outline",size:"sm",onClick:ee,style:{color:"#dc3545","border-color":"#dc3545"},get children(){return["🗑️ ",F(()=>e("journal.voidEntry","Void Entry"))]}})})(),null),T.style.setProperty("padding","1rem"),T.style.setProperty("border-radius","var(--border-radius-sm)"),T.style.setProperty("font-size","0.875rem"),r(T,(()=>{var j=F(()=>f.status==="draft");return()=>j()&&(()=>{var be=En(),ye=be.firstChild,ce=ye.firstChild;return ye.nextSibling,r(ye,()=>e("journal.draftEntry","Draft Entry"),ce),r(be,()=>e("journal.draftEntryDescription","This entry can be edited and posted."),null),r(be,()=>!_&&` ⚠️ ${e("journal.entryMustBeBalancedBeforePosting","Entry must be balanced before posting.")}`,null),be})()})(),null),r(T,(()=>{var j=F(()=>f.status==="posted");return()=>j()&&(()=>{var be=En(),ye=be.firstChild,ce=ye.firstChild;return ye.nextSibling,r(ye,()=>e("journal.postedEntry","Posted Entry"),ce),r(be,()=>e("journal.postedEntryDescription","This entry has been posted to the general ledger. Editing will create a new draft copy."),null),be})()})(),null),r(T,(()=>{var j=F(()=>f.status==="void");return()=>j()&&(()=>{var be=En(),ye=be.firstChild,ce=ye.firstChild;return ye.nextSibling,r(ye,()=>e("journal.voidEntry"),ce),r(be,()=>e("journal.voidEntryDescription","This entry has been voided and cannot be modified."),null),be})()})(),null),B(j=>{var be=A,ye=$,ce=P,z=A,p=$,de=P,_e=A,$e=$,xe=P,we=A,Re=$,Ie=P,ve=A,ke=$,De={...P,color:_?"#4caf50":"#f44336"},Be=A,Me=$,Pe=P,Fe=A,Oe=$,Je=P,he=f.status==="draft"?"#fff3cd":f.status==="posted"?"#d4edda":"#f8d7da";return j.e=o(D,be,j.e),j.t=o(v,ye,j.t),j.a=o(C,ce,j.a),j.o=o(b,z,j.o),j.i=o(w,p,j.i),j.n=o(le,de,j.n),j.s=o(S,_e,j.s),j.h=o(I,$e,j.h),j.r=o(H,xe,j.r),j.d=o(V,we,j.d),j.l=o(ne,Re,j.l),j.u=o(W,Ie,j.u),j.c=o(q,ve,j.c),j.w=o(ae,ke,j.w),j.m=o(N,De,j.m),j.f=o(G,Be,j.f),j.y=o(fe,Me,j.y),j.g=o(Se,Pe,j.g),j.p=o(K,Fe,j.p),j.b=o(J,Oe,j.b),j.T=o(se,Je,j.T),he!==j.A&&((j.A=he)!=null?T.style.setProperty("background",he):T.style.removeProperty("background")),j},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0}),m})()),F(()=>F(()=>n()==="lines")()&&(()=>{var m=au(),D=m.firstChild,v=D.firstChild,C=v.nextSibling,b=C.nextSibling,w=b.nextSibling,le=w.nextSibling,S=D.nextSibling,I=S.firstChild,H=I.firstChild,V=H.firstChild;H.nextSibling;var ne=I.nextSibling,W=ne.firstChild,q=W.firstChild;W.nextSibling;var ae=ne.nextSibling,N=S.nextSibling,G=N.firstChild,fe=G.nextSibling,Se=fe.firstChild,K=Se.firstChild,J=K.firstChild;J.nextSibling;var se=K.nextSibling,Q=se.firstChild;Q.nextSibling;var O=se.nextSibling,pe=O.firstChild;pe.nextSibling;var ge=Se.nextSibling,T=ge.firstChild,j=T.firstChild;j.nextSibling;var be=T.nextSibling,ye=be.firstChild;return ye.nextSibling,r(v,()=>e("journal.account")),r(C,()=>e("common.description")),r(b,()=>e("journal.debit")),r(w,()=>e("journal.credit")),r(le,()=>e("banking.reconciliation")),r(m,u(mt,{get each(){return f.lines},children:ce=>(()=>{var z=su(),p=z.firstChild,de=p.firstChild,_e=de.nextSibling,$e=p.nextSibling,xe=$e.nextSibling,we=xe.nextSibling,Re=we.nextSibling;return de.style.setProperty("font-weight","500"),r(de,()=>ce.accountName),_e.style.setProperty("font-size","0.75rem"),_e.style.setProperty("color","var(--text-muted)"),r(_e,()=>nt.getAccountById(ce.accountId)?.accountNumber||ce.accountId),$e.style.setProperty("font-size","0.875rem"),r($e,()=>ce.description||"-"),xe.style.setProperty("font-weight","600"),r(xe,(()=>{var Ie=F(()=>ce.debitAmount>0);return()=>Ie()?oe(ce.debitAmount):"-"})()),we.style.setProperty("font-weight","600"),r(we,(()=>{var Ie=F(()=>ce.creditAmount>0);return()=>Ie()?oe(ce.creditAmount):"-"})()),r(Re,(()=>{var Ie=F(()=>!!ce.reconciled);return()=>Ie()?(()=>{var ve=cu(),ke=ve.firstChild;return ke.firstChild,ve.style.setProperty("display","flex"),ve.style.setProperty("align-items","center"),ve.style.setProperty("gap","0.5rem"),ve.style.setProperty("color","#4caf50"),ve.style.setProperty("font-size","0.875rem"),ke.style.setProperty("font-weight","600"),r(ke,()=>e("banking.reconciled"),null),r(ve,(()=>{var De=F(()=>!!ce.reconciledWith);return()=>De()&&(()=>{var Be=du(),Me=Be.firstChild,Pe=Me.nextSibling;return Pe.nextSibling,Be.style.setProperty("font-size","0.75rem"),Be.style.setProperty("color","var(--text-muted)"),Be.style.setProperty("font-style","italic"),r(Be,()=>ce.reconciledWith,Pe),Be})()})(),null),ve})():(()=>{var ve=Lo();return ve.style.setProperty("color","var(--text-muted)"),ve.style.setProperty("font-size","0.875rem"),r(ve,()=>e("banking.notReconciled","Not Reconciled")),ve})()})()),B(Ie=>{var ve=M,ke=ce.debitAmount>0?"#4caf50":"var(--text-muted)",De=ce.creditAmount>0?"#f44336":"var(--text-muted)";return Ie.e=o(z,ve,Ie.e),ke!==Ie.t&&((Ie.t=ke)!=null?xe.style.setProperty("color",ke):xe.style.removeProperty("color")),De!==Ie.a&&((Ie.a=De)!=null?we.style.setProperty("color",De):we.style.removeProperty("color")),Ie},{e:void 0,t:void 0,a:void 0}),z})()}),S),o(S,R),r(H,()=>e("journal.totalDebit"),V),r(I,()=>oe(f.totalDebit),null),r(W,()=>e("journal.totalCredit"),q),r(ne,()=>oe(f.totalCredit),null),(_?"#4caf50":"#f44336")!=null?ae.style.setProperty("color",_?"#4caf50":"#f44336"):ae.style.removeProperty("color"),ae.style.setProperty("font-weight","600"),r(ae,()=>_?`✓ ${e("journal.balanced")}`:`⚠️ ${e("journal.notBalanced","Not Balanced")}`),N.style.setProperty("margin-top","1rem"),N.style.setProperty("padding","1rem"),N.style.setProperty("border-radius","var(--border-radius-sm)"),N.style.setProperty("font-size","0.875rem"),G.style.setProperty("margin-bottom","0.5rem"),fe.style.setProperty("display","grid"),fe.style.setProperty("grid-template-columns","1fr 1fr"),fe.style.setProperty("gap","1rem"),K.style.setProperty("margin-bottom","0.25rem"),r(K,()=>f.lines.length,null),se.style.setProperty("margin-bottom","0.25rem"),se.style.setProperty("color","#4caf50"),r(se,()=>f.lines.filter(ce=>ce.reconciled).length,null),O.style.setProperty("color","#f44336"),r(O,()=>f.lines.filter(ce=>!ce.reconciled).length,null),T.style.setProperty("margin-bottom","0.25rem"),r(T,()=>f.lines.filter(ce=>["1001","1002","1003"].includes(ce.accountId)).length,null),be.style.setProperty("margin-bottom","0.25rem"),be.style.setProperty("color","#4caf50"),r(be,()=>f.lines.filter(ce=>["1001","1002","1003"].includes(ce.accountId)&&ce.reconciled).length,null),r(ge,(()=>{var ce=F(()=>f.lines.filter(z=>["1001","1002","1003"].includes(z.accountId)&&!z.reconciled).length>0);return()=>ce()&&(()=>{var z=uu(),p=z.firstChild;return p.nextSibling,z.style.setProperty("color","#f44336"),r(z,()=>f.lines.filter(de=>["1001","1002","1003"].includes(de.accountId)&&!de.reconciled).length,null),z})()})(),null),r(N,(()=>{var ce=F(()=>f.lines.filter(z=>z.reconciled).length>0);return()=>ce()&&(()=>{var z=yu(),p=z.firstChild;return z.style.setProperty("margin-top","0.75rem"),z.style.setProperty("padding-top","0.75rem"),z.style.setProperty("border-top","1px solid var(--border-color)"),p.style.setProperty("margin-bottom","0.5rem"),p.style.setProperty("font-weight","500"),r(z,()=>f.lines.filter(de=>de.reconciled).map(de=>(()=>{var _e=In(),$e=_e.firstChild,xe=$e.nextSibling;return _e.style.setProperty("display","flex"),_e.style.setProperty("justify-content","space-between"),_e.style.setProperty("margin-bottom","0.25rem"),_e.style.setProperty("font-size","0.8rem"),r($e,()=>de.accountName),xe.style.setProperty("color","var(--text-muted)"),r(xe,()=>de.reconciledWith?`→ ${de.reconciledWith}`:"Manual"),_e})()),null),z})()})(),null),r(N,(()=>{var ce=F(()=>f.lines.filter(z=>!z.reconciled&&["1001","1002","1003"].includes(z.accountId)).length>0);return()=>ce()&&(()=>{var z=mu(),p=z.firstChild,de=p.nextSibling;return z.style.setProperty("margin-top","0.75rem"),z.style.setProperty("padding-top","0.75rem"),z.style.setProperty("border-top","1px solid var(--border-color)"),p.style.setProperty("margin-bottom","0.5rem"),p.style.setProperty("font-weight","500"),p.style.setProperty("color","#f44336"),r(z,()=>f.lines.filter(_e=>!_e.reconciled&&["1001","1002","1003"].includes(_e.accountId)).map(_e=>(()=>{var $e=In(),xe=$e.firstChild,we=xe.nextSibling;return $e.style.setProperty("display","flex"),$e.style.setProperty("justify-content","space-between"),$e.style.setProperty("margin-bottom","0.25rem"),$e.style.setProperty("font-size","0.8rem"),$e.style.setProperty("color","#f44336"),r(xe,()=>_e.accountName),r(we,()=>oe(_e.debitAmount||_e.creditAmount)),$e})()),de),de.style.setProperty("margin-top","0.5rem"),de.style.setProperty("font-size","0.75rem"),de.style.setProperty("color","var(--text-muted)"),de.style.setProperty("font-style","italic"),z})()})(),null),B(ce=>{var z=U,p=f.lines.some(de=>de.reconciled)?"#e8f5e8":"#fff3cd";return ce.e=o(D,z,ce.e),p!==ce.t&&((ce.t=p)!=null?N.style.setProperty("background",p):N.style.removeProperty("background")),ce},{e:void 0,t:void 0}),m})()),F(()=>F(()=>n()==="reconciliation")()&&(()=>{var m=vu(),D=m.firstChild,v=D.firstChild,C=v.firstChild,b=C.nextSibling,w=v.nextSibling,le=w.firstChild,S=le.firstChild,I=S.nextSibling,H=le.nextSibling,V=H.firstChild,ne=V.nextSibling,W=H.nextSibling,q=W.firstChild,ae=q.nextSibling;return D.style.setProperty("margin-bottom","1.5rem"),D.style.setProperty("padding","1rem"),D.style.setProperty("border-radius","var(--border-radius)"),D.style.setProperty("border","1px solid var(--border-color)"),v.style.setProperty("display","flex"),v.style.setProperty("align-items","center"),v.style.setProperty("gap","0.5rem"),v.style.setProperty("margin-bottom","1rem"),C.style.setProperty("font-size","1.5rem"),r(C,(()=>{var N=F(()=>!!f.lines.every(G=>G.reconciled));return()=>N()?"✅":f.lines.some(G=>G.reconciled)?"🔄":"⏳"})()),b.style.setProperty("margin","0"),b.style.setProperty("font-size","1.2rem"),r(b,(()=>{var N=F(()=>!!f.lines.every(G=>G.reconciled));return()=>N()?"Fully Reconciled":f.lines.some(G=>G.reconciled)?"Partially Reconciled":"Unreconciled"})()),w.style.setProperty("display","grid"),w.style.setProperty("grid-template-columns","1fr 1fr 1fr"),w.style.setProperty("gap","1rem"),le.style.setProperty("text-align","center"),S.style.setProperty("font-size","2rem"),S.style.setProperty("font-weight","700"),S.style.setProperty("color","var(--primary-color)"),r(S,()=>f.lines.length),I.style.setProperty("font-size","0.875rem"),I.style.setProperty("color","var(--text-muted)"),H.style.setProperty("text-align","center"),V.style.setProperty("font-size","2rem"),V.style.setProperty("font-weight","700"),V.style.setProperty("color","#4caf50"),r(V,()=>f.lines.filter(N=>N.reconciled).length),ne.style.setProperty("font-size","0.875rem"),ne.style.setProperty("color","var(--text-muted)"),W.style.setProperty("text-align","center"),q.style.setProperty("font-size","2rem"),q.style.setProperty("font-weight","700"),q.style.setProperty("color","#f44336"),r(q,()=>f.lines.filter(N=>!N.reconciled).length),ae.style.setProperty("font-size","0.875rem"),ae.style.setProperty("color","var(--text-muted)"),r(m,(()=>{var N=F(()=>f.lines.filter(G=>G.reconciled).length>0);return()=>N()&&(()=>{var G=gu(),fe=G.firstChild,Se=fe.firstChild,K=Se.nextSibling;return K.nextSibling,G.style.setProperty("margin-bottom","1.5rem"),fe.style.setProperty("margin","0 0 1rem 0"),fe.style.setProperty("font-size","1.1rem"),fe.style.setProperty("color","#4caf50"),fe.style.setProperty("display","flex"),fe.style.setProperty("align-items","center"),fe.style.setProperty("gap","0.5rem"),r(fe,()=>f.lines.filter(J=>J.reconciled).length,K),r(G,()=>f.lines.filter(J=>J.reconciled).map(J=>(()=>{var se=pu(),Q=se.firstChild,O=Q.firstChild,pe=O.nextSibling,ge=Q.nextSibling,T=ge.nextSibling,j=T.nextSibling,be=j.nextSibling,ye=be.firstChild;return se.style.setProperty("display","grid"),se.style.setProperty("grid-template-columns","2fr 2fr 1fr 1fr 1.5fr"),se.style.setProperty("gap","1rem"),se.style.setProperty("padding","0.75rem"),se.style.setProperty("margin-bottom","0.5rem"),se.style.setProperty("background","#f0f9f0"),se.style.setProperty("border-radius","var(--border-radius-sm)"),se.style.setProperty("align-items","center"),se.style.setProperty("font-size","0.875rem"),O.style.setProperty("font-weight","500"),r(O,()=>J.accountName),pe.style.setProperty("font-size","0.75rem"),pe.style.setProperty("color","var(--text-muted)"),r(pe,()=>nt.getAccountById(J.accountId)?.accountNumber),ge.style.setProperty("color","var(--text-muted)"),r(ge,()=>J.description||"No description"),T.style.setProperty("font-weight","600"),r(T,(()=>{var ce=F(()=>J.debitAmount>0);return()=>ce()?oe(J.debitAmount):"-"})()),j.style.setProperty("font-weight","600"),r(j,(()=>{var ce=F(()=>J.creditAmount>0);return()=>ce()?oe(J.creditAmount):"-"})()),be.style.setProperty("color","#4caf50"),ye.style.setProperty("font-weight","500"),r(be,(()=>{var ce=F(()=>!!J.reconciledWith);return()=>ce()&&(()=>{var z=fu();return z.firstChild,z.style.setProperty("font-size","0.75rem"),z.style.setProperty("font-style","italic"),r(z,()=>J.reconciledWith,null),z})()})(),null),B(ce=>{var z=J.debitAmount>0?"#4caf50":"var(--text-muted)",p=J.creditAmount>0?"#f44336":"var(--text-muted)";return z!==ce.e&&((ce.e=z)!=null?T.style.setProperty("color",z):T.style.removeProperty("color")),p!==ce.t&&((ce.t=p)!=null?j.style.setProperty("color",p):j.style.removeProperty("color")),ce},{e:void 0,t:void 0}),se})()),null),G})()})(),null),r(m,(()=>{var N=F(()=>f.lines.filter(G=>!G.reconciled).length>0);return()=>N()&&(()=>{var G=bu(),fe=G.firstChild,Se=fe.firstChild,K=Se.nextSibling;return K.nextSibling,G.style.setProperty("margin-bottom","1.5rem"),fe.style.setProperty("margin","0 0 1rem 0"),fe.style.setProperty("font-size","1.1rem"),fe.style.setProperty("color","#f44336"),fe.style.setProperty("display","flex"),fe.style.setProperty("align-items","center"),fe.style.setProperty("gap","0.5rem"),r(fe,()=>f.lines.filter(J=>!J.reconciled).length,K),r(G,()=>f.lines.filter(J=>!J.reconciled).map(J=>(()=>{var se=hu(),Q=se.firstChild,O=Q.firstChild,pe=O.nextSibling,ge=Q.nextSibling,T=ge.nextSibling,j=T.nextSibling,be=j.nextSibling,ye=be.firstChild;return se.style.setProperty("display","grid"),se.style.setProperty("grid-template-columns","2fr 2fr 1fr 1fr 1.5fr"),se.style.setProperty("gap","1rem"),se.style.setProperty("padding","0.75rem"),se.style.setProperty("margin-bottom","0.5rem"),se.style.setProperty("background","#fff9f0"),se.style.setProperty("border-radius","var(--border-radius-sm)"),se.style.setProperty("align-items","center"),se.style.setProperty("font-size","0.875rem"),se.style.setProperty("border","1px solid #ffe0b3"),O.style.setProperty("font-weight","500"),r(O,()=>J.accountName),pe.style.setProperty("font-size","0.75rem"),pe.style.setProperty("color","var(--text-muted)"),r(pe,()=>nt.getAccountById(J.accountId)?.accountNumber),ge.style.setProperty("color","var(--text-muted)"),r(ge,()=>J.description||"No description"),T.style.setProperty("font-weight","600"),r(T,(()=>{var ce=F(()=>J.debitAmount>0);return()=>ce()?oe(J.debitAmount):"-"})()),j.style.setProperty("font-weight","600"),r(j,(()=>{var ce=F(()=>J.creditAmount>0);return()=>ce()?oe(J.creditAmount):"-"})()),be.style.setProperty("color","#f44336"),ye.style.setProperty("font-weight","500"),r(be,(()=>{var ce=F(()=>!!["1001","1002","1003"].includes(J.accountId));return()=>ce()&&(()=>{var z=Su();return z.style.setProperty("font-size","0.75rem"),z.style.setProperty("font-style","italic"),z})()})(),null),B(ce=>{var z=J.debitAmount>0?"#4caf50":"var(--text-muted)",p=J.creditAmount>0?"#f44336":"var(--text-muted)";return z!==ce.e&&((ce.e=z)!=null?T.style.setProperty("color",z):T.style.removeProperty("color")),p!==ce.t&&((ce.t=p)!=null?j.style.setProperty("color",p):j.style.removeProperty("color")),ce},{e:void 0,t:void 0}),se})()),null),r(G,(()=>{var J=F(()=>f.lines.filter(se=>!se.reconciled&&["1001","1002","1003"].includes(se.accountId)).length>0);return()=>J()&&(()=>{var se=Pu(),Q=se.firstChild,O=Q.nextSibling;return se.style.setProperty("padding","0.75rem"),se.style.setProperty("background","#ffebee"),se.style.setProperty("border-radius","var(--border-radius-sm)"),se.style.setProperty("margin-top","1rem"),se.style.setProperty("border","1px solid #ffcdd2"),Q.style.setProperty("font-weight","500"),Q.style.setProperty("margin-bottom","0.5rem"),Q.style.setProperty("color","#f44336"),O.style.setProperty("font-size","0.875rem"),O.style.setProperty("color","var(--text-muted)"),se})()})(),null),G})()})(),null),B(N=>(N=f.lines.every(G=>G.reconciled)?"#e8f5e8":f.lines.some(G=>G.reconciled)?"#fff3cd":"#ffebee")!=null?D.style.setProperty("background",N):D.style.removeProperty("background")),m})()),(()=>{var m=Lo();return o(m,X),r(m,u(Ae,{variant:"secondary",get onClick(){return t.onClose},get children(){return e("common.close")}}),null),r(m,u(Ae,{variant:"primary",onClick:ue,get children(){return e("journal.editEntry")}}),null),r(m,(()=>{var D=F(()=>f.status==="draft");return()=>D()&&u(Ae,{variant:"outline",onClick:te,disabled:!_,style:{"border-color":"#4caf50",color:_?"#4caf50":"var(--text-muted)"},get children(){return _?e("journal.postEntry","Post Entry"):e("journal.entryNotBalanced","Entry Not Balanced")}})})(),null),r(m,(()=>{var D=F(()=>f.status==="posted");return()=>D()&&u(Ae,{variant:"outline",onClick:ee,style:{color:"#dc3545","border-color":"#dc3545"},get children(){return e("journal.voidEntry","Void Entry")}})})(),null),m})()]})()}}),F(()=>F(()=>!!l())()&&u(ei,{get isOpen(){return a()},onClose:()=>{s(!1)},get editEntry(){return l()}}))]};vt(["click"]);var xu=k("<div><div><h2></h2><p></p></div><div>"),Jt=k("<div>"),Cu=k("<div> <!> • <!> "),_u=k("<div><div><label></label></div><div><label></label></div><div><label></label></div><div><label></label><input type=date></div><div><label></label><input type=date></div><div><label></label></div><div>"),wu=k("<div><span>:</span><span> "),en=k("<span>: "),ku=k("<div><br>");const Au=()=>{const{t}=Qe(),[e,n]=Z(!1),[i,a]=Z(null),[s,l]=Z(!1),[c,d]=Z(null),[y,g]=Z("all"),[E,L]=Z("all"),[A,$]=Z(""),[P,x]=Z(""),[h,M]=Z("date"),[U,R]=Z("desc"),X={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"2rem"},Y={display:"flex",gap:"1rem","align-items":"center","margin-bottom":"2rem",padding:"1.5rem",background:"var(--surface-color)","border-radius":"var(--border-radius)",border:"1px solid var(--border-color)","flex-wrap":"wrap"},oe={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem","margin-bottom":"2rem"},re={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(400px, 1fr))",gap:"1.5rem"},me=()=>[{value:"all",label:t("journal.allEntries","All Entries")},{value:"draft",label:t("journal.draft")},{value:"posted",label:t("journal.posted")},{value:"void",label:t("entryBooks.void","Void")}],ue=()=>[{value:"all",label:t("accounts.allAccounts","All Accounts")},...nt.accounts.map(b=>({value:b.id,label:`${b.accountNumber} - ${b.name}`}))],te=()=>[{value:"date",label:t("common.date")},{value:"entryNumber",label:t("journal.entryNumber")},{value:"amount",label:t("common.amount")}],ee=()=>{let b=Qt.journalEntries;return y()!=="all"&&(b=b.filter(w=>w.status===y())),E()!=="all"&&(b=b.filter(w=>w.lines.some(le=>le.accountId===E()))),A()&&(b=b.filter(w=>w.date>=A())),P()&&(b=b.filter(w=>w.date<=P())),b=[...b].sort((w,le)=>{let S=0;switch(h()){case"date":S=new Date(w.date).getTime()-new Date(le.date).getTime();break;case"entryNumber":S=w.entryNumber.localeCompare(le.entryNumber);break;case"amount":S=w.totalDebit-le.totalDebit;break}return U()==="asc"?S:-S}),b},f=()=>{const b=Qt.journalEntries,w=b.filter(ne=>ne.status==="draft"),le=b.filter(ne=>ne.status==="posted"),S=b.filter(ne=>ne.status==="void"),I=le.reduce((ne,W)=>ne+W.totalDebit,0),H=le.reduce((ne,W)=>ne+W.totalCredit,0),V=b.filter(ne=>ne.lines.some(W=>["1001","1002","1003"].includes(W.accountId)&&!W.reconciled)).length;return{totalEntries:b.length,draftEntries:w.length,postedEntries:le.length,voidEntries:S.length,totalDebit:I,totalCredit:H,unreconciledEntries:V}},ie=b=>{d(b.id),l(!0)},_=()=>{a(null),n(!0)},m=()=>{n(!1),a(null)},D=b=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(b),v=f(),C=ee();return u(Yt,{get title(){return t("entryBooks.title")},get children(){return[(()=>{var b=xu(),w=b.firstChild,le=w.firstChild,S=le.nextSibling,I=w.nextSibling;return o(b,X),le.style.setProperty("margin","0 0 0.5rem 0"),le.style.setProperty("font-size","1.5rem"),r(le,()=>t("journal.title")),S.style.setProperty("margin","0"),S.style.setProperty("color","var(--text-muted)"),r(S,()=>t("entryBooks.subtitle","Manage accounting entries and general ledger records")),I.style.setProperty("display","flex"),I.style.setProperty("gap","1rem"),r(I,u(Ae,{variant:"secondary",onClick:()=>window.location.href="/bank-consolidations",get children(){return t("entryBooks.viewReconciliation","View Reconciliation")}}),null),r(I,u(Ae,{variant:"primary",onClick:_,get children(){return t("journal.addEntry","Add Journal Entry")}}),null),b})(),(()=>{var b=Jt();return o(b,oe),r(b,u(je,{get title(){return t("entryBooks.totalEntries","Total Entries")},get subtitle(){return t("entryBooks.allJournalEntries","All journal entries")},get children(){return[(()=>{var w=Jt();return w.style.setProperty("font-size","1.5rem"),w.style.setProperty("font-weight","600"),w.style.setProperty("color","var(--primary-color)"),w.style.setProperty("margin-bottom","0.5rem"),r(w,()=>v.totalEntries),w})(),(()=>{var w=Cu(),le=w.firstChild,S=le.nextSibling,I=S.nextSibling,H=I.nextSibling;return H.nextSibling,w.style.setProperty("font-size","0.875rem"),w.style.setProperty("color","var(--text-muted)"),r(w,()=>v.postedEntries,le),r(w,()=>t("journal.posted").toLowerCase(),S),r(w,()=>v.draftEntries,H),r(w,()=>t("journal.draft").toLowerCase(),null),r(w,(()=>{var V=F(()=>v.voidEntries>0);return()=>V()&&` • ${v.voidEntries} ${t("entryBooks.void","void").toLowerCase()}`})(),null),w})()]}}),null),r(b,u(je,{get title(){return t("journal.totalDebits")},get subtitle(){return t("entryBooks.postedEntriesOnly","Posted entries only")},get children(){return[(()=>{var w=Jt();return w.style.setProperty("font-size","1.5rem"),w.style.setProperty("font-weight","600"),w.style.setProperty("color","#4caf50"),w.style.setProperty("margin-bottom","0.5rem"),r(w,()=>D(v.totalDebit)),w})(),(()=>{var w=Jt();return w.style.setProperty("font-size","0.875rem"),w.style.setProperty("color","var(--text-muted)"),r(w,()=>t("entryBooks.fromPostedEntries","From {count} posted entries").replace("{count}",v.postedEntries.toString())),w})()]}}),null),r(b,u(je,{get title(){return t("journal.totalCredits")},get subtitle(){return t("entryBooks.postedEntriesOnly","Posted entries only")},get children(){return[(()=>{var w=Jt();return w.style.setProperty("font-size","1.5rem"),w.style.setProperty("font-weight","600"),w.style.setProperty("color","#f44336"),w.style.setProperty("margin-bottom","0.5rem"),r(w,()=>D(v.totalCredit)),w})(),(()=>{var w=Jt();return w.style.setProperty("font-size","0.875rem"),w.style.setProperty("color","var(--text-muted)"),r(w,()=>t("entryBooks.fromPostedEntries","From {count} posted entries").replace("{count}",v.postedEntries.toString())),w})()]}}),null),r(b,u(je,{get title(){return t("banking.unreconciled","Unreconciled")},get subtitle(){return t("banking.title")},get children(){return[(()=>{var w=Jt();return w.style.setProperty("font-size","1.5rem"),w.style.setProperty("font-weight","600"),w.style.setProperty("margin-bottom","0.5rem"),r(w,()=>v.unreconciledEntries),B(le=>(le=v.unreconciledEntries>0?"#ff9800":"#4caf50")!=null?w.style.setProperty("color",le):w.style.removeProperty("color")),w})(),(()=>{var w=Jt();return w.style.setProperty("font-size","0.875rem"),w.style.setProperty("color","var(--text-muted)"),r(w,(()=>{var le=F(()=>v.unreconciledEntries>0);return()=>le()?t("entryBooks.needBankReconciliation","Need bank reconciliation"):t("entryBooks.allReconciled","All reconciled")})()),w})()]}}),null),b})(),(()=>{var b=_u(),w=b.firstChild,le=w.firstChild,S=w.nextSibling,I=S.firstChild,H=S.nextSibling,V=H.firstChild,ne=H.nextSibling,W=ne.firstChild,q=W.nextSibling,ae=ne.nextSibling,N=ae.firstChild,G=N.nextSibling,fe=ae.nextSibling,Se=fe.firstChild,K=fe.nextSibling;return o(b,Y),w.style.setProperty("min-width","150px"),le.style.setProperty("display","block"),le.style.setProperty("margin-bottom","0.5rem"),le.style.setProperty("font-weight","500"),le.style.setProperty("font-size","0.875rem"),r(le,()=>t("common.status")),r(w,u(Lt,{label:"",get value(){return y()},onChange:g,get options(){return me()}}),null),S.style.setProperty("min-width","200px"),I.style.setProperty("display","block"),I.style.setProperty("margin-bottom","0.5rem"),I.style.setProperty("font-weight","500"),I.style.setProperty("font-size","0.875rem"),r(I,()=>t("journal.account")),r(S,u(Lt,{label:"",get value(){return E()},onChange:L,get options(){return ue()}}),null),H.style.setProperty("min-width","120px"),V.style.setProperty("display","block"),V.style.setProperty("margin-bottom","0.5rem"),V.style.setProperty("font-weight","500"),V.style.setProperty("font-size","0.875rem"),r(V,()=>t("entryBooks.sortBy","Sort By")),r(H,u(Lt,{label:"",get value(){return h()},onChange:M,get options(){return te()}}),null),ne.style.setProperty("min-width","130px"),W.style.setProperty("display","block"),W.style.setProperty("margin-bottom","0.5rem"),W.style.setProperty("font-weight","500"),W.style.setProperty("font-size","0.875rem"),r(W,()=>t("entryBooks.fromDate","From Date")),q.addEventListener("change",J=>$(J.target.value)),q.style.setProperty("padding","0.75rem"),q.style.setProperty("border","1px solid var(--border-color)"),q.style.setProperty("border-radius","var(--border-radius-sm)"),q.style.setProperty("font-family","inherit"),q.style.setProperty("width","100%"),ae.style.setProperty("min-width","130px"),N.style.setProperty("display","block"),N.style.setProperty("margin-bottom","0.5rem"),N.style.setProperty("font-weight","500"),N.style.setProperty("font-size","0.875rem"),r(N,()=>t("entryBooks.toDate","To Date")),G.addEventListener("change",J=>x(J.target.value)),G.style.setProperty("padding","0.75rem"),G.style.setProperty("border","1px solid var(--border-color)"),G.style.setProperty("border-radius","var(--border-radius-sm)"),G.style.setProperty("font-family","inherit"),G.style.setProperty("width","100%"),fe.style.setProperty("min-width","100px"),Se.style.setProperty("display","block"),Se.style.setProperty("margin-bottom","0.5rem"),Se.style.setProperty("font-weight","500"),Se.style.setProperty("font-size","0.875rem"),r(Se,()=>t("entryBooks.order","Order")),r(fe,u(Lt,{label:"",get value(){return U()},onChange:R,get options(){return[{value:"desc",label:t("entryBooks.newest","Newest")},{value:"asc",label:t("entryBooks.oldest","Oldest")}]}}),null),K.style.setProperty("display","flex"),K.style.setProperty("align-items","end"),K.style.setProperty("gap","0.5rem"),r(K,u(Ae,{variant:"outline",size:"sm",onClick:()=>{g("all"),L("all"),$(""),x(""),M("date"),R("desc")},get children(){return t("entryBooks.resetFilters","Reset Filters")}})),B(()=>q.value=A()),B(()=>G.value=P()),b})(),F(()=>F(()=>!!(y()!=="all"||E()!=="all"||A()||P()))()&&(()=>{var b=wu(),w=b.firstChild,le=w.firstChild,S=w.nextSibling,I=S.firstChild;return b.style.setProperty("display","flex"),b.style.setProperty("gap","0.5rem"),b.style.setProperty("align-items","center"),b.style.setProperty("margin-bottom","1rem"),b.style.setProperty("padding","0.75rem"),b.style.setProperty("background","var(--surface-color)"),b.style.setProperty("border-radius","var(--border-radius-sm)"),b.style.setProperty("border","1px solid var(--border-color)"),w.style.setProperty("font-size","0.875rem"),w.style.setProperty("font-weight","500"),r(w,()=>t("entryBooks.activeFilters","Active filters"),le),r(b,(()=>{var H=F(()=>y()!=="all");return()=>H()&&(()=>{var V=en(),ne=V.firstChild;return V.style.setProperty("padding","0.25rem 0.5rem"),V.style.setProperty("background","var(--primary-color)"),V.style.setProperty("color","white"),V.style.setProperty("border-radius","12px"),V.style.setProperty("font-size","0.75rem"),r(V,()=>t("common.status"),ne),r(V,y,null),V})()})(),S),r(b,(()=>{var H=F(()=>E()!=="all");return()=>H()&&(()=>{var V=en(),ne=V.firstChild;return V.style.setProperty("padding","0.25rem 0.5rem"),V.style.setProperty("background","var(--primary-color)"),V.style.setProperty("color","white"),V.style.setProperty("border-radius","12px"),V.style.setProperty("font-size","0.75rem"),r(V,()=>t("journal.account"),ne),r(V,()=>nt.getAccountById(E())?.name||t("common.unknown","Unknown"),null),V})()})(),S),r(b,(()=>{var H=F(()=>!!A());return()=>H()&&(()=>{var V=en(),ne=V.firstChild;return V.style.setProperty("padding","0.25rem 0.5rem"),V.style.setProperty("background","var(--primary-color)"),V.style.setProperty("color","white"),V.style.setProperty("border-radius","12px"),V.style.setProperty("font-size","0.75rem"),r(V,()=>t("entryBooks.from","From"),ne),r(V,A,null),V})()})(),S),r(b,(()=>{var H=F(()=>!!P());return()=>H()&&(()=>{var V=en(),ne=V.firstChild;return V.style.setProperty("padding","0.25rem 0.5rem"),V.style.setProperty("background","var(--primary-color)"),V.style.setProperty("color","white"),V.style.setProperty("border-radius","12px"),V.style.setProperty("font-size","0.75rem"),r(V,()=>t("entryBooks.to","To"),ne),r(V,P,null),V})()})(),S),S.style.setProperty("margin-left","auto"),S.style.setProperty("font-size","0.875rem"),S.style.setProperty("color","var(--text-muted)"),r(S,()=>C.length,I),r(S,()=>t("entryBooks.entriesFound","{count} entries found").replace("{count}",C.length.toString()),null),b})()),F(()=>F(()=>C.length===0)()?u(je,{get title(){return t("entryBooks.noJournalEntries","No Journal Entries")},get subtitle(){return t("entryBooks.startByCreating","Start by creating your first entry")},get children(){var b=ku(),w=b.firstChild;return b.style.setProperty("text-align","center"),b.style.setProperty("color","var(--text-muted)"),b.style.setProperty("padding","2rem"),r(b,()=>t("entryBooks.noEntriesMatch","No journal entries match your current filters."),w),r(b,u(Ae,{variant:"primary",style:{"margin-top":"1rem"},onClick:_,get children(){return t("entryBooks.createFirstEntry","Create First Entry")}}),null),b}}):(()=>{var b=Jt();return o(b,re),r(b,u(mt,{each:C,children:w=>u(eu,{entry:w,onViewDetails:ie})})),b})()),u(ei,{get isOpen(){return e()},onClose:m,get editEntry(){return i()}}),u($u,{get isOpen(){return s()},onClose:()=>{l(!1),d(null)},get entryId(){return c()}})]}})};var Do=k("<div>"),Iu=k("<div>$23,450"),Eu=k("<div>$87,230"),Lu=k("<div>$5,670"),Du=k("<div><div><div><div>INV-2024-001</div><div>Acme Corporation</div></div><div>$5,250.00</div><div></div></div><div><div><div>INV-2024-002</div><div>Tech Solutions Inc.</div></div><div>$3,750.00</div><div></div></div><div><div><div>INV-2024-003</div><div>Global Services Ltd.</div></div><div>$8,900.00</div><div></div></div><div><div><div>INV-2024-004</div><div>StartUp Co.</div></div><div>$2,100.00</div><div>");const Nu=()=>{const{t}=Qe(),e={display:"flex","flex-direction":"column",gap:"1rem"},n={display:"flex","justify-content":"space-between","align-items":"center",padding:"1rem",background:"var(--surface-color)","border-radius":"var(--border-radius)",border:"1px solid var(--border-color)"},i={flex:"1"},a={"font-weight":"600","margin-bottom":"0.25rem"},s={color:"var(--text-muted)","font-size":"0.875rem"},l={"font-size":"1.25rem","font-weight":"600",color:"var(--primary-color)"},c=y=>({padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500","text-transform":"uppercase","letter-spacing":"0.5px",background:y==="paid"?"#d4edda":y==="pending"?"#fff3cd":"#f8d7da",color:y==="paid"?"#155724":y==="pending"?"#856404":"#721c24"}),d={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"};return u(Yt,{get title(){return t("invoices.title","Invoices")},get children(){return[(()=>{var y=Do();return y.style.setProperty("margin-bottom","2rem"),r(y,u(Ae,{variant:"primary",get children(){return t("invoices.createNew","Create New Invoice")}})),y})(),(()=>{var y=Do();return o(y,d),r(y,u(je,{get title(){return t("invoices.totalOutstanding","Total Outstanding")},get subtitle(){return t("invoices.unpaidInvoices","Unpaid invoices")},get children(){var g=Iu();return g.style.setProperty("font-size","1.5rem"),g.style.setProperty("font-weight","600"),g.style.setProperty("color","var(--primary-color)"),g}}),null),r(y,u(je,{get title(){return t("invoices.thisMonth","This Month")},get subtitle(){return t("invoices.revenueCollected","Revenue collected")},get children(){var g=Eu();return g.style.setProperty("font-size","1.5rem"),g.style.setProperty("font-weight","600"),g.style.setProperty("color","var(--primary-color)"),g}}),null),r(y,u(je,{get title(){return t("invoices.overdue","Overdue")},get subtitle(){return t("invoices.pastDueInvoices","Past due invoices")},get children(){var g=Lu();return g.style.setProperty("font-size","1.5rem"),g.style.setProperty("font-weight","600"),g.style.setProperty("color","var(--primary-color)"),g}}),null),y})(),u(je,{get title(){return t("invoices.recentInvoices","Recent Invoices")},get subtitle(){return t("invoices.latestBillingActivity","Latest billing activity")},get children(){var y=Du(),g=y.firstChild,E=g.firstChild,L=E.firstChild,A=L.nextSibling,$=E.nextSibling,P=$.nextSibling,x=g.nextSibling,h=x.firstChild,M=h.firstChild,U=M.nextSibling,R=h.nextSibling,X=R.nextSibling,Y=x.nextSibling,oe=Y.firstChild,re=oe.firstChild,me=re.nextSibling,ue=oe.nextSibling,te=ue.nextSibling,ee=Y.nextSibling,f=ee.firstChild,ie=f.firstChild,_=ie.nextSibling,m=f.nextSibling,D=m.nextSibling;return o(y,e),r(P,()=>t("invoices.paid","Paid")),r(X,()=>t("invoices.pending","Pending")),r(te,()=>t("invoices.overdue","Overdue")),r(D,()=>t("invoices.paid","Paid")),B(v=>{var C=n,b=i,w=a,le=s,S=l,I=c("paid"),H=n,V=i,ne=a,W=s,q=l,ae=c("pending"),N=n,G=i,fe=a,Se=s,K=l,J=c("overdue"),se=n,Q=i,O=a,pe=s,ge=l,T=c("paid");return v.e=o(g,C,v.e),v.t=o(E,b,v.t),v.a=o(L,w,v.a),v.o=o(A,le,v.o),v.i=o($,S,v.i),v.n=o(P,I,v.n),v.s=o(x,H,v.s),v.h=o(h,V,v.h),v.r=o(M,ne,v.r),v.d=o(U,W,v.d),v.l=o(R,q,v.l),v.u=o(X,ae,v.u),v.c=o(Y,N,v.c),v.w=o(oe,G,v.w),v.m=o(re,fe,v.m),v.f=o(me,Se,v.f),v.y=o(ue,K,v.y),v.g=o(te,J,v.g),v.p=o(ee,se,v.p),v.b=o(f,Q,v.b),v.T=o(ie,O,v.T),v.A=o(_,pe,v.A),v.O=o(m,ge,v.O),v.I=o(D,T,v.I),v},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0,O:void 0,I:void 0}),y}})]}})};var Tu=k("<div><main>");const Bu=t=>[u(Bl,{}),F(()=>t.children)],Mu=()=>(()=>{var t=Tu(),e=t.firstChild;return r(e,u(ml,{root:Bu,get children(){return[u(Wt,{path:"/",component:Kl}),u(Wt,{path:"/accounts",component:Oa}),u(Wt,{path:"/accounts/:id",component:Ya}),u(Wt,{path:"/entry-books",component:Au}),u(Wt,{path:"/employees",component:bd}),u(Wt,{path:"/bank-consolidations",component:Wd}),u(Wt,{path:"/balance-sheet",component:Ka}),u(Wt,{path:"/invoices",component:Nu}),u(Wt,{path:"/inventory",component:Vc}),u(Wt,{path:"/products",component:cd})]}})),r(t,(()=>{var n=F(()=>!1);return()=>n()&&u(Vl,{})})(),null),t})(),Ru=document.getElementById("root");Ai(()=>u(Mu,{}),Ru);
