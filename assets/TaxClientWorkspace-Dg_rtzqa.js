import{c as ce,f as ut,t as u,h as e,i as t,a as c,b as x,S as h,B as ct,Y as Ft,j as Oe,F as ot,V as mt,v as me,d as gt,A as Et,a9 as Rt,E as Wt,o as Ut}from"./index-BF7AAaX4.js";import{d as bt,n as Ht,u as Ot}from"./taxPortalApi-BCldkFKk.js";import{p as Pt,d as Vt,u as jt,g as Yt}from"./taxDocumentApi-Cr1zKaIa.js";import{D as pt,a as Xt,F as qt}from"./drakeTypes-B0Dixu81.js";import{F as Gt,a as Kt,f as Jt,b as ft,c as Qt,D as Zt}from"./drakeFieldMappings-DyaT91Ke.js";var er=u('<svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"clip-rule=evenodd>'),tr=u('<svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z"clip-rule=evenodd>'),rr=u('<svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z"clip-rule=evenodd>'),ir=u('<svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"clip-rule=evenodd>'),lr=u("<div><div></div><span> Analyzing"),nr=u("<div><div></div><span> Errors"),or=u('<div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"clip-rule=evenodd>'),sr=u('<div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"clip-rule=evenodd>'),ar=u("<div><table><thead><tr><th>Document</th><th>Type</th><th>Status</th><th>Size</th><th>Uploaded</th><th>Actions</th></tr></thead><tbody>"),dr=u("<div><div>No documents yet</div><div>Upload tax documents using the drop zone above</div><div>Or request documents from your client"),cr=u("<div><span>Confidence: </span><span>%"),Ke=u("<div>"),yr=u("<div><div>AI Analysis</div><div>"),yt=u("<div>EIN: "),ur=u("<div><div>Box 1 - Wages</div><div>$"),gr=u("<div><div>Box 2 - Federal Tax Withheld</div><div>$"),vr=u("<div><div>Box 3 - SS Wages</div><div>$"),mr=u("<div><div>Box 4 - SS Tax Withheld</div><div>$"),pr=u("<div><div>Box 5 - Medicare Wages</div><div>$"),fr=u("<div><div>Box 6 - Medicare Tax Withheld</div><div>$"),hr=u("<div><div>Box 17 - State Tax Withheld</div><div>$"),xr=u("<div><div>Box 16 - State Wages</div><div>$"),br=u("<div><div><span>W-2</span>Employer Information</div><div></div><div>Wage & Tax Information</div><div>"),$r=u("<div><div><span>1099-NEC</span>Payer Information</div><div></div><div>Nonemployee Compensation</div><div><div>Box 1 - Nonemployee Compensation</div><div>$"),Pr=u("<div><div>Box 1 - Rents</div><div>$"),Sr=u("<div><div>Box 2 - Royalties</div><div>$"),_r=u("<div><div>Box 3 - Other Income</div><div>$"),wr=u("<div><div><span>1099-MISC</span>Payer Information</div><div></div><div>Miscellaneous Income</div><div>"),Cr=u("<div><div><span>1099-INT</span>Payer Information</div><div></div><div>Interest Income</div><div><div>Box 1 - Interest Income</div><div>$"),zr=u("<div><div>Box 1a - Ordinary Dividends</div><div>$"),Ir=u("<div><div>Box 1b - Qualified Dividends</div><div>$"),kr=u("<div><div>Box 2a - Capital Gains</div><div>$"),Tr=u("<div><div><span>1099-DIV</span>Payer Information</div><div></div><div>Dividend Income</div><div>"),Ar=u("<div><div>Box 1 - Mortgage Interest</div><div>$"),Nr=u("<div><div>Box 10 - Property Taxes</div><div>$"),Dr=u("<div><div>Box 5 - Mortgage Insurance</div><div>$"),Mr=u("<div><div><span>1098</span>Lender Information</div><div></div><div>Mortgage Interest Statement</div><div>"),Lr=u("<div><div>Box 1 - Payments Received</div><div>$"),Br=u("<div><div>Box 5 - Scholarships/Grants</div><div>$"),Fr=u("<div><div><span>1098-T</span>Educational Institution</div><div></div><div>Tuition Statement</div><div>"),Er=u("<div><div>Extracted Amounts</div><div>"),Rr=u("<div><strong>Error:</strong> "),Wr=u('<div><div><div><h3>Document Details</h3><button><svg width=20 height=20 viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"clip-rule=evenodd></path></svg></button></div><div><div><div><div></div><div><div></div><div> â€¢ </div></div></div></div><div><div><div>Status</div><div><span></span></div></div><div><div>Document Type</div><div></div></div></div></div><div>'),Ur=u(`<div><div><div><h3>Documents</h3><div><div><div></div><span> Verified</span></div><div><div></div><span> Needs Review</span></div></div></div><div></div></div><div><input type=file multiple accept=.pdf,.jpg,.jpeg,.png><div></div><div></div><div>Accepts PDF, JPG, PNG (W-2, 1099, 1098, K-1, receipts)</div></div><style>
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
      `),Hr=u('<button title="Re-analyze document">Analyze'),Or=u('<tr><td><div><div></div><div></div></div></td><td><span></span></td><td><span></span></td><td><span></span></td><td><span></span></td><td><div><button title="View document">View</button><button title="Delete document">Delete'),Vr=u("<div><div></div><div>$");const jr=["application/pdf","image/jpeg","image/png"],Yr=n=>{const[G,K]=ce(!1),[Z,ye]=ce(!1),[fe,he]=ce(null),[U,ue]=ce(null),[Ce,pe]=ce(!1),[o,ze]=ce(null),Se=()=>n.client?.id||n.taxPortal?.id||n.taxPortalId||"",xe=()=>n.client||n.taxPortal,$e=()=>n.taxYear||new Date().getFullYear(),Ae=()=>{n.onRefresh?.()};let Y;const De=f=>f.uploadStatus==="error"?"error":f.uploadStatus==="analyzing"||f.uploadStatus==="uploading"?"analyzing":f.verified?"verified":(f.uploadStatus==="analyzed","needs_review"),q=ut(()=>{const f=n.documents;return{total:f.length,verified:f.filter(v=>v.verified).length,needsReview:f.filter(v=>!v.verified&&v.uploadStatus==="analyzed").length,analyzing:f.filter(v=>v.uploadStatus==="analyzing"||v.uploadStatus==="uploading").length,errors:f.filter(v=>v.uploadStatus==="error").length}}),re=f=>f?f<1024?`${f} B`:f<1024*1024?`${(f/1024).toFixed(1)} KB`:`${(f/(1024*1024)).toFixed(1)} MB`:"-",se=f=>f?new Date(f).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"-",Ie=f=>({verified:{label:"Verified",color:"#22c55e",bg:"rgba(34, 197, 94, 0.1)"},needs_review:{label:"Needs Review",color:"#f59e0b",bg:"rgba(245, 158, 11, 0.1)"},missing:{label:"Missing",color:"#ef4444",bg:"rgba(239, 68, 68, 0.1)"},analyzing:{label:"Analyzing...",color:"#3b82f6",bg:"rgba(59, 130, 246, 0.1)"},error:{label:"Error",color:"#ef4444",bg:"rgba(239, 68, 68, 0.1)"}})[f],Ne=async f=>{const v=Array.from(f).filter(C=>jr.includes(C.type));if(v.length===0){he("Please select PDF, JPG, or PNG files");return}ye(!0),he(null);try{for(const C of v){const d=await jt(C,Se(),$e());if(d.success&&d.documentId)await Pt(d.documentId);else throw new Error(d.error||"Upload failed")}ue(`Successfully uploaded ${v.length} document(s)`),setTimeout(()=>ue(null),3e3),Ae()}catch(C){he(C.message)}finally{ye(!1)}},Be=f=>{f.preventDefault(),K(!1),f.dataTransfer?.files&&Ne(f.dataTransfer.files)},et=f=>{const v=f.target;v.files&&Ne(v.files),v.value=""},tt=f=>{ze(f)},Qe=f=>{f.fileUrl&&window.open(f.fileUrl,"_blank")},rt=()=>{ze(null)},lt=async f=>{try{await Pt(f.id),Ae(),ue("Document sent for analysis"),setTimeout(()=>ue(null),3e3)}catch(v){he(v.message)}},st=async f=>{if(confirm("Are you sure you want to delete this document?"))try{await Vt(f.id),Ae(),ue("Document deleted"),setTimeout(()=>ue(null),3e3)}catch(v){he(v.message)}},Me=async()=>{const f=xe();if(!f){he("Tax portal information not available");return}pe(!0);try{await bt(f,{taxYear:$e(),instructions:"Please upload the requested tax documents."}),ue("Document request sent to client"),setTimeout(()=>ue(null),3e3)}catch(v){he(v.message)}finally{pe(!1)}},J={display:"flex","flex-direction":"column",gap:"1.5rem"},_e={display:"flex","justify-content":"space-between","align-items":"center","flex-wrap":"wrap",gap:"1rem"},we={"font-size":"1.25rem","font-weight":"600",color:"var(--text-primary, #1f2937)",margin:"0"},Le={display:"flex",gap:"1.5rem","flex-wrap":"wrap","margin-top":"0.5rem"},be={display:"flex","align-items":"center",gap:"0.5rem","font-size":"0.875rem"},Fe=f=>({width:"8px",height:"8px","border-radius":"50%",background:f}),Ye=f=>({border:`2px dashed ${f?"var(--primary-color, #3b82f6)":"var(--border-color, #e5e7eb)"}`,"border-radius":"12px",padding:"2rem","text-align":"center",background:f?"rgba(59, 130, 246, 0.05)":"var(--surface-alt, #f9fafb)",transition:"all 0.2s ease",cursor:"pointer"}),Ze={"overflow-x":"auto","border-radius":"8px",border:"1px solid var(--border-color, #e5e7eb)"},We={width:"100%","border-collapse":"collapse","font-size":"0.875rem"},T={padding:"0.75rem 1rem","text-align":"left","font-weight":"600","font-size":"0.75rem","text-transform":"uppercase","letter-spacing":"0.05em",color:"var(--text-secondary, #6b7280)",background:"var(--surface-alt, #f9fafb)","border-bottom":"1px solid var(--border-color, #e5e7eb)"},A={padding:"0.75rem 1rem","border-bottom":"1px solid var(--border-color, #e5e7eb)","vertical-align":"middle"},I=f=>({display:"inline-flex","align-items":"center",gap:"0.375rem",padding:"0.25rem 0.625rem","border-radius":"9999px",background:f.bg,color:f.color,"font-size":"0.75rem","font-weight":"600"}),_={padding:"0.375rem 0.625rem",background:"transparent",border:"1px solid var(--border-color, #e5e7eb)","border-radius":"6px",cursor:"pointer","font-size":"0.75rem",color:"var(--text-secondary, #6b7280)",transition:"all 0.2s ease",display:"inline-flex","align-items":"center",gap:"0.25rem"},i={..._,background:"var(--primary-color, #3b82f6)","border-color":"var(--primary-color, #3b82f6)",color:"white"},s=f=>({padding:"0.75rem 1rem","border-radius":"8px","font-size":"0.875rem",background:f==="success"?"rgba(34, 197, 94, 0.1)":"rgba(239, 68, 68, 0.1)",color:f==="success"?"#22c55e":"#ef4444",border:`1px solid ${f==="success"?"#22c55e":"#ef4444"}`,display:"flex","align-items":"center",gap:"0.5rem"}),S={"text-align":"center",padding:"3rem",color:"var(--text-secondary, #6b7280)"},F={width:"32px",height:"32px",display:"flex","align-items":"center","justify-content":"center",background:"var(--surface-alt, #f3f4f6)","border-radius":"6px","font-size":"0.75rem","font-weight":"600"},H={"font-weight":"500",color:"var(--text-primary, #1f2937)","max-width":"250px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"},X={display:"inline-block",padding:"0.125rem 0.5rem",background:"var(--surface-alt, #f3f4f6)","border-radius":"4px","font-size":"0.75rem",color:"var(--text-secondary, #6b7280)"},R=f=>{switch(f){case"verified":return(()=>{var v=er();return v.style.setProperty("width","14px"),v.style.setProperty("height","14px"),v})();case"needs_review":return(()=>{var v=tr();return v.style.setProperty("width","14px"),v.style.setProperty("height","14px"),v})();case"analyzing":return(()=>{var v=rr();return v.style.setProperty("width","14px"),v.style.setProperty("height","14px"),v.style.setProperty("animation","spin 1s linear infinite"),v})();case"error":case"missing":return(()=>{var v=ir();return v.style.setProperty("width","14px"),v.style.setProperty("height","14px"),v})();default:return null}},b=f=>f?.includes("pdf")?"PDF":f?.includes("image")?"IMG":"DOC";return(()=>{var f=Ur(),v=f.firstChild,C=v.firstChild,d=C.firstChild,y=d.nextSibling,l=y.firstChild,p=l.firstChild,$=p.nextSibling,k=$.firstChild,D=l.nextSibling,M=D.firstChild,W=M.nextSibling,ee=W.firstChild,w=C.nextSibling,j=v.nextSibling,ae=j.firstChild,N=ae.nextSibling,le=N.nextSibling,ge=le.nextSibling,Pe=j.nextSibling;e(d,we),t($,()=>q().verified,k),t(W,()=>q().needsReview,ee),t(y,c(h,{get when(){return q().analyzing>0},get children(){var L=lr(),Q=L.firstChild,ie=Q.nextSibling,ve=ie.firstChild;return t(ie,()=>q().analyzing,ve),x(P=>{var de=be,ke=Fe("#3b82f6");return P.e=e(L,de,P.e),P.t=e(Q,ke,P.t),P},{e:void 0,t:void 0}),L}}),null),t(y,c(h,{get when(){return q().errors>0},get children(){var L=nr(),Q=L.firstChild,ie=Q.nextSibling,ve=ie.firstChild;return t(ie,()=>q().errors,ve),x(P=>{var de=be,ke=Fe("#ef4444");return P.e=e(L,de,P.e),P.t=e(Q,ke,P.t),P},{e:void 0,t:void 0}),L}}),null),w.style.setProperty("display","flex"),w.style.setProperty("gap","0.5rem"),t(w,c(ct,{variant:"secondary",size:"sm",onClick:Ae,children:"Refresh"}),null),t(w,c(h,{get when(){return xe()},get children(){return c(ct,{variant:"secondary",size:"sm",onClick:Me,get disabled(){return Ce()},get children(){return Ce()?"Sending...":"Request from Client"}})}}),null),t(f,c(h,{get when(){return fe()},get children(){var L=or(),Q=L.firstChild;return Q.style.setProperty("width","16px"),Q.style.setProperty("height","16px"),t(L,fe,null),x(ie=>e(L,s("error"),ie)),L}}),j),t(f,c(h,{get when(){return U()},get children(){var L=sr(),Q=L.firstChild;return Q.style.setProperty("width","16px"),Q.style.setProperty("height","16px"),t(L,U,null),x(ie=>e(L,s("success"),ie)),L}}),j),j.$$click=()=>Y?.click(),j.addEventListener("drop",Be),j.addEventListener("dragleave",()=>K(!1)),j.addEventListener("dragover",L=>{L.preventDefault(),K(!0)}),ae.addEventListener("change",et);var a=Y;return typeof a=="function"?Ft(a,ae):Y=ae,ae.style.setProperty("display","none"),N.style.setProperty("font-size","2.5rem"),N.style.setProperty("margin-bottom","0.75rem"),t(N,()=>G()?"Drop files here":"Upload Documents"),le.style.setProperty("color","var(--text-secondary)"),le.style.setProperty("margin-bottom","1rem"),t(le,()=>G()?"Let go to upload":"Drag and drop your tax documents here, or click to browse"),t(j,c(ct,{variant:"primary",get disabled(){return Z()},get children(){return Z()?"Uploading...":"Browse Files"}}),ge),ge.style.setProperty("font-size","0.75rem"),ge.style.setProperty("color","var(--text-muted)"),ge.style.setProperty("margin-top","0.75rem"),t(f,c(h,{get when(){return n.documents.length>0},get children(){return c(Oe,{get children(){var L=ar(),Q=L.firstChild,ie=Q.firstChild,ve=ie.firstChild,P=ve.firstChild,de=P.nextSibling,ke=de.nextSibling,Xe=ke.nextSibling,Te=Xe.nextSibling,dt=Te.nextSibling,nt=ie.nextSibling;return t(nt,c(ot,{get each(){return n.documents},children:ne=>{const it=De(ne),Ve=Ie(it);return(()=>{var Ee=Or(),Ue=Ee.firstChild,qe=Ue.firstChild,Ge=qe.firstChild,je=Ge.nextSibling,He=Ue.nextSibling,at=He.firstChild,Re=He.nextSibling,V=Re.firstChild,B=Re.nextSibling,O=B.firstChild,z=B.nextSibling,te=z.firstChild,E=z.nextSibling,r=E.firstChild,m=r.firstChild,g=m.nextSibling;return qe.style.setProperty("display","flex"),qe.style.setProperty("align-items","center"),qe.style.setProperty("gap","0.75rem"),e(Ge,F),t(Ge,()=>b(ne.mimeType)),t(je,()=>ne.originalFileName),e(at,X),t(at,()=>pt[ne.drakeFormType||"other"]),t(V,()=>R(it),null),t(V,()=>Ve.label,null),O.style.setProperty("color","var(--text-secondary)"),t(O,()=>re(ne.fileSize)),te.style.setProperty("color","var(--text-secondary)"),t(te,()=>se(ne.uploadedAt)),r.style.setProperty("display","flex"),r.style.setProperty("gap","0.5rem"),r.style.setProperty("justify-content","flex-end"),m.$$click=()=>tt(ne),t(r,c(h,{when:it!=="analyzing",get children(){var oe=Hr();return oe.$$click=()=>lt(ne),x(vt=>e(oe,_,vt)),oe}}),g),g.$$click=()=>st(ne),x(oe=>{var vt=ne.verified?"rgba(34, 197, 94, 0.03)":"transparent",zt=A,It=H,$t=ne.originalFileName,kt=A,Tt=A,At=I(Ve),Nt=A,Dt=A,Mt={...A,"text-align":"right"},Lt=i,Bt={..._,color:"#ef4444"};return vt!==oe.e&&((oe.e=vt)!=null?Ee.style.setProperty("background",vt):Ee.style.removeProperty("background")),oe.t=e(Ue,zt,oe.t),oe.a=e(je,It,oe.a),$t!==oe.o&&mt(je,"title",oe.o=$t),oe.i=e(He,kt,oe.i),oe.n=e(Re,Tt,oe.n),oe.s=e(V,At,oe.s),oe.h=e(B,Nt,oe.h),oe.r=e(z,Dt,oe.r),oe.d=e(E,Mt,oe.d),oe.l=e(m,Lt,oe.l),oe.u=e(g,Bt,oe.u),oe},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0}),Ee})()}})),x(ne=>{var it=Ze,Ve=We,Ee=T,Ue=T,qe=T,Ge=T,je=T,He={...T,"text-align":"right"};return ne.e=e(L,it,ne.e),ne.t=e(Q,Ve,ne.t),ne.a=e(P,Ee,ne.a),ne.o=e(de,Ue,ne.o),ne.i=e(ke,qe,ne.i),ne.n=e(Xe,Ge,ne.n),ne.s=e(Te,je,ne.s),ne.h=e(dt,He,ne.h),ne},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),L}})}}),Pe),t(f,c(h,{get when(){return n.documents.length===0},get children(){return c(Oe,{get children(){var L=dr(),Q=L.firstChild,ie=Q.nextSibling,ve=ie.nextSibling;return Q.style.setProperty("font-size","3rem"),Q.style.setProperty("margin-bottom","1rem"),ie.style.setProperty("font-size","1rem"),ie.style.setProperty("margin-bottom","0.5rem"),ve.style.setProperty("font-size","0.875rem"),x(P=>e(L,S,P)),L}})}}),Pe),t(f,c(h,{get when(){return o()},get children(){var L=Wr(),Q=L.firstChild,ie=Q.firstChild,ve=ie.firstChild,P=ve.nextSibling,de=ie.nextSibling,ke=de.firstChild,Xe=ke.firstChild,Te=Xe.firstChild,dt=Te.nextSibling,nt=dt.firstChild,ne=nt.nextSibling,it=ne.firstChild,Ve=ke.nextSibling,Ee=Ve.firstChild,Ue=Ee.firstChild,qe=Ue.nextSibling,Ge=qe.firstChild,je=Ee.nextSibling,He=je.firstChild,at=He.nextSibling,Re=de.nextSibling;return L.$$click=rt,L.style.setProperty("position","fixed"),L.style.setProperty("top","0"),L.style.setProperty("left","0"),L.style.setProperty("right","0"),L.style.setProperty("bottom","0"),L.style.setProperty("background","rgba(0, 0, 0, 0.5)"),L.style.setProperty("display","flex"),L.style.setProperty("align-items","center"),L.style.setProperty("justify-content","center"),L.style.setProperty("z-index","1000"),L.style.setProperty("padding","1rem"),Q.$$click=V=>V.stopPropagation(),Q.style.setProperty("background","var(--surface-color, white)"),Q.style.setProperty("border-radius","12px"),Q.style.setProperty("max-width","900px"),Q.style.setProperty("width","100%"),Q.style.setProperty("max-height","90vh"),Q.style.setProperty("overflow","auto"),Q.style.setProperty("box-shadow","0 25px 50px -12px rgba(0, 0, 0, 0.25)"),ie.style.setProperty("display","flex"),ie.style.setProperty("justify-content","space-between"),ie.style.setProperty("align-items","center"),ie.style.setProperty("padding","1.25rem 1.5rem"),ie.style.setProperty("border-bottom","1px solid var(--border-color, #e5e7eb)"),ve.style.setProperty("margin","0"),ve.style.setProperty("font-size","1.125rem"),ve.style.setProperty("font-weight","600"),P.$$click=rt,P.style.setProperty("background","transparent"),P.style.setProperty("border","none"),P.style.setProperty("cursor","pointer"),P.style.setProperty("padding","0.5rem"),P.style.setProperty("border-radius","6px"),P.style.setProperty("display","flex"),P.style.setProperty("align-items","center"),P.style.setProperty("justify-content","center"),de.style.setProperty("padding","1.5rem"),ke.style.setProperty("margin-bottom","1.5rem"),Xe.style.setProperty("display","flex"),Xe.style.setProperty("align-items","center"),Xe.style.setProperty("gap","1rem"),Te.style.setProperty("width","48px"),Te.style.setProperty("height","48px"),Te.style.setProperty("display","flex"),Te.style.setProperty("align-items","center"),Te.style.setProperty("justify-content","center"),Te.style.setProperty("background","var(--surface-alt, #f3f4f6)"),Te.style.setProperty("border-radius","8px"),Te.style.setProperty("font-weight","600"),Te.style.setProperty("color","var(--primary-color, #3b82f6)"),t(Te,()=>b(o()?.mimeType)),nt.style.setProperty("font-weight","600"),nt.style.setProperty("font-size","1rem"),t(nt,()=>o()?.originalFileName),ne.style.setProperty("font-size","0.875rem"),ne.style.setProperty("color","var(--text-secondary)"),t(ne,()=>re(o()?.fileSize),it),t(ne,()=>se(o()?.uploadedAt),null),Ve.style.setProperty("display","grid"),Ve.style.setProperty("grid-template-columns","1fr 1fr"),Ve.style.setProperty("gap","1rem"),Ve.style.setProperty("margin-bottom","1.5rem"),Ee.style.setProperty("padding","1rem"),Ee.style.setProperty("background","var(--surface-alt, #f9fafb)"),Ee.style.setProperty("border-radius","8px"),Ue.style.setProperty("font-size","0.75rem"),Ue.style.setProperty("color","var(--text-secondary)"),Ue.style.setProperty("margin-bottom","0.25rem"),Ue.style.setProperty("text-transform","uppercase"),qe.style.setProperty("font-weight","500"),t(Ge,()=>R(De(o())),null),t(Ge,()=>Ie(De(o())).label,null),je.style.setProperty("padding","1rem"),je.style.setProperty("background","var(--surface-alt, #f9fafb)"),je.style.setProperty("border-radius","8px"),He.style.setProperty("font-size","0.75rem"),He.style.setProperty("color","var(--text-secondary)"),He.style.setProperty("margin-bottom","0.25rem"),He.style.setProperty("text-transform","uppercase"),at.style.setProperty("font-weight","500"),t(at,()=>pt[o()?.drakeFormType||"other"]),t(de,c(h,{get when(){return o()?.aiAnalysis},get children(){var V=yr(),B=V.firstChild,O=B.nextSibling;return V.style.setProperty("margin-bottom","1.5rem"),B.style.setProperty("font-weight","600"),B.style.setProperty("margin-bottom","0.75rem"),O.style.setProperty("padding","1rem"),O.style.setProperty("background","rgba(139, 92, 246, 0.05)"),O.style.setProperty("border","1px solid rgba(139, 92, 246, 0.2)"),O.style.setProperty("border-radius","8px"),t(O,c(h,{get when(){return o()?.aiAnalysis?.confidence},get children(){var z=cr(),te=z.firstChild,E=te.nextSibling,r=E.firstChild;return z.style.setProperty("margin-bottom","0.5rem"),te.style.setProperty("color","var(--text-secondary)"),te.style.setProperty("font-size","0.875rem"),E.style.setProperty("font-weight","500"),t(E,()=>Math.round((o()?.aiAnalysis?.confidence||0)*100),r),z}}),null),t(O,c(h,{get when(){return o()?.aiAnalysis?.summary},get children(){var z=Ke();return z.style.setProperty("font-size","0.875rem"),z.style.setProperty("color","var(--text-secondary)"),t(z,()=>o()?.aiAnalysis?.summary),z}}),null),V}}),null),t(de,c(h,{get when(){return o()?.drakeFormType==="w2"},get children(){var V=br(),B=V.firstChild,O=B.firstChild,z=B.nextSibling,te=z.nextSibling,E=te.nextSibling;return V.style.setProperty("margin-bottom","1.5rem"),B.style.setProperty("font-weight","600"),B.style.setProperty("margin-bottom","0.75rem"),B.style.setProperty("display","flex"),B.style.setProperty("align-items","center"),B.style.setProperty("gap","0.5rem"),O.style.setProperty("background","#3b82f6"),O.style.setProperty("color","white"),O.style.setProperty("padding","0.125rem 0.5rem"),O.style.setProperty("border-radius","4px"),O.style.setProperty("font-size","0.75rem"),z.style.setProperty("padding","1rem"),z.style.setProperty("background","rgba(59, 130, 246, 0.05)"),z.style.setProperty("border","1px solid rgba(59, 130, 246, 0.2)"),z.style.setProperty("border-radius","8px"),z.style.setProperty("margin-bottom","1rem"),t(z,c(h,{get when(){return o()?.payerInfo?.name},get children(){var r=Ke();return r.style.setProperty("font-weight","600"),r.style.setProperty("font-size","1rem"),r.style.setProperty("margin-bottom","0.25rem"),t(r,()=>o()?.payerInfo?.name),r}}),null),t(z,c(h,{get when(){return o()?.payerInfo?.ein},get children(){var r=yt();return r.firstChild,r.style.setProperty("font-size","0.875rem"),r.style.setProperty("color","var(--text-secondary)"),t(r,()=>o()?.payerInfo?.ein,null),r}}),null),t(z,c(h,{get when(){return o()?.payerInfo?.address||o()?.payerInfo?.city},get children(){var r=Ke();return r.style.setProperty("font-size","0.875rem"),r.style.setProperty("color","var(--text-secondary)"),r.style.setProperty("margin-top","0.25rem"),t(r,()=>o()?.payerInfo?.address,null),t(r,(()=>{var m=me(()=>!!o()?.payerInfo?.city);return()=>m()&&`, ${o()?.payerInfo?.city}`})(),null),t(r,(()=>{var m=me(()=>!!o()?.payerInfo?.state);return()=>m()&&`, ${o()?.payerInfo?.state}`})(),null),t(r,(()=>{var m=me(()=>!!o()?.payerInfo?.zip);return()=>m()&&` ${o()?.payerInfo?.zip}`})(),null),r}}),null),te.style.setProperty("font-weight","600"),te.style.setProperty("margin-bottom","0.75rem"),E.style.setProperty("display","grid"),E.style.setProperty("grid-template-columns","repeat(2, 1fr)"),E.style.setProperty("gap","0.5rem"),t(E,c(h,{get when(){return o()?.extractedAmounts?.wages!==void 0},get children(){var r=ur(),m=r.firstChild,g=m.nextSibling;return g.firstChild,r.style.setProperty("padding","0.75rem"),r.style.setProperty("background","var(--surface-alt, #f9fafb)"),r.style.setProperty("border-radius","6px"),m.style.setProperty("font-size","0.75rem"),m.style.setProperty("color","var(--text-secondary)"),g.style.setProperty("font-weight","600"),g.style.setProperty("font-size","1.125rem"),g.style.setProperty("color","#22c55e"),t(g,()=>(o()?.extractedAmounts?.wages||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),r}}),null),t(E,c(h,{get when(){return o()?.extractedAmounts?.federalTaxWithheld!==void 0},get children(){var r=gr(),m=r.firstChild,g=m.nextSibling;return g.firstChild,r.style.setProperty("padding","0.75rem"),r.style.setProperty("background","var(--surface-alt, #f9fafb)"),r.style.setProperty("border-radius","6px"),m.style.setProperty("font-size","0.75rem"),m.style.setProperty("color","var(--text-secondary)"),g.style.setProperty("font-weight","600"),g.style.setProperty("font-size","1.125rem"),g.style.setProperty("color","#ef4444"),t(g,()=>(o()?.extractedAmounts?.federalTaxWithheld||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),r}}),null),t(E,c(h,{get when(){return o()?.extractedAmounts?.socialSecurityWages!==void 0},get children(){var r=vr(),m=r.firstChild,g=m.nextSibling;return g.firstChild,r.style.setProperty("padding","0.75rem"),r.style.setProperty("background","var(--surface-alt, #f9fafb)"),r.style.setProperty("border-radius","6px"),m.style.setProperty("font-size","0.75rem"),m.style.setProperty("color","var(--text-secondary)"),g.style.setProperty("font-weight","600"),t(g,()=>(o()?.extractedAmounts?.socialSecurityWages||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),r}}),null),t(E,c(h,{get when(){return o()?.extractedAmounts?.socialSecurityTax!==void 0},get children(){var r=mr(),m=r.firstChild,g=m.nextSibling;return g.firstChild,r.style.setProperty("padding","0.75rem"),r.style.setProperty("background","var(--surface-alt, #f9fafb)"),r.style.setProperty("border-radius","6px"),m.style.setProperty("font-size","0.75rem"),m.style.setProperty("color","var(--text-secondary)"),g.style.setProperty("font-weight","600"),t(g,()=>(o()?.extractedAmounts?.socialSecurityTax||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),r}}),null),t(E,c(h,{get when(){return o()?.extractedAmounts?.medicareWages!==void 0},get children(){var r=pr(),m=r.firstChild,g=m.nextSibling;return g.firstChild,r.style.setProperty("padding","0.75rem"),r.style.setProperty("background","var(--surface-alt, #f9fafb)"),r.style.setProperty("border-radius","6px"),m.style.setProperty("font-size","0.75rem"),m.style.setProperty("color","var(--text-secondary)"),g.style.setProperty("font-weight","600"),t(g,()=>(o()?.extractedAmounts?.medicareWages||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),r}}),null),t(E,c(h,{get when(){return o()?.extractedAmounts?.medicareTax!==void 0},get children(){var r=fr(),m=r.firstChild,g=m.nextSibling;return g.firstChild,r.style.setProperty("padding","0.75rem"),r.style.setProperty("background","var(--surface-alt, #f9fafb)"),r.style.setProperty("border-radius","6px"),m.style.setProperty("font-size","0.75rem"),m.style.setProperty("color","var(--text-secondary)"),g.style.setProperty("font-weight","600"),t(g,()=>(o()?.extractedAmounts?.medicareTax||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),r}}),null),t(E,c(h,{get when(){return o()?.extractedAmounts?.stateTaxWithheld!==void 0},get children(){var r=hr(),m=r.firstChild,g=m.nextSibling;return g.firstChild,r.style.setProperty("padding","0.75rem"),r.style.setProperty("background","var(--surface-alt, #f9fafb)"),r.style.setProperty("border-radius","6px"),m.style.setProperty("font-size","0.75rem"),m.style.setProperty("color","var(--text-secondary)"),g.style.setProperty("font-weight","600"),t(g,()=>(o()?.extractedAmounts?.stateTaxWithheld||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),r}}),null),t(E,c(h,{get when(){return o()?.extractedAmounts?.stateWages!==void 0},get children(){var r=xr(),m=r.firstChild,g=m.nextSibling;return g.firstChild,r.style.setProperty("padding","0.75rem"),r.style.setProperty("background","var(--surface-alt, #f9fafb)"),r.style.setProperty("border-radius","6px"),m.style.setProperty("font-size","0.75rem"),m.style.setProperty("color","var(--text-secondary)"),g.style.setProperty("font-weight","600"),t(g,()=>(o()?.extractedAmounts?.stateWages||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),r}}),null),V}}),null),t(de,c(h,{get when(){return o()?.drakeFormType==="1099_nec"},get children(){var V=$r(),B=V.firstChild,O=B.firstChild,z=B.nextSibling,te=z.nextSibling,E=te.nextSibling,r=E.firstChild,m=r.nextSibling;return m.firstChild,V.style.setProperty("margin-bottom","1.5rem"),B.style.setProperty("font-weight","600"),B.style.setProperty("margin-bottom","0.75rem"),B.style.setProperty("display","flex"),B.style.setProperty("align-items","center"),B.style.setProperty("gap","0.5rem"),O.style.setProperty("background","#8b5cf6"),O.style.setProperty("color","white"),O.style.setProperty("padding","0.125rem 0.5rem"),O.style.setProperty("border-radius","4px"),O.style.setProperty("font-size","0.75rem"),z.style.setProperty("padding","1rem"),z.style.setProperty("background","rgba(139, 92, 246, 0.05)"),z.style.setProperty("border","1px solid rgba(139, 92, 246, 0.2)"),z.style.setProperty("border-radius","8px"),z.style.setProperty("margin-bottom","1rem"),t(z,c(h,{get when(){return o()?.payerInfo?.name},get children(){var g=Ke();return g.style.setProperty("font-weight","600"),g.style.setProperty("font-size","1rem"),g.style.setProperty("margin-bottom","0.25rem"),t(g,()=>o()?.payerInfo?.name),g}}),null),t(z,c(h,{get when(){return o()?.payerInfo?.ein},get children(){var g=yt();return g.firstChild,g.style.setProperty("font-size","0.875rem"),g.style.setProperty("color","var(--text-secondary)"),t(g,()=>o()?.payerInfo?.ein,null),g}}),null),t(z,c(h,{get when(){return o()?.payerInfo?.address||o()?.payerInfo?.city},get children(){var g=Ke();return g.style.setProperty("font-size","0.875rem"),g.style.setProperty("color","var(--text-secondary)"),g.style.setProperty("margin-top","0.25rem"),t(g,()=>o()?.payerInfo?.address,null),t(g,(()=>{var oe=me(()=>!!o()?.payerInfo?.city);return()=>oe()&&`, ${o()?.payerInfo?.city}`})(),null),t(g,(()=>{var oe=me(()=>!!o()?.payerInfo?.state);return()=>oe()&&`, ${o()?.payerInfo?.state}`})(),null),t(g,(()=>{var oe=me(()=>!!o()?.payerInfo?.zip);return()=>oe()&&` ${o()?.payerInfo?.zip}`})(),null),g}}),null),te.style.setProperty("font-weight","600"),te.style.setProperty("margin-bottom","0.75rem"),E.style.setProperty("padding","1.25rem"),E.style.setProperty("background","linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(168, 85, 247, 0.1))"),E.style.setProperty("border-radius","8px"),E.style.setProperty("text-align","center"),r.style.setProperty("font-size","0.875rem"),r.style.setProperty("color","var(--text-secondary)"),r.style.setProperty("margin-bottom","0.25rem"),m.style.setProperty("font-size","2rem"),m.style.setProperty("font-weight","700"),m.style.setProperty("color","#8b5cf6"),t(m,()=>(o()?.extractedAmounts?.nonEmployeeCompensation||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),V}}),null),t(de,c(h,{get when(){return o()?.drakeFormType==="1099_misc"},get children(){var V=wr(),B=V.firstChild,O=B.firstChild,z=B.nextSibling,te=z.nextSibling,E=te.nextSibling;return V.style.setProperty("margin-bottom","1.5rem"),B.style.setProperty("font-weight","600"),B.style.setProperty("margin-bottom","0.75rem"),B.style.setProperty("display","flex"),B.style.setProperty("align-items","center"),B.style.setProperty("gap","0.5rem"),O.style.setProperty("background","#f59e0b"),O.style.setProperty("color","white"),O.style.setProperty("padding","0.125rem 0.5rem"),O.style.setProperty("border-radius","4px"),O.style.setProperty("font-size","0.75rem"),z.style.setProperty("padding","1rem"),z.style.setProperty("background","rgba(245, 158, 11, 0.05)"),z.style.setProperty("border","1px solid rgba(245, 158, 11, 0.2)"),z.style.setProperty("border-radius","8px"),z.style.setProperty("margin-bottom","1rem"),t(z,c(h,{get when(){return o()?.payerInfo?.name},get children(){var r=Ke();return r.style.setProperty("font-weight","600"),r.style.setProperty("font-size","1rem"),r.style.setProperty("margin-bottom","0.25rem"),t(r,()=>o()?.payerInfo?.name),r}}),null),t(z,c(h,{get when(){return o()?.payerInfo?.ein},get children(){var r=yt();return r.firstChild,r.style.setProperty("font-size","0.875rem"),r.style.setProperty("color","var(--text-secondary)"),t(r,()=>o()?.payerInfo?.ein,null),r}}),null),t(z,c(h,{get when(){return o()?.payerInfo?.address||o()?.payerInfo?.city},get children(){var r=Ke();return r.style.setProperty("font-size","0.875rem"),r.style.setProperty("color","var(--text-secondary)"),r.style.setProperty("margin-top","0.25rem"),t(r,()=>o()?.payerInfo?.address,null),t(r,(()=>{var m=me(()=>!!o()?.payerInfo?.city);return()=>m()&&`, ${o()?.payerInfo?.city}`})(),null),t(r,(()=>{var m=me(()=>!!o()?.payerInfo?.state);return()=>m()&&`, ${o()?.payerInfo?.state}`})(),null),t(r,(()=>{var m=me(()=>!!o()?.payerInfo?.zip);return()=>m()&&` ${o()?.payerInfo?.zip}`})(),null),r}}),null),te.style.setProperty("font-weight","600"),te.style.setProperty("margin-bottom","0.75rem"),E.style.setProperty("display","grid"),E.style.setProperty("grid-template-columns","repeat(2, 1fr)"),E.style.setProperty("gap","0.5rem"),t(E,c(h,{get when(){return o()?.extractedAmounts?.rents!==void 0},get children(){var r=Pr(),m=r.firstChild,g=m.nextSibling;return g.firstChild,r.style.setProperty("padding","0.75rem"),r.style.setProperty("background","var(--surface-alt, #f9fafb)"),r.style.setProperty("border-radius","6px"),m.style.setProperty("font-size","0.75rem"),m.style.setProperty("color","var(--text-secondary)"),g.style.setProperty("font-weight","600"),t(g,()=>(o()?.extractedAmounts?.rents||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),r}}),null),t(E,c(h,{get when(){return o()?.extractedAmounts?.royalties!==void 0},get children(){var r=Sr(),m=r.firstChild,g=m.nextSibling;return g.firstChild,r.style.setProperty("padding","0.75rem"),r.style.setProperty("background","var(--surface-alt, #f9fafb)"),r.style.setProperty("border-radius","6px"),m.style.setProperty("font-size","0.75rem"),m.style.setProperty("color","var(--text-secondary)"),g.style.setProperty("font-weight","600"),t(g,()=>(o()?.extractedAmounts?.royalties||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),r}}),null),t(E,c(h,{get when(){return o()?.extractedAmounts?.otherIncome!==void 0},get children(){var r=_r(),m=r.firstChild,g=m.nextSibling;return g.firstChild,r.style.setProperty("padding","0.75rem"),r.style.setProperty("background","var(--surface-alt, #f9fafb)"),r.style.setProperty("border-radius","6px"),m.style.setProperty("font-size","0.75rem"),m.style.setProperty("color","var(--text-secondary)"),g.style.setProperty("font-weight","600"),t(g,()=>(o()?.extractedAmounts?.otherIncome||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),r}}),null),V}}),null),t(de,c(h,{get when(){return o()?.drakeFormType==="1099_int"},get children(){var V=Cr(),B=V.firstChild,O=B.firstChild,z=B.nextSibling,te=z.nextSibling,E=te.nextSibling,r=E.firstChild,m=r.nextSibling;return m.firstChild,V.style.setProperty("margin-bottom","1.5rem"),B.style.setProperty("font-weight","600"),B.style.setProperty("margin-bottom","0.75rem"),B.style.setProperty("display","flex"),B.style.setProperty("align-items","center"),B.style.setProperty("gap","0.5rem"),O.style.setProperty("background","#22c55e"),O.style.setProperty("color","white"),O.style.setProperty("padding","0.125rem 0.5rem"),O.style.setProperty("border-radius","4px"),O.style.setProperty("font-size","0.75rem"),z.style.setProperty("padding","1rem"),z.style.setProperty("background","rgba(34, 197, 94, 0.05)"),z.style.setProperty("border","1px solid rgba(34, 197, 94, 0.2)"),z.style.setProperty("border-radius","8px"),z.style.setProperty("margin-bottom","1rem"),t(z,c(h,{get when(){return o()?.payerInfo?.name},get children(){var g=Ke();return g.style.setProperty("font-weight","600"),g.style.setProperty("font-size","1rem"),g.style.setProperty("margin-bottom","0.25rem"),t(g,()=>o()?.payerInfo?.name),g}}),null),t(z,c(h,{get when(){return o()?.payerInfo?.ein},get children(){var g=yt();return g.firstChild,g.style.setProperty("font-size","0.875rem"),g.style.setProperty("color","var(--text-secondary)"),t(g,()=>o()?.payerInfo?.ein,null),g}}),null),t(z,c(h,{get when(){return o()?.payerInfo?.address||o()?.payerInfo?.city},get children(){var g=Ke();return g.style.setProperty("font-size","0.875rem"),g.style.setProperty("color","var(--text-secondary)"),g.style.setProperty("margin-top","0.25rem"),t(g,()=>o()?.payerInfo?.address,null),t(g,(()=>{var oe=me(()=>!!o()?.payerInfo?.city);return()=>oe()&&`, ${o()?.payerInfo?.city}`})(),null),t(g,(()=>{var oe=me(()=>!!o()?.payerInfo?.state);return()=>oe()&&`, ${o()?.payerInfo?.state}`})(),null),t(g,(()=>{var oe=me(()=>!!o()?.payerInfo?.zip);return()=>oe()&&` ${o()?.payerInfo?.zip}`})(),null),g}}),null),te.style.setProperty("font-weight","600"),te.style.setProperty("margin-bottom","0.75rem"),E.style.setProperty("padding","1.25rem"),E.style.setProperty("background","linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(16, 185, 129, 0.1))"),E.style.setProperty("border-radius","8px"),E.style.setProperty("text-align","center"),r.style.setProperty("font-size","0.875rem"),r.style.setProperty("color","var(--text-secondary)"),r.style.setProperty("margin-bottom","0.25rem"),m.style.setProperty("font-size","2rem"),m.style.setProperty("font-weight","700"),m.style.setProperty("color","#22c55e"),t(m,()=>(o()?.extractedAmounts?.interestIncome||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),V}}),null),t(de,c(h,{get when(){return o()?.drakeFormType==="1099_div"},get children(){var V=Tr(),B=V.firstChild,O=B.firstChild,z=B.nextSibling,te=z.nextSibling,E=te.nextSibling;return V.style.setProperty("margin-bottom","1.5rem"),B.style.setProperty("font-weight","600"),B.style.setProperty("margin-bottom","0.75rem"),B.style.setProperty("display","flex"),B.style.setProperty("align-items","center"),B.style.setProperty("gap","0.5rem"),O.style.setProperty("background","#06b6d4"),O.style.setProperty("color","white"),O.style.setProperty("padding","0.125rem 0.5rem"),O.style.setProperty("border-radius","4px"),O.style.setProperty("font-size","0.75rem"),z.style.setProperty("padding","1rem"),z.style.setProperty("background","rgba(6, 182, 212, 0.05)"),z.style.setProperty("border","1px solid rgba(6, 182, 212, 0.2)"),z.style.setProperty("border-radius","8px"),z.style.setProperty("margin-bottom","1rem"),t(z,c(h,{get when(){return o()?.payerInfo?.name},get children(){var r=Ke();return r.style.setProperty("font-weight","600"),r.style.setProperty("font-size","1rem"),r.style.setProperty("margin-bottom","0.25rem"),t(r,()=>o()?.payerInfo?.name),r}}),null),t(z,c(h,{get when(){return o()?.payerInfo?.ein},get children(){var r=yt();return r.firstChild,r.style.setProperty("font-size","0.875rem"),r.style.setProperty("color","var(--text-secondary)"),t(r,()=>o()?.payerInfo?.ein,null),r}}),null),t(z,c(h,{get when(){return o()?.payerInfo?.address||o()?.payerInfo?.city},get children(){var r=Ke();return r.style.setProperty("font-size","0.875rem"),r.style.setProperty("color","var(--text-secondary)"),r.style.setProperty("margin-top","0.25rem"),t(r,()=>o()?.payerInfo?.address,null),t(r,(()=>{var m=me(()=>!!o()?.payerInfo?.city);return()=>m()&&`, ${o()?.payerInfo?.city}`})(),null),t(r,(()=>{var m=me(()=>!!o()?.payerInfo?.state);return()=>m()&&`, ${o()?.payerInfo?.state}`})(),null),t(r,(()=>{var m=me(()=>!!o()?.payerInfo?.zip);return()=>m()&&` ${o()?.payerInfo?.zip}`})(),null),r}}),null),te.style.setProperty("font-weight","600"),te.style.setProperty("margin-bottom","0.75rem"),E.style.setProperty("display","grid"),E.style.setProperty("grid-template-columns","repeat(2, 1fr)"),E.style.setProperty("gap","0.5rem"),t(E,c(h,{get when(){return o()?.extractedAmounts?.ordinaryDividends!==void 0},get children(){var r=zr(),m=r.firstChild,g=m.nextSibling;return g.firstChild,r.style.setProperty("padding","0.75rem"),r.style.setProperty("background","var(--surface-alt, #f9fafb)"),r.style.setProperty("border-radius","6px"),m.style.setProperty("font-size","0.75rem"),m.style.setProperty("color","var(--text-secondary)"),g.style.setProperty("font-weight","600"),g.style.setProperty("font-size","1.125rem"),g.style.setProperty("color","#06b6d4"),t(g,()=>(o()?.extractedAmounts?.ordinaryDividends||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),r}}),null),t(E,c(h,{get when(){return o()?.extractedAmounts?.qualifiedDividends!==void 0},get children(){var r=Ir(),m=r.firstChild,g=m.nextSibling;return g.firstChild,r.style.setProperty("padding","0.75rem"),r.style.setProperty("background","var(--surface-alt, #f9fafb)"),r.style.setProperty("border-radius","6px"),m.style.setProperty("font-size","0.75rem"),m.style.setProperty("color","var(--text-secondary)"),g.style.setProperty("font-weight","600"),g.style.setProperty("font-size","1.125rem"),g.style.setProperty("color","#06b6d4"),t(g,()=>(o()?.extractedAmounts?.qualifiedDividends||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),r}}),null),t(E,c(h,{get when(){return o()?.extractedAmounts?.capitalGains!==void 0},get children(){var r=kr(),m=r.firstChild,g=m.nextSibling;return g.firstChild,r.style.setProperty("padding","0.75rem"),r.style.setProperty("background","var(--surface-alt, #f9fafb)"),r.style.setProperty("border-radius","6px"),m.style.setProperty("font-size","0.75rem"),m.style.setProperty("color","var(--text-secondary)"),g.style.setProperty("font-weight","600"),t(g,()=>(o()?.extractedAmounts?.capitalGains||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),r}}),null),V}}),null),t(de,c(h,{get when(){return o()?.drakeFormType==="1098"},get children(){var V=Mr(),B=V.firstChild,O=B.firstChild,z=B.nextSibling,te=z.nextSibling,E=te.nextSibling;return V.style.setProperty("margin-bottom","1.5rem"),B.style.setProperty("font-weight","600"),B.style.setProperty("margin-bottom","0.75rem"),B.style.setProperty("display","flex"),B.style.setProperty("align-items","center"),B.style.setProperty("gap","0.5rem"),O.style.setProperty("background","#ec4899"),O.style.setProperty("color","white"),O.style.setProperty("padding","0.125rem 0.5rem"),O.style.setProperty("border-radius","4px"),O.style.setProperty("font-size","0.75rem"),z.style.setProperty("padding","1rem"),z.style.setProperty("background","rgba(236, 72, 153, 0.05)"),z.style.setProperty("border","1px solid rgba(236, 72, 153, 0.2)"),z.style.setProperty("border-radius","8px"),z.style.setProperty("margin-bottom","1rem"),t(z,c(h,{get when(){return o()?.payerInfo?.name},get children(){var r=Ke();return r.style.setProperty("font-weight","600"),r.style.setProperty("font-size","1rem"),r.style.setProperty("margin-bottom","0.25rem"),t(r,()=>o()?.payerInfo?.name),r}}),null),t(z,c(h,{get when(){return o()?.payerInfo?.ein},get children(){var r=yt();return r.firstChild,r.style.setProperty("font-size","0.875rem"),r.style.setProperty("color","var(--text-secondary)"),t(r,()=>o()?.payerInfo?.ein,null),r}}),null),t(z,c(h,{get when(){return o()?.payerInfo?.address||o()?.payerInfo?.city},get children(){var r=Ke();return r.style.setProperty("font-size","0.875rem"),r.style.setProperty("color","var(--text-secondary)"),r.style.setProperty("margin-top","0.25rem"),t(r,()=>o()?.payerInfo?.address,null),t(r,(()=>{var m=me(()=>!!o()?.payerInfo?.city);return()=>m()&&`, ${o()?.payerInfo?.city}`})(),null),t(r,(()=>{var m=me(()=>!!o()?.payerInfo?.state);return()=>m()&&`, ${o()?.payerInfo?.state}`})(),null),t(r,(()=>{var m=me(()=>!!o()?.payerInfo?.zip);return()=>m()&&` ${o()?.payerInfo?.zip}`})(),null),r}}),null),te.style.setProperty("font-weight","600"),te.style.setProperty("margin-bottom","0.75rem"),E.style.setProperty("display","grid"),E.style.setProperty("grid-template-columns","repeat(2, 1fr)"),E.style.setProperty("gap","0.5rem"),t(E,c(h,{get when(){return o()?.extractedAmounts?.mortgageInterest!==void 0},get children(){var r=Ar(),m=r.firstChild,g=m.nextSibling;return g.firstChild,r.style.setProperty("padding","0.75rem"),r.style.setProperty("background","var(--surface-alt, #f9fafb)"),r.style.setProperty("border-radius","6px"),m.style.setProperty("font-size","0.75rem"),m.style.setProperty("color","var(--text-secondary)"),g.style.setProperty("font-weight","600"),g.style.setProperty("font-size","1.125rem"),g.style.setProperty("color","#ec4899"),t(g,()=>(o()?.extractedAmounts?.mortgageInterest||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),r}}),null),t(E,c(h,{get when(){return o()?.extractedAmounts?.propertyTaxes!==void 0},get children(){var r=Nr(),m=r.firstChild,g=m.nextSibling;return g.firstChild,r.style.setProperty("padding","0.75rem"),r.style.setProperty("background","var(--surface-alt, #f9fafb)"),r.style.setProperty("border-radius","6px"),m.style.setProperty("font-size","0.75rem"),m.style.setProperty("color","var(--text-secondary)"),g.style.setProperty("font-weight","600"),g.style.setProperty("font-size","1.125rem"),t(g,()=>(o()?.extractedAmounts?.propertyTaxes||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),r}}),null),t(E,c(h,{get when(){return o()?.extractedAmounts?.mortgageInsurance!==void 0},get children(){var r=Dr(),m=r.firstChild,g=m.nextSibling;return g.firstChild,r.style.setProperty("padding","0.75rem"),r.style.setProperty("background","var(--surface-alt, #f9fafb)"),r.style.setProperty("border-radius","6px"),m.style.setProperty("font-size","0.75rem"),m.style.setProperty("color","var(--text-secondary)"),g.style.setProperty("font-weight","600"),t(g,()=>(o()?.extractedAmounts?.mortgageInsurance||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),r}}),null),V}}),null),t(de,c(h,{get when(){return o()?.drakeFormType==="1098_t"},get children(){var V=Fr(),B=V.firstChild,O=B.firstChild,z=B.nextSibling,te=z.nextSibling,E=te.nextSibling;return V.style.setProperty("margin-bottom","1.5rem"),B.style.setProperty("font-weight","600"),B.style.setProperty("margin-bottom","0.75rem"),B.style.setProperty("display","flex"),B.style.setProperty("align-items","center"),B.style.setProperty("gap","0.5rem"),O.style.setProperty("background","#14b8a6"),O.style.setProperty("color","white"),O.style.setProperty("padding","0.125rem 0.5rem"),O.style.setProperty("border-radius","4px"),O.style.setProperty("font-size","0.75rem"),z.style.setProperty("padding","1rem"),z.style.setProperty("background","rgba(20, 184, 166, 0.05)"),z.style.setProperty("border","1px solid rgba(20, 184, 166, 0.2)"),z.style.setProperty("border-radius","8px"),z.style.setProperty("margin-bottom","1rem"),t(z,c(h,{get when(){return o()?.payerInfo?.name},get children(){var r=Ke();return r.style.setProperty("font-weight","600"),r.style.setProperty("font-size","1rem"),r.style.setProperty("margin-bottom","0.25rem"),t(r,()=>o()?.payerInfo?.name),r}}),null),t(z,c(h,{get when(){return o()?.payerInfo?.ein},get children(){var r=yt();return r.firstChild,r.style.setProperty("font-size","0.875rem"),r.style.setProperty("color","var(--text-secondary)"),t(r,()=>o()?.payerInfo?.ein,null),r}}),null),t(z,c(h,{get when(){return o()?.payerInfo?.address||o()?.payerInfo?.city},get children(){var r=Ke();return r.style.setProperty("font-size","0.875rem"),r.style.setProperty("color","var(--text-secondary)"),r.style.setProperty("margin-top","0.25rem"),t(r,()=>o()?.payerInfo?.address,null),t(r,(()=>{var m=me(()=>!!o()?.payerInfo?.city);return()=>m()&&`, ${o()?.payerInfo?.city}`})(),null),t(r,(()=>{var m=me(()=>!!o()?.payerInfo?.state);return()=>m()&&`, ${o()?.payerInfo?.state}`})(),null),t(r,(()=>{var m=me(()=>!!o()?.payerInfo?.zip);return()=>m()&&` ${o()?.payerInfo?.zip}`})(),null),r}}),null),te.style.setProperty("font-weight","600"),te.style.setProperty("margin-bottom","0.75rem"),E.style.setProperty("display","grid"),E.style.setProperty("grid-template-columns","repeat(2, 1fr)"),E.style.setProperty("gap","0.5rem"),t(E,c(h,{get when(){return o()?.extractedAmounts?.tuitionPaid!==void 0},get children(){var r=Lr(),m=r.firstChild,g=m.nextSibling;return g.firstChild,r.style.setProperty("padding","0.75rem"),r.style.setProperty("background","var(--surface-alt, #f9fafb)"),r.style.setProperty("border-radius","6px"),m.style.setProperty("font-size","0.75rem"),m.style.setProperty("color","var(--text-secondary)"),g.style.setProperty("font-weight","600"),g.style.setProperty("font-size","1.125rem"),g.style.setProperty("color","#14b8a6"),t(g,()=>(o()?.extractedAmounts?.tuitionPaid||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),r}}),null),t(E,c(h,{get when(){return o()?.extractedAmounts?.scholarshipsGrants!==void 0},get children(){var r=Br(),m=r.firstChild,g=m.nextSibling;return g.firstChild,r.style.setProperty("padding","0.75rem"),r.style.setProperty("background","var(--surface-alt, #f9fafb)"),r.style.setProperty("border-radius","6px"),m.style.setProperty("font-size","0.75rem"),m.style.setProperty("color","var(--text-secondary)"),g.style.setProperty("font-weight","600"),g.style.setProperty("font-size","1.125rem"),t(g,()=>(o()?.extractedAmounts?.scholarshipsGrants||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),r}}),null),V}}),null),t(de,c(h,{get when(){return me(()=>!["w2","1099_nec","1099_misc","1099_int","1099_div","1098","1098_t"].includes(o()?.drakeFormType||""))()&&o()?.extractedAmounts},get children(){var V=Er(),B=V.firstChild,O=B.nextSibling;return V.style.setProperty("margin-bottom","1.5rem"),B.style.setProperty("font-weight","600"),B.style.setProperty("margin-bottom","0.75rem"),O.style.setProperty("display","grid"),O.style.setProperty("grid-template-columns","repeat(2, 1fr)"),O.style.setProperty("gap","0.5rem"),t(O,c(ot,{get each(){return Object.entries(o()?.extractedAmounts||{})},children:([z,te])=>c(h,{when:te!=null&&typeof te=="number",get children(){var E=Vr(),r=E.firstChild,m=r.nextSibling;return m.firstChild,E.style.setProperty("padding","0.75rem"),E.style.setProperty("background","var(--surface-alt, #f9fafb)"),E.style.setProperty("border-radius","6px"),E.style.setProperty("font-size","0.875rem"),r.style.setProperty("color","var(--text-secondary)"),r.style.setProperty("font-size","0.75rem"),r.style.setProperty("text-transform","capitalize"),t(r,()=>z.replace(/([A-Z])/g," $1").trim()),m.style.setProperty("font-weight","600"),t(m,()=>te.toLocaleString("en-US",{minimumFractionDigits:2}),null),E}})})),V}}),null),t(de,c(h,{get when(){return o()?.errorMessage},get children(){var V=Rr(),B=V.firstChild;return B.nextSibling,V.style.setProperty("padding","1rem"),V.style.setProperty("background","rgba(239, 68, 68, 0.1)"),V.style.setProperty("border","1px solid rgba(239, 68, 68, 0.2)"),V.style.setProperty("border-radius","8px"),V.style.setProperty("color","#ef4444"),V.style.setProperty("font-size","0.875rem"),V.style.setProperty("margin-bottom","1.5rem"),t(V,()=>o()?.errorMessage,null),V}}),null),Re.style.setProperty("display","flex"),Re.style.setProperty("gap","0.75rem"),Re.style.setProperty("padding","1.25rem 1.5rem"),Re.style.setProperty("border-top","1px solid var(--border-color, #e5e7eb)"),Re.style.setProperty("justify-content","flex-end"),t(Re,c(ct,{variant:"secondary",onClick:rt,children:"Close"}),null),t(Re,c(ct,{variant:"secondary",onClick:()=>lt(o()),children:"Re-Analyze"}),null),t(Re,c(ct,{variant:"primary",onClick:()=>Qe(o()),children:"Open File"}),null),x(V=>e(Ge,I(Ie(De(o()))),V)),L}}),null),x(L=>{var Q=J,ie=_e,ve=Le,P=be,de=Fe("#22c55e"),ke=be,Xe=Fe("#f59e0b"),Te=Ye(G());return L.e=e(f,Q,L.e),L.t=e(v,ie,L.t),L.a=e(y,ve,L.a),L.o=e(l,P,L.o),L.i=e(p,de,L.i),L.n=e(D,ke,L.n),L.s=e(M,Xe,L.s),L.h=e(j,Te,L.h),L},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),f})()};gt(["click"]);var Xr=u("<div><div></div><span> In Progress"),qr=u('<div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"clip-rule=evenodd>'),Gr=u('<div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"clip-rule=evenodd>'),Kr=u('<div><div></div><div>Pending Tasks</div><div>Send all pending tasks to <!> <!> for completion</div><button><svg viewBox="0 0 20 20"fill=currentColor><path d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z">'),Jr=u("<div>"),Qr=u('<div><div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"clip-rule=evenodd></path></svg></div><div>All Tasks Complete!</div><div> has completed all required tasks'),Zr=u("<div><div><div><h3>Client Tasks</h3><div><div><div></div><span> Pending</span></div><div><div></div><span> Complete"),ei=u('<svg viewBox="0 0 20 20"fill=white><path fill-rule=evenodd d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"clip-rule=evenodd>'),ti=u("<span>"),ri=u('<div><div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"clip-rule=evenodd></path></svg>Matched Documents (<!>)</div><div>'),ii=u("<div>Completed on "),li=u("<div><div><div></div></div><div><div></div><div></div><div><span></span><span> Priority"),ni=u("<span>- "),oi=u("<div><span></span><span>");const si=n=>{const[G,K]=ce(!1),[Z,ye]=ce(null),[fe,he]=ce(null),[U,ue]=ce(null),[Ce,pe]=ce(new Set),o=T=>!T||!n.documents?[]:n.documents.filter(A=>A.drakeFormType?!!(A.drakeFormType===T||T==="1099"&&A.drakeFormType.startsWith("1099")||T==="1098"&&A.drakeFormType.startsWith("1098")):!1),ze=ut(()=>{const T=[];n.documents,n?.taxPortal?.ssn?T.push({id:"upload_ssn",type:"upload_ssn",title:"SSN Provided",description:`SSN ending in ${n?.taxPortal?.ssn.slice(-4)}`,status:"complete",priority:"high",completedAt:n?.taxPortal?.updatedAt}):T.push({id:"upload_ssn",type:"upload_ssn",title:"Upload SSN",description:"Client needs to provide their Social Security Number",status:"pending",priority:"high"}),T.push({id:"sign_letter",type:"sign_letter",title:"Sign Engagement Letter",description:"Client needs to sign the tax preparation engagement letter",status:"pending",priority:"high"});const A=n.taxPortal?.firstName&&n.taxPortal?.lastName&&n.taxPortal?.address&&n.taxPortal?.city&&n.taxPortal?.state&&n.taxPortal?.zipCode;T.push({id:"verify_info",type:"verify_info",title:"Verify Personal Information",description:A?"Personal information has been verified":"Client needs to verify their name and address",status:A?"complete":"pending",priority:"medium",completedAt:A?n.taxPortal?.updatedAt:void 0}),T.push({id:"provide_dependent_info",type:"provide_dependent_info",title:"Provide Dependent Information",description:"Client needs to provide information about any dependents",status:"pending",priority:"medium"});const I=o("w2"),_=I.length>0;T.push({id:"upload_w2",type:"upload_document",title:"Upload W-2",description:_?`${I.length} W-2 form(s) uploaded`:"Client needs to upload their W-2 form(s) from employer(s)",status:_?"complete":"pending",priority:"high",documentType:"w2",matchedDocuments:_?I:void 0,matchedDocument:_?I[0]:void 0,completedAt:_?I[0].uploadedAt:void 0});const i=o("1099"),s=i.length>0;return T.push({id:"upload_1099",type:"upload_document",title:"Upload 1099 Forms",description:s?`${i.length} 1099 form(s) uploaded`:"Upload any 1099 forms (1099-NEC, 1099-MISC, 1099-INT, 1099-DIV)",status:s?"complete":"pending",priority:"medium",documentType:"1099",matchedDocuments:s?i:void 0,matchedDocument:s?i[0]:void 0,completedAt:s?i[0].uploadedAt:void 0}),T.push({id:"review_summary",type:"review_summary",title:"Review Tax Summary",description:"Client needs to review and approve the tax summary before filing",status:"pending",priority:"low"}),T});Et(()=>{const T=ze().filter(A=>A.status==="pending").length;n.onTasksChange?.(T)});const Se=ut(()=>{const T=ze();return{total:T.length,pending:T.filter(A=>A.status==="pending").length,complete:T.filter(A=>A.status==="complete").length,inProgress:T.filter(A=>A.status==="in_progress").length}}),xe=ut(()=>ze().filter(T=>T.status==="pending")),$e=async()=>{if(xe().length===0){ue("No pending tasks to send");return}K(!0),ue(null);try{const T=Xt.map(A=>({...A,required:A.type==="w2"||xe().some(I=>I.documentType===A.type)}));await bt(n.taxPortal,{taxYear:n?.taxPortal?.taxYear||new Date().getFullYear(),requestedDocuments:T,instructions:Ae()}),he(`Sent ${xe().length} pending tasks to ${n?.taxPortal?.firstName} ${n?.taxPortal?.lastName}`),setTimeout(()=>he(null),5e3)}catch(T){ue(T.message)}finally{K(!1)}},Ae=()=>`Please complete the following tasks:

${xe().map((I,_)=>`${_+1}. ${I.title}: ${I.description}`).join(`
`)}`,Y=async T=>{ye(T.id),ue(null),console.log(n?.taxPortal);try{const A=`${n?.taxPortal?.firstName||""} ${n?.taxPortal?.lastName||""}`.trim(),I=n?.taxPortal?.email,_=n?.taxPortal?.phone,i=[{type:T.type||"other",label:T.title,required:T.priority==="high",uploaded:!1}];await bt(n.taxPortal,{taxYear:n?.taxPortal?.taxYear||new Date().getFullYear(),requestedDocuments:i,instructions:`Please complete the following task:

${T.title}: ${T.description}`,task:T}),he(`Reminder sent for "${T.title}" to ${A}`),setTimeout(()=>he(null),5e3)}catch(A){console.error("Error sending reminder:",A),ue(A.message||"Failed to send reminder")}finally{ye(null)}},De=T=>({high:{label:"High",color:"#ef4444",bg:"rgba(239, 68, 68, 0.1)"},medium:{label:"Medium",color:"#f59e0b",bg:"rgba(245, 158, 11, 0.1)"},low:{label:"Low",color:"#6b7280",bg:"rgba(107, 114, 128, 0.1)"}})[T],q=T=>({pending:{label:"Pending",color:"#f59e0b",bg:"rgba(245, 158, 11, 0.1)"},complete:{label:"Complete",color:"#22c55e",bg:"rgba(34, 197, 94, 0.1)"},in_progress:{label:"In Progress",color:"#3b82f6",bg:"rgba(59, 130, 246, 0.1)"}})[T],re=T=>T?new Date(T).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"",se={display:"flex","flex-direction":"column",gap:"1.5rem"},Ie={display:"flex","justify-content":"space-between","align-items":"flex-start","flex-wrap":"wrap",gap:"1rem"},Ne={"font-size":"1.25rem","font-weight":"600",color:"var(--text-primary, #1f2937)",margin:"0"},Be={display:"flex",gap:"1.5rem","margin-top":"0.5rem"},et={display:"flex","align-items":"center",gap:"0.5rem","font-size":"0.875rem"},tt=T=>({width:"8px",height:"8px","border-radius":"50%",background:T}),Qe=T=>({padding:"0.75rem 1rem","border-radius":"8px","font-size":"0.875rem",background:T==="success"?"rgba(34, 197, 94, 0.1)":"rgba(239, 68, 68, 0.1)",color:T==="success"?"#22c55e":"#ef4444",border:`1px solid ${T==="success"?"#22c55e":"#ef4444"}`,display:"flex","align-items":"center",gap:"0.5rem"}),rt={display:"flex","flex-direction":"column",gap:"0.75rem"},lt=T=>({display:"flex","align-items":"flex-start",gap:"1rem",padding:"1rem",background:T==="complete"?"rgba(34, 197, 94, 0.03)":"var(--surface-color, #ffffff)",border:`1px solid ${T==="complete"?"rgba(34, 197, 94, 0.2)":"var(--border-color, #e5e7eb)"}`,"border-radius":"8px",transition:"all 0.2s ease"}),st={display:"flex","align-items":"center","justify-content":"center","flex-shrink":"0","padding-top":"0.125rem"},Me=T=>({width:"24px",height:"24px","border-radius":"50%",border:T?"none":"2px solid var(--border-color, #d1d5db)",background:T?"#22c55e":"transparent",display:"flex","align-items":"center","justify-content":"center",cursor:"pointer",transition:"all 0.2s ease"}),J={flex:"1","min-width":"0"},_e=T=>({"font-weight":"500","font-size":"0.9375rem",color:T?"var(--text-secondary, #6b7280)":"var(--text-primary, #1f2937)","text-decoration":T?"line-through":"none","margin-bottom":"0.25rem"}),we={"font-size":"0.8125rem",color:"var(--text-muted, #9ca3af)","margin-bottom":"0.5rem"},Le={display:"flex",gap:"0.5rem","flex-wrap":"wrap"},be=T=>({display:"inline-flex","align-items":"center",padding:"0.125rem 0.5rem","border-radius":"4px",background:T.bg,color:T.color,"font-size":"0.6875rem","font-weight":"600","text-transform":"uppercase","letter-spacing":"0.05em"}),Fe={padding:"0.875rem 2rem",background:"var(--primary-color, #3b82f6)",color:"white",border:"none","border-radius":"8px","font-size":"1rem","font-weight":"600",cursor:"pointer",display:"flex","align-items":"center",gap:"0.5rem",transition:"all 0.2s ease","box-shadow":"0 4px 6px rgba(59, 130, 246, 0.25)"},Ye={...Fe,background:"var(--border-color, #d1d5db)",cursor:"not-allowed","box-shadow":"none"},Ze={"font-size":"0.75rem",color:"#22c55e","margin-top":"0.25rem"},We={display:"flex","flex-direction":"column","align-items":"center",padding:"1.5rem",background:"linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(139, 92, 246, 0.1))","border-radius":"12px","margin-bottom":"1rem"};return(()=>{var T=Zr(),A=T.firstChild,I=A.firstChild,_=I.firstChild,i=_.nextSibling,s=i.firstChild,S=s.firstChild,F=S.nextSibling,H=F.firstChild,X=s.nextSibling,R=X.firstChild,b=R.nextSibling,f=b.firstChild;return e(_,Ne),e(i,Be),t(F,()=>Se().pending,H),t(b,()=>Se().complete,f),t(i,c(h,{get when(){return Se().inProgress>0},get children(){var v=Xr(),C=v.firstChild,d=C.nextSibling,y=d.firstChild;return t(d,()=>Se().inProgress,y),x(l=>{var p=et,$=tt("#3b82f6");return l.e=e(v,p,l.e),l.t=e(C,$,l.t),l},{e:void 0,t:void 0}),v}}),null),t(T,c(h,{get when(){return U()},get children(){var v=qr(),C=v.firstChild;return C.style.setProperty("width","16px"),C.style.setProperty("height","16px"),t(v,U,null),x(d=>e(v,Qe("error"),d)),v}}),null),t(T,c(h,{get when(){return fe()},get children(){var v=Gr(),C=v.firstChild;return C.style.setProperty("width","16px"),C.style.setProperty("height","16px"),t(v,fe,null),x(d=>e(v,Qe("success"),d)),v}}),null),t(T,c(h,{get when(){return xe().length>0},get children(){return c(Oe,{get children(){var v=Kr(),C=v.firstChild,d=C.nextSibling,y=d.nextSibling,l=y.firstChild,p=l.nextSibling,$=p.nextSibling,k=$.nextSibling;k.nextSibling;var D=y.nextSibling,M=D.firstChild;return C.style.setProperty("font-size","2.5rem"),C.style.setProperty("margin-bottom","0.5rem"),t(C,()=>xe().length),d.style.setProperty("font-size","1rem"),d.style.setProperty("font-weight","500"),d.style.setProperty("color","var(--text-primary)"),d.style.setProperty("margin-bottom","0.5rem"),y.style.setProperty("font-size","0.875rem"),y.style.setProperty("color","var(--text-secondary)"),y.style.setProperty("margin-bottom","1.5rem"),y.style.setProperty("text-align","center"),t(y,()=>n?.taxPortal?.firstName,p),t(y,()=>n?.taxPortal?.lastName,k),D.$$click=$e,M.style.setProperty("width","20px"),M.style.setProperty("height","20px"),t(D,()=>G()?"Sending...":"Send All Pending to Client",null),x(W=>{var ee=We,w=G()?Ye:Fe,j=G();return W.e=e(v,ee,W.e),W.t=e(D,w,W.t),j!==W.a&&(D.disabled=W.a=j),W},{e:void 0,t:void 0,a:void 0}),v}})}}),null),t(T,c(Oe,{get children(){var v=Jr();return t(v,c(ot,{get each(){return ze()},children:C=>{const d=De(C.priority),y=q(C.status),l=C.status==="complete";return console.log(C),(()=>{var p=li(),$=p.firstChild,k=$.firstChild,D=$.nextSibling,M=D.firstChild,W=M.nextSibling,ee=W.nextSibling,w=ee.firstChild,j=w.nextSibling,ae=j.firstChild;return e($,st),t(k,c(h,{when:l,get children(){var N=ei();return N.style.setProperty("width","14px"),N.style.setProperty("height","14px"),N}})),e(D,J),t(M,()=>C.title),e(W,we),t(W,()=>C.description),t(w,()=>y.label),t(j,()=>d.label,ae),t(ee,c(h,{get when(){return C.documentType&&!C.matchedDocuments},get children(){var N=ti();return t(N,()=>C.documentType),x(le=>e(N,be({color:"#8b5cf6",bg:"rgba(139, 92, 246, 0.1)"}),le)),N}}),null),t(D,c(h,{get when(){return C.matchedDocuments&&C.matchedDocuments.length>0},get children(){var N=ri(),le=N.firstChild,ge=le.firstChild,Pe=ge.nextSibling,a=Pe.nextSibling;a.nextSibling;var L=le.nextSibling;return N.style.setProperty("margin-top","0.75rem"),N.style.setProperty("padding","0.75rem"),N.style.setProperty("background","rgba(34, 197, 94, 0.05)"),N.style.setProperty("border-radius","6px"),N.style.setProperty("border","1px solid rgba(34, 197, 94, 0.2)"),le.style.setProperty("font-size","0.75rem"),le.style.setProperty("font-weight","600"),le.style.setProperty("color","#166534"),le.style.setProperty("margin-bottom","0.5rem"),le.style.setProperty("display","flex"),le.style.setProperty("align-items","center"),le.style.setProperty("gap","0.375rem"),ge.style.setProperty("width","14px"),ge.style.setProperty("height","14px"),t(le,()=>C.matchedDocuments.length,a),L.style.setProperty("display","flex"),L.style.setProperty("flex-direction","column"),L.style.setProperty("gap","0.375rem"),t(L,c(ot,{get each(){return C.matchedDocuments},children:Q=>(()=>{var ie=oi(),ve=ie.firstChild,P=ve.nextSibling;return ie.style.setProperty("display","flex"),ie.style.setProperty("align-items","center"),ie.style.setProperty("gap","0.5rem"),ie.style.setProperty("font-size","0.8125rem"),ie.style.setProperty("color","var(--text-secondary)"),ve.style.setProperty("display","inline-flex"),ve.style.setProperty("padding","0.125rem 0.375rem"),ve.style.setProperty("background","rgba(139, 92, 246, 0.1)"),ve.style.setProperty("color","#8b5cf6"),ve.style.setProperty("border-radius","4px"),ve.style.setProperty("font-size","0.6875rem"),ve.style.setProperty("font-weight","600"),t(ve,()=>pt[Q.drakeFormType||"other"]),P.style.setProperty("max-width","200px"),P.style.setProperty("overflow","hidden"),P.style.setProperty("text-overflow","ellipsis"),P.style.setProperty("white-space","nowrap"),t(P,()=>Q.originalFileName),t(ie,c(h,{get when(){return Q.payerInfo?.name},get children(){var de=ni();return de.firstChild,de.style.setProperty("color","var(--text-muted)"),de.style.setProperty("font-size","0.75rem"),t(de,()=>Q.payerInfo?.name,null),de}}),null),x(()=>mt(P,"title",Q.originalFileName)),ie})()})),N}}),null),t(D,c(h,{get when(){return l&&C.completedAt&&!C.matchedDocuments},get children(){var N=ii();return N.firstChild,e(N,Ze),t(N,()=>re(C.completedAt),null),N}}),null),t(p,c(h,{when:!l,get children(){return c(ct,{variant:"secondary",size:"sm",onClick:()=>Y(C),get disabled(){return Z()===C.id},get children(){return Z()===C.id?"Sending...":"Send Reminder"}})}}),null),x(N=>{var le=lt(C.status),ge=Me(l),Pe=_e(l),a=Le,L=be(y),Q=be(d);return N.e=e(p,le,N.e),N.t=e(k,ge,N.t),N.a=e(M,Pe,N.a),N.o=e(ee,a,N.o),N.i=e(w,L,N.i),N.n=e(j,Q,N.n),N},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),p})()}})),x(C=>e(v,rt,C)),v}}),null),t(T,c(h,{get when(){return Se().pending===0},get children(){return c(Oe,{get children(){var v=Qr(),C=v.firstChild,d=C.firstChild,y=C.nextSibling,l=y.nextSibling,p=l.firstChild;return v.style.setProperty("text-align","center"),v.style.setProperty("padding","2rem"),v.style.setProperty("background","rgba(34, 197, 94, 0.05)"),v.style.setProperty("border-radius","8px"),C.style.setProperty("font-size","3rem"),C.style.setProperty("margin-bottom","0.75rem"),C.style.setProperty("color","#22c55e"),d.style.setProperty("width","48px"),d.style.setProperty("height","48px"),y.style.setProperty("font-size","1.125rem"),y.style.setProperty("font-weight","600"),y.style.setProperty("color","#166534"),y.style.setProperty("margin-bottom","0.5rem"),l.style.setProperty("font-size","0.875rem"),l.style.setProperty("color","#22c55e"),t(l,()=>n?.taxPortal?.firstName,p),v}})}}),null),x(v=>{var C=se,d=Ie,y=et,l=tt("#f59e0b"),p=et,$=tt("#22c55e");return v.e=e(T,C,v.e),v.t=e(A,d,v.t),v.a=e(s,y,v.a),v.o=e(S,l,v.o),v.i=e(X,p,v.i),v.n=e(R,$,v.n),v},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),T})()};gt(["click"]);var ai=u('<svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"clip-rule=evenodd>'),di=u('<svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z"clip-rule=evenodd>'),ci=u('<svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"clip-rule=evenodd>'),yi=u('<button><svg viewBox="0 0 20 20"fill=currentColor><path d="M11 3a1 1 0 10-2 0v1a1 1 0 102 0V3zM15.657 5.757a1 1 0 00-1.414-1.414l-.707.707a1 1 0 001.414 1.414l.707-.707zM18 10a1 1 0 01-1 1h-1a1 1 0 110-2h1a1 1 0 011 1zM5.05 6.464A1 1 0 106.464 5.05l-.707-.707a1 1 0 00-1.414 1.414l.707.707zM5 10a1 1 0 01-1 1H3a1 1 0 110-2h1a1 1 0 011 1zM8 16v-1h4v1a2 2 0 11-4 0zM12 14c.015-.34.208-.646.477-.859a4 4 0 10-4.954 0c.27.213.462.519.476.859h4.002z">'),ui=u("<div><div></div><div>Analyzing <!> document(s)...</div><div>AI is extracting data and verifying information"),St=u("<div>"),gi=u("<div><div></div><div>Generating personalized tax strategies..."),vi=u('<div><h4><svg viewBox="0 0 20 20"fill=currentColor><path d="M11 3a1 1 0 10-2 0v1a1 1 0 102 0V3zM15.657 5.757a1 1 0 00-1.414-1.414l-.707.707a1 1 0 001.414 1.414l.707-.707zM18 10a1 1 0 01-1 1h-1a1 1 0 110-2h1a1 1 0 011 1zM5.05 6.464A1 1 0 106.464 5.05l-.707-.707a1 1 0 00-1.414 1.414l.707.707zM5 10a1 1 0 01-1 1H3a1 1 0 110-2h1a1 1 0 011 1zM8 16v-1h4v1a2 2 0 11-4 0zM12 14c.015-.34.208-.646.477-.859a4 4 0 10-4.954 0c.27.213.462.519.476.859h4.002z"></path></svg>Tax Strategy Suggestions'),mi=u("<div><div>No documents to analyze</div><div>Upload tax documents to begin AI analysis"),pi=u('<div><div>Ready to Analyze</div><div> document(s) available</div><div>Click "Analyze All Documents" to extract data and get insights'),fi=u(`<div><div><div><h3>AI Document Analysis</h3><p>Analyze documents for <!> <!> - Tax Year </p></div><div><button><svg viewBox="0 0 20 20"fill=currentColor><path d="M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29 3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12a1 1 0 11-2 0V4.804z"></path></svg></button></div></div><style>
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
      `),hi=u('<div><div><span></span><span><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"clip-rule=evenodd></path></svg>%</span></div><div></div><div>'),xi=u("<div><span></span><span>"),bi=u("<div>Potential Savings: "),$i=u("<div><div><span></span><span></span></div><p>");const Pi=n=>{const[G,K]=ce(!1),[Z,ye]=ce([]),[fe,he]=ce(!1),[U,ue]=ce(!1),[Ce,pe]=ce([]),[o,ze]=ce(!1),Se=I=>{switch(I){case"good":return{color:"#22c55e",bg:"rgba(34, 197, 94, 0.1)",border:"rgba(34, 197, 94, 0.3)"};case"review":return{color:"#f59e0b",bg:"rgba(245, 158, 11, 0.1)",border:"rgba(245, 158, 11, 0.3)"};case"issue":return{color:"#ef4444",bg:"rgba(239, 68, 68, 0.1)",border:"rgba(239, 68, 68, 0.3)"}}},xe=I=>{switch(I){case"high":return{color:"#ef4444",bg:"rgba(239, 68, 68, 0.1)"};case"medium":return{color:"#f59e0b",bg:"rgba(245, 158, 11, 0.1)"};case"low":return{color:"#3b82f6",bg:"rgba(59, 130, 246, 0.1)"}}},$e=async()=>{K(!0),ye([]),ze(!1);try{await new Promise(_=>setTimeout(_,1500));const I=n.documents.map(_=>{let i="review",s="";_.verified&&_.aiConfidence&&_.aiConfidence>=.9?(i="good",s="Document verified and data extracted successfully"):_.uploadStatus==="error"?(i="issue",s=_.errorMessage||"Error processing document"):_.aiConfidence&&_.aiConfidence<.7?(i="issue",s="Low confidence - manual review required"):_.verified?(i="good",s="Document processed successfully"):(i="review",s="Document needs verification");const S=[];return _.extractedAmounts&&(_.extractedAmounts.wages!==void 0&&S.push({field:"Wages (Box 1)",value:`$${_.extractedAmounts.wages.toLocaleString()}`}),_.extractedAmounts.federalTaxWithheld!==void 0&&S.push({field:"Federal Tax Withheld",value:`$${_.extractedAmounts.federalTaxWithheld.toLocaleString()}`}),_.extractedAmounts.nonEmployeeCompensation!==void 0&&S.push({field:"Non-Employee Compensation",value:`$${_.extractedAmounts.nonEmployeeCompensation.toLocaleString()}`}),_.extractedAmounts.interestIncome!==void 0&&S.push({field:"Interest Income",value:`$${_.extractedAmounts.interestIncome.toLocaleString()}`}),_.extractedAmounts.ordinaryDividends!==void 0&&S.push({field:"Dividends",value:`$${_.extractedAmounts.ordinaryDividends.toLocaleString()}`}),_.extractedAmounts.mortgageInterest!==void 0&&S.push({field:"Mortgage Interest",value:`$${_.extractedAmounts.mortgageInterest.toLocaleString()}`}),_.extractedAmounts.totalAmount!==void 0&&S.length===0&&S.push({field:"Total Amount",value:`$${_.extractedAmounts.totalAmount.toLocaleString()}`})),S.length===0&&S.push({field:"Status",value:"No data extracted yet"}),{documentId:_.id,documentName:_.originalFileName,category:pt[_.drakeFormType||"other"],extractedData:S,confidence:_.aiConfidence||Math.random()*.3+.7,status:i,message:s}});ye(I),ze(!0)}catch(I){console.error("Analysis error:",I)}finally{K(!1)}},Ae=async()=>{ue(!0),he(!0);try{await new Promise(F=>setTimeout(F,1200));let I=0,_=0,i=!1,s=!1;n.documents.forEach(F=>{F.extractedAmounts&&(F.extractedAmounts.wages&&(I+=F.extractedAmounts.wages),F.extractedAmounts.nonEmployeeCompensation&&(I+=F.extractedAmounts.nonEmployeeCompensation,s=!0),F.extractedAmounts.federalTaxWithheld&&(_+=F.extractedAmounts.federalTaxWithheld),F.extractedAmounts.mortgageInterest&&(i=!0))});const S=[];s&&(S.push({title:"Qualified Business Income Deduction",description:"Self-employment income may qualify for the 20% QBI deduction under Section 199A.",potentialSavings:"Up to 20% of qualified business income",priority:"high"}),S.push({title:"Self-Employment Tax Deduction",description:"Deduct 50% of self-employment taxes paid from adjusted gross income.",priority:"high"})),i&&S.push({title:"Itemize vs Standard Deduction",description:"With mortgage interest, compare itemized deductions against the standard deduction.",potentialSavings:"Varies based on total itemized deductions",priority:"medium"}),S.push({title:"Retirement Contribution Review",description:"Verify maximum IRA/401(k) contributions have been made for tax year "+n.taxYear+".",potentialSavings:"Up to $6,500 (IRA) or $23,000 (401k) in deductions",priority:"medium"}),_>I*.25&&S.push({title:"Withholding Adjustment",description:"Consider adjusting W-4 withholding - current withholding appears high relative to income.",priority:"low"}),S.push({title:"Health Savings Account (HSA)",description:"If enrolled in a high-deductible health plan, maximize HSA contributions for triple tax benefits.",potentialSavings:"Up to $4,150 individual / $8,300 family deduction",priority:"medium"}),pe(S)}catch(I){console.error("Strategy error:",I)}finally{ue(!1)}},Y={display:"flex","flex-direction":"column",gap:"1.5rem"},De={display:"flex","justify-content":"space-between","align-items":"center","flex-wrap":"wrap",gap:"1rem"},q={"font-size":"1.25rem","font-weight":"600",color:"var(--text-primary, #1f2937)",margin:"0"},re={"font-size":"0.875rem",color:"var(--text-secondary, #6b7280)","margin-top":"0.25rem"},se={display:"flex",gap:"0.75rem","flex-wrap":"wrap"},Ie=I=>({padding:"0.875rem 1.5rem","font-size":"1rem","font-weight":"600","border-radius":"10px",border:I?"none":"2px solid var(--border-color, #e5e7eb)",background:I?"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)":"white",color:I?"white":"var(--text-primary, #1f2937)",cursor:"pointer",transition:"all 0.2s ease",display:"flex","align-items":"center",gap:"0.5rem","box-shadow":I?"0 4px 12px rgba(59, 130, 246, 0.3)":"none"}),Ne={display:"grid","grid-template-columns":"repeat(auto-fill, minmax(320px, 1fr))",gap:"1rem"},Be=I=>{const _=Se(I);return{padding:"1.25rem","border-radius":"12px",border:`1px solid ${_.border}`,background:_.bg,transition:"all 0.2s ease"}},et={display:"flex","justify-content":"space-between","align-items":"flex-start","margin-bottom":"1rem"},tt={display:"inline-block",padding:"0.25rem 0.75rem","border-radius":"6px",background:"rgba(59, 130, 246, 0.1)",color:"#3b82f6","font-size":"0.75rem","font-weight":"600"},Qe=I=>{let _="#22c55e";return I<.7?_="#ef4444":I<.9&&(_="#f59e0b"),{display:"flex","align-items":"center",gap:"0.375rem","font-size":"0.75rem","font-weight":"600",color:_}},rt={"font-weight":"600","font-size":"0.9375rem",color:"var(--text-primary, #1f2937)","margin-bottom":"0.5rem","word-break":"break-word"},lt={display:"flex","justify-content":"space-between",padding:"0.375rem 0","font-size":"0.8125rem","border-bottom":"1px solid rgba(0,0,0,0.05)"},st={color:"var(--text-secondary, #6b7280)"},Me={"font-weight":"600",color:"var(--text-primary, #1f2937)"},J=I=>({"margin-top":"0.75rem",padding:"0.5rem 0.75rem","border-radius":"6px",background:"rgba(255,255,255,0.5)","font-size":"0.8125rem",color:Se(I).color,display:"flex","align-items":"center",gap:"0.375rem"}),_e=I=>({padding:"1.25rem","border-radius":"12px",border:"1px solid var(--border-color, #e5e7eb)",background:"white","margin-bottom":"1rem"}),we={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"0.5rem"},Le={"font-weight":"600","font-size":"1rem",color:"var(--text-primary, #1f2937)"},be=I=>{const _=xe(I);return{padding:"0.25rem 0.625rem","border-radius":"9999px",background:_.bg,color:_.color,"font-size":"0.6875rem","font-weight":"700","text-transform":"uppercase"}},Fe={"font-size":"0.875rem",color:"var(--text-secondary, #6b7280)","line-height":"1.5"},Ye={"margin-top":"0.75rem",padding:"0.5rem 0.75rem",background:"rgba(34, 197, 94, 0.1)","border-radius":"6px","font-size":"0.8125rem",color:"#22c55e","font-weight":"600"},Ze={"text-align":"center",padding:"3rem",color:"var(--text-secondary, #6b7280)"},We={display:"flex","flex-direction":"column","align-items":"center","justify-content":"center",padding:"3rem",gap:"1rem"},T={width:"40px",height:"40px",border:"3px solid var(--border-color, #e5e7eb)","border-top-color":"var(--primary-color, #3b82f6)","border-radius":"50%",animation:"spin 1s linear infinite"},A=I=>{switch(I){case"good":return(()=>{var _=ai();return _.style.setProperty("width","14px"),_.style.setProperty("height","14px"),_})();case"review":return(()=>{var _=di();return _.style.setProperty("width","14px"),_.style.setProperty("height","14px"),_})();case"issue":return(()=>{var _=ci();return _.style.setProperty("width","14px"),_.style.setProperty("height","14px"),_})()}};return(()=>{var I=fi(),_=I.firstChild,i=_.firstChild,s=i.firstChild,S=s.nextSibling,F=S.firstChild,H=F.nextSibling,X=H.nextSibling,R=X.nextSibling;R.nextSibling;var b=i.nextSibling,f=b.firstChild,v=f.firstChild,C=_.nextSibling;return e(S,re),t(S,()=>n.client.firstName,H),t(S,()=>n.client.lastName,R),t(S,()=>n.taxYear,null),f.$$click=$e,v.style.setProperty("width","20px"),v.style.setProperty("height","20px"),t(f,()=>G()?"Analyzing...":"Analyze All Documents",null),t(b,c(h,{get when(){return o()},get children(){var d=yi(),y=d.firstChild;return d.$$click=Ae,y.style.setProperty("width","20px"),y.style.setProperty("height","20px"),t(d,()=>U()?"Loading...":"Tax Strategy",null),x(l=>{var p=Ie(!1),$=U();return l.e=e(d,p,l.e),$!==l.t&&(d.disabled=l.t=$),l},{e:void 0,t:void 0}),d}}),null),t(I,c(h,{get when(){return G()},get children(){return c(Oe,{get children(){var d=ui(),y=d.firstChild,l=y.nextSibling,p=l.firstChild,$=p.nextSibling;$.nextSibling;var k=l.nextSibling;return l.style.setProperty("font-weight","600"),l.style.setProperty("color","var(--text-primary)"),t(l,()=>n.documents.length,$),k.style.setProperty("font-size","0.875rem"),k.style.setProperty("color","var(--text-secondary)"),x(D=>{var M=We,W=T;return D.e=e(d,M,D.e),D.t=e(y,W,D.t),D},{e:void 0,t:void 0}),d}})}}),C),t(I,c(h,{get when(){return me(()=>!G())()&&Z().length>0},get children(){var d=St();return e(d,Ne),t(d,c(ot,{get each(){return Z()},children:y=>(()=>{var l=hi(),p=l.firstChild,$=p.firstChild,k=$.nextSibling,D=k.firstChild,M=D.nextSibling,W=p.nextSibling,ee=W.nextSibling;return e(p,et),e($,tt),t($,()=>y.category),D.style.setProperty("width","12px"),D.style.setProperty("height","12px"),t(k,()=>Math.round(y.confidence*100),M),t(W,()=>y.documentName),t(ee,c(ot,{get each(){return y.extractedData},children:w=>(()=>{var j=xi(),ae=j.firstChild,N=ae.nextSibling;return e(j,lt),e(ae,st),t(ae,()=>w.field),e(N,Me),t(N,()=>w.value),j})()})),t(l,c(h,{get when(){return y.message},get children(){var w=St();return t(w,()=>A(y.status),null),t(w,()=>y.message,null),x(j=>e(w,J(y.status),j)),w}}),null),x(w=>{var j=Be(y.status),ae=Qe(y.confidence),N=rt;return w.e=e(l,j,w.e),w.t=e(k,ae,w.t),w.a=e(W,N,w.a),w},{e:void 0,t:void 0,a:void 0}),l})()})),d}}),C),t(I,c(h,{get when(){return fe()},get children(){return c(Oe,{get children(){var d=vi(),y=d.firstChild,l=y.firstChild;return d.style.setProperty("padding","0.5rem"),l.style.setProperty("width","20px"),l.style.setProperty("height","20px"),l.style.setProperty("vertical-align","middle"),l.style.setProperty("margin-right","0.5rem"),l.style.setProperty("color","#f59e0b"),t(d,c(h,{get when(){return U()},get children(){var p=gi(),$=p.firstChild,k=$.nextSibling;return k.style.setProperty("font-size","0.875rem"),k.style.setProperty("color","var(--text-secondary)"),x(D=>{var M=We,W=T;return D.e=e(p,M,D.e),D.t=e($,W,D.t),D},{e:void 0,t:void 0}),p}}),null),t(d,c(h,{get when(){return me(()=>!U())()&&Ce().length>0},get children(){return c(ot,{get each(){return Ce()},children:p=>(()=>{var $=$i(),k=$.firstChild,D=k.firstChild,M=D.nextSibling,W=k.nextSibling;return e(k,we),e(D,Le),t(D,()=>p.title),t(M,()=>p.priority),e(W,Fe),t(W,()=>p.description),t($,c(h,{get when(){return p.potentialSavings},get children(){var ee=bi();return ee.firstChild,e(ee,Ye),t(ee,()=>p.potentialSavings,null),ee}}),null),x(ee=>{var w=_e(p.priority),j=be(p.priority);return ee.e=e($,w,ee.e),ee.t=e(M,j,ee.t),ee},{e:void 0,t:void 0}),$})()})}}),null),x(p=>e(y,{...q,"margin-bottom":"1rem"},p)),d}})}}),C),t(I,c(h,{get when(){return!G()&&Z().length===0&&n.documents.length===0},get children(){return c(Oe,{get children(){var d=mi(),y=d.firstChild,l=y.nextSibling;return y.style.setProperty("font-size","3rem"),y.style.setProperty("margin-bottom","1rem"),l.style.setProperty("font-size","1rem"),x(p=>e(d,Ze,p)),d}})}}),C),t(I,c(h,{get when(){return!G()&&Z().length===0&&n.documents.length>0},get children(){return c(Oe,{get children(){var d=pi(),y=d.firstChild,l=y.nextSibling,p=l.firstChild,$=l.nextSibling;return y.style.setProperty("font-size","3rem"),y.style.setProperty("margin-bottom","1rem"),l.style.setProperty("font-size","1rem"),l.style.setProperty("margin-bottom","0.5rem"),t(l,()=>n.documents.length,p),$.style.setProperty("font-size","0.875rem"),x(k=>e(d,Ze,k)),d}})}}),C),x(d=>{var y=Y,l=De,p=q,$=se,k=Ie(!0),D=G()||n.documents.length===0;return d.e=e(I,y,d.e),d.t=e(_,l,d.t),d.a=e(s,p,d.a),d.o=e(b,$,d.o),d.i=e(f,k,d.i),D!==d.n&&(f.disabled=d.n=D),d},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),I})()};gt(["click"]);function Je(n){if(n==null)return"";const G=String(n);return G.includes(",")||G.includes('"')||G.includes(`
`)||G.includes("\r")?`"${G.replace(/"/g,'""')}"`:G}function Ct(n){if(!n.ss)return null;const G=n.ss.replace(/\D/g,"");return G.length!==9?null:G}function Si(n,G,K){const Z=[];if(!n.extractedAmounts||!n.drakeFormType)return Z;const ye=Gt[n.drakeFormType];if(!ye)return Z;const fe=Kt(n.drakeFormType,n.extractedAmounts),he=Ct(G),U=he?Jt(he):"",ue=G.firstName||"",Ce=G.lastName||"",pe=G.middleName?G.middleName.charAt(0).toUpperCase():void 0,o=n.payerInfo;for(const{box:ze,value:Se}of fe){const xe={SSN:U,firstName:ue,lastName:Ce,middleInitial:pe,taxYear:K,formType:ye.formCode,boxNumber:ze.boxNumber,amount:Se,description:ze.description,payerName:o?.name,payerEIN:o?.ein?ft(o.ein):void 0,payerAddress:o?[o.address,o.city,o.state,o.zip].filter(Boolean).join(", "):void 0,state:o?.state,stateId:void 0};n.drakeFormType==="w2"&&o&&(xe.employerName=o.name,xe.employerEIN=o.ein?ft(o.ein):void 0,xe.employerAddress=xe.payerAddress),n.drakeFormType==="1098"&&n.extractedAmounts.propertyAddress&&(xe.propertyAddress=n.extractedAmounts.propertyAddress),["1098_t","1099_int","1099_div"].includes(n.drakeFormType)&&o&&(xe.institutionName=o.name,xe.institutionEIN=o.ein?ft(o.ein):void 0),Z.push(xe)}return Z}function _i(n,G){const K=[];K.push(Zt.join(","));for(const Z of n){const ye=[Je(Z.SSN),Je(Z.firstName),Je(Z.middleInitial),Je(Z.lastName),Je(Z.suffix),Je(Z.taxYear),Je(Z.formType),Je(Z.boxNumber),Je(Qt(Z.amount)),Je(Z.description),Je(Z.payerName),Je(Z.payerEIN),Je(Z.payerAddress),Je(Z.state),Je(Z.stateId)];K.push(ye.join(","))}return K.join(`
`)}function wi(n,G){const K=new Blob([n],{type:"text/csv;charset=utf-8;"}),Z=URL.createObjectURL(K),ye=document.createElement("a");ye.href=Z,ye.download=G,document.body.appendChild(ye),ye.click(),document.body.removeChild(ye),URL.revokeObjectURL(Z)}function Ci(n,G,K){const Z=[],ye=[];if(!Ct(n))return{success:!1,recordCount:0,totalIncome:0,totalWithholding:0,errors:["Client SSN is missing or invalid. Cannot generate export."]};if(!n.firstName||!n.lastName)return{success:!1,recordCount:0,totalIncome:0,totalWithholding:0,errors:["Client first name and last name are required."]};const he=G.filter($e=>!(!$e.verified||$e.drakeFormType==="w2"&&K.includeW2===!1||["1099_misc","1099_nec","1099_int","1099_div"].includes($e.drakeFormType||"")&&K.include1099===!1||["1098","1098_t"].includes($e.drakeFormType||"")&&K.include1098===!1||$e.drakeFormType==="schedule_k1"&&K.includeK1===!1||$e.drakeFormType==="receipt"&&K.includeReceipts===!1));if(he.length===0)return{success:!1,recordCount:0,totalIncome:0,totalWithholding:0,errors:["No verified documents available for export with the current filter settings."]};const U=[];let ue=0,Ce=0;for(const $e of he)try{const Ae=Si($e,n,K.taxYear);U.push(...Ae);for(const Y of Ae)(Y.formType==="W2"&&Y.boxNumber==="1"||Y.formType==="1099NEC"&&Y.boxNumber==="1"||Y.formType==="1099MISC"&&["1","2","3"].includes(Y.boxNumber)||Y.formType==="1099INT"&&Y.boxNumber==="1"||Y.formType==="1099DIV"&&Y.boxNumber==="1a"||Y.formType==="K1"&&["1","4","5","6a"].includes(Y.boxNumber))&&(ue+=Y.amount),(Y.formType==="W2"&&Y.boxNumber==="2"||Y.formType==="1099NEC"&&Y.boxNumber==="4"||Y.formType==="1099MISC"&&Y.boxNumber==="4"||Y.formType==="1099INT"&&Y.boxNumber==="4"||Y.formType==="1099DIV"&&Y.boxNumber==="4")&&(Ce+=Y.amount)}catch(Ae){ye.push(`Error processing document "${$e.originalFileName}": ${Ae instanceof Error?Ae.message:"Unknown error"}`)}if(U.length===0)return{success:!1,recordCount:0,totalIncome:0,totalWithholding:0,errors:["No records were generated from the documents. Please verify that documents have extracted amounts."]};const pe=_i(U),o=`${n.lastName}_${n.firstName}`.replace(/\s+/g,"_"),ze=new Date().toISOString().slice(0,10).replace(/-/g,""),xe=`Drake_${o}_${K.taxYear}_${ze}.csv`;return{success:!0,csvData:pe,fileName:xe,recordCount:U.length,totalIncome:ue,totalWithholding:Ce,errors:Z.length>0?Z:void 0,warnings:ye.length>0?ye:void 0,exportedAt:Date.now()}}var zi=u('<svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"clip-rule=evenodd>'),Ii=u("<div><div><div></div></div><div>"),ki=u("<div><div></div><div>Errors"),Ti=u("<div><div><div></div><div>Total Documents</div></div><div><div></div><div>Verified</div></div><div><div></div><div>Pending Review"),Ai=u("<div><div></div>Calculating..."),Ni=u("<div><div></div>Exporting..."),Di=u("<div><button></button><button>"),Mi=u('<svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"clip-rule=evenodd>'),Li=u('<svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"clip-rule=evenodd>'),Bi=u("<div><div>"),Fi=u('<h4><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V4a2 2 0 00-2-2H6zm1 2a1 1 0 000 2h6a1 1 0 100-2H7zm6 7a1 1 0 011 1v3a1 1 0 11-2 0v-3a1 1 0 011-1zm-3 3a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zm-2-2a1 1 0 011 1v2a1 1 0 11-2 0v-2a1 1 0 011-1z"clip-rule=evenodd></path></svg>Tax Calculation Results'),Ei=u("<div><div>$</div><div>Estimated Refund"),Ri=u("<div><div>$</div><div>Estimated Amount Owed"),Wi=u("<div><div><div>$</div><div>Total Income</div></div><div><div>$</div><div>Total Withholding"),Ui=u("<p>* This is a preliminary estimate. Actual results may vary based on deductions, credits, and filing status."),Hi=u('<h4><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.707l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 001.414 1.414L9 9.414V13a1 1 0 102 0V9.414l1.293 1.293a1 1 0 001.414-1.414z"clip-rule=evenodd></path></svg>Advance to Next Step'),Oi=u('<div><div><div>Review with Client</div><div>Review calculation results and prepare return</div></div><button><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"clip-rule=evenodd></path></svg>Mark Review Complete'),Vi=u('<div><div><div>Client Signatures</div><div>Request client to sign tax return</div></div><button><svg viewBox="0 0 20 20"fill=currentColor><path d="M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"></path><path fill-rule=evenodd d="M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"clip-rule=evenodd></path></svg>Mark Signatures Obtained'),ji=u('<div><div><div>File Tax Return</div><div>Mark return as filed with IRS</div></div><button><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"clip-rule=evenodd></path></svg>Mark as Filed'),Yi=u("<div>"),Xi=u(`<div><div><svg viewBox="0 0 20 20"fill=#22c55e><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"clip-rule=evenodd></path></svg></div><h3>Tax Return Filed!</h3><p>'s <!> tax return has been successfully filed.`),qi=u("<li>Review and verify <!> pending document(s)"),Gi=u("<li>Resolve <!> document error(s)"),Ki=u("<li>Run tax calculation to see estimated results"),Ji=u("<li>Review calculation results with client"),Qi=u("<li>Export data to Drake Tax Software"),Zi=u("<li>Complete and file return"),el=u("<li>Upload tax documents to begin"),tl=u(`<div><div><div><h3>Tax Preparation Progress</h3><p> <!> - Tax Year </p></div></div><div><div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"clip-rule=evenodd></path></svg>Next Steps</div><ul></ul></div><style>
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
      `),rl=u("<div><div></div><span>"),il=u('<svg viewBox="0 0 20 20"fill=currentColor><path d="M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V4a2 2 0 00-2-2H6zm1 2a1 1 0 000 2h6a1 1 0 100-2H7zm6 7a1 1 0 011 1v3a1 1 0 11-2 0v-3a1 1 0 011-1zm-3 3a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zm-2-2a1 1 0 011 1v2a1 1 0 11-2 0v-2a1 1 0 011-1z">'),ll=u('<svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"clip-rule=evenodd>');const ht=[{id:"documents_collected",label:"Documents Collected",description:"All tax documents uploaded"},{id:"verified",label:"Verified",description:"Documents reviewed and verified"},{id:"calculations",label:"Calculations",description:"Tax calculations complete"},{id:"review",label:"Review",description:"Final review by preparer"},{id:"signatures",label:"Signatures",description:"Client signatures obtained"},{id:"filing",label:"Filing",description:"Return filed with IRS"}],nl=n=>{const[G,K]=ce(!1),[Z,ye]=ce(!1),[fe,he]=ce(null),[U,ue]=ce(null),[Ce,pe]=ce(!1),[o,ze]=ce(!1),[Se,xe]=ce(!1),$e=ut(()=>{const i=n.documents,s=i.length,S=i.filter(F=>F.verified).length;return Se()?"filing":o()?"signatures":Ce()?"review":fe()?"calculations":s>0&&S===s?"verified":"documents_collected"}),Ae=i=>ht.findIndex(s=>s.id===i),Y=ut(()=>{const i=n.documents;return{total:i.length,verified:i.filter(s=>s.verified).length,pending:i.filter(s=>!s.verified&&s.uploadStatus!=="error").length,errors:i.filter(s=>s.uploadStatus==="error").length}}),De=async()=>{K(!0),ue(null);try{await new Promise(R=>setTimeout(R,1500));let i=0,s=0;n.documents.forEach(R=>{R.verified&&R.extractedAmounts&&(R.extractedAmounts.wages&&(i+=R.extractedAmounts.wages),R.extractedAmounts.nonEmployeeCompensation&&(i+=R.extractedAmounts.nonEmployeeCompensation),R.extractedAmounts.interestIncome&&(i+=R.extractedAmounts.interestIncome),R.extractedAmounts.ordinaryDividends&&(i+=R.extractedAmounts.ordinaryDividends),R.extractedAmounts.otherIncome&&(i+=R.extractedAmounts.otherIncome),R.extractedAmounts.rents&&(i+=R.extractedAmounts.rents),R.extractedAmounts.royalties&&(i+=R.extractedAmounts.royalties),R.extractedAmounts.federalTaxWithheld&&(s+=R.extractedAmounts.federalTaxWithheld),R.extractedAmounts.federalTaxWithheld1099&&(s+=R.extractedAmounts.federalTaxWithheld1099))});const S=n.client.filingStatus==="married_filing_jointly"?29200:14600,F=Math.max(0,i-S);let H=0;F<=11600?H=F*.1:F<=47150?H=1160+(F-11600)*.12:F<=100525?H=5426+(F-47150)*.22:H=17168.5+(F-100525)*.24;const X=s-H;he({totalIncome:i,totalWithholding:s,estimatedRefund:X>0?X:0,estimatedOwed:X<0?Math.abs(X):0})}catch{ue({type:"error",text:"Error running tax calculation"})}finally{K(!1)}},q=async()=>{ye(!0),ue(null);try{const i={id:n.client.id,firstName:n.client.firstName,middleName:n.client.middleName,lastName:n.client.lastName,ss:n.client.ssn,residences:n.client.address?{current:{addressLineOne:n.client.address,city:n.client.city,state:n.client.state,zipcode:n.client.zipCode}}:void 0},s=Ci(i,n.documents,{taxYear:n.taxYear,clientId:n.client.id,outputFormat:"csv",includeHeaders:!0});s.success&&s.csvData&&s.fileName?(wi(s.csvData,s.fileName),ue({type:"success",text:`Successfully exported ${s.recordCount} records to ${s.fileName}`})):ue({type:"error",text:s.errors?.[0]||"Export failed"})}catch(i){ue({type:"error",text:i.message||"Error exporting to Drake"})}finally{ye(!1)}},re={display:"flex","flex-direction":"column",gap:"1.5rem"},se={display:"flex","justify-content":"space-between","align-items":"center","flex-wrap":"wrap",gap:"1rem"},Ie={"font-size":"1.25rem","font-weight":"600",color:"var(--text-primary, #1f2937)",margin:"0"},Ne={"font-size":"0.875rem",color:"var(--text-secondary, #6b7280)","margin-top":"0.25rem"},Be={position:"relative",padding:"2rem 1rem"},et={display:"flex","justify-content":"space-between",position:"relative"},tt={position:"absolute",top:"20px",left:"50px",right:"50px",height:"4px",background:"var(--border-color, #e5e7eb)","z-index":"0"},Qe=i=>({position:"absolute",top:"0",left:"0",height:"100%",width:`${i}%`,background:"linear-gradient(90deg, #22c55e 0%, #3b82f6 100%)","border-radius":"2px",transition:"width 0.5s ease"}),rt=(i,s,S)=>({display:"flex","flex-direction":"column","align-items":"center",gap:"0.5rem",position:"relative","z-index":"1",flex:"1","max-width":"120px"}),lt=(i,s,S)=>({width:S?"44px":"40px",height:S?"44px":"40px","border-radius":"50%",display:"flex","align-items":"center","justify-content":"center",background:s?"linear-gradient(135deg, #22c55e 0%, #16a34a 100%)":S?"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)":"white",border:s||S?"none":"2px solid var(--border-color, #e5e7eb)",color:s||S?"white":"var(--text-secondary, #6b7280)","font-weight":"600","font-size":"0.875rem",transition:"all 0.3s ease","box-shadow":S?"0 4px 12px rgba(59, 130, 246, 0.4)":s?"0 4px 12px rgba(34, 197, 94, 0.3)":"none"}),st=(i,s)=>({"font-size":"0.75rem","font-weight":s?"700":"500",color:s?"var(--primary-color, #3b82f6)":i?"var(--text-primary, #1f2937)":"var(--text-secondary, #6b7280)","text-align":"center","max-width":"100px",transition:"all 0.2s ease"}),Me={display:"flex",gap:"1rem","flex-wrap":"wrap","justify-content":"center","margin-top":"1rem"},J=(i,s)=>({padding:"1rem 2rem","font-size":"1rem","font-weight":"600","border-radius":"12px",border:i==="secondary"?"2px solid var(--border-color, #e5e7eb)":"none",background:s?"var(--surface-alt, #f3f4f6)":i==="primary"?"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)":i==="success"?"linear-gradient(135deg, #22c55e 0%, #16a34a 100%)":"white",color:s?"var(--text-secondary, #6b7280)":i==="secondary"?"var(--text-primary, #1f2937)":"white",cursor:s?"not-allowed":"pointer",transition:"all 0.2s ease",display:"flex","align-items":"center",gap:"0.75rem","box-shadow":s?"none":i==="primary"?"0 4px 12px rgba(59, 130, 246, 0.3)":i==="success"?"0 4px 12px rgba(34, 197, 94, 0.3)":"0 2px 8px rgba(0, 0, 0, 0.08)","min-width":"200px","justify-content":"center"}),_e={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem","margin-top":"1rem"},we=i=>({padding:"1.25rem","border-radius":"12px",background:`linear-gradient(135deg, ${i}08 0%, ${i}15 100%)`,border:`1px solid ${i}30`,"text-align":"center"}),Le=i=>({"font-size":"1.75rem","font-weight":"700",color:i,"margin-bottom":"0.25rem"}),be={"font-size":"0.8125rem",color:"var(--text-secondary, #6b7280)","font-weight":"500"},Fe=i=>({padding:"1rem 1.25rem","border-radius":"10px","font-size":"0.9375rem",background:i==="success"?"rgba(34, 197, 94, 0.1)":"rgba(239, 68, 68, 0.1)",color:i==="success"?"#22c55e":"#ef4444",border:`1px solid ${i==="success"?"#22c55e":"#ef4444"}`,display:"flex","align-items":"center",gap:"0.75rem","font-weight":"500"}),Ye={"margin-top":"1.5rem",padding:"1.25rem","border-radius":"12px",background:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)",border:"1px solid #bae6fd"},Ze={"font-size":"0.9375rem","font-weight":"600",color:"#0369a1","margin-bottom":"0.75rem",display:"flex","align-items":"center",gap:"0.5rem"},We={margin:"0","padding-left":"1.5rem","font-size":"0.875rem",color:"#0c4a6e","line-height":"1.75"},T={display:"flex","align-items":"center","justify-content":"center",gap:"0.5rem",padding:"0.5rem"},A={width:"20px",height:"20px",border:"2px solid rgba(255,255,255,0.3)","border-top-color":"white","border-radius":"50%",animation:"spin 1s linear infinite"},I=ut(()=>Ae($e())/(ht.length-1)*100),_=()=>(()=>{var i=zi();return i.style.setProperty("width","20px"),i.style.setProperty("height","20px"),i})();return(()=>{var i=tl(),s=i.firstChild,S=s.firstChild,F=S.firstChild,H=F.nextSibling,X=H.firstChild,R=X.nextSibling;R.nextSibling;var b=s.nextSibling,f=b.firstChild,v=f.firstChild,C=f.nextSibling;return e(H,Ne),t(H,()=>n.client.firstName,X),t(H,()=>n.client.lastName,R),t(H,()=>n.taxYear,null),t(i,c(Oe,{get children(){return[(()=>{var d=Ii(),y=d.firstChild,l=y.firstChild,p=y.nextSibling;return t(p,c(ot,{each:ht,children:($,k)=>{const D=Ae($e()),M=k()<D,W=k()===D,ee=k()<=D;return(()=>{var w=rl(),j=w.firstChild,ae=j.nextSibling;return t(j,c(h,{when:M,get fallback(){return k()+1},get children(){return c(_,{})}})),t(ae,()=>$.label),x(N=>{var le=rt(),ge=lt(ee,M,W),Pe=st(ee,W);return N.e=e(w,le,N.e),N.t=e(j,ge,N.t),N.a=e(ae,Pe,N.a),N},{e:void 0,t:void 0,a:void 0}),w})()}})),x($=>{var k=Be,D=tt,M=Qe(I()),W=et;return $.e=e(d,k,$.e),$.t=e(y,D,$.t),$.a=e(l,M,$.a),$.o=e(p,W,$.o),$},{e:void 0,t:void 0,a:void 0,o:void 0}),d})(),(()=>{var d=Ti(),y=d.firstChild,l=y.firstChild,p=l.nextSibling,$=y.nextSibling,k=$.firstChild,D=k.nextSibling,M=$.nextSibling,W=M.firstChild,ee=W.nextSibling;return t(l,()=>Y().total),t(k,()=>Y().verified),t(W,()=>Y().pending),t(d,c(h,{get when(){return Y().errors>0},get children(){var w=ki(),j=w.firstChild,ae=j.nextSibling;return t(j,()=>Y().errors),x(N=>{var le=we("#ef4444"),ge=Le("#ef4444"),Pe=be;return N.e=e(w,le,N.e),N.t=e(j,ge,N.t),N.a=e(ae,Pe,N.a),N},{e:void 0,t:void 0,a:void 0}),w}}),null),x(w=>{var j=_e,ae=we("#3b82f6"),N=Le("#3b82f6"),le=be,ge=we("#22c55e"),Pe=Le("#22c55e"),a=be,L=we("#f59e0b"),Q=Le("#f59e0b"),ie=be;return w.e=e(d,j,w.e),w.t=e(y,ae,w.t),w.a=e(l,N,w.a),w.o=e(p,le,w.o),w.i=e($,ge,w.i),w.n=e(k,Pe,w.n),w.s=e(D,a,w.s),w.h=e(M,L,w.h),w.r=e(W,Q,w.r),w.d=e(ee,ie,w.d),w},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0}),d})(),(()=>{var d=Di(),y=d.firstChild,l=y.nextSibling;return y.$$click=De,t(y,c(h,{get when(){return G()},get fallback(){return[(()=>{var p=il();return p.style.setProperty("width","20px"),p.style.setProperty("height","20px"),p})(),"Run Tax Calculation"]},get children(){var p=Ai(),$=p.firstChild;return x(k=>{var D=T,M=A;return k.e=e(p,D,k.e),k.t=e($,M,k.t),k},{e:void 0,t:void 0}),p}})),l.$$click=q,t(l,c(h,{get when(){return Z()},get fallback(){return[(()=>{var p=ll();return p.style.setProperty("width","20px"),p.style.setProperty("height","20px"),p})(),"Export to Drake"]},get children(){var p=Ni(),$=p.firstChild;return x(k=>{var D=T,M=A;return k.e=e(p,D,k.e),k.t=e($,M,k.t),k},{e:void 0,t:void 0}),p}})),x(p=>{var $=Me,k=J("primary",G()||Y().verified===0),D=G()||Y().verified===0,M=J("success",Z()||Y().verified===0),W=Z()||Y().verified===0;return p.e=e(d,$,p.e),p.t=e(y,k,p.t),D!==p.a&&(y.disabled=p.a=D),p.o=e(l,M,p.o),W!==p.i&&(l.disabled=p.i=W),p},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),d})(),c(h,{get when(){return U()},get children(){var d=Bi(),y=d.firstChild;return d.style.setProperty("margin-top","1rem"),t(y,c(h,{get when(){return U().type==="success"},get children(){var l=Mi();return l.style.setProperty("width","20px"),l.style.setProperty("height","20px"),l}}),null),t(y,c(h,{get when(){return U().type==="error"},get children(){var l=Li();return l.style.setProperty("width","20px"),l.style.setProperty("height","20px"),l}}),null),t(y,()=>U().text,null),x(l=>e(y,Fe(U().type),l)),d}})]}}),b),t(i,c(h,{get when(){return fe()},get children(){return c(Oe,{get children(){return[(()=>{var d=Fi(),y=d.firstChild;return y.style.setProperty("width","20px"),y.style.setProperty("height","20px"),y.style.setProperty("vertical-align","middle"),y.style.setProperty("margin-right","0.5rem"),y.style.setProperty("color","#22c55e"),x(l=>e(d,{...Ie,"margin-bottom":"1rem"},l)),d})(),(()=>{var d=Wi(),y=d.firstChild,l=y.firstChild;l.firstChild;var p=l.nextSibling,$=y.nextSibling,k=$.firstChild;k.firstChild;var D=k.nextSibling;return t(l,()=>fe().totalIncome.toLocaleString(),null),t(k,()=>fe().totalWithholding.toLocaleString(),null),t(d,c(h,{get when(){return fe().estimatedRefund>0},get children(){var M=Ei(),W=M.firstChild;W.firstChild;var ee=W.nextSibling;return t(W,()=>fe().estimatedRefund.toLocaleString(),null),x(w=>{var j=we("#22c55e"),ae=Le("#22c55e"),N=be;return w.e=e(M,j,w.e),w.t=e(W,ae,w.t),w.a=e(ee,N,w.a),w},{e:void 0,t:void 0,a:void 0}),M}}),null),t(d,c(h,{get when(){return fe().estimatedOwed>0},get children(){var M=Ri(),W=M.firstChild;W.firstChild;var ee=W.nextSibling;return t(W,()=>fe().estimatedOwed.toLocaleString(),null),x(w=>{var j=we("#ef4444"),ae=Le("#ef4444"),N=be;return w.e=e(M,j,w.e),w.t=e(W,ae,w.t),w.a=e(ee,N,w.a),w},{e:void 0,t:void 0,a:void 0}),M}}),null),x(M=>{var W=_e,ee=we("#3b82f6"),w=Le("#3b82f6"),j=be,ae=we("#8b5cf6"),N=Le("#8b5cf6"),le=be;return M.e=e(d,W,M.e),M.t=e(y,ee,M.t),M.a=e(l,w,M.a),M.o=e(p,j,M.o),M.i=e($,ae,M.i),M.n=e(k,N,M.n),M.s=e(D,le,M.s),M},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),d})(),(()=>{var d=Ui();return d.style.setProperty("font-size","0.75rem"),d.style.setProperty("color","var(--text-muted)"),d.style.setProperty("margin-top","1rem"),d.style.setProperty("text-align","center"),d})()]}})}}),b),t(i,c(h,{get when(){return me(()=>!!fe())()&&!Se()},get children(){return c(Oe,{get children(){return[(()=>{var d=Hi(),y=d.firstChild;return y.style.setProperty("width","20px"),y.style.setProperty("height","20px"),y.style.setProperty("vertical-align","middle"),y.style.setProperty("margin-right","0.5rem"),y.style.setProperty("color","#3b82f6"),x(l=>e(d,{...Ie,"margin-bottom":"1rem"},l)),d})(),(()=>{var d=Yi();return d.style.setProperty("display","flex"),d.style.setProperty("flex-direction","column"),d.style.setProperty("gap","1rem"),t(d,c(h,{get when(){return!Ce()},get children(){var y=Oi(),l=y.firstChild,p=l.firstChild,$=p.nextSibling,k=l.nextSibling,D=k.firstChild;return y.style.setProperty("display","flex"),y.style.setProperty("align-items","center"),y.style.setProperty("justify-content","space-between"),y.style.setProperty("padding","1rem"),y.style.setProperty("background","var(--surface-alt, #f9fafb)"),y.style.setProperty("border-radius","8px"),y.style.setProperty("border","1px solid var(--border-color, #e5e7eb)"),p.style.setProperty("font-weight","600"),p.style.setProperty("margin-bottom","0.25rem"),$.style.setProperty("font-size","0.875rem"),$.style.setProperty("color","var(--text-secondary)"),k.$$click=()=>pe(!0),D.style.setProperty("width","18px"),D.style.setProperty("height","18px"),x(M=>e(k,J("primary",!1),M)),y}}),null),t(d,c(h,{get when(){return me(()=>!!Ce())()&&!o()},get children(){var y=Vi(),l=y.firstChild,p=l.firstChild,$=p.nextSibling,k=l.nextSibling,D=k.firstChild;return y.style.setProperty("display","flex"),y.style.setProperty("align-items","center"),y.style.setProperty("justify-content","space-between"),y.style.setProperty("padding","1rem"),y.style.setProperty("background","linear-gradient(135deg, rgba(139, 92, 246, 0.05), rgba(139, 92, 246, 0.1))"),y.style.setProperty("border-radius","8px"),y.style.setProperty("border","1px solid rgba(139, 92, 246, 0.2)"),p.style.setProperty("font-weight","600"),p.style.setProperty("margin-bottom","0.25rem"),$.style.setProperty("font-size","0.875rem"),$.style.setProperty("color","var(--text-secondary)"),k.$$click=()=>ze(!0),D.style.setProperty("width","18px"),D.style.setProperty("height","18px"),x(M=>e(k,J("primary",!1),M)),y}}),null),t(d,c(h,{get when(){return me(()=>!!o())()&&!Se()},get children(){var y=ji(),l=y.firstChild,p=l.firstChild,$=p.nextSibling,k=l.nextSibling,D=k.firstChild;return y.style.setProperty("display","flex"),y.style.setProperty("align-items","center"),y.style.setProperty("justify-content","space-between"),y.style.setProperty("padding","1rem"),y.style.setProperty("background","linear-gradient(135deg, rgba(34, 197, 94, 0.05), rgba(34, 197, 94, 0.1))"),y.style.setProperty("border-radius","8px"),y.style.setProperty("border","1px solid rgba(34, 197, 94, 0.2)"),p.style.setProperty("font-weight","600"),p.style.setProperty("margin-bottom","0.25rem"),$.style.setProperty("font-size","0.875rem"),$.style.setProperty("color","var(--text-secondary)"),k.$$click=()=>xe(!0),D.style.setProperty("width","18px"),D.style.setProperty("height","18px"),x(M=>e(k,J("success",!1),M)),y}}),null),d})()]}})}}),b),t(i,c(h,{get when(){return Se()},get children(){return c(Oe,{get children(){var d=Xi(),y=d.firstChild,l=y.firstChild,p=y.nextSibling,$=p.nextSibling,k=$.firstChild,D=k.nextSibling;return D.nextSibling,d.style.setProperty("text-align","center"),d.style.setProperty("padding","2rem"),d.style.setProperty("background","linear-gradient(135deg, rgba(34, 197, 94, 0.05), rgba(34, 197, 94, 0.15))"),d.style.setProperty("border-radius","12px"),y.style.setProperty("font-size","4rem"),y.style.setProperty("margin-bottom","1rem"),l.style.setProperty("width","64px"),l.style.setProperty("height","64px"),p.style.setProperty("font-size","1.5rem"),p.style.setProperty("font-weight","700"),p.style.setProperty("color","#166534"),p.style.setProperty("margin-bottom","0.5rem"),$.style.setProperty("color","#22c55e"),$.style.setProperty("font-size","1rem"),t($,()=>n.client.firstName,k),t($,()=>n.taxYear,D),d}})}}),b),e(b,Ye),e(f,Ze),v.style.setProperty("width","18px"),v.style.setProperty("height","18px"),e(C,We),t(C,c(h,{get when(){return Y().pending>0},get children(){var d=qi(),y=d.firstChild,l=y.nextSibling;return l.nextSibling,t(d,()=>Y().pending,l),d}}),null),t(C,c(h,{get when(){return Y().errors>0},get children(){var d=Gi(),y=d.firstChild,l=y.nextSibling;return l.nextSibling,t(d,()=>Y().errors,l),d}}),null),t(C,c(h,{get when(){return me(()=>!fe())()&&Y().verified>0},get children(){return Ki()}}),null),t(C,c(h,{get when(){return fe()},get children(){return[Ji(),Qi(),Zi()]}}),null),t(C,c(h,{get when(){return Y().total===0},get children(){return el()}}),null),x(d=>{var y=re,l=se,p=Ie;return d.e=e(i,y,d.e),d.t=e(s,l,d.t),d.a=e(F,p,d.a),d},{e:void 0,t:void 0,a:void 0}),i})()};gt(["click"]);var ol=u('<svg viewBox="0 0 24 24"fill=none stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">'),sl=u("<div>"),al=u("<button>Spouse Info"),dl=u('<div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"clip-rule=evenodd></path></svg>Personal Information'),_t=u('<div><div><label>First Name *</label><input type=text placeholder="First name"></div><div><label>Middle Name</label><input type=text placeholder="Middle name"></div><div><label>Last Name *</label><input type=text placeholder="Last name"></div><div><label>Suffix</label><select><option value>None</option><option value=Jr>Jr</option><option value=Sr>Sr</option><option value=II>II</option><option value=III>III</option><option value=IV>IV</option></select></div><div><label>SSN</label><input type=text placeholder=XXX-XX-XXXX maxlength=11></div><div><label>Date of Birth</label><input type=date></div><div><label>Occupation</label><input type=text placeholder=Occupation></div><div><label>Email</label><input type=email placeholder=email@example.com></div><div><label>Phone</label><input type=tel placeholder="(XXX) XXX-XXXX">'),cl=u('<div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z"clip-rule=evenodd></path></svg>Address'),yl=u('<div><div><label>Street Address</label><input type=text placeholder="123 Main St"></div><div><label>City</label><input type=text placeholder=City></div><div><label>State</label><select><option value>Select state</option></select></div><div><label>ZIP Code</label><input type=text placeholder=12345 maxlength=10>'),ul=u('<div><svg viewBox="0 0 20 20"fill=currentColor><path d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"></path></svg>Spouse Information'),gl=u('<div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"clip-rule=evenodd></path></svg>Spouse Tax Options'),vl=u("<div><label><input type=checkbox><span>Spouse is legally blind</span></label><label><input type=checkbox><span>Spouse can be claimed as dependent on another return"),ml=u('<div><svg viewBox="0 0 20 20"fill=currentColor><path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"></path></svg>Dependents (<!>)'),pl=u('<button><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z"clip-rule=evenodd></path></svg>Add Dependent'),fl=u('<div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z"clip-rule=evenodd></path></svg>Filing Information'),hl=u("<div><div><label>Tax Year</label><select><option value=2026>2026</option><option value=2025>2025</option><option value=2024>2024</option><option value=2023>2023</option></select></div><div><label>Filing Status</label><select><option value>Select filing status"),xl=u('<div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z"clip-rule=evenodd></path></svg>Additional Tax Options'),bl=u("<div><label><input type=checkbox><span>Taxpayer is legally blind</span></label><label><input type=checkbox><span>Can be claimed as dependent on another return</span></label><label><input type=checkbox><span>Had qualifying health insurance coverage"),$l=u('<div><svg viewBox="0 0 20 20"fill=currentColor><path d="M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z"></path><path fill-rule=evenodd d="M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z"clip-rule=evenodd></path></svg>Bank Information (for Direct Deposit)'),Pl=u('<div><div><label>Account Type</label><select><option value>Select account type</option><option value=checking>Checking</option><option value=savings>Savings</option></select></div><div><label>Routing Number</label><input type=text placeholder="9 digits"maxlength=9></div><div><label>Account Number</label><input type=text placeholder="Account number"></div><div><label>Account Holder Name</label><input type=text placeholder="Name on account">'),Sl=u('<div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M18 13V5a2 2 0 00-2-2H4a2 2 0 00-2 2v8a2 2 0 002 2h3l3 3 3-3h3a2 2 0 002-2zM5 7a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1zm1 3a1 1 0 100 2h3a1 1 0 100-2H6z"clip-rule=evenodd></path></svg>Notes'),_l=u('<div><textarea placeholder="Additional notes about this client...">'),wl=u(`<div><div><div><h3>Client Information</h3><p>Update personal details, spouse information, and dependents</p></div><button></button></div><div><button>Personal Info</button><button>Dependents (<!>)</button><button>Tax Details</button></div><style>
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
      `),Cl=u('<svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"clip-rule=evenodd>'),xt=u("<option>"),zl=u('<div><div><span>Dependent #</span><button title="Remove dependent"><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z"clip-rule=evenodd></path></svg></button></div><div><div><label>First Name *</label><input type=text placeholder="First name"></div><div><label>Last Name *</label><input type=text placeholder="Last name"></div><div><label>Relationship *</label><select></select></div><div><label>SSN</label><input type=text placeholder=XXX-XX-XXXX maxlength=11></div><div><label>Date of Birth</label><input type=date></div><div><label>Months Lived with You</label><input type=number min=0 max=12 placeholder=12></div></div><div><label><input type=checkbox><span>Full-time student</span></label><label><input type=checkbox><span>Permanently disabled</span></label><label><input type=checkbox><span>Provided more than half support');const Il={son:"Son",daughter:"Daughter",stepson:"Stepson",stepdaughter:"Stepdaughter",foster_child:"Foster Child",brother:"Brother",sister:"Sister",half_brother:"Half Brother",half_sister:"Half Sister",stepbrother:"Stepbrother",stepsister:"Stepsister",parent:"Parent",grandparent:"Grandparent",grandchild:"Grandchild",niece:"Niece",nephew:"Nephew",aunt:"Aunt",uncle:"Uncle",other:"Other"},kl=["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY","DC"],Tl=n=>{const[G,K]=ce("personal"),[Z,ye]=ce(!1),[fe,he]=ce(null),U=(J,_e)=>{n.onClientChange({[J]:_e}),ye(!0),he(null)},ue=async()=>{try{await n.onSave(),ye(!1),he({type:"success",text:"Client information saved successfully"}),setTimeout(()=>he(null),3e3)}catch(J){he({type:"error",text:J.message||"Failed to save"})}},Ce=()=>{const J={id:crypto.randomUUID(),firstName:"",lastName:"",relationship:"son",ssn:"",dateOfBirth:""},_e=n.client.dependents||[];U("dependents",[..._e,J])},pe=(J,_e)=>{const we=[...n.client.dependents||[]];we[J]={...we[J],..._e},U("dependents",we)},o=J=>{const _e=[...n.client.dependents||[]];_e.splice(J,1),U("dependents",_e)},ze=()=>{const J=n.client.filingStatus;return J==="married_filing_jointly"||J==="married_filing_separately"},Se={display:"flex","flex-direction":"column",gap:"1.5rem"},xe={display:"flex","justify-content":"space-between","align-items":"center","flex-wrap":"wrap",gap:"1rem"},$e={"font-size":"1.25rem","font-weight":"600",color:"var(--text-primary)",margin:"0"},Ae={display:"flex",gap:"0.5rem","border-bottom":"2px solid var(--border-color)","padding-bottom":"0"},Y=J=>({padding:"0.75rem 1.5rem","font-size":"0.9375rem","font-weight":J?"600":"500",color:J?"var(--primary-color)":"var(--text-secondary)",background:"transparent",border:"none","border-bottom":J?"2px solid var(--primary-color)":"2px solid transparent",cursor:"pointer","margin-bottom":"-2px",transition:"all 0.2s"}),De={display:"grid","grid-template-columns":"repeat(auto-fill, minmax(280px, 1fr))",gap:"1.25rem","margin-top":"1.5rem"},q={display:"flex","flex-direction":"column",gap:"0.5rem"},re={"font-size":"0.875rem","font-weight":"500",color:"var(--text-secondary)"},se={padding:"0.75rem 1rem","font-size":"0.9375rem",border:"1px solid var(--border-color)","border-radius":"8px",background:"var(--surface-color)",color:"var(--text-primary)",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s"},Ie={...se,cursor:"pointer"},Ne={display:"flex","align-items":"center",gap:"0.75rem",padding:"0.75rem",background:"var(--surface-alt)","border-radius":"8px"},Be={width:"18px",height:"18px",cursor:"pointer"},et={padding:"1.25rem",border:"1px solid var(--border-color)","border-radius":"12px",background:"var(--surface-alt)","margin-bottom":"1rem"},tt={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"1rem"},Qe={padding:"0.5rem",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)","border-radius":"6px",color:"#ef4444",cursor:"pointer"},rt={display:"flex","align-items":"center","justify-content":"center",gap:"0.5rem",padding:"1rem",border:"2px dashed var(--border-color)","border-radius":"12px",background:"transparent",color:"var(--text-secondary)",cursor:"pointer","font-size":"0.9375rem","font-weight":"500",transition:"all 0.2s"},lt=J=>({padding:"0.75rem 1.5rem","font-size":"0.9375rem","font-weight":"600","border-radius":"8px",border:"none",background:J?"var(--surface-alt)":"linear-gradient(135deg, #22c55e 0%, #16a34a 100%)",color:J?"var(--text-secondary)":"white",cursor:J?"not-allowed":"pointer","box-shadow":J?"none":"0 4px 12px rgba(34, 197, 94, 0.3)",display:"flex","align-items":"center",gap:"0.5rem"}),st=J=>({padding:"0.75rem 1rem","border-radius":"8px","font-size":"0.875rem",background:J==="success"?"rgba(34, 197, 94, 0.1)":"rgba(239, 68, 68, 0.1)",color:J==="success"?"#22c55e":"#ef4444",border:`1px solid ${J==="success"?"#22c55e":"#ef4444"}`,display:"flex","align-items":"center",gap:"0.5rem"}),Me={"font-size":"1rem","font-weight":"600",color:"var(--text-primary)","margin-bottom":"1rem",display:"flex","align-items":"center",gap:"0.5rem"};return(()=>{var J=wl(),_e=J.firstChild,we=_e.firstChild,Le=we.firstChild,be=Le.nextSibling,Fe=we.nextSibling,Ye=_e.nextSibling,Ze=Ye.firstChild,We=Ze.nextSibling,T=We.firstChild,A=T.nextSibling;A.nextSibling;var I=We.nextSibling,_=Ye.nextSibling;return e(Le,$e),be.style.setProperty("font-size","0.875rem"),be.style.setProperty("color","var(--text-secondary)"),be.style.setProperty("margin-top","0.25rem"),Fe.$$click=ue,t(Fe,c(h,{get when(){return n.isSaving},get fallback(){return[(()=>{var i=Cl();return i.style.setProperty("width","18px"),i.style.setProperty("height","18px"),i})(),"Save Changes"]},get children(){return[(()=>{var i=ol();return i.style.setProperty("width","18px"),i.style.setProperty("height","18px"),i.style.setProperty("animation","spin 1s linear infinite"),i})(),"Saving..."]}})),t(J,c(h,{get when(){return fe()},get children(){var i=sl();return t(i,()=>fe().text),x(s=>e(i,st(fe().type),s)),i}}),Ye),e(Ye,Ae),Ze.$$click=()=>K("personal"),t(Ye,c(h,{get when(){return ze()},get children(){var i=al();return i.$$click=()=>K("spouse"),x(s=>e(i,Y(G()==="spouse"),s)),i}}),We),We.$$click=()=>K("dependents"),t(We,()=>n.client.dependents?.length||0,A),I.$$click=()=>K("tax"),t(J,c(h,{get when(){return G()==="personal"},get children(){return c(Oe,{get children(){return[(()=>{var i=dl(),s=i.firstChild;return s.style.setProperty("width","20px"),s.style.setProperty("height","20px"),s.style.setProperty("color","#3b82f6"),x(S=>e(i,Me,S)),i})(),(()=>{var i=_t(),s=i.firstChild,S=s.firstChild,F=S.nextSibling,H=s.nextSibling,X=H.firstChild,R=X.nextSibling,b=H.nextSibling,f=b.firstChild,v=f.nextSibling,C=b.nextSibling,d=C.firstChild,y=d.nextSibling,l=C.nextSibling,p=l.firstChild,$=p.nextSibling,k=l.nextSibling,D=k.firstChild,M=D.nextSibling,W=k.nextSibling,ee=W.firstChild,w=ee.nextSibling,j=W.nextSibling,ae=j.firstChild,N=ae.nextSibling,le=j.nextSibling,ge=le.firstChild,Pe=ge.nextSibling;return F.$$input=a=>U("firstName",a.currentTarget.value),R.$$input=a=>U("middleName",a.currentTarget.value),v.$$input=a=>U("lastName",a.currentTarget.value),y.addEventListener("change",a=>U("suffix",a.currentTarget.value||void 0)),$.$$input=a=>U("ssn",a.currentTarget.value),M.$$input=a=>U("dateOfBirth",a.currentTarget.value),w.$$input=a=>U("occupation",a.currentTarget.value),N.$$input=a=>U("email",a.currentTarget.value),Pe.$$input=a=>U("phone",a.currentTarget.value),x(a=>{var L=De,Q=q,ie=re,ve=se,P=q,de=re,ke=se,Xe=q,Te=re,dt=se,nt=q,ne=re,it=Ie,Ve=q,Ee=re,Ue=se,qe=q,Ge=re,je=se,He=q,at=re,Re=se,V=q,B=re,O=se,z=q,te=re,E=se;return a.e=e(i,L,a.e),a.t=e(s,Q,a.t),a.a=e(S,ie,a.a),a.o=e(F,ve,a.o),a.i=e(H,P,a.i),a.n=e(X,de,a.n),a.s=e(R,ke,a.s),a.h=e(b,Xe,a.h),a.r=e(f,Te,a.r),a.d=e(v,dt,a.d),a.l=e(C,nt,a.l),a.u=e(d,ne,a.u),a.c=e(y,it,a.c),a.w=e(l,Ve,a.w),a.m=e(p,Ee,a.m),a.f=e($,Ue,a.f),a.y=e(k,qe,a.y),a.g=e(D,Ge,a.g),a.p=e(M,je,a.p),a.b=e(W,He,a.b),a.T=e(ee,at,a.T),a.A=e(w,Re,a.A),a.O=e(j,V,a.O),a.I=e(ae,B,a.I),a.S=e(N,O,a.S),a.W=e(le,z,a.W),a.C=e(ge,te,a.C),a.B=e(Pe,E,a.B),a},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0,O:void 0,I:void 0,S:void 0,W:void 0,C:void 0,B:void 0}),x(()=>F.value=n.client.firstName||""),x(()=>R.value=n.client.middleName||""),x(()=>v.value=n.client.lastName||""),x(()=>y.value=n.client.suffix||""),x(()=>$.value=n.client.ssn||""),x(()=>M.value=n.client.dateOfBirth||""),x(()=>w.value=n.client.occupation||""),x(()=>N.value=n.client.email||""),x(()=>Pe.value=n.client.phone||""),i})(),(()=>{var i=cl(),s=i.firstChild;return s.style.setProperty("width","20px"),s.style.setProperty("height","20px"),s.style.setProperty("color","#8b5cf6"),x(S=>e(i,{...Me,"margin-top":"2rem"},S)),i})(),(()=>{var i=yl(),s=i.firstChild,S=s.firstChild,F=S.nextSibling,H=s.nextSibling,X=H.firstChild,R=X.nextSibling,b=H.nextSibling,f=b.firstChild,v=f.nextSibling;v.firstChild;var C=b.nextSibling,d=C.firstChild,y=d.nextSibling;return F.$$input=l=>U("address",l.currentTarget.value),R.$$input=l=>U("city",l.currentTarget.value),v.addEventListener("change",l=>U("state",l.currentTarget.value)),t(v,c(ot,{each:kl,children:l=>(()=>{var p=xt();return p.value=l,t(p,l),p})()}),null),y.$$input=l=>U("zipCode",l.currentTarget.value),x(l=>{var p=De,$={...q,"grid-column":"span 2"},k=re,D=se,M=q,W=re,ee=se,w=q,j=re,ae=Ie,N=q,le=re,ge=se;return l.e=e(i,p,l.e),l.t=e(s,$,l.t),l.a=e(S,k,l.a),l.o=e(F,D,l.o),l.i=e(H,M,l.i),l.n=e(X,W,l.n),l.s=e(R,ee,l.s),l.h=e(b,w,l.h),l.r=e(f,j,l.r),l.d=e(v,ae,l.d),l.l=e(C,N,l.l),l.u=e(d,le,l.u),l.c=e(y,ge,l.c),l},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0}),x(()=>F.value=n.client.address||""),x(()=>R.value=n.client.city||""),x(()=>v.value=n.client.state||""),x(()=>y.value=n.client.zipCode||""),i})()]}})}}),_),t(J,c(h,{get when(){return me(()=>G()==="spouse")()&&ze()},get children(){return c(Oe,{get children(){return[(()=>{var i=ul(),s=i.firstChild;return s.style.setProperty("width","20px"),s.style.setProperty("height","20px"),s.style.setProperty("color","#ec4899"),x(S=>e(i,Me,S)),i})(),(()=>{var i=_t(),s=i.firstChild,S=s.firstChild,F=S.nextSibling,H=s.nextSibling,X=H.firstChild,R=X.nextSibling,b=H.nextSibling,f=b.firstChild,v=f.nextSibling,C=b.nextSibling,d=C.firstChild,y=d.nextSibling,l=C.nextSibling,p=l.firstChild,$=p.nextSibling,k=l.nextSibling,D=k.firstChild,M=D.nextSibling,W=k.nextSibling,ee=W.firstChild,w=ee.nextSibling,j=W.nextSibling,ae=j.firstChild,N=ae.nextSibling,le=j.nextSibling,ge=le.firstChild,Pe=ge.nextSibling;return F.$$input=a=>U("spouse",{...n.client.spouse,firstName:a.currentTarget.value,lastName:n.client.spouse?.lastName||""}),R.$$input=a=>U("spouse",{...n.client.spouse,firstName:n.client.spouse?.firstName||"",lastName:n.client.spouse?.lastName||"",middleName:a.currentTarget.value}),v.$$input=a=>U("spouse",{...n.client.spouse,firstName:n.client.spouse?.firstName||"",lastName:a.currentTarget.value}),y.addEventListener("change",a=>U("spouse",{...n.client.spouse,firstName:n.client.spouse?.firstName||"",lastName:n.client.spouse?.lastName||"",suffix:a.currentTarget.value||void 0})),$.$$input=a=>U("spouse",{...n.client.spouse,firstName:n.client.spouse?.firstName||"",lastName:n.client.spouse?.lastName||"",ssn:a.currentTarget.value}),M.$$input=a=>U("spouse",{...n.client.spouse,firstName:n.client.spouse?.firstName||"",lastName:n.client.spouse?.lastName||"",dateOfBirth:a.currentTarget.value}),w.$$input=a=>U("spouse",{...n.client.spouse,firstName:n.client.spouse?.firstName||"",lastName:n.client.spouse?.lastName||"",occupation:a.currentTarget.value}),N.$$input=a=>U("spouse",{...n.client.spouse,firstName:n.client.spouse?.firstName||"",lastName:n.client.spouse?.lastName||"",email:a.currentTarget.value}),Pe.$$input=a=>U("spouse",{...n.client.spouse,firstName:n.client.spouse?.firstName||"",lastName:n.client.spouse?.lastName||"",phone:a.currentTarget.value}),x(a=>{var L=De,Q=q,ie=re,ve=se,P=q,de=re,ke=se,Xe=q,Te=re,dt=se,nt=q,ne=re,it=Ie,Ve=q,Ee=re,Ue=se,qe=q,Ge=re,je=se,He=q,at=re,Re=se,V=q,B=re,O=se,z=q,te=re,E=se;return a.e=e(i,L,a.e),a.t=e(s,Q,a.t),a.a=e(S,ie,a.a),a.o=e(F,ve,a.o),a.i=e(H,P,a.i),a.n=e(X,de,a.n),a.s=e(R,ke,a.s),a.h=e(b,Xe,a.h),a.r=e(f,Te,a.r),a.d=e(v,dt,a.d),a.l=e(C,nt,a.l),a.u=e(d,ne,a.u),a.c=e(y,it,a.c),a.w=e(l,Ve,a.w),a.m=e(p,Ee,a.m),a.f=e($,Ue,a.f),a.y=e(k,qe,a.y),a.g=e(D,Ge,a.g),a.p=e(M,je,a.p),a.b=e(W,He,a.b),a.T=e(ee,at,a.T),a.A=e(w,Re,a.A),a.O=e(j,V,a.O),a.I=e(ae,B,a.I),a.S=e(N,O,a.S),a.W=e(le,z,a.W),a.C=e(ge,te,a.C),a.B=e(Pe,E,a.B),a},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0,O:void 0,I:void 0,S:void 0,W:void 0,C:void 0,B:void 0}),x(()=>F.value=n.client.spouse?.firstName||""),x(()=>R.value=n.client.spouse?.middleName||""),x(()=>v.value=n.client.spouse?.lastName||""),x(()=>y.value=n.client.spouse?.suffix||""),x(()=>$.value=n.client.spouse?.ssn||""),x(()=>M.value=n.client.spouse?.dateOfBirth||""),x(()=>w.value=n.client.spouse?.occupation||""),x(()=>N.value=n.client.spouse?.email||""),x(()=>Pe.value=n.client.spouse?.phone||""),i})(),(()=>{var i=gl(),s=i.firstChild;return s.style.setProperty("width","20px"),s.style.setProperty("height","20px"),s.style.setProperty("color","#f59e0b"),x(S=>e(i,{...Me,"margin-top":"2rem"},S)),i})(),(()=>{var i=vl(),s=i.firstChild,S=s.firstChild,F=s.nextSibling,H=F.firstChild;return i.style.setProperty("display","flex"),i.style.setProperty("flex-direction","column"),i.style.setProperty("gap","0.75rem"),S.addEventListener("change",X=>U("spouse",{...n.client.spouse,firstName:n.client.spouse?.firstName||"",lastName:n.client.spouse?.lastName||"",isBlind:X.currentTarget.checked})),H.addEventListener("change",X=>U("spouse",{...n.client.spouse,firstName:n.client.spouse?.firstName||"",lastName:n.client.spouse?.lastName||"",canBeClaimed:X.currentTarget.checked})),x(X=>{var R=Ne,b=Be,f=Ne,v=Be;return X.e=e(s,R,X.e),X.t=e(S,b,X.t),X.a=e(F,f,X.a),X.o=e(H,v,X.o),X},{e:void 0,t:void 0,a:void 0,o:void 0}),x(()=>S.checked=n.client.spouse?.isBlind||!1),x(()=>H.checked=n.client.spouse?.canBeClaimed||!1),i})()]}})}}),_),t(J,c(h,{get when(){return G()==="dependents"},get children(){return c(Oe,{get children(){return[(()=>{var i=ml(),s=i.firstChild,S=s.nextSibling,F=S.nextSibling;return F.nextSibling,s.style.setProperty("width","20px"),s.style.setProperty("height","20px"),s.style.setProperty("color","#22c55e"),t(i,()=>n.client.dependents?.length||0,F),x(H=>e(i,Me,H)),i})(),c(ot,{get each(){return n.client.dependents||[]},children:(i,s)=>(()=>{var S=zl(),F=S.firstChild,H=F.firstChild;H.firstChild;var X=H.nextSibling,R=X.firstChild,b=F.nextSibling,f=b.firstChild,v=f.firstChild,C=v.nextSibling,d=f.nextSibling,y=d.firstChild,l=y.nextSibling,p=d.nextSibling,$=p.firstChild,k=$.nextSibling,D=p.nextSibling,M=D.firstChild,W=M.nextSibling,ee=D.nextSibling,w=ee.firstChild,j=w.nextSibling,ae=ee.nextSibling,N=ae.firstChild,le=N.nextSibling,ge=b.nextSibling,Pe=ge.firstChild,a=Pe.firstChild,L=Pe.nextSibling,Q=L.firstChild,ie=L.nextSibling,ve=ie.firstChild;return e(S,et),e(F,tt),H.style.setProperty("font-weight","600"),H.style.setProperty("color","var(--text-primary)"),t(H,()=>s()+1,null),t(H,()=>i.firstName&&`: ${i.firstName} ${i.lastName}`,null),X.$$click=()=>o(s()),e(X,Qe),R.style.setProperty("width","16px"),R.style.setProperty("height","16px"),C.$$input=P=>pe(s(),{firstName:P.currentTarget.value}),l.$$input=P=>pe(s(),{lastName:P.currentTarget.value}),k.addEventListener("change",P=>pe(s(),{relationship:P.currentTarget.value})),t(k,c(ot,{get each(){return Object.entries(Il)},children:([P,de])=>(()=>{var ke=xt();return ke.value=P,t(ke,de),ke})()})),W.$$input=P=>pe(s(),{ssn:P.currentTarget.value}),j.$$input=P=>pe(s(),{dateOfBirth:P.currentTarget.value}),le.$$input=P=>pe(s(),{monthsLivedWithYou:parseInt(P.currentTarget.value)||void 0}),ge.style.setProperty("display","grid"),ge.style.setProperty("grid-template-columns","repeat(auto-fill, minmax(250px, 1fr))"),ge.style.setProperty("gap","0.75rem"),ge.style.setProperty("margin-top","1rem"),a.addEventListener("change",P=>pe(s(),{isStudent:P.currentTarget.checked})),Q.addEventListener("change",P=>pe(s(),{isDisabled:P.currentTarget.checked})),ve.addEventListener("change",P=>pe(s(),{providedSupport:P.currentTarget.checked})),x(P=>{var de=De,ke=q,Xe=re,Te=se,dt=q,nt=re,ne=se,it=q,Ve=re,Ee=Ie,Ue=q,qe=re,Ge=se,je=q,He=re,at=se,Re=q,V=re,B=se,O=Ne,z=Be,te=Ne,E=Be,r=Ne,m=Be;return P.e=e(b,de,P.e),P.t=e(f,ke,P.t),P.a=e(v,Xe,P.a),P.o=e(C,Te,P.o),P.i=e(d,dt,P.i),P.n=e(y,nt,P.n),P.s=e(l,ne,P.s),P.h=e(p,it,P.h),P.r=e($,Ve,P.r),P.d=e(k,Ee,P.d),P.l=e(D,Ue,P.l),P.u=e(M,qe,P.u),P.c=e(W,Ge,P.c),P.w=e(ee,je,P.w),P.m=e(w,He,P.m),P.f=e(j,at,P.f),P.y=e(ae,Re,P.y),P.g=e(N,V,P.g),P.p=e(le,B,P.p),P.b=e(Pe,O,P.b),P.T=e(a,z,P.T),P.A=e(L,te,P.A),P.O=e(Q,E,P.O),P.I=e(ie,r,P.I),P.S=e(ve,m,P.S),P},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0,O:void 0,I:void 0,S:void 0}),x(()=>C.value=i.firstName||""),x(()=>l.value=i.lastName||""),x(()=>k.value=i.relationship||"son"),x(()=>W.value=i.ssn||""),x(()=>j.value=i.dateOfBirth||""),x(()=>le.value=i.monthsLivedWithYou||""),x(()=>a.checked=i.isStudent||!1),x(()=>Q.checked=i.isDisabled||!1),x(()=>ve.checked=i.providedSupport||!1),S})()}),(()=>{var i=pl(),s=i.firstChild;return i.$$mouseout=S=>{S.currentTarget.style.borderColor="var(--border-color)",S.currentTarget.style.color="var(--text-secondary)"},i.$$mouseover=S=>{S.currentTarget.style.borderColor="var(--primary-color)",S.currentTarget.style.color="var(--primary-color)"},i.$$click=Ce,e(i,rt),s.style.setProperty("width","20px"),s.style.setProperty("height","20px"),i})()]}})}}),_),t(J,c(h,{get when(){return G()==="tax"},get children(){return c(Oe,{get children(){return[(()=>{var i=fl(),s=i.firstChild;return s.style.setProperty("width","20px"),s.style.setProperty("height","20px"),s.style.setProperty("color","#3b82f6"),x(S=>e(i,Me,S)),i})(),(()=>{var i=hl(),s=i.firstChild,S=s.firstChild,F=S.nextSibling,H=s.nextSibling,X=H.firstChild,R=X.nextSibling;return R.firstChild,F.addEventListener("change",b=>U("taxYear",parseInt(b.currentTarget.value))),R.addEventListener("change",b=>U("filingStatus",b.currentTarget.value)),t(R,c(ot,{get each(){return Object.entries(qt)},children:([b,f])=>(()=>{var v=xt();return v.value=b,t(v,f),v})()}),null),x(b=>{var f=De,v=q,C=re,d=Ie,y=q,l=re,p=Ie;return b.e=e(i,f,b.e),b.t=e(s,v,b.t),b.a=e(S,C,b.a),b.o=e(F,d,b.o),b.i=e(H,y,b.i),b.n=e(X,l,b.n),b.s=e(R,p,b.s),b},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),x(()=>F.value=n.client.taxYear||new Date().getFullYear()),x(()=>R.value=n.client.filingStatus||""),i})(),(()=>{var i=xl(),s=i.firstChild;return s.style.setProperty("width","20px"),s.style.setProperty("height","20px"),s.style.setProperty("color","#f59e0b"),x(S=>e(i,{...Me,"margin-top":"2rem"},S)),i})(),(()=>{var i=bl(),s=i.firstChild,S=s.firstChild,F=s.nextSibling,H=F.firstChild,X=F.nextSibling,R=X.firstChild;return i.style.setProperty("display","grid"),i.style.setProperty("grid-template-columns","repeat(auto-fill, minmax(300px, 1fr))"),i.style.setProperty("gap","0.75rem"),S.addEventListener("change",b=>U("isBlind",b.currentTarget.checked)),H.addEventListener("change",b=>U("canBeClaimed",b.currentTarget.checked)),R.addEventListener("change",b=>U("hasHealthInsurance",b.currentTarget.checked)),x(b=>{var f=Ne,v=Be,C=Ne,d=Be,y=Ne,l=Be;return b.e=e(s,f,b.e),b.t=e(S,v,b.t),b.a=e(F,C,b.a),b.o=e(H,d,b.o),b.i=e(X,y,b.i),b.n=e(R,l,b.n),b},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),x(()=>S.checked=n.client.isBlind||!1),x(()=>H.checked=n.client.canBeClaimed||!1),x(()=>R.checked=n.client.hasHealthInsurance||!1),i})(),(()=>{var i=$l(),s=i.firstChild;return s.style.setProperty("width","20px"),s.style.setProperty("height","20px"),s.style.setProperty("color","#22c55e"),x(S=>e(i,{...Me,"margin-top":"2rem"},S)),i})(),(()=>{var i=Pl(),s=i.firstChild,S=s.firstChild,F=S.nextSibling,H=s.nextSibling,X=H.firstChild,R=X.nextSibling,b=H.nextSibling,f=b.firstChild,v=f.nextSibling,C=b.nextSibling,d=C.firstChild,y=d.nextSibling;return F.addEventListener("change",l=>U("bankInfo",{...n.client.bankInfo,accountType:l.currentTarget.value,routingNumber:n.client.bankInfo?.routingNumber||"",accountNumber:n.client.bankInfo?.accountNumber||""})),R.$$input=l=>U("bankInfo",{...n.client.bankInfo,accountType:n.client.bankInfo?.accountType||"checking",routingNumber:l.currentTarget.value,accountNumber:n.client.bankInfo?.accountNumber||""}),v.$$input=l=>U("bankInfo",{...n.client.bankInfo,accountType:n.client.bankInfo?.accountType||"checking",routingNumber:n.client.bankInfo?.routingNumber||"",accountNumber:l.currentTarget.value}),y.$$input=l=>U("bankInfo",{...n.client.bankInfo,accountType:n.client.bankInfo?.accountType||"checking",routingNumber:n.client.bankInfo?.routingNumber||"",accountNumber:n.client.bankInfo?.accountNumber||"",accountHolderName:l.currentTarget.value}),x(l=>{var p=De,$=q,k=re,D=Ie,M=q,W=re,ee=se,w=q,j=re,ae=se,N=q,le=re,ge=se;return l.e=e(i,p,l.e),l.t=e(s,$,l.t),l.a=e(S,k,l.a),l.o=e(F,D,l.o),l.i=e(H,M,l.i),l.n=e(X,W,l.n),l.s=e(R,ee,l.s),l.h=e(b,w,l.h),l.r=e(f,j,l.r),l.d=e(v,ae,l.d),l.l=e(C,N,l.l),l.u=e(d,le,l.u),l.c=e(y,ge,l.c),l},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0}),x(()=>F.value=n.client.bankInfo?.accountType||""),x(()=>R.value=n.client.bankInfo?.routingNumber||""),x(()=>v.value=n.client.bankInfo?.accountNumber||""),x(()=>y.value=n.client.bankInfo?.accountHolderName||""),i})(),(()=>{var i=Sl(),s=i.firstChild;return s.style.setProperty("width","20px"),s.style.setProperty("height","20px"),s.style.setProperty("color","#6b7280"),x(S=>e(i,{...Me,"margin-top":"2rem"},S)),i})(),(()=>{var i=_l(),s=i.firstChild;return s.$$input=S=>U("notes",S.currentTarget.value),x(S=>{var F=q,H={...se,"min-height":"100px",resize:"vertical"};return S.e=e(i,F,S.e),S.t=e(s,H,S.t),S},{e:void 0,t:void 0}),x(()=>s.value=n.client.notes||""),i})()]}})}}),_),x(i=>{var s=Se,S=xe,F=lt(!Z()||!!n.isSaving),H=!Z()||!!n.isSaving,X=Y(G()==="personal"),R=Y(G()==="dependents"),b=Y(G()==="tax");return i.e=e(J,s,i.e),i.t=e(_e,S,i.t),i.a=e(Fe,F,i.a),H!==i.o&&(Fe.disabled=i.o=H),i.i=e(Ze,X,i.i),i.n=e(We,R,i.n),i.s=e(I,b,i.s),i},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),J})()};gt(["click","input","mouseover","mouseout"]);var Al=u("<div>"),Nl=u(`<div><div><button><svg width=20 height=20 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2><path d="M19 12H5M12 19l-7-7 7-7"></path></svg>Back</button><div><h1> <span>Tax Year </span></h1><div></div></div></div><div></div><style>
        @keyframes slideDown {
          from {
            opacity: 0;
            transform: translateY(-10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
      `),Dl=u("<div><div><div>"),Ml=u("<div><div>Loading client workspace..."),wt=u("<span>"),Ll=u("<span> | "),Bl=u('<div><div><svg width=32 height=32 viewBox="0 0 24 24"fill=none stroke-width=2 stroke-linecap=round stroke-linejoin=round><path></path></svg></div><h3></h3><div>');const Hl=()=>{const n=Rt(),G=Wt(),[K,Z]=ce(null),[ye,fe]=ce([]),[he,U]=ce(!0),[ue,Ce]=ce(null),[pe,o]=ce(null),[ze,Se]=ce(0),[xe,$e]=ce(!1),[Ae,Y]=ce({}),De=new Date().getFullYear(),[q,re]=ce(De),se=async A=>{U(!0),Ce(null);try{const[I,_]=await Promise.all([Ht(A),Yt(A)]);if(!I){Ce("Client not found"),U(!1);return}Z(I),fe(_||[]);const i=(_||[]).filter(s=>!s.verified&&s.uploadStatus!=="error").length;Se(i)}catch(I){console.error("Error loading client data:",I),Ce("Failed to load client data")}finally{U(!1)}};Ut(()=>{const A=n.id;if(!A){Ce("No client ID provided"),U(!1);return}se(A)});const Ie=A=>{pe()===A?o(null):o(A)},Ne=()=>{G("/accounting/tax-clients")},Be=A=>{Z(I=>I?{...I,...A}:null),Y(I=>({...I,...A}))},et=async()=>{const A=K();if(A){$e(!0);try{await Ot(A.id,Ae()),Y({})}finally{$e(!1)}}},tt=[{id:"info",title:"INFO",icon:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",color:"#ec4899",getLabel:()=>"Client Details"},{id:"docs",title:"DOCS",icon:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",color:"#3b82f6",getLabel:()=>`${ye().length} files`},{id:"tasks",title:"TASKS",icon:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4",color:"#f59e0b",getLabel:()=>`${ze()} pending`},{id:"ai",title:"AI",icon:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z",color:"#8b5cf6",getLabel:()=>"Analyze"},{id:"tax",title:"TAX",icon:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z",color:"#22c55e",getLabel:()=>"Prepare"}],Qe={padding:"1.5rem","max-width":"1400px",margin:"0 auto","min-height":"100vh"},rt={display:"flex","align-items":"center",gap:"1rem","margin-bottom":"2rem"},lt={background:"var(--surface-color)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-md)",padding:"0.5rem 1rem",cursor:"pointer",display:"flex","align-items":"center",gap:"0.5rem",color:"var(--text-primary)",transition:"all 0.2s"},st={flex:1},Me={"font-size":"1.75rem","font-weight":"700",margin:0,color:"var(--text-primary)"},J={display:"inline-block",background:"var(--primary-color)",color:"white",padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.875rem","font-weight":"600","margin-left":"0.75rem"},_e={color:"var(--text-muted)","font-size":"0.875rem","margin-top":"0.25rem"},we={display:"grid","grid-template-columns":"repeat(5, 1fr)",gap:"1.25rem","margin-bottom":"2rem"},Le=(A,I)=>({background:I?A.color:"var(--surface-color)",border:`2px solid ${I?A.color:"var(--border-color)"}`,"border-radius":"var(--border-radius-lg)",padding:"2rem",cursor:"pointer",transition:"all 0.2s ease","text-align":"center",transform:I?"translateY(-4px)":"none","box-shadow":I?`0 8px 25px ${A.color}40`:"0 2px 8px rgba(0,0,0,0.05)"}),be=(A,I)=>({width:"64px",height:"64px","border-radius":"50%",background:I?"rgba(255,255,255,0.2)":`${A}15`,display:"flex","align-items":"center","justify-content":"center",margin:"0 auto 1rem auto"}),Fe=A=>({"font-size":"1.25rem","font-weight":"700",margin:"0 0 0.5rem 0",color:A?"white":"var(--text-primary)"}),Ye=A=>({"font-size":"0.875rem",color:A?"rgba(255,255,255,0.8)":"var(--text-muted)"}),Ze={background:"var(--surface-color)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-lg)",padding:"1.5rem","margin-top":"0.5rem",animation:"slideDown 0.2s ease-out"},We={display:"flex","align-items":"center","justify-content":"center","min-height":"400px","font-size":"1.25rem",color:"var(--text-muted)"},T={display:"flex","flex-direction":"column","align-items":"center","justify-content":"center","min-height":"400px",gap:"1rem"};return c(h,{get when(){return!ue()},get fallback(){return(()=>{var A=Dl(),I=A.firstChild,_=I.firstChild;return _.style.setProperty("font-size","1.25rem"),_.style.setProperty("color","var(--error-color)"),t(_,ue),t(I,c(ct,{onClick:Ne,children:"Back to Tax Portal"}),null),x(i=>{var s=Qe,S=T;return i.e=e(A,s,i.e),i.t=e(I,S,i.t),i},{e:void 0,t:void 0}),A})()},get children(){return c(h,{get when(){return!he()},get fallback(){return(()=>{var A=Ml(),I=A.firstChild;return e(I,We),x(_=>e(A,Qe,_)),A})()},get children(){var A=Nl(),I=A.firstChild,_=I.firstChild,i=_.nextSibling,s=i.firstChild,S=s.firstChild,F=S.nextSibling;F.firstChild;var H=s.nextSibling,X=I.nextSibling,R=X.nextSibling;return e(I,rt),_.$$mouseout=b=>{b.currentTarget.style.background="var(--surface-color)"},_.$$mouseover=b=>{b.currentTarget.style.background="var(--hover-color)"},_.$$click=Ne,e(_,lt),e(i,st),e(s,Me),t(s,()=>K()?.firstName,S),t(s,()=>K()?.lastName,F),e(F,J),t(F,q,null),e(H,_e),t(H,(()=>{var b=me(()=>!!K()?.email);return()=>b()&&(()=>{var f=wt();return t(f,()=>K()?.email),f})()})(),null),t(H,(()=>{var b=me(()=>!!(K()?.email&&K()?.phone));return()=>b()&&Ll()})(),null),t(H,(()=>{var b=me(()=>!!K()?.phone);return()=>b()&&(()=>{var f=wt();return t(f,()=>K()?.phone),f})()})(),null),e(X,we),t(X,()=>tt.map(b=>{const f=pe()===b.id;return(()=>{var v=Bl(),C=v.firstChild,d=C.firstChild,y=d.firstChild,l=C.nextSibling,p=l.nextSibling;return v.$$mouseout=$=>{f||($.currentTarget.style.borderColor="var(--border-color)",$.currentTarget.style.transform="none",$.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.05)")},v.$$mouseover=$=>{f||($.currentTarget.style.borderColor=b.color,$.currentTarget.style.transform="translateY(-2px)",$.currentTarget.style.boxShadow=`0 4px 15px ${b.color}20`)},v.$$click=()=>Ie(b.id),t(l,()=>b.title),t(p,()=>b.getLabel()),x($=>{var k=Le(b,f),D=be(b.color,f),M=f?"white":b.color,W=b.icon,ee=Fe(f),w=Ye(f);return $.e=e(v,k,$.e),$.t=e(C,D,$.t),M!==$.a&&mt(d,"stroke",$.a=M),W!==$.o&&mt(y,"d",$.o=W),$.i=e(l,ee,$.i),$.n=e(p,w,$.n),$},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),v})()})),t(A,c(h,{get when(){return pe()},get children(){var b=Al();return e(b,Ze),t(b,c(h,{get when(){return pe()==="info"},get children(){return c(Tl,{get client(){return K()},onClientChange:Be,onSave:et,get isSaving(){return xe()}})}}),null),t(b,c(h,{get when(){return pe()==="docs"},get children(){return c(Yr,{get client(){return K()},get taxPortal(){return K()},get documents(){return ye()},get taxYear(){return q()},onDocumentsChange:fe})}}),null),t(b,c(h,{get when(){return pe()==="tasks"},get children(){return c(si,{get client(){return K()},get taxPortal(){return K()},get documents(){return ye()},onTasksChange:f=>Se(f)})}}),null),t(b,c(h,{get when(){return pe()==="ai"},get children(){return c(Pi,{get client(){return K()},get documents(){return ye()},get taxYear(){return q()}})}}),null),t(b,c(h,{get when(){return pe()==="tax"},get children(){return c(nl,{get client(){return K()},get documents(){return ye()},get taxYear(){return q()}})}}),null),b}}),R),x(b=>e(A,Qe,b)),A}})}})};gt(["click","mouseover","mouseout"]);export{Hl as default};
