import{c as D,$ as Se,t as c,i as t,a as n,b as N,S as u,F as U,B as le,j as w,w as V,az as J,d as et}from"./index-Crc-oVdQ.js";var tt=c("<div> "),rt=c("<div><p>Analizando tu negocio para generar recomendaciones..."),st=c("<div><span>ğŸ¤–</span><p>No hay recomendaciones disponibles aÃºn.</p><p>Agrega mÃ¡s transacciones para obtener sugerencias inteligentes."),nt=c("<div><p>Cargando plantillas..."),lt=c("<div>"),ot=c("<div><p>Analizando patrones de tu negocio..."),at=c("<p>No hay patrones detectados aÃºn"),it=c("<div><div><h3>ğŸ¢ Industria Detectada</h3><p></p></div><div><h3>ğŸ“ˆ Patrones de Transacciones</h3></div><div><h3>ğŸª Proveedores Frecuentes</h3></div><div><h3>ğŸ’° CategorÃ­as de Gastos"),dt=c("<div>âŒ "),yt=c("<span>% confianza"),ct=c("<div><label>Condiciones</label><div>"),pt=c("<div><label>Acciones</label><div>"),ut=c("<div><label>Razonamiento de la IA</label><p>"),gt=c("<div><div><div><h4>âœ… Regla Generada</h4><p>Revisa la regla y guÃ¡rdala si es correcta</p></div></div><div><div><label>Nombre</label><p></p></div><div><label>DescripciÃ³n</label><p></p></div><div><div><label>Tipo de Regla</label><p><span></span></p></div><div><label>Disparador</label><p></p></div></div></div><div>"),mt=c(`<div><div><div><span>âœ¨</span><div><h3>Generador de Reglas con IA</h3><p>Describe lo que quieres automatizar y la IA crearÃ¡ la regla por ti</p></div></div></div><div><h4>1. Selecciona el tipo de evento</h4><div></div></div><div><h4>2. Describe la regla que necesitas</h4><p>Puedes describir en lenguaje natural o pegar datos de una factura/inventario</p><textarea placeholder="Ejemplos:
â€¢ &quot;Categorizar todas las compras de Amazon como suministros de oficina&quot;
â€¢ &quot;Alertar cuando un gasto supere $500&quot;
â€¢ &quot;Dividir gastos de servicios: 60% operaciÃ³n, 40% administraciÃ³n&quot;
â€¢ O pega datos de una factura/inventario aquÃ­..."></textarea><div><p>Ejemplos rÃ¡pidos:</p><div><button>Auto-categorizar Amazon</button><button>Alerta gastos grandes</button><button>DivisiÃ³n de gastos</button></div></div></div><div>`),vt=c("<div><div><h2>Reglas de AutomatizaciÃ³n</h2><p>Automatiza tu contabilidad con reglas inteligentes basadas en IA</p></div><div><button>ğŸ¤– Recomendaciones</button><button>ğŸ“‹ Plantillas</button><button>ğŸ“Š AnÃ¡lisis</button><button>âœ¨ Crear con IA"),Pt=c("<div><div><div><div><span></span><h3></h3><span>% confianza</span></div><p></p><p><strong>RazÃ³n:</strong> </p><div><span>ğŸ“Š <!> transacciones afectadas</span><span>â±ï¸ Ahorro: "),ft=c("<p>âš™ï¸ Requiere: "),bt=c("<div><div><span></span><div><h3></h3><p></p><p>"),ht=c("<div><span></span><span>x - "),$t=c("<div><span></span><div><span> txns</span><span>â†’ "),_t=c("<div><span></span><div><span>%</span><span>"),xt=c("<button><div>"),Ct=c("<span><span></span>Generando con IA..."),St=c('<div><code></code> <!> <code>"<!>"'),zt=c("<div><strong></strong>: ");const qt=ve=>{const[L,oe]=D("recommendations"),[wt,At]=D(null),[Tt,Rt]=D(null),[kt,It]=D(!1),[ae,W]=D(!1),[Y,I]=D(null),[ie,ee]=D(""),[de,Oe]=D("transaction_created"),[ze,we]=D(!1),[h,ye]=D(null),[Ae,ce]=D(null),Te=[{rule:{id:"rule-1",name:"Auto-categorizar gastos de Amazon",description:"Categoriza automÃ¡ticamente las compras de Amazon como suministros de oficina",ruleType:"auto_categorize",triggerType:"transaction_created",conditions:[{field:"description",operator:"contains",value:"AMAZON"}],actions:[{actionType:"set_account",parameters:{accountId:"6100"}}],priority:1,isActive:!0},confidence:.92,reason:"Se detectaron 15 transacciones de Amazon en los Ãºltimos 3 meses",basedOn:"PatrÃ³n de transacciones",potentialImpact:{transactionsAffected:15,timeSaved:"2 horas/mes"}},{rule:{id:"rule-2",name:"Alertar gastos grandes",description:"EnvÃ­a una alerta cuando un gasto supera $1,000",ruleType:"alert",triggerType:"transaction_created",conditions:[{field:"amount",operator:"greater_than",value:"1000"}],actions:[{actionType:"send_alert",parameters:{message:"Gasto mayor a $1,000"}}],priority:2,isActive:!0},confidence:.85,reason:"Buena prÃ¡ctica para control de gastos",basedOn:"Mejores prÃ¡cticas",potentialImpact:{transactionsAffected:5,timeSaved:"30 min/mes"}},{rule:{id:"rule-3",name:"Categorizar pagos de servicios",description:"Categoriza pagos de electricidad, agua, internet como servicios pÃºblicos",ruleType:"auto_categorize",triggerType:"transaction_created",conditions:[{field:"description",operator:"contains",value:"UTILITY|ELECTRIC|WATER|INTERNET"}],actions:[{actionType:"set_account",parameters:{accountId:"6200"}}],priority:1,isActive:!0},confidence:.88,reason:"Detectados pagos recurrentes de servicios",basedOn:"AnÃ¡lisis de transacciones",potentialImpact:{transactionsAffected:12,timeSaved:"1 hora/mes"}}],Re=[{id:"template-1",name:"Auto-categorizar por proveedor",category:"CategorizaciÃ³n",description:"Asigna automÃ¡ticamente una cuenta basada en el nombre del proveedor",rule:{name:"Categorizar por proveedor",description:"Auto-categoriza transacciones por proveedor",ruleType:"auto_categorize",triggerType:"transaction_created",conditions:[],actions:[],priority:1,isActive:!0},requiredConfiguration:["Nombre del proveedor","Cuenta destino"]},{id:"template-2",name:"Alerta de presupuesto",category:"Alertas",description:"Notifica cuando una categorÃ­a supera el presupuesto mensual",rule:{name:"Alerta presupuesto",description:"Alerta cuando se supera el presupuesto",ruleType:"alert",triggerType:"transaction_created",conditions:[],actions:[],priority:2,isActive:!0},requiredConfiguration:["CategorÃ­a","LÃ­mite mensual"]},{id:"template-3",name:"DivisiÃ³n automÃ¡tica de gastos",category:"DivisiÃ³n",description:"Divide automÃ¡ticamente un gasto entre mÃºltiples cuentas",rule:{name:"DivisiÃ³n de gastos",description:"Divide gastos automÃ¡ticamente",ruleType:"auto_split",triggerType:"transaction_created",conditions:[],actions:[],priority:1,isActive:!0},requiredConfiguration:["Cuenta origen","Cuentas destino","Porcentajes"]}],ke={industry:"Comercio y Servicios",transactionPatterns:[{pattern:"Pagos mensuales recurrentes",frequency:12,suggestedRule:"Auto-categorizar"},{pattern:"Compras de suministros",frequency:8,suggestedRule:"Auto-categorizar"},{pattern:"DepÃ³sitos de clientes",frequency:25,suggestedRule:"Auto-reconciliar"}],commonVendors:[{name:"Amazon",transactionCount:15,suggestedCategory:"Suministros"},{name:"AT&T",transactionCount:6,suggestedCategory:"Telecomunicaciones"},{name:"Office Depot",transactionCount:4,suggestedCategory:"Suministros de Oficina"}],revenueStreams:[{description:"Ventas de productos",percentage:65},{description:"Servicios",percentage:30},{description:"Otros ingresos",percentage:5}],expenseCategories:[{category:"NÃ³mina",percentage:35,trend:"stable"},{category:"Renta",percentage:15,trend:"stable"},{category:"Suministros",percentage:12,trend:"increasing"},{category:"Servicios",percentage:8,trend:"stable"},{category:"Marketing",percentage:10,trend:"increasing"}]},[te]=Se(async()=>{try{const r=await J.rules.getRecommended();return r&&r.length>0?r:Te}catch{return Te}}),[pe]=Se(async()=>{try{const r=await J.rules.getTemplates();return r&&r.length>0?r:Re}catch{return Re}}),[z]=Se(async()=>{try{return await J.rules.analyzeBusinessForRules()||ke}catch{return ke}}),Me=async r=>{W(!0),I(null);try{await J.rules.createCustom(r.rule)?(I({success:!0,message:`Regla "${r.rule.name}" creada exitosamente`}),ve.onRuleCreated?.()):I({success:!1,message:"Error al crear la regla"})}catch(T){I({success:!1,message:T.message||"Error al crear la regla"})}finally{W(!1)}},Fe=async r=>{W(!0),I(null);try{await J.rules.createCustom(r.rule)?(I({success:!0,message:`Regla "${r.name}" creada desde plantilla`}),ve.onRuleCreated?.()):I({success:!1,message:"Error al crear la regla"})}catch(T){I({success:!1,message:T.message||"Error al crear la regla"})}finally{W(!1)}},Ve=async()=>{if(!ie().trim()){ce("Por favor ingresa una descripciÃ³n para generar la regla");return}we(!0),ce(null),ye(null);try{const r=await J.rules.generateFromAI(ie(),de());r?ye(r):ce("No se pudo generar la regla. Intenta con una descripciÃ³n mÃ¡s detallada.")}catch(r){ce(r.message||"Error al generar la regla con IA")}finally{we(!1)}},Le=async()=>{const r=h();if(r){W(!0),I(null);try{const T={name:r.name,description:r.description,ruleType:r.ruleType,triggerType:r.triggerType,conditions:r.conditions.map(O=>({field:O.field,operator:O.operator,value:O.value})),actions:r.actions.map(O=>({actionType:O.actionType,parameters:O.parameters})),priority:1,isActive:!0};await J.rules.createCustom(T)?(I({success:!0,message:`Regla "${r.name}" creada exitosamente con IA`}),ye(null),ee(""),ve.onRuleCreated?.()):I({success:!1,message:"Error al guardar la regla"})}catch(T){I({success:!1,message:T.message||"Error al guardar la regla"})}finally{W(!1)}}},Be=[{value:"transaction_created",label:"Cuando se crea una transacciÃ³n"},{value:"document_uploaded",label:"Cuando se sube un documento"},{value:"invoice_generated",label:"Cuando se genera una factura"},{value:"inventory_movement",label:"Cuando hay movimiento de inventario"}],ue={auto_categorize:{label:"Auto-categorizar",icon:"ğŸ·ï¸"},auto_split:{label:"Auto-dividir",icon:"âœ‚ï¸"},auto_reconcile:{label:"Auto-conciliar",icon:"ğŸ”„"},alert:{label:"Alerta",icon:"ğŸ””"},validation:{label:"ValidaciÃ³n",icon:"âœ“"}},Ue={transaction_created:"TransacciÃ³n creada",document_uploaded:"Documento subido",invoice_generated:"Factura generada",inventory_movement:"Movimiento de inventario"},Je=r=>r>=.8?{bg:"#d1fae5",color:"#065f46"}:r>=.6?{bg:"#fef3c7",color:"#92400e"}:{bg:"#fee2e2",color:"#991b1b"},ge=r=>({padding:"0.75rem 1.5rem",border:"none",background:r?"var(--primary-color)":"transparent",color:r?"white":"var(--text-color)",cursor:"pointer","border-radius":"var(--border-radius-sm)","font-weight":r?"600":"400",transition:"all 0.2s ease"}),G={background:"var(--surface-color)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-md)",padding:"1rem","margin-bottom":"0.75rem"};return(()=>{var r=vt(),T=r.firstChild,re=T.firstChild,O=re.nextSibling,B=T.nextSibling,Pe=B.firstChild,fe=Pe.nextSibling,be=fe.nextSibling,Ie=be.nextSibling;return T.style.setProperty("margin-bottom","1.5rem"),re.style.setProperty("font-size","1.25rem"),re.style.setProperty("font-weight","600"),re.style.setProperty("margin-bottom","0.5rem"),O.style.setProperty("color","var(--text-muted)"),O.style.setProperty("font-size","0.875rem"),B.style.setProperty("display","flex"),B.style.setProperty("gap","0.5rem"),B.style.setProperty("margin-bottom","1.5rem"),B.style.setProperty("background","var(--surface-secondary)"),B.style.setProperty("padding","0.25rem"),B.style.setProperty("border-radius","var(--border-radius-md)"),B.style.setProperty("width","fit-content"),Pe.$$click=()=>oe("recommendations"),fe.$$click=()=>oe("templates"),be.$$click=()=>oe("analysis"),Ie.$$click=()=>oe("ai-generator"),t(r,n(u,{get when(){return Y()},get children(){var e=tt(),y=e.firstChild;return e.style.setProperty("padding","1rem"),e.style.setProperty("border-radius","var(--border-radius-md)"),e.style.setProperty("margin-bottom","1rem"),t(e,()=>Y()?.success?"âœ…":"âŒ",y),t(e,()=>Y()?.message,null),N(a=>{var g=Y()?.success?"#d1fae5":"#fee2e2",p=`1px solid ${Y()?.success?"#10b981":"#ef4444"}`,f=Y()?.success?"#065f46":"#991b1b";return g!==a.e&&((a.e=g)!=null?e.style.setProperty("background",g):e.style.removeProperty("background")),p!==a.t&&((a.t=p)!=null?e.style.setProperty("border",p):e.style.removeProperty("border")),f!==a.a&&((a.a=f)!=null?e.style.setProperty("color",f):e.style.removeProperty("color")),a},{e:void 0,t:void 0,a:void 0}),e}}),null),t(r,n(u,{get when(){return L()==="recommendations"},get children(){return[n(u,{get when(){return te.loading},get children(){var e=rt();return e.style.setProperty("text-align","center"),e.style.setProperty("padding","2rem"),e}}),n(u,{get when(){return V(()=>!te.loading)()&&te()},get children(){return[n(u,{get when(){return te().length===0},get children(){var e=st(),y=e.firstChild,a=y.nextSibling,g=a.nextSibling;return e.style.setProperty("text-align","center"),e.style.setProperty("padding","2rem"),e.style.setProperty("color","var(--text-muted)"),y.style.setProperty("font-size","3rem"),y.style.setProperty("display","block"),y.style.setProperty("margin-bottom","1rem"),g.style.setProperty("font-size","0.875rem"),e}}),n(U,{get each(){return te()},children:e=>(()=>{var y=Pt(),a=y.firstChild,g=a.firstChild,p=g.firstChild,f=p.firstChild,C=f.nextSibling,S=C.nextSibling,R=S.firstChild,v=p.nextSibling,s=v.nextSibling,d=s.firstChild;d.nextSibling;var P=s.nextSibling,i=P.firstChild,m=i.firstChild,E=m.nextSibling;E.nextSibling;var $=i.nextSibling;return $.firstChild,a.style.setProperty("display","flex"),a.style.setProperty("justify-content","space-between"),a.style.setProperty("align-items","flex-start"),g.style.setProperty("flex","1"),p.style.setProperty("display","flex"),p.style.setProperty("align-items","center"),p.style.setProperty("gap","0.5rem"),p.style.setProperty("margin-bottom","0.5rem"),f.style.setProperty("font-size","1.25rem"),t(f,()=>ue[e.rule.ruleType]?.icon||"ğŸ“Œ"),C.style.setProperty("font-weight","600"),t(C,()=>e.rule.name),t(S,()=>Math.round(e.confidence*100),R),v.style.setProperty("font-size","0.875rem"),v.style.setProperty("color","var(--text-muted)"),v.style.setProperty("margin-bottom","0.5rem"),t(v,()=>e.rule.description),s.style.setProperty("font-size","0.75rem"),s.style.setProperty("color","var(--text-muted)"),t(s,()=>e.reason,null),P.style.setProperty("display","flex"),P.style.setProperty("gap","1rem"),P.style.setProperty("margin-top","0.5rem"),P.style.setProperty("font-size","0.75rem"),t(i,()=>e.potentialImpact.transactionsAffected,E),t($,()=>e.potentialImpact.timeSaved,null),t(a,n(le,{variant:"primary",size:"sm",onClick:()=>Me(e),get disabled(){return ae()},children:"Aplicar"}),null),N(_=>{var j=G,M={padding:"0.125rem 0.5rem","border-radius":"9999px","font-size":"0.75rem",...Je(e.confidence)};return _.e=w(y,j,_.e),_.t=w(S,M,_.t),_},{e:void 0,t:void 0}),y})()})]}})]}}),null),t(r,n(u,{get when(){return L()==="templates"},get children(){return[n(u,{get when(){return pe.loading},get children(){var e=nt();return e.style.setProperty("text-align","center"),e.style.setProperty("padding","2rem"),e}}),n(u,{get when(){return V(()=>!pe.loading)()&&pe()},get children(){var e=lt();return e.style.setProperty("display","grid"),e.style.setProperty("grid-template-columns","repeat(auto-fill, minmax(300px, 1fr))"),e.style.setProperty("gap","1rem"),t(e,n(U,{get each(){return pe()},children:y=>(()=>{var a=bt(),g=a.firstChild,p=g.firstChild,f=p.nextSibling,C=f.firstChild,S=C.nextSibling,R=S.nextSibling;return g.style.setProperty("display","flex"),g.style.setProperty("align-items","flex-start"),g.style.setProperty("gap","0.75rem"),p.style.setProperty("font-size","1.5rem"),t(p,()=>ue[y.rule.ruleType]?.icon||"ğŸ“‹"),f.style.setProperty("flex","1"),C.style.setProperty("font-weight","600"),C.style.setProperty("margin-bottom","0.25rem"),t(C,()=>y.name),S.style.setProperty("font-size","0.75rem"),S.style.setProperty("color","var(--text-muted)"),S.style.setProperty("margin-bottom","0.5rem"),t(S,()=>y.category),R.style.setProperty("font-size","0.875rem"),R.style.setProperty("margin-bottom","0.75rem"),t(R,()=>y.description),t(f,n(u,{get when(){return y.requiredConfiguration.length>0},get children(){var v=ft();return v.firstChild,v.style.setProperty("font-size","0.75rem"),v.style.setProperty("color","var(--text-muted)"),t(v,()=>y.requiredConfiguration.join(", "),null),v}}),null),t(f,n(le,{variant:"secondary",size:"sm",onClick:()=>Fe(y),get disabled(){return ae()},style:{"margin-top":"0.75rem"},children:"Usar Plantilla"}),null),N(v=>w(a,G,v)),a})()})),e}})]}}),null),t(r,n(u,{get when(){return L()==="analysis"},get children(){return[n(u,{get when(){return z.loading},get children(){var e=ot();return e.style.setProperty("text-align","center"),e.style.setProperty("padding","2rem"),e}}),n(u,{get when(){return V(()=>!z.loading)()&&z()},get children(){var e=it(),y=e.firstChild,a=y.firstChild,g=a.nextSibling,p=y.nextSibling,f=p.firstChild,C=p.nextSibling,S=C.firstChild,R=C.nextSibling,v=R.firstChild;return e.style.setProperty("display","grid"),e.style.setProperty("gap","1rem"),a.style.setProperty("font-weight","600"),a.style.setProperty("margin-bottom","0.75rem"),g.style.setProperty("font-size","1.25rem"),g.style.setProperty("font-weight","500"),t(g,()=>z()?.industry||"General"),f.style.setProperty("font-weight","600"),f.style.setProperty("margin-bottom","0.75rem"),t(p,n(u,{get when(){return V(()=>!!z()?.transactionPatterns)()&&z().transactionPatterns.length>0},get children(){return n(U,{get each(){return z()?.transactionPatterns},children:s=>(()=>{var d=ht(),P=d.firstChild,i=P.nextSibling,m=i.firstChild;return d.style.setProperty("display","flex"),d.style.setProperty("justify-content","space-between"),d.style.setProperty("padding","0.5rem 0"),d.style.setProperty("border-bottom","1px solid var(--border-color)"),t(P,()=>s.pattern),i.style.setProperty("color","var(--text-muted)"),t(i,()=>s.frequency,m),t(i,()=>s.suggestedRule,null),d})()})}}),null),t(p,n(u,{get when(){return!z()?.transactionPatterns||z().transactionPatterns.length===0},get children(){var s=at();return s.style.setProperty("color","var(--text-muted)"),s}}),null),S.style.setProperty("font-weight","600"),S.style.setProperty("margin-bottom","0.75rem"),t(C,n(u,{get when(){return V(()=>!!z()?.commonVendors)()&&z().commonVendors.length>0},get children(){return n(U,{get each(){return z()?.commonVendors.slice(0,5)},children:s=>(()=>{var d=$t(),P=d.firstChild,i=P.nextSibling,m=i.firstChild,E=m.firstChild,$=m.nextSibling;return $.firstChild,d.style.setProperty("display","flex"),d.style.setProperty("justify-content","space-between"),d.style.setProperty("padding","0.5rem 0"),d.style.setProperty("border-bottom","1px solid var(--border-color)"),t(P,()=>s.name),m.style.setProperty("padding","0.125rem 0.5rem"),m.style.setProperty("background","var(--surface-secondary)"),m.style.setProperty("border-radius","9999px"),m.style.setProperty("font-size","0.75rem"),m.style.setProperty("margin-right","0.5rem"),t(m,()=>s.transactionCount,E),$.style.setProperty("color","var(--text-muted)"),$.style.setProperty("font-size","0.875rem"),t($,()=>s.suggestedCategory,null),d})()})}}),null),v.style.setProperty("font-weight","600"),v.style.setProperty("margin-bottom","0.75rem"),t(R,n(u,{get when(){return V(()=>!!z()?.expenseCategories)()&&z().expenseCategories.length>0},get children(){return n(U,{get each(){return z()?.expenseCategories},children:s=>(()=>{var d=_t(),P=d.firstChild,i=P.nextSibling,m=i.firstChild,E=m.firstChild,$=m.nextSibling;return d.style.setProperty("display","flex"),d.style.setProperty("justify-content","space-between"),d.style.setProperty("align-items","center"),d.style.setProperty("padding","0.5rem 0"),d.style.setProperty("border-bottom","1px solid var(--border-color)"),t(P,()=>s.category),i.style.setProperty("display","flex"),i.style.setProperty("align-items","center"),i.style.setProperty("gap","0.5rem"),m.style.setProperty("font-weight","600"),t(m,()=>s.percentage,E),$.style.setProperty("font-size","0.75rem"),t($,()=>s.trend==="increasing"?"â†‘":s.trend==="decreasing"?"â†“":"â†’"),N(_=>(_=s.trend==="increasing"?"#059669":s.trend==="decreasing"?"#dc2626":"#6b7280")!=null?$.style.setProperty("color",_):$.style.removeProperty("color")),d})()})}}),null),N(s=>{var d=G,P=G,i=G,m=G;return s.e=w(y,d,s.e),s.t=w(p,P,s.t),s.a=w(C,i,s.a),s.o=w(R,m,s.o),s},{e:void 0,t:void 0,a:void 0,o:void 0}),e}})]}}),null),t(r,n(u,{get when(){return L()==="ai-generator"},get children(){var e=mt(),y=e.firstChild,a=y.firstChild,g=a.firstChild,p=g.nextSibling,f=p.firstChild,C=f.nextSibling,S=y.nextSibling,R=S.firstChild,v=R.nextSibling,s=S.nextSibling,d=s.firstChild,P=d.nextSibling,i=P.nextSibling,m=i.nextSibling,E=m.firstChild,$=E.nextSibling,_=$.firstChild,j=_.nextSibling,M=j.nextSibling,he=s.nextSibling;return e.style.setProperty("display","grid"),e.style.setProperty("gap","1.5rem"),a.style.setProperty("display","flex"),a.style.setProperty("align-items","center"),a.style.setProperty("gap","1rem"),g.style.setProperty("font-size","2.5rem"),f.style.setProperty("font-weight","700"),f.style.setProperty("font-size","1.25rem"),f.style.setProperty("margin-bottom","0.25rem"),C.style.setProperty("opacity","0.9"),C.style.setProperty("font-size","0.875rem"),R.style.setProperty("font-weight","600"),R.style.setProperty("margin-bottom","1rem"),v.style.setProperty("display","grid"),v.style.setProperty("grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))"),v.style.setProperty("gap","0.75rem"),t(v,n(U,{each:Be,children:l=>(()=>{var o=xt(),Z=o.firstChild;return o.$$click=()=>Oe(l.value),o.style.setProperty("padding","1rem"),o.style.setProperty("border-radius","var(--border-radius-md)"),o.style.setProperty("cursor","pointer"),o.style.setProperty("text-align","left"),o.style.setProperty("transition","all 0.2s ease"),Z.style.setProperty("font-weight","500"),t(Z,()=>l.label),N(A=>{var H=`2px solid ${de()===l.value?"var(--primary-color)":"var(--border-color)"}`,q=de()===l.value?"var(--primary-color)":"var(--surface-color)",K=de()===l.value?"white":"inherit";return H!==A.e&&((A.e=H)!=null?o.style.setProperty("border",H):o.style.removeProperty("border")),q!==A.t&&((A.t=q)!=null?o.style.setProperty("background",q):o.style.removeProperty("background")),K!==A.a&&((A.a=K)!=null?o.style.setProperty("color",K):o.style.removeProperty("color")),A},{e:void 0,t:void 0,a:void 0}),o})()})),d.style.setProperty("font-weight","600"),d.style.setProperty("margin-bottom","0.5rem"),P.style.setProperty("font-size","0.875rem"),P.style.setProperty("color","var(--text-muted)"),P.style.setProperty("margin-bottom","1rem"),i.$$input=l=>ee(l.currentTarget.value),i.style.setProperty("width","100%"),i.style.setProperty("min-height","150px"),i.style.setProperty("padding","1rem"),i.style.setProperty("border","1px solid var(--border-color)"),i.style.setProperty("border-radius","var(--border-radius-md)"),i.style.setProperty("font-family","inherit"),i.style.setProperty("font-size","0.875rem"),i.style.setProperty("resize","vertical"),i.style.setProperty("background","var(--surface-color)"),m.style.setProperty("margin-top","1rem"),E.style.setProperty("font-size","0.75rem"),E.style.setProperty("color","var(--text-muted)"),E.style.setProperty("margin-bottom","0.5rem"),$.style.setProperty("display","flex"),$.style.setProperty("flex-wrap","wrap"),$.style.setProperty("gap","0.5rem"),_.$$click=()=>ee('Categorizar automÃ¡ticamente todas las compras de Amazon como "Suministros de Oficina" en la cuenta 6100'),_.style.setProperty("padding","0.375rem 0.75rem"),_.style.setProperty("border","1px solid var(--border-color)"),_.style.setProperty("border-radius","9999px"),_.style.setProperty("background","var(--surface-secondary)"),_.style.setProperty("cursor","pointer"),_.style.setProperty("font-size","0.75rem"),j.$$click=()=>ee("Enviar alerta cuando cualquier transacciÃ³n supere $1,000 para revisiÃ³n"),j.style.setProperty("padding","0.375rem 0.75rem"),j.style.setProperty("border","1px solid var(--border-color)"),j.style.setProperty("border-radius","9999px"),j.style.setProperty("background","var(--surface-secondary)"),j.style.setProperty("cursor","pointer"),j.style.setProperty("font-size","0.75rem"),M.$$click=()=>ee("Dividir automÃ¡ticamente los gastos de renta: 70% para gastos de operaciÃ³n y 30% para gastos administrativos"),M.style.setProperty("padding","0.375rem 0.75rem"),M.style.setProperty("border","1px solid var(--border-color)"),M.style.setProperty("border-radius","9999px"),M.style.setProperty("background","var(--surface-secondary)"),M.style.setProperty("cursor","pointer"),M.style.setProperty("font-size","0.75rem"),he.style.setProperty("display","flex"),he.style.setProperty("justify-content","center"),t(he,n(le,{variant:"primary",onClick:Ve,get disabled(){return ze()||!ie().trim()},style:{padding:"1rem 3rem","font-size":"1rem","font-weight":"600",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none"},get children(){return V(()=>!!ze())()?(()=>{var l=Ct(),o=l.firstChild;return l.style.setProperty("display","flex"),l.style.setProperty("align-items","center"),l.style.setProperty("gap","0.5rem"),o.style.setProperty("display","inline-block"),o.style.setProperty("width","1rem"),o.style.setProperty("height","1rem"),o.style.setProperty("border","2px solid white"),o.style.setProperty("border-top-color","transparent"),o.style.setProperty("border-radius","50%"),o.style.setProperty("animation","spin 1s linear infinite"),l})():"âœ¨ Generar Regla con IA"}})),t(e,n(u,{get when(){return Ae()},get children(){var l=dt();return l.firstChild,l.style.setProperty("padding","1rem"),l.style.setProperty("background","#fee2e2"),l.style.setProperty("border","1px solid #ef4444"),l.style.setProperty("border-radius","var(--border-radius-md)"),l.style.setProperty("color","#991b1b"),t(l,Ae,null),l}}),null),t(e,n(u,{get when(){return h()},get children(){var l=gt(),o=l.firstChild,Z=o.firstChild,A=Z.firstChild,H=A.nextSibling,q=o.nextSibling,K=q.firstChild,$e=K.firstChild,Ee=$e.nextSibling,qe=K.nextSibling,_e=qe.firstChild,We=_e.nextSibling,me=qe.nextSibling,De=me.firstChild,xe=De.firstChild,se=xe.nextSibling,Ye=se.firstChild,Ze=De.nextSibling,Ce=Ze.firstChild,He=Ce.nextSibling,Q=q.nextSibling;return o.style.setProperty("display","flex"),o.style.setProperty("justify-content","space-between"),o.style.setProperty("align-items","flex-start"),o.style.setProperty("margin-bottom","1rem"),A.style.setProperty("font-weight","700"),A.style.setProperty("font-size","1.125rem"),A.style.setProperty("color","#065f46"),H.style.setProperty("font-size","0.875rem"),H.style.setProperty("color","#059669"),t(o,n(u,{get when(){return h()?.confidence},get children(){var b=yt(),k=b.firstChild;return b.style.setProperty("padding","0.25rem 0.75rem"),b.style.setProperty("background","#d1fae5"),b.style.setProperty("color","#065f46"),b.style.setProperty("border-radius","9999px"),b.style.setProperty("font-size","0.75rem"),b.style.setProperty("font-weight","600"),t(b,()=>Math.round((h()?.confidence||0)*100),k),b}}),null),q.style.setProperty("display","grid"),q.style.setProperty("gap","0.75rem"),$e.style.setProperty("font-size","0.75rem"),$e.style.setProperty("color","var(--text-muted)"),Ee.style.setProperty("font-weight","600"),t(Ee,()=>h()?.name),_e.style.setProperty("font-size","0.75rem"),_e.style.setProperty("color","var(--text-muted)"),t(We,()=>h()?.description),me.style.setProperty("display","grid"),me.style.setProperty("grid-template-columns","1fr 1fr"),me.style.setProperty("gap","1rem"),xe.style.setProperty("font-size","0.75rem"),xe.style.setProperty("color","var(--text-muted)"),se.style.setProperty("display","flex"),se.style.setProperty("align-items","center"),se.style.setProperty("gap","0.5rem"),t(Ye,()=>ue[h()?.ruleType||""]?.icon||"ğŸ“Œ"),t(se,()=>ue[h()?.ruleType||""]?.label||h()?.ruleType,null),Ce.style.setProperty("font-size","0.75rem"),Ce.style.setProperty("color","var(--text-muted)"),t(He,()=>Ue[h()?.triggerType||""]||h()?.triggerType),t(q,n(u,{get when(){return V(()=>!!h()?.conditions)()&&h().conditions.length>0},get children(){var b=ct(),k=b.firstChild,F=k.nextSibling;return k.style.setProperty("font-size","0.75rem"),k.style.setProperty("color","var(--text-muted)"),F.style.setProperty("margin-top","0.25rem"),t(F,n(U,{get each(){return h()?.conditions},children:X=>(()=>{var x=St(),ne=x.firstChild,Ke=ne.nextSibling,Ge=Ke.nextSibling,Qe=Ge.nextSibling,je=Qe.nextSibling,Xe=je.firstChild,Ne=Xe.nextSibling;return Ne.nextSibling,x.style.setProperty("padding","0.5rem"),x.style.setProperty("background","white"),x.style.setProperty("border-radius","var(--border-radius-sm)"),x.style.setProperty("margin-bottom","0.25rem"),x.style.setProperty("font-size","0.875rem"),t(ne,()=>X.field),t(x,()=>X.operator,Ge),t(je,()=>X.value,Ne),x})()})),b}}),null),t(q,n(u,{get when(){return V(()=>!!h()?.actions)()&&h().actions.length>0},get children(){var b=pt(),k=b.firstChild,F=k.nextSibling;return k.style.setProperty("font-size","0.75rem"),k.style.setProperty("color","var(--text-muted)"),F.style.setProperty("margin-top","0.25rem"),t(F,n(U,{get each(){return h()?.actions},children:X=>(()=>{var x=zt(),ne=x.firstChild;return ne.nextSibling,x.style.setProperty("padding","0.5rem"),x.style.setProperty("background","white"),x.style.setProperty("border-radius","var(--border-radius-sm)"),x.style.setProperty("margin-bottom","0.25rem"),x.style.setProperty("font-size","0.875rem"),t(ne,()=>X.actionType),t(x,()=>JSON.stringify(X.parameters),null),x})()})),b}}),null),t(q,n(u,{get when(){return h()?.reasoning},get children(){var b=ut(),k=b.firstChild,F=k.nextSibling;return k.style.setProperty("font-size","0.75rem"),k.style.setProperty("color","var(--text-muted)"),F.style.setProperty("font-size","0.875rem"),F.style.setProperty("font-style","italic"),t(F,()=>h()?.reasoning),b}}),null),Q.style.setProperty("display","flex"),Q.style.setProperty("justify-content","flex-end"),Q.style.setProperty("gap","0.75rem"),Q.style.setProperty("margin-top","1.5rem"),t(Q,n(le,{variant:"secondary",onClick:()=>ye(null),children:"Descartar"}),null),t(Q,n(le,{variant:"primary",onClick:Le,get disabled(){return ae()},style:{background:"#059669"},get children(){return ae()?"Guardando...":"ğŸ’¾ Guardar Regla"}}),null),N(b=>w(l,{...G,border:"2px solid #10b981",background:"#f0fdf4"},b)),l}}),null),N(l=>{var o={...G,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none"},Z=G,A=G;return l.e=w(y,o,l.e),l.t=w(S,Z,l.t),l.a=w(s,A,l.a),l},{e:void 0,t:void 0,a:void 0}),N(()=>i.value=ie()),e}}),null),N(e=>{var y=ge(L()==="recommendations"),a=ge(L()==="templates"),g=ge(L()==="analysis"),p=ge(L()==="ai-generator");return e.e=w(Pe,y,e.e),e.t=w(fe,a,e.t),e.a=w(be,g,e.a),e.o=w(Ie,p,e.o),e},{e:void 0,t:void 0,a:void 0,o:void 0}),r})()};et(["click","input"]);export{qt as default};
