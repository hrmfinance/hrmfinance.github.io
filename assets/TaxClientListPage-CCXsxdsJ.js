import{G as ct,c as $,D as mt,e as B,t as x,j as g,i as n,a as d,B as ee,v as T,b as S,F as te,S as w,w as K,W as ut,aC as gt,aD as ft,aB as vt,M as Pt,d as ht}from"./index-D6-FjIa-.js";import{j as bt,l as xt}from"./taxPortalApi-ByI-9CDq.js";import{T as Y,b as re,c as wt,d as $t}from"./drakeTypes-Bvs2kMQX.js";import{p as St,a as Ct}from"./aamvaParser-B7HnPws8.js";import{l as _t}from"./zipCodeLookup-Bhswoe-K.js";var Nt=x("<div><div>Loading clients..."),kt=x("<div><div></div><div></div><div>"),J=x("<div>"),Tt=x("<div><button>Manual Entry</button><button>Scan ID</button><button>Import from Notary"),At=x("<div><button>Driver's License</button><button>Passport"),It=x('<div><div><svg viewBox="0 0 24 24"fill=none stroke=#9333ea><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"></path></svg><span>Scan with External Scanner</span><span>Recommended</span></div><div><input type=text autofocus><button><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"clip-rule=evenodd></path></svg>Process</button></div><div><span></span><button><svg viewBox="0 0 20 20"fill=currentColor><path d="M4 5a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V7a2 2 0 00-2-2h-1.586a1 1 0 01-.707-.293l-1.121-1.121A2 2 0 0011.172 3H8.828a2 2 0 00-1.414.586L6.293 4.707A1 1 0 015.586 5H4zm6 9a3 3 0 100-6 3 3 0 000 6z"></path></svg>Use Camera Instead'),Bt=x("<div><div><span></span><button>Close"),Mt=x("<div><span>Expires:</span> <span>"),Lt=x("<div><span>Gender:</span> <span>"),Ot=x("<div><div><div><span>âœ“</span> ID Scanned Successfully</div><button>Rescan</button></div><div><div><span>ID Number:</span> <span></span></div><div><span>State:</span> <span>"),zt=x("<div>Client data loaded. Review and edit fields below before creating."),Et=x("<div><label>Search Notary Client"),Yt=x('<div><div><svg viewBox="0 0 20 20"fill=white><path fill-rule=evenodd d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"clip-rule=evenodd></path></svg><span></span></div><div>Tax Return '),Dt=x("<div><label>Address </label><div><div>"),Rt=x("<div><label>Tax Year</label><div>"),Ft=x("<div><div><div><h1>Tax Clients</h1><p>Manage your tax clients and their documents</p></div></div><div><div></div><div><div><span>Status:</span><div></div></div><div><span>Payment:</span><div>"),pe=x("<button>"),Xt=x("<span>"),jt=x("<div><div></div><div><div><span> </span></div><div><div><span></span></div><div><span></span></div></div><div>Last activity: ");const Ht=()=>{const ce=ct(),[me,ue]=$([]),[le,ge]=$(!0),[D,Ae]=$(""),[L,Ie]=$("all"),[O,Be]=$("all"),[Me,X]=$(!1),[y,h]=$({firstName:"",middleName:"",lastName:"",email:"",phone:"",ssn:"",dateOfBirth:"",address:"",city:"",state:"",zipCode:"",taxYear:2024}),[fe,ve]=$(!1),[C,Pe]=$("manual"),[he,se]=$(null),[Le,R]=$(!1),[M,j]=$(null),[W,_]=$(null),[be,oe]=$(""),[A,xe]=$("id");mt(async()=>{ge(!0);try{const a=(await bt()).map(p=>({...p,lastActivity:p.updatedAt||p.createdAt,requiredDocs:8}));ue(a)}catch(r){B("Error loading tax clients:",r)}finally{ge(!1)}});const ae=()=>{let r=me();const a=D().toLowerCase().trim();return a&&(r=r.filter(p=>p.firstName.toLowerCase().includes(a)||p.lastName.toLowerCase().includes(a)||p.email?.toLowerCase().includes(a)||p.phone?.includes(a))),L()!=="all"&&(r=r.filter(p=>(p.workflowStatus||"intake")===L())),O()!=="all"&&(r=r.filter(p=>(p.paymentStatus||"pending")===O())),r},Oe=r=>r?new Date(r).toISOString().split("T")[0]:"",ze=r=>{if(!r.residences)return null;const a=Object.values(r.residences);return a.find(p=>!p.toDate)||a[a.length-1]||null},Ee=r=>{se(r);const a=ze(r);h({firstName:r.firstName||"",middleName:r.middleName||"",lastName:r.lastName||"",email:r.email||"",phone:r.phoneNumber||"",ssn:r.ss||"",dateOfBirth:Oe(r.dateOfBirth||r.dob),address:a?.addressLineOne||"",city:a?.city||"",state:a?.state||"",zipCode:a?.zipcode||"",taxYear:y().taxYear})},ne=r=>{Pe(r),se(null),j(null),_(null),h({firstName:"",middleName:"",lastName:"",email:"",phone:"",ssn:"",dateOfBirth:"",address:"",city:"",state:"",zipCode:"",taxYear:y().taxYear})},Ye=(r,a)=>{B("Barcode scan received:",a,r.length,"chars");const p=St(r);if(!p){B("Failed to parse barcode data"),_({type:"error",text:"Could not read ID barcode. Please try again or enter manually."}),setTimeout(()=>_(null),5e3);return}B("Parsed AAMVA data:",p);const N=Ct(p);B("Converted idInfo:",N),j(N),h({firstName:p.firstName||"",middleName:p.middleName||"",lastName:p.lastName||"",email:"",phone:"",ssn:"",dateOfBirth:p.dateOfBirth||"",address:p.address||"",city:p.city||"",state:p.state||"",zipCode:p.zipCode||"",taxYear:y().taxYear}),R(!1),oe(""),_({type:"success",text:`ID scanned: ${p.firstName} ${p.lastName} (${p.idState} ${p.idNumber})`})},De=r=>{B("MRZ scan received:",r);const a={idNumber:r.documentNumber,idState:r.issuingCountry,idType:r.documentType==="P"?"passport":"state_id",firstName:r.firstName,middleName:r.middleName,lastName:r.lastName,dateOfBirth:r.dateOfBirth,gender:r.gender==="unknown"?void 0:r.gender,expirationDate:r.expirationDate,country:r.nationality};j(a),h({firstName:r.firstName||"",middleName:r.middleName||"",lastName:r.lastName||"",email:"",phone:"",ssn:"",dateOfBirth:r.dateOfBirth||"",address:"",city:"",state:"",zipCode:"",taxYear:y().taxYear}),R(!1),oe(""),_({type:"success",text:`${r.documentType==="P"?"Passport":"ID"} scanned: ${r.firstName} ${r.lastName} (${r.issuingCountry} ${r.documentNumber})`})},we=r=>{if(B("ML Scanner result:",r),!r.parsed){_({type:"error",text:"Could not read document. Please try again or position the document better."}),setTimeout(()=>_(null),5e3);return}if(r.type==="ID"){const a=r.parsed;B("Parsed AAMVA data:",a);const p={idNumber:a.documentNumber,idState:a.state,idType:"state_id",firstName:a.firstName,middleName:a.middleName,lastName:a.lastName,dateOfBirth:a.dateOfBirth,gender:a.gender==="unknown"?void 0:a.gender,expirationDate:a.expirationDate};j(p),h({firstName:a.firstName||"",middleName:a.middleName||"",lastName:a.lastName||"",email:"",phone:"",ssn:"",dateOfBirth:a.dateOfBirth||"",address:a.streetAddress||"",city:a.city||"",state:a.state||"",zipCode:a.postalCode||"",taxYear:y().taxYear}),R(!1),_({type:"success",text:`ID scanned: ${a.firstName} ${a.lastName} (${a.state} ${a.documentNumber})`})}else if(r.type==="PASSPORT"){const a=r.parsed;De(a)}},$e=()=>{const r=be().trim();if(!r){_({type:"error",text:"Please scan or paste barcode data first."}),setTimeout(()=>_(null),3e3);return}Ye(r,"EXTERNAL")},Re=r=>{r.key==="Enter"&&(r.preventDefault(),$e())},Fe=async()=>{const r=y();if(!(!r.firstName.trim()||!r.lastName.trim())){ve(!0);try{const a=await xt({firstName:r.firstName.trim(),middleName:r.middleName?.trim()||void 0,lastName:r.lastName.trim(),email:r.email.trim()||void 0,phone:r.phone.trim()||void 0,ssn:r.ssn?.trim()||void 0,dateOfBirth:r.dateOfBirth||void 0,address:r.address?.trim()||void 0,city:r.city?.trim()||void 0,state:r.state?.trim()||void 0,zipCode:r.zipCode?.trim()||void 0,taxYear:r.taxYear,idInfo:M()||void 0}),p={...a,workflowStatus:a.workflowStatus||"intake",paymentStatus:a.paymentStatus||"pending",lastActivity:Date.now(),requiredDocs:8};ue([p,...me()]),X(!1),h({firstName:"",middleName:"",lastName:"",email:"",phone:"",ssn:"",dateOfBirth:"",address:"",city:"",state:"",zipCode:"",taxYear:2024}),Pe("manual"),se(null),j(null),_(null),ce(`/tax-client/${a.id}`)}catch(a){B("Error creating client:",a),alert("Error creating client. Please try again.")}finally{ve(!1)}}},Xe=r=>{ce(`/tax-client/${r}`)},je=(r,a)=>`${r.charAt(0)}${a.charAt(0)}`.toUpperCase(),Z=r=>Y[r||"intake"],We=r=>wt[r||"intake"],ie=r=>re[r||"pending"],Ze=r=>$t[r||"pending"],Ue=r=>{if(!r)return"No activity";const p=Date.now()-r,N=Math.floor(p/(1e3*60*60*24)),z=Math.floor(p/(1e3*60*60)),U=Math.floor(p/(1e3*60));return N>30?new Date(r).toLocaleDateString():N>0?`${N} day${N>1?"s":""} ago`:z>0?`${z} hour${z>1?"s":""} ago`:U>0?`${U} min ago`:"Just now"},Ve=[{value:"all",label:"All",color:"#6b7280"},{value:"intake",label:"Intake",color:Y.intake},{value:"collecting_docs",label:"Collecting",color:Y.collecting_docs},{value:"in_review",label:"In Review",color:Y.in_review},{value:"ready_to_file",label:"Ready",color:Y.ready_to_file},{value:"filed",label:"Filed",color:Y.filed},{value:"completed",label:"Completed",color:Y.completed}],Ge=[{value:"all",label:"All",color:"#6b7280"},{value:"pending",label:"Pending",color:re.pending},{value:"partial",label:"Partial",color:re.partial},{value:"paid",label:"Paid",color:re.paid}],He={padding:"1.5rem","max-width":"1400px",margin:"0 auto","min-height":"100vh",background:"var(--background-color)"},qe={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"1.5rem","flex-wrap":"wrap",gap:"1rem"},Ke={display:"flex",gap:"1rem","margin-bottom":"1.5rem","flex-wrap":"wrap","align-items":"center"},Je={flex:"1","min-width":"250px","max-width":"400px"},Se={display:"flex",gap:"0.5rem","flex-wrap":"wrap"},Ce=(r,a)=>({padding:"0.5rem 1rem",border:`1px solid ${r?a:"var(--border-color)"}`,"border-radius":"9999px",background:r?a:"transparent",color:r?"white":"var(--text-primary)",cursor:"pointer","font-size":"0.875rem","font-weight":"500",transition:"all 0.2s","white-space":"nowrap"}),Qe={display:"grid","grid-template-columns":"repeat(auto-fill, minmax(320px, 1fr))",gap:"1rem"},et={background:"var(--surface-color)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-md)",padding:"1.25rem",cursor:"pointer",transition:"all 0.2s ease",display:"flex",gap:"1rem","align-items":"flex-start"},tt=r=>({width:"48px",height:"48px","min-width":"48px","border-radius":"50%",background:`linear-gradient(135deg, ${Z(r)}, ${Z(r)}dd)`,color:"white",display:"flex","align-items":"center","justify-content":"center","font-weight":"600","font-size":"1rem"}),rt={flex:"1","min-width":"0"},lt={"font-weight":"600","font-size":"1rem",color:"var(--text-primary)",margin:"0 0 0.25rem 0",display:"flex","align-items":"center",gap:"0.5rem","flex-wrap":"wrap"},st={background:"var(--primary-color)",color:"white",padding:"0.125rem 0.5rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500"},ot=r=>({display:"inline-flex","align-items":"center",gap:"0.25rem",padding:"0.25rem 0.5rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500",background:`${Z(r)}20`,color:Z(r)}),at=r=>({display:"inline-flex","align-items":"center",gap:"0.25rem",padding:"0.25rem 0.5rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500",background:`${ie(r)}20`,color:ie(r)}),_e=r=>({width:"8px",height:"8px","border-radius":"50%",background:r}),nt={"font-size":"0.75rem",color:"var(--text-muted)","margin-top":"0.25rem"},Ne={"text-align":"center",padding:"4rem 2rem",color:"var(--text-muted)"},de={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},it={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"1.5rem"};return(()=>{var r=Ft(),a=r.firstChild,p=a.firstChild,N=p.firstChild,z=N.nextSibling,U=a.nextSibling,ye=U.firstChild,Q=ye.nextSibling,F=Q.firstChild,V=F.firstChild,ke=V.nextSibling,G=F.nextSibling,H=G.firstChild,Te=H.nextSibling;return g(r,He),g(a,qe),N.style.setProperty("font-size","1.75rem"),N.style.setProperty("font-weight","700"),N.style.setProperty("margin","0 0 0.25rem 0"),N.style.setProperty("color","var(--text-primary)"),z.style.setProperty("color","var(--text-muted)"),z.style.setProperty("margin","0"),z.style.setProperty("font-size","0.875rem"),n(a,d(ee,{onClick:()=>X(!0),children:"+ New Client"}),null),g(U,Ke),g(ye,Je),n(ye,d(T,{label:"",placeholder:"Search clients by name, email, or phone...",get value(){return D()},onChange:t=>Ae(t)})),Q.style.setProperty("display","flex"),Q.style.setProperty("flex-direction","column"),Q.style.setProperty("gap","0.75rem"),F.style.setProperty("display","flex"),F.style.setProperty("align-items","center"),F.style.setProperty("gap","0.5rem"),F.style.setProperty("flex-wrap","wrap"),V.style.setProperty("font-size","0.75rem"),V.style.setProperty("font-weight","600"),V.style.setProperty("color","var(--text-muted)"),V.style.setProperty("min-width","60px"),n(ke,d(te,{each:Ve,children:t=>(()=>{var e=pe();return e.$$click=()=>Ie(t.value),n(e,()=>t.label),S(l=>g(e,Ce(L()===t.value,t.color),l)),e})()})),G.style.setProperty("display","flex"),G.style.setProperty("align-items","center"),G.style.setProperty("gap","0.5rem"),G.style.setProperty("flex-wrap","wrap"),H.style.setProperty("font-size","0.75rem"),H.style.setProperty("font-weight","600"),H.style.setProperty("color","var(--text-muted)"),H.style.setProperty("min-width","60px"),n(Te,d(te,{each:Ge,children:t=>(()=>{var e=pe();return e.$$click=()=>Be(t.value),n(e,()=>t.label),S(l=>g(e,Ce(O()===t.value,t.color),l)),e})()})),n(r,d(w,{get when(){return le()},get children(){var t=Nt(),e=t.firstChild;return e.style.setProperty("font-size","1.25rem"),e.style.setProperty("margin-bottom","0.5rem"),S(l=>g(t,Ne,l)),t}}),null),n(r,d(w,{get when(){return K(()=>!le())()&&ae().length===0},get children(){var t=kt(),e=t.firstChild,l=e.nextSibling,o=l.nextSibling;return e.style.setProperty("font-size","3rem"),e.style.setProperty("margin-bottom","1rem"),e.style.setProperty("opacity","0.5"),n(e,()=>D()||L()!=="all"||O()!=="all"?"(no results)":"(empty)"),l.style.setProperty("font-size","1.25rem"),l.style.setProperty("margin-bottom","0.5rem"),n(l,()=>D()||L()!=="all"||O()!=="all"?"No clients match your search criteria":"No tax clients yet"),o.style.setProperty("margin-bottom","1.5rem"),n(o,()=>D()||L()!=="all"||O()!=="all"?"Try adjusting your filters or search term":"Add your first client to get started"),n(t,d(w,{get when(){return K(()=>!D()&&L()==="all")()&&O()==="all"},get children(){return d(ee,{onClick:()=>X(!0),children:"+ Add First Client"})}}),null),S(s=>g(t,Ne,s)),t}}),null),n(r,d(w,{get when(){return K(()=>!le())()&&ae().length>0},get children(){var t=J();return g(t,Qe),n(t,d(te,{get each(){return ae()},children:e=>(()=>{var l=jt(),o=l.firstChild,s=o.nextSibling,m=s.firstChild,i=m.firstChild,c=i.firstChild,f=m.nextSibling,P=f.firstChild,k=P.firstChild,v=P.nextSibling,I=v.firstChild,b=f.nextSibling;return b.firstChild,l.addEventListener("mouseleave",u=>{u.currentTarget.style.boxShadow="none",u.currentTarget.style.borderColor="var(--border-color)"}),l.addEventListener("mouseenter",u=>{u.currentTarget.style.boxShadow="var(--shadow-md)",u.currentTarget.style.borderColor="var(--primary-color)"}),l.$$click=()=>Xe(e.id),g(l,et),n(o,()=>je(e.firstName,e.lastName)),g(s,rt),g(m,lt),i.style.setProperty("overflow","hidden"),i.style.setProperty("text-overflow","ellipsis"),i.style.setProperty("white-space","nowrap"),n(i,()=>e.firstName,c),n(i,()=>e.lastName,null),n(m,d(w,{get when(){return e.taxYear},get children(){var u=Xt();return g(u,st),n(u,()=>e.taxYear),u}}),null),f.style.setProperty("display","flex"),f.style.setProperty("gap","0.5rem"),f.style.setProperty("flex-wrap","wrap"),f.style.setProperty("margin-top","0.25rem"),n(P,()=>We(e.workflowStatus),null),n(v,()=>Ze(e.paymentStatus),null),g(b,nt),n(b,()=>Ue(e.lastActivity),null),S(u=>{var q=tt(e.workflowStatus),E=ot(e.workflowStatus),dt=_e(Z(e.workflowStatus)),yt=at(e.paymentStatus),pt=_e(ie(e.paymentStatus));return u.e=g(o,q,u.e),u.t=g(P,E,u.t),u.a=g(k,dt,u.a),u.o=g(v,yt,u.o),u.i=g(I,pt,u.i),u},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),l})()})),t}}),null),n(r,d(Pt,{get isOpen(){return Me()},onClose:()=>X(!1),title:"New Tax Client",maxWidth:"90vw",get children(){return[(()=>{var t=Tt(),e=t.firstChild,l=e.nextSibling,o=l.nextSibling;return t.style.setProperty("display","flex"),t.style.setProperty("gap","0.5rem"),t.style.setProperty("margin-bottom","1.5rem"),t.style.setProperty("padding-bottom","1rem"),t.style.setProperty("border-bottom","1px solid var(--border-color)"),e.$$click=()=>ne("manual"),e.style.setProperty("flex","1"),e.style.setProperty("padding","0.75rem 1rem"),e.style.setProperty("border-radius","var(--border-radius-md)"),e.style.setProperty("cursor","pointer"),e.style.setProperty("font-weight","600"),e.style.setProperty("transition","all 0.2s"),l.$$click=()=>ne("scan"),l.style.setProperty("flex","1"),l.style.setProperty("padding","0.75rem 1rem"),l.style.setProperty("border-radius","var(--border-radius-md)"),l.style.setProperty("cursor","pointer"),l.style.setProperty("font-weight","600"),l.style.setProperty("transition","all 0.2s"),o.$$click=()=>ne("import"),o.style.setProperty("flex","1"),o.style.setProperty("padding","0.75rem 1rem"),o.style.setProperty("border-radius","var(--border-radius-md)"),o.style.setProperty("cursor","pointer"),o.style.setProperty("font-weight","600"),o.style.setProperty("transition","all 0.2s"),S(s=>{var m=`2px solid ${C()==="manual"?"var(--primary-color)":"var(--border-color)"}`,i=C()==="manual"?"var(--primary-color)":"transparent",c=C()==="manual"?"white":"var(--text-primary)",f=`2px solid ${C()==="scan"?"#10b981":"var(--border-color)"}`,P=C()==="scan"?"#10b981":"transparent",k=C()==="scan"?"white":"var(--text-primary)",v=`2px solid ${C()==="import"?"var(--primary-color)":"var(--border-color)"}`,I=C()==="import"?"var(--primary-color)":"transparent",b=C()==="import"?"white":"var(--text-primary)";return m!==s.e&&((s.e=m)!=null?e.style.setProperty("border",m):e.style.removeProperty("border")),i!==s.t&&((s.t=i)!=null?e.style.setProperty("background",i):e.style.removeProperty("background")),c!==s.a&&((s.a=c)!=null?e.style.setProperty("color",c):e.style.removeProperty("color")),f!==s.o&&((s.o=f)!=null?l.style.setProperty("border",f):l.style.removeProperty("border")),P!==s.i&&((s.i=P)!=null?l.style.setProperty("background",P):l.style.removeProperty("background")),k!==s.n&&((s.n=k)!=null?l.style.setProperty("color",k):l.style.removeProperty("color")),v!==s.s&&((s.s=v)!=null?o.style.setProperty("border",v):o.style.removeProperty("border")),I!==s.h&&((s.h=I)!=null?o.style.setProperty("background",I):o.style.removeProperty("background")),b!==s.r&&((s.r=b)!=null?o.style.setProperty("color",b):o.style.removeProperty("color")),s},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0}),t})(),d(w,{get when(){return W()},get children(){var t=J();return t.style.setProperty("padding","0.75rem 1rem"),t.style.setProperty("margin-bottom","1rem"),t.style.setProperty("border-radius","var(--border-radius-md)"),t.style.setProperty("font-size","0.875rem"),n(t,()=>W()?.text),S(e=>{var l=W()?.type==="success"?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)",o=`1px solid ${W()?.type==="success"?"#10b981":"#ef4444"}`,s=W()?.type==="success"?"#059669":"#dc2626";return l!==e.e&&((e.e=l)!=null?t.style.setProperty("background",l):t.style.removeProperty("background")),o!==e.t&&((e.t=o)!=null?t.style.setProperty("border",o):t.style.removeProperty("border")),s!==e.a&&((e.a=s)!=null?t.style.setProperty("color",s):t.style.removeProperty("color")),e},{e:void 0,t:void 0,a:void 0}),t}}),d(w,{get when(){return K(()=>C()==="scan")()&&!M()},get children(){return[(()=>{var t=At(),e=t.firstChild,l=e.nextSibling;return t.style.setProperty("display","flex"),t.style.setProperty("gap","0.5rem"),t.style.setProperty("margin-bottom","1rem"),e.$$click=()=>xe("id"),e.style.setProperty("flex","1"),e.style.setProperty("padding","0.5rem 1rem"),e.style.setProperty("border-radius","8px"),e.style.setProperty("cursor","pointer"),e.style.setProperty("font-weight","600"),e.style.setProperty("font-size","0.875rem"),l.$$click=()=>xe("passport"),l.style.setProperty("flex","1"),l.style.setProperty("padding","0.5rem 1rem"),l.style.setProperty("border-radius","8px"),l.style.setProperty("cursor","pointer"),l.style.setProperty("font-weight","600"),l.style.setProperty("font-size","0.875rem"),S(o=>{var s=`2px solid ${A()==="id"?"#10b981":"var(--border-color)"}`,m=A()==="id"?"#10b981":"transparent",i=A()==="id"?"white":"var(--text-primary)",c=`2px solid ${A()==="passport"?"#3b82f6":"var(--border-color)"}`,f=A()==="passport"?"#3b82f6":"transparent",P=A()==="passport"?"white":"var(--text-primary)";return s!==o.e&&((o.e=s)!=null?e.style.setProperty("border",s):e.style.removeProperty("border")),m!==o.t&&((o.t=m)!=null?e.style.setProperty("background",m):e.style.removeProperty("background")),i!==o.a&&((o.a=i)!=null?e.style.setProperty("color",i):e.style.removeProperty("color")),c!==o.o&&((o.o=c)!=null?l.style.setProperty("border",c):l.style.removeProperty("border")),f!==o.i&&((o.i=f)!=null?l.style.setProperty("background",f):l.style.removeProperty("background")),P!==o.n&&((o.n=P)!=null?l.style.setProperty("color",P):l.style.removeProperty("color")),o},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),t})(),(()=>{var t=It(),e=t.firstChild,l=e.firstChild,o=l.nextSibling,s=o.nextSibling,m=e.nextSibling,i=m.firstChild,c=i.nextSibling,f=c.firstChild,P=m.nextSibling,k=P.firstChild,v=k.nextSibling,I=v.firstChild;return t.style.setProperty("padding","1rem"),t.style.setProperty("margin-bottom","1rem"),t.style.setProperty("background","linear-gradient(135deg, #fdf4ff 0%, #f5f3ff 100%)"),t.style.setProperty("border-radius","12px"),t.style.setProperty("border","1px solid #e9d5ff"),e.style.setProperty("display","flex"),e.style.setProperty("align-items","center"),e.style.setProperty("gap","0.5rem"),e.style.setProperty("margin-bottom","0.75rem"),l.style.setProperty("width","20px"),l.style.setProperty("height","20px"),o.style.setProperty("font-weight","600"),o.style.setProperty("color","#7c3aed"),s.style.setProperty("font-size","0.75rem"),s.style.setProperty("color","#9333ea"),s.style.setProperty("background","#f3e8ff"),s.style.setProperty("padding","0.125rem 0.5rem"),s.style.setProperty("border-radius","9999px"),m.style.setProperty("display","flex"),m.style.setProperty("gap","0.5rem"),m.style.setProperty("align-items","stretch"),i.addEventListener("blur",b=>b.currentTarget.style.borderColor="#c4b5fd"),i.addEventListener("focus",b=>b.currentTarget.style.borderColor="#8b5cf6"),i.$$keydown=Re,i.$$input=b=>oe(b.currentTarget.value),i.style.setProperty("flex","1"),i.style.setProperty("padding","0.75rem 1rem"),i.style.setProperty("font-size","0.9375rem"),i.style.setProperty("border","2px solid #c4b5fd"),i.style.setProperty("border-radius","8px"),i.style.setProperty("background","white"),i.style.setProperty("outline","none"),i.style.setProperty("transition","border-color 0.2s"),c.$$click=$e,c.style.setProperty("padding","0.75rem 1.25rem"),c.style.setProperty("font-size","0.9375rem"),c.style.setProperty("font-weight","600"),c.style.setProperty("border-radius","8px"),c.style.setProperty("border","none"),c.style.setProperty("background","linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)"),c.style.setProperty("color","white"),c.style.setProperty("cursor","pointer"),c.style.setProperty("display","flex"),c.style.setProperty("align-items","center"),c.style.setProperty("gap","0.5rem"),c.style.setProperty("transition","all 0.2s"),c.style.setProperty("white-space","nowrap"),f.style.setProperty("width","18px"),f.style.setProperty("height","18px"),P.style.setProperty("display","flex"),P.style.setProperty("justify-content","space-between"),P.style.setProperty("align-items","center"),P.style.setProperty("margin-top","0.75rem"),k.style.setProperty("font-size","0.75rem"),k.style.setProperty("color","#7c3aed"),n(k,()=>A()==="id"?"Scan the PDF417 barcode on the back of the ID":"Scan the MRZ zone at the bottom of the passport"),v.$$click=()=>R(!0),v.style.setProperty("padding","0.375rem 0.75rem"),v.style.setProperty("font-size","0.75rem"),v.style.setProperty("font-weight","500"),v.style.setProperty("border-radius","6px"),v.style.setProperty("border","1px solid #c4b5fd"),v.style.setProperty("background","white"),v.style.setProperty("color","#7c3aed"),v.style.setProperty("cursor","pointer"),v.style.setProperty("display","flex"),v.style.setProperty("align-items","center"),v.style.setProperty("gap","0.375rem"),I.style.setProperty("width","14px"),I.style.setProperty("height","14px"),S(()=>ut(i,"placeholder",A()==="id"?"Click here and scan ID barcode...":"Click here and scan passport MRZ...")),S(()=>i.value=be()),t})(),d(w,{get when(){return Le()},get children(){var t=Bt(),e=t.firstChild,l=e.firstChild,o=l.nextSibling;return t.style.setProperty("margin-bottom","1rem"),t.style.setProperty("border-radius","12px"),t.style.setProperty("overflow","hidden"),t.style.setProperty("border","2px solid var(--primary-color)"),e.style.setProperty("display","flex"),e.style.setProperty("justify-content","space-between"),e.style.setProperty("align-items","center"),e.style.setProperty("padding","0.75rem 1rem"),e.style.setProperty("background","var(--primary-color)"),e.style.setProperty("color","white"),l.style.setProperty("font-weight","600"),n(l,()=>A()==="id"?"Scanning Driver's License":"Scanning Passport"),o.$$click=()=>R(!1),o.style.setProperty("background","rgba(255,255,255,0.2)"),o.style.setProperty("border","none"),o.style.setProperty("border-radius","4px"),o.style.setProperty("padding","0.25rem 0.5rem"),o.style.setProperty("color","white"),o.style.setProperty("cursor","pointer"),o.style.setProperty("font-size","0.875rem"),n(t,d(w,{get when(){return A()==="id"},get children(){return d(gt,{onScan:we,onError:s=>{B("Scanner error:",s),_({type:"error",text:s.message})},autoStart:!0,showGuides:!0})}}),null),n(t,d(w,{get when(){return A()==="passport"},get children(){return d(ft,{onScan:we,onError:s=>{B("Scanner error:",s),_({type:"error",text:s.message})},autoStart:!0,showGuides:!0})}}),null),t}})]}}),d(w,{get when(){return M()},get children(){var t=Ot(),e=t.firstChild,l=e.firstChild,o=l.nextSibling,s=e.nextSibling,m=s.firstChild,i=m.firstChild,c=i.nextSibling,f=c.nextSibling,P=m.nextSibling,k=P.firstChild,v=k.nextSibling,I=v.nextSibling;return t.style.setProperty("padding","1rem"),t.style.setProperty("background","rgba(16, 185, 129, 0.05)"),t.style.setProperty("border","1px solid #10b981"),t.style.setProperty("border-radius","var(--border-radius-md)"),t.style.setProperty("margin-bottom","1.5rem"),e.style.setProperty("display","flex"),e.style.setProperty("justify-content","space-between"),e.style.setProperty("align-items","center"),e.style.setProperty("margin-bottom","0.75rem"),l.style.setProperty("font-weight","600"),l.style.setProperty("color","#059669"),l.style.setProperty("display","flex"),l.style.setProperty("align-items","center"),l.style.setProperty("gap","0.5rem"),o.$$click=()=>R(!0),o.style.setProperty("padding","0.25rem 0.75rem"),o.style.setProperty("border","1px solid #10b981"),o.style.setProperty("border-radius","var(--border-radius-sm)"),o.style.setProperty("background","transparent"),o.style.setProperty("color","#059669"),o.style.setProperty("cursor","pointer"),o.style.setProperty("font-size","0.75rem"),s.style.setProperty("display","grid"),s.style.setProperty("grid-template-columns","repeat(2, 1fr)"),s.style.setProperty("gap","0.5rem"),s.style.setProperty("font-size","0.875rem"),i.style.setProperty("color","var(--text-muted)"),f.style.setProperty("font-weight","500"),n(f,()=>M()?.idNumber),k.style.setProperty("color","var(--text-muted)"),I.style.setProperty("font-weight","500"),n(I,()=>M()?.idState),n(s,d(w,{get when(){return M()?.expirationDate},get children(){var b=Mt(),u=b.firstChild,q=u.nextSibling,E=q.nextSibling;return u.style.setProperty("color","var(--text-muted)"),E.style.setProperty("font-weight","500"),n(E,()=>M()?.expirationDate),b}}),null),n(s,d(w,{get when(){return M()?.gender},get children(){var b=Lt(),u=b.firstChild,q=u.nextSibling,E=q.nextSibling;return u.style.setProperty("color","var(--text-muted)"),E.style.setProperty("font-weight","500"),n(E,()=>M()?.gender),b}}),null),t}}),d(w,{get when(){return C()==="import"},get children(){var t=Et(),e=t.firstChild;return t.style.setProperty("margin-bottom","1.5rem"),e.style.setProperty("display","block"),e.style.setProperty("font-weight","500"),e.style.setProperty("margin-bottom","0.5rem"),e.style.setProperty("color","var(--text-primary)"),n(t,d(vt,{placeholder:"Search by name, email, or A#...",onSelect:Ee}),null),n(t,d(w,{get when(){return he()},get children(){var l=zt();return l.style.setProperty("margin-top","0.75rem"),l.style.setProperty("padding","0.75rem"),l.style.setProperty("background","var(--success-light, #d1fae5)"),l.style.setProperty("border-radius","var(--border-radius-sm)"),l.style.setProperty("font-size","0.875rem"),l.style.setProperty("color","var(--success-color, #059669)"),l}}),null),t}}),d(w,{get when(){return y().firstName||y().lastName},get children(){var t=Yt(),e=t.firstChild,l=e.firstChild,o=l.nextSibling,s=e.nextSibling;return s.firstChild,t.style.setProperty("padding","0.75rem 1rem"),t.style.setProperty("background","linear-gradient(135deg, #1e40af 0%, #3b82f6 100%)"),t.style.setProperty("border-radius","8px"),t.style.setProperty("margin-bottom","1rem"),t.style.setProperty("display","flex"),t.style.setProperty("align-items","center"),t.style.setProperty("justify-content","space-between"),t.style.setProperty("box-shadow","0 2px 4px rgba(0,0,0,0.1)"),e.style.setProperty("display","flex"),e.style.setProperty("align-items","center"),e.style.setProperty("gap","0.5rem"),l.style.setProperty("width","20px"),l.style.setProperty("height","20px"),o.style.setProperty("color","white"),o.style.setProperty("font-weight","600"),o.style.setProperty("font-size","1.1rem"),o.style.setProperty("text-transform","uppercase"),o.style.setProperty("letter-spacing","0.5px"),n(o,()=>[y().firstName,y().middleName,y().lastName].filter(Boolean).join(" ")),s.style.setProperty("background","rgba(255,255,255,0.2)"),s.style.setProperty("padding","0.25rem 0.75rem"),s.style.setProperty("border-radius","20px"),s.style.setProperty("color","white"),s.style.setProperty("font-weight","600"),s.style.setProperty("font-size","0.875rem"),n(s,()=>y().taxYear,null),t}}),(()=>{var t=J();return n(t,d(T,{label:"First Name",get value(){return y().firstName},onChange:e=>h({...y(),firstName:e}),required:!0,placeholder:"Enter first name"}),null),n(t,d(T,{label:"Middle Name",get value(){return y().middleName},onChange:e=>h({...y(),middleName:e}),placeholder:"Enter middle name"}),null),n(t,d(T,{label:"Last Name",get value(){return y().lastName},onChange:e=>h({...y(),lastName:e}),required:!0,placeholder:"Enter last name"}),null),n(t,d(T,{label:"SSN",get value(){return y().ssn},onChange:e=>h({...y(),ssn:e}),placeholder:"XXX-XX-XXXX"}),null),S(e=>g(t,de,e)),t})(),(()=>{var t=J();return n(t,d(T,{label:"Email",type:"email",get value(){return y().email},onChange:e=>h({...y(),email:e}),placeholder:"client@email.com"}),null),n(t,d(T,{label:"Phone",type:"tel",get value(){return y().phone},onChange:e=>h({...y(),phone:e}),placeholder:"(555) 123-4567"}),null),n(t,d(T,{label:"Date of Birth",type:"date",get value(){return y().dateOfBirth},onChange:e=>h({...y(),dateOfBirth:e})}),null),S(e=>g(t,{...de,"margin-top":"1rem"},e)),t})(),d(w,{get when(){return K(()=>C()==="import")()&&he()||C()==="scan"&&M()},get children(){var t=Dt(),e=t.firstChild;e.firstChild;var l=e.nextSibling,o=l.firstChild;return t.style.setProperty("margin-top","1rem"),e.style.setProperty("display","block"),e.style.setProperty("font-weight","500"),e.style.setProperty("margin-bottom","0.5rem"),e.style.setProperty("color","var(--text-primary)"),n(e,()=>C()==="scan"?"(from ID)":"(from Notary)",null),o.style.setProperty("grid-column","span 2"),n(o,d(T,{label:"",get value(){return y().address},onChange:s=>h({...y(),address:s}),placeholder:"Street address"})),n(l,d(T,{label:"",get value(){return y().city},onChange:s=>h({...y(),city:s}),placeholder:"City"}),null),n(l,d(T,{label:"",get value(){return y().state},onChange:s=>h({...y(),state:s}),placeholder:"State"}),null),n(l,d(T,{label:"",get value(){return y().zipCode},onChange:async s=>{h({...y(),zipCode:s});const m=s.replace(/\D/g,"");if(m.length===5){const i=await _t(m);i&&h(c=>({...c,city:i.city,state:i.stateAbbreviation}))}},placeholder:"ZIP Code"}),null),S(s=>g(l,de,s)),t}}),(()=>{var t=Rt(),e=t.firstChild,l=e.nextSibling;return t.style.setProperty("margin-top","1rem"),e.style.setProperty("display","block"),e.style.setProperty("font-weight","500"),e.style.setProperty("margin-bottom","0.5rem"),e.style.setProperty("color","var(--text-primary)"),l.style.setProperty("display","flex"),l.style.setProperty("gap","0.5rem"),n(l,d(te,{each:[2024,2025],children:o=>(()=>{var s=pe();return s.$$click=()=>h({...y(),taxYear:o}),s.style.setProperty("padding","0.75rem 1.5rem"),s.style.setProperty("border-radius","var(--border-radius-md)"),s.style.setProperty("cursor","pointer"),s.style.setProperty("font-weight","600"),s.style.setProperty("transition","all 0.2s"),n(s,o),S(m=>{var i=`2px solid ${y().taxYear===o?"var(--primary-color)":"var(--border-color)"}`,c=y().taxYear===o?"var(--primary-color)":"transparent",f=y().taxYear===o?"white":"var(--text-primary)";return i!==m.e&&((m.e=i)!=null?s.style.setProperty("border",i):s.style.removeProperty("border")),c!==m.t&&((m.t=c)!=null?s.style.setProperty("background",c):s.style.removeProperty("background")),f!==m.a&&((m.a=f)!=null?s.style.setProperty("color",f):s.style.removeProperty("color")),m},{e:void 0,t:void 0,a:void 0}),s})()})),t})(),(()=>{var t=J();return g(t,it),n(t,d(ee,{variant:"secondary",onClick:()=>X(!1),children:"Cancel"}),null),n(t,d(ee,{onClick:Fe,get disabled(){return!y().firstName.trim()||!y().lastName.trim()||fe()},get children(){return fe()?"Creating...":"Create Client"}}),null),t})()]}}),null),S(t=>{var e=Se,l=Se;return t.e=g(ke,e,t.e),t.t=g(Te,l,t.t),t},{e:void 0,t:void 0}),r})()};ht(["click","input","keydown"]);export{Ht as default};
