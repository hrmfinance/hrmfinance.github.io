import{c as Ie,D as Fs,ar as gn,a as n,t as a,i as t,X as tn,S as p,b as f,W as es,w as bt,aE as Ps,d as is,F as Ht,e as Qe,aF as Jr,h as ms,j as s,aG as Qs,aH as ys,k as fs,v as Ss,aI as Lo,g as Rr,B as $s,Z as Mo,P as As,a3 as Rn,Q as Bo,aa as Oo,G as jo,o as Uo}from"./index-W3yYPV3L.js";import{j as To,d as Dn,n as Mn,o as Ho,p as Bn,g as Wo,u as Yo}from"./taxPortalApi-G5PI4Xnd.js";import{p as On,d as Go,v as Vo,u as qo,g as jn}from"./taxDocumentApi-CTMWtueI.js";import{F as Qo,D as Ys,a as Xo,c as ln,T as Us,d as Un,b as Ko}from"./drakeTypes-D2QiFuNG.js";import{l as Jo}from"./zipCodeLookup-Bhswoe-K.js";import{p as Zo,a as ei}from"./aamvaParser-Bz_09N6e.js";import{S as ti}from"./SignatureValidationView-Gy45b_AQ.js";import{F as ri,a as si,f as ni,b as Sn,c as oi,D as ii}from"./drakeFieldMappings-DyaT91Ke.js";var li=a("<img alt=QR>"),ai=a("<div><div><div><span></span><button></button></div><div><div></div><pre></pre><div><button>Download</button><button>Copy"),di=a("<span>");const Ao=e=>{const[y,o]=Ie(""),[h,w]=Ie(!1),C=se=>{let F=se;return e.convertPipeToTab&&(F=F.replace(/\|/g,"	")),e.toUpperCase&&(F=F.toUpperCase()),F},te=async()=>{if(!e.qrText){o("");return}w(!0);try{const se=C(e.qrText),F=await Ps.toDataURL(se,{width:300,margin:3,errorCorrectionLevel:"M",color:{dark:"#000000",light:"#ffffff"}});o(F)}catch(se){console.error("QR generation error:",se),o("")}w(!1)};Fs(gn(()=>[e.isOpen,e.qrText],([se])=>{se&&te()}));const E=()=>{const se=y();if(!se)return;const F=document.createElement("a");F.href=se,F.download=`QR_${Date.now()}.png`,F.click()},H=()=>e.qrText||"";return n(p,{get when(){return e.isOpen},get children(){var se=ai(),F=se.firstChild,r=F.firstChild,Z=r.firstChild,ge=Z.nextSibling,x=r.nextSibling,W=x.firstChild,$=W.nextSibling,Y=$.nextSibling,c=Y.firstChild,L=c.nextSibling;return se.$$click=D=>D.target===D.currentTarget&&e.onClose(),se.style.setProperty("position","fixed"),se.style.setProperty("inset","0"),se.style.setProperty("background","rgba(0,0,0,0.5)"),se.style.setProperty("display","flex"),se.style.setProperty("align-items","center"),se.style.setProperty("justify-content","center"),se.style.setProperty("z-index","9999"),F.style.setProperty("background","white"),F.style.setProperty("border-radius","12px"),F.style.setProperty("width","380px"),F.style.setProperty("max-width","95vw"),F.style.setProperty("overflow","hidden"),r.style.setProperty("padding","1rem"),r.style.setProperty("background","#1e3a5f"),r.style.setProperty("color","white"),r.style.setProperty("display","flex"),r.style.setProperty("justify-content","space-between"),r.style.setProperty("align-items","center"),Z.style.setProperty("font-weight","600"),t(Z,()=>e.title||"QR Code"),tn(ge,"click",e.onClose,!0),ge.style.setProperty("background","none"),ge.style.setProperty("border","none"),ge.style.setProperty("color","white"),ge.style.setProperty("cursor","pointer"),ge.style.setProperty("font-size","1.5rem"),x.style.setProperty("padding","1.25rem"),x.style.setProperty("text-align","center"),W.style.setProperty("width","256px"),W.style.setProperty("height","256px"),W.style.setProperty("margin","0 auto"),W.style.setProperty("background","#f5f5f5"),W.style.setProperty("border-radius","8px"),W.style.setProperty("display","flex"),W.style.setProperty("align-items","center"),W.style.setProperty("justify-content","center"),t(W,n(p,{get when(){return bt(()=>!h())()&&y()},get fallback(){return(()=>{var D=di();return D.style.setProperty("color","#999"),t(D,()=>h()?"Generating...":"No data"),D})()},get children(){var D=li();return D.style.setProperty("width","256px"),D.style.setProperty("height","256px"),D.style.setProperty("border-radius","8px"),f(()=>es(D,"src",y())),D}})),$.style.setProperty("margin-top","1rem"),$.style.setProperty("padding","0.5rem"),$.style.setProperty("background","#f8fafc"),$.style.setProperty("border-radius","6px"),$.style.setProperty("font-size","0.7rem"),$.style.setProperty("text-align","left"),$.style.setProperty("max-height","70px"),$.style.setProperty("overflow","auto"),$.style.setProperty("white-space","pre-wrap"),$.style.setProperty("word-break","break-all"),t($,H),Y.style.setProperty("margin-top","1rem"),Y.style.setProperty("display","flex"),Y.style.setProperty("gap","0.5rem"),Y.style.setProperty("justify-content","center"),c.$$click=E,c.style.setProperty("padding","0.5rem 1.25rem"),c.style.setProperty("color","white"),c.style.setProperty("border","none"),c.style.setProperty("border-radius","6px"),L.$$click=()=>navigator.clipboard.writeText(H()),L.style.setProperty("padding","0.5rem 1.25rem"),L.style.setProperty("background","#f1f5f9"),L.style.setProperty("border","1px solid #ddd"),L.style.setProperty("border-radius","6px"),L.style.setProperty("cursor","pointer"),f(D=>{var v=!y(),ne=y()?"#3b82f6":"#ccc",k=y()?"pointer":"not-allowed";return v!==D.e&&(c.disabled=D.e=v),ne!==D.t&&((D.t=ne)!=null?c.style.setProperty("background",ne):c.style.removeProperty("background")),k!==D.a&&((D.a=k)!=null?c.style.setProperty("cursor",k):c.style.removeProperty("cursor")),D},{e:void 0,t:void 0,a:void 0}),se}})};is(["click"]);var yi=a("<img alt=QR>"),ci=a("<div><div><div><span>QR - <!> </span><button></button></div><div></div><div><div></div><pre></pre><div><button>Download</button><button>Copy"),pi=a("<button>"),ui=a("<span>");const mi=e=>{const[y,o]=Ie(0),[h,w]=Ie([]),[C,te]=Ie(!1),E=()=>{const x=e.client;return[{label:"Basic",text:[x.firstName,"|",x.middleName||"","|",x.lastName,"|","|","123","43","4345","|","|",Jr(x.dateOfBirth)||"","|","Laborer","|","|","502","356","3456","|","|","|","|","|","|","|","|","|",x.address,"|","|","|",x.zipCode,"|","|","|","|","|"].join("")},{label:"CHILD",text:[x.firstName,"|",x.middleName||"","|",x.lastName,"|","|","123","43","4345","|","|","|","|","son","|","12","|",Jr(x.dateOfBirth)||"","|","|","|"].filter(Boolean).join("")},{label:"EIN",text:["33","2334457","|","emplorhsg","|","address","|","|","40215","|","|","|","|","|","","|","","|","","|","","|"].filter(Boolean).join("")},{label:"vCard",text:`BEGIN:VCARD
VERSION:3.0
FN:${x.firstName||""} ${x.lastName||""}
TEL:${x.phone||""}
EMAIL:${x.email||""}
END:VCARD`}]},H=x=>x.replace(/\|/g,"	").toUpperCase(),se=async()=>{te(!0);const x=E(),W=[];for(const $ of x)if($.text)try{const Y=$.label==="vCard"?$.text:H($.text);Qe({qrText:Y});const c=await Ps.toDataURL(Y,{width:300,margin:3,errorCorrectionLevel:"M",color:{dark:"#000000",light:"#ffffff"}});W.push(c)}catch(Y){Qe("QR generation error:",Y),W.push("")}else W.push("");w(W),te(!1)};Fs(gn(()=>e.isOpen,x=>{x&&(w([]),se())}));const F=()=>E(),r=()=>F()[y()]?.text||"",Z=()=>h()[y()]||"",ge=()=>{const x=Z();if(!x)return;const W=document.createElement("a");W.href=x,W.download=`${e.client.firstName}_${e.client.lastName}_QR.png`,W.click()};return n(p,{get when(){return e.isOpen},get children(){var x=ci(),W=x.firstChild,$=W.firstChild,Y=$.firstChild,c=Y.firstChild,L=c.nextSibling;L.nextSibling;var D=Y.nextSibling,v=$.nextSibling,ne=v.nextSibling,k=ne.firstChild,Ze=k.nextSibling,O=Ze.nextSibling,he=O.firstChild,$e=he.nextSibling;return x.$$click=fe=>fe.target===fe.currentTarget&&e.onClose(),x.style.setProperty("position","fixed"),x.style.setProperty("inset","0"),x.style.setProperty("background","rgba(0,0,0,0.5)"),x.style.setProperty("display","flex"),x.style.setProperty("align-items","center"),x.style.setProperty("justify-content","center"),x.style.setProperty("z-index","9999"),W.style.setProperty("background","white"),W.style.setProperty("border-radius","12px"),W.style.setProperty("width","380px"),W.style.setProperty("max-width","95vw"),W.style.setProperty("overflow","hidden"),$.style.setProperty("padding","1rem"),$.style.setProperty("background","#1e3a5f"),$.style.setProperty("color","white"),$.style.setProperty("display","flex"),$.style.setProperty("justify-content","space-between"),$.style.setProperty("align-items","center"),Y.style.setProperty("font-weight","600"),t(Y,()=>e.client.firstName,L),t(Y,()=>e.client.lastName,null),tn(D,"click",e.onClose,!0),D.style.setProperty("background","none"),D.style.setProperty("border","none"),D.style.setProperty("color","white"),D.style.setProperty("cursor","pointer"),D.style.setProperty("font-size","1.5rem"),v.style.setProperty("display","flex"),v.style.setProperty("border-bottom","1px solid #e5e7eb"),t(v,n(Ht,{get each(){return F()},children:(fe,ye)=>(()=>{var Ce=pi();return Ce.$$click=()=>o(ye()),Ce.style.setProperty("flex","1"),Ce.style.setProperty("padding","0.6rem"),Ce.style.setProperty("border","none"),Ce.style.setProperty("font-weight","500"),Ce.style.setProperty("font-size","0.875rem"),Ce.style.setProperty("cursor","pointer"),t(Ce,()=>fe.label),f(Xe=>{var nt=y()===ye()?"#3b82f6":"#f8fafc",ot=y()===ye()?"white":"#64748b";return nt!==Xe.e&&((Xe.e=nt)!=null?Ce.style.setProperty("background",nt):Ce.style.removeProperty("background")),ot!==Xe.t&&((Xe.t=ot)!=null?Ce.style.setProperty("color",ot):Ce.style.removeProperty("color")),Xe},{e:void 0,t:void 0}),Ce})()})),ne.style.setProperty("padding","1.25rem"),ne.style.setProperty("text-align","center"),k.style.setProperty("width","256px"),k.style.setProperty("height","256px"),k.style.setProperty("margin","0 auto"),k.style.setProperty("background","#f5f5f5"),k.style.setProperty("border-radius","8px"),k.style.setProperty("display","flex"),k.style.setProperty("align-items","center"),k.style.setProperty("justify-content","center"),t(k,n(p,{get when(){return bt(()=>!C())()&&Z()},get fallback(){return(()=>{var fe=ui();return fe.style.setProperty("color","#999"),t(fe,()=>C()?"Generating...":"No data"),fe})()},get children(){var fe=yi();return fe.style.setProperty("width","256px"),fe.style.setProperty("height","256px"),fe.style.setProperty("border-radius","8px"),f(()=>es(fe,"src",Z())),fe}})),Ze.style.setProperty("margin-top","1rem"),Ze.style.setProperty("padding","0.5rem"),Ze.style.setProperty("background","#f8fafc"),Ze.style.setProperty("border-radius","6px"),Ze.style.setProperty("font-size","0.7rem"),Ze.style.setProperty("text-align","left"),Ze.style.setProperty("max-height","70px"),Ze.style.setProperty("overflow","auto"),Ze.style.setProperty("white-space","pre-wrap"),Ze.style.setProperty("word-break","break-all"),t(Ze,r),O.style.setProperty("margin-top","1rem"),O.style.setProperty("display","flex"),O.style.setProperty("gap","0.5rem"),O.style.setProperty("justify-content","center"),he.$$click=ge,he.style.setProperty("padding","0.5rem 1.25rem"),he.style.setProperty("color","white"),he.style.setProperty("border","none"),he.style.setProperty("border-radius","6px"),$e.$$click=()=>navigator.clipboard.writeText(r()),$e.style.setProperty("padding","0.5rem 1.25rem"),$e.style.setProperty("background","#f1f5f9"),$e.style.setProperty("border","1px solid #ddd"),$e.style.setProperty("border-radius","6px"),$e.style.setProperty("cursor","pointer"),f(fe=>{var ye=!Z(),Ce=Z()?"#3b82f6":"#ccc",Xe=Z()?"pointer":"not-allowed";return ye!==fe.e&&(he.disabled=fe.e=ye),Ce!==fe.t&&((fe.t=Ce)!=null?he.style.setProperty("background",Ce):he.style.removeProperty("background")),Xe!==fe.a&&((fe.a=Xe)!=null?he.style.setProperty("cursor",Xe):he.style.removeProperty("cursor")),fe},{e:void 0,t:void 0,a:void 0}),x}})};is(["click"]);const gi={en:{title:"Client Information Review",subtitle:"Tax Return",taxpayer:"Taxpayer Information",spouse:"Spouse Information",address:"Address",dependents:"Dependents",filingInfo:"Filing Information",idInfo:"ID Information",bankAccount:"Bank Account",fullName:"Full Name",ssn:"Social Security Number",dateOfBirth:"Date of Birth",occupation:"Occupation",email:"Email",phone:"Phone",street:"Street Address",city:"City",state:"State",zipCode:"ZIP Code",taxYear:"Tax Year",filingStatus:"Filing Status",idType:"ID Type",idNumber:"ID Number",issuingState:"Issuing State",issueDate:"Issue Date",expiration:"Expiration Date",bankName:"Bank Name",accountType:"Account Type",routingNumber:"Routing Number",accountNumber:"Account Number",accountHolder:"Account Holder",relationship:"Relationship",monthsLived:"Months Lived with You",noDependents:"No dependents to claim",noIdInfo:"No ID information on file",noBankInfo:"No bank information on file",generatedOn:"Generated on",confirmationText:"I confirm that all information above is accurate and complete.",signatureLine:"Signature",dateLine:"Date",driversLicense:"Driver's License",stateId:"State ID",passport:"Passport",checking:"Checking",savings:"Savings",single:"Single",marriedFilingJointly:"Married Filing Jointly",marriedFilingSeparately:"Married Filing Separately",headOfHousehold:"Head of Household",qualifyingWidower:"Qualifying Widow(er)",son:"Son",daughter:"Daughter",stepson:"Stepson",stepdaughter:"Stepdaughter",fosterChild:"Foster Child",brother:"Brother",sister:"Sister",halfBrother:"Half Brother",halfSister:"Half Sister",stepbrother:"Stepbrother",stepsister:"Stepsister",parent:"Parent",grandparent:"Grandparent",grandchild:"Grandchild",niece:"Niece",nephew:"Nephew",aunt:"Aunt",uncle:"Uncle",other:"Other",taxResults:"Tax Return Results",federalRefund:"Federal Refund",federalOwe:"Federal Amount Owed",stateRefund:"State Refund",stateOwe:"State Amount Owed",refund:"Refund",owe:"Owed",noTaxResults:"No tax results available"},es:{title:"Revisi贸n de Informaci贸n del Cliente",subtitle:"Impuestos",taxpayer:"Informaci贸n del Contribuyente",spouse:"Informaci贸n del C贸nyuge",address:"Direcci贸n",dependents:"Dependientes",filingInfo:"Informaci贸n de Declaraci贸n",idInfo:"Informaci贸n de Identificaci贸n",bankAccount:"Cuenta Bancaria",fullName:"Nombre Completo",ssn:"N煤mero de Seguro Social",dateOfBirth:"Fecha de Nacimiento",occupation:"Ocupaci贸n",email:"Correo Electr贸nico",phone:"Tel茅fono",street:"Direcci贸n",city:"Ciudad",state:"Estado",zipCode:"C贸digo Postal",taxYear:"A帽o Fiscal",filingStatus:"Estado Civil Tributario",idType:"Tipo de ID",idNumber:"N煤mero de ID",issuingState:"Estado Emisor",issueDate:"Fecha de Emisi贸n",expiration:"Fecha de Vencimiento",bankName:"Nombre del Banco",accountType:"Tipo de Cuenta",routingNumber:"N煤mero de Ruta",accountNumber:"N煤mero de Cuenta",accountHolder:"Titular de la Cuenta",relationship:"Parentesco",monthsLived:"Meses Vividos con Usted",noDependents:"Sin dependientes para reclamar",noIdInfo:"Sin informaci贸n de identificaci贸n",noBankInfo:"Sin informaci贸n bancaria",generatedOn:"Generado el",confirmationText:"Confirmo que toda la informaci贸n anterior es precisa y completa.",signatureLine:"Firma",dateLine:"Fecha",driversLicense:"Licencia de Conducir",stateId:"ID Estatal",passport:"Pasaporte",checking:"Corriente",savings:"Ahorros",single:"Soltero/a",marriedFilingJointly:"Casado/a Declarando Conjuntamente",marriedFilingSeparately:"Casado/a Declarando por Separado",headOfHousehold:"Jefe/a de Familia",qualifyingWidower:"Viudo/a Calificado/a",son:"Hijo",daughter:"Hija",stepson:"Hijastro",stepdaughter:"Hijastra",fosterChild:"Hijo de Crianza",brother:"Hermano",sister:"Hermana",halfBrother:"Medio Hermano",halfSister:"Media Hermana",stepbrother:"Hermanastro",stepsister:"Hermanastra",parent:"Padre/Madre",grandparent:"Abuelo/a",grandchild:"Nieto/a",niece:"Sobrina",nephew:"Sobrino",aunt:"T铆a",uncle:"T铆o",other:"Otro",taxResults:"Resultados de la Declaraci贸n",federalRefund:"Reembolso Federal",federalOwe:"Adeudo Federal",stateRefund:"Reembolso Estatal",stateOwe:"Adeudo Estatal",refund:"Reembolso",owe:"Adeudo",noTaxResults:"Sin resultados de impuestos disponibles"}},fi={single:"single",married_filing_jointly:"marriedFilingJointly",married_filing_separately:"marriedFilingSeparately",head_of_household:"headOfHousehold",qualifying_widower:"qualifyingWidower"},hi={son:"son",daughter:"daughter",stepson:"stepson",stepdaughter:"stepdaughter",foster_child:"fosterChild",brother:"brother",sister:"sister",half_brother:"halfBrother",half_sister:"halfSister",stepbrother:"stepbrother",stepsister:"stepsister",parent:"parent",grandparent:"grandparent",grandchild:"grandchild",niece:"niece",nephew:"nephew",aunt:"aunt",uncle:"uncle",other:"other"},Xs=(e,y)=>{if(!e)return"-";const o=y==="es"?"es-ES":"en-US";let h;if(typeof e=="string")if(/^\d{4}-\d{2}-\d{2}$/.test(e)){const[w,C,te]=e.split("-").map(Number);h=new Date(w,C-1,te)}else h=new Date(e+"T00:00:00");else h=new Date(e);return isNaN(h.getTime())?"-":h.toLocaleDateString(o,{month:"long",day:"numeric",year:"numeric"})},wn=e=>e?e.length===9?`${e.slice(0,3)}-${e.slice(3,5)}-${e.slice(5)}`:e:"-",an=e=>e==null?"-":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),vi=(e,y="en",o)=>{const h=gi[y],w=[e.firstName,e.middleName,e.lastName,e.suffix].filter(Boolean).join(" ")||"-",C=[e.spouse?.firstName,e.spouse?.middleName,e.spouse?.lastName].filter(Boolean).join(" ")||"-",te=[e.address,e.apt?`Apt ${e.apt}`:""].filter(Boolean).join(", ")||"-",E=e.filingStatus==="married_filing_jointly"||e.filingStatus==="married_filing_separately",H=e.filingStatus==="married_filing_jointly",se=new Date().toLocaleDateString(y==="es"?"es-ES":"en-US",{month:"long",day:"numeric",year:"numeric"}),F=()=>e.idInfo?.idType==="drivers_license"?h.driversLicense:e.idInfo?.idType==="state_id"?h.stateId:e.idInfo?.idType==="passport"?h.passport:h.other,r=()=>{if(!e.filingStatus)return"-";const $=fi[e.filingStatus];return $?h[$]:e.filingStatus},Z=$=>{if(!$)return"-";const Y=hi[$];return Y?h[Y]:$},x=(()=>{const $=e.dependents||[];if(H&&o?.dependents){const Y=o.dependents.filter(c=>!$.some(L=>L.ssn&&c.ssn&&L.ssn===c.ssn||L.firstName?.toLowerCase()===c.firstName?.toLowerCase()&&L.lastName?.toLowerCase()===c.lastName?.toLowerCase())).map(c=>({...c,_fromSpouse:!0}));return[...$.map(c=>({...c,_fromSpouse:!1})),...Y]}return $.map(Y=>({...Y,_fromSpouse:!1}))})(),W=()=>e.hasNoDependents||x.length===0?`<tr><td colspan="5" class="empty-text">${h.noDependents}</td></tr>`:x.map(($,Y)=>`
      <tr>
        <td style="font-weight: 500;">${Y+1}</td>
        <td>${[$.firstName,$.lastName].filter(Boolean).join(" ")||"-"}${$._fromSpouse?' <span class="spouse-badge">(S)</span>':""}</td>
        <td>${Z($.relationship)}</td>
        <td style="font-family: 'SF Mono', Monaco, 'Courier New', monospace; font-size: 13px;">${wn($.ssn)}</td>
        <td>${Xs($.dateOfBirth,y)}</td>
      </tr>
    `).join("");return`
<!DOCTYPE html>
<html lang="${y}">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>${h.title} - ${w}</title>
  <style>
    @page { margin: 0.5in; }
    * { box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Ubuntu, sans-serif;
      font-size: 14px;
      line-height: 1.5;
      color: #1a1a1a;
      background: #f0f0eb;
      margin: 0;
      padding: 24px;
    }
    .container { max-width: 600px; margin: 0 auto; }
    .header {
      text-align: center;
      padding: 32px 24px;
      background: #ffffff;
      border: 1px solid #e3e8ee;
      border-radius: 12px;
      margin-bottom: 16px;
    }
    .header h1 { margin: 0 0 8px 0; font-size: 22px; font-weight: 600; color: #1a1a1a; }
    .header p { margin: 0; color: #7a7a7a; font-size: 14px; }
    .section {
      background: #ffffff;
      border: 1px solid #e3e8ee;
      border-radius: 12px;
      margin-bottom: 16px;
      overflow: hidden;
    }
    .section-header {
      padding: 14px 20px;
      font-weight: 600;
      font-size: 14px;
      color: #1a1a1a;
      background: #fafafa;
      border-bottom: 1px solid #e3e8ee;
    }
    .section-content { padding: 16px 20px; }
    .row {
      display: flex;
      justify-content: space-between;
      padding: 10px 0;
      border-bottom: 1px solid #ebebeb;
    }
    .row:last-child { border-bottom: none; }
    .row .label { color: #7a7a7a; font-size: 13px; }
    .row .value { font-weight: 500; text-align: right; color: #1a1a1a; }
    .row .value.mono { font-family: 'SF Mono', Monaco, 'Courier New', monospace; font-size: 13px; }
    table { width: 100%; border-collapse: collapse; }
    th {
      text-align: left;
      padding: 12px 16px;
      background: #fafafa;
      font-weight: 600;
      font-size: 11px;
      color: #7a7a7a;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      border-bottom: 1px solid #e3e8ee;
    }
    td { padding: 12px 16px; border-bottom: 1px solid #ebebeb; }
    tr:last-child td { border-bottom: none; }
    .signature-section {
      margin-top: 24px;
      padding: 24px;
      background: #ffffff;
      border-radius: 12px;
      border: 1px solid #e3e8ee;
    }
    .signature-section p { margin: 0 0 24px 0; font-size: 13px; color: #7a7a7a; }
    .signature-line {
      display: flex;
      gap: 40px;
      margin-top: 16px;
    }
    .signature-box {
      flex: 1;
      border-top: 1px solid #1a1a1a;
      padding-top: 8px;
    }
    .signature-box span { font-size: 12px; color: #7a7a7a; }
    .footer {
      text-align: center;
      margin-top: 24px;
      font-size: 12px;
      color: #999999;
    }
    .badge {
      display: inline-block;
      padding: 3px 10px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 500;
      background: #f0f0eb;
      color: #1a1a1a;
      border: 1px solid #e3e8ee;
    }
    .empty-text {
      text-align: center;
      color: #999999;
      font-style: italic;
      padding: 12px;
    }
    .spouse-badge {
      display: inline-block;
      font-size: 10px;
      color: #7c3aed;
      font-weight: 600;
    }
    .refund { color: #16a34a; font-weight: 600; }
    .owe { color: #dc2626; font-weight: 600; }
    .tax-results-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
    }
    .tax-result-box {
      padding: 12px 16px;
      border-radius: 8px;
      border: 1px solid #e3e8ee;
    }
    .tax-result-box.federal { background: #f0fdf4; border-color: #bbf7d0; }
    .tax-result-box.state { background: #eff6ff; border-color: #bfdbfe; }
    .tax-result-label { font-size: 12px; color: #7a7a7a; margin-bottom: 4px; }
    .tax-result-value { font-size: 16px; font-weight: 600; }
  </style>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <div class="header">
      <h1>${h.title}</h1>
      <p>${h.subtitle} - ${e.taxYear||new Date().getFullYear()}</p>
    </div>

     <!-- Filing Information -->
    <div class="section">
      <div class="section-header">${h.filingInfo}</div>
      <div class="section-content">
        <div class="row"><span class="label">${h.taxYear}</span><span class="value"><span class="badge">${e.taxYear||new Date().getFullYear()}</span></span></div>
        <div class="row"><span class="label">${h.filingStatus}</span><span class="value">${r()}</span></div>
      </div>
    </div>

    ${e.federalRefund||e.federalOwe||e.stateReturns&&e.stateReturns.length>0?`
    <!-- Tax Return Results -->
    <div class="section">
      <div class="section-header">${h.taxResults}</div>
      <div class="section-content">
        ${e.federalRefund?`<div class="row">
          <span class="label">${h.federalRefund}</span>
          <span class="value ${e.federalRefund?"refund":""}">${e.federalRefund?"+"+an(e.federalRefund):"-"}</span>
        </div>`:""}
        ${e.federalOwe?`<div class="row">
          <span class="label">${h.federalOwe}</span>
          <span class="value ${e.federalOwe?"owe":""}">${e.federalOwe?"-"+an(e.federalOwe):"-"}</span>
        </div>`:""}
        ${e.stateReturns&&e.stateReturns.length>0?e.stateReturns.map($=>`
        <div class="row">
          <span class="label">${$.state} ${$.refund?h.refund:h.owe}</span>
          <span class="value ${$.refund?"refund":"owe"}">${$.refund?"+"+an($.refund):"-"+an($.owe)}</span>
        </div>
        `).join(""):""}
      </div>
    </div>
    `:""}

    <!-- Taxpayer Information -->
    <div class="section">
      <div class="section-header">${h.taxpayer}</div>
      <div class="section-content">
        <div class="row"><span class="label">${h.fullName}</span><span class="value">${w}</span></div>
        <div class="row"><span class="label">${h.ssn}</span><span class="value mono">${wn(e.ssn)}</span></div>
        <div class="row"><span class="label">${h.dateOfBirth}</span><span class="value">${Xs(e.dateOfBirth,y)}</span></div>
        <div class="row"><span class="label">${h.occupation}</span><span class="value">${e.occupation||"-"}</span></div>
        <div class="row"><span class="label">${h.email}</span><span class="value">${e.email||"-"}</span></div>
        <div class="row"><span class="label">${h.phone}</span><span class="value">${e.phone||"-"}</span></div>
      </div>
    </div>

    <!-- Address -->
    <div class="section">
      <div class="section-header">${h.address}</div>
      <div class="section-content">
        <div class="row"><span class="label">${h.street}</span><span class="value">${te}</span></div>
        <div class="row"><span class="label">${h.city}</span><span class="value">${e.city||"-"}</span></div>
        <div class="row"><span class="label">${h.state}</span><span class="value">${e.state||"-"}</span></div>
        <div class="row"><span class="label">${h.zipCode}</span><span class="value mono">${e.zipCode||"-"}</span></div>
      </div>
    </div>

    ${E?`
    <!-- Spouse Information -->
    <div class="section">
      <div class="section-header">${h.spouse}</div>
      <div class="section-content">
        <div class="row"><span class="label">${h.fullName}</span><span class="value">${C}</span></div>
        <div class="row"><span class="label">${h.ssn}</span><span class="value mono">${wn(e.spouse?.ssn)}</span></div>
        <div class="row"><span class="label">${h.dateOfBirth}</span><span class="value">${Xs(e.spouse?.dateOfBirth,y)}</span></div>
        <div class="row"><span class="label">${h.occupation}</span><span class="value">${e.spouse?.occupation||"-"}</span></div>
        <div class="row"><span class="label">${h.phone}</span><span class="value">${e.spouse?.phone||"-"}</span></div>
      </div>
    </div>
    `:""}

   
  ${x.length?`
    <!-- Dependents -->
    <div class="section">
      <div class="section-header">${h.dependents} (${x.length})</div>
      <table>
        <thead>
          <tr>
            <th>#</th>
            <th>${h.fullName}</th>
            <th>${h.relationship}</th>
            <th>${h.ssn}</th>
            <th>${h.dateOfBirth}</th>
          </tr>
        </thead>
        <tbody>
          ${W()}
        </tbody>
      </table>
    </div>
    `:""}


  ${e.idInfo?.idNumber?`
    <!-- ID Information -->
    <div class="section">
      <div class="section-header">${h.idInfo}</div>
      <div class="section-content">
        ${e.idInfo?.idNumber?`
        <div class="row"><span class="label">${h.idType}</span><span class="value">${F()}</span></div>
        <div class="row"><span class="label">${h.idNumber}</span><span class="value mono">${e.idInfo.idNumber}</span></div>
        <div class="row"><span class="label">${h.issuingState}</span><span class="value">${e.idInfo.idState||"-"}</span></div>
        <div class="row"><span class="label">${h.issueDate}</span><span class="value">${Xs(e.idInfo.issueDate,y)}</span></div>
        <div class="row"><span class="label">${h.expiration}</span><span class="value">${Xs(e.idInfo.expirationDate,y)}</span></div>
        `:`<div class="empty-text">${h.noIdInfo}</div>`}
      </div>
    </div>
    `:""}

    ${e.bankInfo?.accountNumber?`
    <!-- Bank Account -->
    <div class="section">
      <div class="section-header">${h.bankAccount}</div>
      <div class="section-content">
        ${e.bankInfo?.accountNumber?`
        <div class="row"><span class="label">${h.bankName}</span><span class="value">${e.bankInfo.bankName||"-"}</span></div>
        <div class="row"><span class="label">${h.accountType}</span><span class="value"><span class="badge">${e.bankInfo.accountType}</span></span></div>
        <div class="row"><span class="label">${h.routingNumber}</span><span class="value mono">${e.bankInfo.routingNumber||"-"}</span></div>
        <div class="row"><span class="label">${h.accountNumber}</span><span class="value mono">${e.bankInfo.accountNumber}</span></div>
        ${e.bankInfo.accountHolderName?`<div class="row"><span class="label">${h.accountHolder}</span><span class="value">${e.bankInfo.accountHolderName}</span></div>`:""}
        `:`<div class="empty-text">${h.noBankInfo}</div>`}
      </div>
    </div>
      `:""}

    <!-- Signature Section -->
    <div class="signature-section">
      <p>${h.confirmationText}</p>
      <div class="signature-line">
        <div class="signature-box"><span>${h.signatureLine}</span></div>
        <div class="signature-box"><span>${h.dateLine}</span></div>
      </div>
    </div>

    <!-- Footer -->
    <div class="footer">
      ${h.generatedOn}: ${se}
    </div>
  </div>
</body>
</html>
`},bi=(e,y="en",o)=>{const h=vi(e,y,o);`${[e.firstName,e.lastName].filter(Boolean).join("_")||"Client"}${e.taxYear||new Date().getFullYear()}`;const C=window.open("","_blank");if(!C){alert("Please allow popups to download the PDF");return}C.document.write(h),C.document.close(),C.onload=()=>{setTimeout(()=>{C.print()},250)}};var Pi=a("<button>Download All"),xi=a("<div>Generating QR codes..."),$i=a("<div>No data to display"),Si=a("<div>"),wi=a("<div><div><div><span> </span><div><button></button></div></div><div>"),Ci=a("<div>QR <!> of "),_i=a("<img>"),ki=a("<div><div></div><pre></pre><div><button>Download</button><button>Copy"),Ii=a("<span>Error");const No=e=>{const[y,o]=Ie([]),[h,w]=Ie(!1),C=F=>{let r=F;return e.convertPipeToTab&&(r=r.replace(/\|/g,"	")),e.toUpperCase&&(r=r.toUpperCase()),r},te=async()=>{if(!e.qrText||e.qrText.length===0){o([]);return}w(!0);try{const F=[];for(const r of e.qrText){const Z=C(r),ge=await Ps.toDataURL(Z,{width:300,margin:3,errorCorrectionLevel:"M",color:{dark:"#000000",light:"#ffffff"}});F.push({text:r,processedText:Z,image:ge})}o(F)}catch(F){console.error("QR generation error:",F),o([])}w(!1)};Fs(gn(()=>[e.isOpen,e.qrText],([F])=>{F&&te()}));const E=(F,r)=>{if(!F.image)return;const Z=document.createElement("a");Z.href=F.image,Z.download=`QR_${r+1}_${Date.now()}.png`,Z.click()},H=()=>{y().forEach((F,r)=>{setTimeout(()=>E(F,r),r*200)})},se=F=>{navigator.clipboard.writeText(F)};return n(p,{get when(){return e.isOpen},get children(){var F=wi(),r=F.firstChild,Z=r.firstChild,ge=Z.firstChild,x=ge.firstChild,W=ge.nextSibling,$=W.firstChild,Y=Z.nextSibling;return F.$$click=c=>c.target===c.currentTarget&&e.onClose(),F.style.setProperty("position","fixed"),F.style.setProperty("inset","0"),F.style.setProperty("background","rgba(0,0,0,0.5)"),F.style.setProperty("display","flex"),F.style.setProperty("align-items","center"),F.style.setProperty("justify-content","center"),F.style.setProperty("z-index","9999"),r.style.setProperty("background","white"),r.style.setProperty("border-radius","12px"),r.style.setProperty("max-width","1200px"),r.style.setProperty("max-height","90vh"),r.style.setProperty("overflow","hidden"),r.style.setProperty("display","flex"),r.style.setProperty("flex-direction","column"),Z.style.setProperty("padding","1rem"),Z.style.setProperty("background","#1e3a5f"),Z.style.setProperty("color","white"),Z.style.setProperty("display","flex"),Z.style.setProperty("justify-content","space-between"),Z.style.setProperty("align-items","center"),Z.style.setProperty("flex-shrink","0"),ge.style.setProperty("font-weight","600"),t(ge,()=>e.title||"QR Codes",x),t(ge,(()=>{var c=bt(()=>y().length>1);return()=>c()&&`(${y().length})`})(),null),W.style.setProperty("display","flex"),W.style.setProperty("gap","0.5rem"),W.style.setProperty("align-items","center"),t(W,n(p,{get when(){return y().length>1},get children(){var c=Pi();return c.$$click=H,c.style.setProperty("padding","0.375rem 0.75rem"),c.style.setProperty("background","#3b82f6"),c.style.setProperty("color","white"),c.style.setProperty("border","none"),c.style.setProperty("border-radius","4px"),c.style.setProperty("cursor","pointer"),c.style.setProperty("font-size","0.875rem"),c}}),$),tn($,"click",e.onClose,!0),$.style.setProperty("background","none"),$.style.setProperty("border","none"),$.style.setProperty("color","white"),$.style.setProperty("cursor","pointer"),$.style.setProperty("font-size","1.5rem"),Y.style.setProperty("padding","1.25rem"),Y.style.setProperty("overflow-y","auto"),Y.style.setProperty("flex","1"),t(Y,n(p,{get when(){return h()},get children(){var c=xi();return c.style.setProperty("text-align","center"),c.style.setProperty("padding","2rem"),c.style.setProperty("color","#666"),c}}),null),t(Y,n(p,{get when(){return bt(()=>!h())()&&y().length===0},get children(){var c=$i();return c.style.setProperty("text-align","center"),c.style.setProperty("padding","2rem"),c.style.setProperty("color","#999"),c}}),null),t(Y,n(p,{get when(){return bt(()=>!h())()&&y().length>0},get children(){var c=Si();return c.style.setProperty("display","grid"),c.style.setProperty("gap","1.5rem"),c.style.setProperty("justify-items","center"),t(c,n(Ht,{get each(){return y()},children:(L,D)=>(()=>{var v=ki(),ne=v.firstChild,k=ne.nextSibling,Ze=k.nextSibling,O=Ze.firstChild,he=O.nextSibling;return v.style.setProperty("background","#f8fafc"),v.style.setProperty("border-radius","12px"),v.style.setProperty("padding","1rem"),v.style.setProperty("text-align","center"),v.style.setProperty("border","1px solid #e2e8f0"),v.style.setProperty("width","100%"),v.style.setProperty("max-width","320px"),t(v,n(p,{get when(){return y().length>1},get children(){var $e=Ci(),fe=$e.firstChild,ye=fe.nextSibling;return ye.nextSibling,$e.style.setProperty("background","#1e3a5f"),$e.style.setProperty("color","white"),$e.style.setProperty("font-size","0.75rem"),$e.style.setProperty("font-weight","600"),$e.style.setProperty("padding","0.25rem 0.75rem"),$e.style.setProperty("border-radius","9999px"),$e.style.setProperty("display","inline-block"),$e.style.setProperty("margin-bottom","0.75rem"),t($e,()=>D()+1,ye),t($e,()=>y().length,null),$e}}),ne),ne.style.setProperty("width","200px"),ne.style.setProperty("height","200px"),ne.style.setProperty("margin","0 auto"),ne.style.setProperty("background","white"),ne.style.setProperty("border-radius","8px"),ne.style.setProperty("display","flex"),ne.style.setProperty("align-items","center"),ne.style.setProperty("justify-content","center"),ne.style.setProperty("border","1px solid #e2e8f0"),t(ne,n(p,{get when(){return L.image},get fallback(){return(()=>{var $e=Ii();return $e.style.setProperty("color","#999"),$e})()},get children(){var $e=_i();return $e.style.setProperty("width","200px"),$e.style.setProperty("height","200px"),$e.style.setProperty("border-radius","8px"),f(fe=>{var ye=L.image,Ce=`QR ${D()+1}`;return ye!==fe.e&&es($e,"src",fe.e=ye),Ce!==fe.t&&es($e,"alt",fe.t=Ce),fe},{e:void 0,t:void 0}),$e}})),k.style.setProperty("margin-top","0.75rem"),k.style.setProperty("padding","0.5rem"),k.style.setProperty("background","white"),k.style.setProperty("border-radius","6px"),k.style.setProperty("font-size","0.65rem"),k.style.setProperty("text-align","left"),k.style.setProperty("max-height","60px"),k.style.setProperty("overflow","auto"),k.style.setProperty("white-space","pre-wrap"),k.style.setProperty("word-break","break-all"),k.style.setProperty("border","1px solid #e2e8f0"),t(k,()=>L.text),Ze.style.setProperty("margin-top","0.75rem"),Ze.style.setProperty("display","flex"),Ze.style.setProperty("gap","0.5rem"),Ze.style.setProperty("justify-content","center"),O.$$click=()=>E(L,D()),O.style.setProperty("padding","0.375rem 0.75rem"),O.style.setProperty("background","#3b82f6"),O.style.setProperty("color","white"),O.style.setProperty("border","none"),O.style.setProperty("border-radius","4px"),O.style.setProperty("cursor","pointer"),O.style.setProperty("font-size","0.75rem"),he.$$click=()=>se(L.text),he.style.setProperty("padding","0.375rem 0.75rem"),he.style.setProperty("background","white"),he.style.setProperty("border","1px solid #ddd"),he.style.setProperty("border-radius","4px"),he.style.setProperty("cursor","pointer"),he.style.setProperty("font-size","0.75rem"),v})()})),f(L=>(L=y().length===1?"1fr":"repeat(auto-fill, minmax(280px, 1fr))")!=null?c.style.setProperty("grid-template-columns",L):c.style.removeProperty("grid-template-columns")),c}}),null),f(c=>(c=y().length>1?"90vw":"380px")!=null?r.style.setProperty("width",c):r.style.removeProperty("width")),F}})};is(["click"]);var Ti=a('<svg viewBox="0 0 24 24"fill=none stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">'),Is=a("<div>"),Ai=a("<button>Spouse Info"),Ni=a("<button> Admin"),zi=a('<div><svg viewBox="0 0 20 20"><path d="M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z"></path></svg><span>'),Hn=a("<span>+"),Cn=a("<div><span></span><span>"),Di=a("<div><div><div><span>FEDERAL"),dn=a("<button>"),Ri=a('<div><div><svg viewBox="0 0 20 20"fill=#7a7a7a><path d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"></path></svg><span></span></div><div><div><div><span></span><span></span></div><div><span></span><div><span></span></div></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span>'),Fi=a("<div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span>"),Ei=a("<div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><div><span></span></div></div><div><span></span><div><span>"),Li=a('<div><div><div><button><svg width=14 height=14 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2.5 stroke-linecap=round stroke-linejoin=round><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1=12 y1=15 x2=12 y2=3></line></svg>PDF</button><div><button>EN</button><button>ES</button></div></div><div><h2></h2><p></p></div></div><div><div><div><svg viewBox="0 0 20 20"fill=#7a7a7a><path fill-rule=evenodd d="M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z"clip-rule=evenodd></path></svg><span></span></div><div><div><div><span></span><span></span></div><div><span></span><span></span></div></div></div></div><div><div><svg viewBox="0 0 20 20"fill=#7a7a7a><path fill-rule=evenodd d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"clip-rule=evenodd></path></svg><span></span></div><div><div><div><span></span><span></span></div><div><span></span><div><span></span></div></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div></div></div></div><div><div><svg viewBox="0 0 20 20"fill=#7a7a7a><path fill-rule=evenodd d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z"clip-rule=evenodd></path></svg><span></span></div><div><div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div></div></div></div><div><div><svg viewBox="0 0 20 20"fill=#7a7a7a><path fill-rule=evenodd d="M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2H4zm3 5a1 1 0 011-1h.01a1 1 0 110 2H8a1 1 0 01-1-1zm4 0a1 1 0 011-1h4a1 1 0 110 2h-4a1 1 0 01-1-1zm-4 3a1 1 0 011-1h.01a1 1 0 110 2H8a1 1 0 01-1-1zm4 0a1 1 0 011-1h4a1 1 0 110 2h-4a1 1 0 01-1-1z"clip-rule=evenodd></path></svg><span></span></div><div></div></div><div><div><svg viewBox="0 0 20 20"fill=#7a7a7a><path d="M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z"></path><path fill-rule=evenodd d="M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z"clip-rule=evenodd></path></svg><span></span></div><div>'),Mi=a('<div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"clip-rule=evenodd></path></svg>Personal Information'),Bi=a('<div><div><input type=text placeholder="First name"></div><div><label>Middle Name</label><input type=text placeholder="Middle name"></div><div><label>Last Name *</label><input type=text placeholder="Last name"></div><div><label>Suffix</label><select><option value>None</option><option value=Jr>Jr</option><option value=Sr>Sr</option><option value=II>II</option><option value=III>III</option><option value=IV>IV</option></select></div><div><input type=text placeholder=XXX-XX-XXXX maxlength=11></div><div><input type=date></div><div><label>Occupation</label><input type=text placeholder=Occupation></div><div><label>Email</label><input type=email placeholder=email@example.com></div><div><input type=tel placeholder="(XXX) XXX-XXXX">'),Oi=a('<div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z"clip-rule=evenodd></path></svg>Address'),ji=a("<span>Searching in "),Ui=a("<div><div>Powered by OpenStreetMap"),Hi=a('<div><label><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z"clip-rule=evenodd></path></svg>Search Address</label><input type=text><svg viewBox="0 0 20 20"fill=currentColor>'),Wi=a('<div><div><label>Street Address</label><input type=text placeholder="123 Main St"></div><div><label>Apt</label><input type=text placeholder=123></div><div><label>ZIP Code</label><input type=text placeholder=12345 maxlength=10></div><div><label>City</label><input type=text placeholder=City></div><div><label>State</label><select><option value>Select state'),Yi=a("<button>Unlink"),Gi=a('<div><svg viewBox="0 0 20 20"fill=#10b981><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"clip-rule=evenodd></path></svg><div><div>Linked to: </div><div>Spouse documents will be included in calculations'),Vi=a("<p>Link the spouse to an existing client to include their documents in tax calculations."),qi=a('<button><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z"clip-rule=evenodd></path></svg>Search for Spouse Client'),Qi=a("<div><span>Searching..."),Xi=a('<div><input type=text placeholder="Search by name...">'),Ki=a("<button>Cancel"),Ji=a('<div><div><svg viewBox="0 0 20 20"fill=currentColor><path d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"></path></svg>Spouse Information</div><div><div><div><svg viewBox="0 0 20 20"fill=#f59e0b><path fill-rule=evenodd d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z"clip-rule=evenodd></path></svg><span>Link Spouse as Client'),Zi=a('<div><div><label>First Name *</label><input type=text placeholder="First name"></div><div><label>Middle Name</label><input type=text placeholder="Middle name"></div><div><label>Last Name *</label><input type=text placeholder="Last name"></div><div><label>Suffix</label><select><option value>None</option><option value=Jr>Jr</option><option value=Sr>Sr</option><option value=II>II</option><option value=III>III</option><option value=IV>IV</option></select></div><div><label>SSN</label><input type=text placeholder=XXX-XX-XXXX maxlength=11></div><div><label>Date of Birth</label><input type=date></div><div><label>Occupation</label><input type=text placeholder=Occupation></div><div><label>Email</label><input type=email placeholder=email@example.com></div><div><label>Phone</label><input type=tel placeholder="(XXX) XXX-XXXX">'),el=a('<div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"clip-rule=evenodd></path></svg>Spouse Tax Options'),tl=a("<div><label><input type=checkbox><span>Spouse is legally blind</span></label><label><input type=checkbox><span>Spouse can be claimed as dependent on another return"),rl=a('<div><svg viewBox="0 0 20 20"fill=currentColor><path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"></path></svg>Dependents (<!>)'),sl=a('<div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"clip-rule=evenodd></path></svg>Task Complete'),nl=a("<div><div><input type=checkbox><div><div>No Dependents</div><div>Check this box to confirm the client has no dependents to claim"),ol=a('<button><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z"clip-rule=evenodd></path></svg>Add Dependent'),il=a('<div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z"clip-rule=evenodd></path></svg>Filing Information'),ll=a("<div><div><label>Tax Year</label><select><option value=2026>2026</option><option value=2025>2025</option><option value=2024>2024</option><option value=2023>2023</option></select></div><div><label>Filing Status</label><select><option value>Select filing status"),al=a('<div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z"clip-rule=evenodd></path></svg>Additional Tax Options'),dl=a("<div><label><input type=checkbox><span>Taxpayer is legally blind</span></label><label><input type=checkbox><span>Can be claimed as dependent on another return</span></label><label><input type=checkbox><span>Had qualifying health insurance coverage"),yl=a(`<div><div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2H4zm3 5a1 1 0 011-1h.01a1 1 0 110 2H8a1 1 0 01-1-1zm4 0a1 1 0 011-1h4a1 1 0 110 2h-4a1 1 0 01-1-1zm-4 3a1 1 0 011-1h.01a1 1 0 110 2H8a1 1 0 01-1-1zm4 0a1 1 0 011-1h4a1 1 0 110 2h-4a1 1 0 01-1-1z"clip-rule=evenodd></path></svg>ID Information (Driver's License / State ID)`),cl=a('<div><div><svg viewBox="0 0 24 24"fill=none stroke=#9333ea><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"></path></svg><span>Scan ID with External Scanner</span><span>Recommended</span></div><div><input type=text placeholder="Click here and scan ID barcode with external scanner..."><button><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"clip-rule=evenodd></path></svg>Process</button></div><div><span>Scan the PDF417 barcode on the back of the ID</span><button><svg viewBox="0 0 20 20"fill=currentColor><path d="M4 5a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V7a2 2 0 00-2-2h-1.586a1 1 0 01-.707-.293l-1.121-1.121A2 2 0 0011.172 3H8.828a2 2 0 00-1.414.586L6.293 4.707A1 1 0 015.586 5H4zm6 9a3 3 0 100-6 3 3 0 000 6z"></path></svg>Use Camera Instead'),pl=a("<div> "),ul=a(`<div><div><label>ID Number *</label><input type=text placeholder="License/ID number"></div><div><label>ID Type</label><select><option value=drivers_license>Driver's License</option><option value=state_id>State ID</option><option value=passport>Passport</option><option value=other>Other</option></select></div><div><label>Issuing State *</label><select><option value>Select state</option></select></div><div><label>Issue Date</label><input type=date></div><div><label>Expiration Date</label><input type=date>`),ml=a("<div><strong>Gender:</strong> "),gl=a("<div><strong>Height:</strong> "),fl=a("<div><strong>Weight:</strong> "),hl=a("<div><strong>Eye Color:</strong> "),vl=a("<div><strong>Hair Color:</strong> "),bl=a("<div><div>Additional ID Details (from scan)</div><div>"),Pl=a('<div><svg viewBox="0 0 20 20"fill=currentColor><path d="M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z"></path><path fill-rule=evenodd d="M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z"clip-rule=evenodd></path></svg>Bank Information (for Direct Deposit)'),xl=a('<button><svg viewBox="0 0 24 24"fill=none stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z">'),$l=a('<div><div><label>Account Type</label><select><option value>Select account type</option><option value=checking>Checking</option><option value=savings>Savings</option></select></div><div><label>Bank</label><input type=text placeholder="Search or type bank name..."></div><div><label>Routing Number</label><input type=text placeholder="9 digits"maxlength=9></div><div><label>Account Number</label><input type=text placeholder="Account number"></div><div><label>Account Holder Name</label><input type=text placeholder="Name on account">'),Sl=a('<div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z"clip-rule=evenodd>'),wl=a("<div><div><span> / </span></div><div><div><label> ($)</label><input type=number min=0 step=0.01 placeholder=0.00></div><div><label> ($)</label><input type=number min=0 step=0.01 placeholder=0.00>"),Cl=a('<div><div><span> / </span><button><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z"clip-rule=evenodd>'),_l=a('<div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M18 13V5a2 2 0 00-2-2H4a2 2 0 00-2 2v8a2 2 0 002 2h3l3 3 3-3h3a2 2 0 002-2zM5 7a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1zm1 3a1 1 0 100 2h3a1 1 0 100-2H6z"clip-rule=evenodd></path></svg>Notes'),kl=a('<div><textarea placeholder="Additional notes about this client...">'),Il=a('<div><svg viewBox="0 0 20 20"fill=#dc2626><path fill-rule=evenodd d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z"clip-rule=evenodd></path></svg><div><div>Administrator Controls</div><div>These settings are only visible to administrators'),Tl=a('<div><svg viewBox="0 0 20 20"fill=currentColor><path d="M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z"></path><path fill-rule=evenodd d="M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z"clip-rule=evenodd></path></svg>Transfer Client to Another Business'),Al=a("<div><p><strong>Warning:</strong> Transferring this client to another business will move all their data, documents, and records. This action cannot be easily undone."),Nl=a("<select><option value>Select a business"),zl=a('<div><div><label>Current Business ID</label><input type=text disabled></div><div><label>Transfer to Business</label></div><button><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.707l-3-3a1 1 0 00-1.414 1.414L10.586 9H7a1 1 0 100 2h3.586l-1.293 1.293a1 1 0 101.414 1.414l3-3a1 1 0 000-1.414z"clip-rule=evenodd></path></svg>Transfer'),Dl=a('<div><div><div><div><svg viewBox="0 0 20 20"fill=#dc2626><path fill-rule=evenodd d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z"clip-rule=evenodd></path></svg></div><h3>Confirm Transfer</h3></div><p>Are you sure you want to transfer <strong> </strong> to <strong></strong>?</p><div><button>Cancel</button><button>Confirm Transfer'),Rl=a('<div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"clip-rule=evenodd></path></svg>Client Record Info'),Fl=a("<div><div><span>Client ID:</span><div></div></div><div><span>Business ID:</span><div></div></div><div><span>Created:</span><div></div></div><div><span>Updated:</span><div>"),El=a(`<div><div><div><h3>Client Information</h3><p>Update personal details, spouse information, and dependents</p></div><div><button></button></div></div><div><button>Review Info</button><button>Personal Info</button><button>Dependents (<!>)</button><button>Tax Details</button></div><style>
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
      `),Ll=a('<svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"clip-rule=evenodd>'),Wn=a("<span>-"),Ml=a("<div><span> "),Bl=a('<div><svg viewBox="0 0 20 20"fill=#7a7a7a><path fill-rule=evenodd d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"clip-rule=evenodd></path></svg><span>'),Ol=a('<div><div><div><svg viewBox="0 0 20 20"fill=#7a7a7a><path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"></path></svg><span></span></div><span></span></div><div>'),jl=a("<span>SPOUSE"),Ul=a("<div><div><div></div><div><div><div></div></div><div></div></div></div><div><div><span></span><span></span></div><div><span></span><span>"),Hl=a('<svg><path fill-rule=evenodd d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z"clip-rule=evenodd></svg>',!1,!0,!1),Wl=a('<svg><path fill-rule=evenodd d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z"clip-rule=evenodd></svg>',!1,!0,!1),Yl=a("<div><div></div><div>, <!> "),Ks=a("<option>"),Gl=a('<div><div><div> </div><div>  Tax Year </div></div><svg viewBox="0 0 20 20"fill=#10b981><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z"clip-rule=evenodd>'),Vl=a('<div><div><span>Dependent #</span><button><svg viewBox="0 0 24 24"fill=none stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"></path></svg></button><button title="Remove dependent"><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z"clip-rule=evenodd></path></svg></button></div><div><div><label>First Name *</label></div><div><label>Last Name *</label></div><div><label>Relationship *</label><select></select></div><div><label>SSN</label></div><div><label>Date of Birth</label></div><div><label>Months Lived with You</label></div></div><div><label><input type=checkbox><span>Full-time student</span></label><label><input type=checkbox><span>Permanently disabled</span></label><label><input type=checkbox><span>Provided more than half support'),ql=a('<div><div><label></label><select><option value>Select</option></select></div><div><label> ($)</label><input type=number min=0 step=0.01 placeholder=0.00></div><div><label> ($)</label><input type=number min=0 step=0.01 placeholder=0.00></div><button><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z"clip-rule=evenodd>'),Ql=a("<div>Loading businesses..."),Xl=a("<option> "),Kl=a("<div><label>");const Jl={son:"Son",daughter:"Daughter",stepson:"Stepson",stepdaughter:"Stepdaughter",foster_child:"Foster Child",brother:"Brother",sister:"Sister",half_brother:"Half Brother",half_sister:"Half Sister",stepbrother:"Stepbrother",stepsister:"Stepsister",parent:"Parent",grandparent:"Grandparent",grandchild:"Grandchild",niece:"Niece",nephew:"Nephew",aunt:"Aunt",uncle:"Uncle",other:"Other"},yn=["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY","DC"],Yn=["JPMorgan Chase","Bank of America","Wells Fargo","Citibank","U.S. Bank","PNC Bank","Truist Bank","Goldman Sachs","Capital One","TD Bank","Fifth Third Bank","Citizens Bank","KeyBank","Huntington Bank","M&T Bank","Regions Bank","BMO Harris Bank","HSBC Bank USA","Santander Bank","Ally Bank","Synchrony Bank","Discover Bank","Charles Schwab Bank","American Express National Bank","First Republic Bank","First Citizens Bank","Comerica Bank","Zions Bank","Republic Bank & Trust Company","Western Alliance Bank","Valley National Bank","Webster Bank","Banner Bank","Pacific Premier Bank","Prosperity Bank","Texas Capital Bank","Frost Bank","Navy Federal Credit Union","State Employees Credit Union","Pentagon Federal Credit Union","SchoolsFirst Federal Credit Union","Alliant Credit Union","Golden 1 Credit Union","America First Credit Union","USAA Federal Savings Bank","Mountain America Credit Union","Chime","Varo Bank","Current","SoFi","Marcus by Goldman Sachs","Axos Bank","CIT Bank","TIAA Bank","Popular Bank","BankUnited","First Horizon Bank","Synovus Bank","Old National Bank","Associated Bank","Simmons Bank","Cadence Bank"].sort(),Zl={en:{clientInfoReview:"Client Information Review",reviewSubtitle:"Please review all information below for accuracy before proceeding",taxpayer:"Taxpayer",address:"Address",spouse:"Spouse",filingInfo:"Filing Information",idInfo:"ID Information",bankAccount:"Bank Account",dependents:"Dependents",fullName:"Full Name",ssn:"SSN",dateOfBirth:"Date of Birth",occupation:"Occupation",email:"Email",phone:"Phone",street:"Street",city:"City",state:"State",zipCode:"ZIP Code",taxYear:"Tax Year",filingStatus:"Filing Status",taxResults:"Tax Return Results",federalRefund:"Federal Refund",federalOwe:"Federal Amount Owed",stateRefund:"State Refund",stateOwe:"State Amount Owed",totalRefund:"Total Refund",totalOwe:"Total Owed",refund:"Refund",owe:"Owed",addState:"Add State",removeState:"Remove",noStateReturns:"No state returns added",idType:"ID Type",idNumber:"ID Number",issuingState:"Issuing State",issueDate:"Issue Date",expiration:"Expiration",driversLicense:"Driver's License",stateId:"State ID",passport:"Passport",other:"Other",noIdInfo:"No ID information on file",bankName:"Bank Name",accountType:"Account Type",routingNumber:"Routing #",accountNumber:"Account #",accountHolder:"Account Holder",checking:"Checking",savings:"Savings",noBankInfo:"No bank information on file",relationship:"Relationship",monthsLived:"Months Lived",noDependentsConfirmed:"No dependents to claim (confirmed)",noDependentsAdded:"No dependents added",printReview:"Print Review",show:"Show",hide:"Hide",son:"Son",daughter:"Daughter",stepson:"Stepson",stepdaughter:"Stepdaughter",fosterChild:"Foster Child",brother:"Brother",sister:"Sister",halfBrother:"Half Brother",halfSister:"Half Sister",stepbrother:"Stepbrother",stepsister:"Stepsister",parent:"Parent",grandparent:"Grandparent",grandchild:"Grandchild",niece:"Niece",nephew:"Nephew",aunt:"Aunt",uncle:"Uncle",single:"Single",marriedFilingJointly:"Married Filing Jointly",marriedFilingSeparately:"Married Filing Separately",headOfHousehold:"Head of Household",qualifyingWidower:"Qualifying Widow(er)"},es:{clientInfoReview:"Revisi贸n de Informaci贸n del Cliente",reviewSubtitle:"Por favor revise toda la informaci贸n a continuaci贸n para verificar su exactitud",taxpayer:"Contribuyente",address:"Direcci贸n",spouse:"C贸nyuge",filingInfo:"Informaci贸n de Declaraci贸n",idInfo:"Informaci贸n de Identificaci贸n",bankAccount:"Cuenta Bancaria",dependents:"Dependientes",fullName:"Nombre Completo",ssn:"N煤mero de Seguro Social",dateOfBirth:"Fecha de Nacimiento",occupation:"Ocupaci贸n",email:"Correo Electr贸nico",phone:"Tel茅fono",street:"Calle",city:"Ciudad",state:"Estado",zipCode:"C贸digo Postal",taxYear:"A帽o Fiscal",filingStatus:"Estado Civil Tributario",taxResults:"Resultados de la Declaraci贸n",federalRefund:"Reembolso Federal",federalOwe:"Adeudo Federal",stateRefund:"Reembolso Estatal",stateOwe:"Adeudo Estatal",totalRefund:"Reembolso Total",totalOwe:"Adeudo Total",refund:"Reembolso",owe:"Adeudo",addState:"Agregar Estado",removeState:"Eliminar",noStateReturns:"Sin declaraciones estatales agregadas",idType:"Tipo de ID",idNumber:"N煤mero de ID",issuingState:"Estado Emisor",issueDate:"Fecha de Emisi贸n",expiration:"Vencimiento",driversLicense:"Licencia de Conducir",stateId:"ID Estatal",passport:"Pasaporte",other:"Otro",noIdInfo:"Sin informaci贸n de identificaci贸n",bankName:"Nombre del Banco",accountType:"Tipo de Cuenta",routingNumber:"N煤mero de Ruta",accountNumber:"N煤mero de Cuenta",accountHolder:"Titular de la Cuenta",checking:"Corriente",savings:"Ahorros",noBankInfo:"Sin informaci贸n bancaria",relationship:"Parentesco",monthsLived:"Meses Vividos",noDependentsConfirmed:"Sin dependientes para reclamar (confirmado)",noDependentsAdded:"Sin dependientes agregados",printReview:"Imprimir Revisi贸n",show:"Mostrar",hide:"Ocultar",son:"Hijo",daughter:"Hija",stepson:"Hijastro",stepdaughter:"Hijastra",fosterChild:"Hijo de Crianza",brother:"Hermano",sister:"Hermana",halfBrother:"Medio Hermano",halfSister:"Media Hermana",stepbrother:"Hermanastro",stepsister:"Hermanastra",parent:"Padre/Madre",grandparent:"Abuelo/a",grandchild:"Nieto/a",niece:"Sobrina",nephew:"Sobrino",aunt:"T铆a",uncle:"T铆o",single:"Soltero/a",marriedFilingJointly:"Casado/a Declarando Conjuntamente",marriedFilingSeparately:"Casado/a Declarando por Separado",headOfHousehold:"Jefe/a de Familia",qualifyingWidower:"Viudo/a Calificado/a"}},ea={son:"son",daughter:"daughter",stepson:"stepson",stepdaughter:"stepdaughter",foster_child:"fosterChild",brother:"brother",sister:"sister",half_brother:"halfBrother",half_sister:"halfSister",stepbrother:"stepbrother",stepsister:"stepsister",parent:"parent",grandparent:"grandparent",grandchild:"grandchild",niece:"niece",nephew:"nephew",aunt:"aunt",uncle:"uncle",other:"other"},ta={single:"single",married_filing_jointly:"marriedFilingJointly",married_filing_separately:"marriedFilingSeparately",head_of_household:"headOfHousehold",qualifying_widower:"qualifyingWidower"},ra=e=>{const[y,o]=Ie("review"),[h,w]=Ie(!1),[C,te]=Ie(null),[E,H]=Ie(!1),[se,F]=Ie(!1),[r,Z]=Ie(""),[ge,x]=Ie(!1),[W,$]=Ie(null),[Y,c]=Ie(""),[L,D]=Ie(!0),[v,ne]=Ie("en"),[k,Ze]=Ie(!1),[O,he]=Ie(!1),[$e,fe]=Ie(!1),[ye,Ce]=Ie(!1),[Xe,nt]=Ie([]),[ot,qe]=Ie(!1),[gt,ke]=Ie(""),[Ye,xt]=Ie([]),[Ee,Pt]=Ie(!1),[$t,It]=Ie(!1),[ir,Kt]=Ie(!1),[Wt,pt]=Ie([""]),[Je,xe]=Ie(""),[ve,Se]=Ie([]),[we,_t]=Ie(!1),[wt,it]=Ie(!1);let rr=null;const Dt=async T=>{if(T.length<3){Se([]),it(!1);return}_t(!0);try{const Le=new URLSearchParams,yt=e.client.city?.trim(),st=e.client.state?.trim(),Rt=e.client.zipCode?.trim();if(yt||st){if(Le.set("street",T),yt&&Le.set("city",yt),st){const Et=lr(st)||st;Le.set("state",Et)}Le.set("country","USA")}else{let Et=T;Rt&&Rt.length>=5&&(Et=`${T}, ${Rt}`),Le.set("q",Et),Le.set("countrycodes","us")}Le.set("format","json"),Le.set("addressdetails","1"),Le.set("limit","8");const sr=await fetch(`https://nominatim.openstreetmap.org/search?${Le.toString()}`,{headers:{Accept:"application/json","User-Agent":"HRMFinance/1.0"}});if(!sr.ok)throw new Error("Address search failed");const Zt=(await sr.json()).filter(Et=>Et.address&&(Et.address.house_number||Et.address.road)).map(Et=>{const $r=Et.address,Gt=$r.house_number||"",pr=$r.road||$r.pedestrian||$r.street||"",kr=$r.city||$r.town||$r.village||$r.municipality||"",Zr=$r.state||"",Te=$r.postcode||"",l=yn.find(P=>Zr.toLowerCase().includes(P.toLowerCase())||qt(Zr)===P)||Zr.slice(0,2).toUpperCase();return{street:`${Gt} ${pr}`.trim(),city:kr,state:l,zip:Te,display:Et.display_name}}).filter(Et=>Et.street&&Et.city);Se(Zt),it(Zt.length>0)}catch(Le){Qe("Address search error:",Le),Se([])}finally{_t(!1)}},qt=T=>({alabama:"AL",alaska:"AK",arizona:"AZ",arkansas:"AR",california:"CA",colorado:"CO",connecticut:"CT",delaware:"DE",florida:"FL",georgia:"GA",hawaii:"HI",idaho:"ID",illinois:"IL",indiana:"IN",iowa:"IA",kansas:"KS",kentucky:"KY",louisiana:"LA",maine:"ME",maryland:"MD",massachusetts:"MA",michigan:"MI",minnesota:"MN",mississippi:"MS",missouri:"MO",montana:"MT",nebraska:"NE",nevada:"NV","new hampshire":"NH","new jersey":"NJ","new mexico":"NM","new york":"NY","north carolina":"NC","north dakota":"ND",ohio:"OH",oklahoma:"OK",oregon:"OR",pennsylvania:"PA","rhode island":"RI","south carolina":"SC","south dakota":"SD",tennessee:"TN",texas:"TX",utah:"UT",vermont:"VT",virginia:"VA",washington:"WA","west virginia":"WV",wisconsin:"WI",wyoming:"WY","district of columbia":"DC"})[T.toLowerCase()]||"",lr=T=>({AL:"Alabama",AK:"Alaska",AZ:"Arizona",AR:"Arkansas",CA:"California",CO:"Colorado",CT:"Connecticut",DE:"Delaware",FL:"Florida",GA:"Georgia",HI:"Hawaii",ID:"Idaho",IL:"Illinois",IN:"Indiana",IA:"Iowa",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",ME:"Maine",MD:"Maryland",MA:"Massachusetts",MI:"Michigan",MN:"Minnesota",MS:"Mississippi",MO:"Missouri",MT:"Montana",NE:"Nebraska",NV:"Nevada",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NY:"New York",NC:"North Carolina",ND:"North Dakota",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PA:"Pennsylvania",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VT:"Vermont",VA:"Virginia",WA:"Washington",WV:"West Virginia",WI:"Wisconsin",WY:"Wyoming",DC:"District of Columbia"})[T.toUpperCase()]||"",ce=T=>{e.onClientChange({address:T.street,city:T.city,state:T.state,zipCode:T.zip}),w(!0),xe(""),Se([]),it(!1)},U=T=>{xe(T),rr&&clearTimeout(rr),rr=setTimeout(()=>{Dt(T)},400)},[oe,Ae]=Ie([]),[re,Me]=Ie(!1),[Ne,Tt]=Ie(""),[B,ae]=Ie(!1),Ke=async()=>{if(ms.isAdmin()){Me(!0);try{const T=await ms.getAvailableBusinesses();Ae(T),Tt(e.client.businessId||ms.getBusinessId())}catch(T){Qe("Error loading businesses:",T)}finally{Me(!1)}}},tt=()=>{const T=Ne();if(!T||T===e.client.businessId){ae(!1);return}const Le=oe().find(yt=>yt.id===T);e.onClientChange({businessId:T}),w(!0),ae(!1),te({type:"success",text:`Client will be transferred to "${Le?.name||T}" when saved`}),setTimeout(()=>te(null),5e3)};Fs(()=>{y()==="admin"&&ms.isAdmin()&&Ke()});const Q=async T=>{if(T.length<2){xt([]);return}It(!0);try{const yt=(await To()).filter(st=>st.id!==e.client.id&&(st.firstName?.toLowerCase().includes(T.toLowerCase())||st.lastName?.toLowerCase().includes(T.toLowerCase())||`${st.firstName} ${st.lastName}`.toLowerCase().includes(T.toLowerCase()))).slice(0,10);xt(yt)}catch(Le){console.error("Error searching for spouse:",Le)}finally{It(!1)}},G=T=>{e.onClientChange({linkedSpouseId:T.id,linkedSpouseName:`${T.firstName} ${T.lastName}`,spouse:{...e.client.spouse,firstName:T.firstName||"",middleName:T.middleName||"",lastName:T.lastName||"",ssn:T.ssn||"",dateOfBirth:T.dateOfBirth||"",occupation:T.occupation||"",phone:T.phone||""}}),w(!0),Pt(!1),ke(""),xt([])},et=()=>{e.onClientChange({linkedSpouseId:null,linkedSpouseName:null}),w(!0)},de=T=>Zl[v()][T],Ct=(T,Le)=>T?Le?T.length===9?`${T.slice(0,3)}-${T.slice(3,5)}-${T.slice(5)}`:T:`***-**-${T.slice(-4)}`:"-",lt=(T,Le)=>T?Le?T:`****${T.slice(-4)}`:"-",_e=(T,Le)=>{e.onClientChange({[T]:Le}),w(!0),te(null)},je=async()=>{try{await e.onSave(),w(!1),te({type:"success",text:"Client information saved successfully"}),setTimeout(()=>te(null),3e3)}catch(T){te({type:"error",text:T.message||"Failed to save"})}},ie=()=>{const T={id:crypto.randomUUID(),firstName:"",lastName:"",relationship:"son",ssn:"",dateOfBirth:""},Le=e.client.dependents||[];_e("dependents",[...Le,T])},d=(T,Le)=>{const yt=[...e.client.dependents||[]];yt[T]={...yt[T],...Le},_e("dependents",yt)},N=T=>{const Le=[...e.client.dependents||[]];Le.splice(T,1),_e("dependents",Le)},pe=()=>{const T=e.client.filingStatus;return T==="married_filing_jointly"||T==="married_filing_separately"},Ge=(T,Le)=>{Qe("=== ID Barcode Scan ==="),Qe("Format:",Le),Qe("Raw barcode data length:",T.length);const yt=Zo(T);if(!yt){Qe("Failed to parse barcode data"),$({type:"error",text:"Could not parse ID barcode. Check console for debug info. Try scanning again or enter manually."}),setTimeout(()=>$(null),8e3);return}const st=ei(yt);Qe("Converted idInfo:",st),_e("idInfo",st),!e.client.firstName&&st.firstName&&_e("firstName",st.firstName),!e.client.lastName&&st.lastName&&_e("lastName",st.lastName),!e.client.middleName&&st.middleName&&_e("middleName",st.middleName),!e.client.dateOfBirth&&st.dateOfBirth&&_e("dateOfBirth",st.dateOfBirth),!e.client.address&&st.address&&_e("address",st.address),!e.client.city&&st.city&&_e("city",st.city),!e.client.state&&st.state&&_e("state",st.state),!e.client.zipCode&&st.zipCode&&_e("zipCode",st.zipCode);const Rt=[];st.firstName&&Rt.push("name"),st.idNumber&&Rt.push("ID#"),st.dateOfBirth&&Rt.push("DOB"),st.address&&Rt.push("address"),st.expirationDate&&Rt.push("exp");const sr=[st.firstName,st.lastName].filter(Boolean).join(" ")||"Unknown";$({type:"success",text:`ID scanned: ${sr}. Found: ${Rt.join(", ")||"partial data"}`}),setTimeout(()=>$(null),6e3),x(!1)},le=T=>{Qe("=== MRZ Scan ==="),Qe("MRZ Data:",T);const Le={idNumber:T.documentNumber,idState:T.issuingCountry,idType:T.documentType==="passport"?"passport":"state_id",firstName:T.firstName,middleName:T.middleName,lastName:T.lastName,dateOfBirth:T.dateOfBirth,gender:T.gender==="unknown"?void 0:T.gender,expirationDate:T.expirationDate,country:T.nationality};_e("idInfo",Le),!e.client.firstName&&T.firstName&&_e("firstName",T.firstName),!e.client.lastName&&T.lastName&&_e("lastName",T.lastName),!e.client.middleName&&T.middleName&&_e("middleName",T.middleName),!e.client.dateOfBirth&&T.dateOfBirth&&_e("dateOfBirth",T.dateOfBirth);const yt=[];T.firstName&&yt.push("name"),T.documentNumber&&yt.push("doc#"),T.dateOfBirth&&yt.push("DOB"),T.expirationDate&&yt.push("exp"),T.nationality&&yt.push("nationality");const st=T.documentType==="passport"?"Passport":"ID",Rt=[T.firstName,T.lastName].filter(Boolean).join(" ")||"Unknown";$({type:"success",text:`${st} scanned: ${Rt}. Found: ${yt.join(", ")||"partial data"}`}),setTimeout(()=>$(null),6e3),x(!1)},S=()=>{const T=Y().trim();if(!T){$({type:"error",text:"Please scan or paste barcode data first."}),setTimeout(()=>$(null),3e3);return}Ge(T,"EXTERNAL"),c("")},X=T=>{T.key==="Enter"&&(T.preventDefault(),S())},Ve=T=>[T.firstName,"|",T.middleName||"","|",T.lastName,"|","|",ys(T.ssn),"|","|","|","|",T?.relationship||"","|","12","|",Jr(T.dateOfBirth)||"","|","|","|"].join(""),Pe=T=>{const Le=Ve(T);Z(Le),F(!0)},ze=T=>{let Le=[ys(e.client?.ssn),"|",ys(e.client?.ssn),"|",e.client?.firstName,"|",e.client.lastName].join("")||"",yt=["","|",Jr(e.client.dateOfBirth)||"","|",e.client?.occupation||"","|","|",e.client.phone,"|"].join("")||"",st=[e.client?.firstName,e.client?.middleName?.[0]||"",e.client.lastName].join(" ")||"",Rt=[e.client.address,"|","|",e.client.apt,"|",e.client.zipCode,"|"].join("")||"",sr=[Le,yt,Rt];if(e.client?.spouse?.firstName){let dr=[e.client?.spouse?.firstName,"|",e.client.spouse?.middleName?.[0]||"","|",e.client.spouse?.lastName,"|","|",ys(e.client?.spouse?.ssn),"|","|",Jr(e.client.spouse?.dateOfBirth)||"","|",e.client?.spouse?.occupation||"","|","|",e.client.spouse?.phone,"|"].join("")||"",Zt=[e.client?.spouse?.firstName,e.client?.spouse?.middleName?.[0]||"",e.client?.spouse?.lastName].join(" ")||"";sr.push(dr),sr.push(Zt)}sr.push(st),pt(sr),Kt(!0)},ht=T=>{let Le=[e.client?.spouse?.firstName,"|",e.client.spouse?.middleName?.[0]||"","|",e.client.spouse?.lastName,"|","|",ys(e.client?.spouse?.ssn),"|","|",Jr(e.client.spouse?.dateOfBirth)||"","|",e.client?.spouse?.occupation||"","|","|",e.client.spouse?.phone,"|"].join("")||"",yt=[e.client?.spouse?.firstName,e.client?.spouse?.middleName?.[0]||"",e.client?.spouse?.lastName].join(" ")||"";pt([Le,yt]),Kt(!0)},Vt=T=>[T.bankName,"|",T.routingNumber||"","|",T.routingNumber||"","|",T.accountNumber||"","|",T.accountNumber||"","|"].join(""),Yt=T=>{const Le=Vt(T);Z(Le),F(!0)},ut=T=>{Z(T),F(!0)},mr={display:"flex","flex-direction":"column",gap:"1.5rem"},A={display:"flex","justify-content":"space-between","align-items":"center","flex-wrap":"wrap",gap:"1rem"},Be={"font-size":"1.25rem","font-weight":"600",color:"var(--text-primary)",margin:"0"},mt={display:"flex",gap:"0.5rem","border-bottom":"2px solid var(--border-color)","padding-bottom":"0"},Ot=T=>({padding:"0.75rem 1.5rem","font-size":"0.9375rem","font-weight":T?"600":"500",color:T?"var(--primary-color)":"var(--text-secondary)",background:"transparent",border:"none","border-bottom":T?"2px solid var(--primary-color)":"2px solid transparent",cursor:"pointer","margin-bottom":"-2px",transition:"all 0.2s"}),Cr={display:"grid","grid-template-columns":"repeat(auto-fill, minmax(280px, 1fr))",gap:"1.25rem","margin-top":"1.5rem"},K={display:"flex","flex-direction":"column",gap:"0.5rem"},He={"font-size":"0.875rem","font-weight":"500",color:"var(--text-secondary)"},rt={padding:"0.75rem 1rem","font-size":"0.9375rem",border:"1px solid var(--border-color)","border-radius":"8px",background:"var(--surface-color)",color:"var(--text-primary)",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s"},Oe={...rt,cursor:"pointer"},kt={display:"flex","align-items":"center",gap:"0.75rem",padding:"0.75rem",background:"var(--surface-alt)","border-radius":"8px"},St={width:"18px",height:"18px",cursor:"pointer"},or={padding:"1.25rem",border:"1px solid var(--border-color)","border-radius":"12px",background:"var(--surface-alt)","margin-bottom":"1rem"},vt={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"1rem"},Br={padding:"0.5rem",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)","border-radius":"6px",color:"#ef4444",cursor:"pointer"},Wr={display:"flex","align-items":"center","justify-content":"center",gap:"0.5rem",padding:"1rem",border:"2px dashed var(--border-color)","border-radius":"12px",background:"transparent",color:"var(--text-secondary)",cursor:"pointer","font-size":"0.9375rem","font-weight":"500",transition:"all 0.2s"},_r=T=>({padding:"0.75rem 1.5rem","font-size":"0.9375rem","font-weight":"600","border-radius":"8px",border:"none",background:T?"var(--surface-alt)":"linear-gradient(135deg, #22c55e 0%, #16a34a 100%)",color:T?"var(--text-secondary)":"white",cursor:T?"not-allowed":"pointer","box-shadow":T?"none":"0 4px 12px rgba(34, 197, 94, 0.3)",display:"flex","align-items":"center",gap:"0.5rem"}),ue=T=>({padding:"0.75rem 1rem","border-radius":"8px","font-size":"0.875rem",background:T==="success"?"rgba(34, 197, 94, 0.1)":"rgba(239, 68, 68, 0.1)",color:T==="success"?"#22c55e":"#ef4444",border:`1px solid ${T==="success"?"#22c55e":"#ef4444"}`,display:"flex","align-items":"center",gap:"0.5rem"}),me={"font-size":"1rem","font-weight":"600",color:"var(--text-primary)","margin-bottom":"1rem",display:"flex","align-items":"center",gap:"0.5rem"};return(()=>{var T=El(),Le=T.firstChild,yt=Le.firstChild,st=yt.firstChild,Rt=st.nextSibling,sr=yt.nextSibling,dr=sr.firstChild,Zt=Le.nextSibling,Et=Zt.firstChild,$r=Et.nextSibling,Gt=$r.nextSibling,pr=Gt.firstChild,kr=pr.nextSibling;kr.nextSibling;var Zr=Gt.nextSibling,Te=Zt.nextSibling;return s(st,Be),Rt.style.setProperty("font-size","0.875rem"),Rt.style.setProperty("color","var(--text-secondary)"),Rt.style.setProperty("margin-top","0.25rem"),sr.style.setProperty("display","flex"),sr.style.setProperty("gap","0.75rem"),sr.style.setProperty("align-items","center"),dr.$$click=je,t(dr,n(p,{get when(){return e.isSaving},get fallback(){return[(()=>{var l=Ll();return l.style.setProperty("width","18px"),l.style.setProperty("height","18px"),l})(),"Save Changes"]},get children(){return[(()=>{var l=Ti();return l.style.setProperty("width","18px"),l.style.setProperty("height","18px"),l.style.setProperty("animation","spin 1s linear infinite"),l})(),"Saving..."]}})),t(T,n(p,{get when(){return C()},get children(){var l=Is();return t(l,()=>C().text),f(P=>s(l,ue(C().type),P)),l}}),Zt),s(Zt,mt),Et.$$click=()=>o("review"),$r.$$click=()=>o("personal"),t(Zt,n(p,{get when(){return pe()},get children(){var l=Ai();return l.$$click=()=>o("spouse"),f(P=>s(l,Ot(y()==="spouse"),P)),l}}),Gt),Gt.$$click=()=>o("dependents"),t(Gt,()=>e.client.dependents?.length||0,kr),Zr.$$click=()=>o("tax"),t(Zt,n(p,{get when(){return ms.isAdmin()},get children(){var l=Ni();return l.$$click=()=>o("admin"),f(P=>s(l,{...Ot(y()==="admin"),color:y()==="admin"?"#dc2626":"#9ca3af","border-color":y()==="admin"?"#dc2626":"transparent"},P)),l}}),null),t(T,n(p,{get when(){return y()==="review"},get children(){var l=Li(),P=l.firstChild,b=P.firstChild,z=b.firstChild,R=z.nextSibling,i=R.firstChild,g=i.nextSibling,u=b.nextSibling,m=u.firstChild,q=m.nextSibling,I=P.nextSibling,V=I.firstChild,J=V.firstChild,j=J.firstChild,be=j.nextSibling,De=J.nextSibling,_=De.firstChild,ee=_.firstChild,Fe=ee.firstChild,ct=Fe.nextSibling,At=ee.nextSibling,Nt=At.firstChild,at=Nt.nextSibling,Mt=V.nextSibling,Re=Mt.firstChild,wr=Re.firstChild,er=wr.nextSibling,Or=Re.nextSibling,Ue=Or.firstChild,jr=Ue.firstChild,dt=jr.firstChild,Ur=dt.nextSibling,We=jr.nextSibling,Qt=We.firstChild,Lt=Qt.nextSibling,Bt=Lt.firstChild,Ut=We.nextSibling,ar=Ut.firstChild,jt=ar.nextSibling,nr=Ut.nextSibling,gr=nr.firstChild,Fr=gr.nextSibling,vr=nr.nextSibling,Gr=vr.firstChild,Ar=Gr.nextSibling,Mr=vr.nextSibling,tr=Mr.firstChild,Er=tr.nextSibling,Ft=Mt.nextSibling,fr=Ft.firstChild,Ir=fr.firstChild,ur=Ir.nextSibling,Vr=fr.nextSibling,qr=Vr.firstChild,ls=qr.firstChild,cs=ls.firstChild,hs=cs.nextSibling,vs=ls.nextSibling,rs=vs.firstChild,Qr=rs.nextSibling,Es=vs.nextSibling,ws=Es.firstChild,Ls=ws.nextSibling,fn=Es.nextSibling,Vs=fn.firstChild,sn=Vs.nextSibling,Ms=Ft.nextSibling,Cs=Ms.firstChild,hn=Cs.firstChild,nn=hn.nextSibling,Fn=Cs.nextSibling,qs=Ms.nextSibling,_s=qs.firstChild,vn=_s.firstChild,on=vn.nextSibling,En=_s.nextSibling;return l.style.setProperty("display","flex"),l.style.setProperty("flex-direction","column"),l.style.setProperty("gap","1rem"),l.style.setProperty("background","#f0f0eb"),l.style.setProperty("padding","1.5rem"),l.style.setProperty("border-radius","16px"),l.style.setProperty("margin","-1rem"),l.style.setProperty("margin-top","0"),P.style.setProperty("background","#ffffff"),P.style.setProperty("padding","1.5rem"),P.style.setProperty("border-radius","12px"),P.style.setProperty("border","1px solid #e3e8ee"),P.style.setProperty("position","relative"),b.style.setProperty("position","absolute"),b.style.setProperty("top","1rem"),b.style.setProperty("right","1rem"),b.style.setProperty("display","flex"),b.style.setProperty("gap","0.5rem"),b.style.setProperty("align-items","center"),z.$$mouseout=ft=>ft.currentTarget.style.background="#fafafa",z.$$mouseover=ft=>ft.currentTarget.style.background="#f0f0eb",z.$$click=()=>bi(e.client,v(),e.linkedSpouse),z.style.setProperty("padding","0.375rem 0.75rem"),z.style.setProperty("border-radius","8px"),z.style.setProperty("border","1px solid #e3e8ee"),z.style.setProperty("background","#fafafa"),z.style.setProperty("color","#1a1a1a"),z.style.setProperty("font-size","0.8125rem"),z.style.setProperty("font-weight","600"),z.style.setProperty("cursor","pointer"),z.style.setProperty("transition","all 0.2s"),z.style.setProperty("display","flex"),z.style.setProperty("align-items","center"),z.style.setProperty("gap","0.375rem"),R.style.setProperty("display","flex"),R.style.setProperty("gap","0.25rem"),R.style.setProperty("background","#f0f0eb"),R.style.setProperty("border-radius","8px"),R.style.setProperty("padding","0.25rem"),R.style.setProperty("border","1px solid #e3e8ee"),i.$$click=()=>ne("en"),i.style.setProperty("padding","0.375rem 0.75rem"),i.style.setProperty("border-radius","6px"),i.style.setProperty("border","none"),i.style.setProperty("font-size","0.8125rem"),i.style.setProperty("font-weight","600"),i.style.setProperty("cursor","pointer"),i.style.setProperty("transition","all 0.2s"),g.$$click=()=>ne("es"),g.style.setProperty("padding","0.375rem 0.75rem"),g.style.setProperty("border-radius","6px"),g.style.setProperty("border","none"),g.style.setProperty("font-size","0.8125rem"),g.style.setProperty("font-weight","600"),g.style.setProperty("cursor","pointer"),g.style.setProperty("transition","all 0.2s"),u.style.setProperty("text-align","center"),m.style.setProperty("margin","0 0 0.5rem 0"),m.style.setProperty("font-size","1.375rem"),m.style.setProperty("font-weight","600"),m.style.setProperty("color","#1a1a1a"),t(m,()=>de("clientInfoReview")),q.style.setProperty("margin","0"),q.style.setProperty("color","#7a7a7a"),q.style.setProperty("font-size","0.9375rem"),t(q,()=>de("reviewSubtitle")),I.style.setProperty("display","grid"),I.style.setProperty("grid-template-columns","repeat(auto-fit, minmax(340px, 1fr))"),I.style.setProperty("gap","1rem"),V.style.setProperty("background","white"),V.style.setProperty("border-radius","12px"),V.style.setProperty("border","1px solid #e3e8ee"),V.style.setProperty("overflow","hidden"),J.style.setProperty("background","#fafafa"),J.style.setProperty("padding","0.875rem 1.25rem"),J.style.setProperty("display","flex"),J.style.setProperty("align-items","center"),J.style.setProperty("gap","0.75rem"),J.style.setProperty("border-bottom","1px solid #e3e8ee"),j.style.setProperty("width","18px"),j.style.setProperty("height","18px"),be.style.setProperty("color","#1a1a1a"),be.style.setProperty("font-weight","600"),be.style.setProperty("font-size","0.9375rem"),t(be,()=>de("filingInfo")),De.style.setProperty("padding","1.25rem"),_.style.setProperty("display","flex"),_.style.setProperty("flex-direction","column"),_.style.setProperty("gap","0.875rem"),ee.style.setProperty("display","flex"),ee.style.setProperty("justify-content","space-between"),Fe.style.setProperty("color","var(--text-secondary)"),Fe.style.setProperty("font-size","0.8125rem"),Fe.style.setProperty("font-weight","500"),t(Fe,()=>de("taxYear")),ct.style.setProperty("color","#1a1a1a"),ct.style.setProperty("font-weight","500"),ct.style.setProperty("background","#f0f0eb"),ct.style.setProperty("padding","0.25rem 0.75rem"),ct.style.setProperty("border-radius","12px"),ct.style.setProperty("font-size","0.875rem"),ct.style.setProperty("border","1px solid #e3e8ee"),t(ct,()=>e.client.taxYear||new Date().getFullYear()),At.style.setProperty("display","flex"),At.style.setProperty("justify-content","space-between"),At.style.setProperty("align-items","flex-start"),Nt.style.setProperty("color","var(--text-secondary)"),Nt.style.setProperty("font-size","0.8125rem"),Nt.style.setProperty("font-weight","500"),t(Nt,()=>de("filingStatus")),at.style.setProperty("color","var(--text-primary)"),at.style.setProperty("font-weight","600"),at.style.setProperty("text-align","right"),t(at,(()=>{var ft=bt(()=>!!e.client.filingStatus);return()=>ft()?de(ta[e.client.filingStatus]):"-"})()),t(V,n(p,{get when(){return e.client.federalRefund||e.client.federalOwe||e.client.stateReturns&&e.client.stateReturns.length>0},get children(){return[(()=>{var ft=zi(),yr=ft.firstChild,br=yr.nextSibling;return ft.style.setProperty("padding","0.875rem 1.25rem"),ft.style.setProperty("display","flex"),ft.style.setProperty("align-items","center"),ft.style.setProperty("gap","0.75rem"),ft.style.setProperty("border-bottom","1px solid #e3e8ee"),yr.style.setProperty("width","18px"),yr.style.setProperty("height","18px"),br.style.setProperty("color","#1a1a1a"),br.style.setProperty("font-weight","600"),br.style.setProperty("font-size","0.9375rem"),t(br,()=>de("taxResults")),f(Tr=>{var zt=e.client.federalRefund||e.client.stateReturns?.some(Pr=>Pr.refund)?"#dcfce7":"#fef2f2",Xt=e.client.federalRefund?"#16a34a":"#dc2626";return zt!==Tr.e&&((Tr.e=zt)!=null?ft.style.setProperty("background",zt):ft.style.removeProperty("background")),Xt!==Tr.t&&es(yr,"fill",Tr.t=Xt),Tr},{e:void 0,t:void 0}),ft})(),(()=>{var ft=Di(),yr=ft.firstChild,br=yr.firstChild,Tr=br.firstChild;return ft.style.setProperty("padding","1.25rem"),yr.style.setProperty("display","flex"),yr.style.setProperty("flex-direction","column"),yr.style.setProperty("gap","0.875rem"),br.style.setProperty("display","flex"),br.style.setProperty("justify-content","space-between"),br.style.setProperty("align-items","center"),br.style.setProperty("padding","0.75rem"),br.style.setProperty("background","#f8fafc"),br.style.setProperty("border-radius","8px"),Tr.style.setProperty("color","var(--text-secondary)"),Tr.style.setProperty("font-size","0.8125rem"),Tr.style.setProperty("font-weight","600"),t(br,n(p,{get when(){return e.client.federalRefund},get fallback(){return n(p,{get when(){return e.client.federalOwe},get children(){var zt=Wn();return zt.firstChild,zt.style.setProperty("color","#dc2626"),zt.style.setProperty("font-weight","700"),zt.style.setProperty("font-size","1.125rem"),t(zt,()=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.client.federalOwe||0),null),zt}})},get children(){var zt=Hn();return zt.firstChild,zt.style.setProperty("color","#16a34a"),zt.style.setProperty("font-weight","700"),zt.style.setProperty("font-size","1.125rem"),t(zt,()=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.client.federalRefund||0),null),zt}}),null),t(yr,n(Ht,{get each(){return e.client.stateReturns||[]},children:zt=>(()=>{var Xt=Ml(),Pr=Xt.firstChild,Nr=Pr.firstChild;return Xt.style.setProperty("display","flex"),Xt.style.setProperty("justify-content","space-between"),Xt.style.setProperty("align-items","center"),Xt.style.setProperty("padding","0.75rem"),Xt.style.setProperty("background","#f8fafc"),Xt.style.setProperty("border-radius","8px"),Pr.style.setProperty("color","var(--text-secondary)"),Pr.style.setProperty("font-size","0.8125rem"),Pr.style.setProperty("font-weight","600"),t(Pr,()=>zt.state,Nr),t(Pr,()=>de("state"),null),t(Xt,n(p,{get when(){return zt.refund},get fallback(){return n(p,{get when(){return zt.owe},get children(){var Sr=Wn();return Sr.firstChild,Sr.style.setProperty("color","#dc2626"),Sr.style.setProperty("font-weight","700"),Sr.style.setProperty("font-size","1.125rem"),t(Sr,()=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(zt.owe||0),null),Sr}})},get children(){var Sr=Hn();return Sr.firstChild,Sr.style.setProperty("color","#16a34a"),Sr.style.setProperty("font-weight","700"),Sr.style.setProperty("font-size","1.125rem"),t(Sr,()=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(zt.refund||0),null),Sr}}),null),Xt})()}),null),t(yr,n(p,{get when(){return e.client.totalRefund||e.client.totalOwe},get children(){var zt=Cn(),Xt=zt.firstChild,Pr=Xt.nextSibling;return zt.style.setProperty("display","flex"),zt.style.setProperty("justify-content","space-between"),zt.style.setProperty("align-items","center"),zt.style.setProperty("padding","0.75rem 1rem"),zt.style.setProperty("border-radius","8px"),zt.style.setProperty("border-top","2px solid #e5e7eb"),zt.style.setProperty("margin-top","0.5rem"),Xt.style.setProperty("color","#1a1a1a"),Xt.style.setProperty("font-size","0.875rem"),Xt.style.setProperty("font-weight","700"),t(Xt,(()=>{var Nr=bt(()=>!!e.client.totalRefund);return()=>Nr()?de("totalRefund"):de("totalOwe")})()),Pr.style.setProperty("font-weight","800"),Pr.style.setProperty("font-size","1.25rem"),t(Pr,(()=>{var Nr=bt(()=>!!e.client.totalRefund);return()=>Nr()?`+${new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.client.totalRefund)}`:`-${new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.client.totalOwe||0)}`})()),f(Nr=>{var Sr=e.client.totalRefund?"#dcfce7":"#fef2f2",Hr=e.client.totalRefund?"#16a34a":"#dc2626";return Sr!==Nr.e&&((Nr.e=Sr)!=null?zt.style.setProperty("background",Sr):zt.style.removeProperty("background")),Hr!==Nr.t&&((Nr.t=Hr)!=null?Pr.style.setProperty("color",Hr):Pr.style.removeProperty("color")),Nr},{e:void 0,t:void 0}),zt}}),null),ft})()]}}),null),Mt.style.setProperty("background","white"),Mt.style.setProperty("border-radius","12px"),Mt.style.setProperty("border","1px solid #e3e8ee"),Mt.style.setProperty("overflow","hidden"),Re.style.setProperty("background","#fafafa"),Re.style.setProperty("padding","0.875rem 1.25rem"),Re.style.setProperty("display","flex"),Re.style.setProperty("align-items","center"),Re.style.setProperty("gap","0.75rem"),Re.style.setProperty("border-bottom","1px solid #e3e8ee"),wr.style.setProperty("width","18px"),wr.style.setProperty("height","18px"),er.style.setProperty("color","#1a1a1a"),er.style.setProperty("font-weight","600"),er.style.setProperty("font-size","0.9375rem"),t(er,()=>de("taxpayer")),t(Re,n(Lr,{text:"",handle:ze,label:""}),null),Or.style.setProperty("padding","1.25rem"),Ue.style.setProperty("display","flex"),Ue.style.setProperty("flex-direction","column"),Ue.style.setProperty("gap","0.875rem"),jr.style.setProperty("display","flex"),jr.style.setProperty("justify-content","space-between"),jr.style.setProperty("align-items","flex-start"),dt.style.setProperty("color","var(--text-secondary)"),dt.style.setProperty("font-size","0.8125rem"),dt.style.setProperty("font-weight","500"),t(dt,()=>de("fullName")),t(jr,n(Lr,{get text(){return[e.client.firstName,e.client.lastName].join(" ")},handle:ut,label:""}),Ur),Ur.style.setProperty("color","var(--text-primary)"),Ur.style.setProperty("font-weight","600"),Ur.style.setProperty("text-align","right"),t(Ur,()=>[e.client.firstName,e.client.middleName,e.client.lastName,e.client.suffix].filter(Boolean).join(" ")||"-"),We.style.setProperty("display","flex"),We.style.setProperty("justify-content","space-between"),We.style.setProperty("align-items","center"),Qt.style.setProperty("color","var(--text-secondary)"),Qt.style.setProperty("font-size","0.8125rem"),Qt.style.setProperty("font-weight","500"),t(Qt,()=>de("ssn")),Lt.style.setProperty("display","flex"),Lt.style.setProperty("align-items","center"),Lt.style.setProperty("gap","0.5rem"),Bt.style.setProperty("color","var(--text-primary)"),Bt.style.setProperty("font-weight","500"),Bt.style.setProperty("font-family","monospace"),t(Bt,()=>Ct(e.client.ssn,k())),t(Lt,n(p,{get when(){return e.client.ssn},get children(){var ft=dn();return ft.$$click=()=>Ze(!k()),ft.style.setProperty("padding","0.125rem 0.5rem"),ft.style.setProperty("font-size","0.6875rem"),ft.style.setProperty("font-weight","500"),ft.style.setProperty("border-radius","10px"),ft.style.setProperty("border","1px solid #e3e8ee"),ft.style.setProperty("cursor","pointer"),ft.style.setProperty("transition","all 0.2s"),t(ft,(()=>{var yr=bt(()=>!!k());return()=>yr()?de("hide"):de("show")})()),f(yr=>{var br=k()?"#1a1a1a":"#f0f0eb",Tr=k()?"white":"#7a7a7a";return br!==yr.e&&((yr.e=br)!=null?ft.style.setProperty("background",br):ft.style.removeProperty("background")),Tr!==yr.t&&((yr.t=Tr)!=null?ft.style.setProperty("color",Tr):ft.style.removeProperty("color")),yr},{e:void 0,t:void 0}),ft}}),null),Ut.style.setProperty("display","flex"),Ut.style.setProperty("justify-content","space-between"),ar.style.setProperty("color","var(--text-secondary)"),ar.style.setProperty("font-size","0.8125rem"),ar.style.setProperty("font-weight","500"),t(ar,()=>de("dateOfBirth")),jt.style.setProperty("color","var(--text-primary)"),jt.style.setProperty("font-weight","500"),t(jt,()=>Qs(e.client.dateOfBirth,v()==="es"?"es-ES":"en-US",{month:"short",day:"numeric",year:"numeric"})),nr.style.setProperty("display","flex"),nr.style.setProperty("justify-content","space-between"),gr.style.setProperty("color","var(--text-secondary)"),gr.style.setProperty("font-size","0.8125rem"),gr.style.setProperty("font-weight","500"),t(gr,()=>de("occupation")),Fr.style.setProperty("color","var(--text-primary)"),Fr.style.setProperty("font-weight","500"),t(Fr,()=>e.client.occupation||"-"),vr.style.setProperty("display","flex"),vr.style.setProperty("justify-content","space-between"),Gr.style.setProperty("color","var(--text-secondary)"),Gr.style.setProperty("font-size","0.8125rem"),Gr.style.setProperty("font-weight","500"),t(Gr,()=>de("email")),Ar.style.setProperty("color","var(--text-primary)"),Ar.style.setProperty("font-weight","500"),Ar.style.setProperty("font-size","0.875rem"),t(Ar,()=>e.client.email||"-"),Mr.style.setProperty("display","flex"),Mr.style.setProperty("justify-content","space-between"),tr.style.setProperty("color","var(--text-secondary)"),tr.style.setProperty("font-size","0.8125rem"),tr.style.setProperty("font-weight","500"),t(tr,()=>de("phone")),Er.style.setProperty("color","var(--text-primary)"),Er.style.setProperty("font-weight","500"),t(Er,()=>e.client.phone||"-"),Ft.style.setProperty("background","white"),Ft.style.setProperty("border-radius","12px"),Ft.style.setProperty("border","1px solid #e3e8ee"),Ft.style.setProperty("overflow","hidden"),fr.style.setProperty("background","#fafafa"),fr.style.setProperty("padding","0.875rem 1.25rem"),fr.style.setProperty("display","flex"),fr.style.setProperty("align-items","center"),fr.style.setProperty("gap","0.75rem"),fr.style.setProperty("border-bottom","1px solid #e3e8ee"),Ir.style.setProperty("width","18px"),Ir.style.setProperty("height","18px"),ur.style.setProperty("color","#1a1a1a"),ur.style.setProperty("font-weight","600"),ur.style.setProperty("font-size","0.9375rem"),t(ur,()=>de("address")),t(fr,n(Lr,{get text(){return[e.client.address,"|","|",e.client.apt,"|",e.client.zipCode,"|"].join("")||""},handle:ut,label:""}),null),Vr.style.setProperty("padding","1.25rem"),qr.style.setProperty("display","flex"),qr.style.setProperty("flex-direction","column"),qr.style.setProperty("gap","0.875rem"),ls.style.setProperty("display","flex"),ls.style.setProperty("justify-content","space-between"),ls.style.setProperty("align-items","flex-start"),cs.style.setProperty("color","var(--text-secondary)"),cs.style.setProperty("font-size","0.8125rem"),cs.style.setProperty("font-weight","500"),t(cs,()=>de("street")),hs.style.setProperty("color","var(--text-primary)"),hs.style.setProperty("font-weight","500"),hs.style.setProperty("text-align","right"),hs.style.setProperty("max-width","60%"),t(hs,()=>[e.client.address,e.client.apt?`Apt ${e.client.apt}`:""].filter(Boolean).join(", ")||"-"),vs.style.setProperty("display","flex"),vs.style.setProperty("justify-content","space-between"),rs.style.setProperty("color","var(--text-secondary)"),rs.style.setProperty("font-size","0.8125rem"),rs.style.setProperty("font-weight","500"),t(rs,()=>de("city")),Qr.style.setProperty("color","var(--text-primary)"),Qr.style.setProperty("font-weight","500"),t(Qr,()=>e.client.city||"-"),Es.style.setProperty("display","flex"),Es.style.setProperty("justify-content","space-between"),ws.style.setProperty("color","var(--text-secondary)"),ws.style.setProperty("font-size","0.8125rem"),ws.style.setProperty("font-weight","500"),t(ws,()=>de("state")),Ls.style.setProperty("color","var(--text-primary)"),Ls.style.setProperty("font-weight","500"),t(Ls,()=>e.client.state||"-"),fn.style.setProperty("display","flex"),fn.style.setProperty("justify-content","space-between"),Vs.style.setProperty("color","var(--text-secondary)"),Vs.style.setProperty("font-size","0.8125rem"),Vs.style.setProperty("font-weight","500"),t(Vs,()=>de("zipCode")),sn.style.setProperty("color","var(--text-primary)"),sn.style.setProperty("font-weight","500"),sn.style.setProperty("font-family","monospace"),t(sn,()=>e.client.zipCode||"-"),t(I,n(p,{get when(){return pe()},get children(){var ft=Ri(),yr=ft.firstChild,br=yr.firstChild,Tr=br.nextSibling,zt=yr.nextSibling,Xt=zt.firstChild,Pr=Xt.firstChild,Nr=Pr.firstChild,Sr=Nr.nextSibling,Hr=Pr.nextSibling,ts=Hr.firstChild,hr=ts.nextSibling,xr=hr.firstChild,ss=Hr.nextSibling,Xr=ss.firstChild,Jt=Xr.nextSibling,cr=ss.nextSibling,ns=cr.firstChild,as=ns.nextSibling,zs=cr.nextSibling,ks=zs.firstChild,xs=ks.nextSibling;return ft.style.setProperty("background","white"),ft.style.setProperty("border-radius","12px"),ft.style.setProperty("border","1px solid #e3e8ee"),ft.style.setProperty("overflow","hidden"),yr.style.setProperty("background","#fafafa"),yr.style.setProperty("padding","0.875rem 1.25rem"),yr.style.setProperty("display","flex"),yr.style.setProperty("align-items","center"),yr.style.setProperty("gap","0.75rem"),yr.style.setProperty("border-bottom","1px solid #e3e8ee"),br.style.setProperty("width","18px"),br.style.setProperty("height","18px"),Tr.style.setProperty("color","#1a1a1a"),Tr.style.setProperty("font-weight","600"),Tr.style.setProperty("font-size","0.9375rem"),t(Tr,()=>de("spouse")),t(yr,n(Lr,{text:"",handle:ht,label:""}),null),zt.style.setProperty("padding","1.25rem"),Xt.style.setProperty("display","flex"),Xt.style.setProperty("flex-direction","column"),Xt.style.setProperty("gap","0.875rem"),Pr.style.setProperty("display","flex"),Pr.style.setProperty("justify-content","space-between"),Pr.style.setProperty("align-items","flex-start"),Nr.style.setProperty("color","var(--text-secondary)"),Nr.style.setProperty("font-size","0.8125rem"),Nr.style.setProperty("font-weight","500"),t(Nr,()=>de("fullName")),Sr.style.setProperty("color","var(--text-primary)"),Sr.style.setProperty("font-weight","600"),Sr.style.setProperty("text-align","right"),t(Sr,()=>[e.client.spouse?.firstName,e.client.spouse?.middleName,e.client.spouse?.lastName].filter(Boolean).join(" ")||"-"),Hr.style.setProperty("display","flex"),Hr.style.setProperty("justify-content","space-between"),Hr.style.setProperty("align-items","center"),ts.style.setProperty("color","var(--text-secondary)"),ts.style.setProperty("font-size","0.8125rem"),ts.style.setProperty("font-weight","500"),t(ts,()=>de("ssn")),hr.style.setProperty("display","flex"),hr.style.setProperty("align-items","center"),hr.style.setProperty("gap","0.5rem"),xr.style.setProperty("color","var(--text-primary)"),xr.style.setProperty("font-weight","500"),xr.style.setProperty("font-family","monospace"),t(xr,()=>Ct(e.client.spouse?.ssn,O())),t(hr,n(p,{get when(){return e.client.spouse?.ssn},get children(){var os=dn();return os.$$click=()=>he(!O()),os.style.setProperty("padding","0.125rem 0.5rem"),os.style.setProperty("font-size","0.6875rem"),os.style.setProperty("font-weight","500"),os.style.setProperty("border-radius","10px"),os.style.setProperty("border","1px solid #e3e8ee"),os.style.setProperty("cursor","pointer"),os.style.setProperty("transition","all 0.2s"),t(os,(()=>{var bs=bt(()=>!!O());return()=>bs()?de("hide"):de("show")})()),f(bs=>{var Bs=O()?"#1a1a1a":"#f0f0eb",Os=O()?"white":"#7a7a7a";return Bs!==bs.e&&((bs.e=Bs)!=null?os.style.setProperty("background",Bs):os.style.removeProperty("background")),Os!==bs.t&&((bs.t=Os)!=null?os.style.setProperty("color",Os):os.style.removeProperty("color")),bs},{e:void 0,t:void 0}),os}}),null),ss.style.setProperty("display","flex"),ss.style.setProperty("justify-content","space-between"),Xr.style.setProperty("color","var(--text-secondary)"),Xr.style.setProperty("font-size","0.8125rem"),Xr.style.setProperty("font-weight","500"),t(Xr,()=>de("dateOfBirth")),Jt.style.setProperty("color","var(--text-primary)"),Jt.style.setProperty("font-weight","500"),t(Jt,()=>Qs(e.client.spouse?.dateOfBirth,v()==="es"?"es-ES":"en-US",{month:"short",day:"numeric",year:"numeric"})),cr.style.setProperty("display","flex"),cr.style.setProperty("justify-content","space-between"),ns.style.setProperty("color","var(--text-secondary)"),ns.style.setProperty("font-size","0.8125rem"),ns.style.setProperty("font-weight","500"),t(ns,()=>de("occupation")),as.style.setProperty("color","var(--text-primary)"),as.style.setProperty("font-weight","500"),t(as,()=>e.client.spouse?.occupation||"-"),zs.style.setProperty("display","flex"),zs.style.setProperty("justify-content","space-between"),ks.style.setProperty("color","var(--text-secondary)"),ks.style.setProperty("font-size","0.8125rem"),ks.style.setProperty("font-weight","500"),t(ks,()=>de("phone")),xs.style.setProperty("color","var(--text-primary)"),xs.style.setProperty("font-weight","500"),t(xs,()=>e.client.spouse?.phone||"-"),ft}}),Ms),Ms.style.setProperty("background","white"),Ms.style.setProperty("border-radius","12px"),Ms.style.setProperty("border","1px solid #e3e8ee"),Ms.style.setProperty("overflow","hidden"),Cs.style.setProperty("background","#fafafa"),Cs.style.setProperty("padding","0.875rem 1.25rem"),Cs.style.setProperty("display","flex"),Cs.style.setProperty("align-items","center"),Cs.style.setProperty("gap","0.75rem"),Cs.style.setProperty("border-bottom","1px solid #e3e8ee"),hn.style.setProperty("width","18px"),hn.style.setProperty("height","18px"),nn.style.setProperty("color","#1a1a1a"),nn.style.setProperty("font-weight","600"),nn.style.setProperty("font-size","0.9375rem"),t(nn,()=>de("idInfo")),t(Cs,n(Lr,{get text(){return[e.client.idInfo?.idNumber||"","|",e.client.idInfo?.idState||"","|",Jr(e.client.idInfo?.issueDate)||"","|","|",Jr(e.client.idInfo?.expirationDate)||"","|"].join("")||""},handle:ut,label:""}),null),Fn.style.setProperty("padding","1.25rem"),t(Fn,n(p,{get when(){return e.client.idInfo?.idNumber},get fallback(){return(()=>{var ft=Is();return ft.style.setProperty("color","var(--text-secondary)"),ft.style.setProperty("font-style","italic"),ft.style.setProperty("text-align","center"),ft.style.setProperty("padding","1rem"),t(ft,()=>de("noIdInfo")),ft})()},get children(){var ft=Fi(),yr=ft.firstChild,br=yr.firstChild,Tr=br.nextSibling,zt=yr.nextSibling,Xt=zt.firstChild,Pr=Xt.nextSibling,Nr=zt.nextSibling,Sr=Nr.firstChild,Hr=Sr.nextSibling,ts=Nr.nextSibling,hr=ts.firstChild,xr=hr.nextSibling,ss=ts.nextSibling,Xr=ss.firstChild,Jt=Xr.nextSibling;return ft.style.setProperty("display","flex"),ft.style.setProperty("flex-direction","column"),ft.style.setProperty("gap","0.875rem"),yr.style.setProperty("display","flex"),yr.style.setProperty("justify-content","space-between"),br.style.setProperty("color","var(--text-secondary)"),br.style.setProperty("font-size","0.8125rem"),br.style.setProperty("font-weight","500"),t(br,()=>de("idType")),Tr.style.setProperty("color","var(--text-primary)"),Tr.style.setProperty("font-weight","500"),t(Tr,(()=>{var cr=bt(()=>e.client.idInfo?.idType==="drivers_license");return()=>cr()?de("driversLicense"):bt(()=>e.client.idInfo?.idType==="state_id")()?de("stateId"):bt(()=>e.client.idInfo?.idType==="passport")()?de("passport"):de("other")})()),zt.style.setProperty("display","flex"),zt.style.setProperty("justify-content","space-between"),Xt.style.setProperty("color","var(--text-secondary)"),Xt.style.setProperty("font-size","0.8125rem"),Xt.style.setProperty("font-weight","500"),t(Xt,()=>de("idNumber")),Pr.style.setProperty("color","var(--text-primary)"),Pr.style.setProperty("font-weight","500"),Pr.style.setProperty("font-family","monospace"),t(Pr,()=>e.client.idInfo?.idNumber||"-"),Nr.style.setProperty("display","flex"),Nr.style.setProperty("justify-content","space-between"),Sr.style.setProperty("color","var(--text-secondary)"),Sr.style.setProperty("font-size","0.8125rem"),Sr.style.setProperty("font-weight","500"),t(Sr,()=>de("issuingState")),Hr.style.setProperty("color","var(--text-primary)"),Hr.style.setProperty("font-weight","500"),t(Hr,()=>e.client.idInfo?.idState||"-"),ts.style.setProperty("display","flex"),ts.style.setProperty("justify-content","space-between"),hr.style.setProperty("color","var(--text-secondary)"),hr.style.setProperty("font-size","0.8125rem"),hr.style.setProperty("font-weight","500"),t(hr,()=>de("issueDate")),xr.style.setProperty("color","var(--text-primary)"),xr.style.setProperty("font-weight","500"),t(xr,()=>Qs(e.client.idInfo?.issueDate,v()==="es"?"es-ES":"en-US",{month:"short",day:"numeric",year:"numeric"})),ss.style.setProperty("display","flex"),ss.style.setProperty("justify-content","space-between"),Xr.style.setProperty("color","var(--text-secondary)"),Xr.style.setProperty("font-size","0.8125rem"),Xr.style.setProperty("font-weight","500"),t(Xr,()=>de("expiration")),Jt.style.setProperty("color","var(--text-primary)"),Jt.style.setProperty("font-weight","500"),t(Jt,()=>Qs(e.client.idInfo?.expirationDate,v()==="es"?"es-ES":"en-US",{month:"short",day:"numeric",year:"numeric"})),ft}})),qs.style.setProperty("background","white"),qs.style.setProperty("border-radius","12px"),qs.style.setProperty("border","1px solid #e3e8ee"),qs.style.setProperty("overflow","hidden"),_s.style.setProperty("background","#fafafa"),_s.style.setProperty("padding","0.875rem 1.25rem"),_s.style.setProperty("display","flex"),_s.style.setProperty("align-items","center"),_s.style.setProperty("gap","0.75rem"),_s.style.setProperty("border-bottom","1px solid #e3e8ee"),vn.style.setProperty("width","18px"),vn.style.setProperty("height","18px"),on.style.setProperty("color","#1a1a1a"),on.style.setProperty("font-weight","600"),on.style.setProperty("font-size","0.9375rem"),t(on,()=>de("bankAccount")),t(_s,n(Lr,{get text(){return[e.client.bankInfo?.bankName||"","|",e.client.bankInfo?.routingNumber||"","|",e.client.bankInfo?.routingNumber||"","|",e.client.bankInfo?.accountNumber||"","|",e.client.bankInfo?.accountNumber||""].join("")||""},handle:ut,label:""}),null),En.style.setProperty("padding","1.25rem"),t(En,n(p,{get when(){return e.client.bankInfo?.accountNumber},get fallback(){return(()=>{var ft=Is();return ft.style.setProperty("color","var(--text-secondary)"),ft.style.setProperty("font-style","italic"),ft.style.setProperty("text-align","center"),ft.style.setProperty("padding","1rem"),t(ft,()=>de("noBankInfo")),ft})()},get children(){var ft=Ei(),yr=ft.firstChild,br=yr.firstChild,Tr=br.nextSibling,zt=yr.nextSibling,Xt=zt.firstChild,Pr=Xt.nextSibling,Nr=zt.nextSibling,Sr=Nr.firstChild,Hr=Sr.nextSibling,ts=Hr.firstChild,hr=Nr.nextSibling,xr=hr.firstChild,ss=xr.nextSibling,Xr=ss.firstChild;return ft.style.setProperty("display","flex"),ft.style.setProperty("flex-direction","column"),ft.style.setProperty("gap","0.875rem"),yr.style.setProperty("display","flex"),yr.style.setProperty("justify-content","space-between"),br.style.setProperty("color","var(--text-secondary)"),br.style.setProperty("font-size","0.8125rem"),br.style.setProperty("font-weight","500"),t(br,()=>de("bankName")),Tr.style.setProperty("color","var(--text-primary)"),Tr.style.setProperty("font-weight","600"),t(Tr,()=>e.client.bankInfo?.bankName||"-"),zt.style.setProperty("display","flex"),zt.style.setProperty("justify-content","space-between"),Xt.style.setProperty("color","var(--text-secondary)"),Xt.style.setProperty("font-size","0.8125rem"),Xt.style.setProperty("font-weight","500"),t(Xt,()=>de("accountType")),Pr.style.setProperty("color","#1a1a1a"),Pr.style.setProperty("font-weight","500"),Pr.style.setProperty("background","#f0f0eb"),Pr.style.setProperty("padding","0.125rem 0.5rem"),Pr.style.setProperty("border-radius","10px"),Pr.style.setProperty("font-size","0.75rem"),Pr.style.setProperty("border","1px solid #e3e8ee"),t(Pr,(()=>{var Jt=bt(()=>e.client.bankInfo?.accountType==="checking");return()=>Jt()?de("checking"):bt(()=>e.client.bankInfo?.accountType==="savings")()?de("savings"):"-"})()),Nr.style.setProperty("display","flex"),Nr.style.setProperty("justify-content","space-between"),Nr.style.setProperty("align-items","center"),Sr.style.setProperty("color","var(--text-secondary)"),Sr.style.setProperty("font-size","0.8125rem"),Sr.style.setProperty("font-weight","500"),t(Sr,()=>de("routingNumber")),Hr.style.setProperty("display","flex"),Hr.style.setProperty("align-items","center"),Hr.style.setProperty("gap","0.5rem"),ts.style.setProperty("color","var(--text-primary)"),ts.style.setProperty("font-weight","500"),ts.style.setProperty("font-family","monospace"),t(ts,()=>lt(e.client.bankInfo?.routingNumber,ye())),t(Hr,n(p,{get when(){return e.client.bankInfo?.routingNumber},get children(){var Jt=dn();return Jt.$$click=()=>Ce(!ye()),Jt.style.setProperty("padding","0.125rem 0.5rem"),Jt.style.setProperty("font-size","0.6875rem"),Jt.style.setProperty("font-weight","500"),Jt.style.setProperty("border-radius","10px"),Jt.style.setProperty("border","1px solid #e3e8ee"),Jt.style.setProperty("cursor","pointer"),Jt.style.setProperty("transition","all 0.2s"),t(Jt,(()=>{var cr=bt(()=>!!ye());return()=>cr()?de("hide"):de("show")})()),f(cr=>{var ns=ye()?"#1a1a1a":"#f0f0eb",as=ye()?"white":"#7a7a7a";return ns!==cr.e&&((cr.e=ns)!=null?Jt.style.setProperty("background",ns):Jt.style.removeProperty("background")),as!==cr.t&&((cr.t=as)!=null?Jt.style.setProperty("color",as):Jt.style.removeProperty("color")),cr},{e:void 0,t:void 0}),Jt}}),null),hr.style.setProperty("display","flex"),hr.style.setProperty("justify-content","space-between"),hr.style.setProperty("align-items","center"),xr.style.setProperty("color","var(--text-secondary)"),xr.style.setProperty("font-size","0.8125rem"),xr.style.setProperty("font-weight","500"),t(xr,()=>de("accountNumber")),ss.style.setProperty("display","flex"),ss.style.setProperty("align-items","center"),ss.style.setProperty("gap","0.5rem"),Xr.style.setProperty("color","var(--text-primary)"),Xr.style.setProperty("font-weight","500"),Xr.style.setProperty("font-family","monospace"),t(Xr,()=>lt(e.client.bankInfo?.accountNumber,$e())),t(ss,n(p,{get when(){return e.client.bankInfo?.accountNumber},get children(){var Jt=dn();return Jt.$$click=()=>fe(!$e()),Jt.style.setProperty("padding","0.125rem 0.5rem"),Jt.style.setProperty("font-size","0.6875rem"),Jt.style.setProperty("font-weight","500"),Jt.style.setProperty("border-radius","10px"),Jt.style.setProperty("border","1px solid #e3e8ee"),Jt.style.setProperty("cursor","pointer"),Jt.style.setProperty("transition","all 0.2s"),t(Jt,(()=>{var cr=bt(()=>!!$e());return()=>cr()?de("hide"):de("show")})()),f(cr=>{var ns=$e()?"#1a1a1a":"#f0f0eb",as=$e()?"white":"#7a7a7a";return ns!==cr.e&&((cr.e=ns)!=null?Jt.style.setProperty("background",ns):Jt.style.removeProperty("background")),as!==cr.t&&((cr.t=as)!=null?Jt.style.setProperty("color",as):Jt.style.removeProperty("color")),cr},{e:void 0,t:void 0}),Jt}}),null),t(ft,n(p,{get when(){return e.client.bankInfo?.accountHolderName},get children(){var Jt=Cn(),cr=Jt.firstChild,ns=cr.nextSibling;return Jt.style.setProperty("display","flex"),Jt.style.setProperty("justify-content","space-between"),cr.style.setProperty("color","var(--text-secondary)"),cr.style.setProperty("font-size","0.8125rem"),cr.style.setProperty("font-weight","500"),t(cr,()=>de("accountHolder")),ns.style.setProperty("color","var(--text-primary)"),ns.style.setProperty("font-weight","500"),t(ns,()=>e.client.bankInfo?.accountHolderName),Jt}}),null),ft}})),t(l,()=>{const ft=e.client.filingStatus==="married_filing_jointly",yr=e.client.dependents||[],br=ft&&e.linkedSpouse?.dependents?e.linkedSpouse.dependents.filter(zt=>!yr.some(Xt=>Xt.ssn&&zt.ssn&&Xt.ssn===zt.ssn||Xt.firstName?.toLowerCase()===zt.firstName?.toLowerCase()&&Xt.lastName?.toLowerCase()===zt.lastName?.toLowerCase())).map(zt=>({...zt,_fromSpouse:!0})):[],Tr=[...yr.map(zt=>({...zt,_fromSpouse:!1})),...br];return(()=>{var zt=Ol(),Xt=zt.firstChild,Pr=Xt.firstChild,Nr=Pr.firstChild,Sr=Nr.nextSibling,Hr=Pr.nextSibling,ts=Xt.nextSibling;return zt.style.setProperty("background","white"),zt.style.setProperty("border-radius","12px"),zt.style.setProperty("border","1px solid #e3e8ee"),zt.style.setProperty("overflow","hidden"),Xt.style.setProperty("background","#fafafa"),Xt.style.setProperty("padding","0.875rem 1.25rem"),Xt.style.setProperty("display","flex"),Xt.style.setProperty("align-items","center"),Xt.style.setProperty("justify-content","space-between"),Xt.style.setProperty("border-bottom","1px solid #e3e8ee"),Pr.style.setProperty("display","flex"),Pr.style.setProperty("align-items","center"),Pr.style.setProperty("gap","0.75rem"),Nr.style.setProperty("width","18px"),Nr.style.setProperty("height","18px"),Sr.style.setProperty("color","#1a1a1a"),Sr.style.setProperty("font-weight","600"),Sr.style.setProperty("font-size","0.9375rem"),t(Sr,()=>de("dependents")),Hr.style.setProperty("background","#f0f0eb"),Hr.style.setProperty("color","#1a1a1a"),Hr.style.setProperty("padding","0.25rem 0.75rem"),Hr.style.setProperty("border-radius","12px"),Hr.style.setProperty("font-size","0.875rem"),Hr.style.setProperty("font-weight","500"),Hr.style.setProperty("border","1px solid #e3e8ee"),t(Hr,()=>Tr.length),ts.style.setProperty("padding","1.25rem"),t(ts,n(p,{get when(){return e.client.hasNoDependents&&!br.length},get children(){var hr=Bl(),xr=hr.firstChild,ss=xr.nextSibling;return hr.style.setProperty("display","flex"),hr.style.setProperty("align-items","center"),hr.style.setProperty("justify-content","center"),hr.style.setProperty("gap","0.5rem"),hr.style.setProperty("padding","1.5rem"),hr.style.setProperty("background","#f0f0eb"),hr.style.setProperty("border-radius","10px"),hr.style.setProperty("color","#1a1a1a"),hr.style.setProperty("border","1px solid #e3e8ee"),xr.style.setProperty("width","18px"),xr.style.setProperty("height","18px"),ss.style.setProperty("font-weight","500"),t(ss,()=>de("noDependentsConfirmed")),hr}}),null),t(ts,n(p,{get when(){return!e.client.hasNoDependents&&Tr.length===0},get children(){var hr=Is();return hr.style.setProperty("color","var(--text-secondary)"),hr.style.setProperty("font-style","italic"),hr.style.setProperty("text-align","center"),hr.style.setProperty("padding","1.5rem"),t(hr,()=>de("noDependentsAdded")),hr}}),null),t(ts,n(p,{get when(){return Tr.length>0},get children(){var hr=Is();return hr.style.setProperty("display","grid"),hr.style.setProperty("grid-template-columns","repeat(auto-fit, minmax(280px, 1fr))"),hr.style.setProperty("gap","1rem"),t(hr,n(Ht,{each:Tr,children:(xr,ss)=>(()=>{var Xr=Ul(),Jt=Xr.firstChild,cr=Jt.firstChild,ns=cr.nextSibling,as=ns.firstChild,zs=as.firstChild,ks=as.nextSibling,xs=Jt.nextSibling,os=xs.firstChild,bs=os.firstChild,Bs=bs.nextSibling,Os=os.nextSibling,bn=Os.firstChild,Ln=bn.nextSibling;return Xr.style.setProperty("padding","1rem"),Xr.style.setProperty("border-radius","10px"),Jt.style.setProperty("display","flex"),Jt.style.setProperty("align-items","center"),Jt.style.setProperty("gap","0.75rem"),Jt.style.setProperty("margin-bottom","0.875rem"),cr.style.setProperty("width","28px"),cr.style.setProperty("height","28px"),cr.style.setProperty("border-radius","50%"),cr.style.setProperty("display","flex"),cr.style.setProperty("align-items","center"),cr.style.setProperty("justify-content","center"),cr.style.setProperty("font-weight","600"),cr.style.setProperty("font-size","0.8125rem"),t(cr,()=>ss()+1),as.style.setProperty("display","flex"),as.style.setProperty("align-items","center"),zs.style.setProperty("font-weight","600"),zs.style.setProperty("color","var(--text-primary)"),zs.style.setProperty("margin-right","8px"),t(zs,()=>[xr.firstName,xr.lastName].filter(Boolean).join(" ")||"Unnamed"),t(as,n(p,{get when(){return xr._fromSpouse},get children(){var Yr=jl();return Yr.style.setProperty("font-size","0.625rem"),Yr.style.setProperty("color","#7c3aed"),Yr.style.setProperty("font-weight","600"),Yr.style.setProperty("background","#f3e8ff"),Yr.style.setProperty("padding","0.125rem 0.375rem"),Yr.style.setProperty("border-radius","4px"),Yr.style.setProperty("margin-right","8px"),Yr}}),null),t(as,n(Lr,{get text(){return[xr.firstName,"|",xr.middleName||"","|",xr.lastName,"|","|",ys(xr?.ssn),"|","|","|","|",xr?.relationship||"","|","12","|",Jr(xr.dateOfBirth)||"","|"].join("")||""},handle:ut,label:""}),null),ks.style.setProperty("font-size","0.75rem"),ks.style.setProperty("color","var(--text-secondary)"),t(ks,()=>de(ea[xr.relationship])||xr.relationship||"-"),xs.style.setProperty("display","flex"),xs.style.setProperty("flex-direction","column"),xs.style.setProperty("gap","0.5rem"),xs.style.setProperty("font-size","0.875rem"),os.style.setProperty("display","flex"),os.style.setProperty("justify-content","space-between"),bs.style.setProperty("color","var(--text-secondary)"),t(bs,()=>de("ssn")),Bs.style.setProperty("color","var(--text-primary)"),Bs.style.setProperty("font-family","monospace"),t(Bs,(()=>{var Yr=bt(()=>!!xr.ssn);return()=>Yr()?`***-**-${xr.ssn.slice(-4)}`:"-"})()),Os.style.setProperty("display","flex"),Os.style.setProperty("justify-content","space-between"),bn.style.setProperty("color","var(--text-secondary)"),t(bn,()=>de("dateOfBirth")),Ln.style.setProperty("color","var(--text-primary)"),t(Ln,()=>Qs(xr.dateOfBirth,v()==="es"?"es-ES":"en-US",{month:"short",day:"numeric",year:"numeric"})),t(xs,n(p,{get when(){return xr.monthsLivedWithYou},get children(){var Yr=Cn(),js=Yr.firstChild,Hs=js.nextSibling;return Yr.style.setProperty("display","flex"),Yr.style.setProperty("justify-content","space-between"),js.style.setProperty("color","var(--text-secondary)"),t(js,()=>de("monthsLived")),Hs.style.setProperty("color","var(--text-primary)"),t(Hs,()=>xr.monthsLivedWithYou),Yr}}),null),f(Yr=>{var js=xr._fromSpouse?"#faf5ff":"#fafafa",Hs=xr._fromSpouse?"1px solid #e9d5ff":"1px solid #e3e8ee",Pn=xr._fromSpouse?"#f3e8ff":"#f0f0eb",xn=xr._fromSpouse?"1px solid #e9d5ff":"1px solid #e3e8ee",$n=xr._fromSpouse?"#7c3aed":"#1a1a1a";return js!==Yr.e&&((Yr.e=js)!=null?Xr.style.setProperty("background",js):Xr.style.removeProperty("background")),Hs!==Yr.t&&((Yr.t=Hs)!=null?Xr.style.setProperty("border",Hs):Xr.style.removeProperty("border")),Pn!==Yr.a&&((Yr.a=Pn)!=null?cr.style.setProperty("background",Pn):cr.style.removeProperty("background")),xn!==Yr.o&&((Yr.o=xn)!=null?cr.style.setProperty("border",xn):cr.style.removeProperty("border")),$n!==Yr.i&&((Yr.i=$n)!=null?cr.style.setProperty("color",$n):cr.style.removeProperty("color")),Yr},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),Xr})()})),hr}}),null),zt})()},null),f(ft=>{var yr=v()==="es"?"Descargar PDF":"Download PDF",br=v()==="en"?"white":"transparent",Tr=v()==="en"?"#1a1a1a":"#7a7a7a",zt=v()==="es"?"white":"transparent",Xt=v()==="es"?"#1a1a1a":"#7a7a7a";return yr!==ft.e&&es(z,"title",ft.e=yr),br!==ft.t&&((ft.t=br)!=null?i.style.setProperty("background",br):i.style.removeProperty("background")),Tr!==ft.a&&((ft.a=Tr)!=null?i.style.setProperty("color",Tr):i.style.removeProperty("color")),zt!==ft.o&&((ft.o=zt)!=null?g.style.setProperty("background",zt):g.style.removeProperty("background")),Xt!==ft.i&&((ft.i=Xt)!=null?g.style.setProperty("color",Xt):g.style.removeProperty("color")),ft},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),l}}),Te),t(T,n(p,{get when(){return y()==="personal"},get children(){return n(fs,{get children(){return[(()=>{var l=Mi(),P=l.firstChild;return P.nextSibling,P.style.setProperty("width","20px"),P.style.setProperty("height","20px"),P.style.setProperty("color","#3b82f6"),t(l,n(Lr,{get text(){return[e.client?.firstName,"|",e.client.middleName||"","|",e.client.lastName,"|","|",ys(e.client?.ssn),"|","|",Jr(e.client.dateOfBirth)||"","|",e.client?.occupation||"","|","|",e.client.phone,"|"].join("")||""},handle:ut,label:""}),null),f(b=>s(l,me,b)),l})(),(()=>{var l=Bi(),P=l.firstChild,b=P.firstChild,z=P.nextSibling,R=z.firstChild,i=R.nextSibling,g=z.nextSibling,u=g.firstChild,m=u.nextSibling,q=g.nextSibling,I=q.firstChild,V=I.nextSibling,J=q.nextSibling,j=J.firstChild,be=J.nextSibling,De=be.firstChild,_=be.nextSibling,ee=_.firstChild,Fe=ee.nextSibling,ct=_.nextSibling,At=ct.firstChild,Nt=At.nextSibling,at=ct.nextSibling,Mt=at.firstChild;return t(P,n(Lr,{get text(){return e.client.firstName+(e.client.middleName?" "+e.client.middleName+" ":" ")+e.client.lastName||""},handle:ut,label:"First Name *"}),b),b.$$input=Re=>_e("firstName",Re.currentTarget.value),i.$$input=Re=>_e("middleName",Re.currentTarget.value),m.$$input=Re=>_e("lastName",Re.currentTarget.value),V.addEventListener("change",Re=>_e("suffix",Re.currentTarget.value||void 0)),t(J,n(Lr,{get text(){return e.client?.ssn||""},handle:ut,label:"SSN"}),j),j.$$input=Re=>_e("ssn",Re.currentTarget.value),t(be,n(Lr,{get text(){return Jr(e.client?.spouse?.dateOfBirth)||""},handle:ut,label:"Date of Birth"}),De),De.$$input=Re=>_e("dateOfBirth",Re.currentTarget.value),Fe.$$input=Re=>_e("occupation",Re.currentTarget.value),Nt.$$input=Re=>_e("email",Re.currentTarget.value),t(at,n(Lr,{get text(){return e.client.phone||""},handle:ut,label:"Phone"}),Mt),Mt.$$input=Re=>_e("phone",Re.currentTarget.value),f(Re=>{var wr=Cr,er=K,Or=rt,Ue=K,jr=He,dt=rt,Ur=K,We=He,Qt=rt,Lt=K,Bt=He,Ut=Oe,ar=K,jt=rt,nr=K,gr=rt,Fr=K,vr=He,Gr=rt,Ar=K,Mr=He,tr=rt,Er=K,Ft=rt;return Re.e=s(l,wr,Re.e),Re.t=s(P,er,Re.t),Re.a=s(b,Or,Re.a),Re.o=s(z,Ue,Re.o),Re.i=s(R,jr,Re.i),Re.n=s(i,dt,Re.n),Re.s=s(g,Ur,Re.s),Re.h=s(u,We,Re.h),Re.r=s(m,Qt,Re.r),Re.d=s(q,Lt,Re.d),Re.l=s(I,Bt,Re.l),Re.u=s(V,Ut,Re.u),Re.c=s(J,ar,Re.c),Re.w=s(j,jt,Re.w),Re.m=s(be,nr,Re.m),Re.f=s(De,gr,Re.f),Re.y=s(_,Fr,Re.y),Re.g=s(ee,vr,Re.g),Re.p=s(Fe,Gr,Re.p),Re.b=s(ct,Ar,Re.b),Re.T=s(At,Mr,Re.T),Re.A=s(Nt,tr,Re.A),Re.O=s(at,Er,Re.O),Re.I=s(Mt,Ft,Re.I),Re},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0,O:void 0,I:void 0}),f(()=>b.value=e.client.firstName||""),f(()=>i.value=e.client.middleName||""),f(()=>m.value=e.client.lastName||""),f(()=>V.value=e.client.suffix||""),f(()=>j.value=e.client?.ssn||""),f(()=>De.value=e.client?.dateOfBirth||""),f(()=>Fe.value=e.client?.occupation||""),f(()=>Nt.value=e.client?.email||""),f(()=>Mt.value=e.client.phone||""),l})(),(()=>{var l=Oi(),P=l.firstChild;return P.nextSibling,P.style.setProperty("width","20px"),P.style.setProperty("height","20px"),P.style.setProperty("color","#8b5cf6"),t(l,n(Lr,{get text(){return[e.client.address,"|","|","|",e.client.zipCode,"|","|","|","|","|"].join("")||""},handle:ut,label:""}),null),f(b=>s(l,{...me,"margin-top":"2rem"},b)),l})(),(()=>{var l=Hi(),P=l.firstChild,b=P.firstChild;b.nextSibling;var z=P.nextSibling,R=z.nextSibling;return l.style.setProperty("position","relative"),l.style.setProperty("margin-bottom","1rem"),b.style.setProperty("width","16px"),b.style.setProperty("height","16px"),b.style.setProperty("color","#6b7280"),t(P,n(p,{get when(){return e.client.city||e.client.state},get children(){var i=ji();return i.firstChild,i.style.setProperty("font-size","0.7rem"),i.style.setProperty("color","#3b82f6"),i.style.setProperty("background","#eff6ff"),i.style.setProperty("padding","0.125rem 0.5rem"),i.style.setProperty("border-radius","9999px"),i.style.setProperty("font-weight","500"),t(i,()=>e.client.city,null),t(i,()=>e.client.city&&e.client.state?", ":"",null),t(i,()=>e.client.state,null),i}}),null),z.addEventListener("blur",()=>setTimeout(()=>it(!1),200)),z.addEventListener("focus",()=>ve().length>0&&it(!0)),z.$$input=i=>U(i.currentTarget.value),R.style.setProperty("position","absolute"),R.style.setProperty("left","0.75rem"),R.style.setProperty("top","2.25rem"),R.style.setProperty("width","16px"),R.style.setProperty("height","16px"),t(R,(()=>{var i=bt(()=>!!we());return()=>i()?Hl():Wl()})()),t(l,n(p,{get when(){return bt(()=>!!wt())()&&ve().length>0},get children(){var i=Ui(),g=i.firstChild;return i.style.setProperty("position","absolute"),i.style.setProperty("top","100%"),i.style.setProperty("left","0"),i.style.setProperty("right","0"),i.style.setProperty("background","white"),i.style.setProperty("border","1px solid #e5e7eb"),i.style.setProperty("border-radius","0.5rem"),i.style.setProperty("box-shadow","0 10px 25px rgba(0,0,0,0.15)"),i.style.setProperty("z-index","50"),i.style.setProperty("max-height","250px"),i.style.setProperty("overflow-y","auto"),t(i,n(Ht,{get each(){return ve()},children:u=>(()=>{var m=Yl(),q=m.firstChild,I=q.nextSibling,V=I.firstChild,J=V.nextSibling;return J.nextSibling,m.$$mousedown=()=>ce(u),m.addEventListener("mouseleave",j=>j.currentTarget.style.background="white"),m.addEventListener("mouseenter",j=>j.currentTarget.style.background="#f0f9ff"),m.style.setProperty("padding","0.75rem 1rem"),m.style.setProperty("cursor","pointer"),m.style.setProperty("border-bottom","1px solid #f3f4f6"),m.style.setProperty("transition","background 0.15s"),q.style.setProperty("font-weight","600"),q.style.setProperty("color","#111827"),q.style.setProperty("font-size","0.875rem"),t(q,()=>u.street),I.style.setProperty("color","#6b7280"),I.style.setProperty("font-size","0.75rem"),I.style.setProperty("margin-top","0.125rem"),t(I,()=>u.city,V),t(I,()=>u.state,J),t(I,()=>u.zip,null),m})()}),g),g.style.setProperty("padding","0.5rem"),g.style.setProperty("text-align","center"),g.style.setProperty("font-size","0.625rem"),g.style.setProperty("color","#9ca3af"),g.style.setProperty("background","#f9fafb"),i}}),null),f(i=>{var g={...He,display:"flex","align-items":"center",gap:"0.5rem"},u={...rt,"padding-left":"2.5rem",background:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)","min-width":"360px"},m=e.client.city||e.client.state?`Search street address in ${e.client.city||""}${e.client.city&&e.client.state?", ":""}${e.client.state||""}...`:"Start typing an address to search...",q=we()?"#3b82f6":"#9ca3af";return i.e=s(P,g,i.e),i.t=s(z,u,i.t),m!==i.a&&es(z,"placeholder",i.a=m),q!==i.o&&((i.o=q)!=null?R.style.setProperty("color",q):R.style.removeProperty("color")),i},{e:void 0,t:void 0,a:void 0,o:void 0}),f(()=>z.value=Je()),l})(),(()=>{var l=Wi(),P=l.firstChild,b=P.firstChild,z=b.nextSibling,R=P.nextSibling,i=R.firstChild,g=i.nextSibling,u=R.nextSibling,m=u.firstChild,q=m.nextSibling,I=u.nextSibling,V=I.firstChild,J=V.nextSibling,j=I.nextSibling,be=j.firstChild,De=be.nextSibling;return De.firstChild,z.$$input=_=>_e("address",_.currentTarget.value),g.$$input=_=>_e("apt",_.currentTarget.value),q.$$input=async _=>{const ee=_.currentTarget.value;_e("zipCode",ee);const Fe=ee.replace(/\D/g,"");if(Fe.length===5){const ct=await Jo(Fe);ct&&(e.onClientChange({city:ct.city,state:ct.stateAbbreviation}),w(!0))}},J.$$input=_=>_e("city",_.currentTarget.value),De.addEventListener("change",_=>_e("state",_.currentTarget.value)),t(De,n(Ht,{each:yn,children:_=>(()=>{var ee=Ks();return ee.value=_,t(ee,_),ee})()}),null),f(_=>{var ee=Cr,Fe={...K,"grid-column":"span 2"},ct=He,At=rt,Nt={...K,"grid-column":"120px"},at=He,Mt=rt,Re=K,wr=He,er=rt,Or=K,Ue=He,jr=rt,dt=K,Ur=He,We=Oe;return _.e=s(l,ee,_.e),_.t=s(P,Fe,_.t),_.a=s(b,ct,_.a),_.o=s(z,At,_.o),_.i=s(R,Nt,_.i),_.n=s(i,at,_.n),_.s=s(g,Mt,_.s),_.h=s(u,Re,_.h),_.r=s(m,wr,_.r),_.d=s(q,er,_.d),_.l=s(I,Or,_.l),_.u=s(V,Ue,_.u),_.c=s(J,jr,_.c),_.w=s(j,dt,_.w),_.m=s(be,Ur,_.m),_.f=s(De,We,_.f),_},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0}),f(()=>z.value=e.client.address||""),f(()=>g.value=e.client.apt||""),f(()=>q.value=e.client.zipCode||""),f(()=>J.value=e.client.city||""),f(()=>De.value=e.client.state||""),l})()]}})}}),Te),t(T,n(p,{get when(){return bt(()=>y()==="spouse")()&&pe()},get children(){return n(fs,{get children(){return[(()=>{var l=Ji(),P=l.firstChild,b=P.firstChild;b.nextSibling;var z=P.nextSibling,R=z.firstChild,i=R.firstChild,g=i.firstChild,u=g.nextSibling;return b.style.setProperty("width","20px"),b.style.setProperty("height","20px"),b.style.setProperty("color","#ec4899"),t(P,n(Lr,{get text(){return[e.client.spouse?.firstName,"|",e.client.spouse?.middleName||"","|",e.client.spouse?.lastName,"|","|",ys(e.client.spouse?.ssn),"|","|",Jr(e.client?.spouse?.dateOfBirth)||"","|",e.client.spouse?.occupation||"","|","|",e.client.spouse?.phone,"|"].join("")||""},handle:ut,label:""}),null),z.style.setProperty("background","#fef3c7"),z.style.setProperty("border","1px solid #f59e0b"),z.style.setProperty("border-radius","8px"),z.style.setProperty("padding","1rem"),z.style.setProperty("margin-bottom","1.5rem"),R.style.setProperty("display","flex"),R.style.setProperty("align-items","center"),R.style.setProperty("justify-content","space-between"),R.style.setProperty("margin-bottom","0.75rem"),i.style.setProperty("display","flex"),i.style.setProperty("align-items","center"),i.style.setProperty("gap","0.5rem"),g.style.setProperty("width","20px"),g.style.setProperty("height","20px"),u.style.setProperty("font-weight","600"),u.style.setProperty("color","#92400e"),t(R,n(p,{get when(){return e.client.linkedSpouseId},get children(){var m=Yi();return m.$$click=et,m.style.setProperty("background","#fee2e2"),m.style.setProperty("border","1px solid #ef4444"),m.style.setProperty("border-radius","6px"),m.style.setProperty("padding","0.25rem 0.75rem"),m.style.setProperty("cursor","pointer"),m.style.setProperty("color","#dc2626"),m.style.setProperty("font-size","0.75rem"),m.style.setProperty("font-weight","500"),m}}),null),t(z,n(p,{get when(){return e.client.linkedSpouseId},get children(){var m=Gi(),q=m.firstChild,I=q.nextSibling,V=I.firstChild;V.firstChild;var J=V.nextSibling;return m.style.setProperty("display","flex"),m.style.setProperty("align-items","center"),m.style.setProperty("gap","0.75rem"),m.style.setProperty("padding","0.75rem"),m.style.setProperty("background","#d1fae5"),m.style.setProperty("border-radius","6px"),m.style.setProperty("border","1px solid #10b981"),q.style.setProperty("width","24px"),q.style.setProperty("height","24px"),V.style.setProperty("font-weight","600"),V.style.setProperty("color","#065f46"),t(V,()=>e.client.linkedSpouseName,null),J.style.setProperty("font-size","0.75rem"),J.style.setProperty("color","#047857"),m}}),null),t(z,n(p,{get when(){return!e.client.linkedSpouseId},get children(){return[(()=>{var m=Vi();return m.style.setProperty("font-size","0.8125rem"),m.style.setProperty("color","#78350f"),m.style.setProperty("margin-bottom","0.75rem"),m})(),n(p,{get when(){return!Ee()},get children(){var m=qi(),q=m.firstChild;return m.$$click=()=>Pt(!0),m.style.setProperty("background","#f59e0b"),m.style.setProperty("color","white"),m.style.setProperty("border","none"),m.style.setProperty("border-radius","6px"),m.style.setProperty("padding","0.5rem 1rem"),m.style.setProperty("cursor","pointer"),m.style.setProperty("font-weight","500"),m.style.setProperty("display","flex"),m.style.setProperty("align-items","center"),m.style.setProperty("gap","0.5rem"),q.style.setProperty("width","16px"),q.style.setProperty("height","16px"),m}}),n(p,{get when(){return Ee()},get children(){return[(()=>{var m=Xi(),q=m.firstChild;return m.style.setProperty("position","relative"),q.$$input=I=>{ke(I.currentTarget.value),Q(I.currentTarget.value)},q.style.setProperty("width","100%"),q.style.setProperty("padding","0.5rem 0.75rem"),q.style.setProperty("border","1px solid #d1d5db"),q.style.setProperty("border-radius","6px"),q.style.setProperty("font-size","0.875rem"),t(m,n(p,{get when(){return $t()},get children(){var I=Qi(),V=I.firstChild;return I.style.setProperty("position","absolute"),I.style.setProperty("right","0.75rem"),I.style.setProperty("top","50%"),I.style.setProperty("transform","translateY(-50%)"),V.style.setProperty("color","#9ca3af"),V.style.setProperty("font-size","0.75rem"),I}}),null),f(()=>q.value=gt()),m})(),n(p,{get when(){return Ye().length>0},get children(){var m=Is();return m.style.setProperty("margin-top","0.5rem"),m.style.setProperty("border","1px solid #e5e7eb"),m.style.setProperty("border-radius","6px"),m.style.setProperty("max-height","200px"),m.style.setProperty("overflow","auto"),m.style.setProperty("background","white"),t(m,n(Ht,{get each(){return Ye()},children:q=>(()=>{var I=Gl(),V=I.firstChild,J=V.firstChild,j=J.firstChild,be=J.nextSibling,De=be.firstChild,_=V.nextSibling;return I.$$click=()=>G(q),I.$$mouseout=ee=>ee.currentTarget.style.background="white",I.$$mouseover=ee=>ee.currentTarget.style.background="#f9fafb",I.style.setProperty("padding","0.75rem"),I.style.setProperty("border-bottom","1px solid #f3f4f6"),I.style.setProperty("cursor","pointer"),I.style.setProperty("display","flex"),I.style.setProperty("justify-content","space-between"),I.style.setProperty("align-items","center"),J.style.setProperty("font-weight","500"),t(J,()=>q.firstName,j),t(J,()=>q.lastName,null),be.style.setProperty("font-size","0.75rem"),be.style.setProperty("color","#6b7280"),t(be,()=>q.email||"No email",De),t(be,()=>q.taxYear||"N/A",null),_.style.setProperty("width","20px"),_.style.setProperty("height","20px"),I})()})),m}}),(()=>{var m=Ki();return m.$$click=()=>{Pt(!1),ke(""),xt([])},m.style.setProperty("margin-top","0.5rem"),m.style.setProperty("background","transparent"),m.style.setProperty("border","none"),m.style.setProperty("color","#78350f"),m.style.setProperty("cursor","pointer"),m.style.setProperty("font-size","0.8125rem"),m})()]}})]}}),null),f(m=>{var q=vt,I=me;return m.e=s(l,q,m.e),m.t=s(P,I,m.t),m},{e:void 0,t:void 0}),l})(),(()=>{var l=Zi(),P=l.firstChild,b=P.firstChild,z=b.nextSibling,R=P.nextSibling,i=R.firstChild,g=i.nextSibling,u=R.nextSibling,m=u.firstChild,q=m.nextSibling,I=u.nextSibling,V=I.firstChild,J=V.nextSibling,j=I.nextSibling,be=j.firstChild,De=be.nextSibling,_=j.nextSibling,ee=_.firstChild,Fe=ee.nextSibling,ct=_.nextSibling,At=ct.firstChild,Nt=At.nextSibling,at=ct.nextSibling,Mt=at.firstChild,Re=Mt.nextSibling,wr=at.nextSibling,er=wr.firstChild,Or=er.nextSibling;return z.$$input=Ue=>_e("spouse",{...e.client.spouse,firstName:Ue.currentTarget.value,lastName:e.client.spouse?.lastName||""}),g.$$input=Ue=>_e("spouse",{...e.client.spouse,firstName:e.client.spouse?.firstName||"",lastName:e.client.spouse?.lastName||"",middleName:Ue.currentTarget.value}),q.$$input=Ue=>_e("spouse",{...e.client.spouse,firstName:e.client.spouse?.firstName||"",lastName:Ue.currentTarget.value}),J.addEventListener("change",Ue=>_e("spouse",{...e.client.spouse,firstName:e.client.spouse?.firstName||"",lastName:e.client.spouse?.lastName||"",suffix:Ue.currentTarget.value||void 0})),De.$$input=Ue=>_e("spouse",{...e.client.spouse,firstName:e.client.spouse?.firstName||"",lastName:e.client.spouse?.lastName||"",ssn:Ue.currentTarget.value}),Fe.$$input=Ue=>_e("spouse",{...e.client.spouse,firstName:e.client.spouse?.firstName||"",lastName:e.client.spouse?.lastName||"",dateOfBirth:Ue.currentTarget.value}),Nt.$$input=Ue=>_e("spouse",{...e.client.spouse,firstName:e.client.spouse?.firstName||"",lastName:e.client.spouse?.lastName||"",occupation:Ue.currentTarget.value}),Re.$$input=Ue=>_e("spouse",{...e.client.spouse,firstName:e.client.spouse?.firstName||"",lastName:e.client.spouse?.lastName||"",email:Ue.currentTarget.value}),Or.$$input=Ue=>_e("spouse",{...e.client.spouse,firstName:e.client.spouse?.firstName||"",lastName:e.client.spouse?.lastName||"",phone:Ue.currentTarget.value}),f(Ue=>{var jr=Cr,dt=K,Ur=He,We=rt,Qt=K,Lt=He,Bt=rt,Ut=K,ar=He,jt=rt,nr=K,gr=He,Fr=Oe,vr=K,Gr=He,Ar=rt,Mr=K,tr=He,Er=rt,Ft=K,fr=He,Ir=rt,ur=K,Vr=He,qr=rt,ls=K,cs=He,hs=rt;return Ue.e=s(l,jr,Ue.e),Ue.t=s(P,dt,Ue.t),Ue.a=s(b,Ur,Ue.a),Ue.o=s(z,We,Ue.o),Ue.i=s(R,Qt,Ue.i),Ue.n=s(i,Lt,Ue.n),Ue.s=s(g,Bt,Ue.s),Ue.h=s(u,Ut,Ue.h),Ue.r=s(m,ar,Ue.r),Ue.d=s(q,jt,Ue.d),Ue.l=s(I,nr,Ue.l),Ue.u=s(V,gr,Ue.u),Ue.c=s(J,Fr,Ue.c),Ue.w=s(j,vr,Ue.w),Ue.m=s(be,Gr,Ue.m),Ue.f=s(De,Ar,Ue.f),Ue.y=s(_,Mr,Ue.y),Ue.g=s(ee,tr,Ue.g),Ue.p=s(Fe,Er,Ue.p),Ue.b=s(ct,Ft,Ue.b),Ue.T=s(At,fr,Ue.T),Ue.A=s(Nt,Ir,Ue.A),Ue.O=s(at,ur,Ue.O),Ue.I=s(Mt,Vr,Ue.I),Ue.S=s(Re,qr,Ue.S),Ue.W=s(wr,ls,Ue.W),Ue.C=s(er,cs,Ue.C),Ue.B=s(Or,hs,Ue.B),Ue},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0,O:void 0,I:void 0,S:void 0,W:void 0,C:void 0,B:void 0}),f(()=>z.value=e.client.spouse?.firstName||""),f(()=>g.value=e.client.spouse?.middleName||""),f(()=>q.value=e.client.spouse?.lastName||""),f(()=>J.value=e.client.spouse?.suffix||""),f(()=>De.value=e.client.spouse?.ssn||""),f(()=>Fe.value=e.client.spouse?.dateOfBirth||""),f(()=>Nt.value=e.client.spouse?.occupation||""),f(()=>Re.value=e.client.spouse?.email||""),f(()=>Or.value=e.client.spouse?.phone||""),l})(),(()=>{var l=el(),P=l.firstChild;return P.style.setProperty("width","20px"),P.style.setProperty("height","20px"),P.style.setProperty("color","#f59e0b"),f(b=>s(l,{...me,"margin-top":"2rem"},b)),l})(),(()=>{var l=tl(),P=l.firstChild,b=P.firstChild,z=P.nextSibling,R=z.firstChild;return l.style.setProperty("display","flex"),l.style.setProperty("flex-direction","column"),l.style.setProperty("gap","0.75rem"),b.addEventListener("change",i=>_e("spouse",{...e.client.spouse,firstName:e.client.spouse?.firstName||"",lastName:e.client.spouse?.lastName||"",isBlind:i.currentTarget.checked})),R.addEventListener("change",i=>_e("spouse",{...e.client.spouse,firstName:e.client.spouse?.firstName||"",lastName:e.client.spouse?.lastName||"",canBeClaimed:i.currentTarget.checked})),f(i=>{var g=kt,u=St,m=kt,q=St;return i.e=s(P,g,i.e),i.t=s(b,u,i.t),i.a=s(z,m,i.a),i.o=s(R,q,i.o),i},{e:void 0,t:void 0,a:void 0,o:void 0}),f(()=>b.checked=e.client.spouse?.isBlind||!1),f(()=>R.checked=e.client.spouse?.canBeClaimed||!1),l})()]}})}}),Te),t(T,n(p,{get when(){return y()==="dependents"},get children(){return n(fs,{get children(){return[(()=>{var l=rl(),P=l.firstChild,b=P.nextSibling,z=b.nextSibling;return z.nextSibling,P.style.setProperty("width","20px"),P.style.setProperty("height","20px"),P.style.setProperty("color","#22c55e"),t(l,()=>e.client.dependents?.length||0,z),f(R=>s(l,me,R)),l})(),(()=>{var l=nl(),P=l.firstChild,b=P.firstChild,z=b.nextSibling,R=z.firstChild,i=R.nextSibling;return l.style.setProperty("padding","1rem"),l.style.setProperty("border-radius","12px"),l.style.setProperty("margin-bottom","1.5rem"),l.style.setProperty("display","flex"),l.style.setProperty("align-items","center"),l.style.setProperty("justify-content","space-between"),l.style.setProperty("gap","1rem"),P.style.setProperty("display","flex"),P.style.setProperty("align-items","center"),P.style.setProperty("gap","0.75rem"),b.addEventListener("change",g=>{_e("hasNoDependents",g.currentTarget.checked),g.currentTarget.checked&&(e.client.dependents?.length||0)>0&&_e("dependents",[])}),R.style.setProperty("font-weight","600"),R.style.setProperty("color","var(--text-primary)"),i.style.setProperty("font-size","0.8125rem"),i.style.setProperty("color","var(--text-secondary)"),t(l,n(p,{get when(){return e.client.hasNoDependents},get children(){var g=sl(),u=g.firstChild;return g.style.setProperty("display","flex"),g.style.setProperty("align-items","center"),g.style.setProperty("gap","0.5rem"),g.style.setProperty("padding","0.5rem 1rem"),g.style.setProperty("background","#22c55e"),g.style.setProperty("color","white"),g.style.setProperty("border-radius","9999px"),g.style.setProperty("font-size","0.8125rem"),g.style.setProperty("font-weight","600"),u.style.setProperty("width","16px"),u.style.setProperty("height","16px"),g}}),null),f(g=>{var u=e.client.hasNoDependents?"linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(34, 197, 94, 0.2))":"var(--surface-alt)",m=e.client.hasNoDependents?"2px solid #22c55e":"1px solid var(--border-color)",q={...St,"accent-color":"#22c55e"};return u!==g.e&&((g.e=u)!=null?l.style.setProperty("background",u):l.style.removeProperty("background")),m!==g.t&&((g.t=m)!=null?l.style.setProperty("border",m):l.style.removeProperty("border")),g.a=s(b,q,g.a),g},{e:void 0,t:void 0,a:void 0}),f(()=>b.checked=e.client.hasNoDependents||!1),l})(),n(p,{get when(){return!e.client.hasNoDependents},get children(){return[n(Ht,{get each(){return e.client.dependents||[]},children:(l,P)=>(()=>{var b=Vl(),z=b.firstChild,R=z.firstChild;R.firstChild;var i=R.nextSibling,g=i.firstChild,u=i.nextSibling,m=u.firstChild,q=z.nextSibling,I=q.firstChild,V=I.firstChild,J=I.nextSibling,j=J.firstChild,be=J.nextSibling,De=be.firstChild,_=De.nextSibling,ee=be.nextSibling,Fe=ee.firstChild,ct=ee.nextSibling,At=ct.firstChild,Nt=ct.nextSibling,at=Nt.firstChild,Mt=q.nextSibling,Re=Mt.firstChild,wr=Re.firstChild,er=Re.nextSibling,Or=er.firstChild,Ue=er.nextSibling,jr=Ue.firstChild;return s(b,or),R.style.setProperty("font-weight","600"),R.style.setProperty("color","var(--text-primary)"),t(R,()=>P()+1,null),t(R,()=>l.firstName&&`: ${l.firstName} ${l.lastName}`,null),i.$$mouseout=dt=>{dt.currentTarget.style.background="white",dt.currentTarget.style.borderColor="var(--border-color)"},i.$$mouseover=dt=>{dt.currentTarget.style.background="var(--surface-alt)",dt.currentTarget.style.borderColor="var(--primary-color)"},i.$$click=()=>Pe(l),i.style.setProperty("padding","0.75rem 1rem"),i.style.setProperty("font-size","0.9375rem"),i.style.setProperty("font-weight","500"),i.style.setProperty("border-radius","8px"),i.style.setProperty("border","1px solid var(--border-color)"),i.style.setProperty("background","white"),i.style.setProperty("color","var(--text-primary)"),i.style.setProperty("cursor","pointer"),i.style.setProperty("display","flex"),i.style.setProperty("align-items","center"),i.style.setProperty("gap","0.5rem"),i.style.setProperty("transition","all 0.2s"),g.style.setProperty("width","18px"),g.style.setProperty("height","18px"),u.$$click=()=>N(P()),s(u,Br),m.style.setProperty("width","16px"),m.style.setProperty("height","16px"),t(I,n(Ss,{style:rt,type:"text",get value(){return l.firstName||""},onChange:dt=>d(P(),{firstName:dt}),placeholder:"First name"}),null),t(J,n(Ss,{style:rt,type:"text",get value(){return l.lastName||""},onChange:dt=>d(P(),{lastName:dt}),placeholder:"Last name"}),null),_.addEventListener("change",dt=>d(P(),{relationship:dt.currentTarget.value})),t(_,n(Ht,{get each(){return Object.entries(Jl)},children:([dt,Ur])=>(()=>{var We=Ks();return We.value=dt,t(We,Ur),We})()})),t(ee,n(Ss,{style:rt,type:"text",get value(){return l.ssn||""},onChange:dt=>d(P(),{ssn:dt}),placeholder:"XXX-XX-XXXX",maxLength:11}),null),t(ct,n(Ss,{style:rt,type:"date",get value(){return l.dateOfBirth||""},onChange:dt=>d(P(),{dateOfBirth:dt})}),null),t(Nt,n(Ss,{style:rt,type:"number",min:"0",max:"12",get value(){return l.monthsLivedWithYou||""},onChange:dt=>d(P(),{monthsLivedWithYou:parseInt(dt)||void 0}),placeholder:"12"}),null),Mt.style.setProperty("display","grid"),Mt.style.setProperty("grid-template-columns","repeat(auto-fill, minmax(250px, 1fr))"),Mt.style.setProperty("gap","0.75rem"),Mt.style.setProperty("margin-top","1rem"),wr.addEventListener("change",dt=>d(P(),{isStudent:dt.currentTarget.checked})),Or.addEventListener("change",dt=>d(P(),{isDisabled:dt.currentTarget.checked})),jr.addEventListener("change",dt=>d(P(),{providedSupport:dt.currentTarget.checked})),f(dt=>{var Ur=vt,We=Cr,Qt=K,Lt=He,Bt=K,Ut=He,ar=K,jt=He,nr=Oe,gr=K,Fr=He,vr=K,Gr=He,Ar=K,Mr=He,tr=kt,Er=St,Ft=kt,fr=St,Ir=kt,ur=St;return dt.e=s(z,Ur,dt.e),dt.t=s(q,We,dt.t),dt.a=s(I,Qt,dt.a),dt.o=s(V,Lt,dt.o),dt.i=s(J,Bt,dt.i),dt.n=s(j,Ut,dt.n),dt.s=s(be,ar,dt.s),dt.h=s(De,jt,dt.h),dt.r=s(_,nr,dt.r),dt.d=s(ee,gr,dt.d),dt.l=s(Fe,Fr,dt.l),dt.u=s(ct,vr,dt.u),dt.c=s(At,Gr,dt.c),dt.w=s(Nt,Ar,dt.w),dt.m=s(at,Mr,dt.m),dt.f=s(Re,tr,dt.f),dt.y=s(wr,Er,dt.y),dt.g=s(er,Ft,dt.g),dt.p=s(Or,fr,dt.p),dt.b=s(Ue,Ir,dt.b),dt.T=s(jr,ur,dt.T),dt},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0}),f(()=>_.value=l.relationship||"son"),f(()=>wr.checked=l.isStudent||!1),f(()=>Or.checked=l.isDisabled||!1),f(()=>jr.checked=l.providedSupport||!1),b})()}),(()=>{var l=ol(),P=l.firstChild;return l.$$mouseout=b=>{b.currentTarget.style.borderColor="var(--border-color)",b.currentTarget.style.color="var(--text-secondary)"},l.$$mouseover=b=>{b.currentTarget.style.borderColor="var(--primary-color)",b.currentTarget.style.color="var(--primary-color)"},l.$$click=()=>{e.client.hasNoDependents&&_e("hasNoDependents",!1),ie()},s(l,Wr),P.style.setProperty("width","20px"),P.style.setProperty("height","20px"),l})()]}})]}})}}),Te),t(T,n(p,{get when(){return y()==="tax"},get children(){return n(fs,{get children(){return[(()=>{var l=il(),P=l.firstChild;return P.style.setProperty("width","20px"),P.style.setProperty("height","20px"),P.style.setProperty("color","#3b82f6"),f(b=>s(l,me,b)),l})(),(()=>{var l=ll(),P=l.firstChild,b=P.firstChild,z=b.nextSibling,R=P.nextSibling,i=R.firstChild,g=i.nextSibling;return g.firstChild,z.addEventListener("change",u=>_e("taxYear",parseInt(u.currentTarget.value))),g.addEventListener("change",u=>_e("filingStatus",u.currentTarget.value)),t(g,n(Ht,{get each(){return Object.entries(Qo)},children:([u,m])=>(()=>{var q=Ks();return q.value=u,t(q,m),q})()}),null),f(u=>{var m=Cr,q=K,I=He,V=Oe,J=K,j=He,be=Oe;return u.e=s(l,m,u.e),u.t=s(P,q,u.t),u.a=s(b,I,u.a),u.o=s(z,V,u.o),u.i=s(R,J,u.i),u.n=s(i,j,u.n),u.s=s(g,be,u.s),u},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),f(()=>z.value=e.client.taxYear||new Date().getFullYear()),f(()=>g.value=e.client.filingStatus||""),l})(),(()=>{var l=al(),P=l.firstChild;return P.style.setProperty("width","20px"),P.style.setProperty("height","20px"),P.style.setProperty("color","#f59e0b"),f(b=>s(l,{...me,"margin-top":"2rem"},b)),l})(),(()=>{var l=dl(),P=l.firstChild,b=P.firstChild,z=P.nextSibling,R=z.firstChild,i=z.nextSibling,g=i.firstChild;return l.style.setProperty("display","grid"),l.style.setProperty("grid-template-columns","repeat(auto-fill, minmax(300px, 1fr))"),l.style.setProperty("gap","0.75rem"),b.addEventListener("change",u=>_e("isBlind",u.currentTarget.checked)),R.addEventListener("change",u=>_e("canBeClaimed",u.currentTarget.checked)),g.addEventListener("change",u=>_e("hasHealthInsurance",u.currentTarget.checked)),f(u=>{var m=kt,q=St,I=kt,V=St,J=kt,j=St;return u.e=s(P,m,u.e),u.t=s(b,q,u.t),u.a=s(z,I,u.a),u.o=s(R,V,u.o),u.i=s(i,J,u.i),u.n=s(g,j,u.n),u},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),f(()=>b.checked=e.client.isBlind||!1),f(()=>R.checked=e.client.canBeClaimed||!1),f(()=>g.checked=e.client.hasHealthInsurance||!1),l})(),(()=>{var l=yl(),P=l.firstChild,b=P.firstChild;return l.style.setProperty("display","grid"),l.style.setProperty("grid-template-columns","repeat(2, 1fr)"),l.style.setProperty("gap","0.5rem"),b.style.setProperty("width","20px"),b.style.setProperty("height","20px"),b.style.setProperty("color","#ec4899"),t(l,n(Lr,{get text(){return[e.client.idInfo?.idNumber||"","|",e.client.idInfo?.idState||"","|",Jr(e.client.idInfo?.issueDate)||"","|","|",Jr(e.client.idInfo?.expirationDate)||"","|"].join("")||""},handle:ut,label:""}),null),f(z=>s(P,{...me,"margin-top":"2rem"},z)),l})(),(()=>{var l=cl(),P=l.firstChild,b=P.firstChild,z=b.nextSibling,R=z.nextSibling,i=P.nextSibling,g=i.firstChild,u=g.nextSibling,m=u.firstChild,q=i.nextSibling,I=q.firstChild,V=I.nextSibling,J=V.firstChild;return l.style.setProperty("padding","1rem"),l.style.setProperty("margin-bottom","1rem"),l.style.setProperty("background","linear-gradient(135deg, #fdf4ff 0%, #f5f3ff 100%)"),l.style.setProperty("border-radius","12px"),l.style.setProperty("border","1px solid #e9d5ff"),P.style.setProperty("display","flex"),P.style.setProperty("align-items","center"),P.style.setProperty("gap","0.5rem"),P.style.setProperty("margin-bottom","0.75rem"),b.style.setProperty("width","20px"),b.style.setProperty("height","20px"),z.style.setProperty("font-weight","600"),z.style.setProperty("color","#7c3aed"),R.style.setProperty("font-size","0.75rem"),R.style.setProperty("color","#9333ea"),R.style.setProperty("background","#f3e8ff"),R.style.setProperty("padding","0.125rem 0.5rem"),R.style.setProperty("border-radius","9999px"),i.style.setProperty("display","flex"),i.style.setProperty("gap","0.5rem"),i.style.setProperty("align-items","stretch"),g.addEventListener("blur",j=>j.currentTarget.style.borderColor="#c4b5fd"),g.addEventListener("focus",j=>j.currentTarget.style.borderColor="#8b5cf6"),g.$$keydown=X,g.$$input=j=>c(j.currentTarget.value),g.style.setProperty("flex","1"),g.style.setProperty("padding","0.75rem 1rem"),g.style.setProperty("font-size","0.9375rem"),g.style.setProperty("border","2px solid #c4b5fd"),g.style.setProperty("border-radius","8px"),g.style.setProperty("background","white"),g.style.setProperty("outline","none"),g.style.setProperty("transition","border-color 0.2s"),u.$$click=S,u.style.setProperty("padding","0.75rem 1.25rem"),u.style.setProperty("font-size","0.9375rem"),u.style.setProperty("font-weight","600"),u.style.setProperty("border-radius","8px"),u.style.setProperty("border","none"),u.style.setProperty("background","linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)"),u.style.setProperty("color","white"),u.style.setProperty("cursor","pointer"),u.style.setProperty("display","flex"),u.style.setProperty("align-items","center"),u.style.setProperty("gap","0.5rem"),u.style.setProperty("transition","all 0.2s"),u.style.setProperty("white-space","nowrap"),m.style.setProperty("width","18px"),m.style.setProperty("height","18px"),q.style.setProperty("display","flex"),q.style.setProperty("justify-content","space-between"),q.style.setProperty("align-items","center"),q.style.setProperty("margin-top","0.75rem"),I.style.setProperty("font-size","0.75rem"),I.style.setProperty("color","#7c3aed"),V.$$click=()=>x(!0),V.style.setProperty("padding","0.375rem 0.75rem"),V.style.setProperty("font-size","0.75rem"),V.style.setProperty("font-weight","500"),V.style.setProperty("border-radius","6px"),V.style.setProperty("border","1px solid #c4b5fd"),V.style.setProperty("background","white"),V.style.setProperty("color","#7c3aed"),V.style.setProperty("cursor","pointer"),V.style.setProperty("display","flex"),V.style.setProperty("align-items","center"),V.style.setProperty("gap","0.375rem"),J.style.setProperty("width","14px"),J.style.setProperty("height","14px"),f(()=>g.value=Y()),l})(),n(p,{get when(){return W()},get children(){var l=pl(),P=l.firstChild;return l.style.setProperty("padding","0.75rem 1rem"),l.style.setProperty("margin-bottom","1rem"),l.style.setProperty("border-radius","8px"),l.style.setProperty("font-size","0.875rem"),l.style.setProperty("display","flex"),l.style.setProperty("align-items","center"),l.style.setProperty("gap","0.5rem"),t(l,()=>W()?.type==="success"?"":"",P),t(l,()=>W()?.text,null),f(b=>{var z=W()?.type==="success"?"#ecfdf5":"#fef2f2",R=W()?.type==="success"?"#065f46":"#991b1b";return z!==b.e&&((b.e=z)!=null?l.style.setProperty("background",z):l.style.removeProperty("background")),R!==b.t&&((b.t=R)!=null?l.style.setProperty("color",R):l.style.removeProperty("color")),b},{e:void 0,t:void 0}),l}}),(()=>{var l=ul(),P=l.firstChild,b=P.firstChild,z=b.nextSibling,R=P.nextSibling,i=R.firstChild,g=i.nextSibling,u=R.nextSibling,m=u.firstChild,q=m.nextSibling;q.firstChild;var I=u.nextSibling,V=I.firstChild,J=V.nextSibling,j=I.nextSibling,be=j.firstChild,De=be.nextSibling;return z.$$input=_=>_e("idInfo",{...e.client.idInfo,idNumber:_.currentTarget.value,idState:e.client.idInfo?.idState||""}),g.addEventListener("change",_=>_e("idInfo",{...e.client.idInfo,idNumber:e.client.idInfo?.idNumber||"",idState:e.client.idInfo?.idState||"",idType:_.currentTarget.value})),q.addEventListener("change",_=>_e("idInfo",{...e.client.idInfo,idNumber:e.client.idInfo?.idNumber||"",idState:_.currentTarget.value})),t(q,n(Ht,{each:yn,children:_=>(()=>{var ee=Ks();return ee.value=_,t(ee,_),ee})()}),null),J.$$input=_=>_e("idInfo",{...e.client.idInfo,idNumber:e.client.idInfo?.idNumber||"",idState:e.client.idInfo?.idState||"",issueDate:_.currentTarget.value}),De.$$input=_=>_e("idInfo",{...e.client.idInfo,idNumber:e.client.idInfo?.idNumber||"",idState:e.client.idInfo?.idState||"",expirationDate:_.currentTarget.value}),f(_=>{var ee=Cr,Fe=K,ct=He,At=rt,Nt=K,at=He,Mt=Oe,Re=K,wr=He,er=Oe,Or=K,Ue=He,jr=rt,dt=K,Ur=He,We=rt;return _.e=s(l,ee,_.e),_.t=s(P,Fe,_.t),_.a=s(b,ct,_.a),_.o=s(z,At,_.o),_.i=s(R,Nt,_.i),_.n=s(i,at,_.n),_.s=s(g,Mt,_.s),_.h=s(u,Re,_.h),_.r=s(m,wr,_.r),_.d=s(q,er,_.d),_.l=s(I,Or,_.l),_.u=s(V,Ue,_.u),_.c=s(J,jr,_.c),_.w=s(j,dt,_.w),_.m=s(be,Ur,_.m),_.f=s(De,We,_.f),_},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0}),f(()=>z.value=e.client.idInfo?.idNumber||""),f(()=>g.value=e.client.idInfo?.idType||"drivers_license"),f(()=>q.value=e.client.idInfo?.idState||""),f(()=>J.value=e.client.idInfo?.issueDate||""),f(()=>De.value=e.client.idInfo?.expirationDate||""),l})(),n(p,{get when(){return e.client.idInfo?.gender||e.client.idInfo?.height||e.client.idInfo?.eyeColor},get children(){var l=bl(),P=l.firstChild,b=P.nextSibling;return l.style.setProperty("margin-top","1rem"),l.style.setProperty("padding","1rem"),l.style.setProperty("background","#f8fafc"),l.style.setProperty("border-radius","8px"),l.style.setProperty("border","1px solid #e2e8f0"),P.style.setProperty("font-size","0.75rem"),P.style.setProperty("font-weight","600"),P.style.setProperty("color","#64748b"),P.style.setProperty("margin-bottom","0.5rem"),P.style.setProperty("text-transform","uppercase"),P.style.setProperty("letter-spacing","0.05em"),b.style.setProperty("display","grid"),b.style.setProperty("grid-template-columns","repeat(auto-fill, minmax(150px, 1fr))"),b.style.setProperty("gap","0.5rem"),b.style.setProperty("font-size","0.875rem"),t(b,n(p,{get when(){return e.client.idInfo?.gender},get children(){var z=ml(),R=z.firstChild;return R.nextSibling,t(z,()=>e.client.idInfo?.gender==="M"?"Male":e.client.idInfo?.gender==="F"?"Female":"Other",null),z}}),null),t(b,n(p,{get when(){return e.client.idInfo?.height},get children(){var z=gl(),R=z.firstChild;return R.nextSibling,t(z,()=>e.client.idInfo?.height,null),z}}),null),t(b,n(p,{get when(){return e.client.idInfo?.weight},get children(){var z=fl(),R=z.firstChild;return R.nextSibling,t(z,()=>e.client.idInfo?.weight,null),z}}),null),t(b,n(p,{get when(){return e.client.idInfo?.eyeColor},get children(){var z=hl(),R=z.firstChild;return R.nextSibling,t(z,()=>e.client.idInfo?.eyeColor,null),z}}),null),t(b,n(p,{get when(){return e.client.idInfo?.hairColor},get children(){var z=vl(),R=z.firstChild;return R.nextSibling,t(z,()=>e.client.idInfo?.hairColor,null),z}}),null),l}}),(()=>{var l=Pl(),P=l.firstChild;return P.style.setProperty("width","20px"),P.style.setProperty("height","20px"),P.style.setProperty("color","#22c55e"),f(b=>s(l,{...me,"margin-top":"2rem"},b)),l})(),(()=>{var l=xl(),P=l.firstChild;return l.$$mouseout=b=>{b.currentTarget.style.background="white",b.currentTarget.style.borderColor="var(--border-color)"},l.$$mouseover=b=>{b.currentTarget.style.background="var(--surface-alt)",b.currentTarget.style.borderColor="var(--primary-color)"},l.$$click=()=>Yt(e.client.bankInfo),l.style.setProperty("padding","0.75rem 1rem"),l.style.setProperty("font-size","0.9375rem"),l.style.setProperty("font-weight","500"),l.style.setProperty("border-radius","8px"),l.style.setProperty("border","1px solid var(--border-color)"),l.style.setProperty("background","white"),l.style.setProperty("color","var(--text-primary)"),l.style.setProperty("cursor","pointer"),l.style.setProperty("display","flex"),l.style.setProperty("align-items","center"),l.style.setProperty("gap","0.5rem"),l.style.setProperty("transition","all 0.2s"),P.style.setProperty("width","18px"),P.style.setProperty("height","18px"),l})(),(()=>{var l=$l(),P=l.firstChild,b=P.firstChild,z=b.nextSibling,R=P.nextSibling,i=R.firstChild,g=i.nextSibling,u=R.nextSibling,m=u.firstChild,q=m.nextSibling,I=u.nextSibling,V=I.firstChild,J=V.nextSibling,j=I.nextSibling,be=j.firstChild,De=be.nextSibling;return z.addEventListener("change",_=>_e("bankInfo",{...e.client.bankInfo,accountType:_.currentTarget.value,routingNumber:e.client.bankInfo?.routingNumber||"",accountNumber:e.client.bankInfo?.accountNumber||"",bankName:e.client.bankInfo?.bankName||""})),g.addEventListener("blur",()=>setTimeout(()=>qe(!1),200)),g.addEventListener("focus",()=>{const _=e.client.bankInfo?.bankName||"";if(_.length>=1){const ee=Yn.filter(Fe=>Fe.toLowerCase().includes(_.toLowerCase())).slice(0,8);nt(ee),qe(ee.length>0)}}),g.$$input=_=>{const ee=_.currentTarget.value;if(_e("bankInfo",{...e.client.bankInfo,accountType:e.client.bankInfo?.accountType||"checking",bankName:ee,accountNumber:e.client.bankInfo?.accountNumber||"",routingNumber:e.client.bankInfo?.routingNumber||""}),ee.length>=1){const Fe=Yn.filter(ct=>ct.toLowerCase().includes(ee.toLowerCase())).slice(0,8);nt(Fe),qe(Fe.length>0)}else qe(!1)},t(R,n(p,{get when(){return bt(()=>!!ot())()&&Xe().length>0},get children(){var _=Is();return _.style.setProperty("position","absolute"),_.style.setProperty("top","100%"),_.style.setProperty("left","0"),_.style.setProperty("right","0"),_.style.setProperty("background","white"),_.style.setProperty("border","1px solid var(--border-color)"),_.style.setProperty("border-radius","8px"),_.style.setProperty("box-shadow","0 4px 12px rgba(0,0,0,0.15)"),_.style.setProperty("z-index","1000"),_.style.setProperty("max-height","200px"),_.style.setProperty("overflow","auto"),t(_,n(Ht,{get each(){return Xe()},children:ee=>(()=>{var Fe=Is();return Fe.$$mousedown=ct=>{ct.preventDefault(),_e("bankInfo",{...e.client.bankInfo,accountType:e.client.bankInfo?.accountType||"checking",bankName:ee,accountNumber:e.client.bankInfo?.accountNumber||"",routingNumber:e.client.bankInfo?.routingNumber||""}),qe(!1)},Fe.addEventListener("mouseleave",ct=>ct.currentTarget.style.background="white"),Fe.addEventListener("mouseenter",ct=>ct.currentTarget.style.background="#f5f5f5"),Fe.style.setProperty("padding","0.75rem 1rem"),Fe.style.setProperty("cursor","pointer"),Fe.style.setProperty("border-bottom","1px solid var(--border-color)"),Fe.style.setProperty("transition","background 0.15s"),t(Fe,ee),Fe})()})),_}}),null),q.$$input=_=>_e("bankInfo",{...e.client.bankInfo,accountType:e.client.bankInfo?.accountType||"checking",routingNumber:_.currentTarget.value,accountNumber:e.client.bankInfo?.accountNumber||"",bankName:e.client.bankInfo?.bankName||""}),J.$$input=_=>_e("bankInfo",{...e.client.bankInfo,accountType:e.client.bankInfo?.accountType||"checking",routingNumber:e.client.bankInfo?.routingNumber||"",accountNumber:_.currentTarget.value,bankName:e.client.bankInfo?.bankName||""}),De.$$input=_=>_e("bankInfo",{...e.client.bankInfo,accountType:e.client.bankInfo?.accountType||"checking",routingNumber:e.client.bankInfo?.routingNumber||"",accountNumber:e.client.bankInfo?.accountNumber||"",accountHolderName:_.currentTarget.value,bankName:e.client.bankInfo?.bankName||""}),f(_=>{var ee=Cr,Fe=K,ct=He,At=Oe,Nt={...K,position:"relative"},at=He,Mt=rt,Re=K,wr=He,er=rt,Or=K,Ue=He,jr=rt,dt=K,Ur=He,We=rt;return _.e=s(l,ee,_.e),_.t=s(P,Fe,_.t),_.a=s(b,ct,_.a),_.o=s(z,At,_.o),_.i=s(R,Nt,_.i),_.n=s(i,at,_.n),_.s=s(g,Mt,_.s),_.h=s(u,Re,_.h),_.r=s(m,wr,_.r),_.d=s(q,er,_.d),_.l=s(I,Or,_.l),_.u=s(V,Ue,_.u),_.c=s(J,jr,_.c),_.w=s(j,dt,_.w),_.m=s(be,Ur,_.m),_.f=s(De,We,_.f),_},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0}),f(()=>z.value=e.client.bankInfo?.accountType||""),f(()=>g.value=e.client.bankInfo?.bankName||""),f(()=>q.value=e.client.bankInfo?.routingNumber||""),f(()=>J.value=e.client.bankInfo?.accountNumber||""),f(()=>De.value=e.client.bankInfo?.accountHolderName||""),l})(),(()=>{var l=Sl(),P=l.firstChild;return P.style.setProperty("width","20px"),P.style.setProperty("height","20px"),P.style.setProperty("color","#16a34a"),t(l,()=>de("taxResults"),null),f(b=>s(l,{...me,"margin-top":"2rem"},b)),l})(),(()=>{var l=wl(),P=l.firstChild,b=P.firstChild,z=b.firstChild,R=P.nextSibling,i=R.firstChild,g=i.firstChild,u=g.firstChild,m=g.nextSibling,q=i.nextSibling,I=q.firstChild,V=I.firstChild,J=I.nextSibling;return l.style.setProperty("padding","1rem"),l.style.setProperty("background","linear-gradient(135deg, #f0fdf4 0%, #ecfdf5 100%)"),l.style.setProperty("border-radius","12px"),l.style.setProperty("border","1px solid #bbf7d0"),l.style.setProperty("margin-bottom","1rem"),P.style.setProperty("display","flex"),P.style.setProperty("align-items","center"),P.style.setProperty("gap","0.5rem"),P.style.setProperty("margin-bottom","0.75rem"),b.style.setProperty("font-weight","600"),b.style.setProperty("color","#166534"),t(b,()=>de("federalRefund"),z),t(b,()=>de("federalOwe"),null),R.style.setProperty("display","grid"),R.style.setProperty("grid-template-columns","repeat(2, 1fr)"),R.style.setProperty("gap","1rem"),t(g,()=>de("refund"),u),m.$$input=j=>{const be=j.currentTarget.value?parseFloat(j.currentTarget.value):void 0;_e("federalRefund",be),be&&_e("federalOwe",void 0)},t(I,()=>de("owe"),V),J.$$input=j=>{const be=j.currentTarget.value?parseFloat(j.currentTarget.value):void 0;_e("federalOwe",be),be&&_e("federalRefund",void 0)},f(j=>{var be=K,De={...He,color:"#16a34a"},_={...rt,"border-color":"#86efac",background:e.client.federalRefund?"#dcfce7":"white"},ee=K,Fe={...He,color:"#dc2626"},ct={...rt,"border-color":"#fca5a5",background:e.client.federalOwe?"#fee2e2":"white"};return j.e=s(i,be,j.e),j.t=s(g,De,j.t),j.a=s(m,_,j.a),j.o=s(q,ee,j.o),j.i=s(I,Fe,j.i),j.n=s(J,ct,j.n),j},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),f(()=>m.value=e.client.federalRefund||""),f(()=>J.value=e.client.federalOwe||""),l})(),(()=>{var l=Cl(),P=l.firstChild,b=P.firstChild,z=b.firstChild,R=b.nextSibling,i=R.firstChild;return l.style.setProperty("padding","1rem"),l.style.setProperty("background","linear-gradient(135deg, #eff6ff 0%, #f0f9ff 100%)"),l.style.setProperty("border-radius","12px"),l.style.setProperty("border","1px solid #bfdbfe"),l.style.setProperty("margin-bottom","1rem"),P.style.setProperty("display","flex"),P.style.setProperty("justify-content","space-between"),P.style.setProperty("align-items","center"),P.style.setProperty("margin-bottom","0.75rem"),b.style.setProperty("font-weight","600"),b.style.setProperty("color","#1e40af"),t(b,()=>de("stateRefund"),z),t(b,()=>de("stateOwe"),null),R.$$mouseout=g=>{g.currentTarget.style.background="white",g.currentTarget.style.borderColor="#93c5fd"},R.$$mouseover=g=>{g.currentTarget.style.background="#eff6ff",g.currentTarget.style.borderColor="#3b82f6"},R.$$click=()=>{const g=e.client.stateReturns||[];_e("stateReturns",[...g,{state:"",refund:void 0,owe:void 0}])},R.style.setProperty("padding","0.375rem 0.75rem"),R.style.setProperty("font-size","0.8125rem"),R.style.setProperty("font-weight","500"),R.style.setProperty("border-radius","6px"),R.style.setProperty("border","1px solid #93c5fd"),R.style.setProperty("background","white"),R.style.setProperty("color","#2563eb"),R.style.setProperty("cursor","pointer"),R.style.setProperty("display","flex"),R.style.setProperty("align-items","center"),R.style.setProperty("gap","0.375rem"),R.style.setProperty("transition","all 0.2s"),i.style.setProperty("width","16px"),i.style.setProperty("height","16px"),t(R,()=>de("addState"),null),t(l,n(p,{get when(){return!e.client.stateReturns||e.client.stateReturns.length===0},get children(){var g=Is();return g.style.setProperty("padding","1rem"),g.style.setProperty("text-align","center"),g.style.setProperty("color","#6b7280"),g.style.setProperty("font-size","0.875rem"),g.style.setProperty("font-style","italic"),t(g,()=>de("noStateReturns")),g}}),null),t(l,n(Ht,{get each(){return e.client.stateReturns||[]},children:(g,u)=>(()=>{var m=ql(),q=m.firstChild,I=q.firstChild,V=I.nextSibling;V.firstChild;var J=q.nextSibling,j=J.firstChild,be=j.firstChild,De=j.nextSibling,_=J.nextSibling,ee=_.firstChild,Fe=ee.firstChild,ct=ee.nextSibling,At=_.nextSibling,Nt=At.firstChild;return m.style.setProperty("display","grid"),m.style.setProperty("grid-template-columns","120px 1fr 1fr auto"),m.style.setProperty("gap","0.75rem"),m.style.setProperty("align-items","end"),m.style.setProperty("padding","0.75rem"),m.style.setProperty("background","white"),m.style.setProperty("border-radius","8px"),m.style.setProperty("margin-bottom","0.5rem"),m.style.setProperty("border","1px solid #e5e7eb"),t(I,()=>de("state")),V.addEventListener("change",at=>{const Mt=[...e.client.stateReturns||[]];Mt[u()]={...Mt[u()],state:at.currentTarget.value},_e("stateReturns",Mt)}),t(V,n(Ht,{each:yn,children:at=>(()=>{var Mt=Ks();return Mt.value=at,t(Mt,at),Mt})()}),null),t(j,()=>de("refund"),be),De.$$input=at=>{const Mt=at.currentTarget.value?parseFloat(at.currentTarget.value):void 0,Re=[...e.client.stateReturns||[]];Re[u()]={...Re[u()],refund:Mt,owe:Mt?void 0:Re[u()].owe},_e("stateReturns",Re)},t(ee,()=>de("owe"),Fe),ct.$$input=at=>{const Mt=at.currentTarget.value?parseFloat(at.currentTarget.value):void 0,Re=[...e.client.stateReturns||[]];Re[u()]={...Re[u()],owe:Mt,refund:Mt?void 0:Re[u()].refund},_e("stateReturns",Re)},At.$$mouseout=at=>{at.currentTarget.style.background="white",at.currentTarget.style.borderColor="#fca5a5"},At.$$mouseover=at=>{at.currentTarget.style.background="#fee2e2",at.currentTarget.style.borderColor="#ef4444"},At.$$click=()=>{const at=[...e.client.stateReturns||[]];at.splice(u(),1),_e("stateReturns",at)},At.style.setProperty("padding","0.5rem"),At.style.setProperty("border-radius","6px"),At.style.setProperty("border","1px solid #fca5a5"),At.style.setProperty("background","white"),At.style.setProperty("color","#dc2626"),At.style.setProperty("cursor","pointer"),At.style.setProperty("display","flex"),At.style.setProperty("align-items","center"),At.style.setProperty("justify-content","center"),At.style.setProperty("transition","all 0.2s"),At.style.setProperty("margin-bottom","0.25rem"),Nt.style.setProperty("width","16px"),Nt.style.setProperty("height","16px"),f(at=>{var Mt=K,Re=He,wr=Oe,er=K,Or={...He,color:"#16a34a"},Ue={...rt,"border-color":"#86efac",background:g.refund?"#dcfce7":"white"},jr=K,dt={...He,color:"#dc2626"},Ur={...rt,"border-color":"#fca5a5",background:g.owe?"#fee2e2":"white"},We=de("removeState");return at.e=s(q,Mt,at.e),at.t=s(I,Re,at.t),at.a=s(V,wr,at.a),at.o=s(J,er,at.o),at.i=s(j,Or,at.i),at.n=s(De,Ue,at.n),at.s=s(_,jr,at.s),at.h=s(ee,dt,at.h),at.r=s(ct,Ur,at.r),We!==at.d&&es(At,"title",at.d=We),at},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0}),f(()=>V.value=g.state||""),f(()=>De.value=g.refund||""),f(()=>ct.value=g.owe||""),m})()}),null),l})(),(()=>{var l=_l(),P=l.firstChild;return P.style.setProperty("width","20px"),P.style.setProperty("height","20px"),P.style.setProperty("color","#6b7280"),f(b=>s(l,{...me,"margin-top":"2rem"},b)),l})(),(()=>{var l=kl(),P=l.firstChild;return P.$$input=b=>_e("notes",b.currentTarget.value),f(b=>{var z=K,R={...rt,"min-height":"100px",resize:"vertical"};return b.e=s(l,z,b.e),b.t=s(P,R,b.t),b},{e:void 0,t:void 0}),f(()=>P.value=e.client.notes||""),l})()]}})}}),Te),t(T,n(p,{get when(){return bt(()=>y()==="admin")()&&ms.isAdmin()},get children(){return n(fs,{get children(){return[(()=>{var l=Il(),P=l.firstChild,b=P.nextSibling,z=b.firstChild,R=z.nextSibling;return l.style.setProperty("display","flex"),l.style.setProperty("align-items","center"),l.style.setProperty("gap","0.75rem"),l.style.setProperty("margin-bottom","1.5rem"),l.style.setProperty("padding","1rem"),l.style.setProperty("background","linear-gradient(135deg, #fef2f2 0%, #fff7ed 100%)"),l.style.setProperty("border-radius","12px"),l.style.setProperty("border","1px solid #fecaca"),P.style.setProperty("width","24px"),P.style.setProperty("height","24px"),z.style.setProperty("font-weight","600"),z.style.setProperty("color","#dc2626"),z.style.setProperty("font-size","1rem"),R.style.setProperty("font-size","0.875rem"),R.style.setProperty("color","#b91c1c"),l})(),(()=>{var l=Tl(),P=l.firstChild;return P.style.setProperty("width","20px"),P.style.setProperty("height","20px"),P.style.setProperty("color","#f59e0b"),f(b=>s(l,me,b)),l})(),(()=>{var l=Al(),P=l.firstChild;return l.style.setProperty("padding","1rem"),l.style.setProperty("background","#fffbeb"),l.style.setProperty("border-radius","8px"),l.style.setProperty("border","1px solid #fbbf24"),l.style.setProperty("margin-bottom","1rem"),P.style.setProperty("font-size","0.875rem"),P.style.setProperty("color","#92400e"),P.style.setProperty("margin","0"),l})(),(()=>{var l=zl(),P=l.firstChild,b=P.firstChild,z=b.nextSibling,R=P.nextSibling,i=R.firstChild,g=R.nextSibling,u=g.firstChild;return l.style.setProperty("display","flex"),l.style.setProperty("gap","1rem"),l.style.setProperty("flex-wrap","wrap"),l.style.setProperty("align-items","flex-end"),t(R,n(p,{get when(){return!re()},get fallback(){return(()=>{var m=Ql();return m.style.setProperty("padding","0.75rem"),m.style.setProperty("color","#6b7280"),m})()},get children(){var m=Nl();return m.firstChild,m.addEventListener("change",q=>Tt(q.currentTarget.value)),t(m,n(Ht,{get each(){return oe()},children:q=>(()=>{var I=Xl(),V=I.firstChild;return t(I,()=>q.name,V),t(I,()=>q.id===e.client.businessId?"(Current)":"",null),f(()=>I.disabled=q.id===e.client.businessId),f(()=>I.value=q.id),I})()}),null),f(q=>s(m,Oe,q)),f(()=>m.value=Ne()),m}}),null),g.$$click=()=>Ne()&&Ne()!==e.client.businessId&&ae(!0),g.style.setProperty("padding","0.75rem 1.5rem"),g.style.setProperty("font-size","0.9375rem"),g.style.setProperty("font-weight","600"),g.style.setProperty("border-radius","8px"),g.style.setProperty("border","none"),g.style.setProperty("display","flex"),g.style.setProperty("align-items","center"),g.style.setProperty("gap","0.5rem"),g.style.setProperty("transition","all 0.2s"),g.style.setProperty("margin-bottom","0.5rem"),u.style.setProperty("width","18px"),u.style.setProperty("height","18px"),f(m=>{var q={...K,flex:"1","min-width":"250px"},I=He,V={...rt,background:"#f3f4f6",cursor:"not-allowed"},J={...K,flex:"1","min-width":"250px"},j=He,be=Ne()&&Ne()!==e.client.businessId?"#dc2626":"#e5e7eb",De=Ne()&&Ne()!==e.client.businessId?"white":"#9ca3af",_=Ne()&&Ne()!==e.client.businessId?"pointer":"not-allowed",ee=!Ne()||Ne()===e.client.businessId;return m.e=s(P,q,m.e),m.t=s(b,I,m.t),m.a=s(z,V,m.a),m.o=s(R,J,m.o),m.i=s(i,j,m.i),be!==m.n&&((m.n=be)!=null?g.style.setProperty("background",be):g.style.removeProperty("background")),De!==m.s&&((m.s=De)!=null?g.style.setProperty("color",De):g.style.removeProperty("color")),_!==m.h&&((m.h=_)!=null?g.style.setProperty("cursor",_):g.style.removeProperty("cursor")),ee!==m.r&&(g.disabled=m.r=ee),m},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0}),f(()=>z.value=e.client.businessId||"Not set"),l})(),n(p,{get when(){return B()},get children(){var l=Dl(),P=l.firstChild,b=P.firstChild,z=b.firstChild,R=z.firstChild,i=z.nextSibling,g=b.nextSibling,u=g.firstChild,m=u.nextSibling,q=m.firstChild,I=m.nextSibling,V=I.nextSibling,J=g.nextSibling,j=J.firstChild,be=j.nextSibling;return l.style.setProperty("position","fixed"),l.style.setProperty("inset","0"),l.style.setProperty("background","rgba(0, 0, 0, 0.5)"),l.style.setProperty("display","flex"),l.style.setProperty("align-items","center"),l.style.setProperty("justify-content","center"),l.style.setProperty("z-index","1000"),P.style.setProperty("background","white"),P.style.setProperty("padding","2rem"),P.style.setProperty("border-radius","16px"),P.style.setProperty("max-width","400px"),P.style.setProperty("width","90%"),P.style.setProperty("box-shadow","0 25px 50px -12px rgba(0, 0, 0, 0.25)"),b.style.setProperty("display","flex"),b.style.setProperty("align-items","center"),b.style.setProperty("gap","0.75rem"),b.style.setProperty("margin-bottom","1rem"),z.style.setProperty("width","48px"),z.style.setProperty("height","48px"),z.style.setProperty("background","#fef2f2"),z.style.setProperty("border-radius","50%"),z.style.setProperty("display","flex"),z.style.setProperty("align-items","center"),z.style.setProperty("justify-content","center"),R.style.setProperty("width","24px"),R.style.setProperty("height","24px"),i.style.setProperty("margin","0"),i.style.setProperty("font-size","1.125rem"),i.style.setProperty("color","#111827"),g.style.setProperty("color","#6b7280"),g.style.setProperty("line-height","1.5"),g.style.setProperty("margin-bottom","1.5rem"),t(m,()=>e.client.firstName,q),t(m,()=>e.client.lastName,null),t(V,()=>oe().find(De=>De.id===Ne())?.name),J.style.setProperty("display","flex"),J.style.setProperty("gap","0.75rem"),J.style.setProperty("justify-content","flex-end"),j.$$click=()=>ae(!1),j.style.setProperty("padding","0.625rem 1.25rem"),j.style.setProperty("font-size","0.9375rem"),j.style.setProperty("font-weight","500"),j.style.setProperty("border-radius","8px"),j.style.setProperty("background","white"),j.style.setProperty("color","#374151"),j.style.setProperty("border","1px solid #d1d5db"),j.style.setProperty("cursor","pointer"),be.$$click=tt,be.style.setProperty("padding","0.625rem 1.25rem"),be.style.setProperty("font-size","0.9375rem"),be.style.setProperty("font-weight","600"),be.style.setProperty("border-radius","8px"),be.style.setProperty("background","#dc2626"),be.style.setProperty("color","white"),be.style.setProperty("border","none"),be.style.setProperty("cursor","pointer"),l}}),(()=>{var l=Rl(),P=l.firstChild;return P.style.setProperty("width","20px"),P.style.setProperty("height","20px"),P.style.setProperty("color","#6b7280"),f(b=>s(l,{...me,"margin-top":"2rem"},b)),l})(),(()=>{var l=Fl(),P=l.firstChild,b=P.firstChild,z=b.nextSibling,R=P.nextSibling,i=R.firstChild,g=i.nextSibling,u=R.nextSibling,m=u.firstChild,q=m.nextSibling,I=u.nextSibling,V=I.firstChild,J=V.nextSibling;return l.style.setProperty("display","grid"),l.style.setProperty("grid-template-columns","repeat(auto-fill, minmax(200px, 1fr))"),l.style.setProperty("gap","1rem"),l.style.setProperty("font-size","0.875rem"),b.style.setProperty("color","#6b7280"),z.style.setProperty("font-family","monospace"),z.style.setProperty("font-size","0.75rem"),z.style.setProperty("color","#374151"),t(z,()=>e.client.id),i.style.setProperty("color","#6b7280"),g.style.setProperty("font-family","monospace"),g.style.setProperty("font-size","0.75rem"),g.style.setProperty("color","#374151"),t(g,()=>e.client.businessId||"Not set"),m.style.setProperty("color","#6b7280"),q.style.setProperty("color","#374151"),t(q,(()=>{var j=bt(()=>!!e.client.createdAt);return()=>j()?new Date(e.client.createdAt).toLocaleString():"N/A"})()),V.style.setProperty("color","#6b7280"),J.style.setProperty("color","#374151"),t(J,(()=>{var j=bt(()=>!!e.client.updatedAt);return()=>j()?new Date(e.client.updatedAt).toLocaleString():"N/A"})()),l})()]}})}}),Te),t(T,n(mi,{get client(){return e.client},get isOpen(){return E()},onClose:()=>H(!1)}),null),t(T,n(Ao,{get qrText(){return r()},get isOpen(){return se()},onClose:()=>F(!1),title:"QR Code",convertPipeToTab:!0,toUpperCase:!0}),null),t(T,n(No,{get qrText(){return Wt()},get isOpen(){return ir()},onClose:()=>Kt(!1),title:"QR Code",convertPipeToTab:!0,toUpperCase:!0}),null),t(T,n(Lo,{get isOpen(){return ge()},onBarcodeScan:Ge,onMRZScan:le,onClose:()=>x(!1),showExternalInput:!1}),null),f(l=>{var P=mr,b=A,z=_r(!h()||!!e.isSaving),R=!h()||!!e.isSaving,i=Ot(y()==="review"),g=Ot(y()==="personal"),u=Ot(y()==="dependents"),m=Ot(y()==="tax");return l.e=s(T,P,l.e),l.t=s(Le,b,l.t),l.a=s(dr,z,l.a),R!==l.o&&(dr.disabled=l.o=R),l.i=s(Et,i,l.i),l.n=s($r,g,l.n),l.s=s(Gt,u,l.s),l.h=s(Zr,m,l.h),l},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),T})()},Lr=e=>{const y={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"0.1rem"},o={"font-size":"0.875rem","font-weight":"500",color:"var(--text-secondary)"};return(()=>{var h=Kl(),w=h.firstChild;return s(h,y),s(w,o),t(w,()=>e?.label),h})()};is(["click","mouseover","mouseout","input","keydown","mousedown"]);var sa=a('<svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"clip-rule=evenodd>'),na=a('<svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z"clip-rule=evenodd>'),oa=a('<svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z"clip-rule=evenodd>'),ia=a('<svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"clip-rule=evenodd>'),la=a("<div><div></div><span> Analyzing"),aa=a("<div><div></div><span> Errors"),da=a('<div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"clip-rule=evenodd>'),ya=a('<div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"clip-rule=evenodd>'),ca=a('<div><svg viewBox="0 0 20 20"fill=currentColor><path d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"></path></svg><div><div>Documentos del C贸nyuge Incluidos</div><div> documento(s) de <!> '),pa=a("<div><table><thead><tr><th>Document</th><th>Type</th><th>Owner</th><th>Status</th><th>Size</th><th>Uploaded</th><th>Actions</th></tr></thead><tbody>"),ua=a("<div><div>No documents yet</div><div>Upload tax documents using the drop zone above</div><div>Or request documents from your client"),ma=a("<div><span>Confidence: </span><span>%"),Kr=a("<div>"),ga=a("<div><div>AI Analysis</div><div>"),Ts=a("<div>EIN: "),fa=a("<div><div>Box 1 - Wages</div><div>$"),ha=a("<div><div>Box 2 - Federal Tax Withheld</div><div>$"),va=a("<div><div>Box 3 - SS Wages</div><div>$"),ba=a("<div><div>Box 4 - SS Tax Withheld</div><div>$"),Pa=a("<div><div>Box 5 - Medicare Wages</div><div>$"),xa=a("<div><div>Box 6 - Medicare Tax Withheld</div><div>$"),$a=a("<div><span>"),Sa=a("<div><div>Box 16 - State Wages</div><div>$"),wa=a("<div><div>Box 17 - State Tax Withheld</div><div>$"),Ca=a("<div><div>Box 18 - Local Wages</div><div>$"),_a=a("<div><div>Box 19 - Local Withheld </div><div>$"),ka=a("<div><div><span>Box 12</span>Deferred Compensation & Other Codes</div><div>"),Ia=a("<div><div><span>Box 14</span>Other Information</div><div>"),Ta=a("<div><div><span>W-2</span>Employer Information</div><div></div><div><div>Wage & Tax Information</div></div><div></div><div><div><div> Local Wages </div></div></div><div>"),Aa=a("<div><div><span>1099-NEC</span>Payer Information</div><div></div><div>Nonemployee Compensation</div><div><div>Box 1 - Nonemployee Compensation</div><div>$"),Na=a("<div><div>Box 1 - Rents</div><div>$"),za=a("<div><div>Box 2 - Royalties</div><div>$"),Da=a("<div><div>Box 3 - Other Income</div><div>$"),Ra=a("<div><div><span>1099-MISC</span>Payer Information</div><div></div><div>Miscellaneous Income</div><div>"),Fa=a("<div><div><span>1099-INT</span>Payer Information</div><div></div><div>Interest Income</div><div><div>Box 1 - Interest Income</div><div>$"),Ea=a("<div><div>Box 1a - Ordinary Dividends</div><div>$"),La=a("<div><div>Box 1b - Qualified Dividends</div><div>$"),Ma=a("<div><div>Box 2a - Capital Gains</div><div>$"),Ba=a("<div><div><span>1099-DIV</span>Payer Information</div><div></div><div>Dividend Income</div><div>"),Gn=a("<div><div>Box 4 - Federal Tax Withheld</div><div>$"),Oa=a("<div><div>Box 5 - Employee Contributions</div><div>$"),ja=a("<div><div>Box 7 - Distribution Code</div><div>"),Ua=a("<div><div>Box 3 - Capital Gain</div><div>$"),Ha=a("<div><div>Box 6 - Net Unrealized Appreciation</div><div>$"),Wa=a("<div><div>Box 11 - First Year of Roth</div><div>"),Ya=a("<span> Taxable amount not determined (2b)"),Ga=a("<span> Total distribution (2b)"),Va=a("<div><div>State Tax Withheld</div><div>$"),qa=a("<div><div>Local Tax Withheld</div><div>$"),Qa=a("<div><div>State/Local Tax Info</div><div>"),Xa=a("<div><div><span>1099-R</span>Retirement Distribution</div><div></div><div><span>Distribution Amounts</span></div><div><div><div>Box 1 - Gross Distribution</div><div>$</div></div><div><div>Box 2a - Taxable Amount</div><div>$</div></div></div><div>"),Ka=a("<div>TIN: "),Ja=a("<div>SSN: "),Za=a("<div><div>Recipient</div><div>"),ed=a("<div><div>Box 1 - Unemployment Compensation</div><div>$"),td=a("<div><div>Box 2 - State/Local Tax Refund</div><div>$"),rd=a("<div><div>Box 3 - Tax Year</div><div>"),sd=a("<div><div>Box 5 - RTAA Payment</div><div>$"),nd=a("<div><div>Box 6 - Taxable Grants</div><div>$"),od=a("<div><div>Box 7 - Agriculture Payments</div><div>$"),id=a("<div><div>Box 10a - State</div><div>"),ld=a("<div><div>Box 10b - State ID</div><div>"),ad=a("<div><div>Box 11 - State Tax Withheld</div><div>$"),dd=a("<div><div>State Information</div><div>"),yd=a("<div><div><span>1099-G</span>Government Payments</div><div></div><div>Government Payment Details</div><div>"),cd=a("<div><div>Box 1 - Mortgage Interest</div><div>$"),pd=a("<div><div>Box 10 - Property Taxes</div><div>$"),ud=a("<div><div>Box 5 - Mortgage Insurance</div><div>$"),md=a("<div><div><span>1098</span>Lender Information</div><div></div><div>Mortgage Interest Statement</div><div>"),gd=a("<div><div>Box 1 - Payments Received</div><div>$"),fd=a("<div><div>Box 5 - Scholarships/Grants</div><div>$"),hd=a("<div><div><span>1098-T</span>Educational Institution</div><div></div><div>Tuition Statement</div><div>"),vd=a("<div>Marketplace ID: "),bd=a("<div>Monthly Breakdown"),Pd=a("<div><table><thead><tr><th>Month</th><th>Premium</th><th>SLCSP</th><th>APTC</th></tr></thead><tbody>"),xd=a("<div><div><span>1095-A</span>Health Insurance Marketplace Statement</div><div><div>Used for Form 8962 Premium Tax Credit calculation</div></div><div><div>Annual Totals (Form 8962)</div></div><div><div><div>Column A - Annual Premium</div><div>$</div></div><div><div>Column B - SLCSP</div><div>$</div></div><div><div>Column C - Advance PTC</div><div>$</div></div></div><div><span>Coverage Months</span><div><span> months"),$d=a("<div>Phone: "),Sd=a("<div>Merchant Category Code (MCC): "),wd=a("<div>Monthly Gross Amounts (Boxes 5a-5l)"),Cd=a("<div><table><thead><tr></tr></thead><tbody><tr>"),_d=a("<div>State Information"),kd=a("<div><div>Box 6 - State</div><div>"),Id=a("<div><div>Box 7 - State ID</div><div>"),Td=a("<div><div>Box 8 - State Tax Withheld</div><div>$"),Ad=a("<div><div><span>1099-K</span>Payment Settlement Entity (PSE) Information</div><div></div><div>Gross Payment Amounts</div><div><div>Box 1a - Gross Amount of Payment Card/Third Party Network Transactions</div><div>$</div></div><div><div><div>Box 1b - Card Not Present</div><div>$</div></div><div><div>Box 3 - Number of Transactions</div><div></div></div><div><div>Box 4 - Federal Tax Withheld</div><div>$"),Nd=a("<div><div>Extracted Amounts</div><div>"),zd=a("<div><strong>Error:</strong> "),Dd=a("<button>Verify"),Rd=a('<div><div><div><h3>Document Details</h3><div><button><svg width=16 height=16 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2><path d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"></path></svg>Multi QR</button><button><svg width=20 height=20 viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"clip-rule=evenodd></path></svg></button></div></div><div><div><div><div></div><div><div></div><div>  </div></div></div></div><div><div><div>Status</div><div><span></span></div></div><div><div>Document Type</div><div></div></div></div></div><div><button>Archivar</button><button><svg viewBox="0 0 20 20"fill=currentColor><path d="M8 5a1 1 0 100 2h5.586l-1.293 1.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L13.586 5H8zM12 15a1 1 0 100-2H6.414l1.293-1.293a1 1 0 10-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L6.414 15H12z"></path></svg>Reasignar'),Fd=a("<div><span>Buscando..."),Ed=a("<div>No se encontraron clientes"),Ld=a('<div><div><div><h3><svg viewBox="0 0 20 20"fill=#8b5cf6><path d="M8 5a1 1 0 100 2h5.586l-1.293 1.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L13.586 5H8zM12 15a1 1 0 100-2H6.414l1.293-1.293a1 1 0 10-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L6.414 15H12z"></path></svg>Reasignar Documento</h3><button></button></div><p>Selecciona el cliente al que deseas mover este documento.</p><div><div></div><div></div></div><div><input type=text placeholder="Buscar cliente por nombre..."></div><div><button>Cancelar'),Md=a(`<div><div><div><h3>Documents</h3><div><div><div></div><span> Verified</span></div><div><div></div><span> Needs Review</span></div></div></div><div></div></div><div><input type=file multiple accept=.pdf,.jpg,.jpeg,.png><div></div><div></div><div>Accepts PDF, JPG, PNG (W-2, 1099, 1098, K-1, receipts)</div></div><style>
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
      `),Bd=a('<button title="Re-analyze document">Analyze'),Od=a('<tr><td><div><div></div><div></div></div></td><td><span></span></td><td><span></span></td><td><span></span></td><td><span></span></td><td><span></span></td><td><div><button title="View document">View</button><button title="Delete document">Delete'),jd=a('<svg viewBox="0 0 20 20"fill=currentColor><path d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z">'),Ud=a('<svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"clip-rule=evenodd>'),Hd=a("<div><div><span></span><span></span></div><div>$"),Vn=a("<div><div></div><div>$"),Wd=a("<tr><td></td><td>$</td><td>$</td><td>$"),Yd=a("<th>"),Gd=a("<td>$"),Vd=a('<div><div><div> </div><div>  Tax Year </div></div><svg viewBox="0 0 20 20"fill=#8b5cf6><path fill-rule=evenodd d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z"clip-rule=evenodd>');const qd=["application/pdf","image/jpeg","image/png"],Qd=e=>({A:"Uncollected SS/RRTA tax on tips",B:"Uncollected Medicare tax on tips",C:"Taxable cost of group-term life insurance",D:"Elective deferrals to 401(k)",E:"Elective deferrals to 403(b)",F:"Elective deferrals to 408(k)(6) SEP",G:"Elective deferrals to 457(b)",H:"Elective deferrals to 501(c)(18)(D)",J:"Nontaxable sick pay",K:"20% excise tax on golden parachute",L:"Substantiated employee expenses",M:"Uncollected SS on group-term life",N:"Uncollected Medicare on group-term life",P:"Excludable moving expense reimb.",Q:"Nontaxable combat pay",R:"Employer HSA contributions",S:"Employee salary reduction to SIMPLE",T:"Adoption benefits",V:"Income from exercise of stock options",W:"Employer contributions to HSA",Y:"Deferrals under 409A nonqualified plan",Z:"Income under 409A nonqualified plan",AA:"Designated Roth contributions to 401(k)",BB:"Designated Roth contributions to 403(b)",CC:"HIRE exempt wages and tips",DD:"Cost of employer health coverage",EE:"Designated Roth contributions to 457(b)",FF:"Permitted benefits under QSEHRA",GG:"Income from qualified equity grants",HH:"Aggregate deferrals under 83(i)"})[e.toUpperCase()]||"Other",Xd=e=>{const[y,o]=Ie(!1),[h,w]=Ie(!1),[C,te]=Ie(null),[E,H]=Ie(null),[se,F]=Ie(!1),[r,Z]=Ie(null),[ge,x]=Ie(!1),[W,$]=Ie(""),[Y,c]=Ie(!1),[L,D]=Ie([""]),[v,ne]=Ie(!1),[k,Ze]=Ie(""),[O,he]=Ie([]),[$e,fe]=Ie(!1),[ye,Ce]=Ie(!1),Xe=()=>e.client?.id||e.taxPortal?.id||e.taxPortalId||"",nt=()=>e.client||e.taxPortal,ot=()=>e.taxYear||new Date().getFullYear(),qe=()=>{e.onRefresh?.()};let gt;const ke=Rr(()=>{const ie=e.documents.map(N=>({...N,_isSpouseDoc:!1})),d=(e.spouseDocuments||[]).map(N=>({...N,_isSpouseDoc:!0}));return[...ie,...d]}),Ye=ie=>ie.uploadStatus==="error"?"error":ie.uploadStatus==="analyzing"||ie.uploadStatus==="uploading"?"analyzing":ie.verified?"verified":(ie.uploadStatus==="analyzed","needs_review"),xt=Rr(()=>{const ie=ke(),d=e.spouseDocuments||[];return{total:ie.length,verified:ie.filter(N=>N.verified).length,needsReview:ie.filter(N=>!N.verified&&N.uploadStatus==="analyzed").length,analyzing:ie.filter(N=>N.uploadStatus==="analyzing"||N.uploadStatus==="uploading").length,errors:ie.filter(N=>N.uploadStatus==="error").length,taxpayerCount:e.documents.length,spouseCount:d.length}}),Ee=ie=>ie?ie<1024?`${ie} B`:ie<1024*1024?`${(ie/1024).toFixed(1)} KB`:`${(ie/(1024*1024)).toFixed(1)} MB`:"-",Pt=ie=>ie?new Date(ie).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"-",$t=ie=>({verified:{label:"Verified",color:"#22c55e",bg:"rgba(34, 197, 94, 0.1)"},needs_review:{label:"Needs Review",color:"#f59e0b",bg:"rgba(245, 158, 11, 0.1)"},missing:{label:"Missing",color:"#ef4444",bg:"rgba(239, 68, 68, 0.1)"},analyzing:{label:"Analyzing...",color:"#3b82f6",bg:"rgba(59, 130, 246, 0.1)"},error:{label:"Error",color:"#ef4444",bg:"rgba(239, 68, 68, 0.1)"}})[ie],It=async ie=>{const d=Array.from(ie).filter(N=>qd.includes(N.type));if(d.length===0){te("Please select PDF, JPG, or PNG files");return}w(!0),te(null);try{for(const N of d){const pe=await qo(N,Xe(),ot());if(pe.success&&pe.documentId)await On(pe.documentId);else throw new Error(pe.error||"Upload failed")}H(`Successfully uploaded ${d.length} document(s)`),setTimeout(()=>H(null),3e3),qe()}catch(N){te(N.message)}finally{w(!1)}},ir=ie=>{ie.preventDefault(),o(!1),ie.dataTransfer?.files&&It(ie.dataTransfer.files)},Kt=ie=>{const d=ie.target;d.files&&It(d.files),d.value=""},Wt=ie=>{Z(ie)},pt=async ie=>{let d=await As({query:"getSignedTaxDocumentUrl",params:{businessId:ms.getBusinessId(),id:ie?.id}});ie.fileUrl&&window.open(d?.signedUrl,"_blank")},Je=()=>{Z(null)},xe=()=>{let ie=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],d=[];return ie.forEach((N,pe)=>{const Ge=r()?.extractedAmounts?.monthlyPremiums?.[pe]||0,le=r()?.extractedAmounts?.monthlySlcsp?.[pe]||0,S=r()?.extractedAmounts?.monthlyAptc?.[pe]||0;d.push(Ge),d.push(le),d.push(S)}),d.join("|")},ve=ie=>{const d=ie.extractedAmounts||{},N=ie.payerInfo||{};Qe("Generating multi QR for document:",ie.drakeFormType,ie);const pe=[N.ein||"","|",N.name||"","|",N.address||"","|","|",N.zip||"","|"].join("");let Ge=[];switch(ie.drakeFormType){case"w2":{const le=[d.wages||"","|",d.wages||"","|",d.federalTaxWithheld||"","|",d.federalTaxWithheld||"","|",d.socialSecurityWages||"","|",d.socialSecurityTax||"","|",d.medicareWages||"","|",d.medicareTax||"","|",d.socialSecurityTips||"","|",d.allocatedTips||"","|",d.dependentCareBenefits||"","|",d.nonqualifiedPlans||"","|"].join(""),S=[d.employerStateId||"","|",d.stateWages||"","|",d.stateWages||"","|",d.stateTaxWithheld||"","|",d.stateTaxWithheld||"","|",d.localWages||"","|",d.localTaxWithheld||"","|",d.localityName||"","|"].join(""),X=(d.box12Codes||[]).map(Pe=>`${Pe.code||""}|${Pe.amount||""}`).join("|")||"",Ve=(d.box14Items||[]).map(Pe=>`${Pe.description||""}|${Pe.amount||""}`).join("|")||"";Ge=[pe,le,S],X&&Ge.push(X),Ve&&Ge.push(Ve);break}case"1099_nec":{const le=[N.ein||"","|","|",N.name||"","|","|",N.address||"","|",N.zip?.split("-")?.[0]||"","|","|","|","|","|","|","|","|","|","|",d.nonEmployeeCompensation||"","|","|","|","|",d.federalTaxWithheld1099||d.federalTaxWithheld||"","|"].join(""),S=[N.state||"","|",d.stateIncome||d.nonEmployeeCompensation||"","|",d.stateTaxWithheld||"","|",d.payerStateNo||"","|"].join("");Ge=[le,S];break}case"1099_misc":{const le=[N.ein||"","|",N.name||"","|",N.address||"","|",(N.city||"")+" "+(N.state||""),"|",N.zip||"","|"].join(""),S=[d.rents||"","|",d.royalties||"","|",d.otherIncome||"","|",d.federalTaxWithheld1099||d.federalTaxWithheld||"","|",d.fishingBoatProceeds||"","|",d.medicalPayments||"","|",d.substitutePayments||"","|",d.cropInsurance||"","|",d.grossProceeds||"","|",d.fishPurchased||"","|",d.section409ADeferrals||"","|",d.goldenParachute||"","|",d.nonqualifiedDeferred||"","|"].join(""),X=[N.state||"","|",d.stateIncome||"","|",d.stateTaxWithheld||"","|"].join("");Ge=[le,S,X];break}case"1099_int":{const le=[N.ein||"","|",N.name||"","|",N.address||"","|",(N.city||"")+" "+(N.state||""),"|",N.zip||"","|"].join(""),S=[d.interestIncome||"","|",d.earlyWithdrawalPenalty||"","|",d.usSavingsBondInterest||"","|",d.federalTaxWithheld1099||d.federalTaxWithheld||"","|",d.investmentExpenses||"","|",d.foreignTaxPaid||"","|",d.foreignCountry||"","|",d.taxExemptInterest||"","|",d.privateBondInterest||"","|",d.marketDiscount||"","|",d.bondPremium||"","|",d.bondPremiumTreasury||"","|",d.bondPremiumTaxExempt||"","|"].join(""),X=[N.state||"","|",d.stateIncome||d.interestIncome||"","|",d.stateTaxWithheld||"","|"].join("");Ge=[le,S,X];break}case"1099_div":{const le=[N.ein||"","|",N.name||"","|",N.address||"","|",(N.city||"")+" "+(N.state||""),"|",N.zip||"","|"].join(""),S=[d.ordinaryDividends||"","|",d.qualifiedDividends||"","|",d.capitalGainDistributions||d.capitalGains||"","|",d.unrecaptured1250Gain||"","|",d.section1202Gain||"","|",d.collectiblesGain||"","|",d.section897OrdinaryDividends||"","|",d.section897CapitalGain||"","|",d.nondividendDistributions||"","|",d.federalTaxWithheld1099||d.federalTaxWithheld||"","|",d.section199ADividends||"","|",d.investmentExpenses||"","|",d.foreignTaxPaid||"","|",d.foreignCountry||"","|",d.cashLiquidation||"","|",d.noncashLiquidation||"","|",d.exemptInterestDividends||"","|",d.privateBondDividends||"","|"].join(""),X=[N.state||"","|",d.stateIncome||d.ordinaryDividends||"","|",d.stateTaxWithheld||"","|"].join("");Ge=[le,S,X];break}case"1099_g":{const le=[N.ein||"","|",N.name||"","|",N.address||"","|",(N.city||"")+" "+(N.state||""),"|",N.zip||"","|"].join(""),S=[d.unemploymentCompensation||"","|",d.stateIncomeTaxRefund||"","|",d.taxYear||"","|",d.federalIncomeTaxWithheld||d.federalTaxWithheld||"","|",d.rtaaPayments||"","|",d.taxableGrants||"","|",d.agriculturePayments||"","|",d.tradeAdjustmentAssistance||"","|",d.marketGain||"","|",d.stateTaxWithheld||"","|"].join("");Ge=[le,S];break}case"1098":{const le=[N.ein||"","|",N.name||"","|",N.address||"","|",(N.city||"")+" "+(N.state||""),"|",N.zip||"","|"].join(""),S=[d.mortgageInterest||"","|",d.outstandingPrincipal||"","|",d.originationDate||"","|",d.refundOfOverpaid||"","|",d.mortgageInsurance||"","|",d.pointsPaid||"","|",d.propertyAddress||"","|",d.propertyTaxes||"","|",d.acquisitionDate||"","|"].join("");Ge=[le,S];break}case"1098_t":{const le=[N.ein||"","|",N.name||"","|",N.address||"","|",(N.city||"")+" "+(N.state||""),"|",N.zip||"","|"].join(""),S=[d.paymentsReceived||d.tuitionPaid||"","|",d.scholarshipsGrants||"","|",d.adjustmentsPriorYear||"","|",d.adjustmentsScholarships||"","|",d.includesJanMar||"","|",d.atLeastHalfTime||"","|",d.graduateStudent||"","|",d.insuranceReimbursement||"","|"].join("");Ge=[le,S];break}case"1099_r":{const le=[N.ein||"","|",N.name||"","|",N.address||"","|",(N.city||"")+" "+(N.state||""),"|",N.zip||"","|"].join(""),S=[d.grossDistribution||"","|",d.taxableAmount||"","|",d.taxableAmountNotDetermined||"","|",d.totalDistribution||"","|",d.capitalGain||"","|",d.federalTaxWithheld||"","|",d.employeeContributions||"","|",d.netUnrealizedAppreciation||"","|",d.distributionCode||"","|",d.otherAmount||"","|",d.percentageTotalDistribution||"","|",d.totalEmployeeContributions||"","|",d.firstYearOfRoth||"","|",d.fatcaFiling||"","|",d.dateOfPayment||"","|"].join(""),X=[N.state||"","|",d.stateDistribution||d.grossDistribution||"","|",d.stateTaxWithheld||"","|",d.localDistribution||"","|",d.localTaxWithheld||"","|",d.localityName||"","|"].join("");Ge=[le,S,X];break}case"ssa_1099":{const le=["Social Security Administration","|",d.claimNumber||"","|"].join(""),S=[d.totalBenefits||"","|",d.benefitsRepaid||"","|",d.netBenefits||"","|",d.federalTaxWithheld||"","|",d.medicarePartBDeducted||"","|",d.description||"","|"].join("");Ge=[le,S];break}case"1099_ssa":{const le=["Social Security Administration","|",d.claimNumber||"","|"].join(""),S=[d.totalBenefits||"","|",d.benefitsRepaid||"","|",d.netBenefits||"","|",d.federalTaxWithheld||"","|"].join("");Ge=[le,S];break}case"1095_a":{const le=[N.ein||"","|",N.name||"","|",N.address||"","|",(N.city||"")+" "+(N.state||""),"|",N.zip||"","|"].join(""),S=[d.policyNumber||"","|",d.policyStartDate||"","|",d.policyEndDate||"","|",d.annualPremium||"","|",d.annualSlcsp||"","|",d.annualAptc||"","|"].join(""),X=(d.monthlyPremiums||[]).map((Ve,Pe)=>{const ze=d.monthlySlcsp?.[Pe]||0,ht=d.monthlyAptc?.[Pe]||0;return`${Ve}|${ze}|${ht}`}).join("|")||"";Ge=[le,S],X&&Ge.push(X);break}case"1099_k":{const le=[N.ein||"","|",N.name||d.pseName||"","|",N.address||"","|",(N.city||"")+" "+(N.state||""),"|",N.zip||"","|",d.psePhone||"","|"].join(""),S=[d.grossAmount1099K||"","|",d.cardNotPresentTransactions||"","|",d.merchantCategoryCode||"","|",d.numberOfTransactions||"","|",d.federalTaxWithheld1099K||"","|"].join(""),X=d.monthlyGrossAmounts||{},Ve=[X.january||"","|",X.february||"","|",X.march||"","|",X.april||"","|",X.may||"","|",X.june||"","|",X.july||"","|",X.august||"","|",X.september||"","|",X.october||"","|",X.november||"","|",X.december||"","|"].join(""),Pe=[d.stateAbbreviation1099K||"","|",d.stateIdNumber1099K||"","|",d.stateTaxWithheld1099K||"","|"].join("");Ge=[le,S],Ve.replace(/\|/g,"").trim()&&Ge.push(Ve),Pe.replace(/\|/g,"").trim()&&Ge.push(Pe);break}default:{const le=Object.entries(d).filter(([S,X])=>X!=null&&X!=="").map(([S,X])=>`${X}`).join("|");Ge=[pe,le||"No amounts"];break}}D(Ge.filter(le=>le&&le.length>0)),c(!0)},Se=async ie=>{try{const d=await Vo(ie.id);if(d.success){const N={...ie,verified:!0,verifiedAt:Date.now()};Z(N),H("Document verified successfully"),setTimeout(()=>H(null),3e3),qe()}else te(d.error||"Failed to verify document")}catch(d){te(d.message)}},we=async ie=>{try{const d=await As({query:"updateTaxDocument",params:{businessId:ms.getBusinessId(),id:ie?.id},form:{taxPortalId:"archive_hrm",clientNotaryId:"archive_hrm"}});d.success?(H("Document verified successfully"),setTimeout(()=>H(null),3e3),qe()):te(d.error||"Failed to verify document")}catch(d){te(d.message)}},_t=async ie=>{if(ie.length<2){he([]);return}fe(!0);try{const N=(await To()).filter(pe=>pe.id!==Xe()&&(pe.firstName?.toLowerCase().includes(ie.toLowerCase())||pe.lastName?.toLowerCase().includes(ie.toLowerCase())||`${pe.firstName} ${pe.lastName}`.toLowerCase().includes(ie.toLowerCase()))).slice(0,10);he(N)}catch(d){console.error("Error searching clients:",d)}finally{fe(!1)}},wt=async ie=>{const d=r();if(d){Ce(!0);try{const N=await As({query:"updateTaxDocument",params:{businessId:ms.getBusinessId(),id:d.id},form:{taxPortalId:ie.id}});N.success?(H(`Document reassigned to ${ie.firstName} ${ie.lastName}`),setTimeout(()=>H(null),3e3),ne(!1),Z(null),qe()):te(N.error||"Failed to reassign document")}catch(N){te(N.message)}finally{Ce(!1),Ze(""),he([])}}},it=async ie=>{try{await On(ie.id),qe(),H("Document sent for analysis"),setTimeout(()=>H(null),3e3)}catch(d){te(d.message)}},rr=async ie=>{if(confirm("Are you sure you want to delete this document?"))try{await Go(ie.id),qe(),H("Document deleted"),setTimeout(()=>H(null),3e3)}catch(d){te(d.message)}},Dt=async()=>{const ie=nt();if(!ie){te("Tax portal information not available");return}F(!0);try{await Dn(ie,{taxYear:ot(),instructions:"Please upload the requested tax documents."}),H("Document request sent to client"),setTimeout(()=>H(null),3e3)}catch(d){te(d.message)}finally{F(!1)}},qt=ie=>{$(ie),x(!0)},lr={display:"flex","flex-direction":"column",gap:"1.5rem"},ce={display:"flex","justify-content":"space-between","align-items":"center","flex-wrap":"wrap",gap:"1rem"},U={"font-size":"1.25rem","font-weight":"600",color:"var(--text-primary, #1f2937)",margin:"0"},oe={display:"flex",gap:"1.5rem","flex-wrap":"wrap","margin-top":"0.5rem"},Ae={display:"flex","align-items":"center",gap:"0.5rem","font-size":"0.875rem"},re=ie=>({width:"8px",height:"8px","border-radius":"50%",background:ie}),Me=ie=>({border:`2px dashed ${ie?"var(--primary-color, #3b82f6)":"var(--border-color, #e5e7eb)"}`,"border-radius":"12px",padding:"2rem","text-align":"center",background:ie?"rgba(59, 130, 246, 0.05)":"var(--surface-alt, #f9fafb)",transition:"all 0.2s ease",cursor:"pointer"}),Ne={"overflow-x":"auto","border-radius":"8px",border:"1px solid var(--border-color, #e5e7eb)"},Tt={width:"100%","border-collapse":"collapse","font-size":"0.875rem"},B={padding:"0.75rem 1rem","text-align":"left","font-weight":"600","font-size":"0.75rem","text-transform":"uppercase","letter-spacing":"0.05em",color:"var(--text-secondary, #6b7280)",background:"var(--surface-alt, #f9fafb)","border-bottom":"1px solid var(--border-color, #e5e7eb)"},ae={padding:"0.75rem 1rem","border-bottom":"1px solid var(--border-color, #e5e7eb)","vertical-align":"middle"},Ke=ie=>({display:"inline-flex","align-items":"center",gap:"0.375rem",padding:"0.25rem 0.625rem","border-radius":"9999px",background:ie.bg,color:ie.color,"font-size":"0.75rem","font-weight":"600"}),tt={padding:"0.375rem 0.625rem",background:"transparent",border:"1px solid var(--border-color, #e5e7eb)","border-radius":"6px",cursor:"pointer","font-size":"0.75rem",color:"var(--text-secondary, #6b7280)",transition:"all 0.2s ease",display:"inline-flex","align-items":"center",gap:"0.25rem"},Q={...tt,background:"var(--primary-color, #3b82f6)","border-color":"var(--primary-color, #3b82f6)",color:"white"},G=ie=>({padding:"0.75rem 1rem","border-radius":"8px","font-size":"0.875rem",background:ie==="success"?"rgba(34, 197, 94, 0.1)":"rgba(239, 68, 68, 0.1)",color:ie==="success"?"#22c55e":"#ef4444",border:`1px solid ${ie==="success"?"#22c55e":"#ef4444"}`,display:"flex","align-items":"center",gap:"0.5rem"}),et={"text-align":"center",padding:"3rem",color:"var(--text-secondary, #6b7280)"},de={width:"32px",height:"32px",display:"flex","align-items":"center","justify-content":"center",background:"var(--surface-alt, #f3f4f6)","border-radius":"6px","font-size":"0.75rem","font-weight":"600"},Ct={"font-weight":"500",color:"var(--text-primary, #1f2937)","max-width":"250px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"},lt={display:"inline-block",padding:"0.125rem 0.5rem",background:"var(--surface-alt, #f3f4f6)","border-radius":"4px","font-size":"0.75rem",color:"var(--text-secondary, #6b7280)"},_e=ie=>{switch(ie){case"verified":return(()=>{var d=sa();return d.style.setProperty("width","14px"),d.style.setProperty("height","14px"),d})();case"needs_review":return(()=>{var d=na();return d.style.setProperty("width","14px"),d.style.setProperty("height","14px"),d})();case"analyzing":return(()=>{var d=oa();return d.style.setProperty("width","14px"),d.style.setProperty("height","14px"),d.style.setProperty("animation","spin 1s linear infinite"),d})();case"error":case"missing":return(()=>{var d=ia();return d.style.setProperty("width","14px"),d.style.setProperty("height","14px"),d})();default:return null}},je=ie=>ie?.includes("pdf")?"PDF":ie?.includes("image")?"IMG":"DOC";return(()=>{var ie=Md(),d=ie.firstChild,N=d.firstChild,pe=N.firstChild,Ge=pe.nextSibling,le=Ge.firstChild,S=le.firstChild,X=S.nextSibling,Ve=X.firstChild,Pe=le.nextSibling,ze=Pe.firstChild,ht=ze.nextSibling,Vt=ht.firstChild,Yt=N.nextSibling,ut=d.nextSibling,mr=ut.firstChild,A=mr.nextSibling,Be=A.nextSibling,mt=Be.nextSibling,Ot=ut.nextSibling;s(pe,U),t(X,()=>xt().verified,Ve),t(ht,()=>xt().needsReview,Vt),t(Ge,n(p,{get when(){return xt().analyzing>0},get children(){var K=la(),He=K.firstChild,rt=He.nextSibling,Oe=rt.firstChild;return t(rt,()=>xt().analyzing,Oe),f(kt=>{var St=Ae,or=re("#3b82f6");return kt.e=s(K,St,kt.e),kt.t=s(He,or,kt.t),kt},{e:void 0,t:void 0}),K}}),null),t(Ge,n(p,{get when(){return xt().errors>0},get children(){var K=aa(),He=K.firstChild,rt=He.nextSibling,Oe=rt.firstChild;return t(rt,()=>xt().errors,Oe),f(kt=>{var St=Ae,or=re("#ef4444");return kt.e=s(K,St,kt.e),kt.t=s(He,or,kt.t),kt},{e:void 0,t:void 0}),K}}),null),Yt.style.setProperty("display","flex"),Yt.style.setProperty("gap","0.5rem"),t(Yt,n($s,{variant:"secondary",size:"sm",onClick:qe,children:"Refresh"}),null),t(Yt,n(p,{get when(){return nt()},get children(){return n($s,{variant:"secondary",size:"sm",onClick:Dt,get disabled(){return se()},get children(){return se()?"Sending...":"Request from Client"}})}}),null),t(ie,n(p,{get when(){return C()},get children(){var K=da(),He=K.firstChild;return He.style.setProperty("width","16px"),He.style.setProperty("height","16px"),t(K,C,null),f(rt=>s(K,G("error"),rt)),K}}),ut),t(ie,n(p,{get when(){return E()},get children(){var K=ya(),He=K.firstChild;return He.style.setProperty("width","16px"),He.style.setProperty("height","16px"),t(K,E,null),f(rt=>s(K,G("success"),rt)),K}}),ut),ut.$$click=()=>gt?.click(),ut.addEventListener("drop",ir),ut.addEventListener("dragleave",()=>o(!1)),ut.addEventListener("dragover",K=>{K.preventDefault(),o(!0)}),mr.addEventListener("change",Kt);var Cr=gt;return typeof Cr=="function"?Mo(Cr,mr):gt=mr,mr.style.setProperty("display","none"),A.style.setProperty("font-size","2.5rem"),A.style.setProperty("margin-bottom","0.75rem"),t(A,()=>y()?"Drop files here":"Upload Documents"),Be.style.setProperty("color","var(--text-secondary)"),Be.style.setProperty("margin-bottom","1rem"),t(Be,()=>y()?"Let go to upload":"Drag and drop your tax documents here, or click to browse"),t(ut,n($s,{variant:"primary",get disabled(){return h()},get children(){return h()?"Uploading...":"Browse Files"}}),mt),mt.style.setProperty("font-size","0.75rem"),mt.style.setProperty("color","var(--text-muted)"),mt.style.setProperty("margin-top","0.75rem"),t(ie,n(p,{get when(){return e.linkedSpouse&&(e.spouseDocuments?.length||0)>0},get children(){var K=ca(),He=K.firstChild,rt=He.nextSibling,Oe=rt.firstChild,kt=Oe.nextSibling,St=kt.firstChild,or=St.nextSibling;return or.nextSibling,K.style.setProperty("background","linear-gradient(135deg, #ec4899 0%, #f472b6 100%)"),K.style.setProperty("border-radius","8px"),K.style.setProperty("padding","0.75rem 1rem"),K.style.setProperty("margin-bottom","1rem"),K.style.setProperty("display","flex"),K.style.setProperty("align-items","center"),K.style.setProperty("gap","0.75rem"),K.style.setProperty("color","white"),He.style.setProperty("width","20px"),He.style.setProperty("height","20px"),Oe.style.setProperty("font-weight","600"),kt.style.setProperty("font-size","0.8125rem"),kt.style.setProperty("opacity","0.9"),t(kt,()=>e.spouseDocuments?.length,St),t(kt,()=>e.linkedSpouse?.firstName,or),t(kt,()=>e.linkedSpouse?.lastName,null),K}}),Ot),t(ie,n(p,{get when(){return ke().length>0},get children(){return n(fs,{get children(){var K=pa(),He=K.firstChild,rt=He.firstChild,Oe=rt.firstChild,kt=Oe.firstChild,St=kt.nextSibling,or=St.nextSibling,vt=or.nextSibling,Br=vt.nextSibling,Wr=Br.nextSibling,_r=Wr.nextSibling,ue=rt.nextSibling;return t(ue,n(Ht,{get each(){return ke()},children:me=>{const T=Ye(me),Le=$t(T),yt=me._isSpouseDoc;return Qe(me),(()=>{var st=Od(),Rt=st.firstChild,sr=Rt.firstChild,dr=sr.firstChild,Zt=dr.nextSibling,Et=Rt.nextSibling,$r=Et.firstChild,Gt=Et.nextSibling,pr=Gt.firstChild,kr=Gt.nextSibling,Zr=kr.firstChild,Te=kr.nextSibling,l=Te.firstChild,P=Te.nextSibling,b=P.firstChild,z=P.nextSibling,R=z.firstChild,i=R.firstChild,g=i.nextSibling;return sr.style.setProperty("display","flex"),sr.style.setProperty("align-items","center"),sr.style.setProperty("gap","0.75rem"),s(dr,de),t(dr,()=>je(me.mimeType)),t(Zt,()=>me.originalFileName),s($r,lt),t($r,()=>Ys[me.drakeFormType||"other"]),pr.style.setProperty("display","inline-flex"),pr.style.setProperty("align-items","center"),pr.style.setProperty("gap","0.25rem"),pr.style.setProperty("padding","0.125rem 0.5rem"),pr.style.setProperty("border-radius","9999px"),pr.style.setProperty("font-size","0.75rem"),pr.style.setProperty("font-weight","500"),(yt?"#fce7f3":"#e0f2fe")!=null?pr.style.setProperty("background",yt?"#fce7f3":"#e0f2fe"):pr.style.removeProperty("background"),(yt?"#be185d":"#0369a1")!=null?pr.style.setProperty("color",yt?"#be185d":"#0369a1"):pr.style.removeProperty("color"),t(pr,yt?[(()=>{var u=jd();return u.style.setProperty("width","12px"),u.style.setProperty("height","12px"),u})(),"C贸nyuge"]:[(()=>{var u=Ud();return u.style.setProperty("width","12px"),u.style.setProperty("height","12px"),u})(),"Taxpayer"]),t(Zr,()=>_e(T),null),t(Zr,()=>Le.label,null),l.style.setProperty("color","var(--text-secondary)"),t(l,()=>Ee(me.fileSize)),b.style.setProperty("color","var(--text-secondary)"),t(b,()=>Pt(me.uploadedAt)),R.style.setProperty("display","flex"),R.style.setProperty("gap","0.5rem"),R.style.setProperty("justify-content","flex-end"),i.$$click=()=>Wt(me),t(R,n(p,{when:T!=="analyzing",get children(){var u=Bd();return u.$$click=()=>it(me),f(m=>s(u,tt,m)),u}}),g),g.$$click=()=>rr(me),f(u=>{var m=yt?"rgba(236, 72, 153, 0.05)":me.verified?"rgba(34, 197, 94, 0.03)":"transparent",q=ae,I=Ct,V=me.originalFileName,J=ae,j=ae,be=ae,De=Ke(Le),_=ae,ee=ae,Fe={...ae,"text-align":"right"},ct=Q,At={...tt,color:"#ef4444"};return m!==u.e&&((u.e=m)!=null?st.style.setProperty("background",m):st.style.removeProperty("background")),u.t=s(Rt,q,u.t),u.a=s(Zt,I,u.a),V!==u.o&&es(Zt,"title",u.o=V),u.i=s(Et,J,u.i),u.n=s(Gt,j,u.n),u.s=s(kr,be,u.s),u.h=s(Zr,De,u.h),u.r=s(Te,_,u.r),u.d=s(P,ee,u.d),u.l=s(z,Fe,u.l),u.u=s(i,ct,u.u),u.c=s(g,At,u.c),u},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0}),st})()}})),f(me=>{var T=Ne,Le=Tt,yt=B,st=B,Rt=B,sr=B,dr=B,Zt=B,Et={...B,"text-align":"right"};return me.e=s(K,T,me.e),me.t=s(He,Le,me.t),me.a=s(kt,yt,me.a),me.o=s(St,st,me.o),me.i=s(or,Rt,me.i),me.n=s(vt,sr,me.n),me.s=s(Br,dr,me.s),me.h=s(Wr,Zt,me.h),me.r=s(_r,Et,me.r),me},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0}),K}})}}),Ot),t(ie,n(p,{get when(){return e.documents.length===0},get children(){return n(fs,{get children(){var K=ua(),He=K.firstChild,rt=He.nextSibling,Oe=rt.nextSibling;return He.style.setProperty("font-size","3rem"),He.style.setProperty("margin-bottom","1rem"),rt.style.setProperty("font-size","1rem"),rt.style.setProperty("margin-bottom","0.5rem"),Oe.style.setProperty("font-size","0.875rem"),f(kt=>s(K,et,kt)),K}})}}),Ot),t(ie,n(p,{get when(){return r()},get children(){var K=Rd(),He=K.firstChild,rt=He.firstChild,Oe=rt.firstChild,kt=Oe.nextSibling,St=kt.firstChild,or=St.nextSibling,vt=rt.nextSibling,Br=vt.firstChild,Wr=Br.firstChild,_r=Wr.firstChild,ue=_r.nextSibling,me=ue.firstChild,T=me.nextSibling,Le=T.firstChild,yt=Br.nextSibling,st=yt.firstChild,Rt=st.firstChild,sr=Rt.nextSibling,dr=sr.firstChild,Zt=st.nextSibling,Et=Zt.firstChild,$r=Et.nextSibling,Gt=vt.nextSibling,pr=Gt.firstChild,kr=pr.nextSibling,Zr=kr.firstChild;return K.$$click=Je,K.style.setProperty("position","fixed"),K.style.setProperty("top","0"),K.style.setProperty("left","0"),K.style.setProperty("right","0"),K.style.setProperty("bottom","0"),K.style.setProperty("background","rgba(0, 0, 0, 0.5)"),K.style.setProperty("display","flex"),K.style.setProperty("align-items","center"),K.style.setProperty("justify-content","center"),K.style.setProperty("z-index","1000"),K.style.setProperty("padding","1rem"),He.$$click=Te=>Te.stopPropagation(),He.style.setProperty("background","var(--surface-color, white)"),He.style.setProperty("border-radius","12px"),He.style.setProperty("max-width","900px"),He.style.setProperty("width","100%"),He.style.setProperty("max-height","90vh"),He.style.setProperty("overflow","auto"),He.style.setProperty("box-shadow","0 25px 50px -12px rgba(0, 0, 0, 0.25)"),rt.style.setProperty("display","flex"),rt.style.setProperty("justify-content","space-between"),rt.style.setProperty("align-items","center"),rt.style.setProperty("padding","1.25rem 1.5rem"),rt.style.setProperty("border-bottom","1px solid var(--border-color, #e5e7eb)"),Oe.style.setProperty("margin","0"),Oe.style.setProperty("font-size","1.125rem"),Oe.style.setProperty("font-weight","600"),kt.style.setProperty("display","flex"),kt.style.setProperty("align-items","center"),kt.style.setProperty("gap","0.5rem"),St.$$mouseout=Te=>Te.currentTarget.style.background="#8b5cf6",St.$$mouseover=Te=>Te.currentTarget.style.background="#7c3aed",St.$$click=()=>ve(r()),St.style.setProperty("background","#8b5cf6"),St.style.setProperty("color","white"),St.style.setProperty("border","none"),St.style.setProperty("cursor","pointer"),St.style.setProperty("padding","0.5rem 0.75rem"),St.style.setProperty("border-radius","6px"),St.style.setProperty("display","flex"),St.style.setProperty("align-items","center"),St.style.setProperty("gap","0.375rem"),St.style.setProperty("font-size","0.8125rem"),St.style.setProperty("font-weight","500"),St.style.setProperty("transition","background 0.2s"),or.$$click=Je,or.style.setProperty("background","transparent"),or.style.setProperty("border","none"),or.style.setProperty("cursor","pointer"),or.style.setProperty("padding","0.5rem"),or.style.setProperty("border-radius","6px"),or.style.setProperty("display","flex"),or.style.setProperty("align-items","center"),or.style.setProperty("justify-content","center"),vt.style.setProperty("padding","1.5rem"),Br.style.setProperty("margin-bottom","1.5rem"),Wr.style.setProperty("display","flex"),Wr.style.setProperty("align-items","center"),Wr.style.setProperty("gap","1rem"),_r.style.setProperty("width","48px"),_r.style.setProperty("height","48px"),_r.style.setProperty("display","flex"),_r.style.setProperty("align-items","center"),_r.style.setProperty("justify-content","center"),_r.style.setProperty("background","var(--surface-alt, #f3f4f6)"),_r.style.setProperty("border-radius","8px"),_r.style.setProperty("font-weight","600"),_r.style.setProperty("color","var(--primary-color, #3b82f6)"),t(_r,()=>je(r()?.mimeType)),me.style.setProperty("font-weight","600"),me.style.setProperty("font-size","1rem"),t(me,()=>r()?.originalFileName),T.style.setProperty("font-size","0.875rem"),T.style.setProperty("color","var(--text-secondary)"),t(T,()=>Ee(r()?.fileSize),Le),t(T,()=>Pt(r()?.uploadedAt),null),yt.style.setProperty("display","grid"),yt.style.setProperty("grid-template-columns","1fr 1fr"),yt.style.setProperty("gap","1rem"),yt.style.setProperty("margin-bottom","1.5rem"),st.style.setProperty("padding","1rem"),st.style.setProperty("background","var(--surface-alt, #f9fafb)"),st.style.setProperty("border-radius","8px"),Rt.style.setProperty("font-size","0.75rem"),Rt.style.setProperty("color","var(--text-secondary)"),Rt.style.setProperty("margin-bottom","0.25rem"),Rt.style.setProperty("text-transform","uppercase"),sr.style.setProperty("font-weight","500"),t(dr,()=>_e(Ye(r())),null),t(dr,()=>$t(Ye(r())).label,null),Zt.style.setProperty("padding","1rem"),Zt.style.setProperty("background","var(--surface-alt, #f9fafb)"),Zt.style.setProperty("border-radius","8px"),Et.style.setProperty("font-size","0.75rem"),Et.style.setProperty("color","var(--text-secondary)"),Et.style.setProperty("margin-bottom","0.25rem"),Et.style.setProperty("text-transform","uppercase"),$r.style.setProperty("font-weight","500"),t($r,()=>Ys[r()?.drakeFormType||"other"]),t(vt,n(p,{get when(){return r()?.aiAnalysis},get children(){var Te=ga(),l=Te.firstChild,P=l.nextSibling;return Te.style.setProperty("margin-bottom","1.5rem"),l.style.setProperty("font-weight","600"),l.style.setProperty("margin-bottom","0.75rem"),P.style.setProperty("padding","1rem"),P.style.setProperty("background","rgba(139, 92, 246, 0.05)"),P.style.setProperty("border","1px solid rgba(139, 92, 246, 0.2)"),P.style.setProperty("border-radius","8px"),t(P,n(p,{get when(){return r()?.aiAnalysis?.confidence},get children(){var b=ma(),z=b.firstChild,R=z.nextSibling,i=R.firstChild;return b.style.setProperty("margin-bottom","0.5rem"),z.style.setProperty("color","var(--text-secondary)"),z.style.setProperty("font-size","0.875rem"),R.style.setProperty("font-weight","500"),t(R,()=>Math.round((r()?.aiAnalysis?.confidence||0)*100),i),b}}),null),t(P,n(p,{get when(){return r()?.aiAnalysis?.summary},get children(){var b=Kr();return b.style.setProperty("font-size","0.875rem"),b.style.setProperty("color","var(--text-secondary)"),t(b,()=>r()?.aiAnalysis?.summary),b}}),null),Te}}),null),t(vt,n(p,{get when(){return r()?.drakeFormType==="w2"},get children(){var Te=Ta(),l=Te.firstChild,P=l.firstChild,b=l.nextSibling,z=b.nextSibling,R=z.firstChild,i=z.nextSibling,g=i.nextSibling,u=g.firstChild,m=u.firstChild,q=g.nextSibling;return Te.style.setProperty("margin-bottom","1.5rem"),l.style.setProperty("font-weight","600"),l.style.setProperty("margin-bottom","0.75rem"),l.style.setProperty("display","flex"),l.style.setProperty("align-items","center"),l.style.setProperty("gap","0.5rem"),P.style.setProperty("background","#3b82f6"),P.style.setProperty("color","white"),P.style.setProperty("padding","0.125rem 0.5rem"),P.style.setProperty("border-radius","4px"),P.style.setProperty("font-size","0.75rem"),t(Te,n(Lr,{text:"",handle:()=>ve(r()),label:""}),b),b.style.setProperty("padding","1rem"),b.style.setProperty("background","rgba(59, 130, 246, 0.05)"),b.style.setProperty("border","1px solid rgba(59, 130, 246, 0.2)"),b.style.setProperty("border-radius","8px"),b.style.setProperty("margin-bottom","1rem"),t(b,n(p,{get when(){return r()?.payerInfo?.name},get children(){var I=Kr();return I.style.setProperty("font-weight","600"),I.style.setProperty("font-size","1rem"),I.style.setProperty("margin-bottom","0.25rem"),t(I,()=>r()?.payerInfo?.name),I}}),null),t(b,n(p,{get when(){return r()?.payerInfo?.ein},get children(){var I=Ts();return I.firstChild,I.style.setProperty("font-size","0.875rem"),I.style.setProperty("color","var(--text-secondary)"),t(I,()=>r()?.payerInfo?.ein,null),I}}),null),t(b,n(p,{get when(){return r()?.payerInfo?.address||r()?.payerInfo?.city},get children(){var I=Kr();return I.style.setProperty("font-size","0.875rem"),I.style.setProperty("color","var(--text-secondary)"),I.style.setProperty("margin-top","0.25rem"),t(I,()=>r()?.payerInfo?.address,null),t(I,(()=>{var V=bt(()=>!!r()?.payerInfo?.city);return()=>V()&&`, ${r()?.payerInfo?.city}`})(),null),t(I,(()=>{var V=bt(()=>!!r()?.payerInfo?.state);return()=>V()&&`, ${r()?.payerInfo?.state}`})(),null),t(I,(()=>{var V=bt(()=>!!r()?.payerInfo?.zip);return()=>V()&&` ${r()?.payerInfo?.zip}`})(),null),I}}),null),z.style.setProperty("display","grid"),z.style.setProperty("grid-template-columns","repeat(2, 1fr)"),z.style.setProperty("gap","0.5rem"),R.style.setProperty("font-weight","600"),R.style.setProperty("margin-bottom","0.75rem"),t(z,n(Lr,{get text(){return[r()?.extractedAmounts?.wages||"","|",r()?.extractedAmounts?.wages||"","|",r()?.extractedAmounts?.federalTaxWithheld||"","|",r()?.extractedAmounts?.federalTaxWithheld||"","|",r()?.extractedAmounts?.socialSecurityWages||"","|",r()?.extractedAmounts?.socialSecurityTax||"","|",r()?.extractedAmounts?.medicareWages||"","|",r()?.extractedAmounts?.medicareTax||"","|"].join("")||""},handle:qt,label:""}),null),i.style.setProperty("display","grid"),i.style.setProperty("grid-template-columns","repeat(2, 1fr)"),i.style.setProperty("gap","0.5rem"),t(i,n(p,{get when(){return r()?.extractedAmounts?.wages!==void 0},get children(){var I=fa(),V=I.firstChild,J=V.nextSibling;return J.firstChild,I.style.setProperty("padding","0.75rem"),I.style.setProperty("background","var(--surface-alt, #f9fafb)"),I.style.setProperty("border-radius","6px"),V.style.setProperty("font-size","0.75rem"),V.style.setProperty("color","var(--text-secondary)"),J.style.setProperty("font-weight","600"),J.style.setProperty("font-size","1.125rem"),J.style.setProperty("color","#22c55e"),t(J,()=>(r()?.extractedAmounts?.wages||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),I}}),null),t(i,n(p,{get when(){return r()?.extractedAmounts?.federalTaxWithheld!==void 0},get children(){var I=ha(),V=I.firstChild,J=V.nextSibling;return J.firstChild,I.style.setProperty("padding","0.75rem"),I.style.setProperty("background","var(--surface-alt, #f9fafb)"),I.style.setProperty("border-radius","6px"),V.style.setProperty("font-size","0.75rem"),V.style.setProperty("color","var(--text-secondary)"),J.style.setProperty("font-weight","600"),J.style.setProperty("font-size","1.125rem"),J.style.setProperty("color","#ef4444"),t(J,()=>(r()?.extractedAmounts?.federalTaxWithheld||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),I}}),null),t(i,n(p,{get when(){return r()?.extractedAmounts?.socialSecurityWages!==void 0},get children(){var I=va(),V=I.firstChild,J=V.nextSibling;return J.firstChild,I.style.setProperty("padding","0.75rem"),I.style.setProperty("background","var(--surface-alt, #f9fafb)"),I.style.setProperty("border-radius","6px"),V.style.setProperty("font-size","0.75rem"),V.style.setProperty("color","var(--text-secondary)"),J.style.setProperty("font-weight","600"),t(J,()=>(r()?.extractedAmounts?.socialSecurityWages||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),I}}),null),t(i,n(p,{get when(){return r()?.extractedAmounts?.socialSecurityTax!==void 0},get children(){var I=ba(),V=I.firstChild,J=V.nextSibling;return J.firstChild,I.style.setProperty("padding","0.75rem"),I.style.setProperty("background","var(--surface-alt, #f9fafb)"),I.style.setProperty("border-radius","6px"),V.style.setProperty("font-size","0.75rem"),V.style.setProperty("color","var(--text-secondary)"),J.style.setProperty("font-weight","600"),t(J,()=>(r()?.extractedAmounts?.socialSecurityTax||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),I}}),null),t(i,n(p,{get when(){return r()?.extractedAmounts?.medicareWages!==void 0},get children(){var I=Pa(),V=I.firstChild,J=V.nextSibling;return J.firstChild,I.style.setProperty("padding","0.75rem"),I.style.setProperty("background","var(--surface-alt, #f9fafb)"),I.style.setProperty("border-radius","6px"),V.style.setProperty("font-size","0.75rem"),V.style.setProperty("color","var(--text-secondary)"),J.style.setProperty("font-weight","600"),t(J,()=>(r()?.extractedAmounts?.medicareWages||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),I}}),null),t(i,n(p,{get when(){return r()?.extractedAmounts?.medicareTax!==void 0},get children(){var I=xa(),V=I.firstChild,J=V.nextSibling;return J.firstChild,I.style.setProperty("padding","0.75rem"),I.style.setProperty("background","var(--surface-alt, #f9fafb)"),I.style.setProperty("border-radius","6px"),V.style.setProperty("font-size","0.75rem"),V.style.setProperty("color","var(--text-secondary)"),J.style.setProperty("font-weight","600"),t(J,()=>(r()?.extractedAmounts?.medicareTax||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),I}}),null),g.style.setProperty("display","grid"),g.style.setProperty("grid-template-columns","repeat(2, 1fr)"),g.style.setProperty("gap","0.5rem"),u.style.setProperty("display","flex"),m.style.setProperty("font-weight","600"),m.style.setProperty("margin","0.75rem 0"),t(u,n(p,{get when(){return r()?.extractedAmounts?.employerStateId},get children(){var I=$a(),V=I.firstChild;return I.style.setProperty("font-weight","600"),I.style.setProperty("margin","0.75rem 0.5rem"),I.style.setProperty("display","flex"),I.style.setProperty("align-items","center"),I.style.setProperty("gap","0.5rem"),V.style.setProperty("background","#8b5cf6"),V.style.setProperty("color","white"),V.style.setProperty("padding","0.125rem 0.5rem"),V.style.setProperty("border-radius","4px"),V.style.setProperty("font-size","0.75rem"),t(V,()=>r()?.extractedAmounts?.employerStateId),I}}),null),t(g,n(Lr,{get text(){return[r()?.extractedAmounts?.employerStateId||"","|",r()?.extractedAmounts?.stateWages||"","|",r()?.extractedAmounts?.stateWages||"","|",r()?.extractedAmounts?.stateTaxWithheld||"","|",r()?.extractedAmounts?.stateTaxWithheld||"","|",r()?.extractedAmounts?.localWages||"","|",r()?.extractedAmounts?.localTaxWithheld||"","|"].join("")||""},handle:qt,label:""}),null),q.style.setProperty("display","grid"),q.style.setProperty("grid-template-columns","repeat(2, 1fr)"),q.style.setProperty("gap","0.5rem"),t(q,n(p,{get when(){return r()?.extractedAmounts?.stateWages!==void 0},get children(){var I=Sa(),V=I.firstChild,J=V.nextSibling;return J.firstChild,I.style.setProperty("padding","0.75rem"),I.style.setProperty("background","var(--surface-alt, #f9fafb)"),I.style.setProperty("border-radius","6px"),V.style.setProperty("font-size","0.75rem"),V.style.setProperty("color","var(--text-secondary)"),J.style.setProperty("font-weight","600"),t(J,()=>(r()?.extractedAmounts?.stateWages||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),I}}),null),t(q,n(p,{get when(){return r()?.extractedAmounts?.stateTaxWithheld!==void 0},get children(){var I=wa(),V=I.firstChild,J=V.nextSibling;return J.firstChild,I.style.setProperty("padding","0.75rem"),I.style.setProperty("background","var(--surface-alt, #f9fafb)"),I.style.setProperty("border-radius","6px"),V.style.setProperty("font-size","0.75rem"),V.style.setProperty("color","var(--text-secondary)"),J.style.setProperty("font-weight","600"),t(J,()=>(r()?.extractedAmounts?.stateTaxWithheld||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),I}}),null),t(q,n(p,{get when(){return r()?.extractedAmounts?.localWages!==void 0},get children(){var I=Ca(),V=I.firstChild,J=V.nextSibling;return J.firstChild,I.style.setProperty("padding","0.75rem"),I.style.setProperty("background","var(--surface-alt, #f9fafb)"),I.style.setProperty("border-radius","6px"),V.style.setProperty("font-size","0.75rem"),V.style.setProperty("color","var(--text-secondary)"),J.style.setProperty("font-weight","600"),t(J,()=>(r()?.extractedAmounts?.localWages||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),I}}),null),t(q,n(p,{get when(){return r()?.extractedAmounts?.localTaxWithheld!==void 0},get children(){var I=_a(),V=I.firstChild,J=V.nextSibling;return J.firstChild,I.style.setProperty("padding","0.75rem"),I.style.setProperty("background","var(--surface-alt, #f9fafb)"),I.style.setProperty("border-radius","6px"),V.style.setProperty("font-size","0.75rem"),V.style.setProperty("color","var(--text-secondary)"),J.style.setProperty("font-weight","600"),t(J,()=>(r()?.extractedAmounts?.localTaxWithheld||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),I}}),null),t(Te,n(p,{get when(){return bt(()=>!!r()?.extractedAmounts?.box12Codes)()&&r()?.extractedAmounts?.box12Codes.length>0},get children(){var I=ka(),V=I.firstChild,J=V.firstChild,j=V.nextSibling;return I.style.setProperty("margin-top","1rem"),V.style.setProperty("font-weight","600"),V.style.setProperty("margin-bottom","0.75rem"),V.style.setProperty("display","flex"),V.style.setProperty("align-items","center"),V.style.setProperty("gap","0.5rem"),J.style.setProperty("background","#8b5cf6"),J.style.setProperty("color","white"),J.style.setProperty("padding","0.125rem 0.5rem"),J.style.setProperty("border-radius","4px"),J.style.setProperty("font-size","0.75rem"),j.style.setProperty("display","grid"),j.style.setProperty("grid-template-columns","repeat(2, 1fr)"),j.style.setProperty("gap","0.5rem"),t(j,n(Ht,{get each(){return r()?.extractedAmounts?.box12Codes},children:be=>(()=>{var De=Hd(),_=De.firstChild,ee=_.firstChild,Fe=ee.nextSibling,ct=_.nextSibling;return ct.firstChild,De.style.setProperty("padding","0.75rem"),De.style.setProperty("background","rgba(139, 92, 246, 0.05)"),De.style.setProperty("border","1px solid rgba(139, 92, 246, 0.2)"),De.style.setProperty("border-radius","6px"),_.style.setProperty("font-size","0.75rem"),_.style.setProperty("color","var(--text-secondary)"),_.style.setProperty("display","flex"),_.style.setProperty("align-items","center"),_.style.setProperty("gap","0.5rem"),ee.style.setProperty("background","#8b5cf6"),ee.style.setProperty("color","white"),ee.style.setProperty("padding","0.125rem 0.375rem"),ee.style.setProperty("border-radius","3px"),ee.style.setProperty("font-size","0.7rem"),ee.style.setProperty("font-weight","600"),t(ee,()=>be.code),t(Fe,()=>Qd(be.code)),ct.style.setProperty("font-weight","600"),ct.style.setProperty("margin-top","0.25rem"),t(ct,()=>(be.amount||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),De})()})),I}}),null),t(Te,n(p,{get when(){return bt(()=>!!r()?.extractedAmounts?.box14Items)()&&r()?.extractedAmounts?.box14Items.length>0},get children(){var I=Ia(),V=I.firstChild,J=V.firstChild,j=V.nextSibling;return I.style.setProperty("margin-top","1rem"),V.style.setProperty("font-weight","600"),V.style.setProperty("margin-bottom","0.75rem"),V.style.setProperty("display","flex"),V.style.setProperty("align-items","center"),V.style.setProperty("gap","0.5rem"),J.style.setProperty("background","#f59e0b"),J.style.setProperty("color","white"),J.style.setProperty("padding","0.125rem 0.5rem"),J.style.setProperty("border-radius","4px"),J.style.setProperty("font-size","0.75rem"),j.style.setProperty("display","grid"),j.style.setProperty("grid-template-columns","repeat(2, 1fr)"),j.style.setProperty("gap","0.5rem"),t(j,n(Ht,{get each(){return r()?.extractedAmounts?.box14Items},children:be=>(()=>{var De=Vn(),_=De.firstChild,ee=_.nextSibling;return ee.firstChild,De.style.setProperty("padding","0.75rem"),De.style.setProperty("background","rgba(245, 158, 11, 0.05)"),De.style.setProperty("border","1px solid rgba(245, 158, 11, 0.2)"),De.style.setProperty("border-radius","6px"),_.style.setProperty("font-size","0.75rem"),_.style.setProperty("color","var(--text-secondary)"),t(_,()=>be.label||"Other"),ee.style.setProperty("font-weight","600"),ee.style.setProperty("margin-top","0.25rem"),t(ee,()=>(be.amount||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),De})()})),I}}),null),Te}}),null),t(vt,n(p,{get when(){return r()?.drakeFormType==="1099_nec"},get children(){var Te=Aa(),l=Te.firstChild,P=l.firstChild,b=l.nextSibling,z=b.nextSibling,R=z.nextSibling,i=R.firstChild,g=i.nextSibling;return g.firstChild,Te.style.setProperty("margin-bottom","1.5rem"),l.style.setProperty("font-weight","600"),l.style.setProperty("margin-bottom","0.75rem"),l.style.setProperty("display","flex"),l.style.setProperty("align-items","center"),l.style.setProperty("gap","0.5rem"),P.style.setProperty("background","#8b5cf6"),P.style.setProperty("color","white"),P.style.setProperty("padding","0.125rem 0.5rem"),P.style.setProperty("border-radius","4px"),P.style.setProperty("font-size","0.75rem"),b.style.setProperty("padding","1rem"),b.style.setProperty("background","rgba(139, 92, 246, 0.05)"),b.style.setProperty("border","1px solid rgba(139, 92, 246, 0.2)"),b.style.setProperty("border-radius","8px"),b.style.setProperty("margin-bottom","1rem"),t(b,n(p,{get when(){return r()?.payerInfo?.name},get children(){var u=Kr();return u.style.setProperty("font-weight","600"),u.style.setProperty("font-size","1rem"),u.style.setProperty("margin-bottom","0.25rem"),t(u,()=>r()?.payerInfo?.name),u}}),null),t(b,n(Lr,{get text(){return[r()?.payerInfo?.ein||"","|","|",r()?.payerInfo?.name||"","|","|",r()?.payerInfo?.address||"","|",r()?.payerInfo?.zip||"","|"].join("")||""},handle:qt,label:""}),null),t(b,n(p,{get when(){return r()?.payerInfo?.ein},get children(){var u=Ts();return u.firstChild,u.style.setProperty("font-size","0.875rem"),u.style.setProperty("color","var(--text-secondary)"),t(u,()=>r()?.payerInfo?.ein,null),u}}),null),t(b,n(p,{get when(){return r()?.payerInfo?.address||r()?.payerInfo?.city},get children(){var u=Kr();return u.style.setProperty("font-size","0.875rem"),u.style.setProperty("color","var(--text-secondary)"),u.style.setProperty("margin-top","0.25rem"),t(u,()=>r()?.payerInfo?.address,null),t(u,(()=>{var m=bt(()=>!!r()?.payerInfo?.city);return()=>m()&&`, ${r()?.payerInfo?.city}`})(),null),t(u,(()=>{var m=bt(()=>!!r()?.payerInfo?.state);return()=>m()&&`, ${r()?.payerInfo?.state}`})(),null),t(u,(()=>{var m=bt(()=>!!r()?.payerInfo?.zip);return()=>m()&&` ${r()?.payerInfo?.zip}`})(),null),u}}),null),z.style.setProperty("font-weight","600"),z.style.setProperty("margin-bottom","0.75rem"),R.style.setProperty("padding","1.25rem"),R.style.setProperty("background","linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(168, 85, 247, 0.1))"),R.style.setProperty("border-radius","8px"),R.style.setProperty("text-align","center"),i.style.setProperty("font-size","0.875rem"),i.style.setProperty("color","var(--text-secondary)"),i.style.setProperty("margin-bottom","0.25rem"),g.style.setProperty("font-size","2rem"),g.style.setProperty("font-weight","700"),g.style.setProperty("color","#8b5cf6"),t(g,()=>(r()?.extractedAmounts?.nonEmployeeCompensation||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),Te}}),null),t(vt,n(p,{get when(){return r()?.drakeFormType==="1099_misc"},get children(){var Te=Ra(),l=Te.firstChild,P=l.firstChild,b=l.nextSibling,z=b.nextSibling,R=z.nextSibling;return Te.style.setProperty("margin-bottom","1.5rem"),l.style.setProperty("font-weight","600"),l.style.setProperty("margin-bottom","0.75rem"),l.style.setProperty("display","flex"),l.style.setProperty("align-items","center"),l.style.setProperty("gap","0.5rem"),P.style.setProperty("background","#f59e0b"),P.style.setProperty("color","white"),P.style.setProperty("padding","0.125rem 0.5rem"),P.style.setProperty("border-radius","4px"),P.style.setProperty("font-size","0.75rem"),b.style.setProperty("padding","1rem"),b.style.setProperty("background","rgba(245, 158, 11, 0.05)"),b.style.setProperty("border","1px solid rgba(245, 158, 11, 0.2)"),b.style.setProperty("border-radius","8px"),b.style.setProperty("margin-bottom","1rem"),t(b,n(p,{get when(){return r()?.payerInfo?.name},get children(){var i=Kr();return i.style.setProperty("font-weight","600"),i.style.setProperty("font-size","1rem"),i.style.setProperty("margin-bottom","0.25rem"),t(i,()=>r()?.payerInfo?.name),i}}),null),t(b,n(Lr,{get text(){return[r()?.payerInfo?.ein||"","|",r()?.payerInfo?.name||"","|","|",r()?.payerInfo?.address||"","|",r()?.payerInfo?.zip||"","|"].join("")||""},handle:qt,label:""}),null),t(b,n(p,{get when(){return r()?.payerInfo?.ein},get children(){var i=Ts();return i.firstChild,i.style.setProperty("font-size","0.875rem"),i.style.setProperty("color","var(--text-secondary)"),t(i,()=>r()?.payerInfo?.ein,null),i}}),null),t(b,n(p,{get when(){return r()?.payerInfo?.address||r()?.payerInfo?.city},get children(){var i=Kr();return i.style.setProperty("font-size","0.875rem"),i.style.setProperty("color","var(--text-secondary)"),i.style.setProperty("margin-top","0.25rem"),t(i,()=>r()?.payerInfo?.address,null),t(i,(()=>{var g=bt(()=>!!r()?.payerInfo?.city);return()=>g()&&`, ${r()?.payerInfo?.city}`})(),null),t(i,(()=>{var g=bt(()=>!!r()?.payerInfo?.state);return()=>g()&&`, ${r()?.payerInfo?.state}`})(),null),t(i,(()=>{var g=bt(()=>!!r()?.payerInfo?.zip);return()=>g()&&` ${r()?.payerInfo?.zip}`})(),null),i}}),null),z.style.setProperty("font-weight","600"),z.style.setProperty("margin-bottom","0.75rem"),R.style.setProperty("display","grid"),R.style.setProperty("grid-template-columns","repeat(2, 1fr)"),R.style.setProperty("gap","0.5rem"),t(R,n(p,{get when(){return r()?.extractedAmounts?.rents!==void 0},get children(){var i=Na(),g=i.firstChild,u=g.nextSibling;return u.firstChild,i.style.setProperty("padding","0.75rem"),i.style.setProperty("background","var(--surface-alt, #f9fafb)"),i.style.setProperty("border-radius","6px"),g.style.setProperty("font-size","0.75rem"),g.style.setProperty("color","var(--text-secondary)"),u.style.setProperty("font-weight","600"),t(u,()=>(r()?.extractedAmounts?.rents||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),i}}),null),t(R,n(p,{get when(){return r()?.extractedAmounts?.royalties!==void 0},get children(){var i=za(),g=i.firstChild,u=g.nextSibling;return u.firstChild,i.style.setProperty("padding","0.75rem"),i.style.setProperty("background","var(--surface-alt, #f9fafb)"),i.style.setProperty("border-radius","6px"),g.style.setProperty("font-size","0.75rem"),g.style.setProperty("color","var(--text-secondary)"),u.style.setProperty("font-weight","600"),t(u,()=>(r()?.extractedAmounts?.royalties||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),i}}),null),t(R,n(p,{get when(){return r()?.extractedAmounts?.otherIncome!==void 0},get children(){var i=Da(),g=i.firstChild,u=g.nextSibling;return u.firstChild,i.style.setProperty("padding","0.75rem"),i.style.setProperty("background","var(--surface-alt, #f9fafb)"),i.style.setProperty("border-radius","6px"),g.style.setProperty("font-size","0.75rem"),g.style.setProperty("color","var(--text-secondary)"),u.style.setProperty("font-weight","600"),t(u,()=>(r()?.extractedAmounts?.otherIncome||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),i}}),null),Te}}),null),t(vt,n(p,{get when(){return r()?.drakeFormType==="1099_int"},get children(){var Te=Fa(),l=Te.firstChild,P=l.firstChild,b=l.nextSibling,z=b.nextSibling,R=z.nextSibling,i=R.firstChild,g=i.nextSibling;return g.firstChild,Te.style.setProperty("margin-bottom","1.5rem"),l.style.setProperty("font-weight","600"),l.style.setProperty("margin-bottom","0.75rem"),l.style.setProperty("display","flex"),l.style.setProperty("align-items","center"),l.style.setProperty("gap","0.5rem"),P.style.setProperty("background","#22c55e"),P.style.setProperty("color","white"),P.style.setProperty("padding","0.125rem 0.5rem"),P.style.setProperty("border-radius","4px"),P.style.setProperty("font-size","0.75rem"),b.style.setProperty("padding","1rem"),b.style.setProperty("background","rgba(34, 197, 94, 0.05)"),b.style.setProperty("border","1px solid rgba(34, 197, 94, 0.2)"),b.style.setProperty("border-radius","8px"),b.style.setProperty("margin-bottom","1rem"),t(b,n(p,{get when(){return r()?.payerInfo?.name},get children(){var u=Kr();return u.style.setProperty("font-weight","600"),u.style.setProperty("font-size","1rem"),u.style.setProperty("margin-bottom","0.25rem"),t(u,()=>r()?.payerInfo?.name),u}}),null),t(b,n(p,{get when(){return r()?.payerInfo?.ein},get children(){var u=Ts();return u.firstChild,u.style.setProperty("font-size","0.875rem"),u.style.setProperty("color","var(--text-secondary)"),t(u,()=>r()?.payerInfo?.ein,null),u}}),null),t(b,n(p,{get when(){return r()?.payerInfo?.address||r()?.payerInfo?.city},get children(){var u=Kr();return u.style.setProperty("font-size","0.875rem"),u.style.setProperty("color","var(--text-secondary)"),u.style.setProperty("margin-top","0.25rem"),t(u,()=>r()?.payerInfo?.address,null),t(u,(()=>{var m=bt(()=>!!r()?.payerInfo?.city);return()=>m()&&`, ${r()?.payerInfo?.city}`})(),null),t(u,(()=>{var m=bt(()=>!!r()?.payerInfo?.state);return()=>m()&&`, ${r()?.payerInfo?.state}`})(),null),t(u,(()=>{var m=bt(()=>!!r()?.payerInfo?.zip);return()=>m()&&` ${r()?.payerInfo?.zip}`})(),null),u}}),null),z.style.setProperty("font-weight","600"),z.style.setProperty("margin-bottom","0.75rem"),R.style.setProperty("padding","1.25rem"),R.style.setProperty("background","linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(16, 185, 129, 0.1))"),R.style.setProperty("border-radius","8px"),R.style.setProperty("text-align","center"),i.style.setProperty("font-size","0.875rem"),i.style.setProperty("color","var(--text-secondary)"),i.style.setProperty("margin-bottom","0.25rem"),g.style.setProperty("font-size","2rem"),g.style.setProperty("font-weight","700"),g.style.setProperty("color","#22c55e"),t(g,()=>(r()?.extractedAmounts?.interestIncome||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),Te}}),null),t(vt,n(p,{get when(){return r()?.drakeFormType==="1099_div"},get children(){var Te=Ba(),l=Te.firstChild,P=l.firstChild,b=l.nextSibling,z=b.nextSibling,R=z.nextSibling;return Te.style.setProperty("margin-bottom","1.5rem"),l.style.setProperty("font-weight","600"),l.style.setProperty("margin-bottom","0.75rem"),l.style.setProperty("display","flex"),l.style.setProperty("align-items","center"),l.style.setProperty("gap","0.5rem"),P.style.setProperty("background","#06b6d4"),P.style.setProperty("color","white"),P.style.setProperty("padding","0.125rem 0.5rem"),P.style.setProperty("border-radius","4px"),P.style.setProperty("font-size","0.75rem"),b.style.setProperty("padding","1rem"),b.style.setProperty("background","rgba(6, 182, 212, 0.05)"),b.style.setProperty("border","1px solid rgba(6, 182, 212, 0.2)"),b.style.setProperty("border-radius","8px"),b.style.setProperty("margin-bottom","1rem"),t(b,n(p,{get when(){return r()?.payerInfo?.name},get children(){var i=Kr();return i.style.setProperty("font-weight","600"),i.style.setProperty("font-size","1rem"),i.style.setProperty("margin-bottom","0.25rem"),t(i,()=>r()?.payerInfo?.name),i}}),null),t(b,n(p,{get when(){return r()?.payerInfo?.ein},get children(){var i=Ts();return i.firstChild,i.style.setProperty("font-size","0.875rem"),i.style.setProperty("color","var(--text-secondary)"),t(i,()=>r()?.payerInfo?.ein,null),i}}),null),t(b,n(p,{get when(){return r()?.payerInfo?.address||r()?.payerInfo?.city},get children(){var i=Kr();return i.style.setProperty("font-size","0.875rem"),i.style.setProperty("color","var(--text-secondary)"),i.style.setProperty("margin-top","0.25rem"),t(i,()=>r()?.payerInfo?.address,null),t(i,(()=>{var g=bt(()=>!!r()?.payerInfo?.city);return()=>g()&&`, ${r()?.payerInfo?.city}`})(),null),t(i,(()=>{var g=bt(()=>!!r()?.payerInfo?.state);return()=>g()&&`, ${r()?.payerInfo?.state}`})(),null),t(i,(()=>{var g=bt(()=>!!r()?.payerInfo?.zip);return()=>g()&&` ${r()?.payerInfo?.zip}`})(),null),i}}),null),z.style.setProperty("font-weight","600"),z.style.setProperty("margin-bottom","0.75rem"),R.style.setProperty("display","grid"),R.style.setProperty("grid-template-columns","repeat(2, 1fr)"),R.style.setProperty("gap","0.5rem"),t(R,n(p,{get when(){return r()?.extractedAmounts?.ordinaryDividends!==void 0},get children(){var i=Ea(),g=i.firstChild,u=g.nextSibling;return u.firstChild,i.style.setProperty("padding","0.75rem"),i.style.setProperty("background","var(--surface-alt, #f9fafb)"),i.style.setProperty("border-radius","6px"),g.style.setProperty("font-size","0.75rem"),g.style.setProperty("color","var(--text-secondary)"),u.style.setProperty("font-weight","600"),u.style.setProperty("font-size","1.125rem"),u.style.setProperty("color","#06b6d4"),t(u,()=>(r()?.extractedAmounts?.ordinaryDividends||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),i}}),null),t(R,n(p,{get when(){return r()?.extractedAmounts?.qualifiedDividends!==void 0},get children(){var i=La(),g=i.firstChild,u=g.nextSibling;return u.firstChild,i.style.setProperty("padding","0.75rem"),i.style.setProperty("background","var(--surface-alt, #f9fafb)"),i.style.setProperty("border-radius","6px"),g.style.setProperty("font-size","0.75rem"),g.style.setProperty("color","var(--text-secondary)"),u.style.setProperty("font-weight","600"),u.style.setProperty("font-size","1.125rem"),u.style.setProperty("color","#06b6d4"),t(u,()=>(r()?.extractedAmounts?.qualifiedDividends||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),i}}),null),t(R,n(p,{get when(){return r()?.extractedAmounts?.capitalGains!==void 0},get children(){var i=Ma(),g=i.firstChild,u=g.nextSibling;return u.firstChild,i.style.setProperty("padding","0.75rem"),i.style.setProperty("background","var(--surface-alt, #f9fafb)"),i.style.setProperty("border-radius","6px"),g.style.setProperty("font-size","0.75rem"),g.style.setProperty("color","var(--text-secondary)"),u.style.setProperty("font-weight","600"),t(u,()=>(r()?.extractedAmounts?.capitalGains||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),i}}),null),Te}}),null),t(vt,n(p,{get when(){return r()?.drakeFormType==="1099_r"||r()?.documentType==="1099-R"},get children(){var Te=Xa(),l=Te.firstChild,P=l.firstChild,b=l.nextSibling,z=b.nextSibling,R=z.firstChild,i=z.nextSibling,g=i.firstChild,u=g.firstChild,m=u.nextSibling;m.firstChild;var q=g.nextSibling,I=q.firstChild,V=I.nextSibling;V.firstChild;var J=i.nextSibling;return Te.style.setProperty("margin-bottom","1.5rem"),l.style.setProperty("font-weight","600"),l.style.setProperty("margin-bottom","0.75rem"),l.style.setProperty("display","flex"),l.style.setProperty("align-items","center"),l.style.setProperty("gap","0.5rem"),P.style.setProperty("background","#ec4899"),P.style.setProperty("color","white"),P.style.setProperty("padding","0.125rem 0.5rem"),P.style.setProperty("border-radius","4px"),P.style.setProperty("font-size","0.75rem"),b.style.setProperty("padding","1rem"),b.style.setProperty("background","rgba(236, 72, 153, 0.05)"),b.style.setProperty("border","1px solid rgba(236, 72, 153, 0.2)"),b.style.setProperty("border-radius","8px"),b.style.setProperty("margin-bottom","1rem"),t(b,n(p,{get when(){return r()?.payerInfo?.name},get children(){var j=Kr();return j.style.setProperty("font-weight","600"),j.style.setProperty("font-size","1rem"),j.style.setProperty("margin-bottom","0.25rem"),t(j,()=>r()?.payerInfo?.name),j}}),null),t(b,n(Lr,{get text(){return[r()?.payerInfo?.ein||"","|",r()?.payerInfo?.name||"","|",r()?.payerInfo?.address||"","|",(r()?.payerInfo?.city||"")+" "+(r()?.payerInfo?.state||""),"|",r()?.payerInfo?.zip||"","|"].join("")||""},handle:qt,label:"Payer"}),null),t(b,n(p,{get when(){return r()?.payerInfo?.ein},get children(){var j=Ts();return j.firstChild,j.style.setProperty("font-size","0.875rem"),j.style.setProperty("color","var(--text-secondary)"),t(j,()=>r()?.payerInfo?.ein,null),j}}),null),t(b,n(p,{get when(){return r()?.payerInfo?.address||r()?.payerInfo?.city},get children(){var j=Kr();return j.style.setProperty("font-size","0.875rem"),j.style.setProperty("color","var(--text-secondary)"),j.style.setProperty("margin-top","0.25rem"),t(j,()=>r()?.payerInfo?.address,null),t(j,(()=>{var be=bt(()=>!!r()?.payerInfo?.city);return()=>be()&&`, ${r()?.payerInfo?.city}`})(),null),t(j,(()=>{var be=bt(()=>!!r()?.payerInfo?.state);return()=>be()&&`, ${r()?.payerInfo?.state}`})(),null),t(j,(()=>{var be=bt(()=>!!r()?.payerInfo?.zip);return()=>be()&&` ${r()?.payerInfo?.zip}`})(),null),j}}),null),z.style.setProperty("margin-bottom","0.75rem"),z.style.setProperty("display","flex"),z.style.setProperty("align-items","center"),z.style.setProperty("gap","0.5rem"),R.style.setProperty("font-weight","600"),t(z,n(Lr,{get text(){return[r()?.extractedAmounts?.grossDistribution||"","|",r()?.extractedAmounts?.taxableAmount||"","|",r()?.extractedAmounts?.taxableAmountNotDetermined?"1":"","|",r()?.extractedAmounts?.totalDistribution?"1":"","|",r()?.extractedAmounts?.capitalGain||"","|",r()?.extractedAmounts?.federalTaxWithheld||"","|",r()?.extractedAmounts?.employeeContributions||"","|",r()?.extractedAmounts?.netUnrealizedAppreciation||"","|",r()?.extractedAmounts?.distributionCode||"","|",r()?.extractedAmounts?.otherAmount||"","|",r()?.extractedAmounts?.percentageTotalDistribution||"","|",r()?.extractedAmounts?.totalEmployeeContributions||"","|",r()?.extractedAmounts?.firstYearOfRoth||"","|"].join("")||""},handle:qt,label:"Amounts"}),null),i.style.setProperty("display","grid"),i.style.setProperty("grid-template-columns","repeat(2, 1fr)"),i.style.setProperty("gap","0.5rem"),i.style.setProperty("margin-bottom","1rem"),g.style.setProperty("padding","0.75rem"),g.style.setProperty("background","linear-gradient(135deg, rgba(236, 72, 153, 0.1), rgba(219, 39, 119, 0.1))"),g.style.setProperty("border-radius","6px"),u.style.setProperty("font-size","0.75rem"),u.style.setProperty("color","var(--text-secondary)"),m.style.setProperty("font-weight","700"),m.style.setProperty("font-size","1.25rem"),m.style.setProperty("color","#ec4899"),t(m,()=>(r()?.extractedAmounts?.grossDistribution||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),q.style.setProperty("padding","0.75rem"),q.style.setProperty("background","linear-gradient(135deg, rgba(236, 72, 153, 0.1), rgba(219, 39, 119, 0.1))"),q.style.setProperty("border-radius","6px"),I.style.setProperty("font-size","0.75rem"),I.style.setProperty("color","var(--text-secondary)"),V.style.setProperty("font-weight","700"),V.style.setProperty("font-size","1.25rem"),V.style.setProperty("color","#ec4899"),t(V,()=>(r()?.extractedAmounts?.taxableAmount||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),J.style.setProperty("display","grid"),J.style.setProperty("grid-template-columns","repeat(3, 1fr)"),J.style.setProperty("gap","0.5rem"),t(J,n(p,{get when(){return r()?.extractedAmounts?.federalTaxWithheld!==void 0},get children(){var j=Gn(),be=j.firstChild,De=be.nextSibling;return De.firstChild,j.style.setProperty("padding","0.75rem"),j.style.setProperty("background","var(--surface-alt, #f9fafb)"),j.style.setProperty("border-radius","6px"),be.style.setProperty("font-size","0.75rem"),be.style.setProperty("color","var(--text-secondary)"),De.style.setProperty("font-weight","600"),t(De,()=>(r()?.extractedAmounts?.federalTaxWithheld||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),j}}),null),t(J,n(p,{get when(){return r()?.extractedAmounts?.employeeContributions!==void 0},get children(){var j=Oa(),be=j.firstChild,De=be.nextSibling;return De.firstChild,j.style.setProperty("padding","0.75rem"),j.style.setProperty("background","var(--surface-alt, #f9fafb)"),j.style.setProperty("border-radius","6px"),be.style.setProperty("font-size","0.75rem"),be.style.setProperty("color","var(--text-secondary)"),De.style.setProperty("font-weight","600"),t(De,()=>(r()?.extractedAmounts?.employeeContributions||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),j}}),null),t(J,n(p,{get when(){return r()?.extractedAmounts?.distributionCode},get children(){var j=ja(),be=j.firstChild,De=be.nextSibling;return j.style.setProperty("padding","0.75rem"),j.style.setProperty("background","var(--surface-alt, #f9fafb)"),j.style.setProperty("border-radius","6px"),be.style.setProperty("font-size","0.75rem"),be.style.setProperty("color","var(--text-secondary)"),De.style.setProperty("font-weight","600"),De.style.setProperty("color","#ec4899"),t(De,()=>r()?.extractedAmounts?.distributionCode),j}}),null),t(J,n(p,{get when(){return bt(()=>r()?.extractedAmounts?.capitalGain!==void 0)()&&r()?.extractedAmounts?.capitalGain>0},get children(){var j=Ua(),be=j.firstChild,De=be.nextSibling;return De.firstChild,j.style.setProperty("padding","0.75rem"),j.style.setProperty("background","var(--surface-alt, #f9fafb)"),j.style.setProperty("border-radius","6px"),be.style.setProperty("font-size","0.75rem"),be.style.setProperty("color","var(--text-secondary)"),De.style.setProperty("font-weight","600"),t(De,()=>(r()?.extractedAmounts?.capitalGain||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),j}}),null),t(J,n(p,{get when(){return bt(()=>r()?.extractedAmounts?.netUnrealizedAppreciation!==void 0)()&&r()?.extractedAmounts?.netUnrealizedAppreciation>0},get children(){var j=Ha(),be=j.firstChild,De=be.nextSibling;return De.firstChild,j.style.setProperty("padding","0.75rem"),j.style.setProperty("background","var(--surface-alt, #f9fafb)"),j.style.setProperty("border-radius","6px"),be.style.setProperty("font-size","0.75rem"),be.style.setProperty("color","var(--text-secondary)"),De.style.setProperty("font-weight","600"),t(De,()=>(r()?.extractedAmounts?.netUnrealizedAppreciation||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),j}}),null),t(J,n(p,{get when(){return r()?.extractedAmounts?.firstYearOfRoth},get children(){var j=Wa(),be=j.firstChild,De=be.nextSibling;return j.style.setProperty("padding","0.75rem"),j.style.setProperty("background","var(--surface-alt, #f9fafb)"),j.style.setProperty("border-radius","6px"),be.style.setProperty("font-size","0.75rem"),be.style.setProperty("color","var(--text-secondary)"),De.style.setProperty("font-weight","600"),t(De,()=>r()?.extractedAmounts?.firstYearOfRoth),j}}),null),t(Te,n(p,{get when(){return r()?.extractedAmounts?.taxableAmountNotDetermined||r()?.extractedAmounts?.totalDistribution},get children(){var j=Kr();return j.style.setProperty("margin-top","0.75rem"),j.style.setProperty("display","flex"),j.style.setProperty("gap","1rem"),j.style.setProperty("font-size","0.875rem"),t(j,n(p,{get when(){return r()?.extractedAmounts?.taxableAmountNotDetermined},get children(){var be=Ya();return be.style.setProperty("color","#ec4899"),be}}),null),t(j,n(p,{get when(){return r()?.extractedAmounts?.totalDistribution},get children(){var be=Ga();return be.style.setProperty("color","#ec4899"),be}}),null),j}}),null),t(Te,n(p,{get when(){return r()?.extractedAmounts?.stateTaxWithheld||r()?.extractedAmounts?.localTaxWithheld},get children(){var j=Qa(),be=j.firstChild;be.firstChild;var De=be.nextSibling;return j.style.setProperty("margin-top","1rem"),be.style.setProperty("font-weight","600"),be.style.setProperty("margin-bottom","0.5rem"),be.style.setProperty("display","flex"),be.style.setProperty("align-items","center"),be.style.setProperty("gap","0.5rem"),t(be,n(Lr,{get text(){return[r()?.payerInfo?.state||"","|",r()?.extractedAmounts?.stateDistribution||r()?.extractedAmounts?.grossDistribution||"","|",r()?.extractedAmounts?.stateTaxWithheld||"","|",r()?.extractedAmounts?.localDistribution||"","|",r()?.extractedAmounts?.localTaxWithheld||"","|",r()?.extractedAmounts?.localityName||"","|"].join("")||""},handle:qt,label:"State"}),null),De.style.setProperty("display","grid"),De.style.setProperty("grid-template-columns","repeat(2, 1fr)"),De.style.setProperty("gap","0.5rem"),t(De,n(p,{get when(){return r()?.extractedAmounts?.stateTaxWithheld!==void 0},get children(){var _=Va(),ee=_.firstChild,Fe=ee.nextSibling;return Fe.firstChild,_.style.setProperty("padding","0.5rem"),_.style.setProperty("background","var(--surface-alt, #f9fafb)"),_.style.setProperty("border-radius","4px"),ee.style.setProperty("font-size","0.75rem"),ee.style.setProperty("color","var(--text-secondary)"),Fe.style.setProperty("font-weight","600"),t(Fe,()=>(r()?.extractedAmounts?.stateTaxWithheld||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),_}}),null),t(De,n(p,{get when(){return r()?.extractedAmounts?.localTaxWithheld!==void 0},get children(){var _=qa(),ee=_.firstChild,Fe=ee.nextSibling;return Fe.firstChild,_.style.setProperty("padding","0.5rem"),_.style.setProperty("background","var(--surface-alt, #f9fafb)"),_.style.setProperty("border-radius","4px"),ee.style.setProperty("font-size","0.75rem"),ee.style.setProperty("color","var(--text-secondary)"),Fe.style.setProperty("font-weight","600"),t(Fe,()=>(r()?.extractedAmounts?.localTaxWithheld||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),_}}),null),j}}),null),Te}}),null),t(vt,n(p,{get when(){return r()?.drakeFormType==="1099_g"||r()?.documentType==="1099-G"},get children(){var Te=yd(),l=Te.firstChild,P=l.firstChild,b=l.nextSibling,z=b.nextSibling,R=z.nextSibling;return Te.style.setProperty("margin-bottom","1.5rem"),l.style.setProperty("font-weight","600"),l.style.setProperty("margin-bottom","0.75rem"),l.style.setProperty("display","flex"),l.style.setProperty("align-items","center"),l.style.setProperty("gap","0.5rem"),P.style.setProperty("background","#0891b2"),P.style.setProperty("color","white"),P.style.setProperty("padding","0.125rem 0.5rem"),P.style.setProperty("border-radius","4px"),P.style.setProperty("font-size","0.75rem"),b.style.setProperty("padding","1rem"),b.style.setProperty("background","rgba(8, 145, 178, 0.05)"),b.style.setProperty("border","1px solid rgba(8, 145, 178, 0.2)"),b.style.setProperty("border-radius","8px"),b.style.setProperty("margin-bottom","1rem"),t(b,n(p,{get when(){return r()?.payerInfo?.name||r()?.extractedData?.payerName},get children(){var i=Kr();return i.style.setProperty("font-weight","600"),i.style.setProperty("font-size","1rem"),i.style.setProperty("margin-bottom","0.25rem"),t(i,()=>r()?.payerInfo?.name||r()?.extractedData?.payerName),i}}),null),t(b,n(p,{get when(){return r()?.payerInfo?.ein||r()?.extractedData?.payerTIN},get children(){var i=Ka();return i.firstChild,i.style.setProperty("font-size","0.875rem"),i.style.setProperty("color","var(--text-secondary)"),t(i,()=>r()?.payerInfo?.ein||r()?.extractedData?.payerTIN,null),i}}),null),t(b,n(p,{get when(){return r()?.extractedData?.payerAddress},get children(){var i=Kr();return i.style.setProperty("font-size","0.875rem"),i.style.setProperty("color","var(--text-secondary)"),i.style.setProperty("margin-top","0.25rem"),t(i,()=>r()?.extractedData?.payerAddress?.fullAddress||`${r()?.extractedData?.payerAddress?.street||""} ${r()?.extractedData?.payerAddress?.city||""}, ${r()?.extractedData?.payerAddress?.state||""} ${r()?.extractedData?.payerAddress?.zipCode||""}`),i}}),null),t(Te,n(p,{get when(){return r()?.extractedData?.recipientName},get children(){var i=Za(),g=i.firstChild,u=g.nextSibling;return i.style.setProperty("padding","0.75rem"),i.style.setProperty("background","rgba(8, 145, 178, 0.05)"),i.style.setProperty("border","1px dashed rgba(8, 145, 178, 0.3)"),i.style.setProperty("border-radius","6px"),i.style.setProperty("margin-bottom","1rem"),g.style.setProperty("font-size","0.75rem"),g.style.setProperty("color","var(--text-secondary)"),g.style.setProperty("margin-bottom","0.25rem"),u.style.setProperty("font-weight","500"),t(u,()=>r()?.extractedData?.recipientName),t(i,n(p,{get when(){return r()?.extractedData?.recipientSSN},get children(){var m=Ja();return m.firstChild,m.style.setProperty("font-size","0.875rem"),m.style.setProperty("color","var(--text-secondary)"),t(m,()=>r()?.extractedData?.recipientSSN,null),m}}),null),i}}),z),z.style.setProperty("font-weight","600"),z.style.setProperty("margin-bottom","0.75rem"),t(Te,n(p,{get when(){return bt(()=>r()?.extractedData?.form1099Data?.rawBoxData?.box1!==void 0)()&&r()?.extractedData?.form1099Data?.rawBoxData?.box1!==null},get children(){var i=ed(),g=i.firstChild,u=g.nextSibling;return u.firstChild,i.style.setProperty("padding","1.25rem"),i.style.setProperty("background","linear-gradient(135deg, rgba(8, 145, 178, 0.1), rgba(6, 182, 212, 0.1))"),i.style.setProperty("border-radius","8px"),i.style.setProperty("text-align","center"),i.style.setProperty("margin-bottom","0.75rem"),g.style.setProperty("font-size","0.875rem"),g.style.setProperty("color","var(--text-secondary)"),g.style.setProperty("margin-bottom","0.25rem"),u.style.setProperty("font-size","2rem"),u.style.setProperty("font-weight","700"),u.style.setProperty("color","#0891b2"),t(u,()=>(r()?.extractedData?.form1099Data?.rawBoxData?.box1||r()?.extractedAmounts?.unemploymentCompensation||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),i}}),R),R.style.setProperty("display","grid"),R.style.setProperty("grid-template-columns","repeat(2, 1fr)"),R.style.setProperty("gap","0.5rem"),t(R,n(p,{get when(){return r()?.extractedData?.form1099Data?.rawBoxData?.box2},get children(){var i=td(),g=i.firstChild,u=g.nextSibling;return u.firstChild,i.style.setProperty("padding","0.75rem"),i.style.setProperty("background","var(--surface-alt, #f9fafb)"),i.style.setProperty("border-radius","6px"),g.style.setProperty("font-size","0.75rem"),g.style.setProperty("color","var(--text-secondary)"),u.style.setProperty("font-weight","600"),t(u,()=>(r()?.extractedData?.form1099Data?.rawBoxData?.box2||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),i}}),null),t(R,n(p,{get when(){return r()?.extractedData?.form1099Data?.rawBoxData?.box3},get children(){var i=rd(),g=i.firstChild,u=g.nextSibling;return i.style.setProperty("padding","0.75rem"),i.style.setProperty("background","var(--surface-alt, #f9fafb)"),i.style.setProperty("border-radius","6px"),g.style.setProperty("font-size","0.75rem"),g.style.setProperty("color","var(--text-secondary)"),u.style.setProperty("font-weight","600"),t(u,()=>r()?.extractedData?.form1099Data?.rawBoxData?.box3),i}}),null),t(R,n(p,{get when(){return r()?.extractedData?.form1099Data?.federalIncomeTaxWithheld!==void 0||r()?.extractedData?.form1099Data?.rawBoxData?.box4!==void 0},get children(){var i=Gn(),g=i.firstChild,u=g.nextSibling;return u.firstChild,i.style.setProperty("padding","0.75rem"),i.style.setProperty("background","var(--surface-alt, #f9fafb)"),i.style.setProperty("border-radius","6px"),g.style.setProperty("font-size","0.75rem"),g.style.setProperty("color","var(--text-secondary)"),u.style.setProperty("font-weight","600"),u.style.setProperty("color","#059669"),t(u,()=>(r()?.extractedData?.form1099Data?.federalIncomeTaxWithheld??r()?.extractedData?.form1099Data?.rawBoxData?.box4??0).toLocaleString("en-US",{minimumFractionDigits:2}),null),i}}),null),t(R,n(p,{get when(){return r()?.extractedData?.form1099Data?.rawBoxData?.box5},get children(){var i=sd(),g=i.firstChild,u=g.nextSibling;return u.firstChild,i.style.setProperty("padding","0.75rem"),i.style.setProperty("background","var(--surface-alt, #f9fafb)"),i.style.setProperty("border-radius","6px"),g.style.setProperty("font-size","0.75rem"),g.style.setProperty("color","var(--text-secondary)"),u.style.setProperty("font-weight","600"),t(u,()=>(r()?.extractedData?.form1099Data?.rawBoxData?.box5||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),i}}),null),t(R,n(p,{get when(){return r()?.extractedData?.form1099Data?.rawBoxData?.box6},get children(){var i=nd(),g=i.firstChild,u=g.nextSibling;return u.firstChild,i.style.setProperty("padding","0.75rem"),i.style.setProperty("background","var(--surface-alt, #f9fafb)"),i.style.setProperty("border-radius","6px"),g.style.setProperty("font-size","0.75rem"),g.style.setProperty("color","var(--text-secondary)"),u.style.setProperty("font-weight","600"),t(u,()=>(r()?.extractedData?.form1099Data?.rawBoxData?.box6||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),i}}),null),t(R,n(p,{get when(){return r()?.extractedData?.form1099Data?.rawBoxData?.box7},get children(){var i=od(),g=i.firstChild,u=g.nextSibling;return u.firstChild,i.style.setProperty("padding","0.75rem"),i.style.setProperty("background","var(--surface-alt, #f9fafb)"),i.style.setProperty("border-radius","6px"),g.style.setProperty("font-size","0.75rem"),g.style.setProperty("color","var(--text-secondary)"),u.style.setProperty("font-weight","600"),t(u,()=>(r()?.extractedData?.form1099Data?.rawBoxData?.box7||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),i}}),null),t(Te,n(p,{get when(){return r()?.extractedData?.form1099Data?.rawBoxData?.box10a||r()?.extractedData?.form1099Data?.rawBoxData?.box10b||r()?.extractedData?.form1099Data?.stateIncomeTaxWithheld!==void 0},get children(){var i=dd(),g=i.firstChild,u=g.nextSibling;return i.style.setProperty("margin-top","1rem"),g.style.setProperty("font-weight","600"),g.style.setProperty("margin-bottom","0.5rem"),g.style.setProperty("font-size","0.9rem"),u.style.setProperty("display","grid"),u.style.setProperty("grid-template-columns","repeat(3, 1fr)"),u.style.setProperty("gap","0.5rem"),t(u,n(p,{get when(){return r()?.extractedData?.form1099Data?.rawBoxData?.box10a},get children(){var m=id(),q=m.firstChild,I=q.nextSibling;return m.style.setProperty("padding","0.5rem"),m.style.setProperty("background","var(--surface-alt, #f9fafb)"),m.style.setProperty("border-radius","6px"),q.style.setProperty("font-size","0.7rem"),q.style.setProperty("color","var(--text-secondary)"),I.style.setProperty("font-weight","600"),t(I,()=>r()?.extractedData?.form1099Data?.rawBoxData?.box10a),m}}),null),t(u,n(p,{get when(){return r()?.extractedData?.form1099Data?.rawBoxData?.box10b},get children(){var m=ld(),q=m.firstChild,I=q.nextSibling;return m.style.setProperty("padding","0.5rem"),m.style.setProperty("background","var(--surface-alt, #f9fafb)"),m.style.setProperty("border-radius","6px"),q.style.setProperty("font-size","0.7rem"),q.style.setProperty("color","var(--text-secondary)"),I.style.setProperty("font-weight","600"),I.style.setProperty("font-size","0.85rem"),t(I,()=>r()?.extractedData?.form1099Data?.rawBoxData?.box10b),m}}),null),t(u,n(p,{get when(){return r()?.extractedData?.form1099Data?.stateIncomeTaxWithheld!==void 0||r()?.extractedData?.form1099Data?.rawBoxData?.box11!==void 0},get children(){var m=ad(),q=m.firstChild,I=q.nextSibling;return I.firstChild,m.style.setProperty("padding","0.5rem"),m.style.setProperty("background","var(--surface-alt, #f9fafb)"),m.style.setProperty("border-radius","6px"),q.style.setProperty("font-size","0.7rem"),q.style.setProperty("color","var(--text-secondary)"),I.style.setProperty("font-weight","600"),I.style.setProperty("color","#059669"),t(I,()=>(r()?.extractedData?.form1099Data?.stateIncomeTaxWithheld??r()?.extractedData?.form1099Data?.rawBoxData?.box11??0).toLocaleString("en-US",{minimumFractionDigits:2}),null),m}}),null),i}}),null),Te}}),null),t(vt,n(p,{get when(){return r()?.drakeFormType==="1098"},get children(){var Te=md(),l=Te.firstChild,P=l.firstChild,b=l.nextSibling,z=b.nextSibling,R=z.nextSibling;return Te.style.setProperty("margin-bottom","1.5rem"),l.style.setProperty("font-weight","600"),l.style.setProperty("margin-bottom","0.75rem"),l.style.setProperty("display","flex"),l.style.setProperty("align-items","center"),l.style.setProperty("gap","0.5rem"),P.style.setProperty("background","#ec4899"),P.style.setProperty("color","white"),P.style.setProperty("padding","0.125rem 0.5rem"),P.style.setProperty("border-radius","4px"),P.style.setProperty("font-size","0.75rem"),b.style.setProperty("padding","1rem"),b.style.setProperty("background","rgba(236, 72, 153, 0.05)"),b.style.setProperty("border","1px solid rgba(236, 72, 153, 0.2)"),b.style.setProperty("border-radius","8px"),b.style.setProperty("margin-bottom","1rem"),t(b,n(p,{get when(){return r()?.payerInfo?.name},get children(){var i=Kr();return i.style.setProperty("font-weight","600"),i.style.setProperty("font-size","1rem"),i.style.setProperty("margin-bottom","0.25rem"),t(i,()=>r()?.payerInfo?.name),i}}),null),t(b,n(p,{get when(){return r()?.payerInfo?.ein},get children(){var i=Ts();return i.firstChild,i.style.setProperty("font-size","0.875rem"),i.style.setProperty("color","var(--text-secondary)"),t(i,()=>r()?.payerInfo?.ein,null),i}}),null),t(b,n(p,{get when(){return r()?.payerInfo?.address||r()?.payerInfo?.city},get children(){var i=Kr();return i.style.setProperty("font-size","0.875rem"),i.style.setProperty("color","var(--text-secondary)"),i.style.setProperty("margin-top","0.25rem"),t(i,()=>r()?.payerInfo?.address,null),t(i,(()=>{var g=bt(()=>!!r()?.payerInfo?.city);return()=>g()&&`, ${r()?.payerInfo?.city}`})(),null),t(i,(()=>{var g=bt(()=>!!r()?.payerInfo?.state);return()=>g()&&`, ${r()?.payerInfo?.state}`})(),null),t(i,(()=>{var g=bt(()=>!!r()?.payerInfo?.zip);return()=>g()&&` ${r()?.payerInfo?.zip}`})(),null),i}}),null),z.style.setProperty("font-weight","600"),z.style.setProperty("margin-bottom","0.75rem"),R.style.setProperty("display","grid"),R.style.setProperty("grid-template-columns","repeat(2, 1fr)"),R.style.setProperty("gap","0.5rem"),t(R,n(p,{get when(){return r()?.extractedAmounts?.mortgageInterest!==void 0},get children(){var i=cd(),g=i.firstChild,u=g.nextSibling;return u.firstChild,i.style.setProperty("padding","0.75rem"),i.style.setProperty("background","var(--surface-alt, #f9fafb)"),i.style.setProperty("border-radius","6px"),g.style.setProperty("font-size","0.75rem"),g.style.setProperty("color","var(--text-secondary)"),u.style.setProperty("font-weight","600"),u.style.setProperty("font-size","1.125rem"),u.style.setProperty("color","#ec4899"),t(u,()=>(r()?.extractedAmounts?.mortgageInterest||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),i}}),null),t(R,n(p,{get when(){return r()?.extractedAmounts?.propertyTaxes!==void 0},get children(){var i=pd(),g=i.firstChild,u=g.nextSibling;return u.firstChild,i.style.setProperty("padding","0.75rem"),i.style.setProperty("background","var(--surface-alt, #f9fafb)"),i.style.setProperty("border-radius","6px"),g.style.setProperty("font-size","0.75rem"),g.style.setProperty("color","var(--text-secondary)"),u.style.setProperty("font-weight","600"),u.style.setProperty("font-size","1.125rem"),t(u,()=>(r()?.extractedAmounts?.propertyTaxes||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),i}}),null),t(R,n(p,{get when(){return r()?.extractedAmounts?.mortgageInsurance!==void 0},get children(){var i=ud(),g=i.firstChild,u=g.nextSibling;return u.firstChild,i.style.setProperty("padding","0.75rem"),i.style.setProperty("background","var(--surface-alt, #f9fafb)"),i.style.setProperty("border-radius","6px"),g.style.setProperty("font-size","0.75rem"),g.style.setProperty("color","var(--text-secondary)"),u.style.setProperty("font-weight","600"),t(u,()=>(r()?.extractedAmounts?.mortgageInsurance||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),i}}),null),Te}}),null),t(vt,n(p,{get when(){return r()?.drakeFormType==="1098_t"},get children(){var Te=hd(),l=Te.firstChild,P=l.firstChild,b=l.nextSibling,z=b.nextSibling,R=z.nextSibling;return Te.style.setProperty("margin-bottom","1.5rem"),l.style.setProperty("font-weight","600"),l.style.setProperty("margin-bottom","0.75rem"),l.style.setProperty("display","flex"),l.style.setProperty("align-items","center"),l.style.setProperty("gap","0.5rem"),P.style.setProperty("background","#14b8a6"),P.style.setProperty("color","white"),P.style.setProperty("padding","0.125rem 0.5rem"),P.style.setProperty("border-radius","4px"),P.style.setProperty("font-size","0.75rem"),b.style.setProperty("padding","1rem"),b.style.setProperty("background","rgba(20, 184, 166, 0.05)"),b.style.setProperty("border","1px solid rgba(20, 184, 166, 0.2)"),b.style.setProperty("border-radius","8px"),b.style.setProperty("margin-bottom","1rem"),t(b,n(p,{get when(){return r()?.payerInfo?.name},get children(){var i=Kr();return i.style.setProperty("font-weight","600"),i.style.setProperty("font-size","1rem"),i.style.setProperty("margin-bottom","0.25rem"),t(i,()=>r()?.payerInfo?.name),i}}),null),t(b,n(p,{get when(){return r()?.payerInfo?.ein},get children(){var i=Ts();return i.firstChild,i.style.setProperty("font-size","0.875rem"),i.style.setProperty("color","var(--text-secondary)"),t(i,()=>r()?.payerInfo?.ein,null),i}}),null),t(b,n(p,{get when(){return r()?.payerInfo?.address||r()?.payerInfo?.city},get children(){var i=Kr();return i.style.setProperty("font-size","0.875rem"),i.style.setProperty("color","var(--text-secondary)"),i.style.setProperty("margin-top","0.25rem"),t(i,()=>r()?.payerInfo?.address,null),t(i,(()=>{var g=bt(()=>!!r()?.payerInfo?.city);return()=>g()&&`, ${r()?.payerInfo?.city}`})(),null),t(i,(()=>{var g=bt(()=>!!r()?.payerInfo?.state);return()=>g()&&`, ${r()?.payerInfo?.state}`})(),null),t(i,(()=>{var g=bt(()=>!!r()?.payerInfo?.zip);return()=>g()&&` ${r()?.payerInfo?.zip}`})(),null),i}}),null),z.style.setProperty("font-weight","600"),z.style.setProperty("margin-bottom","0.75rem"),R.style.setProperty("display","grid"),R.style.setProperty("grid-template-columns","repeat(2, 1fr)"),R.style.setProperty("gap","0.5rem"),t(R,n(p,{get when(){return r()?.extractedAmounts?.tuitionPaid!==void 0},get children(){var i=gd(),g=i.firstChild,u=g.nextSibling;return u.firstChild,i.style.setProperty("padding","0.75rem"),i.style.setProperty("background","var(--surface-alt, #f9fafb)"),i.style.setProperty("border-radius","6px"),g.style.setProperty("font-size","0.75rem"),g.style.setProperty("color","var(--text-secondary)"),u.style.setProperty("font-weight","600"),u.style.setProperty("font-size","1.125rem"),u.style.setProperty("color","#14b8a6"),t(u,()=>(r()?.extractedAmounts?.tuitionPaid||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),i}}),null),t(R,n(p,{get when(){return r()?.extractedAmounts?.scholarshipsGrants!==void 0},get children(){var i=fd(),g=i.firstChild,u=g.nextSibling;return u.firstChild,i.style.setProperty("padding","0.75rem"),i.style.setProperty("background","var(--surface-alt, #f9fafb)"),i.style.setProperty("border-radius","6px"),g.style.setProperty("font-size","0.75rem"),g.style.setProperty("color","var(--text-secondary)"),u.style.setProperty("font-weight","600"),u.style.setProperty("font-size","1.125rem"),t(u,()=>(r()?.extractedAmounts?.scholarshipsGrants||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),i}}),null),Te}}),null),t(vt,n(p,{get when(){return r()?.drakeFormType==="1095_a"||r()?.documentType?.toLowerCase().includes("1095")},get children(){var Te=xd(),l=Te.firstChild,P=l.firstChild,b=l.nextSibling,z=b.firstChild,R=b.nextSibling,i=R.firstChild,g=R.nextSibling,u=g.firstChild,m=u.firstChild,q=m.nextSibling;q.firstChild;var I=u.nextSibling,V=I.firstChild,J=V.nextSibling;J.firstChild;var j=I.nextSibling,be=j.firstChild,De=be.nextSibling;De.firstChild;var _=g.nextSibling,ee=_.firstChild,Fe=ee.nextSibling,ct=Fe.firstChild,At=ct.firstChild;return Te.style.setProperty("margin-bottom","1.5rem"),l.style.setProperty("font-weight","600"),l.style.setProperty("margin-bottom","0.75rem"),l.style.setProperty("display","flex"),l.style.setProperty("align-items","center"),l.style.setProperty("gap","0.5rem"),P.style.setProperty("background","#7c3aed"),P.style.setProperty("color","white"),P.style.setProperty("padding","0.125rem 0.5rem"),P.style.setProperty("border-radius","4px"),P.style.setProperty("font-size","0.75rem"),b.style.setProperty("padding","1rem"),b.style.setProperty("background","rgba(124, 58, 237, 0.05)"),b.style.setProperty("border","1px solid rgba(124, 58, 237, 0.2)"),b.style.setProperty("border-radius","8px"),b.style.setProperty("margin-bottom","1rem"),t(b,n(p,{get when(){return r()?.payerInfo?.name},get children(){var Nt=Kr();return Nt.style.setProperty("font-weight","600"),Nt.style.setProperty("font-size","1rem"),Nt.style.setProperty("margin-bottom","0.25rem"),t(Nt,()=>r()?.payerInfo?.name),Nt}}),z),t(b,n(Lr,{get text(){return[r()?.payerInfo?.marketplace?.marketplaceIdentifier||"","|",r()?.payerInfo?.marketplace?.policyNumber||"","|","|",r()?.payerInfo?.name||"","|","|",Jr(r()?.payerInfo?.marketplace?.policyStartDate)||"","|",Jr(r()?.payerInfo?.marketplace?.policyEndDate)||"","|"].join("")||""},handle:qt,label:""}),z),t(b,n(p,{get when(){return r()?.payerInfo?.ein},get children(){var Nt=vd();return Nt.firstChild,Nt.style.setProperty("font-size","0.875rem"),Nt.style.setProperty("color","var(--text-secondary)"),t(Nt,()=>r()?.payerInfo?.ein,null),Nt}}),z),z.style.setProperty("font-size","0.875rem"),z.style.setProperty("color","var(--text-secondary)"),z.style.setProperty("margin-top","0.5rem"),z.style.setProperty("font-style","italic"),R.style.setProperty("display","grid"),R.style.setProperty("grid-template-columns","repeat(3, 1fr)"),R.style.setProperty("gap","0.5rem"),R.style.setProperty("margin-bottom","1rem"),i.style.setProperty("font-weight","600"),i.style.setProperty("margin-bottom","0.75rem"),t(R,n(Lr,{get text(){return[r()?.extractedAmounts?.annualPremiumAmount||"","|",r()?.extractedAmounts?.annualSlcspPremium||"","|",r()?.extractedAmounts?.annualAdvancePtc||""].join("")||""},handle:qt,label:""}),null),g.style.setProperty("display","grid"),g.style.setProperty("grid-template-columns","repeat(3, 1fr)"),g.style.setProperty("gap","0.5rem"),g.style.setProperty("margin-bottom","1rem"),u.style.setProperty("padding","1rem"),u.style.setProperty("background","linear-gradient(135deg, rgba(124, 58, 237, 0.1), rgba(139, 92, 246, 0.1))"),u.style.setProperty("border-radius","8px"),u.style.setProperty("text-align","center"),m.style.setProperty("font-size","0.75rem"),m.style.setProperty("color","var(--text-secondary)"),m.style.setProperty("margin-bottom","0.25rem"),q.style.setProperty("font-size","1.5rem"),q.style.setProperty("font-weight","700"),q.style.setProperty("color","#7c3aed"),t(q,()=>(r()?.extractedAmounts?.annualPremiumAmount||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),I.style.setProperty("padding","1rem"),I.style.setProperty("background","linear-gradient(135deg, rgba(124, 58, 237, 0.1), rgba(139, 92, 246, 0.1))"),I.style.setProperty("border-radius","8px"),I.style.setProperty("text-align","center"),V.style.setProperty("font-size","0.75rem"),V.style.setProperty("color","var(--text-secondary)"),V.style.setProperty("margin-bottom","0.25rem"),J.style.setProperty("font-size","1.5rem"),J.style.setProperty("font-weight","700"),J.style.setProperty("color","#7c3aed"),t(J,()=>(r()?.extractedAmounts?.annualSlcspPremium||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),j.style.setProperty("padding","1rem"),j.style.setProperty("background","linear-gradient(135deg, rgba(124, 58, 237, 0.1), rgba(139, 92, 246, 0.1))"),j.style.setProperty("border-radius","8px"),j.style.setProperty("text-align","center"),be.style.setProperty("font-size","0.75rem"),be.style.setProperty("color","var(--text-secondary)"),be.style.setProperty("margin-bottom","0.25rem"),De.style.setProperty("font-size","1.5rem"),De.style.setProperty("font-weight","700"),De.style.setProperty("color","#ef4444"),t(De,()=>(r()?.extractedAmounts?.annualAdvancePtc||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),_.style.setProperty("padding","0.75rem 1rem"),_.style.setProperty("background","var(--surface-alt, #f9fafb)"),_.style.setProperty("border-radius","8px"),_.style.setProperty("display","flex"),_.style.setProperty("justify-content","space-between"),_.style.setProperty("align-items","center"),_.style.setProperty("margin-bottom","1rem"),ee.style.setProperty("font-weight","500"),Fe.style.setProperty("display","flex"),ct.style.setProperty("font-size","1.25rem"),ct.style.setProperty("font-weight","700"),ct.style.setProperty("color","#7c3aed"),ct.style.setProperty("margin","0 10px 0 0"),t(ct,()=>r()?.extractedAmounts?.coverageMonths||12,At),t(Fe,n(Lr,{get text(){return xe()},handle:qt,label:""}),null),t(Te,n(p,{get when(){return r()?.extractedAmounts?.monthlyPremiums?.length},get children(){return[(()=>{var Nt=bd();return Nt.style.setProperty("font-weight","600"),Nt.style.setProperty("margin-bottom","0.75rem"),Nt})(),(()=>{var Nt=Pd(),at=Nt.firstChild,Mt=at.firstChild,Re=Mt.firstChild,wr=Re.firstChild,er=wr.nextSibling,Or=er.nextSibling,Ue=Or.nextSibling,jr=Mt.nextSibling;return Nt.style.setProperty("overflow-x","auto"),Nt.style.setProperty("border","1px solid var(--border-color, #e5e7eb)"),Nt.style.setProperty("border-radius","8px"),at.style.setProperty("width","100%"),at.style.setProperty("border-collapse","collapse"),at.style.setProperty("font-size","0.75rem"),Re.style.setProperty("background","var(--surface-alt, #f9fafb)"),wr.style.setProperty("padding","0.5rem"),wr.style.setProperty("text-align","left"),wr.style.setProperty("border-bottom","1px solid var(--border-color)"),er.style.setProperty("padding","0.5rem"),er.style.setProperty("text-align","right"),er.style.setProperty("border-bottom","1px solid var(--border-color)"),Or.style.setProperty("padding","0.5rem"),Or.style.setProperty("text-align","right"),Or.style.setProperty("border-bottom","1px solid var(--border-color)"),Ue.style.setProperty("padding","0.5rem"),Ue.style.setProperty("text-align","right"),Ue.style.setProperty("border-bottom","1px solid var(--border-color)"),t(jr,n(Ht,{each:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],children:(dt,Ur)=>{const We=r()?.extractedAmounts?.monthlyPremiums?.[Ur()]||0,Qt=r()?.extractedAmounts?.monthlySlcsp?.[Ur()]||0,Lt=r()?.extractedAmounts?.monthlyAptc?.[Ur()]||0,Bt=We>0;return(()=>{var Ut=Wd(),ar=Ut.firstChild,jt=ar.nextSibling;jt.firstChild;var nr=jt.nextSibling;nr.firstChild;var gr=nr.nextSibling;return gr.firstChild,(Bt?"rgba(124, 58, 237, 0.02)":"transparent")!=null?Ut.style.setProperty("background",Bt?"rgba(124, 58, 237, 0.02)":"transparent"):Ut.style.removeProperty("background"),ar.style.setProperty("padding","0.5rem"),ar.style.setProperty("border-bottom","1px solid var(--border-color)"),(Bt?"500":"400")!=null?ar.style.setProperty("font-weight",Bt?"500":"400"):ar.style.removeProperty("font-weight"),(Bt?"var(--text-primary)":"var(--text-muted)")!=null?ar.style.setProperty("color",Bt?"var(--text-primary)":"var(--text-muted)"):ar.style.removeProperty("color"),t(ar,dt),jt.style.setProperty("padding","0.5rem"),jt.style.setProperty("text-align","right"),jt.style.setProperty("border-bottom","1px solid var(--border-color)"),(Bt?"#7c3aed":"var(--text-muted)")!=null?jt.style.setProperty("color",Bt?"#7c3aed":"var(--text-muted)"):jt.style.removeProperty("color"),t(jt,()=>We.toLocaleString("en-US",{minimumFractionDigits:2}),null),nr.style.setProperty("padding","0.5rem"),nr.style.setProperty("text-align","right"),nr.style.setProperty("border-bottom","1px solid var(--border-color)"),(Bt?"var(--text-primary)":"var(--text-muted)")!=null?nr.style.setProperty("color",Bt?"var(--text-primary)":"var(--text-muted)"):nr.style.removeProperty("color"),t(nr,()=>Qt.toLocaleString("en-US",{minimumFractionDigits:2}),null),gr.style.setProperty("padding","0.5rem"),gr.style.setProperty("text-align","right"),gr.style.setProperty("border-bottom","1px solid var(--border-color)"),(Bt?"#ef4444":"var(--text-muted)")!=null?gr.style.setProperty("color",Bt?"#ef4444":"var(--text-muted)"):gr.style.removeProperty("color"),t(gr,()=>Lt.toLocaleString("en-US",{minimumFractionDigits:2}),null),Ut})()}})),Nt})()]}}),null),Te}}),null),t(vt,n(p,{get when(){return r()?.drakeFormType==="1099_k"},get children(){var Te=Ad(),l=Te.firstChild,P=l.firstChild,b=l.nextSibling,z=b.nextSibling;z.firstChild;var R=z.nextSibling,i=R.firstChild,g=i.nextSibling;g.firstChild;var u=R.nextSibling,m=u.firstChild,q=m.firstChild,I=q.nextSibling;I.firstChild;var V=m.nextSibling,J=V.firstChild,j=J.nextSibling,be=V.nextSibling,De=be.firstChild,_=De.nextSibling;return _.firstChild,Te.style.setProperty("margin-bottom","1.5rem"),l.style.setProperty("font-weight","600"),l.style.setProperty("margin-bottom","0.75rem"),l.style.setProperty("display","flex"),l.style.setProperty("align-items","center"),l.style.setProperty("gap","0.5rem"),P.style.setProperty("background","#f97316"),P.style.setProperty("color","white"),P.style.setProperty("padding","0.125rem 0.5rem"),P.style.setProperty("border-radius","4px"),P.style.setProperty("font-size","0.75rem"),b.style.setProperty("padding","1rem"),b.style.setProperty("background","rgba(249, 115, 22, 0.05)"),b.style.setProperty("border","1px solid rgba(249, 115, 22, 0.2)"),b.style.setProperty("border-radius","8px"),b.style.setProperty("margin-bottom","1rem"),t(b,n(p,{get when(){return r()?.payerInfo?.name||r()?.extractedAmounts?.pseName},get children(){var ee=Kr();return ee.style.setProperty("font-weight","600"),ee.style.setProperty("font-size","1rem"),ee.style.setProperty("margin-bottom","0.25rem"),t(ee,()=>r()?.payerInfo?.name||r()?.extractedAmounts?.pseName),ee}}),null),t(b,n(Lr,{get text(){return[r()?.payerInfo?.ein||"","|",r()?.payerInfo?.name||r()?.extractedAmounts?.pseName||"","|",r()?.payerInfo?.address||"","|",r()?.payerInfo?.zip||"","|"].join("")||""},handle:qt,label:""}),null),t(b,n(p,{get when(){return r()?.payerInfo?.ein},get children(){var ee=Ts();return ee.firstChild,ee.style.setProperty("font-size","0.875rem"),ee.style.setProperty("color","var(--text-secondary)"),t(ee,()=>r()?.payerInfo?.ein,null),ee}}),null),t(b,n(p,{get when(){return r()?.payerInfo?.address||r()?.payerInfo?.city},get children(){var ee=Kr();return ee.style.setProperty("font-size","0.875rem"),ee.style.setProperty("color","var(--text-secondary)"),ee.style.setProperty("margin-top","0.25rem"),t(ee,()=>r()?.payerInfo?.address,null),t(ee,(()=>{var Fe=bt(()=>!!r()?.payerInfo?.city);return()=>Fe()&&`, ${r()?.payerInfo?.city}`})(),null),t(ee,(()=>{var Fe=bt(()=>!!r()?.payerInfo?.state);return()=>Fe()&&`, ${r()?.payerInfo?.state}`})(),null),t(ee,(()=>{var Fe=bt(()=>!!r()?.payerInfo?.zip);return()=>Fe()&&` ${r()?.payerInfo?.zip}`})(),null),ee}}),null),t(b,n(p,{get when(){return r()?.extractedAmounts?.psePhone},get children(){var ee=$d();return ee.firstChild,ee.style.setProperty("font-size","0.875rem"),ee.style.setProperty("color","var(--text-secondary)"),t(ee,()=>r()?.extractedAmounts?.psePhone,null),ee}}),null),t(b,n(p,{get when(){return r()?.extractedAmounts?.merchantCategoryCode},get children(){var ee=Sd();return ee.firstChild,ee.style.setProperty("font-size","0.875rem"),ee.style.setProperty("color","var(--text-secondary)"),ee.style.setProperty("margin-top","0.25rem"),t(ee,()=>r()?.extractedAmounts?.merchantCategoryCode,null),ee}}),null),z.style.setProperty("font-weight","600"),z.style.setProperty("margin-bottom","0.75rem"),z.style.setProperty("display","flex"),z.style.setProperty("align-items","center"),z.style.setProperty("gap","0.5rem"),t(z,n(Lr,{get text(){return[r()?.extractedAmounts?.grossAmount1099K||"","|",r()?.extractedAmounts?.cardNotPresentTransactions||"","|",r()?.extractedAmounts?.numberOfTransactions||"","|",r()?.extractedAmounts?.federalTaxWithheld1099K||"","|"].join("")||""},handle:qt,label:""}),null),R.style.setProperty("padding","1.25rem"),R.style.setProperty("background","linear-gradient(135deg, rgba(249, 115, 22, 0.1), rgba(251, 146, 60, 0.1))"),R.style.setProperty("border-radius","8px"),R.style.setProperty("text-align","center"),R.style.setProperty("margin-bottom","1rem"),i.style.setProperty("font-size","0.875rem"),i.style.setProperty("color","var(--text-secondary)"),i.style.setProperty("margin-bottom","0.25rem"),g.style.setProperty("font-size","2rem"),g.style.setProperty("font-weight","700"),g.style.setProperty("color","#f97316"),t(g,()=>(r()?.extractedAmounts?.grossAmount1099K||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),u.style.setProperty("display","grid"),u.style.setProperty("grid-template-columns","repeat(3, 1fr)"),u.style.setProperty("gap","0.75rem"),u.style.setProperty("margin-bottom","1rem"),m.style.setProperty("padding","0.75rem"),m.style.setProperty("background","var(--surface-alt, #f9fafb)"),m.style.setProperty("border-radius","6px"),q.style.setProperty("font-size","0.75rem"),q.style.setProperty("color","var(--text-secondary)"),I.style.setProperty("font-weight","600"),I.style.setProperty("font-size","1.125rem"),t(I,()=>(r()?.extractedAmounts?.cardNotPresentTransactions||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),V.style.setProperty("padding","0.75rem"),V.style.setProperty("background","var(--surface-alt, #f9fafb)"),V.style.setProperty("border-radius","6px"),J.style.setProperty("font-size","0.75rem"),J.style.setProperty("color","var(--text-secondary)"),j.style.setProperty("font-weight","600"),j.style.setProperty("font-size","1.125rem"),t(j,()=>(r()?.extractedAmounts?.numberOfTransactions||0).toLocaleString()),be.style.setProperty("padding","0.75rem"),be.style.setProperty("background","rgba(5, 150, 105, 0.1)"),be.style.setProperty("border-radius","6px"),De.style.setProperty("font-size","0.75rem"),De.style.setProperty("color","var(--text-secondary)"),_.style.setProperty("font-weight","600"),_.style.setProperty("font-size","1.125rem"),_.style.setProperty("color","#059669"),t(_,()=>(r()?.extractedAmounts?.federalTaxWithheld1099K||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),t(Te,n(p,{get when(){return r()?.extractedAmounts?.monthlyGrossAmounts},get children(){return[(()=>{var ee=wd();return ee.firstChild,ee.style.setProperty("font-weight","600"),ee.style.setProperty("margin-bottom","0.75rem"),ee.style.setProperty("display","flex"),ee.style.setProperty("align-items","center"),ee.style.setProperty("gap","0.5rem"),t(ee,n(Lr,{get text(){const Fe=r()?.extractedAmounts?.monthlyGrossAmounts||{};return[Fe.january||"","|",Fe.february||"","|",Fe.march||"","|",Fe.april||"","|",Fe.may||"","|",Fe.june||"","|",Fe.july||"","|",Fe.august||"","|",Fe.september||"","|",Fe.october||"","|",Fe.november||"","|",Fe.december||""].join("")},handle:qt,label:""}),null),ee})(),(()=>{var ee=Cd(),Fe=ee.firstChild,ct=Fe.firstChild,At=ct.firstChild,Nt=ct.nextSibling,at=Nt.firstChild;return ee.style.setProperty("overflow-x","auto"),ee.style.setProperty("margin-bottom","1rem"),Fe.style.setProperty("width","100%"),Fe.style.setProperty("border-collapse","collapse"),Fe.style.setProperty("font-size","0.8125rem"),At.style.setProperty("background","rgba(249, 115, 22, 0.1)"),t(At,n(Ht,{each:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],children:Mt=>(()=>{var Re=Yd();return Re.style.setProperty("padding","0.5rem"),Re.style.setProperty("text-align","center"),Re.style.setProperty("font-weight","600"),Re.style.setProperty("font-size","0.75rem"),t(Re,Mt),Re})()})),t(at,()=>{const Mt=r()?.extractedAmounts?.monthlyGrossAmounts||{};return["january","february","march","april","may","june","july","august","september","october","november","december"].map(wr=>(()=>{var er=Gd();return er.firstChild,er.style.setProperty("padding","0.5rem"),er.style.setProperty("text-align","center"),er.style.setProperty("border-top","1px solid #e5e7eb"),t(er,()=>(Mt[wr]||0).toLocaleString("en-US",{minimumFractionDigits:0}),null),er})())}),ee})()]}}),null),t(Te,n(p,{get when(){return r()?.extractedAmounts?.stateAbbreviation1099K||r()?.extractedAmounts?.stateTaxWithheld1099K},get children(){return[(()=>{var ee=_d();return ee.firstChild,ee.style.setProperty("font-weight","600"),ee.style.setProperty("margin-bottom","0.5rem"),ee.style.setProperty("font-size","0.9rem"),ee.style.setProperty("display","flex"),ee.style.setProperty("align-items","center"),ee.style.setProperty("gap","0.5rem"),t(ee,n(Lr,{get text(){return[r()?.extractedAmounts?.stateAbbreviation1099K||"","|",r()?.extractedAmounts?.stateIdNumber1099K||"","|",r()?.extractedAmounts?.stateTaxWithheld1099K||""].join("")||""},handle:qt,label:""}),null),ee})(),(()=>{var ee=Kr();return ee.style.setProperty("display","grid"),ee.style.setProperty("grid-template-columns","repeat(3, 1fr)"),ee.style.setProperty("gap","0.5rem"),t(ee,n(p,{get when(){return r()?.extractedAmounts?.stateAbbreviation1099K},get children(){var Fe=kd(),ct=Fe.firstChild,At=ct.nextSibling;return Fe.style.setProperty("padding","0.5rem"),Fe.style.setProperty("background","var(--surface-alt, #f9fafb)"),Fe.style.setProperty("border-radius","6px"),ct.style.setProperty("font-size","0.7rem"),ct.style.setProperty("color","var(--text-secondary)"),At.style.setProperty("font-weight","600"),t(At,()=>r()?.extractedAmounts?.stateAbbreviation1099K),Fe}}),null),t(ee,n(p,{get when(){return r()?.extractedAmounts?.stateIdNumber1099K},get children(){var Fe=Id(),ct=Fe.firstChild,At=ct.nextSibling;return Fe.style.setProperty("padding","0.5rem"),Fe.style.setProperty("background","var(--surface-alt, #f9fafb)"),Fe.style.setProperty("border-radius","6px"),ct.style.setProperty("font-size","0.7rem"),ct.style.setProperty("color","var(--text-secondary)"),At.style.setProperty("font-weight","600"),At.style.setProperty("font-size","0.85rem"),t(At,()=>r()?.extractedAmounts?.stateIdNumber1099K),Fe}}),null),t(ee,n(p,{get when(){return r()?.extractedAmounts?.stateTaxWithheld1099K},get children(){var Fe=Td(),ct=Fe.firstChild,At=ct.nextSibling;return At.firstChild,Fe.style.setProperty("padding","0.5rem"),Fe.style.setProperty("background","var(--surface-alt, #f9fafb)"),Fe.style.setProperty("border-radius","6px"),ct.style.setProperty("font-size","0.7rem"),ct.style.setProperty("color","var(--text-secondary)"),At.style.setProperty("font-weight","600"),At.style.setProperty("color","#059669"),t(At,()=>(r()?.extractedAmounts?.stateTaxWithheld1099K||0).toLocaleString("en-US",{minimumFractionDigits:2}),null),Fe}}),null),ee})()]}}),null),Te}}),null),t(vt,n(p,{get when(){return bt(()=>!["w2","1099_nec","1099_misc","1099_int","1099_div","1099_r","1098","1098_t","1095_a","1099_g","1099_k"].includes(r()?.drakeFormType||"")&&!r()?.documentType?.toLowerCase().includes("1095")&&r()?.documentType!=="1099-G"&&r()?.documentType!=="1099-R")()&&r()?.extractedAmounts},get children(){var Te=Nd(),l=Te.firstChild,P=l.nextSibling;return Te.style.setProperty("margin-bottom","1.5rem"),l.style.setProperty("font-weight","600"),l.style.setProperty("margin-bottom","0.75rem"),P.style.setProperty("display","grid"),P.style.setProperty("grid-template-columns","repeat(2, 1fr)"),P.style.setProperty("gap","0.5rem"),t(P,n(Ht,{get each(){return Object.entries(r()?.extractedAmounts||{})},children:([b,z])=>n(p,{when:z!=null&&typeof z=="number",get children(){var R=Vn(),i=R.firstChild,g=i.nextSibling;return g.firstChild,R.style.setProperty("padding","0.75rem"),R.style.setProperty("background","var(--surface-alt, #f9fafb)"),R.style.setProperty("border-radius","6px"),R.style.setProperty("font-size","0.875rem"),i.style.setProperty("color","var(--text-secondary)"),i.style.setProperty("font-size","0.75rem"),i.style.setProperty("text-transform","capitalize"),t(i,()=>b.replace(/([A-Z])/g," $1").trim()),g.style.setProperty("font-weight","600"),t(g,()=>z.toLocaleString("en-US",{minimumFractionDigits:2}),null),R}})})),Te}}),null),t(vt,n(p,{get when(){return!1},get children(){var Te=zd(),l=Te.firstChild;return l.nextSibling,Te.style.setProperty("padding","1rem"),Te.style.setProperty("background","rgba(239, 68, 68, 0.1)"),Te.style.setProperty("border","1px solid rgba(239, 68, 68, 0.2)"),Te.style.setProperty("border-radius","8px"),Te.style.setProperty("color","#ef4444"),Te.style.setProperty("font-size","0.875rem"),Te.style.setProperty("margin-bottom","1.5rem"),t(Te,()=>r()?.errorMessage,null),Te}}),null),Gt.style.setProperty("display","flex"),Gt.style.setProperty("gap","0.75rem"),Gt.style.setProperty("padding","1.25rem 1.5rem"),Gt.style.setProperty("border-top","1px solid var(--border-color, #e5e7eb)"),Gt.style.setProperty("justify-content","flex-end"),t(Gt,n($s,{variant:"secondary",onClick:Je,children:"Close"}),pr),pr.$$mouseout=Te=>{},pr.$$mouseover=Te=>Te.currentTarget.style.background="#f59e0b",pr.$$click=()=>we(r()),pr.style.setProperty("padding","0.5rem 1rem"),pr.style.setProperty("background","#f59e0b"),pr.style.setProperty("border","none"),pr.style.setProperty("border-radius","6px"),pr.style.setProperty("color","white"),pr.style.setProperty("font-weight","500"),pr.style.setProperty("cursor","pointer"),pr.style.setProperty("font-size","0.875rem"),pr.style.setProperty("transition","background 0.2s ease"),kr.$$mouseout=Te=>Te.currentTarget.style.background="#8b5cf6",kr.$$mouseover=Te=>Te.currentTarget.style.background="#7c3aed",kr.$$click=()=>ne(!0),kr.style.setProperty("padding","0.5rem 1rem"),kr.style.setProperty("background","#8b5cf6"),kr.style.setProperty("border","none"),kr.style.setProperty("border-radius","6px"),kr.style.setProperty("color","white"),kr.style.setProperty("font-weight","500"),kr.style.setProperty("cursor","pointer"),kr.style.setProperty("font-size","0.875rem"),kr.style.setProperty("transition","background 0.2s ease"),kr.style.setProperty("display","flex"),kr.style.setProperty("align-items","center"),kr.style.setProperty("gap","0.375rem"),Zr.style.setProperty("width","14px"),Zr.style.setProperty("height","14px"),t(Gt,n($s,{variant:"secondary",onClick:()=>it(r()),children:"Re-Analyze"}),null),t(Gt,n(p,{get when(){return Ye(r())!=="verified"},get children(){var Te=Dd();return Te.$$mouseout=l=>l.currentTarget.style.background="#22c55e",Te.$$mouseover=l=>l.currentTarget.style.background="#16a34a",Te.$$click=()=>Se(r()),Te.style.setProperty("padding","0.5rem 1rem"),Te.style.setProperty("background","#22c55e"),Te.style.setProperty("border","none"),Te.style.setProperty("border-radius","6px"),Te.style.setProperty("color","white"),Te.style.setProperty("font-weight","500"),Te.style.setProperty("cursor","pointer"),Te.style.setProperty("font-size","0.875rem"),Te.style.setProperty("transition","background 0.2s ease"),Te}}),null),t(Gt,n($s,{variant:"primary",onClick:()=>pt(r()),children:"Open File"}),null),f(Te=>s(dr,Ke($t(Ye(r()))),Te)),K}}),null),t(ie,n(p,{get when(){return v()},get children(){var K=Ld(),He=K.firstChild,rt=He.firstChild,Oe=rt.firstChild,kt=Oe.firstChild,St=Oe.nextSibling,or=rt.nextSibling,vt=or.nextSibling,Br=vt.firstChild,Wr=Br.nextSibling,_r=vt.nextSibling,ue=_r.firstChild,me=_r.nextSibling,T=me.firstChild;return K.style.setProperty("position","fixed"),K.style.setProperty("top","0"),K.style.setProperty("left","0"),K.style.setProperty("right","0"),K.style.setProperty("bottom","0"),K.style.setProperty("background","rgba(0,0,0,0.5)"),K.style.setProperty("display","flex"),K.style.setProperty("align-items","center"),K.style.setProperty("justify-content","center"),K.style.setProperty("z-index","1001"),He.style.setProperty("background","white"),He.style.setProperty("border-radius","12px"),He.style.setProperty("padding","1.5rem"),He.style.setProperty("max-width","450px"),He.style.setProperty("width","90%"),He.style.setProperty("max-height","80vh"),He.style.setProperty("overflow","auto"),rt.style.setProperty("display","flex"),rt.style.setProperty("justify-content","space-between"),rt.style.setProperty("align-items","center"),rt.style.setProperty("margin-bottom","1rem"),Oe.style.setProperty("margin","0"),Oe.style.setProperty("font-size","1.125rem"),Oe.style.setProperty("display","flex"),Oe.style.setProperty("align-items","center"),Oe.style.setProperty("gap","0.5rem"),kt.style.setProperty("width","20px"),kt.style.setProperty("height","20px"),St.$$click=()=>{ne(!1),Ze(""),he([])},St.style.setProperty("background","none"),St.style.setProperty("border","none"),St.style.setProperty("font-size","1.5rem"),St.style.setProperty("cursor","pointer"),St.style.setProperty("color","#666"),or.style.setProperty("font-size","0.875rem"),or.style.setProperty("color","#6b7280"),or.style.setProperty("margin-bottom","1rem"),vt.style.setProperty("background","#f3f4f6"),vt.style.setProperty("padding","0.75rem"),vt.style.setProperty("border-radius","8px"),vt.style.setProperty("margin-bottom","1rem"),vt.style.setProperty("font-size","0.875rem"),Br.style.setProperty("font-weight","500"),t(Br,()=>Ys[r()?.drakeFormType||"other"]),Wr.style.setProperty("color","#6b7280"),Wr.style.setProperty("font-size","0.75rem"),t(Wr,()=>r()?.originalFileName),_r.style.setProperty("position","relative"),_r.style.setProperty("margin-bottom","0.75rem"),ue.$$input=Le=>{Ze(Le.currentTarget.value),_t(Le.currentTarget.value)},ue.style.setProperty("width","100%"),ue.style.setProperty("padding","0.625rem 0.75rem"),ue.style.setProperty("border","1px solid #d1d5db"),ue.style.setProperty("border-radius","8px"),ue.style.setProperty("font-size","0.875rem"),t(_r,n(p,{get when(){return $e()},get children(){var Le=Fd(),yt=Le.firstChild;return Le.style.setProperty("position","absolute"),Le.style.setProperty("right","0.75rem"),Le.style.setProperty("top","50%"),Le.style.setProperty("transform","translateY(-50%)"),yt.style.setProperty("color","#9ca3af"),yt.style.setProperty("font-size","0.75rem"),Le}}),null),t(He,n(p,{get when(){return O().length>0},get children(){var Le=Kr();return Le.style.setProperty("border","1px solid #e5e7eb"),Le.style.setProperty("border-radius","8px"),Le.style.setProperty("max-height","250px"),Le.style.setProperty("overflow","auto"),t(Le,n(Ht,{get each(){return O()},children:yt=>(()=>{var st=Vd(),Rt=st.firstChild,sr=Rt.firstChild,dr=sr.firstChild,Zt=sr.nextSibling,Et=Zt.firstChild,$r=Rt.nextSibling;return st.$$click=()=>!ye()&&wt(yt),st.$$mouseout=Gt=>Gt.currentTarget.style.background="white",st.$$mouseover=Gt=>!ye()&&(Gt.currentTarget.style.background="#f9fafb"),st.style.setProperty("padding","0.75rem 1rem"),st.style.setProperty("border-bottom","1px solid #f3f4f6"),st.style.setProperty("display","flex"),st.style.setProperty("justify-content","space-between"),st.style.setProperty("align-items","center"),sr.style.setProperty("font-weight","500"),t(sr,()=>yt.firstName,dr),t(sr,()=>yt.lastName,null),Zt.style.setProperty("font-size","0.75rem"),Zt.style.setProperty("color","#6b7280"),t(Zt,()=>yt.email||"Sin email",Et),t(Zt,()=>yt.taxYear||"N/A",null),$r.style.setProperty("width","20px"),$r.style.setProperty("height","20px"),f(Gt=>{var pr=ye()?"not-allowed":"pointer",kr=ye()?.5:1;return pr!==Gt.e&&((Gt.e=pr)!=null?st.style.setProperty("cursor",pr):st.style.removeProperty("cursor")),kr!==Gt.t&&((Gt.t=kr)!=null?st.style.setProperty("opacity",kr):st.style.removeProperty("opacity")),Gt},{e:void 0,t:void 0}),st})()})),Le}}),me),t(He,n(p,{get when(){return bt(()=>k().length>=2&&O().length===0)()&&!$e()},get children(){var Le=Ed();return Le.style.setProperty("text-align","center"),Le.style.setProperty("padding","2rem"),Le.style.setProperty("color","#9ca3af"),Le}}),me),me.style.setProperty("margin-top","1rem"),me.style.setProperty("display","flex"),me.style.setProperty("justify-content","flex-end"),T.$$click=()=>{ne(!1),Ze(""),he([])},T.style.setProperty("padding","0.5rem 1rem"),T.style.setProperty("background","#f3f4f6"),T.style.setProperty("border","none"),T.style.setProperty("border-radius","6px"),T.style.setProperty("cursor","pointer"),T.style.setProperty("font-weight","500"),f(()=>ue.value=k()),K}}),null),t(ie,n(Ao,{get qrText(){return W()},get isOpen(){return ge()},onClose:()=>x(!1),get title(){return`${Ys[r()?.drakeFormType||"other"]} QR Code`},convertPipeToTab:!0,toUpperCase:!0}),null),t(ie,n(No,{get qrText(){return L()},get isOpen(){return Y()},onClose:()=>c(!1),get title(){return`${Ys[r()?.drakeFormType||"other"]} QR Code`},convertPipeToTab:!0,toUpperCase:!0}),null),f(K=>{var He=lr,rt=ce,Oe=oe,kt=Ae,St=re("#22c55e"),or=Ae,vt=re("#f59e0b"),Br=Me(y());return K.e=s(ie,He,K.e),K.t=s(d,rt,K.t),K.a=s(Ge,Oe,K.a),K.o=s(le,kt,K.o),K.i=s(S,St,K.i),K.n=s(Pe,or,K.n),K.s=s(ze,vt,K.s),K.h=s(ut,Br,K.h),K},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),ie})()};is(["click","mouseover","mouseout","input"]);const Kd=(e,y={})=>new Promise((o,h)=>{const{width:w=100,height:C=100,scale:te=2,backgroundColor:E}=y,H=document.createElement("canvas"),se=H.getContext("2d");if(!se){h(new Error("Could not get canvas context"));return}H.width=w*te,H.height=C*te;const F=new Image,r=new Blob([e],{type:"image/svg+xml;charset=utf-8"}),Z=URL.createObjectURL(r);F.onload=()=>{E&&(se.fillStyle=E,se.fillRect(0,0,H.width,H.height)),se.drawImage(F,0,0,H.width,H.height),URL.revokeObjectURL(Z);const ge=H.toDataURL("image/png");o(ge)},F.onerror=ge=>{URL.revokeObjectURL(Z),h(new Error("Failed to load SVG image"))},F.src=Z}),Jd=(e="#22c55e",y=24)=>{const o=`
    <svg xmlns="http://www.w3.org/2000/svg" width="${y}" height="${y}" viewBox="0 0 24 24" fill="${e}">
      <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
    </svg>
  `;return Kd(o,{width:y,height:y,scale:2})},Zd=async e=>{const{client:y,request:o,businessName:h="Stephanie Solution",businessAddress:w,businessPhone:C,logo:te,baseUrl:E}=e,H=o.clientSignature,F=`${E||(typeof window<"u"?window.location.origin:"https://app.example.com")}/#/signature-validation/${o.id}/${o.accessToken}/engagement`;if(!H||!H.signedAt)throw new Error("No signature found on this engagement letter");const r=new Rn({orientation:"portrait",unit:"mm",format:"letter"}),Z=r.internal.pageSize.getWidth(),ge=r.internal.pageSize.getHeight(),x=20,W=Z-2*x;let $=x;const Y=(Xe,nt,ot=11,qe="left")=>{r.setFontSize(ot);const gt=r.splitTextToSize(Xe,W);return qe==="center"?gt.forEach(ke=>{r.text(ke,Z/2,nt,{align:"center"}),nt+=ot*.4}):qe==="right"?gt.forEach(ke=>{r.text(ke,Z-x,nt,{align:"right"}),nt+=ot*.4}):(r.text(gt,x,nt),nt+=gt.length*(ot*.4)),nt},c=await Jd("#22c55e",48),L=()=>{let Xe=$;if(te)try{const qe=x;if(r.addImage(te,"PNG",qe,Xe-5,20,20),r.setFont("helvetica","bold"),r.setFontSize(18),r.setTextColor(30,58,95),r.text(h,qe+20+5,Xe+5),w||C){r.setFont("helvetica","normal"),r.setFontSize(10),r.setTextColor(100,100,100);let gt=Xe+10;w&&(r.text(w,qe+20+5,gt),gt+=4),C&&r.text(C,qe+20+5,gt)}Xe+=25}catch(nt){Qe("Error adding logo:",nt),D();return}else{D();return}$=Xe},D=()=>{r.setFont("helvetica","bold"),r.setFontSize(18),r.setTextColor(30,58,95),r.text(h,Z/2,$,{align:"center"}),$+=8,(w||C)&&(r.setFont("helvetica","normal"),r.setFontSize(10),r.setTextColor(100,100,100),w&&(r.text(w,Z/2,$,{align:"center"}),$+=5),C&&(r.text(C,Z/2,$,{align:"center"}),$+=5))};L(),$+=5,r.setDrawColor(30,58,95),r.setLineWidth(.5),r.line(x,$,Z-x,$),$+=10,r.setFont("helvetica","bold"),r.setFontSize(16),r.setTextColor(0,0,0),r.text("TAX PREPARATION ENGAGEMENT LETTER",Z/2,$,{align:"center"}),$+=10,r.setFontSize(12),r.text(`Tax Year: ${o.taxYear}`,Z/2,$,{align:"center"}),$+=15,r.setFont("helvetica","bold"),r.setFontSize(12),r.text("CLIENT INFORMATION",x,$),$+=7,r.setFont("helvetica","normal"),r.setFontSize(11);const v=`${y.firstName||""} ${y.lastName||""}`.trim()||"N/A";if(r.text(`Name: ${v}`,x,$),$+=6,y.address&&(r.text(`Address: ${y.address}`,x,$),$+=6),y.city||y.state||y.zipCode){const Xe=`${y.city||""}, ${y.state||""} ${y.zipCode||""}`.trim();r.text(`         ${Xe}`,x,$),$+=6}y.email&&(r.text(`Email: ${y.email}`,x,$),$+=6),y.phone&&(r.text(`Phone: ${y.phone}`,x,$),$+=6),$+=10,r.setFont("helvetica","bold"),r.setFontSize(12),r.text("AGREEMENT TERMS",x,$),$+=8,r.setFont("helvetica","normal"),r.setFontSize(10);const ne=`This letter confirms and specifies the terms of our engagement to prepare your ${o.taxYear} individual income tax returns.

SCOPE OF SERVICES:
We will prepare your federal and applicable state income tax returns for the tax year ${o.taxYear} based on the information you provide to us. We will not audit or otherwise verify the data you submit, although we may ask for clarification of some information.

CLIENT RESPONSIBILITIES:
You are responsible for providing all information required for the preparation of complete and accurate returns. You should retain all documents, canceled checks, and other data that form the basis of income and deductions.

FEES:
Our fee for these services will be based on the complexity of the return and the time required to prepare it. We will discuss our fee structure with you before beginning work.

CONFIDENTIALITY:
We will maintain the confidentiality of your information in accordance with professional standards and applicable law.

By signing below, you acknowledge that you have read, understand, and agree to the terms of this engagement letter.`;$=Y(ne,$,10),$+=15,r.setDrawColor(200,200,200),r.setLineWidth(.3),$+=5,r.setFont("helvetica","bold"),r.setFontSize(12),r.setTextColor(30,58,95),r.text("CLIENT SIGNATURE",x+5,$),$+=8,r.setFont("helvetica","normal"),r.setFontSize(7.18),r.setTextColor(128,128,128),r.text(`Document generated on ${new Date().toLocaleString()}`,Z/1.35,ge-12.5,{align:"center"}),r.text(`Reference: ${o.id||"N/A"}`,Z/1.35,ge-10,{align:"center"}),r.setFontSize(9),r.setTextColor(34,197,94);const k=Z/1.5-5,Ze=$+13.5;if(r.addImage(c,"PNG",k,Ze,5,5),r.text("Terms and conditions accepted",k+6,$+17),$+=5,r.setFillColor(248,250,252),r.setDrawColor(139,92,246),r.setLineWidth(.5),r.roundedRect(x+58,$-1,41,12,2,2,"FD"),r.setFont("helvetica","normal"),r.setFontSize(7),r.setTextColor(100,100,100),r.text("Verify this signature online:",x+60,$-1+5),r.setFont("helvetica","bold"),r.setFontSize(8),r.setTextColor(139,92,246),r.textWithLink("SIGNATURE VERIFICATION",x+60,$-1+9,{url:F}),H.signatureImage)try{const Xe=H.signatureImage;r.addImage(Xe,"PNG",x+5,$-5,60,20),$+=20}catch(Xe){Qe("Error adding signature image:",Xe),r.setDrawColor(0,0,0),r.line(x+5,$+15,x+70,$+15),$+=20}else r.setFont("helvetica","italic"),r.setFontSize(14),r.setTextColor(0,0,0),r.text(H.name,x+5,$+10),$+=15;r.setFont("helvetica","normal"),r.setFontSize(10),r.setTextColor(0,0,0),r.text(`Signed by: ${H.name}`,x+3,$),$+=5,r.setTextColor(128,128,128),r.setFontSize(7.5),r.text(`Date: ${H.date}`,x+5,$),$+=5;const O=new Date(H.signedAt);r.text(`Signed at: ${O.toLocaleString()}`,x+5,$-2),$+=5;const he=ge-15;if(r.setDrawColor(200,200,200),r.setLineWidth(.3),r.line(x,he-5,Z-x,he-5),r.addPage(),$=x,L(),$+=5,r.setDrawColor(30,58,95),r.setLineWidth(.5),r.line(x,$,Z-x,$),$+=10,r.setFont("helvetica","bold"),r.setFontSize(16),r.setTextColor(0,0,0),r.text("CARTA DE COMPROMISO PARA PREPARACION DE IMPUESTOS",Z/2,$,{align:"center"}),$+=10,r.setFontSize(12),r.text(`Ano Fiscal: ${o.taxYear}`,Z/2,$,{align:"center"}),$+=15,r.setFont("helvetica","bold"),r.setFontSize(12),r.text("INFORMACION DEL CLIENTE",x,$),$+=7,r.setFont("helvetica","normal"),r.setFontSize(11),r.text(`Nombre: ${v}`,x,$),$+=6,y.address&&(r.text(`Direccion: ${y.address}`,x,$),$+=6),y.city||y.state||y.zipCode){const Xe=`${y.city||""}, ${y.state||""} ${y.zipCode||""}`.trim();r.text(`              ${Xe}`,x,$),$+=6}y.email&&(r.text(`Correo: ${y.email}`,x,$),$+=6),y.phone&&(r.text(`Telefono: ${y.phone}`,x,$),$+=6),$+=10,r.setFont("helvetica","bold"),r.setFontSize(12),r.text("TERMINOS DEL ACUERDO",x,$),$+=8,r.setFont("helvetica","normal"),r.setFontSize(10);const $e=`Esta carta confirma y especifica los terminos de nuestro compromiso para preparar sus declaraciones de impuestos sobre la renta individual del ano ${o.taxYear}.

ALCANCE DE LOS SERVICIOS:
Prepararemos sus declaraciones de impuestos federales y estatales aplicables para el ano fiscal ${o.taxYear} basandonos en la informacion que usted nos proporcione. No auditaremos ni verificaremos de otra manera los datos que nos envie, aunque podemos solicitar aclaraciones sobre alguna informacion.

RESPONSABILIDADES DEL CLIENTE:
Usted es responsable de proporcionar toda la informacion requerida para la preparacion de declaraciones completas y precisas. Debe conservar todos los documentos, cheques cancelados y otros datos que constituyan la base de los ingresos y deducciones.

HONORARIOS:
Nuestros honorarios por estos servicios se basaran en la complejidad de la declaracion y el tiempo requerido para prepararla. Discutiremos nuestra estructura de honorarios con usted antes de comenzar el trabajo.

CONFIDENCIALIDAD:
Mantendremos la confidencialidad de su informacion de acuerdo con los estandares profesionales y la ley aplicable.

Al firmar a continuacion, usted reconoce que ha leido, entendido y acepta los terminos de esta carta de compromiso.`;$=Y($e,$,10),$+=15,r.setDrawColor(200,200,200),r.setLineWidth(.3),$+=5,r.setFont("helvetica","bold"),r.setFontSize(12),r.setTextColor(30,58,95),r.text("FIRMA DEL CLIENTE",x+5,$),$+=8,r.setFont("helvetica","normal"),r.setFontSize(7.18),r.setTextColor(128,128,128),r.text(`Documento generado el ${new Date().toLocaleString()}`,Z/1.35,ge-12.5,{align:"center"}),r.text(`Referencia: ${o.id||"N/A"}`,Z/1.35,ge-10,{align:"center"}),r.setFontSize(9),r.setTextColor(34,197,94);const fe=Z/1.5-5,ye=$+10.5;if(r.addImage(c,"PNG",fe,ye,5,5),r.text("Terminos y condiciones aceptados",fe+6,$+14),r.setFillColor(248,250,252),r.setDrawColor(139,92,246),r.setLineWidth(.5),r.roundedRect(x+58,$-1,41,12,2,2,"FD"),r.setFont("helvetica","normal"),r.setFontSize(7),r.setTextColor(100,100,100),r.text("Verify this signature online:",x+60,$-1+5),r.setFont("helvetica","bold"),r.setFontSize(8),r.setTextColor(139,92,246),r.textWithLink("SIGNATURE VERIFICATION",x+60,$-1+9,{url:F}),H.signatureImage)try{const Xe=H.signatureImage;r.addImage(Xe,"PNG",x+5,$-5,60,20),$+=20}catch(Xe){Qe("Error adding signature image:",Xe),r.setDrawColor(0,0,0),r.line(x+5,$+15,x+70,$+15),$+=20}else r.setFont("helvetica","italic"),r.setFontSize(14),r.setTextColor(0,0,0),r.text(H.name,x+5,$+10),$+=15;r.setFont("helvetica","normal"),r.setFontSize(10),r.setTextColor(0,0,0),r.text(`Firmado por: ${H.name}`,x+3,$),$+=5,r.setTextColor(128,128,128),r.setFontSize(7.5),r.text(`Fecha: ${H.date}`,x+5,$),$+=5,r.text(`Firmado el: ${O.toLocaleString()}`,x+5,$-2),$+=5,r.setDrawColor(200,200,200),r.setLineWidth(.3),r.line(x,he-5,Z-x,he-5);const Ce=`Engagement_Letter_${v.replace(/\s+/g,"_")}_${o.taxYear}.pdf`;r.save(Ce)},ey=async e=>{const{client:y,request:o,businessName:h="Tax Preparer",businessAddress:w,businessPhone:C,businessEFIN:te="000000",logo:E,taxYear:H=new Date().getFullYear()-1,baseUrl:se,adjustedGrossIncome:F,totalTax:r,federalWithholding:Z,refundAmount:ge,amountOwed:x}=e,W=o.clientSigningPin;if(!W||!W.pin)throw new Error("No signing PIN found on this document request");const Y=`${se||(typeof window<"u"?window.location.origin:"https://app.example.com")}/#/signature-validation/${o.id}/${o.accessToken}/pin`,c=new Rn({orientation:"portrait",unit:"mm",format:"letter"}),L=c.internal.pageSize.getWidth(),D=c.internal.pageSize.getHeight(),v=12,ne=L-2*v;let k=v;const Ze=(it,rr=v,Dt=L-v,qt=.3)=>{c.setDrawColor(0),c.setLineWidth(qt),c.line(rr,it,Dt,it)},O=(it,rr,Dt,qt,lr=!1)=>{c.setDrawColor(0),c.setLineWidth(.3),lr?(c.setFillColor(255,255,255),c.rect(it,rr,Dt,qt,"FD")):c.rect(it,rr,Dt,qt)},he=it=>it==null?"":it.toLocaleString("en-US");c.setFillColor(0,0,0),c.rect(v,k,25,14,"F"),c.setTextColor(255,255,255),c.setFont("helvetica","bold"),c.setFontSize(14),c.text("Form",v+2,k+5),c.setFontSize(18),c.text("8879",v+2,k+12),c.setTextColor(0,0,0),c.setFont("helvetica","normal"),c.setFontSize(7),c.text("Department of the Treasury",v+28,k+3),c.text("Internal Revenue Service",v+28,k+6.5),c.setFont("helvetica","bold"),c.setFontSize(12),c.text("IRS e-file Signature Authorization",v+28,k+11),c.setFont("helvetica","normal"),c.setFontSize(7),c.text("OMB No. 1545-0074",L-v-25,k+3),c.setFillColor(0,0,0),c.rect(L-v-18,k+5,18,9,"F"),c.setTextColor(255,255,255),c.setFont("helvetica","bold"),c.setFontSize(14),c.text(String(H),L-v-9,k+12,{align:"center"}),k+=16,c.setTextColor(0,0,0),c.setFont("helvetica","normal"),c.setFontSize(8),c.text("For use with Forms 1040, 1040-SR, 1040-NR, 1040-SS, and 1040-X.",L/2,k,{align:"center"}),k+=3,c.setFontSize(7),c.text("Go to www.irs.gov/Form8879 for the latest information.",L/2,k,{align:"center"}),k+=4,Ze(k,v,L-v,.5),k+=1;const fe=8;c.setFontSize(6),c.text("Taxpayer's name",v+1,k+2.5),O(v,k,ne*.55,fe),c.setFont("helvetica","bold"),c.setFontSize(10);const ye=`${y.firstName||""} ${y.lastName||""}`.trim()||"N/A";c.text(ye,v+25,k+5.5),c.setFont("helvetica","normal"),c.setFontSize(6),c.text("Social security number",v+ne*.55+2,k+2.5),O(v+ne*.55,k,ne*.45,fe),c.setFont("helvetica","bold"),c.setFontSize(10),c.text("XXX-XX-XXXX",v+ne*.55+30,k+5.5),k+=fe,c.setFont("helvetica","normal"),c.setFontSize(6),c.text("Spouse's name (if joint return)",v+1,k+2.5),O(v,k,ne*.55,fe),c.setFontSize(6),c.text("Spouse's social security number",v+ne*.55+2,k+2.5),O(v+ne*.55,k,ne*.45,fe),k+=fe+2,c.setFillColor(0,0,0),c.rect(v,k,ne,5,"F"),c.setTextColor(255,255,255),c.setFont("helvetica","bold"),c.setFontSize(8),c.text("Part I",v+2,k+3.5),c.text("Tax Return Information (Whole dollars only. See instructions.)",v+18,k+3.5),k+=6,c.setTextColor(0,0,0),c.setFont("helvetica","normal"),c.setFontSize(7),c.text("Enter whole dollars only on lines 1 through 5. For Form 1040-SS filers, complete line 4 only and leave lines 1, 2, 3, and 5 blank.",v,k+2),k+=5;const Ce=6,Xe=ne*.7,nt=ne*.25,ot=8,qe=(it,rr,Dt,qt)=>{c.setFont("helvetica","bold"),c.setFontSize(8),c.text(it,v+2,k+4),c.setFont("helvetica","normal"),c.setFontSize(8),c.text(rr,v+ot,k+4),c.setFontSize(6),c.setTextColor(100,100,100),c.text(Dt,v+ot,k+7),c.setTextColor(0,0,0),O(v+Xe,k,nt,Ce),c.setFont("helvetica","normal"),c.setFontSize(9);const lr=he(qt);lr&&c.text(lr,v+Xe+nt-3,k+4.5,{align:"right"}),c.setFont("helvetica","bold"),c.setFontSize(8),c.text(it,v+Xe+nt+3,k+4),k+=Ce+1};qe("1","Adjusted gross income","(Form 1040, 1040-SR, or 1040-NR, line 11; Form 1040-SS, see instructions)",F),qe("2","Total tax","(Form 1040, 1040-SR, or 1040-NR, line 24; Form 1040-SS, see instructions)",r),qe("3","Federal income tax withheld","(Form 1040, 1040-SR, 1040-NR, or 1040-SS, line 25d)",Z),qe("4","Refund","(Form 1040, 1040-SR, 1040-NR, or 1040-SS, line 35a)",ge),qe("5","Amount you owe","(Form 1040, 1040-SR, or 1040-NR, line 37; Form 1040-SS, see instructions)",x),k+=2,c.setFillColor(0,0,0),c.rect(v,k,ne,5,"F"),c.setTextColor(255,255,255),c.setFont("helvetica","bold"),c.setFontSize(8),c.text("Part II",v+2,k+3.5),c.text("Taxpayer Declaration and Signature Authorization (Be sure you get a copy of your return)",v+18,k+3.5),k+=7,c.setTextColor(0,0,0),c.setFont("helvetica","normal"),c.setFontSize(7);const gt="Under penalties of perjury, I declare that the information I provided to my electronic return originator (ERO), and the amounts in Part I above, agree with the amounts on my corresponding lines of my "+H+" federal income tax return. To the best of my knowledge and belief, my return is true, correct, and complete.",ke=c.splitTextToSize(gt,ne);c.text(ke,v,k),k+=ke.length*2.8+2,c.setFont("helvetica","bold"),c.setFontSize(7),c.text("I authorize the ERO named below to:",v,k),k+=4,c.setFont("helvetica","normal"),O(v,k-1,3,3),c.setFillColor(0,0,0),c.rect(v+.5,k-.5,2,2,"F"),c.setFontSize(7);const Ye="Enter my PIN as my signature on my "+H+" electronically filed income tax return. I authorize the ERO to enter or generate my PIN, and I have entered my PIN below.",xt=c.splitTextToSize(Ye,ne-6);c.text(xt,v+5,k+1),k+=xt.length*2.8+3,O(v,k-1,3,3);const Ee="Enter my PIN as my signature on my "+H+" electronically filed income tax return. I will enter my own PIN below. I am using the Practitioner PIN method. I authorize the ERO named below to enter my PIN on my return only if I have provided the required Authentication Record information.",Pt=c.splitTextToSize(Ee,ne-6);c.text(Pt,v+5,k+1),k+=Pt.length*2.8+5,c.setFont("helvetica","bold"),c.setFontSize(9),c.text("Taxpayer's PIN: enter five digits, but don't enter all zeros",v,k);const $t=8,It=v+85,ir=W.pin||"00000";for(let it=0;it<5;it++)O(It+it*($t+1),k-5,$t,$t),c.setFont("helvetica","bold"),c.setFontSize(14),c.text(ir[it]||"",It+it*($t+1)+2.5,k+1);k+=8,c.setFontSize(9),c.text("Spouse's PIN: enter five digits, but don't enter all zeros",v,k);for(let it=0;it<5;it++)O(It+it*($t+1),k-5,$t,$t);k+=10,c.setFont("helvetica","normal"),c.setFontSize(7);const Kt="I understand that my PIN will be used as my signature for my "+H+" income tax return. I consent to the IRS and the ERO disclosing to each other my taxpayer identity, my return, and any return information in connection with e-filing, including my PIN, adjusted gross income, and any self-selected identity information.",Wt=c.splitTextToSize(Kt,ne);c.text(Wt,v,k),k+=Wt.length*2.8+5;const pt=ne*.6,Je=ne*.35;if(c.setFont("helvetica","bold"),c.setFontSize(8),c.text("Taxpayer's signature",v,k),c.text("Date",v+pt+5,k),k+=2,O(v,k,pt,18),W.signatureImage)try{c.addImage(W.signatureImage,"PNG",v+2,k+1,pt-4,16)}catch{c.setFont("helvetica","italic"),c.setFontSize(10),c.setTextColor(100,100,100),c.text("[Signature on file]",v+10,k+10),c.setTextColor(0,0,0)}O(v+pt+5,k,Je,8),c.setFont("helvetica","normal"),c.setFontSize(9);const xe=W.setAt?new Date(W.setAt).toLocaleDateString():new Date().toLocaleDateString();c.text(xe,v+pt+8,k+5.5),k+=20,c.setFont("helvetica","bold"),c.setFontSize(8),c.text("Spouse's signature",v,k),c.text("Date",v+pt+5,k),k+=2,O(v,k,pt,12),O(v+pt+5,k,Je,8),k+=15,c.setFillColor(0,0,0),c.rect(v,k,ne,5,"F"),c.setTextColor(255,255,255),c.setFont("helvetica","bold"),c.setFontSize(8),c.text("Part III",v+2,k+3.5),c.text("Electronic Return Originator (ERO) Declaration",v+18,k+3.5),k+=7,c.setTextColor(0,0,0),c.setFont("helvetica","normal"),c.setFontSize(7);const Se=c.splitTextToSize("I declare that I have reviewed the above taxpayer's return and that the entries on Form 8879 are complete and correct to the best of my knowledge. If I am only an Intermediate Service Provider, I understand that I am not responsible for reviewing the taxpayer's return. I have obtained the taxpayer's signature on Form 8879 before transmitting the return to the IRS; I have provided the taxpayer with a copy of all forms and information to be filed with the IRS; and I have followed all other requirements in Pub. 1345, Handbook for Authorized IRS e-file Providers of Individual Income Tax Returns, and, if applicable, Pub. 1346, Electronic Return File Specifications and Record Layouts for Individual Income Tax Returns. If I am also the Paid Preparer, under penalties of perjury I declare that I have examined the above taxpayer's return and accompanying schedules and statements, and to the best of my knowledge and belief, they are true, correct, and complete. This declaration is based on all information of which I have any knowledge.",ne);c.text(Se,v,k),k+=Se.length*2.5+5;const we=ne/3;if(c.setFont("helvetica","normal"),c.setFontSize(6),c.text("ERO's EFIN/PIN. Enter your six-digit EFIN",v,k+2),c.text("followed by your five-digit self-selected PIN.",v,k+4.5),O(v,k+6,we-5,8),c.setFontSize(9),c.text(te+"00000",v+3,k+11),c.setFontSize(6),c.text("ERO's signature",v+we,k+2),O(v+we,k+6,we,8),c.text("Date",v+we*2+5,k+2),O(v+we*2+5,k+6,we-10,8),c.setFontSize(9),c.text(new Date().toLocaleDateString(),v+we*2+8,k+11),k+=18,c.setFontSize(6),c.text("ERO firm name (or yours if self-employed), address, and ZIP code",v,k+2),O(v,k+4,ne,12),E)try{c.addImage(E,"PNG",v+2,k+5,10,10),c.setFont("helvetica","bold"),c.setFontSize(9),c.text(h,v+14,k+9),w&&(c.setFont("helvetica","normal"),c.setFontSize(8),c.text(w,v+14,k+13))}catch{c.setFont("helvetica","bold"),c.setFontSize(9),c.text(h,v+3,k+9),w&&(c.setFont("helvetica","normal"),c.text(w,v+3,k+13))}else c.setFont("helvetica","bold"),c.setFontSize(9),c.text(h,v+3,k+9),w&&(c.setFont("helvetica","normal"),c.setFontSize(8),c.text(w,v+3,k+13));C&&(c.setFontSize(8),c.text("Phone: "+C,v+ne-45,k+9)),k+=18,c.setFillColor(248,250,252),c.setDrawColor(139,92,246),c.setLineWidth(.5),c.roundedRect(v,k,ne,14,2,2,"FD"),c.setFont("helvetica","bold"),c.setFontSize(7),c.setTextColor(139,92,246),c.text("SIGNATURE VERIFICATION",v+3,k+4),c.setFont("helvetica","normal"),c.setFontSize(6),c.setTextColor(100,100,100),c.text("Verify this e-filing authorization online:",v+3,k+8),c.setTextColor(59,130,246),c.textWithLink(Y,v+3,k+11,{url:Y}),k=D-8,c.setFontSize(6),c.setTextColor(100,100,100),c.text("For Paperwork Reduction Act Notice, see your tax return instructions.",v,k),c.text("Cat. No. 17571Q",L/2,k,{align:"center"}),c.text("Form 8879 (Rev. 1-2021)",L-v,k,{align:"right"});const wt=`Form_8879_${`${y.firstName||""}_${y.lastName||""}`.trim().replace(/\s+/g,"_")||"client"}_${H}.pdf`;c.save(wt)};var ty=a("<div><div></div><span> In Progress"),ry=a('<div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"clip-rule=evenodd>'),sy=a('<div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"clip-rule=evenodd>'),ny=a('<div><div></div><div>Pending Tasks</div><div>Send all pending tasks to <!> <!> for completion</div><button><svg viewBox="0 0 20 20"fill=currentColor><path d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z">'),qn=a("<div>"),oy=a('<div><div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"clip-rule=evenodd></path></svg></div><div>All Tasks Complete!</div><div> has completed all required tasks'),iy=a('<div><div><button><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"clip-rule=evenodd>'),ly=a(`<div><div><div><div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z"clip-rule=evenodd></path></svg></div><div><h3>Mark as Not Needed</h3><p></p></div></div><p>This will mark the document as not applicable for this client. They won't be asked to upload it.</p><div><label>Reason (optional)</label><input type=text placeholder="e.g., Client has no W-2 income"></div><div><button>Cancel</button><button>`),ay=a("<div><div><div><h3>Client Tasks</h3><div><div><div></div><span> Pending</span></div><div><div></div><span> Complete"),dy=a('<svg viewBox="0 0 20 20"fill=white><path fill-rule=evenodd d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"clip-rule=evenodd>'),yy=a('<svg viewBox="0 0 20 20"fill=white><path fill-rule=evenodd d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"clip-rule=evenodd>'),cy=a("<span>Not Needed"),Qn=a("<span>"),py=a('<div><div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"clip-rule=evenodd></path></svg>Matched Documents (<!>)</div><div>'),uy=a("<div>Completed on "),my=a('<button><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"clip-rule=evenodd></path></svg>Download Signed Letter (PDF)'),Xn=a('<button><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"clip-rule=evenodd></path></svg>View Validation'),Kn=a('<button><svg viewBox="0 0 20 20"fill=currentColor><path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"></path><path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z">'),gy=a('<button><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"clip-rule=evenodd></path></svg>Download Form 8879 (PDF)'),fy=a('<div><button><svg viewBox="0 0 20 20"fill=currentColor><path d="M10 12a2 2 0 100-4 2 2 0 000 4z"></path><path fill-rule=evenodd d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z"clip-rule=evenodd></path></svg>Open Verification Page</button><button><svg viewBox="0 0 20 20"fill=currentColor><path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"></path><path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z">'),hy=a('<button><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"clip-rule=evenodd></path></svg>Not Needed'),vy=a("<div><span>Not Needed</span><button>"),by=a("<div><div><div></div></div><div><div></div><div></div><div><span> Priority"),Py=a("<span>- "),xy=a("<div><span></span><span>"),$y=a('<svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z"clip-rule=evenodd>');const Sy=e=>{const[y,o]=Ie(!1),[h,w]=Ie(null),[C,te]=Ie(null),[E,H]=Ie(null),[se,F]=Ie(new Set),[r,Z]=Ie(!1),[ge,x]=Ie(null),[W,$]=Ie("engagement"),[Y,c]=Ie(null),[L,D]=Ie(!1),[v,ne]=Ie(null),[k,Ze]=Ie(""),[O,he]=Ie(!1),[$e,fe]=Ie(new Set),ye=(B,ae)=>`${window.location.origin}/#/signature-validation/${B.id}/${B.accessToken}/${ae}`,Ce=B=>`${window.location.origin}/#/tax-verify/${B.id}/${B.accessToken}`,Xe=()=>e.documentRequests?.find(B=>B.status==="pending"||B.status==="partial")||e.documentRequests?.[0],nt=async(B,ae)=>{const Ke=ye(B,ae);try{await navigator.clipboard.writeText(Ke),c(B.id+ae),setTimeout(()=>c(null),2e3)}catch(tt){Qe("Failed to copy:",tt),alert("Failed to copy link to clipboard")}},ot=async B=>{const ae=Ce(B);try{await navigator.clipboard.writeText(ae),c(B.id+"verify"),setTimeout(()=>c(null),2e3)}catch(Ke){Qe("Failed to copy:",Ke),alert("Failed to copy link to clipboard")}},qe=B=>!B||!e.documents?[]:e.documents.filter(ae=>ae.drakeFormType?!!(ae.drakeFormType===B||B==="1099"&&ae.drakeFormType.startsWith("1099")||B==="1098"&&ae.drakeFormType.startsWith("1098")):!1),gt=Rr(()=>{const B=[];e.documents,e?.taxPortal?.ssn?B.push({id:"upload_ssn",type:"upload_ssn",title:"SSN Provided",description:`SSN ending in ${e?.taxPortal?.ssn.slice(-4)}`,status:"complete",priority:"high",completedAt:e?.taxPortal?.updatedAt}):B.push({id:"upload_ssn",type:"upload_ssn",title:"Upload SSN",description:"Client needs to provide their Social Security Number",status:"pending",priority:"high"});const ae=e.documentRequests?.find(pe=>pe.clientSignature?.signedAt),Ke=!!ae;B.push({id:"sign_letter",type:"sign_letter",title:Ke?"Engagement Letter Signed":"Sign Engagement Letter",description:Ke?`Signed by ${ae?.clientSignature?.name||"client"} on ${new Date(ae?.clientSignature?.signedAt||0).toLocaleDateString()}`:"Client needs to sign the tax preparation engagement letter",status:Ke?"complete":"pending",priority:"high",completedAt:ae?.clientSignature?.signedAt,signedRequest:Ke?ae:void 0});const tt=e.documentRequests?.find(pe=>pe.clientSigningPin?.pin),Q=!!tt?.clientSigningPin?.pin;B.push({id:"set_signing_pin",type:"set_signing_pin",title:Q?"E-Filing PIN Set":"Set E-Filing PIN",description:Q?`5-digit PIN set on ${new Date(tt?.clientSigningPin?.setAt||0).toLocaleDateString()}`:"Client needs to create a 5-digit PIN to authorize e-filing their tax return",status:Q?"complete":"pending",priority:"high",completedAt:tt?.clientSigningPin?.setAt,pinRequest:Q?tt:void 0});const G=e.taxPortal?.firstName&&e.taxPortal?.lastName&&e.taxPortal?.address&&e.taxPortal?.city&&e.taxPortal?.state&&e.taxPortal?.zipCode;B.push({id:"verify_info",type:"verify_info",title:"Verify Personal Information",description:G?"Personal information has been verified":"Client needs to verify their name and address",status:G?"complete":"pending",priority:"medium",completedAt:G?e.taxPortal?.updatedAt:void 0});const et=(e.taxPortal?.dependents?.length||0)>0,de=e.taxPortal?.hasNoDependents===!0,Ct=et||de;B.push({id:"provide_dependent_info",type:"provide_dependent_info",title:Ct?de?"No Dependents (Confirmed)":`${e.taxPortal?.dependents?.length} Dependent(s) Added`:"Provide Dependent Information",description:Ct?de?"Client confirmed they have no dependents to claim":`${e.taxPortal?.dependents?.length} dependent(s) have been added`:"Client needs to provide information about any dependents",status:Ct?"complete":"pending",priority:"medium",completedAt:Ct?e.taxPortal?.updatedAt:void 0});const lt=qe("w2"),_e=lt.length>0;B.push({id:"upload_w2",type:"upload_document",title:"Upload W-2",description:_e?`${lt.length} W-2 form(s) uploaded`:"Client needs to upload their W-2 form(s) from employer(s)",status:_e?"complete":"pending",priority:"high",documentType:"w2",matchedDocuments:_e?lt:void 0,matchedDocument:_e?lt[0]:void 0,completedAt:_e?lt[0].uploadedAt:void 0});const je=qe("1099"),ie=je.length>0;B.push({id:"upload_1099",type:"upload_document",title:"Upload 1099 Forms",description:ie?`${je.length} 1099 form(s) uploaded`:"Upload any 1099 forms (1099-NEC, 1099-MISC, 1099-INT, 1099-DIV)",status:ie?"complete":"pending",priority:"medium",documentType:"1099",matchedDocuments:ie?je:void 0,matchedDocument:ie?je[0]:void 0,completedAt:ie?je[0].uploadedAt:void 0});const d=e.documentRequests?.find(pe=>pe.clientReviewConfirmation?.reviewedAt),N=!!d;return B.push({id:"review_summary",type:"review_summary",title:N?"Tax Summary Reviewed":"Review Tax Summary",description:N?`Reviewed and confirmed on ${new Date(d?.clientReviewConfirmation?.reviewedAt||0).toLocaleDateString()}`:"Client needs to review and approve the tax summary before filing",status:N?"complete":"pending",priority:"low",completedAt:d?.clientReviewConfirmation?.reviewedAt}),B});Fs(()=>{const B=gt().filter(ae=>ae.status==="pending").length;e.onTasksChange?.(B)});const ke=Rr(()=>{const B=gt();return{total:B.length,pending:B.filter(ae=>ae.status==="pending").length,complete:B.filter(ae=>ae.status==="complete").length,inProgress:B.filter(ae=>ae.status==="in_progress").length}}),Ye=Rr(()=>gt().filter(B=>B.status==="pending")),xt=async()=>{if(Ye().length===0){H("No pending tasks to send");return}o(!0),H(null);try{const B=Xo.map(ae=>({...ae,required:ae.type==="w2"||Ye().some(Ke=>Ke.documentType===ae.type)}));await Dn(e.taxPortal,{taxYear:e?.taxPortal?.taxYear||new Date().getFullYear(),requestedDocuments:B,instructions:Ee()}),te(`Sent ${Ye().length} pending tasks to ${e?.taxPortal?.firstName} ${e?.taxPortal?.lastName}`),setTimeout(()=>te(null),5e3)}catch(B){H(B.message)}finally{o(!1)}},Ee=()=>`Please complete the following tasks:

${Ye().map((Ke,tt)=>`${tt+1}. ${Ke.title}: ${Ke.description}`).join(`
`)}`,Pt=async B=>{w(B.id),H(null),Qe(e?.taxPortal);try{const ae=`${e?.taxPortal?.firstName||""} ${e?.taxPortal?.lastName||""}`.trim(),Ke=e?.taxPortal?.email,tt=e?.taxPortal?.phone,Q=[{type:B.type||"other",label:B.title,required:B.priority==="high",uploaded:!1}];await Dn(e.taxPortal,{taxYear:e?.taxPortal?.taxYear||new Date().getFullYear(),requestedDocuments:Q,instructions:`Please complete the following task:

${B.title}: ${B.description}`,task:B}),te(`Reminder sent for "${B.title}" to ${ae}`),setTimeout(()=>te(null),5e3)}catch(ae){Qe("Error sending reminder:",ae),H(ae.message||"Failed to send reminder")}finally{w(null)}},$t=async(B,ae)=>{he(!0),H(null);try{const Ke=e.documentRequests?.find(Q=>Q.status==="pending"||Q.status==="partial");if(!Ke)throw new Error("No active document request found");const tt=await Mn(Ke.id,B.documentType||B.type,!0,ae||k());if(tt.success)fe(Q=>{const G=new Set(Q);return G.add(B.id),G}),te(`"${B.title}" marked as not needed`),setTimeout(()=>te(null),3e3);else throw new Error(tt.error||"Failed to mark as not needed")}catch(Ke){Qe("Error marking as not needed:",Ke),H(Ke.message)}finally{he(!1),D(!1),ne(null),Ze("")}},It=async B=>{he(!0),H(null);try{const ae=e.documentRequests?.find(tt=>tt.status==="pending"||tt.status==="partial");if(!ae)throw new Error("No active document request found");const Ke=await Mn(ae.id,B.documentType||B.type,!1);if(Ke.success)fe(tt=>{const Q=new Set(tt);return Q.delete(B.id),Q}),te(`"${B.title}" restored to pending`),setTimeout(()=>te(null),3e3);else throw new Error(Ke.error||"Failed to restore task")}catch(ae){Qe("Error restoring task:",ae),H(ae.message)}finally{he(!1)}},ir=B=>{ne(B),Ze(""),D(!0)},Kt=B=>({high:{label:"High",color:"#ef4444",bg:"rgba(239, 68, 68, 0.1)"},medium:{label:"Medium",color:"#f59e0b",bg:"rgba(245, 158, 11, 0.1)"},low:{label:"Low",color:"#6b7280",bg:"rgba(107, 114, 128, 0.1)"}})[B],Wt=B=>({pending:{label:"Pending",color:"#f59e0b",bg:"rgba(245, 158, 11, 0.1)"},complete:{label:"Complete",color:"#22c55e",bg:"rgba(34, 197, 94, 0.1)"},in_progress:{label:"In Progress",color:"#3b82f6",bg:"rgba(59, 130, 246, 0.1)"}})[B],pt=B=>B?new Date(B).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"",Je={display:"flex","flex-direction":"column",gap:"1.5rem"},xe={display:"flex","justify-content":"space-between","align-items":"flex-start","flex-wrap":"wrap",gap:"1rem"},ve={"font-size":"1.25rem","font-weight":"600",color:"var(--text-primary, #1f2937)",margin:"0"},Se={display:"flex",gap:"1.5rem","margin-top":"0.5rem"},we={display:"flex","align-items":"center",gap:"0.5rem","font-size":"0.875rem"},_t=B=>({width:"8px",height:"8px","border-radius":"50%",background:B}),wt=B=>({padding:"0.75rem 1rem","border-radius":"8px","font-size":"0.875rem",background:B==="success"?"rgba(34, 197, 94, 0.1)":"rgba(239, 68, 68, 0.1)",color:B==="success"?"#22c55e":"#ef4444",border:`1px solid ${B==="success"?"#22c55e":"#ef4444"}`,display:"flex","align-items":"center",gap:"0.5rem"}),it={display:"flex","flex-direction":"column",gap:"0.75rem"},rr=(B,ae=!1)=>({display:"flex","align-items":"flex-start",gap:"1rem",padding:"1rem",background:ae?"rgba(245, 158, 11, 0.03)":B==="complete"?"rgba(34, 197, 94, 0.03)":"var(--surface-color, #ffffff)",border:`1px solid ${ae?"rgba(245, 158, 11, 0.2)":B==="complete"?"rgba(34, 197, 94, 0.2)":"var(--border-color, #e5e7eb)"}`,"border-radius":"8px",transition:"all 0.2s ease",opacity:ae?"0.7":"1"}),Dt={display:"flex","align-items":"center","justify-content":"center","flex-shrink":"0","padding-top":"0.125rem"},qt=(B,ae=!1)=>({width:"24px",height:"24px","border-radius":"50%",border:B||ae?"none":"2px solid var(--border-color, #d1d5db)",background:ae?"#f59e0b":B?"#22c55e":"transparent",display:"flex","align-items":"center","justify-content":"center",cursor:"pointer",transition:"all 0.2s ease"}),lr={flex:"1","min-width":"0"},ce=(B,ae=!1)=>({"font-weight":"500","font-size":"0.9375rem",color:ae?"#f59e0b":B?"var(--text-secondary, #6b7280)":"var(--text-primary, #1f2937)","text-decoration":B||ae?"line-through":"none","margin-bottom":"0.25rem"}),U={"font-size":"0.8125rem",color:"var(--text-muted, #9ca3af)","margin-bottom":"0.5rem"},oe={display:"flex",gap:"0.5rem","flex-wrap":"wrap"},Ae=B=>({display:"inline-flex","align-items":"center",padding:"0.125rem 0.5rem","border-radius":"4px",background:B.bg,color:B.color,"font-size":"0.6875rem","font-weight":"600","text-transform":"uppercase","letter-spacing":"0.05em"}),re={padding:"0.875rem 2rem",background:"var(--primary-color, #3b82f6)",color:"white",border:"none","border-radius":"8px","font-size":"1rem","font-weight":"600",cursor:"pointer",display:"flex","align-items":"center",gap:"0.5rem",transition:"all 0.2s ease","box-shadow":"0 4px 6px rgba(59, 130, 246, 0.25)"},Me={...re,background:"var(--border-color, #d1d5db)",cursor:"not-allowed","box-shadow":"none"},Ne={"font-size":"0.75rem",color:"#22c55e","margin-top":"0.25rem"},Tt={display:"flex","flex-direction":"column","align-items":"center",padding:"1.5rem",background:"linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(139, 92, 246, 0.1))","border-radius":"12px","margin-bottom":"1rem"};return(()=>{var B=ay(),ae=B.firstChild,Ke=ae.firstChild,tt=Ke.firstChild,Q=tt.nextSibling,G=Q.firstChild,et=G.firstChild,de=et.nextSibling,Ct=de.firstChild,lt=G.nextSibling,_e=lt.firstChild,je=_e.nextSibling,ie=je.firstChild;return s(tt,ve),s(Q,Se),t(de,()=>ke().pending,Ct),t(je,()=>ke().complete,ie),t(Q,n(p,{get when(){return ke().inProgress>0},get children(){var d=ty(),N=d.firstChild,pe=N.nextSibling,Ge=pe.firstChild;return t(pe,()=>ke().inProgress,Ge),f(le=>{var S=we,X=_t("#3b82f6");return le.e=s(d,S,le.e),le.t=s(N,X,le.t),le},{e:void 0,t:void 0}),d}}),null),t(B,n(p,{get when(){return E()},get children(){var d=ry(),N=d.firstChild;return N.style.setProperty("width","16px"),N.style.setProperty("height","16px"),t(d,E,null),f(pe=>s(d,wt("error"),pe)),d}}),null),t(B,n(p,{get when(){return C()},get children(){var d=sy(),N=d.firstChild;return N.style.setProperty("width","16px"),N.style.setProperty("height","16px"),t(d,C,null),f(pe=>s(d,wt("success"),pe)),d}}),null),t(B,n(p,{get when(){return Ye().length>0},get children(){return n(fs,{get children(){var d=ny(),N=d.firstChild,pe=N.nextSibling,Ge=pe.nextSibling,le=Ge.firstChild,S=le.nextSibling,X=S.nextSibling,Ve=X.nextSibling;Ve.nextSibling;var Pe=Ge.nextSibling,ze=Pe.firstChild;return N.style.setProperty("font-size","2.5rem"),N.style.setProperty("margin-bottom","0.5rem"),t(N,()=>Ye().length),pe.style.setProperty("font-size","1rem"),pe.style.setProperty("font-weight","500"),pe.style.setProperty("color","var(--text-primary)"),pe.style.setProperty("margin-bottom","0.5rem"),Ge.style.setProperty("font-size","0.875rem"),Ge.style.setProperty("color","var(--text-secondary)"),Ge.style.setProperty("margin-bottom","1.5rem"),Ge.style.setProperty("text-align","center"),t(Ge,()=>e?.taxPortal?.firstName,S),t(Ge,()=>e?.taxPortal?.lastName,Ve),Pe.$$click=xt,ze.style.setProperty("width","20px"),ze.style.setProperty("height","20px"),t(Pe,()=>y()?"Sending...":"Send All Pending to Client",null),f(ht=>{var Vt=Tt,Yt=y()?Me:re,ut=y();return ht.e=s(d,Vt,ht.e),ht.t=s(Pe,Yt,ht.t),ut!==ht.a&&(Pe.disabled=ht.a=ut),ht},{e:void 0,t:void 0,a:void 0}),d}})}}),null),t(B,n(fs,{get children(){var d=qn();return t(d,n(Ht,{get each(){return gt()},children:N=>{const pe=Kt(N.priority),Ge=Wt(N.status),le=N.status==="complete",S=$e().has(N.id);return Qe(N),(()=>{var X=by(),Ve=X.firstChild,Pe=Ve.firstChild,ze=Ve.nextSibling,ht=ze.firstChild,Vt=ht.nextSibling,Yt=Vt.nextSibling,ut=Yt.firstChild,mr=ut.firstChild;return s(Ve,Dt),t(Pe,n(p,{when:le,get children(){var A=dy();return A.style.setProperty("width","14px"),A.style.setProperty("height","14px"),A}}),null),t(Pe,n(p,{when:S&&!le,get children(){var A=yy();return A.style.setProperty("width","14px"),A.style.setProperty("height","14px"),A}}),null),s(ze,lr),t(ht,()=>N.title),s(Vt,U),t(Vt,()=>N.description),t(Yt,n(p,{when:S,get children(){var A=cy();return f(Be=>s(A,Ae({color:"#f59e0b",bg:"rgba(245, 158, 11, 0.1)"}),Be)),A}}),ut),t(Yt,n(p,{when:!S,get children(){var A=Qn();return t(A,()=>Ge.label),f(Be=>s(A,Ae(Ge),Be)),A}}),ut),t(ut,()=>pe.label,mr),t(Yt,n(p,{get when(){return N.documentType&&!N.matchedDocuments},get children(){var A=Qn();return t(A,()=>N.documentType),f(Be=>s(A,Ae({color:"#8b5cf6",bg:"rgba(139, 92, 246, 0.1)"}),Be)),A}}),null),t(ze,n(p,{get when(){return N.matchedDocuments&&N.matchedDocuments.length>0},get children(){var A=py(),Be=A.firstChild,mt=Be.firstChild,Ot=mt.nextSibling,Cr=Ot.nextSibling;Cr.nextSibling;var K=Be.nextSibling;return A.style.setProperty("margin-top","0.75rem"),A.style.setProperty("padding","0.75rem"),A.style.setProperty("background","rgba(34, 197, 94, 0.05)"),A.style.setProperty("border-radius","6px"),A.style.setProperty("border","1px solid rgba(34, 197, 94, 0.2)"),Be.style.setProperty("font-size","0.75rem"),Be.style.setProperty("font-weight","600"),Be.style.setProperty("color","#166534"),Be.style.setProperty("margin-bottom","0.5rem"),Be.style.setProperty("display","flex"),Be.style.setProperty("align-items","center"),Be.style.setProperty("gap","0.375rem"),mt.style.setProperty("width","14px"),mt.style.setProperty("height","14px"),t(Be,()=>N.matchedDocuments.length,Cr),K.style.setProperty("display","flex"),K.style.setProperty("flex-direction","column"),K.style.setProperty("gap","0.375rem"),t(K,n(Ht,{get each(){return N.matchedDocuments},children:He=>(()=>{var rt=xy(),Oe=rt.firstChild,kt=Oe.nextSibling;return rt.style.setProperty("display","flex"),rt.style.setProperty("align-items","center"),rt.style.setProperty("gap","0.5rem"),rt.style.setProperty("font-size","0.8125rem"),rt.style.setProperty("color","var(--text-secondary)"),Oe.style.setProperty("display","inline-flex"),Oe.style.setProperty("padding","0.125rem 0.375rem"),Oe.style.setProperty("background","rgba(139, 92, 246, 0.1)"),Oe.style.setProperty("color","#8b5cf6"),Oe.style.setProperty("border-radius","4px"),Oe.style.setProperty("font-size","0.6875rem"),Oe.style.setProperty("font-weight","600"),t(Oe,()=>Ys[He.drakeFormType||"other"]),kt.style.setProperty("max-width","200px"),kt.style.setProperty("overflow","hidden"),kt.style.setProperty("text-overflow","ellipsis"),kt.style.setProperty("white-space","nowrap"),t(kt,()=>He.originalFileName),t(rt,n(p,{get when(){return He.payerInfo?.name},get children(){var St=Py();return St.firstChild,St.style.setProperty("color","var(--text-muted)"),St.style.setProperty("font-size","0.75rem"),t(St,()=>He.payerInfo?.name,null),St}}),null),f(()=>es(kt,"title",He.originalFileName)),rt})()})),A}}),null),t(ze,n(p,{get when(){return le&&N.completedAt&&!N.matchedDocuments},get children(){var A=uy();return A.firstChild,s(A,Ne),t(A,()=>pt(N.completedAt),null),A}}),null),t(ze,n(p,{get when(){return N.type==="sign_letter"&&N.signedRequest},get children(){return[(()=>{var A=my(),Be=A.firstChild;return A.$$mouseout=mt=>{mt.currentTarget.style.transform="translateY(0)",mt.currentTarget.style.boxShadow="0 2px 4px rgba(59, 130, 246, 0.3)"},A.$$mouseover=mt=>{mt.currentTarget.style.transform="translateY(-1px)",mt.currentTarget.style.boxShadow="0 4px 8px rgba(59, 130, 246, 0.4)"},A.$$click=()=>{N.signedRequest&&Zd({client:e.taxPortal,request:N.signedRequest,logo:e.logo})},A.style.setProperty("margin-top","0.75rem"),A.style.setProperty("padding","0.5rem 1rem"),A.style.setProperty("background","linear-gradient(135deg, #3b82f6, #1d4ed8)"),A.style.setProperty("color","white"),A.style.setProperty("border","none"),A.style.setProperty("border-radius","6px"),A.style.setProperty("font-size","0.8125rem"),A.style.setProperty("font-weight","500"),A.style.setProperty("cursor","pointer"),A.style.setProperty("display","inline-flex"),A.style.setProperty("align-items","center"),A.style.setProperty("gap","0.5rem"),A.style.setProperty("transition","all 0.2s ease"),A.style.setProperty("box-shadow","0 2px 4px rgba(59, 130, 246, 0.3)"),Be.style.setProperty("width","16px"),Be.style.setProperty("height","16px"),A})(),(()=>{var A=Xn(),Be=A.firstChild;return A.$$mouseout=mt=>{mt.currentTarget.style.transform="translateY(0)",mt.currentTarget.style.boxShadow="0 2px 4px rgba(139, 92, 246, 0.3)"},A.$$mouseover=mt=>{mt.currentTarget.style.transform="translateY(-1px)",mt.currentTarget.style.boxShadow="0 4px 8px rgba(139, 92, 246, 0.4)"},A.$$click=()=>{N.signedRequest&&(x(N.signedRequest),$("engagement"),Z(!0))},A.style.setProperty("margin-top","0.5rem"),A.style.setProperty("margin-left","0.5rem"),A.style.setProperty("padding","0.5rem 1rem"),A.style.setProperty("background","linear-gradient(135deg, #8b5cf6, #6d28d9)"),A.style.setProperty("color","white"),A.style.setProperty("border","none"),A.style.setProperty("border-radius","6px"),A.style.setProperty("font-size","0.8125rem"),A.style.setProperty("font-weight","500"),A.style.setProperty("cursor","pointer"),A.style.setProperty("display","inline-flex"),A.style.setProperty("align-items","center"),A.style.setProperty("gap","0.5rem"),A.style.setProperty("transition","all 0.2s ease"),A.style.setProperty("box-shadow","0 2px 4px rgba(139, 92, 246, 0.3)"),Be.style.setProperty("width","16px"),Be.style.setProperty("height","16px"),A})(),(()=>{var A=Kn(),Be=A.firstChild;return A.$$click=()=>N.signedRequest&&nt(N.signedRequest,"engagement"),A.style.setProperty("margin-top","0.5rem"),A.style.setProperty("margin-left","0.5rem"),A.style.setProperty("padding","0.5rem 1rem"),A.style.setProperty("border","1px solid #e2e8f0"),A.style.setProperty("border-radius","6px"),A.style.setProperty("font-size","0.8125rem"),A.style.setProperty("font-weight","500"),A.style.setProperty("cursor","pointer"),A.style.setProperty("display","inline-flex"),A.style.setProperty("align-items","center"),A.style.setProperty("gap","0.5rem"),A.style.setProperty("transition","all 0.2s ease"),Be.style.setProperty("width","16px"),Be.style.setProperty("height","16px"),t(A,()=>Y()===N.signedRequest?.id+"engagement"?"Copied!":"Copy Link",null),f(mt=>{var Ot=Y()===N.signedRequest?.id+"engagement"?"#22c55e":"#f1f5f9",Cr=Y()===N.signedRequest?.id+"engagement"?"white":"#64748b";return Ot!==mt.e&&((mt.e=Ot)!=null?A.style.setProperty("background",Ot):A.style.removeProperty("background")),Cr!==mt.t&&((mt.t=Cr)!=null?A.style.setProperty("color",Cr):A.style.removeProperty("color")),mt},{e:void 0,t:void 0}),A})()]}}),null),t(ze,n(p,{get when(){return N.type==="set_signing_pin"&&N.pinRequest},get children(){return[(()=>{var A=gy(),Be=A.firstChild;return A.$$mouseout=mt=>{mt.currentTarget.style.transform="translateY(0)",mt.currentTarget.style.boxShadow="0 2px 4px rgba(16, 185, 129, 0.3)"},A.$$mouseover=mt=>{mt.currentTarget.style.transform="translateY(-1px)",mt.currentTarget.style.boxShadow="0 4px 8px rgba(16, 185, 129, 0.4)"},A.$$click=()=>{N.pinRequest&&ey({client:e.taxPortal,request:N.pinRequest,logo:e.logo})},A.style.setProperty("margin-top","0.75rem"),A.style.setProperty("padding","0.5rem 1rem"),A.style.setProperty("background","linear-gradient(135deg, #10b981, #059669)"),A.style.setProperty("color","white"),A.style.setProperty("border","none"),A.style.setProperty("border-radius","6px"),A.style.setProperty("font-size","0.8125rem"),A.style.setProperty("font-weight","500"),A.style.setProperty("cursor","pointer"),A.style.setProperty("display","inline-flex"),A.style.setProperty("align-items","center"),A.style.setProperty("gap","0.5rem"),A.style.setProperty("transition","all 0.2s ease"),A.style.setProperty("box-shadow","0 2px 4px rgba(16, 185, 129, 0.3)"),Be.style.setProperty("width","16px"),Be.style.setProperty("height","16px"),A})(),(()=>{var A=Xn(),Be=A.firstChild;return A.$$mouseout=mt=>{mt.currentTarget.style.transform="translateY(0)",mt.currentTarget.style.boxShadow="0 2px 4px rgba(139, 92, 246, 0.3)"},A.$$mouseover=mt=>{mt.currentTarget.style.transform="translateY(-1px)",mt.currentTarget.style.boxShadow="0 4px 8px rgba(139, 92, 246, 0.4)"},A.$$click=()=>{N.pinRequest&&(x(N.pinRequest),$("pin"),Z(!0))},A.style.setProperty("margin-top","0.5rem"),A.style.setProperty("margin-left","0.5rem"),A.style.setProperty("padding","0.5rem 1rem"),A.style.setProperty("background","linear-gradient(135deg, #8b5cf6, #6d28d9)"),A.style.setProperty("color","white"),A.style.setProperty("border","none"),A.style.setProperty("border-radius","6px"),A.style.setProperty("font-size","0.8125rem"),A.style.setProperty("font-weight","500"),A.style.setProperty("cursor","pointer"),A.style.setProperty("display","inline-flex"),A.style.setProperty("align-items","center"),A.style.setProperty("gap","0.5rem"),A.style.setProperty("transition","all 0.2s ease"),A.style.setProperty("box-shadow","0 2px 4px rgba(139, 92, 246, 0.3)"),Be.style.setProperty("width","16px"),Be.style.setProperty("height","16px"),A})(),(()=>{var A=Kn(),Be=A.firstChild;return A.$$click=()=>N.pinRequest&&nt(N.pinRequest,"pin"),A.style.setProperty("margin-top","0.5rem"),A.style.setProperty("margin-left","0.5rem"),A.style.setProperty("padding","0.5rem 1rem"),A.style.setProperty("border","1px solid #e2e8f0"),A.style.setProperty("border-radius","6px"),A.style.setProperty("font-size","0.8125rem"),A.style.setProperty("font-weight","500"),A.style.setProperty("cursor","pointer"),A.style.setProperty("display","inline-flex"),A.style.setProperty("align-items","center"),A.style.setProperty("gap","0.5rem"),A.style.setProperty("transition","all 0.2s ease"),Be.style.setProperty("width","16px"),Be.style.setProperty("height","16px"),t(A,()=>Y()===N.pinRequest?.id+"pin"?"Copied!":"Copy Link",null),f(mt=>{var Ot=Y()===N.pinRequest?.id+"pin"?"#22c55e":"#f1f5f9",Cr=Y()===N.pinRequest?.id+"pin"?"white":"#64748b";return Ot!==mt.e&&((mt.e=Ot)!=null?A.style.setProperty("background",Ot):A.style.removeProperty("background")),Cr!==mt.t&&((mt.t=Cr)!=null?A.style.setProperty("color",Cr):A.style.removeProperty("color")),mt},{e:void 0,t:void 0}),A})()]}}),null),t(ze,n(p,{get when(){return bt(()=>N.type==="verify_info")()&&Xe()},get children(){var A=fy(),Be=A.firstChild,mt=Be.firstChild,Ot=Be.nextSibling,Cr=Ot.firstChild;return A.style.setProperty("margin-top","0.75rem"),A.style.setProperty("display","flex"),A.style.setProperty("flex-wrap","wrap"),A.style.setProperty("gap","0.5rem"),Be.$$mouseout=K=>{K.currentTarget.style.transform="translateY(0)",K.currentTarget.style.boxShadow="0 2px 4px rgba(6, 182, 212, 0.3)"},Be.$$mouseover=K=>{K.currentTarget.style.transform="translateY(-1px)",K.currentTarget.style.boxShadow="0 4px 8px rgba(6, 182, 212, 0.4)"},Be.$$click=()=>{const K=Xe();if(K){const He=Ce(K);window.open(He,"_blank")}},Be.style.setProperty("padding","0.5rem 1rem"),Be.style.setProperty("background","linear-gradient(135deg, #06b6d4, #0891b2)"),Be.style.setProperty("color","white"),Be.style.setProperty("border","none"),Be.style.setProperty("border-radius","6px"),Be.style.setProperty("font-size","0.8125rem"),Be.style.setProperty("font-weight","500"),Be.style.setProperty("cursor","pointer"),Be.style.setProperty("display","inline-flex"),Be.style.setProperty("align-items","center"),Be.style.setProperty("gap","0.5rem"),Be.style.setProperty("transition","all 0.2s ease"),Be.style.setProperty("box-shadow","0 2px 4px rgba(6, 182, 212, 0.3)"),mt.style.setProperty("width","16px"),mt.style.setProperty("height","16px"),Ot.$$click=()=>{const K=Xe();K&&ot(K)},Ot.style.setProperty("padding","0.5rem 1rem"),Ot.style.setProperty("border","1px solid #e2e8f0"),Ot.style.setProperty("border-radius","6px"),Ot.style.setProperty("font-size","0.8125rem"),Ot.style.setProperty("font-weight","500"),Ot.style.setProperty("cursor","pointer"),Ot.style.setProperty("display","inline-flex"),Ot.style.setProperty("align-items","center"),Ot.style.setProperty("gap","0.5rem"),Ot.style.setProperty("transition","all 0.2s ease"),Cr.style.setProperty("width","16px"),Cr.style.setProperty("height","16px"),t(Ot,()=>Y()===Xe()?.id+"verify"?"Copied!":"Copy Verification Link",null),f(K=>{var He=Y()===Xe()?.id+"verify"?"#22c55e":"#f1f5f9",rt=Y()===Xe()?.id+"verify"?"white":"#64748b";return He!==K.e&&((K.e=He)!=null?Ot.style.setProperty("background",He):Ot.style.removeProperty("background")),rt!==K.t&&((K.t=rt)!=null?Ot.style.setProperty("color",rt):Ot.style.removeProperty("color")),K},{e:void 0,t:void 0}),A}}),null),t(X,n(p,{get when(){return!le&&!$e().has(N.id)},get children(){var A=qn();return A.style.setProperty("display","flex"),A.style.setProperty("flex-direction","column"),A.style.setProperty("gap","0.5rem"),A.style.setProperty("align-items","flex-end"),t(A,n($s,{variant:"secondary",size:"sm",onClick:()=>Pt(N),get disabled(){return h()===N.id},get children(){return h()===N.id?"Sending...":"Send Reminder"}}),null),t(A,n(p,{get when(){return N.type==="upload_document"},get children(){var Be=hy(),mt=Be.firstChild;return Be.$$mouseout=Ot=>{Ot.currentTarget.style.borderColor="#cbd5e1",Ot.currentTarget.style.color="#94a3b8"},Be.$$mouseover=Ot=>{Ot.currentTarget.style.borderColor="#f59e0b",Ot.currentTarget.style.color="#f59e0b"},Be.$$click=()=>ir(N),Be.style.setProperty("padding","0.375rem 0.75rem"),Be.style.setProperty("background","transparent"),Be.style.setProperty("color","#94a3b8"),Be.style.setProperty("border","1px dashed #cbd5e1"),Be.style.setProperty("border-radius","6px"),Be.style.setProperty("font-size","0.75rem"),Be.style.setProperty("cursor","pointer"),Be.style.setProperty("display","flex"),Be.style.setProperty("align-items","center"),Be.style.setProperty("gap","0.375rem"),Be.style.setProperty("transition","all 0.2s ease"),mt.style.setProperty("width","14px"),mt.style.setProperty("height","14px"),Be}}),null),A}}),null),t(X,n(p,{get when(){return $e().has(N.id)},get children(){var A=vy(),Be=A.firstChild,mt=Be.nextSibling;return A.style.setProperty("display","flex"),A.style.setProperty("flex-direction","column"),A.style.setProperty("gap","0.375rem"),A.style.setProperty("align-items","flex-end"),Be.style.setProperty("padding","0.25rem 0.5rem"),Be.style.setProperty("background","rgba(245, 158, 11, 0.1)"),Be.style.setProperty("color","#f59e0b"),Be.style.setProperty("border-radius","4px"),Be.style.setProperty("font-size","0.6875rem"),Be.style.setProperty("font-weight","600"),Be.style.setProperty("text-transform","uppercase"),mt.$$click=()=>It(N),mt.style.setProperty("padding","0.25rem 0.5rem"),mt.style.setProperty("background","transparent"),mt.style.setProperty("color","#64748b"),mt.style.setProperty("border","none"),mt.style.setProperty("font-size","0.75rem"),mt.style.setProperty("cursor","pointer"),mt.style.setProperty("text-decoration","underline"),t(mt,()=>O()?"Restoring...":"Undo"),f(()=>mt.disabled=O()),A}}),null),f(A=>{var Be=rr(N.status,S),mt=qt(le,S),Ot=ce(le,S),Cr=oe,K=Ae(pe);return A.e=s(X,Be,A.e),A.t=s(Pe,mt,A.t),A.a=s(ht,Ot,A.a),A.o=s(Yt,Cr,A.o),A.i=s(ut,K,A.i),A},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),X})()}})),f(N=>s(d,it,N)),d}}),null),t(B,n(p,{get when(){return ke().pending===0},get children(){return n(fs,{get children(){var d=oy(),N=d.firstChild,pe=N.firstChild,Ge=N.nextSibling,le=Ge.nextSibling,S=le.firstChild;return d.style.setProperty("text-align","center"),d.style.setProperty("padding","2rem"),d.style.setProperty("background","rgba(34, 197, 94, 0.05)"),d.style.setProperty("border-radius","8px"),N.style.setProperty("font-size","3rem"),N.style.setProperty("margin-bottom","0.75rem"),N.style.setProperty("color","#22c55e"),pe.style.setProperty("width","48px"),pe.style.setProperty("height","48px"),Ge.style.setProperty("font-size","1.125rem"),Ge.style.setProperty("font-weight","600"),Ge.style.setProperty("color","#166534"),Ge.style.setProperty("margin-bottom","0.5rem"),le.style.setProperty("font-size","0.875rem"),le.style.setProperty("color","#22c55e"),t(le,()=>e?.taxPortal?.firstName,S),d}})}}),null),t(B,n(p,{get when(){return bt(()=>!!r())()&&ge()},get children(){var d=iy(),N=d.firstChild,pe=N.firstChild,Ge=pe.firstChild;return d.$$click=le=>{le.target===le.currentTarget&&Z(!1)},d.style.setProperty("position","fixed"),d.style.setProperty("top","0"),d.style.setProperty("left","0"),d.style.setProperty("right","0"),d.style.setProperty("bottom","0"),d.style.setProperty("background-color","rgba(0, 0, 0, 0.5)"),d.style.setProperty("display","flex"),d.style.setProperty("align-items","center"),d.style.setProperty("justify-content","center"),d.style.setProperty("z-index","1000"),d.style.setProperty("padding","1rem"),N.style.setProperty("background","white"),N.style.setProperty("border-radius","12px"),N.style.setProperty("max-width","900px"),N.style.setProperty("max-height","90vh"),N.style.setProperty("overflow","auto"),N.style.setProperty("box-shadow","0 25px 50px -12px rgba(0, 0, 0, 0.25)"),N.style.setProperty("position","relative"),pe.$$click=()=>Z(!1),pe.style.setProperty("position","absolute"),pe.style.setProperty("top","1rem"),pe.style.setProperty("right","1rem"),pe.style.setProperty("background","#f1f5f9"),pe.style.setProperty("border","none"),pe.style.setProperty("border-radius","50%"),pe.style.setProperty("width","32px"),pe.style.setProperty("height","32px"),pe.style.setProperty("cursor","pointer"),pe.style.setProperty("display","flex"),pe.style.setProperty("align-items","center"),pe.style.setProperty("justify-content","center"),pe.style.setProperty("z-index","10"),Ge.style.setProperty("width","20px"),Ge.style.setProperty("height","20px"),Ge.style.setProperty("color","#64748b"),t(N,n(ti,{get request(){return ge()},get type(){return W()}}),null),d}}),null),t(B,n(p,{get when(){return bt(()=>!!L())()&&v()},get children(){var d=ly(),N=d.firstChild,pe=N.firstChild,Ge=pe.firstChild,le=Ge.firstChild,S=Ge.nextSibling,X=S.firstChild,Ve=X.nextSibling,Pe=pe.nextSibling,ze=Pe.nextSibling,ht=ze.firstChild,Vt=ht.nextSibling,Yt=ze.nextSibling,ut=Yt.firstChild,mr=ut.nextSibling;return d.$$click=A=>{A.target===A.currentTarget&&(D(!1),ne(null))},d.style.setProperty("position","fixed"),d.style.setProperty("top","0"),d.style.setProperty("left","0"),d.style.setProperty("right","0"),d.style.setProperty("bottom","0"),d.style.setProperty("background-color","rgba(0, 0, 0, 0.5)"),d.style.setProperty("display","flex"),d.style.setProperty("align-items","center"),d.style.setProperty("justify-content","center"),d.style.setProperty("z-index","1000"),d.style.setProperty("padding","1rem"),N.style.setProperty("background","white"),N.style.setProperty("border-radius","12px"),N.style.setProperty("max-width","450px"),N.style.setProperty("width","100%"),N.style.setProperty("padding","1.5rem"),N.style.setProperty("box-shadow","0 25px 50px -12px rgba(0, 0, 0, 0.25)"),pe.style.setProperty("display","flex"),pe.style.setProperty("align-items","center"),pe.style.setProperty("gap","0.75rem"),pe.style.setProperty("margin-bottom","1rem"),Ge.style.setProperty("width","40px"),Ge.style.setProperty("height","40px"),Ge.style.setProperty("border-radius","10px"),Ge.style.setProperty("background","rgba(245, 158, 11, 0.1)"),Ge.style.setProperty("display","flex"),Ge.style.setProperty("align-items","center"),Ge.style.setProperty("justify-content","center"),le.style.setProperty("width","24px"),le.style.setProperty("height","24px"),le.style.setProperty("color","#f59e0b"),X.style.setProperty("font-size","1rem"),X.style.setProperty("font-weight","600"),X.style.setProperty("color","#1f2937"),X.style.setProperty("margin","0"),Ve.style.setProperty("font-size","0.875rem"),Ve.style.setProperty("color","#6b7280"),Ve.style.setProperty("margin","0"),t(Ve,()=>v()?.title),Pe.style.setProperty("font-size","0.875rem"),Pe.style.setProperty("color","#4b5563"),Pe.style.setProperty("margin-bottom","1rem"),ze.style.setProperty("margin-bottom","1.5rem"),ht.style.setProperty("display","block"),ht.style.setProperty("font-size","0.875rem"),ht.style.setProperty("font-weight","500"),ht.style.setProperty("color","#374151"),ht.style.setProperty("margin-bottom","0.5rem"),Vt.addEventListener("blur",A=>A.currentTarget.style.borderColor="#d1d5db"),Vt.addEventListener("focus",A=>A.currentTarget.style.borderColor="#f59e0b"),Vt.$$input=A=>Ze(A.currentTarget.value),Vt.style.setProperty("width","100%"),Vt.style.setProperty("padding","0.625rem 0.75rem"),Vt.style.setProperty("border","1px solid #d1d5db"),Vt.style.setProperty("border-radius","8px"),Vt.style.setProperty("font-size","0.875rem"),Vt.style.setProperty("outline","none"),Vt.style.setProperty("box-sizing","border-box"),Yt.style.setProperty("display","flex"),Yt.style.setProperty("gap","0.75rem"),Yt.style.setProperty("justify-content","flex-end"),ut.$$click=()=>{D(!1),ne(null),Ze("")},ut.style.setProperty("padding","0.625rem 1rem"),ut.style.setProperty("background","#f3f4f6"),ut.style.setProperty("color","#374151"),ut.style.setProperty("border","none"),ut.style.setProperty("border-radius","8px"),ut.style.setProperty("font-size","0.875rem"),ut.style.setProperty("font-weight","500"),ut.style.setProperty("cursor","pointer"),mr.$$click=()=>v()&&$t(v()),mr.style.setProperty("padding","0.625rem 1rem"),mr.style.setProperty("color","white"),mr.style.setProperty("border","none"),mr.style.setProperty("border-radius","8px"),mr.style.setProperty("font-size","0.875rem"),mr.style.setProperty("font-weight","500"),mr.style.setProperty("display","flex"),mr.style.setProperty("align-items","center"),mr.style.setProperty("gap","0.5rem"),t(mr,(()=>{var A=bt(()=>!!O());return()=>A()?[(()=>{var Be=$y();return Be.style.setProperty("width","16px"),Be.style.setProperty("height","16px"),Be.style.setProperty("animation","spin 1s linear infinite"),Be})(),"Processing..."]:"Mark as Not Needed"})()),f(A=>{var Be=O(),mt=O()?"#fbbf24":"#f59e0b",Ot=O()?"not-allowed":"pointer";return Be!==A.e&&(mr.disabled=A.e=Be),mt!==A.t&&((A.t=mt)!=null?mr.style.setProperty("background",mt):mr.style.removeProperty("background")),Ot!==A.a&&((A.a=Ot)!=null?mr.style.setProperty("cursor",Ot):mr.style.removeProperty("cursor")),A},{e:void 0,t:void 0,a:void 0}),f(()=>Vt.value=k()),d}}),null),f(d=>{var N=Je,pe=xe,Ge=we,le=_t("#f59e0b"),S=we,X=_t("#22c55e");return d.e=s(B,N,d.e),d.t=s(ae,pe,d.t),d.a=s(G,Ge,d.a),d.o=s(et,le,d.o),d.i=s(lt,S,d.i),d.n=s(_e,X,d.n),d},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),B})()};is(["click","input","mouseover","mouseout"]);function gs(e){if(e==null)return"";const y=String(e);return y.includes(",")||y.includes('"')||y.includes(`
`)||y.includes("\r")?`"${y.replace(/"/g,'""')}"`:y}function zo(e){if(!e.ss)return null;const y=e.ss.replace(/\D/g,"");return y.length!==9?null:y}function wy(e,y,o){const h=[];if(!e.extractedAmounts||!e.drakeFormType)return h;const w=ri[e.drakeFormType];if(!w)return h;const C=si(e.drakeFormType,e.extractedAmounts),te=zo(y),E=te?ni(te):"",H=y.firstName||"",se=y.lastName||"",F=y.middleName?y.middleName.charAt(0).toUpperCase():void 0,r=e.payerInfo;for(const{box:Z,value:ge}of C){const x={SSN:E,firstName:H,lastName:se,middleInitial:F,taxYear:o,formType:w.formCode,boxNumber:Z.boxNumber,amount:ge,description:Z.description,payerName:r?.name,payerEIN:r?.ein?Sn(r.ein):void 0,payerAddress:r?[r.address,r.city,r.state,r.zip].filter(Boolean).join(", "):void 0,state:r?.state,stateId:void 0};e.drakeFormType==="w2"&&r&&(x.employerName=r.name,x.employerEIN=r.ein?Sn(r.ein):void 0,x.employerAddress=x.payerAddress),e.drakeFormType==="1098"&&e.extractedAmounts.propertyAddress&&(x.propertyAddress=e.extractedAmounts.propertyAddress),["1098_t","1099_int","1099_div"].includes(e.drakeFormType)&&r&&(x.institutionName=r.name,x.institutionEIN=r.ein?Sn(r.ein):void 0),h.push(x)}return h}function Cy(e,y){const o=[];o.push(ii.join(","));for(const h of e){const w=[gs(h.SSN),gs(h.firstName),gs(h.middleInitial),gs(h.lastName),gs(h.suffix),gs(h.taxYear),gs(h.formType),gs(h.boxNumber),gs(oi(h.amount)),gs(h.description),gs(h.payerName),gs(h.payerEIN),gs(h.payerAddress),gs(h.state),gs(h.stateId)];o.push(w.join(","))}return o.join(`
`)}function _y(e,y){const o=new Blob([e],{type:"text/csv;charset=utf-8;"}),h=URL.createObjectURL(o),w=document.createElement("a");w.href=h,w.download=y,document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(h)}function ky(e,y,o){const h=[],w=[];if(!zo(e))return{success:!1,recordCount:0,totalIncome:0,totalWithholding:0,errors:["Client SSN is missing or invalid. Cannot generate export."]};if(!e.firstName||!e.lastName)return{success:!1,recordCount:0,totalIncome:0,totalWithholding:0,errors:["Client first name and last name are required."]};const te=y.filter(W=>!(!W.verified||W.drakeFormType==="w2"&&o.includeW2===!1||["1099_misc","1099_nec","1099_int","1099_div"].includes(W.drakeFormType||"")&&o.include1099===!1||["1098","1098_t"].includes(W.drakeFormType||"")&&o.include1098===!1||W.drakeFormType==="schedule_k1"&&o.includeK1===!1||W.drakeFormType==="receipt"&&o.includeReceipts===!1));if(te.length===0)return{success:!1,recordCount:0,totalIncome:0,totalWithholding:0,errors:["No verified documents available for export with the current filter settings."]};const E=[];let H=0,se=0;for(const W of te)try{const $=wy(W,e,o.taxYear);E.push(...$);for(const Y of $)(Y.formType==="W2"&&Y.boxNumber==="1"||Y.formType==="1099NEC"&&Y.boxNumber==="1"||Y.formType==="1099MISC"&&["1","2","3"].includes(Y.boxNumber)||Y.formType==="1099INT"&&Y.boxNumber==="1"||Y.formType==="1099DIV"&&Y.boxNumber==="1a"||Y.formType==="K1"&&["1","4","5","6a"].includes(Y.boxNumber))&&(H+=Y.amount),(Y.formType==="W2"&&Y.boxNumber==="2"||Y.formType==="1099NEC"&&Y.boxNumber==="4"||Y.formType==="1099MISC"&&Y.boxNumber==="4"||Y.formType==="1099INT"&&Y.boxNumber==="4"||Y.formType==="1099DIV"&&Y.boxNumber==="4")&&(se+=Y.amount)}catch($){w.push(`Error processing document "${W.originalFileName}": ${$ instanceof Error?$.message:"Unknown error"}`)}if(E.length===0)return{success:!1,recordCount:0,totalIncome:0,totalWithholding:0,errors:["No records were generated from the documents. Please verify that documents have extracted amounts."]};const F=Cy(E),r=`${e.lastName}_${e.firstName}`.replace(/\s+/g,"_"),Z=new Date().toISOString().slice(0,10).replace(/-/g,""),x=`Drake_${r}_${o.taxYear}_${Z}.csv`;return{success:!0,csvData:F,fileName:x,recordCount:E.length,totalIncome:H,totalWithholding:se,errors:h.length>0?h:void 0,warnings:w.length>0?w:void 0,exportedAt:Date.now()}}var Iy=a('<svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"clip-rule=evenodd>'),Ty=a("<div><div><div></div></div><div>"),Ay=a("<div><div></div><div>Errors"),Ny=a("<div><div><div></div><div>Total Documents</div></div><div><div></div><div>Verified</div></div><div><div></div><div>Pending Review"),zy=a('<div><svg viewBox="0 0 20 20"fill=currentColor><path d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z"></path></svg>Including <!> spouse document(s) in calculation'),Dy=a('<div><div><svg viewBox="0 0 20 20"fill=#0284c7><path d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"></path></svg><span>Dependents for Calculation (<!> of <!> active)</span></div><div>'),Ry=a("<div><div></div>Calculating..."),Fy=a("<div><div></div>Exporting..."),Ey=a("<div><button></button><button>"),Ly=a('<svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"clip-rule=evenodd>'),My=a('<svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"clip-rule=evenodd>'),By=a("<div><div>"),Oy=a('<h4><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.707l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 001.414 1.414L9 9.414V13a1 1 0 102 0V9.414l1.293 1.293a1 1 0 001.414-1.414z"clip-rule=evenodd></path></svg>Advance to Next Step'),jy=a('<div><div><div>Review with Client</div><div>Review calculation results and prepare return</div></div><button><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"clip-rule=evenodd></path></svg>Mark Review Complete'),Uy=a('<div><div><div>Client Signatures</div><div>Request client to sign tax return</div></div><button><svg viewBox="0 0 20 20"fill=currentColor><path d="M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"></path><path fill-rule=evenodd d="M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"clip-rule=evenodd></path></svg>Mark Signatures Obtained'),Hy=a('<div><div><div>File Tax Return</div><div>Mark return as filed with IRS</div></div><button><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"clip-rule=evenodd></path></svg>Mark as Filed'),cn=a("<div>"),Wy=a(`<div><div><svg viewBox="0 0 20 20"fill=#22c55e><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"clip-rule=evenodd></path></svg></div><h3>Tax Return Filed!</h3><p>'s <!> tax return has been successfully filed.`),Yy=a("<li>Review and verify <!> pending document(s)"),Gy=a("<li>Resolve <!> document error(s)"),Vy=a("<li>Run tax calculation to see estimated results"),qy=a("<li>Review calculation results with client"),Qy=a("<li>Export data to Drake Tax Software"),Xy=a("<li>Complete and file return"),Ky=a("<li>Upload tax documents to begin"),Jy=a(`<div><div><div><h3>Tax Preparation Progress</h3><p> <!> - Tax Year </p></div></div><div><div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"clip-rule=evenodd></path></svg>Next Steps</div><ul></ul></div><style>
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
      `),Zy=a("<div><div></div><span>"),ec=a("<span>Spouse"),tc=a("<button><span></span> <span>(<!>)"),rc=a('<svg viewBox="0 0 20 20"fill=currentColor><path d="M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V4a2 2 0 00-2-2H6zm1 2a1 1 0 000 2h6a1 1 0 100-2H7zm6 7a1 1 0 011 1v3a1 1 0 11-2 0v-3a1 1 0 011-1zm-3 3a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zm-2-2a1 1 0 011 1v2a1 1 0 11-2 0v-2a1 1 0 011-1z">'),sc=a('<svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"clip-rule=evenodd>'),nc=a('<div><div><h4><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z"clip-rule=evenodd></path></svg>Form 1040 - Tax Calculation Details</h4><p>Tax Year <!> | </p></div><div>Marginal Rate: <strong>%'),oc=a("<div>INCOME (Lines 1-9)"),ic=a("<div><span>1h</span><span>Other earned income</span><span>"),lc=a("<div><span>2b</span><span>Taxable interest (1099-INT)</span><span>"),ac=a("<div><span>3b</span><span>Ordinary dividends (1099-DIV)</span><span>"),dc=a("<div><span>8</span><span>Other income (Schedule 1)</span><span>"),yc=a("<div><span>Schedule C - Business income (1099-NEC)</span><span>"),cc=a("<div><span>Schedule E - Rental income</span><span>"),pc=a("<div><span>Schedule E - Royalties</span><span>"),uc=a("<div><span>Other income</span><span>"),mc=a("<div><div><span>1a</span><span>Wages, salaries, tips (W-2 Box 1)</span><span></span></div><div><span>1z</span><span>Total wages</span><span></span></div><div><span>9</span><span>TOTAL INCOME</span><span>"),gc=a("<div>ADJUSTED GROSS INCOME (Lines 10-11)"),fc=a("<div><div><span>10</span><span>Adjustments to income</span><span></span></div><div><span>11</span><span>ADJUSTED GROSS INCOME (AGI)</span><span>"),hc=a("<div>DEDUCTIONS (Lines 12-15)"),vc=a("<div><span>SALT (State/Local taxes) - capped</span><span>"),bc=a("<div><span>Mortgage interest (1098)</span><span>"),Pc=a("<div><span>13a</span><span>Qualified Business Income Deduction (QBID)</span><span>"),xc=a("<div><span>13b</span><span>Schedule 1-A Additional Deductions</span><span>"),$c=a("<div><span>14</span><span>Total Deductions (Lines 12 + 13a + 13b)</span><span>"),Sc=a("<div><div><span>12a</span><span>Standard deduction</span><span></span></div><div><span>12b</span><span>Itemized deductions (Schedule A)</span><span></span></div><div><span>12</span><span><strong>Deduction used:</strong> </span><span></span></div><div><span>15</span><span>TAXABLE INCOME (Line 11 - Line 14)</span><span>"),wc=a("<div>TAX CALCULATION (Lines 16-24)"),Cc=a("<div><span>17</span><span>Schedule 2 Taxes (SE tax, etc.)</span><span>"),_c=a("<div><span>18</span><span>Total tax before credits (Lines 16 + 17)</span><span>"),kc=a("<div><span>19</span><span>Child Tax Credit / Credit for Other Dependents</span><span>-"),Ic=a("<div><span>21</span><span>Total Credits</span><span>-"),Tc=a("<div><div><span>16</span><span>Tax (from tax table)</span><span></span></div><div><span>Applied: </span><span></span></div><div><span>24</span><span>TOTAL TAX</span><span>"),Ac=a("<div>PAYMENTS (Lines 25-33)"),Nc=a("<div><span>25a</span><span>Federal tax withheld (W-2 Box 2)</span><span>"),zc=a("<div><span>25b</span><span>Federal tax withheld (1099s)</span><span>"),Dc=a("<div><div><span>33</span><span>TOTAL PAYMENTS</span><span>"),Rc=a("<div>FORM 8962 - PREMIUM TAX CREDIT (1095-A)"),Fc=a("<div><span>26</span><span>Net Premium Tax Credit (Additional Refund)</span><span>"),Ec=a("<div><span>27</span><span>Excess APTC (Before Limitation)</span><span>"),Lc=a("<div><span>28</span><span>Repayment Limitation</span><span>"),Mc=a("<div><span>29</span><span>Excess APTC Repayment (to Schedule 2)</span><span>"),Bc=a("<div><div><span>Info</span><span>Family Size / Federal Poverty Level</span><span> persons / </span></div><div><span>%FPL</span><span>Household Income as % of FPL</span><span>%</span></div><div><span>11</span><span>Applicable % / Annual Contribution</span><span>% = </span></div><div><span>1095-A (<!> months): Premium: <!> | SLCSP: <!> | APTC: </span><span></span></div><div><span>24</span><span>Total Premium Tax Credit Allowed</span><span></span></div><div><span>25</span><span>Advance PTC Received (APTC)</span><span>"),Oc=a("<div>Line 34 - REFUND"),jc=a("<div>Payments (<!>) - Tax (<!>)"),Uc=a("<div>Line 37 - AMOUNT YOU OWE"),Hc=a("<div>Tax (<!>) - Payments (<!>)"),Wc=a("<div>No refund or amount owed"),Yc=a("<p>* This is a preliminary estimate. Actual results may vary based on additional deductions, credits, and IRS verification.");const _n=[{id:"documents_collected",label:"Documents Collected",description:"All tax documents uploaded"},{id:"verified",label:"Verified",description:"Documents reviewed and verified"},{id:"calculations",label:"Calculations",description:"Tax calculations complete"},{id:"review",label:"Review",description:"Final review by preparer"},{id:"signatures",label:"Signatures",description:"Client signatures obtained"},{id:"filing",label:"Filing",description:"Return filed with IRS"}],Gc=e=>{const[y,o]=Ie(!1),[h,w]=Ie(!1),[C,te]=Ie(null),[E,H]=Ie(null),[se,F]=Ie(!1),[r,Z]=Ie(!1),[ge,x]=Ie(!1),W=Rr(()=>{const ve=e.documents,Se=ve.length,we=ve.filter(_t=>_t.verified).length;return ge()?"filing":r()?"signatures":se()?"review":C()?"calculations":Se>0&&we===Se?"verified":"documents_collected"}),$=ve=>_n.findIndex(Se=>Se.id===ve),Y=Rr(()=>{const ve=e.documents;return{total:ve.length,verified:ve.filter(Se=>Se.verified).length,pending:ve.filter(Se=>!Se.verified&&Se.uploadStatus!=="error").length,errors:ve.filter(Se=>Se.uploadStatus==="error").length}}),c=Rr(()=>{const ve=e.documents||[],Se=e.spouseDocuments||[];return[...ve,...Se]}),L=Rr(()=>{const ve=e.client.dependents||[],Se=e.linkedSpouse?.dependents||[],we=[...ve];for(const _t of Se)we.some(it=>it.ssn&&_t.ssn&&it.ssn===_t.ssn)||we.push(_t);return we.filter(_t=>!_t.excludeFromCalculation)}),D=Rr(()=>{const ve=e.client.dependents||[],Se=e.linkedSpouse?.dependents||[],we=[...ve];for(const _t of Se)we.some(it=>it.ssn&&_t.ssn&&it.ssn===_t.ssn)||we.push({..._t,_isSpouseDependent:!0});return we}),v=ve=>{if(!e.onClientChange)return;const Se=[...e.client.dependents||[]];ve<Se.length&&(Se[ve]={...Se[ve],excludeFromCalculation:!Se[ve].excludeFromCalculation},e.onClientChange({dependents:Se}))},ne=async()=>{o(!0),H(null);try{const ve=e.client.taxStrategy?.otherIncome?.adjustments,Se=e.client.taxStrategy?.otherIncome?.schedule2Taxes,we=(Se?.excessPtcRepayment?.amount||0)+(Se?.selfEmploymentTax?.amount||0)+(Se?.unreportedSocialSecurityTax?.amount||0)+(Se?.additionalTaxOnIra?.amount||0)+(Se?.householdEmploymentTax?.amount||0)+(Se?.netInvestmentIncomeTax?.amount||0),_t={qbid:ve?.qbid?.amount||0,schedule1ADeductions:ve?.schedule1ADeductions?.amount||0,schedule2Tax:we},wt={...e.client,dependents:L()},it=c();console.log("[TAX PREP] Running calculation with:"),console.log("[TAX PREP] - Taxpayer documents:",e.documents.length),console.log("[TAX PREP] - Spouse documents:",e.spouseDocuments?.length||0),console.log("[TAX PREP] - Combined documents:",it.length),console.log("[TAX PREP] - Active dependents:",L().length);const rr=await Ho(e.client.id,e.taxYear,it,wt,_t);te(rr)}catch{H({type:"error",text:"Error running tax calculation"})}finally{o(!1)}},k=async()=>{w(!0),H(null);try{const ve={id:e.client.id,firstName:e.client.firstName,middleName:e.client.middleName,lastName:e.client.lastName,ss:e.client.ssn,residences:e.client.address?{current:{addressLineOne:e.client.address,city:e.client.city,state:e.client.state,zipcode:e.client.zipCode}}:void 0},Se=ky(ve,e.documents,{taxYear:e.taxYear,clientId:e.client.id,outputFormat:"csv",includeHeaders:!0});Se.success&&Se.csvData&&Se.fileName?(_y(Se.csvData,Se.fileName),H({type:"success",text:`Successfully exported ${Se.recordCount} records to ${Se.fileName}`})):H({type:"error",text:Se.errors?.[0]||"Export failed"})}catch(ve){H({type:"error",text:ve.message||"Error exporting to Drake"})}finally{w(!1)}},Ze={display:"flex","flex-direction":"column",gap:"1.5rem"},O={display:"flex","justify-content":"space-between","align-items":"center","flex-wrap":"wrap",gap:"1rem"},he={"font-size":"1.25rem","font-weight":"600",color:"var(--text-primary, #1f2937)",margin:"0"},$e={"font-size":"0.875rem",color:"var(--text-secondary, #6b7280)","margin-top":"0.25rem"},fe={position:"relative",padding:"2rem 1rem"},ye={display:"flex","justify-content":"space-between",position:"relative"},Ce={position:"absolute",top:"20px",left:"50px",right:"50px",height:"4px",background:"var(--border-color, #e5e7eb)","z-index":"0"},Xe=ve=>({position:"absolute",top:"0",left:"0",height:"100%",width:`${ve}%`,background:"linear-gradient(90deg, #22c55e 0%, #3b82f6 100%)","border-radius":"2px",transition:"width 0.5s ease"}),nt=(ve,Se,we)=>({display:"flex","flex-direction":"column","align-items":"center",gap:"0.5rem",position:"relative","z-index":"1",flex:"1","max-width":"120px"}),ot=(ve,Se,we)=>({width:we?"44px":"40px",height:we?"44px":"40px","border-radius":"50%",display:"flex","align-items":"center","justify-content":"center",background:Se?"linear-gradient(135deg, #22c55e 0%, #16a34a 100%)":we?"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)":"white",border:Se||we?"none":"2px solid var(--border-color, #e5e7eb)",color:Se||we?"white":"var(--text-secondary, #6b7280)","font-weight":"600","font-size":"0.875rem",transition:"all 0.3s ease","box-shadow":we?"0 4px 12px rgba(59, 130, 246, 0.4)":Se?"0 4px 12px rgba(34, 197, 94, 0.3)":"none"}),qe=(ve,Se)=>({"font-size":"0.75rem","font-weight":Se?"700":"500",color:Se?"var(--primary-color, #3b82f6)":ve?"var(--text-primary, #1f2937)":"var(--text-secondary, #6b7280)","text-align":"center","max-width":"100px",transition:"all 0.2s ease"}),gt={display:"flex",gap:"1rem","flex-wrap":"wrap","justify-content":"center","margin-top":"1rem"},ke=(ve,Se)=>({padding:"1rem 2rem","font-size":"1rem","font-weight":"600","border-radius":"12px",border:ve==="secondary"?"2px solid var(--border-color, #e5e7eb)":"none",background:Se?"var(--surface-alt, #f3f4f6)":ve==="primary"?"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)":ve==="success"?"linear-gradient(135deg, #22c55e 0%, #16a34a 100%)":"white",color:Se?"var(--text-secondary, #6b7280)":ve==="secondary"?"var(--text-primary, #1f2937)":"white",cursor:Se?"not-allowed":"pointer",transition:"all 0.2s ease",display:"flex","align-items":"center",gap:"0.75rem","box-shadow":Se?"none":ve==="primary"?"0 4px 12px rgba(59, 130, 246, 0.3)":ve==="success"?"0 4px 12px rgba(34, 197, 94, 0.3)":"0 2px 8px rgba(0, 0, 0, 0.08)","min-width":"200px","justify-content":"center"}),Ye={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem","margin-top":"1rem"},xt=ve=>({padding:"1.25rem","border-radius":"12px",background:`linear-gradient(135deg, ${ve}08 0%, ${ve}15 100%)`,border:`1px solid ${ve}30`,"text-align":"center"}),Ee=ve=>({"font-size":"1.75rem","font-weight":"700",color:ve,"margin-bottom":"0.25rem"}),Pt={"font-size":"0.8125rem",color:"var(--text-secondary, #6b7280)","font-weight":"500"},$t=ve=>({padding:"1rem 1.25rem","border-radius":"10px","font-size":"0.9375rem",background:ve==="success"?"rgba(34, 197, 94, 0.1)":"rgba(239, 68, 68, 0.1)",color:ve==="success"?"#22c55e":"#ef4444",border:`1px solid ${ve==="success"?"#22c55e":"#ef4444"}`,display:"flex","align-items":"center",gap:"0.75rem","font-weight":"500"}),It={"margin-top":"1.5rem",padding:"1.25rem","border-radius":"12px",background:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)",border:"1px solid #bae6fd"},ir={"font-size":"0.9375rem","font-weight":"600",color:"#0369a1","margin-bottom":"0.75rem",display:"flex","align-items":"center",gap:"0.5rem"},Kt={margin:"0","padding-left":"1.5rem","font-size":"0.875rem",color:"#0c4a6e","line-height":"1.75"},Wt={display:"flex","align-items":"center","justify-content":"center",gap:"0.5rem",padding:"0.5rem"},pt={width:"20px",height:"20px",border:"2px solid rgba(255,255,255,0.3)","border-top-color":"white","border-radius":"50%",animation:"spin 1s linear infinite"},Je=Rr(()=>$(W())/(_n.length-1)*100),xe=()=>(()=>{var ve=Iy();return ve.style.setProperty("width","20px"),ve.style.setProperty("height","20px"),ve})();return(()=>{var ve=Jy(),Se=ve.firstChild,we=Se.firstChild,_t=we.firstChild,wt=_t.nextSibling,it=wt.firstChild,rr=it.nextSibling;rr.nextSibling;var Dt=Se.nextSibling,qt=Dt.firstChild,lr=qt.firstChild,ce=qt.nextSibling;return s(wt,$e),t(wt,()=>e.client.firstName,it),t(wt,()=>e.client.lastName,rr),t(wt,()=>e.taxYear,null),t(ve,n(fs,{get children(){return[(()=>{var U=Ty(),oe=U.firstChild,Ae=oe.firstChild,re=oe.nextSibling;return t(re,n(Ht,{each:_n,children:(Me,Ne)=>{const Tt=$(W()),B=Ne()<Tt,ae=Ne()===Tt,Ke=Ne()<=Tt;return(()=>{var tt=Zy(),Q=tt.firstChild,G=Q.nextSibling;return t(Q,n(p,{when:B,get fallback(){return Ne()+1},get children(){return n(xe,{})}})),t(G,()=>Me.label),f(et=>{var de=nt(),Ct=ot(Ke,B,ae),lt=qe(Ke,ae);return et.e=s(tt,de,et.e),et.t=s(Q,Ct,et.t),et.a=s(G,lt,et.a),et},{e:void 0,t:void 0,a:void 0}),tt})()}})),f(Me=>{var Ne=fe,Tt=Ce,B=Xe(Je()),ae=ye;return Me.e=s(U,Ne,Me.e),Me.t=s(oe,Tt,Me.t),Me.a=s(Ae,B,Me.a),Me.o=s(re,ae,Me.o),Me},{e:void 0,t:void 0,a:void 0,o:void 0}),U})(),(()=>{var U=Ny(),oe=U.firstChild,Ae=oe.firstChild,re=Ae.nextSibling,Me=oe.nextSibling,Ne=Me.firstChild,Tt=Ne.nextSibling,B=Me.nextSibling,ae=B.firstChild,Ke=ae.nextSibling;return s(U,Ye),t(Ae,()=>Y().total),t(Ne,()=>Y().verified),t(ae,()=>Y().pending),t(U,n(p,{get when(){return Y().errors>0},get children(){var tt=Ay(),Q=tt.firstChild,G=Q.nextSibling;return t(Q,()=>Y().errors),f(et=>{var de=xt("#ef4444"),Ct=Ee("#ef4444"),lt=Pt;return et.e=s(tt,de,et.e),et.t=s(Q,Ct,et.t),et.a=s(G,lt,et.a),et},{e:void 0,t:void 0,a:void 0}),tt}}),null),f(tt=>{var Q=xt("#3b82f6"),G=Ee("#3b82f6"),et=Pt,de=xt("#22c55e"),Ct=Ee("#22c55e"),lt=Pt,_e=xt("#f59e0b"),je=Ee("#f59e0b"),ie=Pt;return tt.e=s(oe,Q,tt.e),tt.t=s(Ae,G,tt.t),tt.a=s(re,et,tt.a),tt.o=s(Me,de,tt.o),tt.i=s(Ne,Ct,tt.i),tt.n=s(Tt,lt,tt.n),tt.s=s(B,_e,tt.s),tt.h=s(ae,je,tt.h),tt.r=s(Ke,ie,tt.r),tt},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0}),U})(),n(p,{get when(){return D().length>0},get children(){var U=Dy(),oe=U.firstChild,Ae=oe.firstChild,re=Ae.nextSibling,Me=re.firstChild,Ne=Me.nextSibling,Tt=Ne.nextSibling,B=Tt.nextSibling;B.nextSibling;var ae=oe.nextSibling;return U.style.setProperty("margin-top","1.5rem"),U.style.setProperty("padding","1rem"),U.style.setProperty("background","linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)"),U.style.setProperty("border-radius","12px"),U.style.setProperty("border","1px solid #bae6fd"),oe.style.setProperty("display","flex"),oe.style.setProperty("align-items","center"),oe.style.setProperty("gap","0.5rem"),oe.style.setProperty("margin-bottom","0.75rem"),Ae.style.setProperty("width","18px"),Ae.style.setProperty("height","18px"),re.style.setProperty("font-weight","600"),re.style.setProperty("color","#0369a1"),re.style.setProperty("font-size","0.9rem"),t(re,()=>L().length,Ne),t(re,()=>D().length,B),ae.style.setProperty("display","flex"),ae.style.setProperty("flex-wrap","wrap"),ae.style.setProperty("gap","0.5rem"),t(ae,n(Ht,{get each(){return D()},children:(Ke,tt)=>{const Q=Ke.excludeFromCalculation,G=Ke._isSpouseDependent;return(()=>{var et=tc(),de=et.firstChild,Ct=de.nextSibling,lt=Ct.nextSibling,_e=lt.firstChild,je=_e.nextSibling;return je.nextSibling,et.$$click=()=>v(tt()),et.style.setProperty("display","flex"),et.style.setProperty("align-items","center"),et.style.setProperty("gap","0.5rem"),et.style.setProperty("padding","0.5rem 0.75rem"),et.style.setProperty("border-radius","8px"),(Q?"2px dashed #d1d5db":"2px solid #22c55e")!=null?et.style.setProperty("border",Q?"2px dashed #d1d5db":"2px solid #22c55e"):et.style.removeProperty("border"),(Q?"#f9fafb":"#f0fdf4")!=null?et.style.setProperty("background",Q?"#f9fafb":"#f0fdf4"):et.style.removeProperty("background"),(Q?"#9ca3af":"#166534")!=null?et.style.setProperty("color",Q?"#9ca3af":"#166534"):et.style.removeProperty("color"),et.style.setProperty("font-size","0.85rem"),et.style.setProperty("font-weight","500"),et.style.setProperty("cursor","pointer"),et.style.setProperty("transition","all 0.2s ease"),(Q?.7:1)!=null?et.style.setProperty("opacity",Q?.7:1):et.style.removeProperty("opacity"),(Q?"line-through":"none")!=null?et.style.setProperty("text-decoration",Q?"line-through":"none"):et.style.removeProperty("text-decoration"),es(et,"title",Q?"Click to include in calculation":"Click to exclude from calculation"),de.style.setProperty("width","18px"),de.style.setProperty("height","18px"),de.style.setProperty("border-radius","4px"),(Q?"#e5e7eb":"#22c55e")!=null?de.style.setProperty("background",Q?"#e5e7eb":"#22c55e"):de.style.removeProperty("background"),de.style.setProperty("display","flex"),de.style.setProperty("align-items","center"),de.style.setProperty("justify-content","center"),de.style.setProperty("color","white"),de.style.setProperty("font-size","12px"),t(de,Q?"":""),t(et,()=>Ke.firstName,Ct),t(et,()=>Ke.lastName,lt),t(et,n(p,{when:G,get children(){var ie=ec();return ie.style.setProperty("font-size","0.7rem"),ie.style.setProperty("padding","2px 6px"),ie.style.setProperty("background","#fce7f3"),ie.style.setProperty("color","#be185d"),ie.style.setProperty("border-radius","4px"),ie}}),lt),lt.style.setProperty("font-size","0.75rem"),(Q?"#9ca3af":"#16a34a")!=null?lt.style.setProperty("color",Q?"#9ca3af":"#16a34a"):lt.style.removeProperty("color"),lt.style.setProperty("text-transform","capitalize"),t(lt,()=>Ke.relationship,je),et})()}})),t(U,n(p,{get when(){return e.spouseDocuments&&e.spouseDocuments.length>0},get children(){var Ke=zy(),tt=Ke.firstChild,Q=tt.nextSibling,G=Q.nextSibling;return G.nextSibling,Ke.style.setProperty("margin-top","0.75rem"),Ke.style.setProperty("padding-top","0.75rem"),Ke.style.setProperty("border-top","1px solid #bae6fd"),Ke.style.setProperty("font-size","0.8rem"),Ke.style.setProperty("color","#0369a1"),Ke.style.setProperty("display","flex"),Ke.style.setProperty("align-items","center"),Ke.style.setProperty("gap","0.5rem"),tt.style.setProperty("width","16px"),tt.style.setProperty("height","16px"),t(Ke,()=>e.spouseDocuments.length,G),Ke}}),null),U}}),(()=>{var U=Ey(),oe=U.firstChild,Ae=oe.nextSibling;return oe.$$click=ne,t(oe,n(p,{get when(){return y()},get fallback(){return[(()=>{var re=rc();return re.style.setProperty("width","20px"),re.style.setProperty("height","20px"),re})(),"Run Tax Calculation"]},get children(){var re=Ry(),Me=re.firstChild;return f(Ne=>{var Tt=Wt,B=pt;return Ne.e=s(re,Tt,Ne.e),Ne.t=s(Me,B,Ne.t),Ne},{e:void 0,t:void 0}),re}})),Ae.$$click=k,t(Ae,n(p,{get when(){return h()},get fallback(){return[(()=>{var re=sc();return re.style.setProperty("width","20px"),re.style.setProperty("height","20px"),re})(),"Export to Drake"]},get children(){var re=Fy(),Me=re.firstChild;return f(Ne=>{var Tt=Wt,B=pt;return Ne.e=s(re,Tt,Ne.e),Ne.t=s(Me,B,Ne.t),Ne},{e:void 0,t:void 0}),re}})),f(re=>{var Me=gt,Ne=ke("primary",y()||Y().verified===0),Tt=y()||Y().verified===0,B=ke("success",h()||Y().verified===0),ae=h()||Y().verified===0;return re.e=s(U,Me,re.e),re.t=s(oe,Ne,re.t),Tt!==re.a&&(oe.disabled=re.a=Tt),re.o=s(Ae,B,re.o),ae!==re.i&&(Ae.disabled=re.i=ae),re},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),U})(),n(p,{get when(){return E()},get children(){var U=By(),oe=U.firstChild;return U.style.setProperty("margin-top","1rem"),t(oe,n(p,{get when(){return E().type==="success"},get children(){var Ae=Ly();return Ae.style.setProperty("width","20px"),Ae.style.setProperty("height","20px"),Ae}}),null),t(oe,n(p,{get when(){return E().type==="error"},get children(){var Ae=My();return Ae.style.setProperty("width","20px"),Ae.style.setProperty("height","20px"),Ae}}),null),t(oe,()=>E().text,null),f(Ae=>s(oe,$t(E().type),Ae)),U}})]}}),Dt),t(ve,n(p,{get when(){return C()},get children(){return(()=>{const U=C(),oe=Q=>Q<0?`-$${Math.abs(Q).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`:`$${Q.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,Ae={display:"flex","justify-content":"space-between","align-items":"center",padding:"0.5rem 0","border-bottom":"1px solid var(--border-color, #e5e7eb)","font-size":"0.875rem"},re={"font-weight":"600",color:"var(--primary-color, #3b82f6)","min-width":"60px"},Me={flex:"1",color:"var(--text-secondary, #6b7280)"},Ne=(Q,G)=>({"font-weight":"600",color:Q?"#22c55e":"var(--text-primary, #1f2937)","text-align":"right","min-width":"120px"}),Tt={background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",color:"white",padding:"0.75rem 1rem","font-weight":"600","font-size":"0.875rem","margin-top":"1rem","border-radius":"8px 8px 0 0"},B={background:"var(--surface-alt, #f9fafb)",padding:"0.75rem 1rem","border-radius":"0 0 8px 8px",border:"1px solid var(--border-color, #e5e7eb)","border-top":"none"},ae={display:"flex","justify-content":"space-between","padding-left":"2rem","font-size":"0.8125rem",color:"var(--text-muted, #9ca3af)",padding:"0.25rem 0 0.25rem 2rem"},Ke={...Ae,background:"linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(34, 197, 94, 0.05))",padding:"0.75rem","border-radius":"8px",border:"1px solid rgba(34, 197, 94, 0.3)","margin-top":"0.5rem","font-weight":"700"},tt=Q=>({background:Q?"linear-gradient(135deg, rgba(34, 197, 94, 0.15), rgba(34, 197, 94, 0.05))":"linear-gradient(135deg, rgba(239, 68, 68, 0.15), rgba(239, 68, 68, 0.05))",border:`2px solid ${Q?"#22c55e":"#ef4444"}`,"border-radius":"12px",padding:"1.5rem","text-align":"center","margin-top":"1.5rem"});return n(fs,{get children(){return[(()=>{var Q=nc(),G=Q.firstChild,et=G.firstChild,de=et.firstChild,Ct=et.nextSibling,lt=Ct.firstChild,_e=lt.nextSibling;_e.nextSibling;var je=G.nextSibling,ie=je.firstChild,d=ie.nextSibling,N=d.firstChild;return Q.style.setProperty("display","flex"),Q.style.setProperty("justify-content","space-between"),Q.style.setProperty("align-items","center"),Q.style.setProperty("margin-bottom","1rem"),Q.style.setProperty("padding-bottom","1rem"),Q.style.setProperty("border-bottom","2px solid var(--border-color, #e5e7eb)"),de.style.setProperty("width","24px"),de.style.setProperty("height","24px"),de.style.setProperty("vertical-align","middle"),de.style.setProperty("margin-right","0.5rem"),de.style.setProperty("color","#3b82f6"),Ct.style.setProperty("font-size","0.875rem"),Ct.style.setProperty("color","var(--text-secondary)"),Ct.style.setProperty("margin-top","0.25rem"),t(Ct,()=>U.taxYear,_e),t(Ct,()=>U.filingStatusLabel,null),je.style.setProperty("background","var(--surface-alt, #f3f4f6)"),je.style.setProperty("padding","0.5rem 1rem"),je.style.setProperty("border-radius","8px"),je.style.setProperty("font-size","0.75rem"),je.style.setProperty("color","var(--text-secondary)"),d.style.setProperty("color","#3b82f6"),t(d,()=>(U.line16_marginalRate*100).toFixed(0),N),f(pe=>s(et,{...he,margin:0},pe)),Q})(),(()=>{var Q=oc();return f(G=>s(Q,Tt,G)),Q})(),(()=>{var Q=mc(),G=Q.firstChild,et=G.firstChild,de=et.nextSibling,Ct=de.nextSibling,lt=G.nextSibling,_e=lt.firstChild,je=_e.nextSibling,ie=je.nextSibling,d=lt.nextSibling,N=d.firstChild,pe=N.nextSibling,Ge=pe.nextSibling;return t(Ct,()=>oe(U.line1a_wages)),t(Q,n(p,{get when(){return U.line1h_otherEarnedIncome>0},get children(){var le=ic(),S=le.firstChild,X=S.nextSibling,Ve=X.nextSibling;return t(Ve,()=>oe(U.line1h_otherEarnedIncome)),f(Pe=>{var ze=Ae,ht=re,Vt=Me,Yt=Ne();return Pe.e=s(le,ze,Pe.e),Pe.t=s(S,ht,Pe.t),Pe.a=s(X,Vt,Pe.a),Pe.o=s(Ve,Yt,Pe.o),Pe},{e:void 0,t:void 0,a:void 0,o:void 0}),le}}),lt),t(ie,()=>oe(U.line1z_totalWages)),t(Q,n(p,{get when(){return U.line2b_taxableInterest>0},get children(){var le=lc(),S=le.firstChild,X=S.nextSibling,Ve=X.nextSibling;return t(Ve,()=>oe(U.line2b_taxableInterest)),f(Pe=>{var ze=Ae,ht=re,Vt=Me,Yt=Ne();return Pe.e=s(le,ze,Pe.e),Pe.t=s(S,ht,Pe.t),Pe.a=s(X,Vt,Pe.a),Pe.o=s(Ve,Yt,Pe.o),Pe},{e:void 0,t:void 0,a:void 0,o:void 0}),le}}),d),t(Q,n(p,{get when(){return U.line3b_ordinaryDividends>0},get children(){var le=ac(),S=le.firstChild,X=S.nextSibling,Ve=X.nextSibling;return t(Ve,()=>oe(U.line3b_ordinaryDividends)),f(Pe=>{var ze=Ae,ht=re,Vt=Me,Yt=Ne();return Pe.e=s(le,ze,Pe.e),Pe.t=s(S,ht,Pe.t),Pe.a=s(X,Vt,Pe.a),Pe.o=s(Ve,Yt,Pe.o),Pe},{e:void 0,t:void 0,a:void 0,o:void 0}),le}}),d),t(Q,n(p,{get when(){return U.line8_otherIncome>0},get children(){return[(()=>{var le=dc(),S=le.firstChild,X=S.nextSibling,Ve=X.nextSibling;return t(Ve,()=>oe(U.line8_otherIncome)),f(Pe=>{var ze=Ae,ht=re,Vt=Me,Yt=Ne();return Pe.e=s(le,ze,Pe.e),Pe.t=s(S,ht,Pe.t),Pe.a=s(X,Vt,Pe.a),Pe.o=s(Ve,Yt,Pe.o),Pe},{e:void 0,t:void 0,a:void 0,o:void 0}),le})(),n(p,{get when(){return U.line8_breakdown.businessIncome>0},get children(){var le=yc(),S=le.firstChild,X=S.nextSibling;return t(X,()=>oe(U.line8_breakdown.businessIncome)),f(Ve=>s(le,ae,Ve)),le}}),n(p,{get when(){return U.line8_breakdown.rentalIncome>0},get children(){var le=cc(),S=le.firstChild,X=S.nextSibling;return t(X,()=>oe(U.line8_breakdown.rentalIncome)),f(Ve=>s(le,ae,Ve)),le}}),n(p,{get when(){return U.line8_breakdown.royalties>0},get children(){var le=pc(),S=le.firstChild,X=S.nextSibling;return t(X,()=>oe(U.line8_breakdown.royalties)),f(Ve=>s(le,ae,Ve)),le}}),n(p,{get when(){return U.line8_breakdown.other>0},get children(){var le=uc(),S=le.firstChild,X=S.nextSibling;return t(X,()=>oe(U.line8_breakdown.other)),f(Ve=>s(le,ae,Ve)),le}})]}}),d),t(Ge,()=>oe(U.line9_totalIncome)),f(le=>{var S=B,X=Ae,Ve=re,Pe=Me,ze=Ne(),ht=Ae,Vt=re,Yt=Me,ut=Ne(),mr=Ke,A=re,Be=Me,mt=Ne(!0);return le.e=s(Q,S,le.e),le.t=s(G,X,le.t),le.a=s(et,Ve,le.a),le.o=s(de,Pe,le.o),le.i=s(Ct,ze,le.i),le.n=s(lt,ht,le.n),le.s=s(_e,Vt,le.s),le.h=s(je,Yt,le.h),le.r=s(ie,ut,le.r),le.d=s(d,mr,le.d),le.l=s(N,A,le.l),le.u=s(pe,Be,le.u),le.c=s(Ge,mt,le.c),le},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0}),Q})(),(()=>{var Q=gc();return f(G=>s(Q,{...Tt,background:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)"},G)),Q})(),(()=>{var Q=fc(),G=Q.firstChild,et=G.firstChild,de=et.nextSibling,Ct=de.nextSibling,lt=G.nextSibling,_e=lt.firstChild,je=_e.nextSibling,ie=je.nextSibling;return t(Ct,()=>oe(U.line10_adjustments)),t(ie,()=>oe(U.line11_agi)),f(d=>{var N=B,pe=Ae,Ge=re,le=Me,S=Ne(),X=Ke,Ve=re,Pe=Me,ze=Ne(!0);return d.e=s(Q,N,d.e),d.t=s(G,pe,d.t),d.a=s(et,Ge,d.a),d.o=s(de,le,d.o),d.i=s(Ct,S,d.i),d.n=s(lt,X,d.n),d.s=s(_e,Ve,d.s),d.h=s(je,Pe,d.h),d.r=s(ie,ze,d.r),d},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0}),Q})(),(()=>{var Q=hc();return f(G=>s(Q,{...Tt,background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)"},G)),Q})(),(()=>{var Q=Sc(),G=Q.firstChild,et=G.firstChild,de=et.nextSibling,Ct=de.nextSibling,lt=G.nextSibling,_e=lt.firstChild,je=_e.nextSibling,ie=je.nextSibling,d=lt.nextSibling,N=d.firstChild,pe=N.nextSibling,Ge=pe.firstChild;Ge.nextSibling;var le=pe.nextSibling,S=d.nextSibling,X=S.firstChild,Ve=X.nextSibling,Pe=Ve.nextSibling;return t(Ct,()=>oe(U.line12a_standardDeduction)),t(ie,()=>oe(U.line12b_itemizedDeductions)),t(Q,n(p,{get when(){return U.line12b_itemizedDeductions>0},get children(){return[n(p,{get when(){return U.line12b_breakdown.saltDeduction>0},get children(){var ze=vc(),ht=ze.firstChild,Vt=ht.nextSibling;return t(Vt,()=>oe(U.line12b_breakdown.saltDeduction)),f(Yt=>s(ze,ae,Yt)),ze}}),n(p,{get when(){return U.line12b_breakdown.mortgageInterest>0},get children(){var ze=bc(),ht=ze.firstChild,Vt=ht.nextSibling;return t(Vt,()=>oe(U.line12b_breakdown.mortgageInterest)),f(Yt=>s(ze,ae,Yt)),ze}})]}}),d),t(pe,()=>U.line12_deductionUsed==="itemized"?"Itemized":"Standard",null),t(le,()=>oe(U.line12_deductionAmount)),t(Q,n(p,{get when(){return U.line13a_qbid>0},get children(){var ze=Pc(),ht=ze.firstChild,Vt=ht.nextSibling,Yt=Vt.nextSibling;return t(Yt,()=>oe(U.line13a_qbid)),f(ut=>{var mr=Ae,A=re,Be=Me,mt=Ne();return ut.e=s(ze,mr,ut.e),ut.t=s(ht,A,ut.t),ut.a=s(Vt,Be,ut.a),ut.o=s(Yt,mt,ut.o),ut},{e:void 0,t:void 0,a:void 0,o:void 0}),ze}}),S),t(Q,n(p,{get when(){return U.line13b_schedule1ADeductions>0},get children(){var ze=xc(),ht=ze.firstChild,Vt=ht.nextSibling,Yt=Vt.nextSibling;return t(Yt,()=>oe(U.line13b_schedule1ADeductions)),f(ut=>{var mr=Ae,A=re,Be=Me,mt=Ne();return ut.e=s(ze,mr,ut.e),ut.t=s(ht,A,ut.t),ut.a=s(Vt,Be,ut.a),ut.o=s(Yt,mt,ut.o),ut},{e:void 0,t:void 0,a:void 0,o:void 0}),ze}}),S),t(Q,n(p,{get when(){return U.line13a_qbid>0||U.line13b_schedule1ADeductions>0},get children(){var ze=$c(),ht=ze.firstChild,Vt=ht.nextSibling,Yt=Vt.nextSibling;return t(Yt,()=>oe(U.line14_totalDeductions)),f(ut=>{var mr=Ae,A=re,Be=Me,mt=Ne();return ut.e=s(ze,mr,ut.e),ut.t=s(ht,A,ut.t),ut.a=s(Vt,Be,ut.a),ut.o=s(Yt,mt,ut.o),ut},{e:void 0,t:void 0,a:void 0,o:void 0}),ze}}),S),t(Pe,()=>oe(U.line15_taxableIncome)),f(ze=>{var ht=B,Vt=Ae,Yt=re,ut=Me,mr=Ne(),A=Ae,Be=re,mt=Me,Ot=Ne(),Cr={...Ae,background:U.line12_deductionUsed==="itemized"?"rgba(245, 158, 11, 0.1)":"rgba(59, 130, 246, 0.1)",padding:"0.75rem","border-radius":"6px","margin-top":"0.5rem"},K=re,He=Me,rt=Ne(!0),Oe=Ke,kt=re,St=Me,or=Ne(!0);return ze.e=s(Q,ht,ze.e),ze.t=s(G,Vt,ze.t),ze.a=s(et,Yt,ze.a),ze.o=s(de,ut,ze.o),ze.i=s(Ct,mr,ze.i),ze.n=s(lt,A,ze.n),ze.s=s(_e,Be,ze.s),ze.h=s(je,mt,ze.h),ze.r=s(ie,Ot,ze.r),ze.d=s(d,Cr,ze.d),ze.l=s(N,K,ze.l),ze.u=s(pe,He,ze.u),ze.c=s(le,rt,ze.c),ze.w=s(S,Oe,ze.w),ze.m=s(X,kt,ze.m),ze.f=s(Ve,St,ze.f),ze.y=s(Pe,or,ze.y),ze},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0}),Q})(),(()=>{var Q=wc();return f(G=>s(Q,{...Tt,background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)"},G)),Q})(),(()=>{var Q=Tc(),G=Q.firstChild,et=G.firstChild,de=et.nextSibling,Ct=de.nextSibling,lt=G.nextSibling,_e=lt.firstChild;_e.firstChild;var je=lt.nextSibling,ie=je.firstChild,d=ie.nextSibling,N=d.nextSibling;return t(Ct,()=>oe(U.line16_tax)),t(_e,()=>U.line16_bracketUsed,null),t(Q,n(p,{get when(){return U.line17_schedule2Tax>0},get children(){return[(()=>{var pe=Cc(),Ge=pe.firstChild,le=Ge.nextSibling,S=le.nextSibling;return t(S,()=>oe(U.line17_schedule2Tax)),f(X=>{var Ve=Ae,Pe=re,ze=Me,ht=Ne();return X.e=s(pe,Ve,X.e),X.t=s(Ge,Pe,X.t),X.a=s(le,ze,X.a),X.o=s(S,ht,X.o),X},{e:void 0,t:void 0,a:void 0,o:void 0}),pe})(),(()=>{var pe=_c(),Ge=pe.firstChild,le=Ge.nextSibling,S=le.nextSibling;return t(S,()=>oe(U.line18_totalTaxBeforeCredits)),f(X=>{var Ve=Ae,Pe=re,ze=Me,ht=Ne();return X.e=s(pe,Ve,X.e),X.t=s(Ge,Pe,X.t),X.a=s(le,ze,X.a),X.o=s(S,ht,X.o),X},{e:void 0,t:void 0,a:void 0,o:void 0}),pe})()]}}),je),t(Q,n(p,{get when(){return U.line19_childTaxCredit>0},get children(){var pe=kc(),Ge=pe.firstChild,le=Ge.nextSibling,S=le.nextSibling;return S.firstChild,t(S,()=>oe(U.line19_childTaxCredit),null),f(X=>{var Ve=Ae,Pe=re,ze=Me,ht={...Ne(),color:"#22c55e"};return X.e=s(pe,Ve,X.e),X.t=s(Ge,Pe,X.t),X.a=s(le,ze,X.a),X.o=s(S,ht,X.o),X},{e:void 0,t:void 0,a:void 0,o:void 0}),pe}}),je),t(Q,n(p,{get when(){return U.line21_totalCredits>0},get children(){var pe=Ic(),Ge=pe.firstChild,le=Ge.nextSibling,S=le.nextSibling;return S.firstChild,t(S,()=>oe(U.line21_totalCredits),null),f(X=>{var Ve=Ae,Pe=re,ze=Me,ht={...Ne(),color:"#22c55e"};return X.e=s(pe,Ve,X.e),X.t=s(Ge,Pe,X.t),X.a=s(le,ze,X.a),X.o=s(S,ht,X.o),X},{e:void 0,t:void 0,a:void 0,o:void 0}),pe}}),je),t(N,()=>oe(U.line24_totalTax)),f(pe=>{var Ge=B,le=Ae,S=re,X=Me,Ve=Ne(),Pe=ae,ze=Ke,ht=re,Vt=Me,Yt={...Ne(!0),color:"#ef4444"};return pe.e=s(Q,Ge,pe.e),pe.t=s(G,le,pe.t),pe.a=s(et,S,pe.a),pe.o=s(de,X,pe.o),pe.i=s(Ct,Ve,pe.i),pe.n=s(lt,Pe,pe.n),pe.s=s(je,ze,pe.s),pe.h=s(ie,ht,pe.h),pe.r=s(d,Vt,pe.r),pe.d=s(N,Yt,pe.d),pe},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0}),Q})(),(()=>{var Q=Ac();return f(G=>s(Q,{...Tt,background:"linear-gradient(135deg, #10b981 0%, #059669 100%)"},G)),Q})(),(()=>{var Q=Dc(),G=Q.firstChild,et=G.firstChild,de=et.nextSibling,Ct=de.nextSibling;return t(Q,n(p,{get when(){return U.line25a_w2Withholding>0},get children(){var lt=Nc(),_e=lt.firstChild,je=_e.nextSibling,ie=je.nextSibling;return t(ie,()=>oe(U.line25a_w2Withholding)),f(d=>{var N=Ae,pe=re,Ge=Me,le=Ne();return d.e=s(lt,N,d.e),d.t=s(_e,pe,d.t),d.a=s(je,Ge,d.a),d.o=s(ie,le,d.o),d},{e:void 0,t:void 0,a:void 0,o:void 0}),lt}}),G),t(Q,n(p,{get when(){return U.line25b_1099Withholding>0},get children(){var lt=zc(),_e=lt.firstChild,je=_e.nextSibling,ie=je.nextSibling;return t(ie,()=>oe(U.line25b_1099Withholding)),f(d=>{var N=Ae,pe=re,Ge=Me,le=Ne();return d.e=s(lt,N,d.e),d.t=s(_e,pe,d.t),d.a=s(je,Ge,d.a),d.o=s(ie,le,d.o),d},{e:void 0,t:void 0,a:void 0,o:void 0}),lt}}),G),t(Ct,()=>oe(U.line33_totalPayments)),f(lt=>{var _e=B,je=Ke,ie=re,d=Me,N=Ne(!0);return lt.e=s(Q,_e,lt.e),lt.t=s(G,je,lt.t),lt.a=s(et,ie,lt.a),lt.o=s(de,d,lt.o),lt.i=s(Ct,N,lt.i),lt},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),Q})(),n(p,{get when(){return U.form8962},get children(){return[(()=>{var Q=Rc();return f(G=>s(Q,{...Tt,background:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)"},G)),Q})(),(()=>{var Q=Bc(),G=Q.firstChild,et=G.firstChild,de=et.nextSibling,Ct=de.nextSibling,lt=Ct.firstChild,_e=G.nextSibling,je=_e.firstChild,ie=je.nextSibling,d=ie.nextSibling,N=d.firstChild,pe=_e.nextSibling,Ge=pe.firstChild,le=Ge.nextSibling,S=le.nextSibling,X=S.firstChild,Ve=pe.nextSibling,Pe=Ve.firstChild,ze=Pe.firstChild,ht=ze.nextSibling,Vt=ht.nextSibling,Yt=Vt.nextSibling,ut=Yt.nextSibling,mr=ut.nextSibling;mr.nextSibling;var A=Ve.nextSibling,Be=A.firstChild,mt=Be.nextSibling,Ot=mt.nextSibling,Cr=A.nextSibling,K=Cr.firstChild,He=K.nextSibling,rt=He.nextSibling;return t(Ct,()=>U.form8962.familySize,lt),t(Ct,()=>oe(U.form8962.federalPovertyLevel),null),t(d,()=>U.form8962.incomeAsFplPercent.toFixed(1),N),t(S,()=>U.form8962.applicablePercentage.toFixed(2),X),t(S,()=>oe(U.form8962.annualContributionAmount),null),t(Pe,()=>U.form8962.coverageMonths,ht),t(Pe,()=>oe(U.form8962.totalAnnualPremium),Yt),t(Pe,()=>oe(U.form8962.totalAnnualSlcsp),mr),t(Pe,()=>oe(U.form8962.totalAnnualAptc),null),t(Ot,()=>oe(U.form8962.annualPtcAllowed)),t(rt,()=>oe(U.form8962.totalAnnualAptc)),t(Q,n(p,{get when(){return U.form8962.additionalPtc>0},get children(){var Oe=Fc(),kt=Oe.firstChild,St=kt.nextSibling,or=St.nextSibling;return t(or,()=>oe(U.form8962.additionalPtc)),f(vt=>{var Br={...Ae,background:"rgba(34, 197, 94, 0.1)",padding:"0.75rem","border-radius":"6px"},Wr=re,_r=Me,ue={...Ne(!0),color:"#22c55e"};return vt.e=s(Oe,Br,vt.e),vt.t=s(kt,Wr,vt.t),vt.a=s(St,_r,vt.a),vt.o=s(or,ue,vt.o),vt},{e:void 0,t:void 0,a:void 0,o:void 0}),Oe}}),null),t(Q,n(p,{get when(){return U.form8962.excessAptc>0},get children(){return[(()=>{var Oe=Ec(),kt=Oe.firstChild,St=kt.nextSibling,or=St.nextSibling;return t(or,()=>oe(U.form8962.excessAptc)),f(vt=>{var Br=Ae,Wr=re,_r=Me,ue=Ne();return vt.e=s(Oe,Br,vt.e),vt.t=s(kt,Wr,vt.t),vt.a=s(St,_r,vt.a),vt.o=s(or,ue,vt.o),vt},{e:void 0,t:void 0,a:void 0,o:void 0}),Oe})(),n(p,{get when(){return U.form8962.repaymentLimitation!==null},get children(){var Oe=Lc(),kt=Oe.firstChild,St=kt.nextSibling,or=St.nextSibling;return t(or,()=>oe(U.form8962.repaymentLimitation)),f(vt=>{var Br=Ae,Wr=re,_r=Me,ue=Ne();return vt.e=s(Oe,Br,vt.e),vt.t=s(kt,Wr,vt.t),vt.a=s(St,_r,vt.a),vt.o=s(or,ue,vt.o),vt},{e:void 0,t:void 0,a:void 0,o:void 0}),Oe}}),(()=>{var Oe=Mc(),kt=Oe.firstChild,St=kt.nextSibling,or=St.nextSibling;return t(or,()=>oe(U.form8962.excessAptcRepayment)),f(vt=>{var Br={...Ae,background:"rgba(239, 68, 68, 0.1)",padding:"0.75rem","border-radius":"6px"},Wr=re,_r=Me,ue={...Ne(!0),color:"#ef4444"};return vt.e=s(Oe,Br,vt.e),vt.t=s(kt,Wr,vt.t),vt.a=s(St,_r,vt.a),vt.o=s(or,ue,vt.o),vt},{e:void 0,t:void 0,a:void 0,o:void 0}),Oe})()]}}),null),f(Oe=>{var kt=B,St=Ae,or=re,vt=Me,Br=Ne(),Wr=Ae,_r=re,ue=Me,me=Ne(),T=Ae,Le=re,yt=Me,st=Ne(),Rt=ae,sr=Ae,dr=re,Zt=Me,Et=Ne(),$r=Ae,Gt=re,pr=Me,kr=Ne();return Oe.e=s(Q,kt,Oe.e),Oe.t=s(G,St,Oe.t),Oe.a=s(et,or,Oe.a),Oe.o=s(de,vt,Oe.o),Oe.i=s(Ct,Br,Oe.i),Oe.n=s(_e,Wr,Oe.n),Oe.s=s(je,_r,Oe.s),Oe.h=s(ie,ue,Oe.h),Oe.r=s(d,me,Oe.r),Oe.d=s(pe,T,Oe.d),Oe.l=s(Ge,Le,Oe.l),Oe.u=s(le,yt,Oe.u),Oe.c=s(S,st,Oe.c),Oe.w=s(Ve,Rt,Oe.w),Oe.m=s(A,sr,Oe.m),Oe.f=s(Be,dr,Oe.f),Oe.y=s(mt,Zt,Oe.y),Oe.g=s(Ot,Et,Oe.g),Oe.p=s(Cr,$r,Oe.p),Oe.b=s(K,Gt,Oe.b),Oe.T=s(He,pr,Oe.T),Oe.A=s(rt,kr,Oe.A),Oe},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0}),Q})()]}}),(()=>{var Q=cn();return t(Q,n(p,{get when(){return U.line34_refund>0},get children(){return[(()=>{var G=Oc();return G.style.setProperty("font-size","0.875rem"),G.style.setProperty("color","#166534"),G.style.setProperty("margin-bottom","0.5rem"),G})(),(()=>{var G=cn();return G.style.setProperty("font-size","2.5rem"),G.style.setProperty("font-weight","700"),G.style.setProperty("color","#22c55e"),t(G,()=>oe(U.line34_refund)),G})(),(()=>{var G=jc(),et=G.firstChild,de=et.nextSibling,Ct=de.nextSibling,lt=Ct.nextSibling;return lt.nextSibling,G.style.setProperty("font-size","0.75rem"),G.style.setProperty("color","#166534"),G.style.setProperty("margin-top","0.5rem"),t(G,()=>oe(U.line33_totalPayments),de),t(G,()=>oe(U.line24_totalTax),lt),G})()]}}),null),t(Q,n(p,{get when(){return U.line37_amountOwed>0},get children(){return[(()=>{var G=Uc();return G.style.setProperty("font-size","0.875rem"),G.style.setProperty("color","#991b1b"),G.style.setProperty("margin-bottom","0.5rem"),G})(),(()=>{var G=cn();return G.style.setProperty("font-size","2.5rem"),G.style.setProperty("font-weight","700"),G.style.setProperty("color","#ef4444"),t(G,()=>oe(U.line37_amountOwed)),G})(),(()=>{var G=Hc(),et=G.firstChild,de=et.nextSibling,Ct=de.nextSibling,lt=Ct.nextSibling;return lt.nextSibling,G.style.setProperty("font-size","0.75rem"),G.style.setProperty("color","#991b1b"),G.style.setProperty("margin-top","0.5rem"),t(G,()=>oe(U.line24_totalTax),de),t(G,()=>oe(U.line33_totalPayments),lt),G})()]}}),null),t(Q,n(p,{get when(){return U.line34_refund===0&&U.line37_amountOwed===0},get children(){var G=Wc();return G.style.setProperty("font-size","1.25rem"),G.style.setProperty("font-weight","600"),G.style.setProperty("color","var(--text-secondary)"),G}}),null),f(G=>s(Q,tt(U.line34_refund>0),G)),Q})(),(()=>{var Q=Yc();return Q.style.setProperty("font-size","0.75rem"),Q.style.setProperty("color","var(--text-muted)"),Q.style.setProperty("margin-top","1rem"),Q.style.setProperty("text-align","center"),Q})()]}})})()}}),Dt),t(ve,n(p,{get when(){return bt(()=>!!C())()&&!ge()},get children(){return n(fs,{get children(){return[(()=>{var U=Oy(),oe=U.firstChild;return oe.style.setProperty("width","20px"),oe.style.setProperty("height","20px"),oe.style.setProperty("vertical-align","middle"),oe.style.setProperty("margin-right","0.5rem"),oe.style.setProperty("color","#3b82f6"),f(Ae=>s(U,{...he,"margin-bottom":"1rem"},Ae)),U})(),(()=>{var U=cn();return U.style.setProperty("display","flex"),U.style.setProperty("flex-direction","column"),U.style.setProperty("gap","1rem"),t(U,n(p,{get when(){return!se()},get children(){var oe=jy(),Ae=oe.firstChild,re=Ae.firstChild,Me=re.nextSibling,Ne=Ae.nextSibling,Tt=Ne.firstChild;return oe.style.setProperty("display","flex"),oe.style.setProperty("align-items","center"),oe.style.setProperty("justify-content","space-between"),oe.style.setProperty("padding","1rem"),oe.style.setProperty("background","var(--surface-alt, #f9fafb)"),oe.style.setProperty("border-radius","8px"),oe.style.setProperty("border","1px solid var(--border-color, #e5e7eb)"),re.style.setProperty("font-weight","600"),re.style.setProperty("margin-bottom","0.25rem"),Me.style.setProperty("font-size","0.875rem"),Me.style.setProperty("color","var(--text-secondary)"),Ne.$$click=()=>F(!0),Tt.style.setProperty("width","18px"),Tt.style.setProperty("height","18px"),f(B=>s(Ne,ke("primary",!1),B)),oe}}),null),t(U,n(p,{get when(){return bt(()=>!!se())()&&!r()},get children(){var oe=Uy(),Ae=oe.firstChild,re=Ae.firstChild,Me=re.nextSibling,Ne=Ae.nextSibling,Tt=Ne.firstChild;return oe.style.setProperty("display","flex"),oe.style.setProperty("align-items","center"),oe.style.setProperty("justify-content","space-between"),oe.style.setProperty("padding","1rem"),oe.style.setProperty("background","linear-gradient(135deg, rgba(139, 92, 246, 0.05), rgba(139, 92, 246, 0.1))"),oe.style.setProperty("border-radius","8px"),oe.style.setProperty("border","1px solid rgba(139, 92, 246, 0.2)"),re.style.setProperty("font-weight","600"),re.style.setProperty("margin-bottom","0.25rem"),Me.style.setProperty("font-size","0.875rem"),Me.style.setProperty("color","var(--text-secondary)"),Ne.$$click=()=>Z(!0),Tt.style.setProperty("width","18px"),Tt.style.setProperty("height","18px"),f(B=>s(Ne,ke("primary",!1),B)),oe}}),null),t(U,n(p,{get when(){return bt(()=>!!r())()&&!ge()},get children(){var oe=Hy(),Ae=oe.firstChild,re=Ae.firstChild,Me=re.nextSibling,Ne=Ae.nextSibling,Tt=Ne.firstChild;return oe.style.setProperty("display","flex"),oe.style.setProperty("align-items","center"),oe.style.setProperty("justify-content","space-between"),oe.style.setProperty("padding","1rem"),oe.style.setProperty("background","linear-gradient(135deg, rgba(34, 197, 94, 0.05), rgba(34, 197, 94, 0.1))"),oe.style.setProperty("border-radius","8px"),oe.style.setProperty("border","1px solid rgba(34, 197, 94, 0.2)"),re.style.setProperty("font-weight","600"),re.style.setProperty("margin-bottom","0.25rem"),Me.style.setProperty("font-size","0.875rem"),Me.style.setProperty("color","var(--text-secondary)"),Ne.$$click=()=>x(!0),Tt.style.setProperty("width","18px"),Tt.style.setProperty("height","18px"),f(B=>s(Ne,ke("success",!1),B)),oe}}),null),U})()]}})}}),Dt),t(ve,n(p,{get when(){return ge()},get children(){return n(fs,{get children(){var U=Wy(),oe=U.firstChild,Ae=oe.firstChild,re=oe.nextSibling,Me=re.nextSibling,Ne=Me.firstChild,Tt=Ne.nextSibling;return Tt.nextSibling,U.style.setProperty("text-align","center"),U.style.setProperty("padding","2rem"),U.style.setProperty("background","linear-gradient(135deg, rgba(34, 197, 94, 0.05), rgba(34, 197, 94, 0.15))"),U.style.setProperty("border-radius","12px"),oe.style.setProperty("font-size","4rem"),oe.style.setProperty("margin-bottom","1rem"),Ae.style.setProperty("width","64px"),Ae.style.setProperty("height","64px"),re.style.setProperty("font-size","1.5rem"),re.style.setProperty("font-weight","700"),re.style.setProperty("color","#166534"),re.style.setProperty("margin-bottom","0.5rem"),Me.style.setProperty("color","#22c55e"),Me.style.setProperty("font-size","1rem"),t(Me,()=>e.client.firstName,Ne),t(Me,()=>e.taxYear,Tt),U}})}}),Dt),s(Dt,It),s(qt,ir),lr.style.setProperty("width","18px"),lr.style.setProperty("height","18px"),s(ce,Kt),t(ce,n(p,{get when(){return Y().pending>0},get children(){var U=Yy(),oe=U.firstChild,Ae=oe.nextSibling;return Ae.nextSibling,t(U,()=>Y().pending,Ae),U}}),null),t(ce,n(p,{get when(){return Y().errors>0},get children(){var U=Gy(),oe=U.firstChild,Ae=oe.nextSibling;return Ae.nextSibling,t(U,()=>Y().errors,Ae),U}}),null),t(ce,n(p,{get when(){return bt(()=>!C())()&&Y().verified>0},get children(){return Vy()}}),null),t(ce,n(p,{get when(){return C()},get children(){return[qy(),Qy(),Xy()]}}),null),t(ce,n(p,{get when(){return Y().total===0},get children(){return Ky()}}),null),f(U=>{var oe=Ze,Ae=O,re=he;return U.e=s(ve,oe,U.e),U.t=s(Se,Ae,U.t),U.a=s(_t,re,U.a),U},{e:void 0,t:void 0,a:void 0}),ve})()};is(["click"]);var Vc=a("<div><span>Last Updated</span><span>"),qc=a("<div><span>Filed Date</span><span>"),Qc=a("<div><span>Accepted Date</span><span>"),Xc=a("<div><span>Rejection Reason</span><span>"),Jn=a("<span>Current"),Zn=a("<div>"),Kc=a('<div><div><svg width=20 height=20 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2><path d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path></svg>Tax Preparation Progress</div><div><span>Current Status</span><span><span></span></span></div><div><label>Update Status</label><div><div><div><svg width=14 height=14 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=3><path d="M6 18L18 6M6 6l12 12"></path></svg></div><span></span></div><div><label>Special Statuses</label><div>'),Jc=a("<div><div><span>Payment Progress</span><span>%</span></div><div><div></div></div><div><span> paid</span><span> remaining"),Zc=a('<div><div><svg width=20 height=20 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2><path d="M12 1v22M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6"></path></svg>Payment Information</div><div><label>Payment Status</label><div></div></div><div></div><div><div><label>Payment Method</label><select><option value>Select method...</option></select></div></div><div><label>Payment Notes</label><textarea placeholder="Add notes about payment...">'),ep=a("<div><div><button>Workflow Status</button><button>Payment Status"),tp=a("<div><div></div><span>"),rp=a('<svg width=14 height=14 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=3><path d="M5 13l4 4L19 7">'),eo=a("<button>"),sp=a('<svg width=14 height=14 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2><rect x=6 y=4 width=4 height=16 rx=1></rect><rect x=14 y=4 width=4 height=16 rx=1>'),np=a('<svg width=14 height=14 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2><circle cx=12 cy=12 r=10></circle><polyline points="12 6 12 12 16 14">'),op=a('<svg width=14 height=14 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2><circle cx=12 cy=12 r=10></circle><line x1=4.93 y1=4.93 x2=19.07 y2=19.07>'),ip=a('<svg width=14 height=14 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2><path d="M14.7 6.3a1 1 0 000 1.4l1.6 1.6a1 1 0 001.4 0l3.77-3.77a6 6 0 01-7.94 7.94l-6.91 6.91a2.12 2.12 0 01-3-3l6.91-6.91a6 6 0 017.94-7.94l-3.76 3.76z">'),lp=a("<option>");const ap=[{value:"cash",label:"Cash"},{value:"card",label:"Credit/Debit Card"},{value:"check",label:"Check"},{value:"transfer",label:"Bank Transfer"},{value:"other",label:"Other"}],to=["intake","collecting_docs","docs_complete","in_review","ready_to_file","filed","accepted","completed"],dp=["hold","waiting_client","cancelled","test"],yp=e=>{const[y,o]=Ie("workflow"),[h,w]=Ie(!1),C=ye=>{e.onClientChange(ye),w(!0)},te=async()=>{await e.onSave(),w(!1)},E=()=>{const ye=e.client.paymentAmount||0,Ce=e.client.paymentPaidAmount||0;return ye===0?0:Math.min(100,Math.round(Ce/ye*100))},H=()=>{const ye=e.client.workflowStatus||"intake";return to.indexOf(ye)},se=ye=>ye?new Date(ye).toLocaleDateString():"-",F=ye=>ye==null?"-":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(ye),r={padding:"1rem"},Z={display:"flex",gap:"0.5rem","margin-bottom":"1.5rem","border-bottom":"2px solid var(--border-color)","padding-bottom":"0.5rem"},ge=ye=>({padding:"0.75rem 1.5rem",border:"none",background:ye?"var(--primary-color)":"transparent",color:ye?"white":"var(--text-primary)","border-radius":"var(--border-radius-md)",cursor:"pointer","font-weight":"600","font-size":"0.875rem",transition:"all 0.2s"}),x={background:"var(--background-color)","border-radius":"var(--border-radius-md)",padding:"1.5rem","margin-bottom":"1rem"},W={"font-size":"1.125rem","font-weight":"600","margin-bottom":"1rem",color:"var(--text-primary)",display:"flex","align-items":"center",gap:"0.5rem"},$={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},Y={display:"flex","flex-wrap":"wrap",gap:"0.5rem","margin-top":"0.5rem"},c=(ye,Ce,Xe)=>({padding:"0.5rem 1rem",border:`2px solid ${Xe[ye]}`,"border-radius":"var(--border-radius-md)",background:Ce?Xe[ye]:"transparent",color:Ce?"white":Xe[ye],cursor:"pointer","font-weight":"500","font-size":"0.875rem",transition:"all 0.2s"}),L={width:"100%",height:"8px",background:"var(--border-color)","border-radius":"4px",overflow:"hidden","margin-top":"0.5rem"},D=(ye,Ce)=>({width:`${ye}%`,height:"100%",background:Ce,transition:"width 0.3s ease"}),v={display:"flex","flex-direction":"column",gap:"0.5rem","margin-top":"1rem"},ne=(ye,Ce,Xe)=>({display:"flex","align-items":"center",gap:"0.75rem",padding:"0.75rem",background:ye?`${Xe}15`:"transparent","border-radius":"var(--border-radius-md)",border:ye?`2px solid ${Xe}`:"2px solid transparent",cursor:"pointer",transition:"all 0.2s"}),k=(ye,Ce,Xe)=>({width:"24px",height:"24px","min-width":"24px","border-radius":"50%",background:Ce||ye?Xe:"var(--border-color)",display:"flex","align-items":"center","justify-content":"center",color:"white","font-size":"0.75rem","font-weight":"600"}),Ze=(ye,Ce)=>({"font-weight":ye?"600":"400",color:ye?"var(--text-primary)":Ce?"var(--text-secondary)":"var(--text-muted)",flex:1}),O={display:"flex","justify-content":"flex-end",gap:"1rem","margin-top":"1.5rem","padding-top":"1rem","border-top":"1px solid var(--border-color)"},he={display:"flex","justify-content":"space-between","align-items":"center",padding:"0.5rem 0","border-bottom":"1px solid var(--border-color)"},$e={"font-weight":"500",color:"var(--text-secondary)","font-size":"0.875rem"},fe={"font-weight":"600",color:"var(--text-primary)"};return(()=>{var ye=ep(),Ce=ye.firstChild,Xe=Ce.firstChild,nt=Xe.nextSibling;return s(ye,r),s(Ce,Z),Xe.$$click=()=>o("workflow"),nt.$$click=()=>o("payment"),t(ye,n(p,{get when(){return y()==="workflow"},get children(){var ot=Kc(),qe=ot.firstChild,gt=qe.nextSibling,ke=gt.firstChild,Ye=ke.nextSibling,xt=Ye.firstChild,Ee=gt.nextSibling,Pt=Ee.firstChild,$t=Pt.nextSibling,It=$t.firstChild,ir=It.firstChild,Kt=ir.nextSibling,Wt=It.nextSibling,pt=Wt.firstChild,Je=pt.nextSibling;return xt.style.setProperty("width","10px"),xt.style.setProperty("height","10px"),xt.style.setProperty("border-radius","50%"),t(Ye,()=>ln[e.client.workflowStatus||"intake"],null),t(ot,n(p,{get when(){return e.client.workflowStatusDate},get children(){var xe=Vc(),ve=xe.firstChild,Se=ve.nextSibling;return t(Se,()=>se(e.client.workflowStatusDate)),f(we=>{var _t=he,wt=$e,it=fe;return we.e=s(xe,_t,we.e),we.t=s(ve,wt,we.t),we.a=s(Se,it,we.a),we},{e:void 0,t:void 0,a:void 0}),xe}}),Ee),t(ot,n(p,{get when(){return e.client.filedDate},get children(){var xe=qc(),ve=xe.firstChild,Se=ve.nextSibling;return t(Se,()=>se(e.client.filedDate)),f(we=>{var _t=he,wt=$e,it=fe;return we.e=s(xe,_t,we.e),we.t=s(ve,wt,we.t),we.a=s(Se,it,we.a),we},{e:void 0,t:void 0,a:void 0}),xe}}),Ee),t(ot,n(p,{get when(){return e.client.acceptedDate},get children(){var xe=Qc(),ve=xe.firstChild,Se=ve.nextSibling;return t(Se,()=>se(e.client.acceptedDate)),f(we=>{var _t=he,wt=$e,it=fe;return we.e=s(xe,_t,we.e),we.t=s(ve,wt,we.t),we.a=s(Se,it,we.a),we},{e:void 0,t:void 0,a:void 0}),xe}}),Ee),t(ot,n(p,{get when(){return e.client.rejectedReason},get children(){var xe=Xc(),ve=xe.firstChild,Se=ve.nextSibling;return t(Se,()=>e.client.rejectedReason),f(we=>{var _t={...he,"flex-direction":"column","align-items":"flex-start",gap:"0.5rem"},wt=$e,it={...fe,color:"#ef4444"};return we.e=s(xe,_t,we.e),we.t=s(ve,wt,we.t),we.a=s(Se,it,we.a),we},{e:void 0,t:void 0,a:void 0}),xe}}),Ee),Ee.style.setProperty("margin-top","1.5rem"),Pt.style.setProperty("font-weight","500"),Pt.style.setProperty("margin-bottom","0.5rem"),Pt.style.setProperty("display","block"),t($t,n(Ht,{each:to,children:(xe,ve)=>{const Se=e.client.workflowStatus===xe,we=ve()<H(),_t=Us[xe];return(()=>{var wt=tp(),it=wt.firstChild,rr=it.nextSibling;return wt.$$click=()=>C({workflowStatus:xe,workflowStatusDate:Date.now()}),t(it,()=>we?rp():ve()+1),t(rr,()=>ln[xe]),t(wt,n(p,{when:Se,get children(){var Dt=Jn();return _t!=null?Dt.style.setProperty("background",_t):Dt.style.removeProperty("background"),Dt.style.setProperty("color","white"),Dt.style.setProperty("padding","0.25rem 0.5rem"),Dt.style.setProperty("border-radius","9999px"),Dt.style.setProperty("font-size","0.75rem"),Dt.style.setProperty("font-weight","600"),Dt}}),null),f(Dt=>{var qt=ne(Se,we,_t),lr=k(Se,we,_t),ce=Ze(Se,we);return Dt.e=s(wt,qt,Dt.e),Dt.t=s(it,lr,Dt.t),Dt.a=s(rr,ce,Dt.a),Dt},{e:void 0,t:void 0,a:void 0}),wt})()}}),It),It.$$click=()=>C({workflowStatus:"rejected",workflowStatusDate:Date.now()}),t(Kt,()=>ln.rejected),t(It,n(p,{get when(){return e.client.workflowStatus==="rejected"},get children(){var xe=Jn();return xe.style.setProperty("color","white"),xe.style.setProperty("padding","0.25rem 0.5rem"),xe.style.setProperty("border-radius","9999px"),xe.style.setProperty("font-size","0.75rem"),xe.style.setProperty("font-weight","600"),f(ve=>(ve=Us.rejected)!=null?xe.style.setProperty("background",ve):xe.style.removeProperty("background")),xe}}),null),Wt.style.setProperty("margin-top","1rem"),Wt.style.setProperty("padding-top","1rem"),Wt.style.setProperty("border-top","1px dashed var(--border-color)"),pt.style.setProperty("font-size","0.75rem"),pt.style.setProperty("color","var(--text-secondary)"),pt.style.setProperty("margin-bottom","0.5rem"),pt.style.setProperty("display","block"),pt.style.setProperty("text-transform","uppercase"),pt.style.setProperty("letter-spacing","0.05em"),Je.style.setProperty("display","flex"),Je.style.setProperty("flex-wrap","wrap"),Je.style.setProperty("gap","0.5rem"),t(Je,n(Ht,{each:dp,children:xe=>{const ve=e.client.workflowStatus===xe,Se=Us[xe];return(()=>{var we=eo();return we.$$click=()=>C({workflowStatus:xe,workflowStatusDate:Date.now()}),we.style.setProperty("padding","0.5rem 1rem"),`2px solid ${Se}`!=null?we.style.setProperty("border",`2px solid ${Se}`):we.style.removeProperty("border"),we.style.setProperty("border-radius","var(--border-radius-md)"),(ve?Se:"transparent")!=null?we.style.setProperty("background",ve?Se:"transparent"):we.style.removeProperty("background"),(ve?"white":Se)!=null?we.style.setProperty("color",ve?"white":Se):we.style.removeProperty("color"),we.style.setProperty("cursor","pointer"),we.style.setProperty("font-weight","500"),we.style.setProperty("font-size","0.875rem"),we.style.setProperty("transition","all 0.2s"),we.style.setProperty("display","flex"),we.style.setProperty("align-items","center"),we.style.setProperty("gap","0.5rem"),t(we,xe==="hold"&&sp(),null),t(we,xe==="waiting_client"&&np(),null),t(we,xe==="cancelled"&&op(),null),t(we,xe==="test"&&ip(),null),t(we,()=>ln[xe],null),we})()}})),t(ot,n(p,{get when(){return e.client.workflowStatus==="rejected"},get children(){var xe=Zn();return xe.style.setProperty("margin-top","1rem"),t(xe,n(Ss,{label:"Rejection Reason",get value(){return e.client.rejectedReason||""},onChange:ve=>C({rejectedReason:ve}),placeholder:"Enter reason for rejection..."})),xe}}),null),f(xe=>{var ve=x,Se=W,we=he,_t=$e,wt={...fe,color:Us[e.client.workflowStatus||"intake"],display:"flex","align-items":"center",gap:"0.5rem"},it=Us[e.client.workflowStatus||"intake"],rr=v,Dt=ne(e.client.workflowStatus==="rejected",!1,Us.rejected),qt=k(e.client.workflowStatus==="rejected",!1,Us.rejected),lr=Ze(e.client.workflowStatus==="rejected",!1);return xe.e=s(ot,ve,xe.e),xe.t=s(qe,Se,xe.t),xe.a=s(gt,we,xe.a),xe.o=s(ke,_t,xe.o),xe.i=s(Ye,wt,xe.i),it!==xe.n&&((xe.n=it)!=null?xt.style.setProperty("background",it):xt.style.removeProperty("background")),xe.s=s($t,rr,xe.s),xe.h=s(It,Dt,xe.h),xe.r=s(ir,qt,xe.r),xe.d=s(Kt,lr,xe.d),xe},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0}),ot}}),null),t(ye,n(p,{get when(){return y()==="payment"},get children(){var ot=Zc(),qe=ot.firstChild,gt=qe.nextSibling,ke=gt.firstChild,Ye=ke.nextSibling,xt=gt.nextSibling,Ee=xt.nextSibling,Pt=Ee.firstChild,$t=Pt.firstChild,It=$t.nextSibling;It.firstChild;var ir=Ee.nextSibling,Kt=ir.firstChild,Wt=Kt.nextSibling;return ke.style.setProperty("font-weight","500"),ke.style.setProperty("margin-bottom","0.5rem"),ke.style.setProperty("display","block"),s(Ye,Y),t(Ye,n(Ht,{get each(){return Object.keys(Un)},children:pt=>(()=>{var Je=eo();return Je.$$click=()=>C({paymentStatus:pt}),t(Je,()=>Un[pt]),f(xe=>s(Je,c(pt,e.client.paymentStatus===pt,Ko),xe)),Je})()})),t(xt,n(Ss,{label:"Total Fee Amount",type:"number",get value(){return e.client.paymentAmount?.toString()||""},onChange:pt=>C({paymentAmount:pt?parseFloat(pt):void 0}),placeholder:"0.00"}),null),t(xt,n(Ss,{label:"Amount Paid",type:"number",get value(){return e.client.paymentPaidAmount?.toString()||""},onChange:pt=>C({paymentPaidAmount:pt?parseFloat(pt):void 0}),placeholder:"0.00"}),null),t(ot,n(p,{get when(){return e.client.paymentAmount&&e.client.paymentAmount>0},get children(){var pt=Jc(),Je=pt.firstChild,xe=Je.firstChild,ve=xe.nextSibling,Se=ve.firstChild,we=Je.nextSibling,_t=we.firstChild,wt=we.nextSibling,it=wt.firstChild,rr=it.firstChild,Dt=it.nextSibling,qt=Dt.firstChild;return pt.style.setProperty("margin-top","1rem"),Je.style.setProperty("display","flex"),Je.style.setProperty("justify-content","space-between"),Je.style.setProperty("margin-bottom","0.25rem"),t(ve,E,Se),s(we,L),wt.style.setProperty("display","flex"),wt.style.setProperty("justify-content","space-between"),wt.style.setProperty("margin-top","0.5rem"),it.style.setProperty("font-size","0.875rem"),it.style.setProperty("color","var(--text-muted)"),t(it,()=>F(e.client.paymentPaidAmount||0),rr),Dt.style.setProperty("font-size","0.875rem"),Dt.style.setProperty("color","var(--text-muted)"),t(Dt,()=>F((e.client.paymentAmount||0)-(e.client.paymentPaidAmount||0)),qt),f(lr=>{var ce=$e,U=fe,oe=D(E(),E()>=100?"#22c55e":"#3b82f6");return lr.e=s(xe,ce,lr.e),lr.t=s(ve,U,lr.t),lr.a=s(_t,oe,lr.a),lr},{e:void 0,t:void 0,a:void 0}),pt}}),Ee),$t.style.setProperty("font-weight","500"),$t.style.setProperty("margin-bottom","0.5rem"),$t.style.setProperty("display","block"),It.addEventListener("change",pt=>C({paymentMethod:pt.target.value})),It.style.setProperty("width","100%"),It.style.setProperty("padding","0.75rem"),It.style.setProperty("border","1px solid var(--border-color)"),It.style.setProperty("border-radius","var(--border-radius-md)"),It.style.setProperty("background","var(--surface-color)"),It.style.setProperty("color","var(--text-primary)"),It.style.setProperty("font-size","0.875rem"),t(It,n(Ht,{each:ap,children:pt=>(()=>{var Je=lp();return t(Je,()=>pt.label),f(()=>Je.value=pt.value),Je})()}),null),t(Ee,n(Ss,{label:"Payment Date",type:"date",get value(){return bt(()=>!!e.client.paymentDate)()?new Date(e.client.paymentDate).toISOString().split("T")[0]:""},onChange:pt=>C({paymentDate:pt?new Date(pt).getTime():void 0})}),null),ir.style.setProperty("margin-top","1rem"),Kt.style.setProperty("font-weight","500"),Kt.style.setProperty("margin-bottom","0.5rem"),Kt.style.setProperty("display","block"),Wt.$$input=pt=>C({paymentNotes:pt.currentTarget.value}),Wt.style.setProperty("width","100%"),Wt.style.setProperty("padding","0.75rem"),Wt.style.setProperty("border","1px solid var(--border-color)"),Wt.style.setProperty("border-radius","var(--border-radius-md)"),Wt.style.setProperty("background","var(--surface-color)"),Wt.style.setProperty("color","var(--text-primary)"),Wt.style.setProperty("font-size","0.875rem"),Wt.style.setProperty("min-height","80px"),Wt.style.setProperty("resize","vertical"),f(pt=>{var Je=x,xe=W,ve={...$,"margin-top":"1.5rem"},Se={...$,"margin-top":"1rem"};return pt.e=s(ot,Je,pt.e),pt.t=s(qe,xe,pt.t),pt.a=s(xt,ve,pt.a),pt.o=s(Ee,Se,pt.o),pt},{e:void 0,t:void 0,a:void 0,o:void 0}),f(()=>It.value=e.client.paymentMethod||""),f(()=>Wt.value=e.client.paymentNotes||""),ot}}),null),t(ye,n(p,{get when(){return h()},get children(){var ot=Zn();return s(ot,O),t(ot,n($s,{variant:"secondary",onClick:()=>w(!1),children:"Discard Changes"}),null),t(ot,n($s,{onClick:te,get disabled(){return e.isSaving},get children(){return e.isSaving?"Saving...":"Save Changes"}}),null),ot}}),null),f(ot=>{var qe=ge(y()==="workflow"),gt=ge(y()==="payment");return ot.e=s(Xe,qe,ot.e),ot.t=s(nt,gt,ot.t),ot},{e:void 0,t:void 0}),ye})()};is(["click","input"]);function M(e){return{id:e,checked:!1,amount:void 0,notes:void 0}}function cp(e="",y="general"){return{id:Math.random().toString(36).substring(2,12),content:e,category:y,createdAt:Date.now(),priority:"medium",resolved:!1}}function pp(){return{calculationMethod:"simplified",simplifiedSquareFootage:void 0,totalHomeSquareFootage:void 0,officeSquareFootage:void 0,businessUsePercentage:void 0,usedExclusively:!1,usedRegularly:!1,principalPlaceOfBusiness:!1,meetClientsHere:!1,separateStructure:!1,homeOwnership:"own",directExpenses:{officePaint:M("officePaint"),officeRepairs:M("officeRepairs"),officeFurniture:M("officeFurniture"),officeEquipment:M("officeEquipment")},indirectExpenses:{mortgageInterest:M("homeOfficeMortgageInterest"),realEstateTaxes:M("homeOfficeRealEstateTaxes"),rentPayment:M("homeOfficeRentPayment"),utilities:M("homeOfficeUtilities"),homeInsurance:M("homeOfficeInsurance"),repairs:M("homeOfficeRepairs"),securitySystem:M("homeOfficeSecuritySystem"),hoa:M("homeOfficeHoa"),depreciation:M("homeOfficeDepreciation")}}}function up(){return{businessInfo:void 0,vehicles:[],homeOffice:pp(),operations:{advertising:M("advertising"),insurance:M("insurance"),legalFees:M("legalFees"),accountingFees:M("accountingFees"),licenses:M("licenses"),bankFees:M("bankFees"),contractLabor:M("contractLabor"),badDebts:M("badDebts"),commissions:M("commissions"),employeeBenefits:M("employeeBenefits"),pensionPlans:M("pensionPlans")},office:{officeSupplies:M("officeSupplies"),postage:M("postage"),telephone:M("telephone"),cellPhone:M("cellPhone"),internet:M("internet"),software:M("software"),subscriptions:M("subscriptions"),cloudServices:M("cloudServices"),computerEquipment:M("computerEquipment"),printerInk:M("printerInk")},travel:{airfare:M("airfare"),lodging:M("lodging"),carRental:M("carRental"),uber:M("uber"),taxi:M("taxi"),trainBus:M("trainBus"),baggage:M("baggage"),travelMeals:M("travelMeals"),tips:M("tips")},meals:{businessMeals:M("businessMeals"),clientMeals:M("clientMeals"),teamMeals:M("teamMeals"),conferenceFood:M("conferenceFood")},equipment:{machinery:M("machinery"),furniture:M("furniture"),tools:M("tools"),computers:M("computers"),phones:M("phones"),cameras:M("cameras"),section179Deduction:M("section179Deduction"),bonusDepreciation:M("bonusDepreciation")},education:{coursesAndSeminars:M("coursesAndSeminars"),books:M("books"),certifications:M("certifications"),professionalDues:M("professionalDues"),conferences:M("conferences"),workshops:M("workshops"),onlineCourses:M("onlineCourses")},labor:{wages:M("wages"),salaries:M("salaries"),contractorPayments:M("contractorPayments"),payrollTaxes:M("payrollTaxes"),workersComp:M("workersComp"),healthInsurance:M("laborHealthInsurance"),retirement401k:M("retirement401k")},facilityExpenses:{officeRent:M("officeRent"),warehouseRent:M("warehouseRent"),storageUnit:M("storageUnit"),electricity:M("electricity"),gas:M("gas"),water:M("water"),trash:M("trash"),janitorial:M("janitorial")},marketing:{onlineAds:M("onlineAds"),printAds:M("printAds"),socialMedia:M("socialMedia"),websiteHosting:M("websiteHosting"),domainNames:M("domainNames"),emailMarketing:M("emailMarketing"),seo:M("seo"),businessCards:M("businessCards"),brochures:M("brochures"),tradeshows:M("tradeshows")},insurance:{generalLiability:M("generalLiability"),professionalLiability:M("professionalLiability"),propertyInsurance:M("propertyInsurance"),cyberInsurance:M("cyberInsurance"),businessInterruption:M("businessInterruption")},other:{uniforms:M("uniforms"),laundry:M("laundry"),creditCardFees:M("creditCardFees"),merchantFees:M("merchantFees"),bankCharges:M("bankCharges"),interestExpense:M("interestExpense"),penalties:M("penalties"),otherExpenses:M("otherExpenses")},preparerNotes:void 0}}function mp(){return{deductions:{medical:{medicalExpenses:M("medicalExpenses"),dentalExpenses:M("dentalExpenses"),visionExpenses:M("visionExpenses"),healthInsurancePremiums:M("healthInsurancePremiums"),prescriptionMedications:M("prescriptionMedications"),medicalMileage:M("medicalMileage")},taxesPaid:{stateIncomeTax:M("stateIncomeTax"),localIncomeTax:M("localIncomeTax"),realEstateTax:M("realEstateTax"),personalPropertyTax:M("personalPropertyTax"),foreignTaxesPaid:M("foreignTaxesPaid")},interest:{mortgageInterest:M("mortgageInterest"),mortgageInsurancePremiums:M("mortgageInsurancePremiums"),investmentInterest:M("investmentInterest"),studentLoanInterest:M("studentLoanInterest")},donations:{cashDonations:M("cashDonations"),nonCashDonations:M("nonCashDonations"),volunteerMileage:M("volunteerMileage"),charitableCarryover:M("charitableCarryover")},casualty:{federalDisasterLoss:M("federalDisasterLoss"),theftLoss:M("theftLoss")},other:{gamblingLosses:M("gamblingLosses"),unreimbursedExpenses:M("unreimbursedExpenses"),taxPrepFees:M("taxPrepFees")}},businessExpenses:up(),rentalProperties:{properties:[]},taxCredits:{children:{childTaxCredit:M("childTaxCredit"),childCareExpenses:M("childCareExpenses"),adoptionCredit:M("adoptionCredit"),dependentCareCredit:M("dependentCareCredit")},education:{americanOpportunity:M("americanOpportunity"),lifetimeLearning:M("lifetimeLearning"),tuitionAndFees:M("tuitionAndFees"),studentLoanInterest:M("studentLoanInterest"),education529Contributions:M("education529Contributions")},energy:{residentialCleanEnergy:M("residentialCleanEnergy"),energyEfficientHome:M("energyEfficientHome"),electricVehicle:M("electricVehicle"),solarPanels:M("solarPanels")},eitc:{earnedIncomeCredit:M("earnedIncomeCredit"),qualifyingChildren:M("qualifyingChildren")},housing:{mortgageInterestCredit:M("mortgageInterestCredit"),firstTimeHomebuyerCredit:M("firstTimeHomebuyerCredit")},other:{elderlyDisabledCredit:M("elderlyDisabledCredit"),foreignTaxCredit:M("foreignTaxCredit"),retirementSaversCredit:M("retirementSaversCredit"),healthCoverageCredit:M("healthCoverageCredit"),excessSocialSecurity:M("excessSocialSecurity")}},otherIncome:{additionalIncome:{socialSecurity:M("socialSecurity"),pension:M("pension"),annuity:M("annuity"),ira:M("ira"),unemployment:M("unemployment"),alimony:M("alimony"),gambling:M("gambling"),juryDuty:M("juryDuty"),prizeAwards:M("prizeAwards"),cryptoIncome:M("cryptoIncome"),stockSales:M("stockSales"),rentalRoyalties:M("rentalRoyalties")},adjustments:{iraContributions:M("iraContributions"),hsaContributions:M("hsaContributions"),selfEmploymentTax:M("selfEmploymentTax"),healthInsuranceDeduction:M("healthInsuranceDeduction"),retirementContributions:M("retirementContributions"),alimonyPaid:M("alimonyPaid"),educatorExpenses:M("educatorExpenses"),movingExpenses:M("movingExpenses"),studentLoanInterest:M("studentLoanInterest"),tuitionFees:M("tuitionFees"),qbid:M("qbid"),schedule1ADeductions:M("schedule1ADeductions")},schedule2Taxes:{excessPtcRepayment:M("excessPtcRepayment"),selfEmploymentTax:M("schedule2SelfEmploymentTax"),unreportedSocialSecurityTax:M("unreportedSocialSecurityTax"),additionalTaxOnIra:M("additionalTaxOnIra"),householdEmploymentTax:M("householdEmploymentTax"),netInvestmentIncomeTax:M("netInvestmentIncomeTax")},healthInsuranceMarketplace:{hasMarketplaceCoverage:!1,monthlyPremium:0,monthlySlcsp:0,monthlyAptc:0,coverageMonths:0}}}}function gp(){return{id:crypto.randomUUID(),propertyAddress:"",propertyType:"single_family",daysRented:0,personalUseDays:0,rentalIncome:M("rentalIncome"),expenses:{mortgage:M("mortgage"),propertyTax:M("propertyTax"),insurance:M("rentalInsurance"),repairs:M("rentalRepairs"),maintenance:M("maintenance"),utilities:M("rentalUtilities"),management:M("management"),advertising:M("rentalAdvertising"),legal:M("legal"),hoa:M("hoa"),cleaning:M("cleaning"),supplies:M("supplies")},capitalImprovements:{roofing:M("roofing"),hvac:M("hvac"),plumbing:M("plumbing"),electrical:M("electrical"),appliances:M("appliances"),flooring:M("flooring"),otherImprovements:M("otherImprovements")}}}function ps(e,y){return{...e,checked:!0,amount:(e.amount||0)+y}}function fp(e,y){const o=JSON.parse(JSON.stringify(e));Qe("[AUTO-FILL] ===== AUTO-FILL FROM DOCUMENTS ====="),Qe("[AUTO-FILL] Total documents:",y.length),y.forEach((w,C)=>{Qe(w),Qe(`[AUTO-FILL] Doc ${C+1}:`,{drakeFormType:w.drakeFormType,documentType:w.documentType,uploadStatus:w.uploadStatus,hasExtractedAmounts:!!w.extractedAmounts,extractedAmounts:w.extractedAmounts})});const h=y.filter(w=>(w.uploadStatus==="analyzed"||w.uploadStatus==="verified")&&w.extractedAmounts);Qe("[AUTO-FILL] Eligible documents:",h.length);for(const w of h){const C=w.extractedAmounts,te=w.drakeFormType,E=w.documentType;if(Qe(`[AUTO-FILL] Processing: formType=${te}, docType=${E}`),te==="1098"||E==="form_1098"){Qe("[AUTO-FILL] >>> 1098 MORTGAGE DOCUMENT DETECTED <<<"),C.mortgageInterest&&C.mortgageInterest>0&&(o.deductions.interest.mortgageInterest=ps(o.deductions.interest.mortgageInterest,C.mortgageInterest)),C.mortgageInsurancePremiums&&C.mortgageInsurancePremiums>0&&(o.deductions.interest.mortgageInsurancePremiums=ps(o.deductions.interest.mortgageInsurancePremiums,C.mortgageInsurancePremiums)),C.propertyTaxes&&C.propertyTaxes>0&&(o.deductions.taxesPaid.realEstateTax=ps(o.deductions.taxesPaid.realEstateTax,C.propertyTaxes)),C.pointsPaid&&C.pointsPaid>0&&(o.deductions.interest.mortgageInterest=ps(o.deductions.interest.mortgageInterest,C.pointsPaid)),o.taxCredits.housing||(o.taxCredits.housing={mortgageInterestCredit:{id:"mortgageInterestCredit",checked:!1,amount:void 0,notes:void 0},firstTimeHomebuyerCredit:{id:"firstTimeHomebuyerCredit",checked:!1,amount:void 0,notes:void 0}});const r=(C.mortgageInterest||0)+(C.pointsPaid||0);r>0&&(o.taxCredits.housing.mortgageInterestCredit={...o.taxCredits.housing.mortgageInterestCredit,notes:o.taxCredits.housing.mortgageInterestCredit.notes?o.taxCredits.housing.mortgageInterestCredit.notes:`1098 detected with $${r.toFixed(2)} mortgage interest. Check if client has MCC (Mortgage Credit Certificate) for Form 8396 credit.`})}if((te==="w2"||E==="form_w2"||E==="w2")&&(C.stateTaxWithheld&&C.stateTaxWithheld>0&&(o.deductions.taxesPaid.stateIncomeTax=ps(o.deductions.taxesPaid.stateIncomeTax,C.stateTaxWithheld)),C.localTaxWithheld&&C.localTaxWithheld>0&&(o.deductions.taxesPaid.localIncomeTax=ps(o.deductions.taxesPaid.localIncomeTax,C.localTaxWithheld)),C.dependentCareBenefits&&C.dependentCareBenefits>0&&(o.taxCredits.children.dependentCareCredit=ps(o.taxCredits.children.dependentCareCredit,C.dependentCareBenefits))),te==="1098_t"||E==="form_1098_t"){const r=C.paymentsReceived||0,Z=C.scholarshipsGrants||0,ge=r-Z;ge>0&&(o.taxCredits.education.americanOpportunity=ps(o.taxCredits.education.americanOpportunity,ge)),C.halfTimeStudent&&(o.taxCredits.education.lifetimeLearning={...o.taxCredits.education.lifetimeLearning,checked:!0})}te==="1099_int"&&(C.investmentExpenses&&C.investmentExpenses>0&&(o.deductions.interest.investmentInterest=ps(o.deductions.interest.investmentInterest,C.investmentExpenses)),C.foreignTaxPaid&&C.foreignTaxPaid>0&&(o.deductions.taxesPaid.foreignTaxesPaid=ps(o.deductions.taxesPaid.foreignTaxesPaid,C.foreignTaxPaid))),te==="1099_div"&&(C.foreignTaxPaid&&C.foreignTaxPaid>0&&(o.deductions.taxesPaid.foreignTaxesPaid=ps(o.deductions.taxesPaid.foreignTaxesPaid,C.foreignTaxPaid)),C.investmentExpenses&&C.investmentExpenses>0&&(o.deductions.interest.investmentInterest=ps(o.deductions.interest.investmentInterest,C.investmentExpenses))),te==="1099_nec"&&C.nonEmployeeCompensation&&C.nonEmployeeCompensation>0&&(o.businessExpenses.operations.contractLabor={...o.businessExpenses.operations.contractLabor,checked:!0,notes:o.businessExpenses.operations.contractLabor.notes?o.businessExpenses.operations.contractLabor.notes+"; 1099-NEC self-employment income detected":"1099-NEC self-employment income detected"},o.otherIncome.adjustments.selfEmploymentTax={...o.otherIncome.adjustments.selfEmploymentTax,checked:!0}),te==="1099_misc"&&(C.rents&&C.rents>0&&(o.otherIncome.additionalIncome.rentalRoyalties=ps(o.otherIncome.additionalIncome.rentalRoyalties,C.rents)),C.royalties&&C.royalties>0&&(o.otherIncome.additionalIncome.rentalRoyalties=ps(o.otherIncome.additionalIncome.rentalRoyalties,C.royalties))),te==="schedule_k1"&&(C.rentalRealEstateIncome&&C.rentalRealEstateIncome>0&&(o.otherIncome.additionalIncome.rentalRoyalties=ps(o.otherIncome.additionalIncome.rentalRoyalties,C.rentalRealEstateIncome)),C.section179Deduction&&C.section179Deduction>0&&(o.businessExpenses.equipment.section179Deduction=ps(o.businessExpenses.equipment.section179Deduction,C.section179Deduction)),C.selfEmploymentEarnings&&C.selfEmploymentEarnings>0&&(o.otherIncome.adjustments.selfEmploymentTax={...o.otherIncome.adjustments.selfEmploymentTax,checked:!0}));const H=(te||"").toLowerCase(),se=(E||"").toLowerCase(),F=H==="1095_a"||H==="1095-a"||se==="1095_a"||se==="1095-a"||se==="form_1095_a"||se==="form_1095-a"||se.includes("1095-a")||se.includes("1095_a")||H.includes("1095")||se.includes("1095")||!!(C.annualPremiumAmount||C.annualSlcspPremium||C.annualAdvancePtc);if(Qe(`[AUTO-FILL] Checking 1095-A match: formType=${te}, docType=${E}, formTypeLower=${H}, docTypeLower=${se}, is1095A=${F}`),F){Qe("[AUTO-FILL] >>> 1095-A DOCUMENT DETECTED <<<"),Qe("[AUTO-FILL] 1095-A amounts:",JSON.stringify(C));const r=C.annualPremiumAmount||0,Z=C.annualSlcspPremium||0,ge=C.annualAdvancePtc||0,x=C.coverageMonths||12;Qe("[AUTO-FILL] Parsed values:",{annualPremium:r,annualSlcsp:Z,annualAptc:ge,coverageMonths:x});const W=x>0?r/x:0,$=x>0?Z/x:0,Y=x>0?ge/x:0;Qe("[AUTO-FILL] Checking if should populate marketplace:",{annualPremium:r,annualAptc:ge,shouldPopulate:r>0||ge>0}),(r>0||ge>0)&&(Qe("[AUTO-FILL] >>> POPULATING HEALTH INSURANCE MARKETPLACE <<<"),o.otherIncome.healthInsuranceMarketplace||(o.otherIncome.healthInsuranceMarketplace={hasMarketplaceCoverage:!1,monthlyPremium:0,monthlySlcsp:0,monthlyAptc:0,coverageMonths:0}),o.otherIncome.healthInsuranceMarketplace={hasMarketplaceCoverage:!0,monthlyPremium:Math.round(W*100)/100,monthlySlcsp:Math.round($*100)/100,monthlyAptc:Math.round(Y*100)/100,coverageMonths:x},o.otherIncome.schedule2Taxes||(o.otherIncome.schedule2Taxes={excessPtcRepayment:{id:"excessPtcRepayment",checked:!1,amount:void 0,notes:void 0},selfEmploymentTax:{id:"schedule2SelfEmploymentTax",checked:!1,amount:void 0,notes:void 0},unreportedSocialSecurityTax:{id:"unreportedSocialSecurityTax",checked:!1,amount:void 0,notes:void 0},additionalTaxOnIra:{id:"additionalTaxOnIra",checked:!1,amount:void 0,notes:void 0},householdEmploymentTax:{id:"householdEmploymentTax",checked:!1,amount:void 0,notes:void 0},netInvestmentIncomeTax:{id:"netInvestmentIncomeTax",checked:!1,amount:void 0,notes:void 0}}),o.otherIncome.schedule2Taxes.excessPtcRepayment={...o.otherIncome.schedule2Taxes.excessPtcRepayment,checked:!0,notes:`1095-A auto-filled: ${x} months, Monthly: Premium $${W.toFixed(2)}, SLCSP $${$.toFixed(2)}, APTC $${Y.toFixed(2)}`})}}return o.lastUpdated=Date.now(),o}function hp(e){const y=e.filter(h=>(h.uploadStatus==="analyzed"||h.uploadStatus==="verified")&&h.extractedAmounts),o=Array.from(new Set(y.map(h=>h.drakeFormType||h.documentType).filter(Boolean)));return{documentCount:y.length,formTypes:o}}function Do(e){let y=0;const o=[];for(const h of e)if(h.drakeFormType==="w2"){const w=h.extractedAmounts?.wages??0;y+=w,w>0&&o.push({type:"W-2",source:h.payerInfo?.name||h.originalFileName||"unknown",amount:w})}else if(h.drakeFormType==="1099_nec"){const w=h.extractedAmounts?.nonEmployeeCompensation??0;y+=w,w>0&&o.push({type:"1099-NEC",source:h.payerInfo?.name||h.originalFileName||"unknown",amount:w})}else if(h.drakeFormType==="1099_int"){const w=h.extractedAmounts?.interestIncome??0;y+=w,w>0&&o.push({type:"1099-INT",source:h.payerInfo?.name||h.originalFileName||"unknown",amount:w})}else if(h.drakeFormType==="1099_div"){const w=h.extractedAmounts?.ordinaryDividends??0;y+=w,w>0&&o.push({type:"1099-DIV",source:h.payerInfo?.name||h.originalFileName||"unknown",amount:w})}else if(h.drakeFormType==="1099_misc"){const w=h.extractedAmounts?.miscellaneousIncome??0,C=h.extractedAmounts?.rents??0,te=h.extractedAmounts?.royalties??0;y+=w+C+te,w+C+te>0&&o.push({type:"1099-MISC",source:h.payerInfo?.name||h.originalFileName||"unknown",amount:w+C+te})}return Qe("[STRATEGY CALC] AGI Breakdown:",JSON.stringify(o,null,2)),Qe("[STRATEGY CALC] Total AGI:",y),y}function vp(e){let y=0;for(const o of e)o.drakeFormType==="w2"?y+=o.extractedAmounts?.wages??0:o.drakeFormType==="1099_nec"&&(y+=o.extractedAmounts?.nonEmployeeCompensation??0);return Qe("[STRATEGY CALC] Earned Income (W-2 + 1099-NEC):",y),y}function Ro(e){const y=["son","daughter","stepson","stepdaughter","foster_child","grandchild"],o=e.taxYear||2024,h=new Date(o,11,31);if(Qe("[STRATEGY CALC] --- Dependents Analysis ---"),Qe("[STRATEGY CALC] Tax Year:",o),Qe("[STRATEGY CALC] Total dependents on return:",e.dependents?.length||0),Qe("[STRATEGY CALC] All dependents:",JSON.stringify(e.dependents,null,2)),!e.dependents)return Qe("[STRATEGY CALC] No dependents array found on client"),[];const C=e.dependents.map(te=>{const E=y.includes(te.relationship);let H=null,se=!0;if(te.dateOfBirth){const r=new Date(te.dateOfBirth);H=h.getFullYear()-r.getFullYear()-(h<new Date(h.getFullYear(),r.getMonth(),r.getDate())?1:0),se=H<17}const F=E&&se;return Qe(`[STRATEGY CALC] Dependent: ${te.firstName} ${te.lastName} | relationship: ${te.relationship} (${E?"VALID":"NOT VALID"}) | DOB: ${te.dateOfBirth||"N/A"} | Age: ${H!==null?H:"unknown"} | Under 17: ${se} | QUALIFIES: ${F}`),{dep:te,qualifies:F}}).filter(te=>te.qualifies).map(te=>te.dep);return Qe("[STRATEGY CALC] Qualifying children count:",C.length),C}function bp(e){switch(e){case"married_filing_jointly":return 4e5;case"single":case"head_of_household":case"married_filing_separately":case"qualifying_widow":default:return 2e5}}function Pp(e,y){Qe("[STRATEGY CALC] ===== CHILD TAX CREDIT CALCULATION ====="),Qe("[STRATEGY CALC] Client:",JSON.stringify({name:`${e.firstName} ${e.lastName}`,filingStatus:e.filingStatus,taxYear:e.taxYear,dependentsCount:e.dependents?.length||0})),Qe("[STRATEGY CALC] Documents count:",y.length),Qe("[STRATEGY CALC] Documents with extractedAmounts:",y.filter(W=>W.extractedAmounts).length),Qe("[STRATEGY CALC] Document types:",JSON.stringify(y.map(W=>({type:W.drakeFormType,name:W.originalFileName,status:W.uploadStatus}))));const o=Do(y),h=e.dependents?.length||0,w=h>0,te=Ro(e).length;let E;w?te===0&&(E=`${h} dependent(s) found, but none qualify (must be under 17 and qualifying relationship)`):E="No dependents on return";const H=te*2e3,se=e.filingStatus||"single",F=bp(se);let r=0,Z=!1;if(o>F&&H>0){const W=o-F;r=Math.ceil(W/1e3)*50,Z=r>0}const ge=Math.max(0,H-r),x=[];if(w?x.push(`${te} qualifying child${te!==1?"ren":""} of ${h} dependent(s)  $2,000 = $${H.toLocaleString()}`):x.push("No dependents found on return"),Z){const W=o-F;x.push(`AGI $${o.toLocaleString()} exceeds ${se.replace(/_/g," ")} threshold ($${F.toLocaleString()}) by $${W.toLocaleString()}, reduction: -$${r.toLocaleString()}`)}return Qe("[STRATEGY CALC] --- Child Tax Credit Result ---"),Qe("[STRATEGY CALC] Base credit:",H,"| Phase-out:",r,"| Final:",ge),Qe("[STRATEGY CALC] Filing status:",se,"| Threshold:",F,"| AGI:",o),{creditAmount:ge,qualifyingChildren:te,phaseOutReduction:r,isPhasedOut:Z,details:x.join(". "),eligibility:{hasDependents:w,hasQualifyingChildren:te>0,totalDependents:h,nonQualifyingReason:E}}}function xp(e,y){Qe("[STRATEGY CALC] ===== EIC CALCULATION =====");const o=vp(y),h=Do(y),C=Ro(e).length,te=e.filingStatus||"single",E=te==="married_filing_jointly",H=e.taxYear||2024,r=H===2025?{0:{maxCredit:649,phaseInEnd:8490,phaseOutStartSingle:10620,phaseOutStartMFJ:17620,maxIncomeSingle:19104,maxIncomeMFJ:26214,phaseInRate:.0765,phaseOutRate:.0765},1:{maxCredit:4328,phaseInEnd:12730,phaseOutStartSingle:23350,phaseOutStartMFJ:30350,maxIncomeSingle:50434,maxIncomeMFJ:57554,phaseInRate:.34,phaseOutRate:.1598},2:{maxCredit:7152,phaseInEnd:17880,phaseOutStartSingle:23350,phaseOutStartMFJ:30350,maxIncomeSingle:57310,maxIncomeMFJ:64430,phaseInRate:.4,phaseOutRate:.2106},3:{maxCredit:8046,phaseInEnd:17880,phaseOutStartSingle:23350,phaseOutStartMFJ:30350,maxIncomeSingle:61555,maxIncomeMFJ:68675,phaseInRate:.45,phaseOutRate:.2106}}:{0:{maxCredit:632,phaseInEnd:7840,phaseOutStartSingle:9800,phaseOutStartMFJ:16370,maxIncomeSingle:18591,maxIncomeMFJ:25511,phaseInRate:.0765,phaseOutRate:.0765},1:{maxCredit:4213,phaseInEnd:12390,phaseOutStartSingle:22720,phaseOutStartMFJ:29290,maxIncomeSingle:49084,maxIncomeMFJ:56004,phaseInRate:.34,phaseOutRate:.1598},2:{maxCredit:6960,phaseInEnd:17400,phaseOutStartSingle:22720,phaseOutStartMFJ:29290,maxIncomeSingle:55768,maxIncomeMFJ:62688,phaseInRate:.4,phaseOutRate:.2106},3:{maxCredit:7830,phaseInEnd:17400,phaseOutStartSingle:22720,phaseOutStartMFJ:29290,maxIncomeSingle:59899,maxIncomeMFJ:66819,phaseInRate:.45,phaseOutRate:.2106}},Z=Math.min(C,3),ge=r[Z],x=E?ge.phaseOutStartMFJ:ge.phaseOutStartSingle,W=E?ge.maxIncomeMFJ:ge.maxIncomeSingle,$=o>0,Y=Math.max(o,h),c=Y<=W;Qe("[STRATEGY CALC] Tax Year:",H),Qe("[STRATEGY CALC] Earned Income:",o),Qe("[STRATEGY CALC] AGI:",h),Qe("[STRATEGY CALC] Phase-out Income (max of earned/AGI):",Y),Qe("[STRATEGY CALC] Filing Status:",te,"| Is MFJ:",E),Qe("[STRATEGY CALC] Bracket:",Z,"children"),Qe("[STRATEGY CALC] Phase-in End:",ge.phaseInEnd),Qe("[STRATEGY CALC] Phase-out Start:",x),Qe("[STRATEGY CALC] Max Income:",W),Qe("[STRATEGY CALC] Phase-in Rate:",ge.phaseInRate,"| Phase-out Rate:",ge.phaseOutRate);let L=0,D="";if(!$)L=0,D="no-income";else if(Y>W)L=0,D="over-limit";else if(o<=ge.phaseInEnd)L=o*ge.phaseInRate,D="phase-in",Qe(`[STRATEGY CALC] Phase-in: $${o}  ${ge.phaseInRate} = $${L.toFixed(2)}`);else if(Y<=x)L=ge.maxCredit,D="plateau",Qe(`[STRATEGY CALC] Plateau: Max credit $${L}`);else{const k=(Y-x)*ge.phaseOutRate;L=Math.max(0,ge.maxCredit-k),D="phase-out",Qe(`[STRATEGY CALC] Phase-out: $${ge.maxCredit} - (($${Y} - $${x})  ${ge.phaseOutRate}) = $${ge.maxCredit} - $${k.toFixed(2)} = $${L.toFixed(2)}`)}L=Math.floor(L);let v;$?c?L===0&&$&&(v="Income too high for EIC - phased out completely"):v=`Income $${Y.toLocaleString()} exceeds limit $${W.toLocaleString()}`:v="No earned income found (need W-2 or 1099-NEC)";const ne=$?`Earned income: $${o.toLocaleString()}, AGI: $${h.toLocaleString()}, ${C} qualifying child${C!==1?"ren":""}, phase: ${D}`:"No earned income detected from documents";return Qe("[STRATEGY CALC] --- EIC Result ---"),Qe("[STRATEGY CALC] Phase:",D,"| Final EIC:",L),v&&Qe("[STRATEGY CALC] EIC reason:",v),{creditAmount:L,qualifyingChildren:C,details:ne,eligibility:{hasEarnedIncome:$,earnedIncome:o,incomeLimit:W,isWithinLimit:c,reason:v}}}function $p(e,y,o){const h={...e},w=Pp(y,o),C=xp(y,o);return w.creditAmount>0?h.children={...h.children,childTaxCredit:{...h.children.childTaxCredit,checked:!0,amount:w.creditAmount}}:h.children={...h.children,childTaxCredit:{...h.children.childTaxCredit,checked:!1,amount:0}},C.creditAmount>0?h.eitc={...h.eitc,earnedIncomeCredit:{...h.eitc.earnedIncomeCredit,checked:!0,amount:C.creditAmount},qualifyingChildren:{...h.eitc.qualifyingChildren,checked:!0,amount:C.qualifyingChildren}}:h.eitc={...h.eitc,earnedIncomeCredit:{...h.eitc.earnedIncomeCredit,checked:!1,amount:0},qualifyingChildren:{...h.eitc.qualifyingChildren,checked:C.qualifyingChildren>0,amount:C.qualifyingChildren}},{updatedCredits:h,childCredit:w,eic:C}}var Sp=a("<input type=number step=0.01 min=0 placeholder=0.00>"),wp=a("<div><input type=checkbox><span>");const Ns=e=>{const y=Rr(()=>e.showAmount!==!1),o=Rr(()=>e.item||{id:"",checked:!1,amount:void 0,notes:void 0}),h=Rr(()=>({display:"flex","align-items":"center",padding:"0.5rem 0.75rem","border-radius":"var(--border-radius-md)",transition:"background 0.2s","border-bottom":"1px solid var(--border-color)",background:o().checked?"rgba(34, 197, 94, 0.08)":"transparent"})),w={width:"18px",height:"18px","accent-color":"#22c55e",cursor:"pointer"},C={flex:"1","font-size":"0.875rem",color:"var(--text-primary)","margin-left":"0.75rem"},te={width:"120px","text-align":"right",padding:"0.375rem 0.5rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-md)","font-size":"0.875rem",background:"var(--surface-color)",color:"var(--text-primary)"},E=()=>{e.onChange({...o(),checked:!o().checked})},H=F=>{const Z=F.target.value.trim(),ge=Z===""?void 0:parseFloat(Z);e.onChange({...o(),amount:isNaN(ge)?void 0:ge})},se=F=>{F.key==="Enter"&&F.target.blur()};return(()=>{var F=wp(),r=F.firstChild,Z=r.nextSibling;return r.addEventListener("change",E),s(r,w),s(Z,C),t(Z,()=>e.label),t(F,n(p,{get when(){return y()},get children(){var ge=Sp();return ge.$$focusout=x=>{x.target.style.setProperty("border-color","var(--border-color)")},ge.addEventListener("focus",x=>{x.target.style.setProperty("border-color","var(--primary-color)")}),ge.$$keydown=se,ge.addEventListener("blur",H),s(ge,te),f(()=>ge.value=o().amount!==void 0?o().amount:""),ge}}),null),f(ge=>s(F,h(),ge)),f(()=>r.checked=o().checked),F})()};is(["keydown","focusout"]);var Cp=a("<div>"),_p=a("<div><button type=button><span></span><span><span>/</span><span>&#9654;");const kp=[{key:"medical",title:"Medical & Dental",sectionKey:"medical",items:[{field:"medicalExpenses",label:"Medical expenses"},{field:"dentalExpenses",label:"Dental expenses"},{field:"visionExpenses",label:"Vision expenses"},{field:"healthInsurancePremiums",label:"Health insurance premiums"},{field:"prescriptionMedications",label:"Prescription medications"},{field:"medicalMileage",label:"Medical mileage"}]},{key:"taxesPaid",title:"Taxes Paid",sectionKey:"taxesPaid",items:[{field:"stateIncomeTax",label:"State income tax"},{field:"localIncomeTax",label:"Local income tax"},{field:"realEstateTax",label:"Real estate tax"},{field:"personalPropertyTax",label:"Personal property tax"},{field:"foreignTaxesPaid",label:"Foreign taxes paid"}]},{key:"interest",title:"Interest Paid",sectionKey:"interest",items:[{field:"mortgageInterest",label:"Mortgage interest"},{field:"mortgageInsurancePremiums",label:"Mortgage insurance premiums"},{field:"investmentInterest",label:"Investment interest"},{field:"studentLoanInterest",label:"Student loan interest"}]},{key:"donations",title:"Charitable Donations",sectionKey:"donations",items:[{field:"cashDonations",label:"Cash donations"},{field:"nonCashDonations",label:"Non-cash donations"},{field:"volunteerMileage",label:"Volunteer mileage"},{field:"charitableCarryover",label:"Charitable carryover"}]},{key:"casualty",title:"Casualty & Theft",sectionKey:"casualty",items:[{field:"federalDisasterLoss",label:"Federal disaster loss"},{field:"theftLoss",label:"Theft loss"}]},{key:"other",title:"Other Deductions",sectionKey:"other",items:[{field:"gamblingLosses",label:"Gambling losses"},{field:"unreimbursedExpenses",label:"Unreimbursed expenses"},{field:"taxPrepFees",label:"Tax preparation fees"}]}],Ip={display:"flex",width:"100%",background:"var(--surface-alt, #f9fafb)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-md)",padding:"0.75rem 1rem",cursor:"pointer","font-weight":"600","font-size":"0.875rem",color:"var(--text-primary)","justify-content":"space-between","align-items":"center","margin-bottom":"0.5rem"},Tp={"margin-bottom":"1rem"},Ap={display:"flex","align-items":"center",gap:"0.5rem","font-size":"0.8rem","font-weight":"400",color:"var(--text-secondary, #6b7280)"},Np=e=>{const[y,o]=Ie({}),h=H=>{o(se=>({...se,[H]:!se[H]}))},w=H=>e.data[H],C=(H,se)=>{const F=w(H);return se.filter(r=>F[r.field]?.checked).length},te=(H,se,F)=>{const r={...e.data[H]};r[se]=F;const Z={...e.data,[H]:r};e.onChange(Z)},E=H=>({transition:"transform 0.2s",transform:H?"rotate(90deg)":"rotate(0deg)","font-size":"0.75rem"});return(()=>{var H=Cp();return t(H,n(Ht,{each:kp,children:se=>(()=>{var F=_p(),r=F.firstChild,Z=r.firstChild,ge=Z.nextSibling,x=ge.firstChild,W=x.firstChild,$=x.nextSibling;return s(F,Tp),r.$$click=()=>h(se.key),s(r,Ip),t(Z,()=>se.title),s(ge,Ap),t(x,()=>C(se.sectionKey,se.items),W),t(x,()=>se.items.length,null),t(F,n(p,{get when(){return y()[se.key]},get children(){return n(Ht,{get each(){return se.items},children:Y=>n(Ns,{get label(){return Y.label},get item(){return w(se.sectionKey)[Y.field]},onChange:c=>te(se.sectionKey,Y.field,c)})})}}),null),f(Y=>s($,E(!!y()[se.key]),Y)),F})()})),H})()};is(["click"]);var zp=a("<div><p>No vehicles added yet.</p><button>Add Your First Vehicle"),Dp=a("<div><div><button>Add Vehicle"),Rp=a("<span>% Business Use"),Fp=a("<div><div>Purchase Price ($)</div><input type=number min=0 step=0.01 placeholder=0.00>"),Ep=a("<div><div>Monthly Lease Payment ($)</div><input type=number min=0 step=0.01 placeholder=0.00>"),Lp=a("<div><div>Monthly Loan Payment ($)</div><input type=number min=0 step=0.01 placeholder=0.00>"),Mp=a("<label><input type=checkbox>Is the evidence written (vs. electronic/app)?"),Bp=a("<div><div>IRS Mileage Rate ($/mile)</div><input type=number min=0 step=0.01>"),Op=a("<div>"),jp=a("<div><button>Actual Expenses"),Up=a('<div><textarea placeholder="Add any additional notes or documentation for the tax preparer...">'),Hp=a('<div><div><span>Vehicle #</span><span></span><button>Remove</button></div><div>Vehicle Identification</div><div><div><div>Year *</div><input type=number min=1900 max=2100></div><div><div>Make *</div><input type=text placeholder="e.g., Toyota"></div><div><div>Model *</div><input type=text placeholder="e.g., Camry"></div><div><div>VIN</div><input type=text placeholder=Optional></div><div><div>License Plate</div><input type=text placeholder=Optional></div></div><div>Service Information</div><div><div><div>Date Acquired</div><input type=date></div><div><div>Date Placed in Service</div><input type=date></div></div><div>Ownership Information</div><div><div><div>Ownership Type</div><select></select></div></div><div>Mileage Tracking</div><div><div><div>Total Miles Driven</div><input type=number min=0></div><div><div>Business Miles</div><input type=number min=0></div><div><div>Commuting Miles</div><input type=number min=0></div><div><div>Personal Miles</div><input type=number min=0></div><div><div>Business Use %</div><div>%</div></div></div><div>IRS Questions (Form 4562 Part V)</div><div><label><input type=checkbox>Was the vehicle available for personal use during off-duty hours?</label><label><input type=checkbox>Do you have another vehicle available for personal use?</label><label><input type=checkbox>Do you have written evidence to support your deduction?</label></div><div>Deduction Method</div><div><div><div>Method</div><select></select></div></div><div><button>Notes for Preparer'),ro=a("<option>");const Wp=[{value:"owned",label:"Owned"},{value:"leased",label:"Leased"},{value:"financed",label:"Financed"}],Yp=[{value:"standard_mileage",label:"Standard Mileage Rate"},{value:"actual_expenses",label:"Actual Expenses"}],Gp=[{key:"gasAndOil",label:"Gas & Oil"},{key:"repairs",label:"Repairs & Maintenance"},{key:"tires",label:"Tires"},{key:"insurance",label:"Vehicle Insurance"},{key:"registration",label:"Registration Fees"},{key:"leasePayments",label:"Lease Payments"},{key:"loanInterest",label:"Loan Interest"},{key:"depreciation",label:"Depreciation"},{key:"carWash",label:"Car Wash"},{key:"parking",label:"Parking Fees"},{key:"tolls",label:"Tolls"}],so={background:"#0891b2",color:"white",border:"none","border-radius":"var(--border-radius-md)",padding:"0.5rem 1rem",cursor:"pointer","font-weight":"600","font-size":"0.875rem"},Vp={border:"1px solid var(--border-color)","border-radius":"var(--border-radius-lg)",padding:"1rem","margin-bottom":"1rem",background:"var(--surface-color)"},qp={display:"flex",gap:"0.75rem","align-items":"center","margin-bottom":"1rem","flex-wrap":"wrap"},us={padding:"0.5rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-md)","font-size":"0.875rem","box-sizing":"border-box"},no={padding:"0.5rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-md)","font-size":"0.875rem",width:"auto"},Qp={background:"#ef4444",color:"white",border:"none","border-radius":"var(--border-radius-md)",padding:"0.375rem 0.75rem",cursor:"pointer","font-size":"0.75rem"},ds={"font-size":"0.75rem",color:"var(--text-secondary)","margin-bottom":"0.25rem"},Js={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(150px, 1fr))",gap:"0.75rem","margin-bottom":"0.75rem"},Ws={"font-weight":"600","font-size":"0.875rem",color:"#0891b2","margin-top":"1rem","margin-bottom":"0.5rem","border-bottom":"1px solid #0891b2","padding-bottom":"0.25rem"},pn={display:"flex","align-items":"center",gap:"0.5rem","margin-bottom":"0.5rem","font-size":"0.875rem"},Xp={background:"#0891b2",color:"white",padding:"0.25rem 0.5rem","border-radius":"var(--border-radius-md)","font-size":"0.75rem","font-weight":"600"},oo={background:"none",border:"none",cursor:"pointer","font-weight":"600","font-size":"0.875rem",color:"var(--text-primary)",padding:"0.5rem 0"},Kp={width:"100%",padding:"0.5rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-md)","font-size":"0.875rem","min-height":"60px",resize:"vertical","box-sizing":"border-box"};function Jp(){const e=Bo();return{id:e,year:new Date().getFullYear(),make:"",model:"",vin:"",licensePlate:"",dateAcquired:"",datePlacedInService:"",ownershipType:"owned",purchasePrice:void 0,leasePaymentMonthly:void 0,loanPaymentMonthly:void 0,totalMilesDriven:0,businessMilesDriven:0,commutingMiles:0,personalMiles:0,businessUsePercentage:0,availableForPersonalUse:!1,anotherVehicleForPersonal:!1,hasWrittenEvidence:!1,isEvidenceWritten:!1,deductionMethod:"standard_mileage",standardMileageRate:.67,actualExpenses:{gasAndOil:M(`${e}-gasAndOil`),repairs:M(`${e}-repairs`),tires:M(`${e}-tires`),insurance:M(`${e}-insurance`),registration:M(`${e}-registration`),leasePayments:M(`${e}-leasePayments`),loanInterest:M(`${e}-loanInterest`),depreciation:M(`${e}-depreciation`),carWash:M(`${e}-carWash`),parking:M(`${e}-parking`),tolls:M(`${e}-tolls`)},notes:""}}const Zp=e=>{const[y,o]=Ie({}),h=r=>{o(Z=>({...Z,[r]:!Z[r]}))},w=r=>!!y()[r],C=()=>{const r=Jp();e.onChange([...e.vehicles,r])},te=r=>{e.onChange(e.vehicles.filter(Z=>Z.id!==r))},E=(r,Z)=>{const ge=e.vehicles.map(x=>x.id===r?{...x,...Z}:x);e.onChange(ge)},H=r=>r.totalMilesDriven===0?0:Math.round(r.businessMilesDriven/r.totalMilesDriven*100),se=(r,Z,ge)=>{const x=e.vehicles.find(c=>c.id===r);if(!x)return;const W={[Z]:ge},$=Z==="totalMilesDriven"?ge:x.totalMilesDriven,Y=Z==="businessMilesDriven"?ge:x.businessMilesDriven;$>0?W.businessUsePercentage=Math.round(Y/$*100):W.businessUsePercentage=0,E(r,W)},F=(r,Z,ge)=>{const x=e.vehicles.find(W=>W.id===r);!x||!x.actualExpenses||E(r,{actualExpenses:{...x.actualExpenses,[Z]:ge}})};return(()=>{var r=Dp(),Z=r.firstChild,ge=Z.firstChild;return Z.style.setProperty("display","flex"),Z.style.setProperty("justify-content","flex-end"),Z.style.setProperty("margin-bottom","1rem"),ge.$$click=C,t(r,n(Ht,{get each(){return e.vehicles},children:(x,W)=>(()=>{var $=Hp(),Y=$.firstChild,c=Y.firstChild;c.firstChild;var L=c.nextSibling,D=L.nextSibling,v=Y.nextSibling,ne=v.nextSibling,k=ne.firstChild,Ze=k.firstChild,O=Ze.nextSibling,he=k.nextSibling,$e=he.firstChild,fe=$e.nextSibling,ye=he.nextSibling,Ce=ye.firstChild,Xe=Ce.nextSibling,nt=ye.nextSibling,ot=nt.firstChild,qe=ot.nextSibling,gt=nt.nextSibling,ke=gt.firstChild,Ye=ke.nextSibling,xt=ne.nextSibling,Ee=xt.nextSibling,Pt=Ee.firstChild,$t=Pt.firstChild,It=$t.nextSibling,ir=Pt.nextSibling,Kt=ir.firstChild,Wt=Kt.nextSibling,pt=Ee.nextSibling,Je=pt.nextSibling,xe=Je.firstChild,ve=xe.firstChild,Se=ve.nextSibling,we=Je.nextSibling,_t=we.nextSibling,wt=_t.firstChild,it=wt.firstChild,rr=it.nextSibling,Dt=wt.nextSibling,qt=Dt.firstChild,lr=qt.nextSibling,ce=Dt.nextSibling,U=ce.firstChild,oe=U.nextSibling,Ae=ce.nextSibling,re=Ae.firstChild,Me=re.nextSibling,Ne=Ae.nextSibling,Tt=Ne.firstChild,B=Tt.nextSibling,ae=B.firstChild,Ke=_t.nextSibling,tt=Ke.nextSibling,Q=tt.firstChild,G=Q.firstChild,et=Q.nextSibling,de=et.firstChild,Ct=et.nextSibling,lt=Ct.firstChild,_e=tt.nextSibling,je=_e.nextSibling,ie=je.firstChild,d=ie.firstChild,N=d.nextSibling,pe=je.nextSibling,Ge=pe.firstChild,le=Ge.firstChild;return s($,Vp),s(Y,qp),c.style.setProperty("font-weight","600"),c.style.setProperty("font-size","0.875rem"),c.style.setProperty("white-space","nowrap"),c.style.setProperty("color","#0891b2"),t(c,()=>W()+1,null),L.style.setProperty("flex","1"),t(Y,n(p,{get when(){return x.businessUsePercentage!==void 0&&x.businessUsePercentage>0},get children(){var S=Rp(),X=S.firstChild;return s(S,Xp),t(S,()=>x.businessUsePercentage,X),S}}),D),D.$$click=()=>te(x.id),s(D,Qp),O.$$input=S=>E(x.id,{year:parseInt(S.target.value)||0}),fe.$$input=S=>E(x.id,{make:S.target.value}),Xe.$$input=S=>E(x.id,{model:S.target.value}),qe.$$input=S=>E(x.id,{vin:S.target.value}),Ye.$$input=S=>E(x.id,{licensePlate:S.target.value}),It.$$input=S=>E(x.id,{dateAcquired:S.target.value}),Wt.$$input=S=>E(x.id,{datePlacedInService:S.target.value}),Se.addEventListener("change",S=>E(x.id,{ownershipType:S.target.value})),t(Se,n(Ht,{each:Wp,children:S=>(()=>{var X=ro();return t(X,()=>S.label),f(()=>X.value=S.value),X})()})),t(Je,n(p,{get when(){return x.ownershipType==="owned"},get children(){var S=Fp(),X=S.firstChild,Ve=X.nextSibling;return Ve.$$input=Pe=>E(x.id,{purchasePrice:parseFloat(Pe.target.value)||void 0}),f(Pe=>{var ze=ds,ht={...us,width:"100%"};return Pe.e=s(X,ze,Pe.e),Pe.t=s(Ve,ht,Pe.t),Pe},{e:void 0,t:void 0}),f(()=>Ve.value=x.purchasePrice||""),S}}),null),t(Je,n(p,{get when(){return x.ownershipType==="leased"},get children(){var S=Ep(),X=S.firstChild,Ve=X.nextSibling;return Ve.$$input=Pe=>E(x.id,{leasePaymentMonthly:parseFloat(Pe.target.value)||void 0}),f(Pe=>{var ze=ds,ht={...us,width:"100%"};return Pe.e=s(X,ze,Pe.e),Pe.t=s(Ve,ht,Pe.t),Pe},{e:void 0,t:void 0}),f(()=>Ve.value=x.leasePaymentMonthly||""),S}}),null),t(Je,n(p,{get when(){return x.ownershipType==="financed"},get children(){var S=Lp(),X=S.firstChild,Ve=X.nextSibling;return Ve.$$input=Pe=>E(x.id,{loanPaymentMonthly:parseFloat(Pe.target.value)||void 0}),f(Pe=>{var ze=ds,ht={...us,width:"100%"};return Pe.e=s(X,ze,Pe.e),Pe.t=s(Ve,ht,Pe.t),Pe},{e:void 0,t:void 0}),f(()=>Ve.value=x.loanPaymentMonthly||""),S}}),null),rr.$$input=S=>se(x.id,"totalMilesDriven",parseInt(S.target.value)||0),lr.$$input=S=>se(x.id,"businessMilesDriven",parseInt(S.target.value)||0),oe.$$input=S=>E(x.id,{commutingMiles:parseInt(S.target.value)||0}),Me.$$input=S=>E(x.id,{personalMiles:parseInt(S.target.value)||0}),t(B,()=>H(x),ae),tt.style.setProperty("margin-bottom","0.75rem"),G.addEventListener("change",S=>E(x.id,{availableForPersonalUse:S.target.checked})),de.addEventListener("change",S=>E(x.id,{anotherVehicleForPersonal:S.target.checked})),lt.addEventListener("change",S=>E(x.id,{hasWrittenEvidence:S.target.checked})),t(tt,n(p,{get when(){return x.hasWrittenEvidence},get children(){var S=Mp(),X=S.firstChild;return X.addEventListener("change",Ve=>E(x.id,{isEvidenceWritten:Ve.target.checked})),f(Ve=>s(S,{...pn,"margin-left":"1.5rem"},Ve)),f(()=>X.checked=x.isEvidenceWritten),S}}),null),N.addEventListener("change",S=>E(x.id,{deductionMethod:S.target.value})),t(N,n(Ht,{each:Yp,children:S=>(()=>{var X=ro();return t(X,()=>S.label),f(()=>X.value=S.value),X})()})),t(je,n(p,{get when(){return x.deductionMethod==="standard_mileage"},get children(){var S=Bp(),X=S.firstChild,Ve=X.nextSibling;return Ve.$$input=Pe=>E(x.id,{standardMileageRate:parseFloat(Pe.target.value)||0}),f(Pe=>{var ze=ds,ht={...us,width:"100%"};return Pe.e=s(X,ze,Pe.e),Pe.t=s(Ve,ht,Pe.t),Pe},{e:void 0,t:void 0}),f(()=>Ve.value=x.standardMileageRate||.67),S}}),null),t($,n(p,{get when(){return x.deductionMethod==="actual_expenses"},get children(){var S=jp(),X=S.firstChild,Ve=X.firstChild;return S.style.setProperty("margin-top","0.75rem"),X.$$click=()=>h(`${x.id}-expenses`),t(X,()=>w(`${x.id}-expenses`)?"+ ":"- ",Ve),t(S,n(p,{get when(){return!w(`${x.id}-expenses`)},get children(){var Pe=Op();return t(Pe,n(Ht,{each:Gp,children:ze=>n(Ns,{get label(){return ze.label},get item(){return x.actualExpenses?.[ze.key]||M(`${x.id}-${ze.key}`)},onChange:ht=>F(x.id,ze.key,ht)})})),Pe}}),null),f(Pe=>s(X,oo,Pe)),S}}),pe),pe.style.setProperty("margin-top","0.75rem"),Ge.$$click=()=>h(`${x.id}-notes`),t(Ge,()=>w(`${x.id}-notes`)?"+ ":"- ",le),t(pe,n(p,{get when(){return!w(`${x.id}-notes`)},get children(){var S=Up(),X=S.firstChild;return S.style.setProperty("margin-top","0.5rem"),X.$$input=Ve=>E(x.id,{notes:Ve.target.value}),s(X,Kp),f(()=>X.value=x.notes||""),S}}),null),f(S=>{var X=Ws,Ve=Js,Pe=ds,ze={...us,width:"100%"},ht=ds,Vt={...us,width:"100%"},Yt=ds,ut={...us,width:"100%"},mr=ds,A={...us,width:"100%"},Be=ds,mt={...us,width:"100%"},Ot=Ws,Cr=Js,K=ds,He={...us,width:"100%"},rt=ds,Oe={...us,width:"100%"},kt=Ws,St=Js,or=ds,vt={...no,width:"100%"},Br=Ws,Wr=Js,_r=ds,ue={...us,width:"100%"},me=ds,T={...us,width:"100%"},Le=ds,yt={...us,width:"100%"},st=ds,Rt={...us,width:"100%"},sr=ds,dr={...us,width:"100%",background:"#f0fdfa",color:"#0891b2","font-weight":"600","text-align":"center"},Zt=Ws,Et=pn,$r=pn,Gt=pn,pr=Ws,kr=Js,Zr=ds,Te={...no,width:"100%"},l=oo;return S.e=s(v,X,S.e),S.t=s(ne,Ve,S.t),S.a=s(Ze,Pe,S.a),S.o=s(O,ze,S.o),S.i=s($e,ht,S.i),S.n=s(fe,Vt,S.n),S.s=s(Ce,Yt,S.s),S.h=s(Xe,ut,S.h),S.r=s(ot,mr,S.r),S.d=s(qe,A,S.d),S.l=s(ke,Be,S.l),S.u=s(Ye,mt,S.u),S.c=s(xt,Ot,S.c),S.w=s(Ee,Cr,S.w),S.m=s($t,K,S.m),S.f=s(It,He,S.f),S.y=s(Kt,rt,S.y),S.g=s(Wt,Oe,S.g),S.p=s(pt,kt,S.p),S.b=s(Je,St,S.b),S.T=s(ve,or,S.T),S.A=s(Se,vt,S.A),S.O=s(we,Br,S.O),S.I=s(_t,Wr,S.I),S.S=s(it,_r,S.S),S.W=s(rr,ue,S.W),S.C=s(qt,me,S.C),S.B=s(lr,T,S.B),S.v=s(U,Le,S.v),S.k=s(oe,yt,S.k),S.x=s(re,st,S.x),S.j=s(Me,Rt,S.j),S.q=s(Tt,sr,S.q),S.z=s(B,dr,S.z),S.P=s(Ke,Zt,S.P),S.H=s(Q,Et,S.H),S.F=s(et,$r,S.F),S.M=s(Ct,Gt,S.M),S.D=s(_e,pr,S.D),S.R=s(je,kr,S.R),S.E=s(d,Zr,S.E),S.L=s(N,Te,S.L),S.N=s(Ge,l,S.N),S},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0,O:void 0,I:void 0,S:void 0,W:void 0,C:void 0,B:void 0,v:void 0,k:void 0,x:void 0,j:void 0,q:void 0,z:void 0,P:void 0,H:void 0,F:void 0,M:void 0,D:void 0,R:void 0,E:void 0,L:void 0,N:void 0}),f(()=>O.value=x.year),f(()=>fe.value=x.make),f(()=>Xe.value=x.model),f(()=>qe.value=x.vin||""),f(()=>Ye.value=x.licensePlate||""),f(()=>It.value=x.dateAcquired),f(()=>Wt.value=x.datePlacedInService),f(()=>Se.value=x.ownershipType),f(()=>rr.value=x.totalMilesDriven),f(()=>lr.value=x.businessMilesDriven),f(()=>oe.value=x.commutingMiles||0),f(()=>Me.value=x.personalMiles||0),f(()=>G.checked=x.availableForPersonalUse),f(()=>de.checked=x.anotherVehicleForPersonal),f(()=>lt.checked=x.hasWrittenEvidence),f(()=>N.value=x.deductionMethod),$})()}),null),t(r,n(p,{get when(){return e.vehicles.length===0},get children(){var x=zp(),W=x.firstChild,$=W.nextSibling;return x.style.setProperty("text-align","center"),x.style.setProperty("padding","2rem"),x.style.setProperty("color","var(--text-secondary)"),x.style.setProperty("border","2px dashed var(--border-color)"),x.style.setProperty("border-radius","var(--border-radius-lg)"),W.style.setProperty("margin-bottom","1rem"),$.$$click=C,f(Y=>s($,so,Y)),x}}),null),f(x=>s(ge,so,x)),r})()};is(["click","input"]);var eu=a("<button type=button>Clear"),tu=a("<div>No codes found. Try a different search term or category."),ru=a("<div><div><div><button type=button>All</button></div><div> results<button type=button>Close</button></div></div><div>"),io=a("<div>"),su=a('<div><div><div>Business Information</div><div><div><label>Business Name</label><input type=text></div><div><label>Business Type</label><select><option value>Select type...</option><option value=soleProprietorship>Sole Proprietorship</option><option value=llc>LLC</option><option value=sCorp>S Corporation</option><option value=cCorp>C Corporation</option><option value=partnership>Partnership</option></select></div><div><label>EIN</label><input type=text placeholder=XX-XXXXXXX></div><div><label>Business Code (NAICS) - Click to search</label><div><input type=text placeholder="Search by code, name, or category..."></div></div><div><label>Principal Business Activity</label><input type=text placeholder="Auto-filled from NAICS selection"></div><div><label>Accounting Method</label><select><option value>Select method...</option><option value=cash>Cash</option><option value=accrual>Accrual</option></select></div><div><label>Date Business Started</label><input type=date></div><div><div><input type=checkbox id=materialParticipation><label for=materialParticipation>Material Participation</label></div></div></div></div><div><button type=button><span>Home Office</span><span><span> / </span><span>&#9660;</span></span></button></div><div><div>Preparer Notes</div><textarea placeholder="Enter any additional notes for the preparer...">'),nu=a("<button type=button>"),ou=a("<button type=button><div><span></span><div><div></div><div>"),iu=a("<div><button type=button><span></span><span><span> / </span><span>&#9660;");const Fo=[{code:"484110",name:"General Freight Trucking, Local",category:"Transportation"},{code:"484121",name:"General Freight Trucking, Long-Distance (Truckload)",category:"Transportation"},{code:"484122",name:"General Freight Trucking, Long-Distance (Less Than Truckload)",category:"Transportation"},{code:"485310",name:"Taxi & Ridesharing Services (Uber, Lyft)",category:"Transportation"},{code:"485320",name:"Limousine Service",category:"Transportation"},{code:"492110",name:"Couriers & Express Delivery (DoorDash, Amazon Flex)",category:"Transportation"},{code:"488410",name:"Motor Vehicle Towing",category:"Transportation"},{code:"236115",name:"New Single-Family Housing Construction",category:"Construction"},{code:"236118",name:"Residential Remodelers",category:"Construction"},{code:"238110",name:"Poured Concrete Foundation & Structure",category:"Construction"},{code:"238140",name:"Masonry Contractors",category:"Construction"},{code:"238160",name:"Roofing Contractors",category:"Construction"},{code:"238210",name:"Electrical Contractors",category:"Construction"},{code:"238220",name:"Plumbing, Heating & AC Contractors (HVAC)",category:"Construction"},{code:"238310",name:"Drywall & Insulation Contractors",category:"Construction"},{code:"238320",name:"Painting & Wall Covering Contractors",category:"Construction"},{code:"238330",name:"Flooring Contractors",category:"Construction"},{code:"238340",name:"Tile & Terrazzo Contractors",category:"Construction"},{code:"238350",name:"Finish Carpentry Contractors",category:"Construction"},{code:"238390",name:"Other Building Finishing Contractors",category:"Construction"},{code:"238910",name:"Site Preparation Contractors",category:"Construction"},{code:"238990",name:"All Other Specialty Trade Contractors",category:"Construction"},{code:"541110",name:"Offices of Lawyers",category:"Professional Services"},{code:"541211",name:"Offices of CPAs",category:"Professional Services"},{code:"541213",name:"Tax Preparation Services",category:"Professional Services"},{code:"541214",name:"Payroll Services",category:"Professional Services"},{code:"541219",name:"Other Accounting Services",category:"Professional Services"},{code:"541310",name:"Architectural Services",category:"Professional Services"},{code:"541320",name:"Landscape Architectural Services",category:"Professional Services"},{code:"541330",name:"Engineering Services",category:"Professional Services"},{code:"541410",name:"Interior Design Services",category:"Professional Services"},{code:"541430",name:"Graphic Design Services",category:"Professional Services"},{code:"541511",name:"Custom Computer Programming",category:"Professional Services"},{code:"541512",name:"Computer Systems Design Services",category:"Professional Services"},{code:"541519",name:"Other Computer Related Services",category:"Professional Services"},{code:"541611",name:"Management Consulting Services",category:"Professional Services"},{code:"541612",name:"Human Resources Consulting",category:"Professional Services"},{code:"541613",name:"Marketing Consulting Services",category:"Professional Services"},{code:"541618",name:"Other Management Consulting",category:"Professional Services"},{code:"541690",name:"Other Scientific & Technical Consulting",category:"Professional Services"},{code:"541810",name:"Advertising Agencies",category:"Professional Services"},{code:"541820",name:"Public Relations Agencies",category:"Professional Services"},{code:"541840",name:"Media Representatives",category:"Professional Services"},{code:"541850",name:"Outdoor Advertising",category:"Professional Services"},{code:"541860",name:"Direct Mail Advertising",category:"Professional Services"},{code:"541890",name:"Other Services Related to Advertising",category:"Professional Services"},{code:"541910",name:"Marketing Research & Public Opinion Polling",category:"Professional Services"},{code:"541921",name:"Photography Studios, Portrait",category:"Professional Services"},{code:"541922",name:"Commercial Photography",category:"Professional Services"},{code:"541930",name:"Translation & Interpretation Services",category:"Professional Services"},{code:"541940",name:"Veterinary Services",category:"Professional Services"},{code:"541990",name:"All Other Professional Services",category:"Professional Services"},{code:"621111",name:"Offices of Physicians",category:"Healthcare"},{code:"621112",name:"Offices of Mental Health Physicians",category:"Healthcare"},{code:"621210",name:"Offices of Dentists",category:"Healthcare"},{code:"621310",name:"Offices of Chiropractors",category:"Healthcare"},{code:"621320",name:"Offices of Optometrists",category:"Healthcare"},{code:"621330",name:"Offices of Mental Health Practitioners",category:"Healthcare"},{code:"621340",name:"Offices of Physical & Occupational Therapists",category:"Healthcare"},{code:"621391",name:"Offices of Podiatrists",category:"Healthcare"},{code:"621399",name:"Offices of Other Health Practitioners",category:"Healthcare"},{code:"621410",name:"Family Planning Centers",category:"Healthcare"},{code:"621610",name:"Home Health Care Services",category:"Healthcare"},{code:"621991",name:"Blood & Organ Banks",category:"Healthcare"},{code:"621999",name:"All Other Miscellaneous Ambulatory Services",category:"Healthcare"},{code:"624120",name:"Services for the Elderly & Disabled",category:"Healthcare"},{code:"812111",name:"Barber Shops",category:"Personal Services"},{code:"812112",name:"Beauty Salons",category:"Personal Services"},{code:"812113",name:"Nail Salons",category:"Personal Services"},{code:"812191",name:"Diet & Weight Reducing Centers",category:"Personal Services"},{code:"812199",name:"Other Personal Care Services (Spa, Massage)",category:"Personal Services"},{code:"812210",name:"Funeral Homes & Funeral Services",category:"Personal Services"},{code:"812310",name:"Coin-Operated Laundries & Drycleaners",category:"Personal Services"},{code:"812320",name:"Drycleaning & Laundry Services",category:"Personal Services"},{code:"812331",name:"Linen Supply",category:"Personal Services"},{code:"812910",name:"Pet Care Services (Grooming, Boarding)",category:"Personal Services"},{code:"812921",name:"Photofinishing Laboratories",category:"Personal Services"},{code:"812922",name:"One-Hour Photofinishing",category:"Personal Services"},{code:"812930",name:"Parking Lots & Garages",category:"Personal Services"},{code:"812990",name:"All Other Personal Services",category:"Personal Services"},{code:"531110",name:"Lessors of Residential Buildings",category:"Real Estate"},{code:"531120",name:"Lessors of Nonresidential Buildings",category:"Real Estate"},{code:"531130",name:"Lessors of Miniwarehouses & Self-Storage",category:"Real Estate"},{code:"531190",name:"Lessors of Other Real Estate Property",category:"Real Estate"},{code:"531210",name:"Offices of Real Estate Agents & Brokers",category:"Real Estate"},{code:"531311",name:"Residential Property Managers",category:"Real Estate"},{code:"531312",name:"Nonresidential Property Managers",category:"Real Estate"},{code:"531320",name:"Offices of Real Estate Appraisers",category:"Real Estate"},{code:"531390",name:"Other Real Estate Activities",category:"Real Estate"},{code:"441110",name:"New Car Dealers",category:"Retail"},{code:"441120",name:"Used Car Dealers",category:"Retail"},{code:"442110",name:"Furniture Stores",category:"Retail"},{code:"443141",name:"Electronics Stores",category:"Retail"},{code:"443142",name:"Electronics & Appliance Stores",category:"Retail"},{code:"444110",name:"Home Centers",category:"Retail"},{code:"444120",name:"Paint & Wallpaper Stores",category:"Retail"},{code:"444130",name:"Hardware Stores",category:"Retail"},{code:"444190",name:"Other Building Material Dealers",category:"Retail"},{code:"445110",name:"Supermarkets & Grocery Stores",category:"Retail"},{code:"445120",name:"Convenience Stores",category:"Retail"},{code:"445230",name:"Fruit & Vegetable Markets",category:"Retail"},{code:"445291",name:"Baked Goods Stores",category:"Retail"},{code:"445299",name:"All Other Specialty Food Stores",category:"Retail"},{code:"446110",name:"Pharmacies & Drug Stores",category:"Retail"},{code:"446120",name:"Cosmetics & Beauty Supplies",category:"Retail"},{code:"448110",name:"Men's Clothing Stores",category:"Retail"},{code:"448120",name:"Women's Clothing Stores",category:"Retail"},{code:"448140",name:"Family Clothing Stores",category:"Retail"},{code:"448150",name:"Clothing Accessories Stores",category:"Retail"},{code:"451110",name:"Sporting Goods Stores",category:"Retail"},{code:"451211",name:"Book Stores",category:"Retail"},{code:"453110",name:"Florists",category:"Retail"},{code:"453220",name:"Gift, Novelty & Souvenir Stores",category:"Retail"},{code:"453310",name:"Used Merchandise Stores",category:"Retail"},{code:"454110",name:"Electronic Shopping & Mail-Order (E-commerce)",category:"Retail"},{code:"454390",name:"Other Direct Selling (MLM, Door-to-Door)",category:"Retail"},{code:"722310",name:"Food Service Contractors",category:"Food Services"},{code:"722320",name:"Caterers",category:"Food Services"},{code:"722330",name:"Mobile Food Services (Food Trucks)",category:"Food Services"},{code:"722410",name:"Drinking Places (Bars)",category:"Food Services"},{code:"722511",name:"Full-Service Restaurants",category:"Food Services"},{code:"722513",name:"Limited-Service Restaurants (Fast Food)",category:"Food Services"},{code:"722514",name:"Cafeterias & Buffets",category:"Food Services"},{code:"722515",name:"Snack & Beverage Bars (Coffee Shops)",category:"Food Services"},{code:"611110",name:"Elementary & Secondary Schools",category:"Education"},{code:"611210",name:"Junior Colleges",category:"Education"},{code:"611310",name:"Colleges & Universities",category:"Education"},{code:"611410",name:"Business Schools & Training",category:"Education"},{code:"611420",name:"Computer Training",category:"Education"},{code:"611430",name:"Professional Development Training",category:"Education"},{code:"611512",name:"Flight Training",category:"Education"},{code:"611519",name:"Other Technical & Trade Schools",category:"Education"},{code:"611610",name:"Fine Arts Schools",category:"Education"},{code:"611620",name:"Sports & Recreation Instruction",category:"Education"},{code:"611630",name:"Language Schools",category:"Education"},{code:"611691",name:"Exam Preparation & Tutoring",category:"Education"},{code:"611699",name:"All Other Miscellaneous Schools",category:"Education"},{code:"611710",name:"Educational Support Services",category:"Education"},{code:"811111",name:"General Automotive Repair",category:"Repair Services"},{code:"811112",name:"Automotive Exhaust System Repair",category:"Repair Services"},{code:"811113",name:"Automotive Transmission Repair",category:"Repair Services"},{code:"811118",name:"Other Automotive Mechanical Repair",category:"Repair Services"},{code:"811121",name:"Automotive Body & Paint Repair",category:"Repair Services"},{code:"811122",name:"Automotive Glass Replacement",category:"Repair Services"},{code:"811191",name:"Automotive Oil Change & Lubrication",category:"Repair Services"},{code:"811192",name:"Car Washes",category:"Repair Services"},{code:"811198",name:"All Other Automotive Repair",category:"Repair Services"},{code:"811211",name:"Consumer Electronics Repair",category:"Repair Services"},{code:"811212",name:"Computer & Office Machine Repair",category:"Repair Services"},{code:"811213",name:"Communication Equipment Repair",category:"Repair Services"},{code:"811219",name:"Other Electronic Equipment Repair",category:"Repair Services"},{code:"811310",name:"Commercial Equipment Repair & Maintenance",category:"Repair Services"},{code:"811411",name:"Home & Garden Equipment Repair",category:"Repair Services"},{code:"811412",name:"Appliance Repair & Maintenance",category:"Repair Services"},{code:"811420",name:"Reupholstery & Furniture Repair",category:"Repair Services"},{code:"811430",name:"Footwear & Leather Goods Repair",category:"Repair Services"},{code:"811490",name:"Other Personal & Household Repair",category:"Repair Services"},{code:"561710",name:"Exterminating & Pest Control Services",category:"Cleaning Services"},{code:"561720",name:"Janitorial Services",category:"Cleaning Services"},{code:"561730",name:"Landscaping Services",category:"Cleaning Services"},{code:"561740",name:"Carpet & Upholstery Cleaning Services",category:"Cleaning Services"},{code:"561790",name:"Other Services to Buildings & Dwellings",category:"Cleaning Services"},{code:"711110",name:"Theater Companies & Dinner Theaters",category:"Entertainment"},{code:"711120",name:"Dance Companies",category:"Entertainment"},{code:"711130",name:"Musical Groups & Artists",category:"Entertainment"},{code:"711190",name:"Other Performing Arts Companies",category:"Entertainment"},{code:"711211",name:"Sports Teams & Clubs",category:"Entertainment"},{code:"711212",name:"Racetracks",category:"Entertainment"},{code:"711219",name:"Other Spectator Sports",category:"Entertainment"},{code:"711310",name:"Promoters with Facilities",category:"Entertainment"},{code:"711320",name:"Promoters without Facilities",category:"Entertainment"},{code:"711410",name:"Agents & Managers for Artists & Athletes",category:"Entertainment"},{code:"711510",name:"Independent Artists, Writers & Performers",category:"Entertainment"},{code:"512110",name:"Motion Picture & Video Production",category:"Entertainment"},{code:"512191",name:"Teleproduction & Postproduction Services",category:"Entertainment"},{code:"512240",name:"Sound Recording Studios",category:"Entertainment"},{code:"713940",name:"Fitness & Recreational Sports Centers (Gyms)",category:"Fitness"},{code:"713910",name:"Golf Courses & Country Clubs",category:"Fitness"},{code:"713920",name:"Skiing Facilities",category:"Fitness"},{code:"713930",name:"Marinas",category:"Fitness"},{code:"713950",name:"Bowling Centers",category:"Fitness"},{code:"713990",name:"All Other Amusement & Recreation",category:"Fitness"},{code:"624410",name:"Child Day Care Services",category:"Child Care"},{code:"522310",name:"Mortgage & Nonmortgage Loan Brokers",category:"Financial Services"},{code:"523930",name:"Investment Advice",category:"Financial Services"},{code:"524210",name:"Insurance Agencies & Brokerages",category:"Financial Services"},{code:"518210",name:"Data Processing & Hosting Services",category:"Information Technology"},{code:"519130",name:"Internet Publishing & Web Search Portals",category:"Information Technology"},{code:"519190",name:"All Other Information Services",category:"Information Technology"},{code:"111000",name:"Crop Production",category:"Agriculture"},{code:"112000",name:"Animal Production & Aquaculture",category:"Agriculture"},{code:"115110",name:"Support Activities for Crop Production",category:"Agriculture"},{code:"115210",name:"Support Activities for Animal Production",category:"Agriculture"},{code:"311811",name:"Retail Bakeries",category:"Manufacturing"},{code:"315990",name:"Apparel Accessories Manufacturing",category:"Manufacturing"},{code:"316990",name:"Other Leather Product Manufacturing",category:"Manufacturing"},{code:"321999",name:"All Other Miscellaneous Wood Product",category:"Manufacturing"},{code:"332710",name:"Machine Shops",category:"Manufacturing"},{code:"339910",name:"Jewelry & Silverware Manufacturing",category:"Manufacturing"},{code:"339930",name:"Doll, Toy & Game Manufacturing",category:"Manufacturing"},{code:"339990",name:"All Other Miscellaneous Manufacturing",category:"Manufacturing"},{code:"423990",name:"Other Miscellaneous Durable Goods Merchant Wholesalers",category:"Wholesale"},{code:"424990",name:"Other Miscellaneous Nondurable Goods Merchant Wholesalers",category:"Wholesale"},{code:"425120",name:"Wholesale Trade Agents & Brokers",category:"Wholesale"}],lu=[...new Set(Fo.map(e=>e.category))].sort(),au=[{key:"labor",label:"Labor",items:[{field:"wages",label:"Wages"},{field:"contractors",label:"Contractors"},{field:"payrollTaxes",label:"Payroll taxes"}]},{key:"facility",label:"Facility Expenses",items:[{field:"rent",label:"Rent"},{field:"utilities",label:"Utilities"}]},{key:"marketing",label:"Marketing",items:[{field:"ads",label:"Advertising"},{field:"website",label:"Website"},{field:"socialMedia",label:"Social media"}]},{key:"insurance",label:"Insurance",items:[{field:"liability",label:"Liability insurance"},{field:"professional",label:"Professional insurance"},{field:"property",label:"Property insurance"}]},{key:"operations",label:"Operations",items:[{field:"advertising",label:"Advertising"},{field:"insurance",label:"Insurance"},{field:"legalFees",label:"Legal fees"},{field:"accountingFees",label:"Accounting fees"},{field:"licenses",label:"Licenses & permits"},{field:"bankFees",label:"Bank fees"},{field:"contractLabor",label:"Contract labor"}]},{key:"office",label:"Office Expenses",items:[{field:"officeSupplies",label:"Office supplies"},{field:"postage",label:"Postage & shipping"},{field:"telephone",label:"Telephone"},{field:"internet",label:"Internet service"},{field:"software",label:"Software subscriptions"},{field:"computerEquipment",label:"Computer equipment"}]},{key:"travel",label:"Travel",items:[{field:"airfare",label:"Airfare"},{field:"lodging",label:"Lodging"},{field:"carRental",label:"Car rental"},{field:"transportationFees",label:"Transportation fees"}]},{key:"meals",label:"Meals",items:[{field:"businessMeals",label:"Business meals (50%)"},{field:"entertainmentExpenses",label:"Entertainment expenses"}]},{key:"equipment",label:"Equipment",items:[{field:"machinery",label:"Machinery"},{field:"furniture",label:"Furniture"},{field:"tools",label:"Tools"},{field:"section179Deduction",label:"Section 179 deduction"}]},{key:"education",label:"Education",items:[{field:"coursesAndSeminars",label:"Courses & seminars"},{field:"books",label:"Books & materials"},{field:"certifications",label:"Certifications"},{field:"professionalDues",label:"Professional dues"}]},{key:"other",label:"Other",items:[{field:"commissions",label:"Commissions paid"},{field:"subcontractors",label:"Subcontractors"},{field:"uniforms",label:"Uniforms & work clothes"},{field:"otherExpenses",label:"Other expenses"}]}],kn=[{field:"squareFootage",label:"Square footage (dedicated)"},{field:"totalHomeSquareFootage",label:"Total home square footage"},{field:"rent",label:"Rent/mortgage portion"},{field:"utilities",label:"Utilities portion"},{field:"insurance",label:"Insurance portion"},{field:"repairs",label:"Repairs"},{field:"depreciation",label:"Depreciation"},{field:"exclusiveUse",label:"Exclusive use"},{field:"regularUse",label:"Regular use"}],lo={"margin-bottom":"1rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-md)",overflow:"hidden"},ao={display:"flex","align-items":"center","justify-content":"space-between",width:"100%",padding:"0.75rem 1rem",border:"none",background:"var(--surface-alt, #f9fafb)",cursor:"pointer","font-size":"0.875rem","font-weight":"600",color:"var(--text-primary)","text-align":"left"},yo={padding:"0.25rem 0.5rem"},co={"font-size":"0.75rem","font-weight":"400",color:"var(--text-primary)",opacity:"0.7","margin-right":"0.5rem"},du={"margin-bottom":"1.5rem",padding:"1rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-md)",background:"var(--surface-alt, #f9fafb)"},yu={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},Ds={display:"flex","flex-direction":"column",gap:"0.25rem"},Rs={"font-size":"0.75rem","font-weight":"500",color:"var(--text-secondary)"},Gs={padding:"0.5rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"0.875rem"},po={...Gs,background:"white"},cu={display:"flex","align-items":"center",gap:"0.5rem","margin-top":"0.5rem"},uo={"font-size":"1rem","font-weight":"600","margin-bottom":"1rem",color:"var(--text-primary)"},pu={"margin-top":"1.5rem",padding:"1rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-md)"},uu={width:"100%","min-height":"100px",padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"0.875rem","font-family":"inherit",resize:"vertical"},mu=e=>{const[y,o]=Ie({}),[h,w]=Ie(""),[C,te]=Ie(!1),[E,H]=Ie(""),se=Rr(()=>{let L=Fo;E()&&(L=L.filter(v=>v.category===E()));const D=h().toLowerCase();return D&&(L=L.filter(v=>v.code.includes(D)||v.name.toLowerCase().includes(D)||v.category.toLowerCase().includes(D))),L.slice(0,50)}),F=L=>{o(D=>({...D,[L]:!D[L]}))},r=L=>e.data[L],Z=(L,D)=>{const v=r(L);return v?D.filter(ne=>v[ne.field]?.checked).length:0},ge=(L,D,v)=>{const ne={...e.data,[L]:{...e.data[L],[D]:v}};e.onChange(ne)},x=(L,D)=>{const v={...e.data,businessInfo:{...e.data.businessInfo,[L]:D}};e.onChange(v)},W=L=>{const D={...e.data,vehicles:L};e.onChange(D)},$=(L,D)=>{const v={...e.data,homeOffice:{...e.data.homeOffice,[L]:D}};e.onChange(v)},Y=L=>{const D={...e.data,preparerNotes:L};e.onChange(D)},c=()=>{const L=e.data.homeOffice;return L?kn.filter(D=>L[D.field]?.checked).length:0};return(()=>{var L=su(),D=L.firstChild,v=D.firstChild,ne=v.nextSibling,k=ne.firstChild,Ze=k.firstChild,O=Ze.nextSibling,he=k.nextSibling,$e=he.firstChild,fe=$e.nextSibling,ye=he.nextSibling,Ce=ye.firstChild,Xe=Ce.nextSibling,nt=ye.nextSibling,ot=nt.firstChild,qe=ot.nextSibling,gt=qe.firstChild,ke=nt.nextSibling,Ye=ke.firstChild,xt=Ye.nextSibling,Ee=ke.nextSibling,Pt=Ee.firstChild,$t=Pt.nextSibling,It=Ee.nextSibling,ir=It.firstChild,Kt=ir.nextSibling,Wt=It.nextSibling,pt=Wt.firstChild,Je=pt.firstChild,xe=Je.nextSibling,ve=D.nextSibling,Se=ve.firstChild,we=Se.firstChild,_t=we.nextSibling,wt=_t.firstChild,it=wt.firstChild,rr=wt.nextSibling,Dt=ve.nextSibling,qt=Dt.firstChild,lr=qt.nextSibling;return s(D,du),s(ne,yu),O.$$input=ce=>x("businessName",ce.currentTarget.value),fe.addEventListener("change",ce=>x("businessType",ce.currentTarget.value)),Xe.$$input=ce=>x("ein",ce.currentTarget.value),qe.style.setProperty("display","flex"),qe.style.setProperty("gap","0.5rem"),qe.style.setProperty("align-items","center"),gt.$$input=ce=>{x("businessCode",ce.currentTarget.value),w(ce.currentTarget.value),te(!0)},gt.addEventListener("focus",()=>te(!0)),t(qe,n(p,{get when(){return e.data.businessInfo?.businessCode},get children(){var ce=eu();return ce.$$click=()=>{x("businessCode",""),x("principalBusinessActivity",""),w("")},ce.style.setProperty("padding","0.5rem"),ce.style.setProperty("border","1px solid #ef4444"),ce.style.setProperty("border-radius","var(--border-radius-sm)"),ce.style.setProperty("background","white"),ce.style.setProperty("color","#ef4444"),ce.style.setProperty("cursor","pointer"),ce.style.setProperty("font-size","0.75rem"),ce}}),null),t(nt,n(p,{get when(){return C()},get children(){var ce=ru(),U=ce.firstChild,oe=U.firstChild,Ae=oe.firstChild,re=oe.nextSibling,Me=re.firstChild,Ne=Me.nextSibling,Tt=U.nextSibling;return ce.style.setProperty("position","absolute"),ce.style.setProperty("top","100%"),ce.style.setProperty("left","0"),ce.style.setProperty("right","0"),ce.style.setProperty("max-height","400px"),ce.style.setProperty("overflow","auto"),ce.style.setProperty("background","white"),ce.style.setProperty("border","1px solid var(--border-color)"),ce.style.setProperty("border-radius","var(--border-radius-md)"),ce.style.setProperty("box-shadow","0 4px 12px rgba(0,0,0,0.15)"),ce.style.setProperty("z-index","100"),ce.style.setProperty("margin-top","0.25rem"),U.style.setProperty("padding","0.75rem"),U.style.setProperty("border-bottom","1px solid var(--border-color)"),U.style.setProperty("background","#f9fafb"),U.style.setProperty("position","sticky"),U.style.setProperty("top","0"),U.style.setProperty("z-index","1"),oe.style.setProperty("display","flex"),oe.style.setProperty("flex-wrap","wrap"),oe.style.setProperty("gap","0.25rem"),oe.style.setProperty("margin-bottom","0.5rem"),Ae.$$click=()=>H(""),Ae.style.setProperty("padding","0.25rem 0.5rem"),Ae.style.setProperty("border-radius","9999px"),Ae.style.setProperty("cursor","pointer"),Ae.style.setProperty("font-size","0.7rem"),Ae.style.setProperty("font-weight","500"),t(oe,n(Ht,{each:lu,children:B=>(()=>{var ae=nu();return ae.$$click=()=>H(B),ae.style.setProperty("padding","0.25rem 0.5rem"),ae.style.setProperty("border-radius","9999px"),ae.style.setProperty("cursor","pointer"),ae.style.setProperty("font-size","0.7rem"),ae.style.setProperty("font-weight","500"),t(ae,B),f(Ke=>{var tt=E()===B?"2px solid #0891b2":"1px solid #ddd",Q=E()===B?"#0891b2":"white",G=E()===B?"white":"#666";return tt!==Ke.e&&((Ke.e=tt)!=null?ae.style.setProperty("border",tt):ae.style.removeProperty("border")),Q!==Ke.t&&((Ke.t=Q)!=null?ae.style.setProperty("background",Q):ae.style.removeProperty("background")),G!==Ke.a&&((Ke.a=G)!=null?ae.style.setProperty("color",G):ae.style.removeProperty("color")),Ke},{e:void 0,t:void 0,a:void 0}),ae})()}),null),re.style.setProperty("font-size","0.7rem"),re.style.setProperty("color","#666"),t(re,()=>se().length,Me),Ne.$$click=()=>te(!1),Ne.style.setProperty("margin-left","1rem"),Ne.style.setProperty("padding","0.25rem 0.5rem"),Ne.style.setProperty("border","1px solid #ddd"),Ne.style.setProperty("border-radius","var(--border-radius-sm)"),Ne.style.setProperty("background","white"),Ne.style.setProperty("cursor","pointer"),Ne.style.setProperty("font-size","0.7rem"),Tt.style.setProperty("padding","0.5rem"),t(Tt,n(Ht,{get each(){return se()},children:B=>(()=>{var ae=ou(),Ke=ae.firstChild,tt=Ke.firstChild,Q=tt.nextSibling,G=Q.firstChild,et=G.nextSibling;return ae.addEventListener("mouseleave",de=>de.currentTarget.style.background=e.data.businessInfo?.businessCode===B.code?"#e0f2fe":"transparent"),ae.addEventListener("mouseenter",de=>de.currentTarget.style.background="#f0f9ff"),ae.$$click=()=>{x("businessCode",B.code),x("principalBusinessActivity",B.name),te(!1),w("")},ae.style.setProperty("display","block"),ae.style.setProperty("width","100%"),ae.style.setProperty("padding","0.75rem"),ae.style.setProperty("border","none"),ae.style.setProperty("cursor","pointer"),ae.style.setProperty("text-align","left"),ae.style.setProperty("border-radius","var(--border-radius-sm)"),ae.style.setProperty("margin-bottom","0.25rem"),Ke.style.setProperty("display","flex"),Ke.style.setProperty("align-items","center"),Ke.style.setProperty("gap","0.75rem"),tt.style.setProperty("font-weight","700"),tt.style.setProperty("color","#0891b2"),tt.style.setProperty("font-size","0.875rem"),tt.style.setProperty("min-width","60px"),t(tt,()=>B.code),Q.style.setProperty("flex","1"),G.style.setProperty("font-size","0.875rem"),G.style.setProperty("font-weight","500"),G.style.setProperty("color","#1a1a1a"),t(G,()=>B.name),et.style.setProperty("font-size","0.7rem"),et.style.setProperty("color","#666"),t(et,()=>B.category),f(de=>(de=e.data.businessInfo?.businessCode===B.code?"#e0f2fe":"transparent")!=null?ae.style.setProperty("background",de):ae.style.removeProperty("background")),ae})()}),null),t(Tt,n(p,{get when(){return se().length===0},get children(){var B=tu();return B.style.setProperty("padding","1rem"),B.style.setProperty("text-align","center"),B.style.setProperty("color","#666"),B.style.setProperty("font-size","0.875rem"),B}}),null),f(B=>{var ae=E()===""?"2px solid #0891b2":"1px solid #ddd",Ke=E()===""?"#0891b2":"white",tt=E()===""?"white":"#666";return ae!==B.e&&((B.e=ae)!=null?Ae.style.setProperty("border",ae):Ae.style.removeProperty("border")),Ke!==B.t&&((B.t=Ke)!=null?Ae.style.setProperty("background",Ke):Ae.style.removeProperty("background")),tt!==B.a&&((B.a=tt)!=null?Ae.style.setProperty("color",tt):Ae.style.removeProperty("color")),B},{e:void 0,t:void 0,a:void 0}),ce}}),null),xt.$$input=ce=>x("principalBusinessActivity",ce.currentTarget.value),$t.addEventListener("change",ce=>x("accountingMethod",ce.currentTarget.value)),Kt.$$input=ce=>x("dateBusinessStarted",ce.currentTarget.value),s(pt,cu),Je.addEventListener("change",ce=>x("materialParticipation",ce.currentTarget.checked)),t(L,n(p,{get when(){return e.data.vehicles!==void 0},get children(){return n(Zp,{get vehicles(){return e.data.vehicles||[]},onChange:W})}}),ve),Se.$$click=()=>F("homeOffice"),_t.style.setProperty("display","flex"),_t.style.setProperty("align-items","center"),t(wt,c,it),t(wt,()=>kn.length,null),rr.style.setProperty("transition","transform 0.2s"),rr.style.setProperty("font-size","0.75rem"),t(ve,n(p,{get when(){return y().homeOffice},get children(){var ce=io();return t(ce,n(Ht,{each:kn,children:U=>n(Ns,{get label(){return U.label},get item(){return e.data.homeOffice?.[U.field]},onChange:oe=>$(U.field,oe)})})),f(U=>s(ce,yo,U)),ce}}),null),t(L,n(Ht,{each:au,children:ce=>n(p,{get when(){return e.data[ce.key]},get children(){var U=iu(),oe=U.firstChild,Ae=oe.firstChild,re=Ae.nextSibling,Me=re.firstChild,Ne=Me.firstChild,Tt=Me.nextSibling;return oe.$$click=()=>F(ce.key),t(Ae,()=>ce.label),re.style.setProperty("display","flex"),re.style.setProperty("align-items","center"),t(Me,()=>Z(ce.key,ce.items),Ne),t(Me,()=>ce.items.length,null),Tt.style.setProperty("transition","transform 0.2s"),Tt.style.setProperty("font-size","0.75rem"),t(U,n(p,{get when(){return y()[ce.key]},get children(){var B=io();return t(B,n(Ht,{get each(){return ce.items},children:ae=>n(Ns,{get label(){return ae.label},get item(){return r(ce.key)[ae.field]},onChange:Ke=>ge(ce.key,ae.field,Ke)})})),f(ae=>s(B,yo,ae)),B}}),null),f(B=>{var ae=lo,Ke=ao,tt=co,Q=y()[ce.key]?"rotate(180deg)":"rotate(0deg)";return B.e=s(U,ae,B.e),B.t=s(oe,Ke,B.t),B.a=s(Me,tt,B.a),Q!==B.o&&((B.o=Q)!=null?Tt.style.setProperty("transform",Q):Tt.style.removeProperty("transform")),B},{e:void 0,t:void 0,a:void 0,o:void 0}),U}})}),Dt),s(Dt,pu),lr.$$input=ce=>Y(ce.currentTarget.value),s(lr,uu),f(ce=>{var U=uo,oe=Ds,Ae=Rs,re=Gs,Me=Ds,Ne=Rs,Tt=po,B=Ds,ae=Rs,Ke=Gs,tt={...Ds,"grid-column":"span 2",position:"relative"},Q=Rs,G={...Gs,flex:"1"},et=Ds,de=Rs,Ct=Gs,lt=Ds,_e=Rs,je=po,ie=Ds,d=Rs,N=Gs,pe=Ds,Ge={...Rs,"margin-bottom":"0"},le=lo,S=ao,X=co,Ve=y().homeOffice?"rotate(180deg)":"rotate(0deg)",Pe=uo;return ce.e=s(v,U,ce.e),ce.t=s(k,oe,ce.t),ce.a=s(Ze,Ae,ce.a),ce.o=s(O,re,ce.o),ce.i=s(he,Me,ce.i),ce.n=s($e,Ne,ce.n),ce.s=s(fe,Tt,ce.s),ce.h=s(ye,B,ce.h),ce.r=s(Ce,ae,ce.r),ce.d=s(Xe,Ke,ce.d),ce.l=s(nt,tt,ce.l),ce.u=s(ot,Q,ce.u),ce.c=s(gt,G,ce.c),ce.w=s(ke,et,ce.w),ce.m=s(Ye,de,ce.m),ce.f=s(xt,Ct,ce.f),ce.y=s(Ee,lt,ce.y),ce.g=s(Pt,_e,ce.g),ce.p=s($t,je,ce.p),ce.b=s(It,ie,ce.b),ce.T=s(ir,d,ce.T),ce.A=s(Kt,N,ce.A),ce.O=s(Wt,pe,ce.O),ce.I=s(xe,Ge,ce.I),ce.S=s(ve,le,ce.S),ce.W=s(Se,S,ce.W),ce.C=s(wt,X,ce.C),Ve!==ce.B&&((ce.B=Ve)!=null?rr.style.setProperty("transform",Ve):rr.style.removeProperty("transform")),ce.v=s(qt,Pe,ce.v),ce},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0,O:void 0,I:void 0,S:void 0,W:void 0,C:void 0,B:void 0,v:void 0}),f(()=>O.value=e.data.businessInfo?.businessName||""),f(()=>fe.value=e.data.businessInfo?.businessType||""),f(()=>Xe.value=e.data.businessInfo?.ein||""),f(()=>gt.value=e.data.businessInfo?.businessCode||""),f(()=>xt.value=e.data.businessInfo?.principalBusinessActivity||""),f(()=>$t.value=e.data.businessInfo?.accountingMethod||""),f(()=>Kt.value=e.data.businessInfo?.dateBusinessStarted||""),f(()=>Je.checked=e.data.businessInfo?.materialParticipation||!1),f(()=>lr.value=e.data.preparerNotes||""),L})()};is(["input","click"]);var gu=a("<div><div><button>Add Property"),mo=a("<div>"),fu=a('<div><div><span>Property #</span><input type=text placeholder="Property address"><select></select><button>Remove</button></div><div><div><div>Days rented</div><input type=number min=0></div><div><div>Personal use days</div><input type=number min=0></div></div><div><button>Expenses</button></div><div><button>Capital Improvements'),hu=a("<option>");const vu=[{value:"single_family",label:"Single Family"},{value:"multi_family",label:"Multi-Family"},{value:"commercial",label:"Commercial"},{value:"vacation",label:"Vacation"},{value:"other",label:"Other"}],bu=[{key:"mortgage",label:"Mortgage/interest"},{key:"propertyTax",label:"Property tax"},{key:"insurance",label:"Insurance"},{key:"repairs",label:"Repairs"},{key:"maintenance",label:"Maintenance"},{key:"utilities",label:"Utilities"},{key:"management",label:"Property management"},{key:"advertising",label:"Advertising"},{key:"legal",label:"Legal fees"},{key:"hoa",label:"HOA fees"},{key:"cleaning",label:"Cleaning"},{key:"supplies",label:"Supplies"}],Pu=[{key:"roofing",label:"Roofing"},{key:"hvac",label:"HVAC"},{key:"plumbing",label:"Plumbing"},{key:"electrical",label:"Electrical"},{key:"appliances",label:"Appliances"},{key:"flooring",label:"Flooring"},{key:"otherImprovements",label:"Other improvements"}],xu={background:"#06b6d4",color:"white",border:"none","border-radius":"var(--border-radius-md)",padding:"0.5rem 1rem",cursor:"pointer","font-weight":"600","font-size":"0.875rem"},$u={border:"1px solid var(--border-color)","border-radius":"var(--border-radius-lg)",padding:"1rem","margin-bottom":"1rem",background:"var(--surface-color)"},Su={display:"flex",gap:"0.75rem","align-items":"center","margin-bottom":"1rem"},wu={flex:"1",padding:"0.5rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-md)","font-size":"0.875rem"},Cu={padding:"0.5rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-md)","font-size":"0.875rem",width:"auto"},_u={background:"#ef4444",color:"white",border:"none","border-radius":"var(--border-radius-md)",padding:"0.375rem 0.75rem",cursor:"pointer","font-size":"0.75rem"},ku={display:"grid","grid-template-columns":"1fr 1fr",gap:"0.75rem","margin-bottom":"0.75rem"},go={"font-size":"0.75rem",color:"var(--text-secondary)","margin-bottom":"0.25rem"},fo={width:"100%",padding:"0.5rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-md)","font-size":"0.875rem","box-sizing":"border-box"},Iu=e=>{const[y,o]=Ie({}),h=W=>{o($=>({...$,[W]:!$[W]}))},w=W=>!!y()[W],C=()=>{const W=gp();e.onChange({properties:[...e.data.properties,W]})},te=W=>{e.onChange({properties:e.data.properties.filter($=>$.id!==W)})},E=(W,$)=>{const Y=e.data.properties.map(c=>c.id===W?{...c,...$}:c);e.onChange({properties:Y})},H=(W,$)=>{E(W,{propertyAddress:$})},se=(W,$)=>{E(W,{propertyType:$})},F=(W,$)=>{E(W,{daysRented:$})},r=(W,$)=>{E(W,{personalUseDays:$})},Z=(W,$)=>{E(W,{rentalIncome:$})},ge=(W,$,Y)=>{const c=e.data.properties.find(L=>L.id===W);c&&E(W,{expenses:{...c.expenses,[$]:Y}})},x=(W,$,Y)=>{const c=e.data.properties.find(L=>L.id===W);c&&E(W,{capitalImprovements:{...c.capitalImprovements,[$]:Y}})};return(()=>{var W=gu(),$=W.firstChild,Y=$.firstChild;return $.style.setProperty("display","flex"),$.style.setProperty("justify-content","flex-end"),$.style.setProperty("margin-bottom","1rem"),Y.$$click=C,s(Y,xu),t(W,n(Ht,{get each(){return e.data.properties},children:(c,L)=>(()=>{var D=fu(),v=D.firstChild,ne=v.firstChild;ne.firstChild;var k=ne.nextSibling,Ze=k.nextSibling,O=Ze.nextSibling,he=v.nextSibling,$e=he.firstChild,fe=$e.firstChild,ye=fe.nextSibling,Ce=$e.nextSibling,Xe=Ce.firstChild,nt=Xe.nextSibling,ot=he.nextSibling,qe=ot.firstChild,gt=qe.firstChild,ke=ot.nextSibling,Ye=ke.firstChild,xt=Ye.firstChild;return s(D,$u),s(v,Su),ne.style.setProperty("font-weight","600"),ne.style.setProperty("font-size","0.875rem"),ne.style.setProperty("white-space","nowrap"),t(ne,()=>L()+1,null),k.$$input=Ee=>H(c.id,Ee.target.value),s(k,wu),Ze.addEventListener("change",Ee=>se(c.id,Ee.target.value)),s(Ze,Cu),t(Ze,n(Ht,{each:vu,children:Ee=>(()=>{var Pt=hu();return t(Pt,()=>Ee.label),f(()=>Pt.value=Ee.value),Pt})()})),O.$$click=()=>te(c.id),s(O,_u),s(he,ku),ye.$$input=Ee=>F(c.id,parseInt(Ee.target.value)||0),nt.$$input=Ee=>r(c.id,parseInt(Ee.target.value)||0),t(D,n(Ns,{label:"Rental income",get item(){return c.rentalIncome},onChange:Ee=>Z(c.id,Ee)}),ot),ot.style.setProperty("margin-top","0.75rem"),qe.$$click=()=>h(`${c.id}-expenses`),qe.style.setProperty("background","none"),qe.style.setProperty("border","none"),qe.style.setProperty("cursor","pointer"),qe.style.setProperty("font-weight","600"),qe.style.setProperty("font-size","0.875rem"),qe.style.setProperty("color","var(--text-primary)"),qe.style.setProperty("padding","0.5rem 0"),t(qe,()=>w(`${c.id}-expenses`)?"+ ":"- ",gt),t(ot,n(p,{get when(){return!w(`${c.id}-expenses`)},get children(){var Ee=mo();return t(Ee,n(Ht,{each:bu,children:Pt=>n(Ns,{get label(){return Pt.label},get item(){return c.expenses[Pt.key]},onChange:$t=>ge(c.id,Pt.key,$t)})})),Ee}}),null),ke.style.setProperty("margin-top","0.75rem"),Ye.$$click=()=>h(`${c.id}-improvements`),Ye.style.setProperty("background","none"),Ye.style.setProperty("border","none"),Ye.style.setProperty("cursor","pointer"),Ye.style.setProperty("font-weight","600"),Ye.style.setProperty("font-size","0.875rem"),Ye.style.setProperty("color","var(--text-primary)"),Ye.style.setProperty("padding","0.5rem 0"),t(Ye,()=>w(`${c.id}-improvements`)?"+ ":"- ",xt),t(ke,n(p,{get when(){return!w(`${c.id}-improvements`)},get children(){var Ee=mo();return t(Ee,n(Ht,{each:Pu,children:Pt=>n(Ns,{get label(){return Pt.label},get item(){return c.capitalImprovements[Pt.key]},onChange:$t=>x(c.id,Pt.key,$t)})})),Ee}}),null),f(Ee=>{var Pt=go,$t=fo,It=go,ir=fo;return Ee.e=s(fe,Pt,Ee.e),Ee.t=s(ye,$t,Ee.t),Ee.a=s(Xe,It,Ee.a),Ee.o=s(nt,ir,Ee.o),Ee},{e:void 0,t:void 0,a:void 0,o:void 0}),f(()=>k.value=c.propertyAddress),f(()=>Ze.value=c.propertyType),f(()=>ye.value=c.daysRented),f(()=>nt.value=c.personalUseDays),D})()}),null),W})()};is(["click","input"]);var Tu=a("<div>"),Au=a("<div><button type=button><span> (<!>/<!>)</span><span>");const Nu=[{key:"children",label:"Children & Dependents",dataKey:"children",items:[{field:"childTaxCredit",label:"Child tax credit"},{field:"childCareExpenses",label:"Child care expenses"},{field:"adoptionCredit",label:"Adoption credit"},{field:"dependentCareCredit",label:"Dependent care credit"}]},{key:"education",label:"Education Credits",dataKey:"education",items:[{field:"americanOpportunity",label:"American Opportunity credit"},{field:"lifetimeLearning",label:"Lifetime Learning credit"},{field:"tuitionAndFees",label:"Tuition and fees"},{field:"studentLoanInterest",label:"Student loan interest"},{field:"education529Contributions",label:"529 plan contributions"}]},{key:"energy",label:"Energy Credits",dataKey:"energy",items:[{field:"residentialCleanEnergy",label:"Residential clean energy"},{field:"energyEfficientHome",label:"Energy efficient home"},{field:"electricVehicle",label:"Electric vehicle credit"},{field:"solarPanels",label:"Solar panels"}]},{key:"eitc",label:"Earned Income",dataKey:"eitc",items:[{field:"earnedIncomeCredit",label:"Earned Income Credit (EIC)"},{field:"qualifyingChildren",label:"Qualifying children for EIC"}]},{key:"housing",label:"Housing Credits",dataKey:"housing",items:[{field:"mortgageInterestCredit",label:"Mortgage Interest Credit (Form 8396/MCC)"},{field:"firstTimeHomebuyerCredit",label:"First-time homebuyer credit"}]},{key:"other",label:"Other Credits",dataKey:"other",items:[{field:"elderlyDisabledCredit",label:"Elderly/disabled credit"},{field:"foreignTaxCredit",label:"Foreign tax credit"},{field:"retirementSaversCredit",label:"Retirement saver's credit"},{field:"healthCoverageCredit",label:"Health coverage credit"},{field:"excessSocialSecurity",label:"Excess Social Security"}]}],zu={display:"flex",width:"100%",background:"var(--surface-alt, #f9fafb)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-md)",padding:"0.75rem 1rem",cursor:"pointer","font-weight":"600","font-size":"0.875rem","justify-content":"space-between","align-items":"center","margin-bottom":"0.5rem"},Du={"margin-bottom":"1rem"},Ru=e=>{const[y,o]=Ie({}),h=E=>{o(H=>({...H,[E]:!H[E]}))},w=E=>e.data[E],C=E=>{const H=w(E.dataKey);return E.items.filter(se=>H[se.field]?.checked).length},te=(E,H,se)=>{const F={...e.data,[E.dataKey]:{...e.data[E.dataKey],[H]:se}};e.onChange(F)};return(()=>{var E=Tu();return t(E,n(Ht,{each:Nu,children:H=>(()=>{var se=Au(),F=se.firstChild,r=F.firstChild,Z=r.firstChild,ge=Z.nextSibling,x=ge.nextSibling,W=x.nextSibling;W.nextSibling;var $=r.nextSibling;return s(se,Du),F.$$click=()=>h(H.key),s(F,zu),t(r,()=>H.label,Z),t(r,()=>C(H),ge),t(r,()=>H.items.length,W),t($,()=>y()[H.key]?"":""),t(se,n(p,{get when(){return y()[H.key]},get children(){return n(Ht,{get each(){return H.items},children:Y=>n(Ns,{get label(){return Y.label},get item(){return w(H.dataKey)[Y.field]},onChange:c=>te(H,Y.field,c)})})}}),null),se})()})),E})()};is(["click"]);var Fu=a("<div><span>Months of coverage (1-12)</span><input type=number min=0 max=12>"),Eu=a("<div><span>Monthly Premium (Column A)</span><input type=number min=0 step=0.01 placeholder=$0.00>"),Lu=a("<div><span>Monthly SLCSP (Column B) - Benchmark Plan</span><input type=number min=0 step=0.01 placeholder=$0.00>"),Mu=a("<div><span>Monthly Advance PTC (Column C)</span><input type=number min=0 step=0.01 placeholder=$0.00>"),Bu=a("<div><div>Annual Totals (calculated)</div><div><span>Premium: $</span><span>SLCSP: $</span><span>Advance PTC: $"),Ou=a("<div><div>Enter the values from your Form 1095-A. This will automatically calculate Form 8962 (Premium Tax Credit) and any excess advance PTC repayment.</div><div><label><input type=checkbox>Had Marketplace health insurance coverage"),ju=a("<div><div><button type=button><span>Health Insurance Marketplace (1095-A) </span><span>"),Uu=a("<div><button type=button><span> (<!>/<!>)</span><span>");const Hu=[{key:"additionalIncome",label:"Additional Income",items:[{field:"socialSecurity",label:"Social Security benefits"},{field:"pension",label:"Pension income"},{field:"annuity",label:"Annuity income"},{field:"ira",label:"IRA distributions"},{field:"unemployment",label:"Unemployment compensation"},{field:"alimony",label:"Alimony received"},{field:"gambling",label:"Gambling winnings"},{field:"juryDuty",label:"Jury duty pay"},{field:"prizeAwards",label:"Prizes & awards"},{field:"cryptoIncome",label:"Cryptocurrency income"},{field:"stockSales",label:"Stock sales/capital gains"},{field:"rentalRoyalties",label:"Rental royalties"}]},{key:"adjustments",label:"Above-the-Line Adjustments (Schedule 1-A)",items:[{field:"qbid",label:"QBID - Qualified Business Income Deduction (Line 13a)"},{field:"schedule1ADeductions",label:"Schedule 1-A Additional Deductions (Line 13b)"},{field:"iraContributions",label:"IRA contributions"},{field:"hsaContributions",label:"HSA contributions"},{field:"selfEmploymentTax",label:"Self-employment tax deduction (50%)"},{field:"healthInsuranceDeduction",label:"Self-employed health insurance"},{field:"retirementContributions",label:"Retirement plan contributions"},{field:"alimonyPaid",label:"Alimony paid"},{field:"educatorExpenses",label:"Educator expenses"},{field:"movingExpenses",label:"Moving expenses (military)"},{field:"studentLoanInterest",label:"Student loan interest"},{field:"tuitionFees",label:"Tuition & fees"}]},{key:"schedule2Taxes",label:"Schedule 2 - Additional Taxes (Line 17)",items:[{field:"excessPtcRepayment",label:"Excess advance premium tax credit repayment (Form 8962, Line 29)"},{field:"selfEmploymentTax",label:"Self-employment tax (Schedule SE)"},{field:"unreportedSocialSecurityTax",label:"Unreported Social Security/Medicare tax"},{field:"additionalTaxOnIra",label:"Additional tax on IRAs/retirement plans"},{field:"householdEmploymentTax",label:"Household employment taxes (Schedule H)"},{field:"netInvestmentIncomeTax",label:"Net Investment Income Tax (3.8%)"}]}],ho={display:"flex",width:"100%",background:"var(--surface-alt, #f9fafb)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-md)",padding:"0.75rem 1rem",cursor:"pointer","font-weight":"600","font-size":"0.875rem","justify-content":"space-between","align-items":"center","margin-bottom":"0.5rem"},vo={"margin-bottom":"1rem"},Zs={display:"flex","align-items":"center",gap:"1rem",padding:"0.5rem 0","border-bottom":"1px solid var(--border-color-light, #e5e7eb)"},en={flex:"1","font-size":"0.875rem",color:"var(--text-color)"},un={width:"120px",padding:"0.375rem 0.5rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"0.875rem","text-align":"right"},Wu={background:"var(--surface-color, #fff)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-md)",padding:"1rem","margin-bottom":"0.5rem"},Yu={"font-size":"0.75rem",color:"var(--text-muted, #6b7280)","margin-bottom":"1rem"},Gu=e=>{const[y,o]=Ie({}),h=F=>{o(r=>({...r,[F]:!r[F]}))},w=F=>e.data[F],C=(F,r)=>{const Z=w(F);return r.filter(ge=>Z?.[ge?.field]?.checked)?.length},te=(F,r,Z)=>{const x={...w(F),[r]:Z},W={...e.data,[F]:x};e.onChange(W)},E=()=>e.data.healthInsuranceMarketplace||{hasMarketplaceCoverage:!1,monthlyPremium:0,monthlySlcsp:0,monthlyAptc:0,coverageMonths:0},H=(F,r)=>{const ge={...E(),[F]:r};F!=="hasMarketplaceCoverage"&&(ge.monthlyPremium>0||ge.coverageMonths>0)&&(ge.hasMarketplaceCoverage=!0),e.onChange({...e.data,healthInsuranceMarketplace:ge})},se=()=>{const F=E(),r=F.coverageMonths||0;return{annualPremium:(F.monthlyPremium||0)*r,annualSlcsp:(F.monthlySlcsp||0)*r,annualAptc:(F.monthlyAptc||0)*r}};return(()=>{var F=ju(),r=F.firstChild,Z=r.firstChild,ge=Z.firstChild;ge.firstChild;var x=ge.nextSibling;return Z.$$click=()=>h("healthInsurance"),t(ge,()=>E().hasMarketplaceCoverage?"":"",null),t(x,()=>y().healthInsurance?"":""),t(r,n(p,{get when(){return y().healthInsurance},get children(){var W=Ou(),$=W.firstChild,Y=$.nextSibling,c=Y.firstChild,L=c.firstChild;return s(W,Wu),s($,Yu),L.addEventListener("change",D=>H("hasMarketplaceCoverage",D.target.checked)),L.style.setProperty("margin-right","0.5rem"),t(W,n(p,{get when(){return E().hasMarketplaceCoverage},get children(){return[(()=>{var D=Fu(),v=D.firstChild,ne=v.nextSibling;return ne.$$input=k=>H("coverageMonths",parseInt(k.target.value)||0),f(k=>{var Ze=Zs,O=en,he=un;return k.e=s(D,Ze,k.e),k.t=s(v,O,k.t),k.a=s(ne,he,k.a),k},{e:void 0,t:void 0,a:void 0}),f(()=>ne.value=E().coverageMonths||""),D})(),(()=>{var D=Eu(),v=D.firstChild,ne=v.nextSibling;return ne.$$input=k=>H("monthlyPremium",parseFloat(k.target.value)||0),f(k=>{var Ze=Zs,O=en,he=un;return k.e=s(D,Ze,k.e),k.t=s(v,O,k.t),k.a=s(ne,he,k.a),k},{e:void 0,t:void 0,a:void 0}),f(()=>ne.value=E().monthlyPremium||""),D})(),(()=>{var D=Lu(),v=D.firstChild,ne=v.nextSibling;return ne.$$input=k=>H("monthlySlcsp",parseFloat(k.target.value)||0),f(k=>{var Ze=Zs,O=en,he=un;return k.e=s(D,Ze,k.e),k.t=s(v,O,k.t),k.a=s(ne,he,k.a),k},{e:void 0,t:void 0,a:void 0}),f(()=>ne.value=E().monthlySlcsp||""),D})(),(()=>{var D=Mu(),v=D.firstChild,ne=v.nextSibling;return ne.$$input=k=>H("monthlyAptc",parseFloat(k.target.value)||0),f(k=>{var Ze=Zs,O=en,he=un;return k.e=s(D,Ze,k.e),k.t=s(v,O,k.t),k.a=s(ne,he,k.a),k},{e:void 0,t:void 0,a:void 0}),f(()=>ne.value=E().monthlyAptc||""),D})(),(()=>{var D=Bu(),v=D.firstChild,ne=v.nextSibling,k=ne.firstChild;k.firstChild;var Ze=k.nextSibling;Ze.firstChild;var O=Ze.nextSibling;return O.firstChild,D.style.setProperty("margin-top","1rem"),D.style.setProperty("padding","0.75rem"),D.style.setProperty("background","var(--surface-alt)"),D.style.setProperty("border-radius","var(--border-radius-sm)"),v.style.setProperty("font-size","0.75rem"),v.style.setProperty("font-weight","600"),v.style.setProperty("margin-bottom","0.5rem"),ne.style.setProperty("display","flex"),ne.style.setProperty("gap","1.5rem"),ne.style.setProperty("font-size","0.8125rem"),t(k,()=>se().annualPremium.toFixed(2),null),t(Ze,()=>se().annualSlcsp.toFixed(2),null),t(O,()=>se().annualAptc.toFixed(2),null),D})()]}}),null),f(D=>{var v=Zs,ne={...en,"font-weight":"600"};return D.e=s(Y,v,D.e),D.t=s(c,ne,D.t),D},{e:void 0,t:void 0}),f(()=>L.checked=E().hasMarketplaceCoverage),W}}),null),t(F,n(Ht,{each:Hu,children:W=>(()=>{var $=Uu(),Y=$.firstChild,c=Y.firstChild,L=c.firstChild,D=L.nextSibling,v=D.nextSibling,ne=v.nextSibling;ne.nextSibling;var k=c.nextSibling;return Y.$$click=()=>h(W?.key),t(c,()=>W?.label,L),t(c,()=>C(W?.key,W?.items),D),t(c,()=>W?.items?.length,ne),t(k,()=>y()[W?.key]?"":""),t($,n(p,{get when(){return y()[W?.key]},get children(){return n(Ht,{get each(){return W.items},children:Ze=>n(Ns,{get label(){return Ze?.label},get item(){return w(W?.key)?.[Ze?.field]},onChange:O=>te(W?.key,Ze?.field,O)})})}}),null),f(Ze=>{var O=vo,he=ho;return Ze.e=s($,O,Ze.e),Ze.t=s(Y,he,Ze.t),Ze},{e:void 0,t:void 0}),$})()}),null),f(W=>{var $=vo,Y={...ho,background:E().hasMarketplaceCoverage?"var(--success-bg, #dcfce7)":"var(--surface-alt, #f9fafb)"};return W.e=s(r,$,W.e),W.t=s(Z,Y,W.t),W},{e:void 0,t:void 0}),F})()};is(["click","input"]);var Vu=a("<div>"),qu=a('<div><div><h3></h3><div><select><option value=all>All Categories</option></select><select><option value=date>Sort by Date</option><option value=priority>Sort by Priority</option></select><button><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z"clip-rule=evenodd></path></svg>Add Note'),In=a("<option>"),Qu=a('<div><svg viewBox="0 0 20 20"fill=currentColor><path d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z"></path></svg><p>No notes yet</p><p>Click "Add Note" to create your first preparer note.'),Xu=a("<span>"),Ku=a("<span>Resolved"),Ju=a("<span>Updated: "),Zu=a("<div><div><label>Content</label></div><div><div><label>Category</label><select></select></div><div><label>Priority</label><select></select></div><div><label><input type=checkbox>Resolved</label></div></div><div><span>Created: "),e0=a('<div><div><div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"clip-rule=evenodd></path></svg><div></div><span></span></div><div><button><svg viewBox="0 0 20 20"fill=currentColor><path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"></path></svg></button><button><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z"clip-rule=evenodd></path></svg>Delete');const mn={general:{label:"General",color:"#6b7280",bg:"rgba(107, 114, 128, 0.1)"},income:{label:"Income",color:"#22c55e",bg:"rgba(34, 197, 94, 0.1)"},deductions:{label:"Deductions",color:"#3b82f6",bg:"rgba(59, 130, 246, 0.1)"},credits:{label:"Credits",color:"#8b5cf6",bg:"rgba(139, 92, 246, 0.1)"},vehicle:{label:"Vehicle",color:"#f97316",bg:"rgba(249, 115, 22, 0.1)"},rental:{label:"Rental",color:"#14b8a6",bg:"rgba(20, 184, 166, 0.1)"},question:{label:"Question",color:"#0ea5e9",bg:"rgba(14, 165, 233, 0.15)"},followup:{label:"Follow-up",color:"#eab308",bg:"rgba(234, 179, 8, 0.1)"},important:{label:"Important",color:"#ef4444",bg:"rgba(239, 68, 68, 0.1)"}},Tn={low:{label:"Low",color:"#22c55e"},medium:{label:"Medium",color:"#eab308"},high:{label:"High",color:"#ef4444"}},bo={high:0,medium:1,low:2},t0=e=>{const[y,o]=Ie("all"),[h,w]=Ie("date"),[C,te]=Ie(new Set),[E,H]=Ie(null),se=Rr(()=>{let Ee=[...e.notes];const Pt=y();Pt!=="all"&&(Ee=Ee.filter(It=>It.category===Pt));const $t=h();return $t==="date"?Ee.sort((It,ir)=>ir.createdAt-It.createdAt):$t==="priority"&&Ee.sort((It,ir)=>{const Kt=bo[It.priority||"medium"],Wt=bo[ir.priority||"medium"];return Kt-Wt}),Ee}),F=()=>{const Ee=cp();e.onChange([...e.notes,Ee]),H(Ee.id)},r=(Ee,Pt)=>{const $t=e.notes.map(It=>It.id===Ee?{...It,...Pt,updatedAt:Date.now()}:It);e.onChange($t)},Z=Ee=>{const Pt=e.notes.filter($t=>$t.id!==Ee);e.onChange(Pt)},ge=Ee=>{te(Pt=>{const $t=new Set(Pt);return $t.has(Ee)?$t.delete(Ee):$t.add(Ee),$t})},x=Ee=>new Date(Ee).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),W={display:"flex","flex-direction":"column",gap:"1rem"},$={display:"flex","justify-content":"space-between","align-items":"center","flex-wrap":"wrap",gap:"1rem"},Y={"font-size":"1.125rem","font-weight":"600",color:"var(--text-primary, #1f2937)",margin:"0"},c={display:"flex",gap:"0.75rem","align-items":"center","flex-wrap":"wrap"},L={padding:"0.5rem 0.75rem",border:"1px solid var(--border-color, #e5e7eb)","border-radius":"6px","font-size":"0.875rem",background:"var(--surface-color, #ffffff)",color:"var(--text-primary, #1f2937)",cursor:"pointer",outline:"none"},D={padding:"0.5rem 1rem",background:"var(--primary-color, #3b82f6)",color:"white",border:"none","border-radius":"6px","font-size":"0.875rem","font-weight":"500",cursor:"pointer",display:"flex","align-items":"center",gap:"0.375rem",transition:"all 0.2s ease"},v=(Ee,Pt)=>({border:"1px solid var(--border-color, #e5e7eb)","border-radius":"8px",background:"var(--surface-color, #ffffff)","border-left":Ee==="important"?"4px solid #ef4444":Ee==="question"?"4px solid #0ea5e9":"4px solid var(--border-color, #e5e7eb)",overflow:"hidden",transition:"all 0.2s ease","box-shadow":Ee==="question"?"0 0 0 1px rgba(14, 165, 233, 0.2)":"none"}),ne={display:"flex","justify-content":"space-between","align-items":"center",padding:"0.75rem 1rem",background:"var(--surface-alt, #f9fafb)",cursor:"pointer","user-select":"none"},k={display:"flex","align-items":"center",gap:"0.75rem",flex:"1","min-width":"0"},Ze={display:"flex","align-items":"center",gap:"0.5rem"},O={padding:"1rem",display:"flex","flex-direction":"column",gap:"1rem"},he=Ee=>{const Pt=mn[Ee];return{display:"inline-flex","align-items":"center",padding:"0.25rem 0.5rem","border-radius":"4px",background:Pt.bg,color:Pt.color,"font-size":"0.6875rem","font-weight":"600","text-transform":"uppercase","letter-spacing":"0.05em"}},$e=Ee=>({width:"10px",height:"10px","border-radius":"50%",background:Tn[Ee].color,"flex-shrink":"0"}),fe={width:"100%","min-height":"80px",padding:"0.75rem",border:"1px solid var(--border-color, #e5e7eb)","border-radius":"6px","font-size":"0.875rem","font-family":"inherit",resize:"vertical",outline:"none","box-sizing":"border-box"},ye={display:"flex",gap:"1rem","align-items":"center","flex-wrap":"wrap"},Ce={display:"flex","flex-direction":"column",gap:"0.25rem"},Xe={"font-size":"0.75rem","font-weight":"500",color:"var(--text-secondary, #6b7280)"},nt={display:"flex","align-items":"center",gap:"0.5rem","font-size":"0.875rem",color:"var(--text-primary, #1f2937)",cursor:"pointer"},ot={"font-size":"0.75rem",color:"var(--text-muted, #9ca3af)"},qe=Ee=>({padding:"0.375rem 0.625rem",background:Ee==="delete"?"rgba(239, 68, 68, 0.1)":"rgba(59, 130, 246, 0.1)",color:Ee==="delete"?"#ef4444":"#3b82f6",border:"none","border-radius":"4px","font-size":"0.75rem","font-weight":"500",cursor:"pointer",display:"flex","align-items":"center",gap:"0.25rem",transition:"all 0.2s ease"}),gt=Ee=>({width:"16px",height:"16px",transform:Ee?"rotate(-90deg)":"rotate(0deg)",transition:"transform 0.2s ease",color:"var(--text-secondary, #6b7280)"}),ke={"text-align":"center",padding:"2rem",color:"var(--text-secondary, #6b7280)",border:"1px dashed var(--border-color, #e5e7eb)","border-radius":"8px"},Ye={"font-size":"0.875rem",color:"var(--text-secondary, #6b7280)","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis","max-width":"300px"},xt={opacity:"0.6","text-decoration":"line-through"};return(()=>{var Ee=qu(),Pt=Ee.firstChild,$t=Pt.firstChild,It=$t.nextSibling,ir=It.firstChild;ir.firstChild;var Kt=ir.nextSibling,Wt=Kt.nextSibling,pt=Wt.firstChild;return s($t,Y),t($t,()=>e.title||"Preparer Notes"),ir.addEventListener("change",Je=>o(Je.currentTarget.value)),t(ir,n(Ht,{get each(){return Object.entries(mn)},children:([Je,xe])=>(()=>{var ve=In();return ve.value=Je,t(ve,()=>xe.label),ve})()}),null),Kt.addEventListener("change",Je=>w(Je.currentTarget.value)),Wt.$$click=F,s(Wt,D),pt.style.setProperty("width","16px"),pt.style.setProperty("height","16px"),t(Ee,n(p,{get when(){return se().length>0},get fallback(){return(()=>{var Je=Qu(),xe=Je.firstChild,ve=xe.nextSibling,Se=ve.nextSibling;return xe.style.setProperty("width","48px"),xe.style.setProperty("height","48px"),xe.style.setProperty("margin","0 auto 1rem"),xe.style.setProperty("opacity","0.4"),ve.style.setProperty("margin","0 0 0.5rem"),ve.style.setProperty("font-weight","500"),Se.style.setProperty("margin","0"),Se.style.setProperty("font-size","0.875rem"),f(we=>s(Je,ke,we)),Je})()},get children(){var Je=Vu();return Je.style.setProperty("display","flex"),Je.style.setProperty("flex-direction","column"),Je.style.setProperty("gap","0.75rem"),t(Je,n(Ht,{get each(){return se()},children:xe=>{const ve=C().has(xe.id),Se=E()===xe.id,we=xe.priority||"medium";return(()=>{var _t=e0(),wt=_t.firstChild,it=wt.firstChild,rr=it.firstChild,Dt=rr.nextSibling,qt=Dt.nextSibling,lr=it.nextSibling,ce=lr.firstChild,U=ce.firstChild,oe=ce.nextSibling,Ae=oe.firstChild;return wt.$$click=()=>ge(xe.id),s(it,k),t(qt,()=>mn[xe.category].label),t(it,n(p,{get when(){return ve&&xe.content},get children(){var re=Xu();return t(re,()=>xe.content),f(Me=>s(re,Ye,Me)),re}}),null),t(it,n(p,{get when(){return xe.resolved},get children(){var re=Ku();return re.style.setProperty("display","inline-flex"),re.style.setProperty("align-items","center"),re.style.setProperty("padding","0.125rem 0.375rem"),re.style.setProperty("border-radius","4px"),re.style.setProperty("background","rgba(34, 197, 94, 0.1)"),re.style.setProperty("color","#22c55e"),re.style.setProperty("font-size","0.625rem"),re.style.setProperty("font-weight","600"),re.style.setProperty("text-transform","uppercase"),re}}),null),lr.$$click=re=>re.stopPropagation(),s(lr,Ze),ce.$$click=()=>H(Se?null:xe.id),U.style.setProperty("width","12px"),U.style.setProperty("height","12px"),t(ce,Se?"Done":"Edit",null),oe.$$click=()=>Z(xe.id),Ae.style.setProperty("width","12px"),Ae.style.setProperty("height","12px"),t(_t,n(p,{when:!ve,get children(){var re=Zu(),Me=re.firstChild,Ne=Me.firstChild,Tt=Me.nextSibling,B=Tt.firstChild,ae=B.firstChild,Ke=ae.nextSibling,tt=B.nextSibling,Q=tt.firstChild,G=Q.nextSibling,et=tt.nextSibling,de=et.firstChild,Ct=de.firstChild,lt=Tt.nextSibling,_e=lt.firstChild;return _e.firstChild,t(Me,n(Ss,{style:fe,get value(){return xe.content},placeholder:"Enter note content...",onChange:je=>r(xe.id,{content:je}),get readOnly(){return!Se&&xe.content!==""}}),null),Ke.addEventListener("change",je=>r(xe.id,{category:je.currentTarget.value})),t(Ke,n(Ht,{get each(){return Object.entries(mn)},children:([je,ie])=>(()=>{var d=In();return d.value=je,t(d,()=>ie.label),d})()})),G.addEventListener("change",je=>r(xe.id,{priority:je.currentTarget.value})),G.value=we,t(G,n(Ht,{get each(){return Object.entries(Tn)},children:([je,ie])=>(()=>{var d=In();return d.value=je,t(d,()=>ie.label),d})()})),s(de,nt),Ct.addEventListener("change",je=>r(xe.id,{resolved:je.currentTarget.checked})),Ct.style.setProperty("width","16px"),Ct.style.setProperty("height","16px"),Ct.style.setProperty("cursor","pointer"),lt.style.setProperty("display","flex"),lt.style.setProperty("gap","1.5rem"),t(_e,()=>x(xe.createdAt),null),t(lt,n(p,{get when(){return xe.updatedAt&&xe.updatedAt!==xe.createdAt},get children(){var je=Ju();return je.firstChild,t(je,()=>x(xe.updatedAt),null),f(ie=>s(je,ot,ie)),je}}),null),f(je=>{var ie=O,d=Ce,N=Xe,pe=ye,Ge=Ce,le=Xe,S=L,X=Ce,Ve=Xe,Pe=L,ze={...Ce,"justify-content":"flex-end"},ht=ot;return je.e=s(re,ie,je.e),je.t=s(Me,d,je.t),je.a=s(Ne,N,je.a),je.o=s(Tt,pe,je.o),je.i=s(B,Ge,je.i),je.n=s(ae,le,je.n),je.s=s(Ke,S,je.s),je.h=s(tt,X,je.h),je.r=s(Q,Ve,je.r),je.d=s(G,Pe,je.d),je.l=s(et,ze,je.l),je.u=s(_e,ht,je.u),je},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0}),f(()=>Ke.value=xe.category),f(()=>Ct.checked=xe.resolved||!1),re}}),null),f(re=>{var Me={...v(xe.category),...xe.resolved?xt:{}},Ne=ne,Tt=gt(ve),B=$e(we),ae=`${Tn[we].label} Priority`,Ke=he(xe.category),tt=qe("edit"),Q=qe("delete");return re.e=s(_t,Me,re.e),re.t=s(wt,Ne,re.t),re.a=s(rr,Tt,re.a),re.o=s(Dt,B,re.o),ae!==re.i&&es(Dt,"title",re.i=ae),re.n=s(qt,Ke,re.n),re.s=s(ce,tt,re.s),re.h=s(oe,Q,re.h),re},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),_t})()}})),Je}}),null),f(Je=>{var xe=W,ve=$,Se=c,we=L,_t=L;return Je.e=s(Ee,xe,Je.e),Je.t=s(Pt,ve,Je.t),Je.a=s(It,Se,Je.a),Je.o=s(ir,we,Je.o),Je.i=s(Kt,_t,Je.i),Je},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),f(()=>ir.value=y()),f(()=>Kt.value=h()),Ee})()};is(["click"]);var r0=a("<button>Auto-fill (<!>)"),s0=a("<div><button>Calculate Credits"),Po=a("<div>"),n0=a("<div>Phase-out: -$<!> (AGI exceeds threshold)"),o0=a("<div><div>Credit Calculation Results</div><div><span>Estimated AGI (from documents)</span><span>$</span></div><div><div><span></span><span>Dependents on return: </span></div><div><span></span><span>Qualifying children (under 17): </span></div></div><div><div><div><span></span><span>Child Tax Credit</span></div><div></div></div><span>$</span></div><div><div><span></span><span>Earned income: $</span></div><div><span></span><span>Income within EIC limit: $</span></div></div><div><div><div><span></span><span>Earned Income Credit (EIC)</span></div><div></div></div><span>$</span></div><div><span>Total Estimated Credits</span><span>$"),i0=a("<div><div><div></div><div><div><div></div></div><span>%</span><button></button></div></div><div>"),l0=a("<button>");const a0=e=>{const[y,o]=Ie("deductions"),[h,w]=Ie(!1),[C,te]=Ie(null),E=Rr(()=>e.client.taxStrategy||mp()),H=Rr(()=>{const he=E();let $e=0,fe=0;const ye=Ce=>{for(const Xe of Object.keys(Ce)){const nt=Ce[Xe];nt&&typeof nt=="object"&&"checked"in nt?($e++,nt.checked&&fe++):nt&&typeof nt=="object"&&!Array.isArray(nt)&&ye(nt)}};ye(he.deductions),ye(he.businessExpenses),ye(he.taxCredits),ye(he.otherIncome);for(const Ce of he.rentalProperties.properties)ye(Ce.expenses),ye(Ce.capitalImprovements),$e++,Ce.rentalIncome.checked&&fe++;return $e===0?0:Math.round(fe/$e*100)}),se=he=>{const $e={...E(),...he,lastUpdated:Date.now()};e.onClientChange({taxStrategy:$e}),w(!0)},F=async()=>{await e.onSave(),w(!1)},r=Rr(()=>hp(e.documents)),Z=()=>{Qe(e.documents);const he=fp(E(),e.documents);e.onClientChange({taxStrategy:he}),w(!0)},ge=()=>{Qe("[STRATEGY] ===== CALCULATE CREDITS TRIGGERED ====="),Qe("[STRATEGY] Client data:",JSON.stringify({id:e.client.id,name:`${e.client.firstName} ${e.client.lastName}`,filingStatus:e.client.filingStatus,taxYear:e.client.taxYear,dependents:e.client.dependents},null,2)),Qe("[STRATEGY] Documents passed:",e.documents.length),Qe("[STRATEGY] Documents detail:",JSON.stringify(e.documents.map(Ce=>({id:Ce.id,type:Ce.drakeFormType,docType:Ce.documentType,status:Ce.uploadStatus,fileName:Ce.originalFileName,hasExtracted:!!Ce.extractedAmounts,extractedAmounts:Ce.extractedAmounts,payerInfo:Ce.payerInfo})),null,2));const{updatedCredits:he,childCredit:$e,eic:fe}=$p(E().taxCredits,e.client,e.documents);let ye=0;for(const Ce of e.documents)Ce.drakeFormType==="w2"?ye+=Ce.extractedAmounts?.wages??0:Ce.drakeFormType==="1099_nec"?ye+=Ce.extractedAmounts?.nonEmployeeCompensation??0:Ce.drakeFormType==="1099_int"?ye+=Ce.extractedAmounts?.interestIncome??0:Ce.drakeFormType==="1099_div"?ye+=Ce.extractedAmounts?.ordinaryDividends??0:Ce.drakeFormType==="1099_misc"&&(ye+=Ce.extractedAmounts?.miscellaneousIncome??0,ye+=Ce.extractedAmounts?.rents??0,ye+=Ce.extractedAmounts?.royalties??0);te({childCredit:$e,eic:fe,agi:ye}),se({taxCredits:he})},x=he=>{const $e={...e.client.taxStrategy,preparerNotes:he,lastUpdated:Date.now()};e.onClientChange({taxStrategy:$e})},W=[{id:"deductions",label:"Deductions"},{id:"business",label:"Business"},{id:"rental",label:"Rental"},{id:"credits",label:"Credits"},{id:"other",label:"Other Income"},{id:"notes",label:"Notes"}],$={display:"flex","flex-direction":"column",gap:"1rem"},Y={display:"flex","align-items":"center","justify-content":"space-between","margin-bottom":"0.5rem"},c={display:"flex",gap:"0.5rem","flex-wrap":"wrap"},L=he=>({padding:"0.625rem 1.25rem",border:"none",background:he?"#06b6d4":"var(--surface-alt, #f3f4f6)",color:he?"white":"var(--text-primary)","border-radius":"9999px",cursor:"pointer","font-weight":"600","font-size":"0.875rem",transition:"all 0.2s"}),D={display:"flex","align-items":"center",gap:"0.75rem"},v={width:"120px",height:"8px",background:"var(--surface-alt, #e5e7eb)","border-radius":"4px",overflow:"hidden"},ne=()=>({height:"100%",width:`${H()}%`,background:H()>=75?"#22c55e":H()>=40?"#f59e0b":"#06b6d4","border-radius":"4px",transition:"width 0.3s ease"}),k={"font-size":"0.8125rem","font-weight":"600",color:"var(--text-secondary)"},Ze=()=>({padding:"0.5rem 1.25rem",background:h()?"#06b6d4":"var(--surface-alt, #e5e7eb)",color:h()?"white":"var(--text-muted)",border:"none","border-radius":"var(--border-radius-md)",cursor:h()?"pointer":"default","font-weight":"600","font-size":"0.875rem",transition:"all 0.2s",opacity:e.isSaving?"0.7":"1"}),O={"margin-top":"1rem","max-height":"600px","overflow-y":"auto",padding:"0.5rem"};return(()=>{var he=i0(),$e=he.firstChild,fe=$e.firstChild,ye=fe.nextSibling,Ce=ye.firstChild,Xe=Ce.firstChild,nt=Ce.nextSibling,ot=nt.firstChild,qe=nt.nextSibling,gt=$e.nextSibling;return s($e,Y),t(fe,()=>W.map(ke=>(()=>{var Ye=l0();return Ye.$$click=()=>o(ke.id),t(Ye,()=>ke.label),f(xt=>s(Ye,L(y()===ke.id),xt)),Ye})())),s(ye,D),t(ye,n(p,{get when(){return r().documentCount>0},get children(){var ke=r0(),Ye=ke.firstChild,xt=Ye.nextSibling;return xt.nextSibling,ke.$$click=Z,ke.style.setProperty("padding","0.5rem 1rem"),ke.style.setProperty("background","#8b5cf6"),ke.style.setProperty("color","white"),ke.style.setProperty("border","none"),ke.style.setProperty("border-radius","var(--border-radius-md)"),ke.style.setProperty("cursor","pointer"),ke.style.setProperty("font-weight","600"),ke.style.setProperty("font-size","0.8125rem"),ke.style.setProperty("transition","all 0.2s"),t(ke,()=>r().documentCount,xt),f(()=>es(ke,"title",`Fill from ${r().documentCount} document(s): ${r().formTypes.join(", ")}`)),ke}}),Ce),s(Ce,v),s(nt,k),t(nt,H,ot),qe.$$click=F,t(qe,()=>e.isSaving?"Saving...":"Save"),t(gt,n(p,{get when(){return y()==="deductions"},get children(){return n(Np,{get data(){return E().deductions},onChange:ke=>se({deductions:ke})})}}),null),t(gt,n(p,{get when(){return y()==="business"},get children(){return n(mu,{get data(){return E().businessExpenses},onChange:ke=>se({businessExpenses:ke})})}}),null),t(gt,n(p,{get when(){return y()==="rental"},get children(){return n(Iu,{get data(){return E().rentalProperties},onChange:ke=>se({rentalProperties:ke})})}}),null),t(gt,n(p,{get when(){return y()==="credits"},get children(){return[(()=>{var ke=s0(),Ye=ke.firstChild;return ke.style.setProperty("margin-bottom","1rem"),Ye.$$click=ge,Ye.style.setProperty("padding","0.625rem 1.5rem"),Ye.style.setProperty("background","#22c55e"),Ye.style.setProperty("color","white"),Ye.style.setProperty("border","none"),Ye.style.setProperty("border-radius","var(--border-radius-md)"),Ye.style.setProperty("cursor","pointer"),Ye.style.setProperty("font-weight","700"),Ye.style.setProperty("font-size","0.9375rem"),Ye.style.setProperty("transition","all 0.2s"),Ye.style.setProperty("box-shadow","0 2px 8px rgba(34, 197, 94, 0.3)"),ke})(),n(p,{get when(){return C()},get children(){var ke=o0(),Ye=ke.firstChild,xt=Ye.nextSibling,Ee=xt.firstChild,Pt=Ee.nextSibling;Pt.firstChild;var $t=xt.nextSibling,It=$t.firstChild,ir=It.firstChild,Kt=ir.nextSibling;Kt.firstChild;var Wt=It.nextSibling,pt=Wt.firstChild,Je=pt.nextSibling;Je.firstChild;var xe=$t.nextSibling,ve=xe.firstChild,Se=ve.firstChild,we=Se.firstChild,_t=we.nextSibling,wt=Se.nextSibling,it=ve.nextSibling;it.firstChild;var rr=xe.nextSibling,Dt=rr.firstChild,qt=Dt.firstChild,lr=qt.nextSibling;lr.firstChild;var ce=Dt.nextSibling,U=ce.firstChild,oe=U.nextSibling;oe.firstChild;var Ae=rr.nextSibling,re=Ae.firstChild,Me=re.firstChild,Ne=Me.firstChild,Tt=Ne.nextSibling,B=Me.nextSibling,ae=re.nextSibling;ae.firstChild;var Ke=Ae.nextSibling,tt=Ke.firstChild,Q=tt.nextSibling;return Q.firstChild,ke.style.setProperty("background","var(--surface-alt, #f9fafb)"),ke.style.setProperty("border","1px solid var(--border-color)"),ke.style.setProperty("border-radius","var(--border-radius-lg, 12px)"),ke.style.setProperty("padding","1.25rem"),ke.style.setProperty("margin-bottom","1.25rem"),Ye.style.setProperty("font-weight","700"),Ye.style.setProperty("font-size","0.9375rem"),Ye.style.setProperty("margin-bottom","1rem"),Ye.style.setProperty("color","var(--text-primary)"),xt.style.setProperty("display","flex"),xt.style.setProperty("justify-content","space-between"),xt.style.setProperty("align-items","center"),xt.style.setProperty("padding","0.5rem 0"),xt.style.setProperty("border-bottom","1px solid var(--border-color)"),Ee.style.setProperty("font-size","0.875rem"),Ee.style.setProperty("color","var(--text-secondary)"),Pt.style.setProperty("font-weight","600"),Pt.style.setProperty("font-size","0.9375rem"),Pt.style.setProperty("color","var(--text-primary)"),t(Pt,()=>C().agi.toLocaleString(),null),$t.style.setProperty("padding","0.75rem 0"),$t.style.setProperty("border-bottom","1px solid var(--border-color)"),It.style.setProperty("display","flex"),It.style.setProperty("align-items","center"),It.style.setProperty("gap","0.5rem"),It.style.setProperty("margin-bottom","0.375rem"),ir.style.setProperty("font-size","1rem"),t(ir,()=>C().childCredit.eligibility.hasDependents?"":""),Kt.style.setProperty("font-size","0.875rem"),Kt.style.setProperty("color","var(--text-primary)"),t(Kt,()=>C().childCredit.eligibility.totalDependents,null),Wt.style.setProperty("display","flex"),Wt.style.setProperty("align-items","center"),Wt.style.setProperty("gap","0.5rem"),pt.style.setProperty("font-size","1rem"),t(pt,()=>C().childCredit.eligibility.hasQualifyingChildren?"":""),Je.style.setProperty("font-size","0.875rem"),Je.style.setProperty("color","var(--text-primary)"),t(Je,()=>C().childCredit.qualifyingChildren,null),t($t,n(p,{get when(){return C().childCredit.eligibility.nonQualifyingReason},get children(){var G=Po();return G.style.setProperty("margin-top","0.375rem"),G.style.setProperty("margin-left","1.5rem"),G.style.setProperty("font-size","0.8125rem"),G.style.setProperty("color","#f59e0b"),t(G,()=>C().childCredit.eligibility.nonQualifyingReason),G}}),null),xe.style.setProperty("display","flex"),xe.style.setProperty("justify-content","space-between"),xe.style.setProperty("align-items","center"),xe.style.setProperty("padding","0.75rem 0"),xe.style.setProperty("border-bottom","1px solid var(--border-color)"),Se.style.setProperty("display","flex"),Se.style.setProperty("align-items","center"),Se.style.setProperty("gap","0.5rem"),we.style.setProperty("font-size","1rem"),t(we,()=>C().childCredit.creditAmount>0?"":""),_t.style.setProperty("font-size","0.9375rem"),_t.style.setProperty("font-weight","600"),_t.style.setProperty("color","var(--text-primary)"),wt.style.setProperty("font-size","0.8125rem"),wt.style.setProperty("color","var(--text-secondary)"),wt.style.setProperty("margin-top","0.25rem"),wt.style.setProperty("margin-left","1.5rem"),t(wt,(()=>{var G=bt(()=>C().childCredit.qualifyingChildren>0);return()=>G()?`${C().childCredit.qualifyingChildren} child${C().childCredit.qualifyingChildren!==1?"ren":""} x $2,000 = $${(C().childCredit.qualifyingChildren*2e3).toLocaleString()}`:"No qualifying children  credit does not apply"})()),it.style.setProperty("font-weight","700"),it.style.setProperty("font-size","1.125rem"),t(it,()=>C().childCredit.creditAmount.toLocaleString(),null),t(ke,n(p,{get when(){return C().childCredit.isPhasedOut},get children(){var G=n0(),et=G.firstChild,de=et.nextSibling;return de.nextSibling,G.style.setProperty("padding","0.375rem 0 0.375rem 2rem"),G.style.setProperty("font-size","0.8125rem"),G.style.setProperty("color","#f59e0b"),t(G,()=>C().childCredit.phaseOutReduction.toLocaleString(),de),G}}),rr),rr.style.setProperty("padding","0.75rem 0"),rr.style.setProperty("border-bottom","1px solid var(--border-color)"),Dt.style.setProperty("display","flex"),Dt.style.setProperty("align-items","center"),Dt.style.setProperty("gap","0.5rem"),Dt.style.setProperty("margin-bottom","0.375rem"),qt.style.setProperty("font-size","1rem"),t(qt,()=>C().eic.eligibility.hasEarnedIncome?"":""),lr.style.setProperty("font-size","0.875rem"),lr.style.setProperty("color","var(--text-primary)"),t(lr,()=>C().eic.eligibility.earnedIncome.toLocaleString(),null),ce.style.setProperty("display","flex"),ce.style.setProperty("align-items","center"),ce.style.setProperty("gap","0.5rem"),U.style.setProperty("font-size","1rem"),t(U,()=>C().eic.eligibility.isWithinLimit?"":""),oe.style.setProperty("font-size","0.875rem"),oe.style.setProperty("color","var(--text-primary)"),t(oe,()=>C().eic.eligibility.incomeLimit.toLocaleString(),null),t(rr,n(p,{get when(){return C().eic.eligibility.reason},get children(){var G=Po();return G.style.setProperty("margin-top","0.375rem"),G.style.setProperty("margin-left","1.5rem"),G.style.setProperty("font-size","0.8125rem"),G.style.setProperty("color","#f59e0b"),t(G,()=>C().eic.eligibility.reason),G}}),null),Ae.style.setProperty("display","flex"),Ae.style.setProperty("justify-content","space-between"),Ae.style.setProperty("align-items","center"),Ae.style.setProperty("padding","0.75rem 0"),Ae.style.setProperty("border-bottom","1px solid var(--border-color)"),Me.style.setProperty("display","flex"),Me.style.setProperty("align-items","center"),Me.style.setProperty("gap","0.5rem"),Ne.style.setProperty("font-size","1rem"),t(Ne,()=>C().eic.creditAmount>0?"":""),Tt.style.setProperty("font-size","0.9375rem"),Tt.style.setProperty("font-weight","600"),Tt.style.setProperty("color","var(--text-primary)"),B.style.setProperty("font-size","0.8125rem"),B.style.setProperty("color","var(--text-secondary)"),B.style.setProperty("margin-top","0.25rem"),B.style.setProperty("margin-left","1.5rem"),t(B,(()=>{var G=bt(()=>C().eic.creditAmount>0);return()=>G()?`${C().eic.qualifyingChildren} qualifying child${C().eic.qualifyingChildren!==1?"ren":""} bracket`:C().eic.eligibility.reason||"Does not qualify"})()),ae.style.setProperty("font-weight","700"),ae.style.setProperty("font-size","1.125rem"),t(ae,()=>C().eic.creditAmount.toLocaleString(),null),Ke.style.setProperty("display","flex"),Ke.style.setProperty("justify-content","space-between"),Ke.style.setProperty("align-items","center"),Ke.style.setProperty("padding","0.75rem 0"),Ke.style.setProperty("border-top","2px solid var(--border-color)"),Ke.style.setProperty("margin-top","0.5rem"),tt.style.setProperty("font-weight","700"),tt.style.setProperty("font-size","0.9375rem"),tt.style.setProperty("color","var(--text-primary)"),Q.style.setProperty("font-weight","700"),Q.style.setProperty("font-size","1.25rem"),Q.style.setProperty("color","#06b6d4"),t(Q,()=>(C().childCredit.creditAmount+C().eic.creditAmount).toLocaleString(),null),f(G=>{var et=C().childCredit.eligibility.hasDependents?"#22c55e":"#ef4444",de=C().childCredit.eligibility.hasQualifyingChildren?"#22c55e":"#ef4444",Ct=C().childCredit.creditAmount>0?"#22c55e":"#ef4444",lt=C().childCredit.creditAmount>0?"#22c55e":"var(--text-muted)",_e=C().eic.eligibility.hasEarnedIncome?"#22c55e":"#ef4444",je=C().eic.eligibility.isWithinLimit?"#22c55e":"#ef4444",ie=C().eic.creditAmount>0?"#22c55e":"#ef4444",d=C().eic.creditAmount>0?"#22c55e":"var(--text-muted)";return et!==G.e&&((G.e=et)!=null?ir.style.setProperty("color",et):ir.style.removeProperty("color")),de!==G.t&&((G.t=de)!=null?pt.style.setProperty("color",de):pt.style.removeProperty("color")),Ct!==G.a&&((G.a=Ct)!=null?we.style.setProperty("color",Ct):we.style.removeProperty("color")),lt!==G.o&&((G.o=lt)!=null?it.style.setProperty("color",lt):it.style.removeProperty("color")),_e!==G.i&&((G.i=_e)!=null?qt.style.setProperty("color",_e):qt.style.removeProperty("color")),je!==G.n&&((G.n=je)!=null?U.style.setProperty("color",je):U.style.removeProperty("color")),ie!==G.s&&((G.s=ie)!=null?Ne.style.setProperty("color",ie):Ne.style.removeProperty("color")),d!==G.h&&((G.h=d)!=null?ae.style.setProperty("color",d):ae.style.removeProperty("color")),G},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),ke}}),n(Ru,{get data(){return E().taxCredits},onChange:ke=>se({taxCredits:ke})})]}}),null),t(gt,n(p,{get when(){return y()==="other"},get children(){return n(Gu,{get data(){return E().otherIncome},onChange:ke=>se({otherIncome:ke})})}}),null),t(gt,n(p,{get when(){return y()==="notes"},get children(){return n(t0,{get notes(){return e.client.taxStrategy?.preparerNotes||[]},onChange:x,title:"Preparer Notes & Questions"})}}),null),f(ke=>{var Ye=$,xt=c,Ee=ne(),Pt=Ze(),$t=!h()||e.isSaving,It=O;return ke.e=s(he,Ye,ke.e),ke.t=s(fe,xt,ke.t),ke.a=s(Xe,Ee,ke.a),ke.o=s(qe,Pt,ke.o),$t!==ke.i&&(qe.disabled=ke.i=$t),ke.n=s(gt,It,ke.n),ke},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),he})()};is(["click"]);var d0=a(`<style>
        @media print {
          body * {
            visibility: hidden;
          }
          .drake-print-view,
          .drake-print-view * {
            visibility: visible !important;
          }
          .drake-print-view {
            position: absolute !important;
            left: 0 !important;
            top: 0 !important;
            transform: none !important;
            width: 100% !important;
            max-width: 100% !important;
            max-height: none !important;
            overflow: visible !important;
            background: white !important;
            border-radius: 0 !important;
          }
          .no-print {
            display: none !important;
            visibility: hidden !important;
          }
          .modal-overlay {
            display: none !important;
          }
          .qr-section {
            page-break-inside: avoid;
          }
          .qr-grid {
            display: grid !important;
            grid-template-columns: repeat(3, 1fr) !important;
            gap: 20px !important;
          }
          .qr-item {
            page-break-inside: avoid;
          }
        }
      `),y0=a('<div class="no-print modal-overlay">'),c0=a("<div>Generating QR codes..."),p0=a("<div><h1>Drake Tax QR Codes</h1><p> <!> - Tax Year "),u0=a("<div class=qr-section><h2>Section 1: Taxpayer Information</h2><div class=qr-grid>"),m0=a("<div class=qr-section><h2>Section 2: Dependents (<!>)</h2><div class=qr-grid>"),g0=a("<div class=qr-section><h2>Section 3: Tax Documents (<!>)</h2><div class=qr-grid>"),f0=a("<div>No QR codes to display. Add taxpayer info, dependents, or documents first."),h0=a("<div><strong>Summary:</strong> <!> taxpayer, <!> dependent(s), <!> document(s)"),v0=a("<div class=drake-print-view><div class=no-print><span>QR Codes - <!> </span><div><button>Print</button><button>x</button></div></div><div>"),An=a("<div>"),Nn=a("<div class=qr-item><img><div>");const b0=e=>{const[y,o]=Ie([]),[h,w]=Ie(!1),C=L=>L.replace(/\|/g,"	").toUpperCase(),te=()=>{const L=e.client,D=[ys(L.ssn||""),"|",ys(L.ssn||""),"|",L.firstName,"|",L.lastName,"|","|"].join("");return C(D)},E=()=>{const D=[e.client.firstName+(e.client.middleName?" "+e.client.middleName+" ":" ")+e.client.lastName||"","|"].join("");return C(D)},H=()=>{const L=e.client,D=[L.firstName,"|",L.middleName||"","|",L.lastName,"|","|",ys(L.ssn||""),"|","|",Jr(L.dateOfBirth)||"","|",L.occupation||"","|","|",L.phone?L.phone:"","|","|","|"].join("");return C(D)},se=()=>{const L=e.client,D=[L.spouse?.firstName,"|",L.spouse?.middleName||"","|",L.spouse?.lastName,"|","|",ys(L?.spouse?.ssn),"|","|",Jr(L.spouse?.dateOfBirth)||"","|",L.spouse?.occupation||"","|","|",L.spouse?.phone,"|"].join("");return C(D)},F=()=>{const L=e.client,D=[L.address||"","|","|","|",L.zipCode||""].join("");return C(D)},r=L=>{const D=[L.firstName,"|",L.middleName||"","|",L.lastName,"|","|",ys(L.ssn||""),"|","|","|","|",L.relationship||"","|",L.monthsLivedWithYou?.toString()||"12","|",Jr(L.dateOfBirth)||"","|","|","|"].filter(Boolean).join("");return C(D)},Z=L=>{const D=L.payerInfo,v=L.extractedAmounts;switch(L.drakeFormType){case"w2":{const ne=[D?.ein?.replace(/\D/g,"")||"","|",D?.name||"","|",D?.address||"","|",(D?.city||"")+" "+(D?.state||""),"|",D?.zip||"","|","|","|","|","|",v?.wages?.toString()||"","|",v?.wages?.toString()||"","|",v?.federalTaxWithheld?.toString()||"","|",v?.federalTaxWithheld?.toString()||"","|"].join("");return C(ne)}case"1099_nec":{const ne=[D?.ein?.replace(/\D/g,"")||"","|",D?.name||"","|",D?.address||"","|",(D?.city||"")+" "+(D?.state||""),"|",D?.zip||"","|","|",v?.nonEmployeeCompensation?.toString()||"","|",v?.nonEmployeeCompensation?.toString()||"","|",v?.federalTaxWithheld1099?.toString()||"","|"].join("");return C(ne)}case"1099_misc":{const ne=[D?.ein?.replace(/\D/g,"")||"","|",D?.name||"","|",D?.address||"","|",(D?.city||"")+" "+(D?.state||""),"|",D?.zip||"","|","|",v?.rents?.toString()||"","|",v?.royalties?.toString()||"","|",v?.otherIncome?.toString()||"","|",v?.federalTaxWithheld1099?.toString()||"","|"].join("");return C(ne)}case"1099_int":{const ne=[D?.ein?.replace(/\D/g,"")||"","|",D?.name||"","|",D?.address||"","|",(D?.city||"")+" "+(D?.state||""),"|",D?.zip||"","|","|",v?.interestIncome?.toString()||"","|",v?.interestIncome?.toString()||"","|"].join("");return C(ne)}case"1099_div":{const ne=[D?.ein?.replace(/\D/g,"")||"","|",D?.name||"","|",D?.address||"","|",(D?.city||"")+" "+(D?.state||""),"|",D?.zip||"","|","|",v?.ordinaryDividends?.toString()||"","|",v?.qualifiedDividends?.toString()||"","|",v?.capitalGainDistributions?.toString()||"","|"].join("");return C(ne)}case"1098":{const ne=[D?.ein?.replace(/\D/g,"")||"","|",D?.name||"","|",D?.address||"","|",(D?.city||"")+" "+(D?.state||""),"|",D?.zip||"","|","|",v?.mortgageInterest?.toString()||"","|",v?.outstandingPrincipal?.toString()||"","|",v?.pointsPaid?.toString()||"","|"].join("");return C(ne)}case"1098_t":{const ne=[D?.ein?.replace(/\D/g,"")||"","|",D?.name||"","|",D?.address||"","|",(D?.city||"")+" "+(D?.state||""),"|",D?.zip||"","|","|",v?.paymentsReceived?.toString()||"","|",v?.scholarshipsGrants?.toString()||"","|"].join("");return C(ne)}default:{const ne=[D?.ein?.replace(/\D/g,"")||"","|",D?.name||"","|",D?.address||"","|",(D?.city||"")+" "+(D?.state||""),"|",D?.zip||"","|","|",v?.totalAmount?.toString()||"","|"].join("");return C(ne)}}},ge=L=>({w2:"W-2","1099_nec":"1099-NEC","1099_misc":"1099-MISC","1099_int":"1099-INT","1099_div":"1099-DIV",1098:"1098","1098_t":"1098-T",schedule_k1:"Schedule K-1",receipt:"Receipt",other:"Document"})[L.drakeFormType||"other"]||"Document",x=async()=>{w(!0);const L=[];try{const D=te(),v=await Ps.toDataURL(D,{width:140,margin:2,errorCorrectionLevel:"M",color:{dark:"#000000",light:"#ffffff"}});L.push({label:"Taxpayer Init",sublabel:`SS, ${e.client.firstName},  ${e.client.lastName}`,dataUrl:v,section:"taxpayer"});const ne=E(),k=await Ps.toDataURL(ne,{width:140,margin:2,errorCorrectionLevel:"M",color:{dark:"#000000",light:"#ffffff"}});L.push({label:"Taxpayer Full Name",sublabel:`${e.client.firstName} ${e.client.lastName}`,dataUrl:k,section:"taxpayer"});const Ze=H(),O=await Ps.toDataURL(Ze,{width:140,margin:2,errorCorrectionLevel:"M",color:{dark:"#000000",light:"#ffffff"}});if(L.push({label:"Taxpayer Info session",sublabel:`${e.client.firstName} ${e.client.lastName}`,dataUrl:O,section:"taxpayer"}),e.client.filingStatus==="married_filing_jointly"){const fe=se(),ye=await Ps.toDataURL(fe,{width:140,margin:2,errorCorrectionLevel:"M",color:{dark:"#000000",light:"#ffffff"}});L.push({label:"Spouse session",sublabel:`${e.client?.spouse?.firstName} ${e.client.spouse?.lastName}`,dataUrl:ye,section:"taxpayer"})}const he=F(),$e=await Ps.toDataURL(he,{width:140,margin:2,errorCorrectionLevel:"M",color:{dark:"#000000",light:"#ffffff"}});L.push({label:"Taxpayer Address session",sublabel:`${e.client.address}, ${e.client.zipCode}`,dataUrl:$e,section:"taxpayer"});for(const fe of e.dependents){const ye=r(fe),Ce=await Ps.toDataURL(ye,{width:140,margin:2,errorCorrectionLevel:"M",color:{dark:"#000000",light:"#ffffff"}});L.push({label:"Dependent",sublabel:`${fe.firstName} ${fe.lastName}`,dataUrl:Ce,section:"dependent"})}for(const fe of e.documents){const ye=Z(fe),Ce=await Ps.toDataURL(ye,{width:140,margin:2,errorCorrectionLevel:"M",color:{dark:"#000000",light:"#ffffff"}});L.push({label:ge(fe),sublabel:fe.payerInfo?.name||fe.originalFileName,dataUrl:Ce,section:"document"})}o(L)}catch(D){Qe("QR generation error:",D)}w(!1)};Fs(gn(()=>e.isOpen,L=>{L&&(o([]),x())}));const W=()=>{window.print()},$=()=>y().filter(L=>L.section==="taxpayer"),Y=()=>y().filter(L=>L.section==="dependent"),c=()=>y().filter(L=>L.section==="document");return n(p,{get when(){return e.isOpen},get children(){return[d0(),(()=>{var L=y0();return tn(L,"click",e.onClose,!0),L.style.setProperty("position","fixed"),L.style.setProperty("inset","0"),L.style.setProperty("background","rgba(0,0,0,0.5)"),L.style.setProperty("z-index","9998"),L})(),(()=>{var L=v0(),D=L.firstChild,v=D.firstChild,ne=v.firstChild,k=ne.nextSibling;k.nextSibling;var Ze=v.nextSibling,O=Ze.firstChild,he=O.nextSibling,$e=D.nextSibling;return L.style.setProperty("position","fixed"),L.style.setProperty("top","50%"),L.style.setProperty("left","50%"),L.style.setProperty("transform","translate(-50%, -50%)"),L.style.setProperty("background","white"),L.style.setProperty("border-radius","12px"),L.style.setProperty("width","90vw"),L.style.setProperty("max-width","90vw"),L.style.setProperty("max-height","90vh"),L.style.setProperty("overflow","auto"),L.style.setProperty("z-index","9999"),D.style.setProperty("padding","1rem 1.5rem"),D.style.setProperty("background","#1e3a5f"),D.style.setProperty("color","white"),D.style.setProperty("display","flex"),D.style.setProperty("justify-content","space-between"),D.style.setProperty("align-items","center"),D.style.setProperty("position","sticky"),D.style.setProperty("top","0"),D.style.setProperty("z-index","10"),v.style.setProperty("font-weight","600"),v.style.setProperty("font-size","1.125rem"),t(v,()=>e.client.firstName,k),t(v,()=>e.client.lastName,null),Ze.style.setProperty("display","flex"),Ze.style.setProperty("gap","0.75rem"),O.$$click=W,O.style.setProperty("padding","0.5rem 1rem"),O.style.setProperty("background","#3b82f6"),O.style.setProperty("color","white"),O.style.setProperty("border","none"),O.style.setProperty("border-radius","6px"),O.style.setProperty("cursor","pointer"),O.style.setProperty("font-weight","500"),tn(he,"click",e.onClose,!0),he.style.setProperty("background","none"),he.style.setProperty("border","none"),he.style.setProperty("color","white"),he.style.setProperty("cursor","pointer"),he.style.setProperty("font-size","1.5rem"),he.style.setProperty("line-height","1"),$e.style.setProperty("padding","1.5rem"),t($e,n(p,{get when(){return h()},get children(){var fe=c0();return fe.style.setProperty("text-align","center"),fe.style.setProperty("padding","3rem"),fe.style.setProperty("color","#666"),fe}}),null),t($e,n(p,{get when(){return!h()},get children(){return[(()=>{var fe=p0(),ye=fe.firstChild,Ce=ye.nextSibling,Xe=Ce.firstChild,nt=Xe.nextSibling;return nt.nextSibling,fe.style.setProperty("text-align","center"),fe.style.setProperty("margin-bottom","1.5rem"),ye.style.setProperty("margin","0"),ye.style.setProperty("font-size","1.5rem"),ye.style.setProperty("color","#1e3a5f"),Ce.style.setProperty("margin","0.5rem 0 0"),Ce.style.setProperty("color","#666"),t(Ce,()=>e.client.firstName,Xe),t(Ce,()=>e.client.lastName,nt),t(Ce,()=>e.client.taxYear||new Date().getFullYear(),null),fe})(),n(p,{get when(){return $().length>0},get children(){var fe=u0(),ye=fe.firstChild,Ce=ye.nextSibling;return fe.style.setProperty("margin-bottom","2rem"),ye.style.setProperty("font-size","1rem"),ye.style.setProperty("font-weight","600"),ye.style.setProperty("color","#374151"),ye.style.setProperty("border-bottom","2px solid #e5e7eb"),ye.style.setProperty("padding-bottom","0.5rem"),ye.style.setProperty("margin-bottom","1rem"),Ce.style.setProperty("display","grid"),Ce.style.setProperty("grid-template-columns","repeat(auto-fill, minmax(160px, 1fr))"),Ce.style.setProperty("gap","1.5rem"),t(Ce,n(Ht,{get each(){return $()},children:Xe=>(()=>{var nt=Nn(),ot=nt.firstChild,qe=ot.nextSibling;return nt.style.setProperty("text-align","center"),nt.style.setProperty("padding","1rem"),nt.style.setProperty("border","1px solid #e5e7eb"),nt.style.setProperty("border-radius","8px"),nt.style.setProperty("background","#fafafa"),ot.style.setProperty("width","140px"),ot.style.setProperty("height","140px"),qe.style.setProperty("margin-top","0.75rem"),qe.style.setProperty("font-weight","600"),qe.style.setProperty("font-size","0.875rem"),qe.style.setProperty("color","#1e3a5f"),t(qe,()=>Xe.label),t(nt,n(p,{get when(){return Xe.sublabel},get children(){var gt=An();return gt.style.setProperty("font-size","0.75rem"),gt.style.setProperty("color","#6b7280"),gt.style.setProperty("margin-top","0.25rem"),t(gt,()=>Xe.sublabel),gt}}),null),f(gt=>{var ke=Xe.dataUrl,Ye=Xe.label;return ke!==gt.e&&es(ot,"src",gt.e=ke),Ye!==gt.t&&es(ot,"alt",gt.t=Ye),gt},{e:void 0,t:void 0}),nt})()})),fe}}),n(p,{get when(){return Y().length>0},get children(){var fe=m0(),ye=fe.firstChild,Ce=ye.firstChild,Xe=Ce.nextSibling;Xe.nextSibling;var nt=ye.nextSibling;return fe.style.setProperty("margin-bottom","2rem"),ye.style.setProperty("font-size","1rem"),ye.style.setProperty("font-weight","600"),ye.style.setProperty("color","#374151"),ye.style.setProperty("border-bottom","2px solid #e5e7eb"),ye.style.setProperty("padding-bottom","0.5rem"),ye.style.setProperty("margin-bottom","1rem"),t(ye,()=>Y().length,Xe),nt.style.setProperty("display","grid"),nt.style.setProperty("grid-template-columns","repeat(auto-fill, minmax(160px, 1fr))"),nt.style.setProperty("gap","1.5rem"),t(nt,n(Ht,{get each(){return Y()},children:ot=>(()=>{var qe=Nn(),gt=qe.firstChild,ke=gt.nextSibling;return qe.style.setProperty("text-align","center"),qe.style.setProperty("padding","1rem"),qe.style.setProperty("border","1px solid #e5e7eb"),qe.style.setProperty("border-radius","8px"),qe.style.setProperty("background","#fafafa"),gt.style.setProperty("width","140px"),gt.style.setProperty("height","140px"),ke.style.setProperty("margin-top","0.75rem"),ke.style.setProperty("font-weight","600"),ke.style.setProperty("font-size","0.875rem"),ke.style.setProperty("color","#1e3a5f"),t(ke,()=>ot.label),t(qe,n(p,{get when(){return ot.sublabel},get children(){var Ye=An();return Ye.style.setProperty("font-size","0.75rem"),Ye.style.setProperty("color","#6b7280"),Ye.style.setProperty("margin-top","0.25rem"),t(Ye,()=>ot.sublabel),Ye}}),null),f(Ye=>{var xt=ot.dataUrl,Ee=ot.label;return xt!==Ye.e&&es(gt,"src",Ye.e=xt),Ee!==Ye.t&&es(gt,"alt",Ye.t=Ee),Ye},{e:void 0,t:void 0}),qe})()})),fe}}),n(p,{get when(){return c().length>0},get children(){var fe=g0(),ye=fe.firstChild,Ce=ye.firstChild,Xe=Ce.nextSibling;Xe.nextSibling;var nt=ye.nextSibling;return fe.style.setProperty("margin-bottom","2rem"),ye.style.setProperty("font-size","1rem"),ye.style.setProperty("font-weight","600"),ye.style.setProperty("color","#374151"),ye.style.setProperty("border-bottom","2px solid #e5e7eb"),ye.style.setProperty("padding-bottom","0.5rem"),ye.style.setProperty("margin-bottom","1rem"),t(ye,()=>c().length,Xe),nt.style.setProperty("display","grid"),nt.style.setProperty("grid-template-columns","repeat(auto-fill, minmax(160px, 1fr))"),nt.style.setProperty("gap","1.5rem"),t(nt,n(Ht,{get each(){return c()},children:ot=>(()=>{var qe=Nn(),gt=qe.firstChild,ke=gt.nextSibling;return qe.style.setProperty("text-align","center"),qe.style.setProperty("padding","1rem"),qe.style.setProperty("border","1px solid #e5e7eb"),qe.style.setProperty("border-radius","8px"),qe.style.setProperty("background","#fafafa"),gt.style.setProperty("width","140px"),gt.style.setProperty("height","140px"),ke.style.setProperty("margin-top","0.75rem"),ke.style.setProperty("font-weight","600"),ke.style.setProperty("font-size","0.875rem"),ke.style.setProperty("color","#1e3a5f"),t(ke,()=>ot.label),t(qe,n(p,{get when(){return ot.sublabel},get children(){var Ye=An();return Ye.style.setProperty("font-size","0.75rem"),Ye.style.setProperty("color","#6b7280"),Ye.style.setProperty("margin-top","0.25rem"),Ye.style.setProperty("max-width","180px"),Ye.style.setProperty("overflow","hidden"),Ye.style.setProperty("text-overflow","ellipsis"),Ye.style.setProperty("white-space","nowrap"),Ye.style.setProperty("margin","0.25rem auto 0"),t(Ye,()=>ot.sublabel),Ye}}),null),f(Ye=>{var xt=ot.dataUrl,Ee=ot.label;return xt!==Ye.e&&es(gt,"src",Ye.e=xt),Ee!==Ye.t&&es(gt,"alt",Ye.t=Ee),Ye},{e:void 0,t:void 0}),qe})()})),fe}}),n(p,{get when(){return bt(()=>y().length===0)()&&!h()},get children(){var fe=f0();return fe.style.setProperty("text-align","center"),fe.style.setProperty("padding","3rem"),fe.style.setProperty("color","#666"),fe}}),n(p,{get when(){return y().length>0},get children(){var fe=h0(),ye=fe.firstChild,Ce=ye.nextSibling,Xe=Ce.nextSibling,nt=Xe.nextSibling,ot=nt.nextSibling,qe=ot.nextSibling,gt=qe.nextSibling;return gt.nextSibling,fe.style.setProperty("margin-top","2rem"),fe.style.setProperty("padding","1rem"),fe.style.setProperty("background","#f8fafc"),fe.style.setProperty("border-radius","8px"),fe.style.setProperty("font-size","0.875rem"),fe.style.setProperty("color","#64748b"),t(fe,()=>$().length,Xe),t(fe,()=>Y().length,ot),t(fe,()=>c().length,gt),fe}})]}}),null),L})()]}})};is(["click"]);const Eo={en:{title:"QR Codes for Drake Tax Import",subtitle:"Tax Return",taxpayerSection:"Taxpayer Information",spouseSection:"Spouse Information",dependentsSection:"Dependents",idSection:"ID Information",bankSection:"Bank Account",documentsSection:"Tax Documents",generatedOn:"Generated on",summary:"Summary",taxpayer:"taxpayer",spouse:"spouse",dependents:"dependent(s)",documents:"document(s)",scanInstructions:"Scan these QR codes with Drake Tax software to auto-fill client information.",noQRCodes:"No QR codes available",taxpayerInit:"Taxpayer Init",taxpayerFullName:"Full Name",taxpayerInfo:"Taxpayer Info",taxpayerAddress:"Address",spouseInfo:"Spouse Info",dependent:"Dependent",idInfo:"ID Info",bankInfo:"Bank Info"},es:{title:"C贸digos QR para Importaci贸n Drake Tax",subtitle:"Declaraci贸n de Impuestos",taxpayerSection:"Informaci贸n del Contribuyente",spouseSection:"Informaci贸n del C贸nyuge",dependentsSection:"Dependientes",idSection:"Informaci贸n de Identificaci贸n",bankSection:"Cuenta Bancaria",documentsSection:"Documentos Fiscales",generatedOn:"Generado el",summary:"Resumen",taxpayer:"contribuyente",spouse:"c贸nyuge",dependents:"dependiente(s)",documents:"documento(s)",scanInstructions:"Escanee estos c贸digos QR con el software Drake Tax para completar autom谩ticamente la informaci贸n del cliente.",noQRCodes:"No hay c贸digos QR disponibles",taxpayerInit:"Inicio Contribuyente",taxpayerFullName:"Nombre Completo",taxpayerInfo:"Info Contribuyente",taxpayerAddress:"Direcci贸n",spouseInfo:"Info C贸nyuge",dependent:"Dependiente",idInfo:"Info ID",bankInfo:"Info Banco"}},zr=e=>e.replace(/\|/g,"	").toUpperCase(),P0=e=>{const y=[ys(e.ssn||""),"|",ys(e.ssn||""),"|",e.firstName,"|",e.lastName].join("");return zr(y)},x0=e=>{const y=[e.firstName+(e.middleName?" "+e?.middleName?.[0]+" ":" ")+e.lastName||"","|"].join("");return zr(y)},$0=e=>{const y=["|",Jr(e.dateOfBirth)||"","|",e.occupation||"","|","|",e.phone||""].join("");return zr(y)},S0=e=>{const y=[e.address||"","|","|","|",e.zipCode||""].join("");return zr(y)},w0=e=>{const y=[e.spouse?.firstName,"|",e.spouse?.middleName||"","|",e.spouse?.lastName,"|","|",ys(e.spouse?.ssn),"|","|",Jr(e.spouse?.dateOfBirth)||"","|",e.spouse?.occupation||"","|","|",e.spouse?.phone||"","|"].join("");return zr(y)},C0=e=>{const y=[e.spouse?.firstName+(e.spouse?.middleName?" "+e.spouse?.middleName?.[0]+" ":" ")+e.spouse?.lastName||"","|"].join("");return zr(y)},xo=e=>{const y=[e.firstName,"|",e.middleName||"","|",e.lastName,"|","|",ys(e.ssn||""),"|","|","|","|",e.relationship||"","|",e.monthsLivedWithYou?.toString()||"12","|",Jr(e.dateOfBirth)||"","|"].filter(Boolean).join("");return zr(y)},_0=e=>{const y=[e.idInfo?.idNumber||"","|",e.idInfo?.idState||"","|",Jr(e.idInfo?.issueDate)||"","|","|",Jr(e.idInfo?.expirationDate)||"","|"].join("");return zr(y)},k0=e=>{const y=[e.bankInfo?.bankName||"","|",e.bankInfo?.routingNumber||"","|",e.bankInfo?.routingNumber||"","|",e.bankInfo?.accountNumber||"","|",e.bankInfo?.accountNumber||""].join("");return zr(y)},I0=e=>{const y=e.payerInfo,o=e.extractedAmounts;switch(e.drakeFormType){case"w2":{const h=[y?.ein?.replace(/\D/g,"")||"","|",y?.name||"","|",y?.address||"","|",(y?.city||"")+" "+(y?.state||""),"|",y?.zip||"","|","|","|","|","|",o?.wages?.toString()||"","|",o?.wages?.toString()||"","|",o?.federalTaxWithheld?.toString()||"","|",o?.federalTaxWithheld?.toString()||"","|"].join("");return zr(h)}case"1099_nec":{const h=[y?.ein?.replace(/\D/g,"")||"","|",y?.name||"","|",y?.address||"","|",(y?.city||"")+" "+(y?.state||""),"|",y?.zip||"","|","|",o?.nonEmployeeCompensation?.toString()||"","|",o?.nonEmployeeCompensation?.toString()||"","|",o?.federalTaxWithheld1099?.toString()||"","|"].join("");return zr(h)}case"1099_misc":{const h=[y?.ein?.replace(/\D/g,"")||"","|",y?.name||"","|",y?.address||"","|",(y?.city||"")+" "+(y?.state||""),"|",y?.zip||"","|","|",o?.rents?.toString()||"","|",o?.royalties?.toString()||"","|",o?.otherIncome?.toString()||"","|",o?.federalTaxWithheld1099?.toString()||"","|"].join("");return zr(h)}case"1099_int":{const h=[y?.ein?.replace(/\D/g,"")||"","|",y?.name||"","|",y?.address||"","|",(y?.city||"")+" "+(y?.state||""),"|",y?.zip||"","|","|",o?.interestIncome?.toString()||"","|",o?.interestIncome?.toString()||"","|"].join("");return zr(h)}case"1099_div":{const h=[y?.ein?.replace(/\D/g,"")||"","|",y?.name||"","|",y?.address||"","|",(y?.city||"")+" "+(y?.state||""),"|",y?.zip||"","|","|",o?.ordinaryDividends?.toString()||"","|",o?.qualifiedDividends?.toString()||"","|",o?.capitalGainDistributions?.toString()||"","|"].join("");return zr(h)}case"1098":{const h=[y?.ein?.replace(/\D/g,"")||"","|",y?.name||"","|",y?.address||"","|",(y?.city||"")+" "+(y?.state||""),"|",y?.zip||"","|","|",o?.mortgageInterest?.toString()||"","|",o?.outstandingPrincipal?.toString()||"","|",o?.pointsPaid?.toString()||"","|"].join("");return zr(h)}case"1098_t":{const h=[y?.ein?.replace(/\D/g,"")||"","|",y?.name||"","|",y?.address||"","|",(y?.city||"")+" "+(y?.state||""),"|",y?.zip||"","|","|",o?.paymentsReceived?.toString()||"","|",o?.scholarshipsGrants?.toString()||"","|"].join("");return zr(h)}case"1099_g":{const h=[y?.ein?.replace(/\D/g,"")||"","|",y?.name||"","|",y?.address||"","|",(y?.city||"")+" "+(y?.state||""),"|",y?.zip||"","|","|",o?.unemploymentCompensation?.toString()||"","|",o?.federalIncomeTaxWithheld?.toString()||"","|"].join("");return zr(h)}case"1099_k":{const h=[y?.ein?.replace(/\D/g,"")||"","|",y?.name||o?.pseName||"","|",y?.address||"","|",(y?.city||"")+" "+(y?.state||""),"|",y?.zip||"","|","|",o?.grossAmount1099K?.toString()||"","|",o?.cardNotPresentTransactions?.toString()||"","|",o?.numberOfTransactions?.toString()||"","|",o?.federalTaxWithheld1099K?.toString()||"","|"].join("");return zr(h)}default:{const h=[y?.ein?.replace(/\D/g,"")||"","|",y?.name||"","|",y?.address||"","|",(y?.city||"")+" "+(y?.state||""),"|",y?.zip||"","|","|",o?.totalAmount?.toString()||"","|"].join("");return zr(h)}}},T0=e=>({w2:"W-2","1099_nec":"1099-NEC","1099_misc":"1099-MISC","1099_int":"1099-INT","1099_div":"1099-DIV","1099_g":"1099-G","1099_k":"1099-K",1098:"1098","1098_t":"1098-T",schedule_k1:"Schedule K-1",receipt:"Receipt",other:"Document"})[e.drakeFormType||"other"]||"Document",Dr=async e=>Ps.toDataURL(e,{width:120,margin:2,errorCorrectionLevel:"M",color:{dark:"#000000",light:"#ffffff"}}),A0=async(e,y,o,h,w)=>{const C=Eo[o],te=[];te.push({label:C.taxpayerInit,sublabel:`SSN, ${e.firstName}, ${e.lastName}`,dataUrl:await Dr(P0(e)),section:"taxpayer"}),te.push({label:C.taxpayerFullName,sublabel:`${e.firstName} ${e.middleName||""} ${e.lastName}`.trim(),dataUrl:await Dr(x0(e)),section:"taxpayer"}),te.push({label:C.taxpayerInfo,sublabel:"DOB, Occupation, Phone",dataUrl:await Dr($0(e)),section:"taxpayer"}),te.push({label:C.taxpayerAddress,sublabel:`${e.address||""}, ${e.zipCode||""}`,dataUrl:await Dr(S0(e)),section:"taxpayer"}),(e.filingStatus==="married_filing_jointly"||e.filingStatus==="married_filing_separately")&&e.spouse?.firstName&&(te.push({label:C.spouseInfo,sublabel:`${e.spouse.firstName} ${e.spouse.lastName||""}`,dataUrl:await Dr(w0(e)),section:"spouse"}),te.push({label:C.taxpayerFullName,sublabel:`${e.spouse.firstName} ${e.spouse.lastName||""}`,dataUrl:await Dr(C0(e)),section:"spouse"}));for(const E of e.dependents||[])te.push({label:C.dependent,sublabel:`${E.firstName} ${E.lastName||""}`,dataUrl:await Dr(xo(E)),section:"dependent"});if(e.filingStatus==="married_filing_jointly"&&h?.dependents)for(const E of h.dependents)(e.dependents||[]).some(se=>se.ssn&&E.ssn&&se.ssn===E.ssn||se.firstName?.toLowerCase()===E.firstName?.toLowerCase()&&se.lastName?.toLowerCase()===E.lastName?.toLowerCase())||te.push({label:`${C.dependent} (${C.spouse})`,sublabel:`${E.firstName} ${E.lastName||""}`,dataUrl:await Dr(xo(E)),section:"dependent"});e.idInfo?.idNumber&&te.push({label:C.idInfo,sublabel:`${e.idInfo.idState||""} - ${e.idInfo.idNumber}`,dataUrl:await Dr(_0(e)),section:"id"}),e.bankInfo?.accountNumber&&te.push({label:C.bankInfo,sublabel:`${e.bankInfo.bankName||""} - ****${e.bankInfo.accountNumber.slice(-4)}`,dataUrl:await Dr(k0(e)),section:"bank"});for(const E of y)if(E.verified&&E.drakeFormType){const H=await $o(E);te.push(...H)}if(e.filingStatus==="married_filing_jointly"&&w?.length){for(const E of w)if(E.verified&&E.drakeFormType){const H=await $o(E,"(Spouse)");te.push(...H)}}return te},$o=async(e,y)=>{const o=[],h=e.payerInfo||{},w=e.extractedAmounts||{},C=T0(e),te=h.name||e.originalFileName||"Unknown",E=y?`${C} | ${te} ${y}`:`${C} | ${te}`,H=zr([h.ein||"","|",h.name||"","|",h.address||"","|",(h.city||"")+" "+(h.state||""),"|",h.zip||"","|"].join(""));switch(e.drakeFormType){case"w2":{o.push({label:"Payer Info",sublabel:`EIN: ${h.ein||"N/A"}`,dataUrl:await Dr(H),section:"document",documentGroup:E});const se=zr([w.wages||"","|",w.wages||"","|",w.federalTaxWithheld||"","|",w.federalTaxWithheld||"","|",w.socialSecurityWages||"","|",w.socialSecurityTax||"","|",w.medicareWages||"","|",w.medicareTax||"","|"].join(""));if(o.push({label:"Federal Amounts",sublabel:`Wages: $${(w.wages||0).toLocaleString()}`,dataUrl:await Dr(se),section:"document",documentGroup:E}),w.stateWages||w.stateTaxWithheld){const F=zr([w.employerStateId||"","|",w.stateWages||"","|",w.stateWages||"","|",w.stateTaxWithheld||"","|",w.stateTaxWithheld||"","|",w.localWages||"","|",w.localTaxWithheld||"","|"].join(""));o.push({label:"State/Local",sublabel:`State Tax: $${(w.stateTaxWithheld||0).toLocaleString()}`,dataUrl:await Dr(F),section:"document",documentGroup:E})}break}case"1099_nec":{const se=zr([h.ein||"","|","|",h.name||"","|","|",h.address||"","|",(h.zip||"").split("-")?.[0]||"","|","|","|","|","|","|","|","|","|","|","|","|","|",w.nonEmployeeCompensation||"","|","|","|","|",w.federalTaxWithheld1099||w.federalTaxWithheld||"","|"].join(""));o.push({label:"Full Form",sublabel:`NEC: $${(w.nonEmployeeCompensation||0).toLocaleString()}`,dataUrl:await Dr(se),section:"document",documentGroup:E});break}case"1099_int":{o.push({label:"Payer Info",sublabel:`EIN: ${h.ein||"N/A"}`,dataUrl:await Dr(H),section:"document",documentGroup:E});const se=zr([w.interestIncome||"","|",w.interestIncome||"","|",w.earlyWithdrawalPenalty||"","|",w.federalTaxWithheld1099||w.federalTaxWithheld||"","|",w.taxExemptInterest||"","|"].join(""));o.push({label:"Interest Amounts",sublabel:`Interest: $${(w.interestIncome||0).toLocaleString()}`,dataUrl:await Dr(se),section:"document",documentGroup:E});break}case"1099_div":{o.push({label:"Payer Info",sublabel:`EIN: ${h.ein||"N/A"}`,dataUrl:await Dr(H),section:"document",documentGroup:E});const se=zr([w.ordinaryDividends||"","|",w.qualifiedDividends||"","|",w.capitalGainDistributions||w.capitalGains||"","|",w.federalTaxWithheld1099||w.federalTaxWithheld||"","|"].join(""));o.push({label:"Dividend Amounts",sublabel:`Ordinary: $${(w.ordinaryDividends||0).toLocaleString()}`,dataUrl:await Dr(se),section:"document",documentGroup:E});break}case"1099_g":{o.push({label:"Payer Info",sublabel:`EIN: ${h.ein||"N/A"}`,dataUrl:await Dr(H),section:"document",documentGroup:E});const se=zr([w.unemploymentCompensation||"","|",w.stateIncomeTaxRefund||"","|",w.taxYear||"","|",w.federalIncomeTaxWithheld||w.federalTaxWithheld||"","|",w.stateTaxWithheld||"","|"].join(""));o.push({label:"Amounts",sublabel:`Unemployment: $${(w.unemploymentCompensation||0).toLocaleString()}`,dataUrl:await Dr(se),section:"document",documentGroup:E});break}case"1099_misc":{o.push({label:"Payer Info",sublabel:`EIN: ${h.ein||"N/A"}`,dataUrl:await Dr(H),section:"document",documentGroup:E});const se=zr([w.rents||"","|",w.royalties||"","|",w.otherIncome||"","|",w.federalTaxWithheld1099||w.federalTaxWithheld||"","|"].join(""));o.push({label:"Income Amounts",sublabel:`Other: $${(w.otherIncome||0).toLocaleString()}`,dataUrl:await Dr(se),section:"document",documentGroup:E});break}case"1098":{o.push({label:"Lender Info",sublabel:`EIN: ${h.ein||"N/A"}`,dataUrl:await Dr(H),section:"document",documentGroup:E});const se=zr([w.mortgageInterest||"","|",w.outstandingPrincipal||"","|",w.pointsPaid||"","|",w.mortgageInsurance||"","|",w.propertyTaxes||"","|"].join(""));o.push({label:"Mortgage Amounts",sublabel:`Interest: $${(w.mortgageInterest||0).toLocaleString()}`,dataUrl:await Dr(se),section:"document",documentGroup:E});break}case"1098_t":{o.push({label:"School Info",sublabel:`EIN: ${h.ein||"N/A"}`,dataUrl:await Dr(H),section:"document",documentGroup:E});const se=zr([w.paymentsReceived||w.tuitionPaid||"","|",w.scholarshipsGrants||"","|",w.adjustments||"","|"].join(""));o.push({label:"Tuition Amounts",sublabel:`Paid: $${(w.paymentsReceived||w.tuitionPaid||0).toLocaleString()}`,dataUrl:await Dr(se),section:"document",documentGroup:E});break}case"1099_k":{o.push({label:"PSE Info",sublabel:`EIN: ${h.ein||"N/A"}`,dataUrl:await Dr(H),section:"document",documentGroup:E});const se=zr([w.grossAmount1099K||"","|",w.cardNotPresentTransactions||"","|",w.numberOfTransactions||"","|",w.federalTaxWithheld1099K||"","|"].join(""));o.push({label:"Payment Amounts",sublabel:`Gross: $${(w.grossAmount1099K||0).toLocaleString()}`,dataUrl:await Dr(se),section:"document",documentGroup:E});const F=w.monthlyGrossAmounts;if(F){const r=zr([F.january||"","|",F.february||"","|",F.march||"","|",F.april||"","|",F.may||"","|",F.june||"","|",F.july||"","|",F.august||"","|",F.september||"","|",F.october||"","|",F.november||"","|",F.december||"","|"].join(""));o.push({label:"Monthly Amounts",sublabel:"Jan-Dec breakdown",dataUrl:await Dr(r),section:"document",documentGroup:E})}if(w.stateAbbreviation1099K||w.stateTaxWithheld1099K){const r=zr([w.stateAbbreviation1099K||"","|",w.stateIdNumber1099K||"","|",w.stateTaxWithheld1099K||"","|"].join(""));o.push({label:"State Info",sublabel:w.stateAbbreviation1099K||"State",dataUrl:await Dr(r),section:"document",documentGroup:E})}break}default:o.push({label:C,sublabel:te,dataUrl:await Dr(I0(e)),section:"document",documentGroup:E})}return o},N0=async(e,y,o="en",h,w)=>{const C=Eo[o],te=[e.firstName,e.middleName,e.lastName].filter(Boolean).join(" ")||"Client",E=new Date().toLocaleDateString(o==="es"?"es-ES":"en-US",{month:"long",day:"numeric",year:"numeric"}),H=await A0(e,y,o,h,w),se=H.filter(Y=>Y.section==="taxpayer"),F=H.filter(Y=>Y.section==="spouse"),r=H.filter(Y=>Y.section==="dependent"),Z=H.filter(Y=>Y.section==="id"),ge=H.filter(Y=>Y.section==="bank"),x=H.filter(Y=>Y.section==="document"),W=Y=>Y.map(c=>`
      <div class="qr-item">
        <img src="${c.dataUrl}" alt="${c.label}" />
        <div class="qr-label">${c.label}</div>
        ${c.sublabel?`<div class="qr-sublabel">${c.sublabel}</div>`:""}
      </div>
    `).join(""),$=Y=>{const c=new Map;for(const L of Y){const D=L.documentGroup||"Other Documents";c.has(D)||c.set(D,[]),c.get(D).push(L)}return Array.from(c.entries()).map(([L,D])=>`
      <div class="document-group">
        <div class="document-group-header">${L}</div>
        <div class="qr-grid">
          ${W(D)}
        </div>
      </div>
    `).join("")};return`
<!DOCTYPE html>
<html lang="${o}">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>${C.title} - ${te}</title>
  <style>
    @page { margin: 0.5in; }
    * { box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Ubuntu, sans-serif;
      font-size: 14px;
      line-height: 1.5;
      color: #1a1a1a;
      background: #f0f0eb;
      margin: 0;
      padding: 24px;
    }
    .container { max-width: 900px; margin: 0 auto; }
    .header {
      text-align: center;
      padding: 32px 24px;
      background: linear-gradient(135deg, #1e3a5f 0%, #2d5a87 100%);
      color: white;
      border-radius: 12px;
      margin-bottom: 20px;
    }
    .header h1 { margin: 0 0 8px 0; font-size: 24px; font-weight: 600; }
    .header p { margin: 0; opacity: 0.9; font-size: 14px; }
    .instructions {
      background: #eff6ff;
      border: 1px solid #bfdbfe;
      border-radius: 8px;
      padding: 12px 16px;
      margin-bottom: 20px;
      color: #1e40af;
      font-size: 13px;
      text-align: center;
    }
    .section {
      background: #ffffff;
      border: 1px solid #e3e8ee;
      border-radius: 12px;
      margin-bottom: 20px;
      overflow: hidden;
      page-break-inside: avoid;
    }
    .section-header {
      padding: 14px 20px;
      font-weight: 600;
      font-size: 15px;
      color: #1e3a5f;
      background: #f8fafc;
      border-bottom: 1px solid #e3e8ee;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .section-header .count {
      background: #1e3a5f;
      color: white;
      font-size: 11px;
      padding: 2px 8px;
      border-radius: 10px;
    }
    .qr-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      gap: 20px;
      padding: 20px;
    }
    .qr-item {
      text-align: center;
      padding: 16px;
      border: 1px solid #e5e7eb;
      border-radius: 10px;
      background: #fafbfc;
      transition: all 0.2s;
    }
    .qr-item:hover {
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      border-color: #1e3a5f;
    }
    .qr-item img {
      width: 120px;
      height: 120px;
      display: block;
      margin: 0 auto;
    }
    .qr-label {
      margin-top: 12px;
      font-weight: 600;
      font-size: 14px;
      color: #1e3a5f;
    }
    .qr-sublabel {
      font-size: 11px;
      color: #6b7280;
      margin-top: 4px;
      max-width: 180px;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      margin-left: auto;
      margin-right: auto;
    }
    .document-group {
      border-top: 1px solid #e5e7eb;
    }
    .document-group:first-child {
      border-top: none;
    }
    .document-group-header {
      background: #f0f9ff;
      padding: 10px 20px;
      font-weight: 600;
      font-size: 13px;
      color: #0369a1;
      border-bottom: 1px solid #e0f2fe;
    }
    .summary {
      background: #f8fafc;
      border: 1px solid #e3e8ee;
      border-radius: 8px;
      padding: 16px 20px;
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: center;
      margin-bottom: 20px;
    }
    .summary-item {
      text-align: center;
    }
    .summary-item .number {
      font-size: 24px;
      font-weight: 700;
      color: #1e3a5f;
    }
    .summary-item .label {
      font-size: 12px;
      color: #6b7280;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .footer {
      text-align: center;
      margin-top: 24px;
      font-size: 12px;
      color: #999999;
    }
    @media print {
      body { background: white; padding: 0; }
      .header { page-break-after: avoid; }
      .section { page-break-inside: avoid; }
      .qr-item { page-break-inside: avoid; }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <div class="header">
      <h1>${C.title}</h1>
      <p>${te} - ${C.subtitle} ${e.taxYear||new Date().getFullYear()}</p>
    </div>

    <!-- Instructions -->
    <div class="instructions">
      ${C.scanInstructions}
    </div>

    <!-- Summary -->
    <div class="summary">
      <div class="summary-item">
        <div class="number">${se.length}</div>
        <div class="label">${C.taxpayer}</div>
      </div>
      ${F.length>0?`
      <div class="summary-item">
        <div class="number">${F.length}</div>
        <div class="label">${C.spouse}</div>
      </div>
      `:""}
      ${r.length>0?`
      <div class="summary-item">
        <div class="number">${r.length}</div>
        <div class="label">${C.dependents}</div>
      </div>
      `:""}
      <div class="summary-item">
        <div class="number">${x.length}</div>
        <div class="label">${C.documents}</div>
      </div>
    </div>

    <!-- Taxpayer Section -->
    ${se.length>0?`
    <div class="section">
      <div class="section-header">
        ${C.taxpayerSection}
        <span class="count">${se.length}</span>
      </div>
      <div class="qr-grid">
        ${W(se)}
      </div>
    </div>
    `:""}

    <!-- Spouse Section -->
    ${F.length>0?`
    <div class="section">
      <div class="section-header">
        ${C.spouseSection}
        <span class="count">${F.length}</span>
      </div>
      <div class="qr-grid">
        ${W(F)}
      </div>
    </div>
    `:""}

    <!-- Dependents Section -->
    ${r.length>0?`
    <div class="section">
      <div class="section-header">
        ${C.dependentsSection}
        <span class="count">${r.length}</span>
      </div>
      <div class="qr-grid">
        ${W(r)}
      </div>
    </div>
    `:""}

    <!-- ID Section -->
    ${Z.length>0?`
    <div class="section">
      <div class="section-header">
        ${C.idSection}
        <span class="count">${Z.length}</span>
      </div>
      <div class="qr-grid">
        ${W(Z)}
      </div>
    </div>
    `:""}

    <!-- Bank Section -->
    ${ge.length>0?`
    <div class="section">
      <div class="section-header">
        ${C.bankSection}
        <span class="count">${ge.length}</span>
      </div>
      <div class="qr-grid">
        ${W(ge)}
      </div>
    </div>
    `:""}

    <!-- Documents Section -->
    ${x.length>0?`
    <div class="section">
      <div class="section-header">
        ${C.documentsSection}
        <span class="count">${x.length}</span>
      </div>
      ${$(x)}
    </div>
    `:""}

    <!-- Footer -->
    <div class="footer">
      ${C.generatedOn}: ${E}
    </div>
  </div>
</body>
</html>
`},z0=async(e,y,o="en",h,w)=>{const C=await N0(e,y,o,h,w),te=new Blob([C],{type:"text/html"}),E=URL.createObjectURL(te);window.open(E,"_blank"),setTimeout(()=>URL.revokeObjectURL(E),1e4)},D0={B:{label:"Copy B",description:"For Recipient",showVoidCheckbox:!1},1:{label:"Copy 1",description:"For State Tax Department",showVoidCheckbox:!0},2:{label:"Copy 2",description:"To be filed with recipient's state income tax return, when required.",showVoidCheckbox:!0}},R0=async(e,y=["B","2"])=>{if(!e.length)throw new Error("No 1099-NEC entries provided");const o=new Rn({orientation:"portrait",unit:"mm",format:"letter"}),h=o.internal.pageSize.getWidth();o.internal.pageSize.getHeight();const w=10,C=h-2*w,te=C*.45,E=C*.32,H=C*.23,se=(v,ne=w,k=h-w,Ze=.2)=>{o.setDrawColor(0),o.setLineWidth(Ze),o.line(ne,v,k,v)},F=(v,ne,k,Ze=.2)=>{o.setDrawColor(0),o.setLineWidth(Ze),o.line(v,ne,v,k)},r=(v,ne,k,Ze)=>{o.setDrawColor(0),o.setLineWidth(.2),o.rect(v,ne,k,Ze)},Z=(v,ne,k=!1,Ze=3)=>{o.setDrawColor(0),o.setLineWidth(.2),o.rect(v,ne,Ze,Ze),k&&(o.setFont("helvetica","bold"),o.setFontSize(8),o.text("X",v+.5,ne+2.5))},ge=v=>v==null||v===0?"":v.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),x=v=>{if(!v)return"";const ne=v.replace(/\D/g,"");return ne.length===9?`${ne.slice(0,3)}-${ne.slice(3,5)}-${ne.slice(5)}`:v},W=v=>{if(!v)return"";const ne=v.replace(/\D/g,"");return ne.length===9?`${ne.slice(0,2)}-${ne.slice(2)}`:v},$=(v,ne,k=w)=>{const Ze=D0[ne];let O=k;const he=w,$e=w+te,fe=$e+E,ye=28;if(r(w,O,C,ye),F($e,O,O+ye),F(fe,O,O+ye),Ze.showVoidCheckbox){o.setFont("helvetica","normal"),o.setFontSize(7),o.setTextColor(0,0,0);const wt=O+3;Z(he+2,wt,v.isVoid),o.text("VOID",he+7,wt+2.5),Z(he+22,wt,v.isCorrected),o.text("CORRECTED",he+27,wt+2.5)}else{o.setFont("helvetica","normal"),o.setFontSize(7),o.setTextColor(0,0,0);const wt=O+3;Z(he+2,wt,v.isCorrected),o.text("CORRECTED (if checked)",he+7,wt+2.5)}o.setFont("helvetica","normal"),o.setFontSize(5.5),o.setTextColor(0,0,0),o.text("PAYER'S name, street address, city or town, state or province, country, ZIP",he+2,O+11),o.text("or foreign postal code, and telephone no.",he+2,O+14),o.setFont("helvetica","bold"),o.setFontSize(8);let Ce=O+18;v.payerInfo.name&&(o.text(v.payerInfo.name,he+2,Ce),Ce+=3),o.setFont("helvetica","normal"),o.setFontSize(7),v.payerInfo.address&&(o.text(v.payerInfo.address,he+2,Ce),Ce+=2.5);const Xe=[v.payerInfo.city,v.payerInfo.state,v.payerInfo.zip].filter(Boolean).join(", ");Xe&&(o.text(Xe,he+2,Ce),Ce+=2.5),v.payerInfo.phone&&o.text(v.payerInfo.phone,he+2,Ce),o.setFont("helvetica","normal"),o.setFontSize(6),o.setTextColor(0,0,0),o.text("OMB No. 1545-0116",$e+2,O+5),o.setFont("helvetica","bold"),o.setFontSize(11),o.text("Form 1099-NEC",$e+2,O+12),o.setFont("helvetica","normal"),o.setFontSize(6),o.text("(Rev. April 2025)",$e+2,O+16),o.text("For calendar year",$e+2,O+21),o.setFont("helvetica","bold"),o.setFontSize(10),o.text(String(v.taxYear),$e+27,O+21),se(O+22,$e+25,$e+38,.3),o.setFont("helvetica","bold"),o.setFontSize(11),o.text("Nonemployee",fe+2,O+8),o.text("Compensation",fe+2,O+13),o.setFont("helvetica","bold"),o.setFontSize(9),o.text(Ze.label,fe+2,O+20),o.setFont("helvetica","normal"),o.setFontSize(6);const nt=o.splitTextToSize(Ze.description,H-4);o.text(nt,fe+2,O+24),O+=ye;const ot=9;r(w,O,te,ot);const qe=te/2;F(he+qe,O,O+ot),o.setFont("helvetica","normal"),o.setFontSize(5.5),o.text("PAYER'S TIN",he+2,O+3),o.setFontSize(8),o.text(W(v.payerInfo.ein),he+2,O+7),o.setFontSize(5.5),o.text("RECIPIENT'S TIN",he+qe+2,O+3),o.setFontSize(8),o.text(x(v.recipientSSN),he+qe+2,O+7),r($e,O,E+H,ot),o.setFontSize(5.5),o.text("1 Nonemployee compensation",$e+2,O+3),o.setFontSize(9);const gt=ge(v.nonEmployeeCompensation);gt?(o.text("$",$e+2,O+7),o.text(gt,$e+E+H-3,O+7,{align:"right"})):o.text("$",$e+2,O+7),O+=ot;const ke=8;r(w,O,te,ke),o.setFontSize(5.5),o.text("RECIPIENT'S name",he+2,O+3),o.setFont("helvetica","bold"),o.setFontSize(8),o.text(v.recipientName,he+2,O+7),o.setFont("helvetica","normal");const Ye=ke;r($e,O,E+H,Ye),o.setFontSize(5.5),o.text("2 Payer made direct sales totaling $5,000 or more of",$e+2,O+3),o.text("consumer products to recipient for resale",$e+4,O+6),Z($e+E+H-8,O+2,v.directSales5000OrMore),O+=ke;const xt=8;r(w,O,te,xt),o.setFontSize(5.5),o.text("Street address (including apt. no.)",he+2,O+3),o.setFontSize(7);const Ee=v.recipientAddress.split(`
`)[0];o.text(Ee||"",he+2,O+7),r($e,O,E+H,xt),o.setFontSize(5.5),o.text("3 Excess golden parachute payments",$e+2,O+3),o.setFontSize(9);const Pt=ge(v.excessGoldenParachute);o.text("$",$e+2,O+7),Pt&&o.text(Pt,$e+E+H-3,O+7,{align:"right"}),O+=xt;const $t=8;r(w,O,te,$t),o.setFontSize(5.5),o.text("City or town, state or province, country, and ZIP or foreign postal code",he+2,O+3),o.setFontSize(7);const It=[v.recipientCity,v.recipientState,v.recipientZip].filter(Boolean).join(", ");o.text(It||"",he+2,O+7),r($e,O,E+H,$t),o.setFontSize(5.5),o.text("4 Federal income tax withheld",$e+2,O+3),o.setFontSize(9);const ir=ge(v.federalTaxWithheld);o.text("$",$e+2,O+7),ir&&o.text(ir,$e+E+H-3,O+7,{align:"right"}),O+=$t;const Kt=9,Wt=te*.7;r(w,O,Wt,Kt),o.setFontSize(5.5),o.text("Account number (see instructions)",he+2,O+3),v.accountNumber&&(o.setFontSize(7),o.text(v.accountNumber,he+2,O+7));const pt=te*.3;r(he+Wt,O,pt,Kt),o.setFontSize(5.5),o.text("2nd TIN not.",he+Wt+2,O+3),Z(he+Wt+pt-6,O+3,v.secondTinNotice);const Je=(E+H)/3;r($e,O,Je,Kt),o.setFontSize(5.5),o.text("5 State tax withheld",$e+2,O+3),o.setFontSize(8),o.text("$",$e+2,O+7);const xe=ge(v.stateTaxWithheld);xe&&o.text(xe,$e+Je-2,O+7,{align:"right"}),r($e+Je,O,Je,Kt),o.setFontSize(5.5),o.text("6 State/Payer's state no.",$e+Je+2,O+3),o.setFontSize(7),v.statePayerNo&&o.text(v.statePayerNo,$e+Je+2,O+7),r($e+Je*2,O,Je,Kt),o.setFontSize(5.5),o.text("7 State income",$e+Je*2+2,O+3),o.setFontSize(8),o.text("$",$e+Je*2+2,O+7);const ve=ge(v.stateIncome);ve&&o.text(ve,$e+Je*3-2,O+7,{align:"right"}),O+=Kt;const Se=7;r(w,O,te,Se),Z(he+Wt+pt-6,O+2,!1),r($e,O,Je,Se),o.setFontSize(8),o.text("$",$e+2,O+5);const we=ge(v.stateTaxWithheld2);we&&o.text(we,$e+Je-2,O+5,{align:"right"}),r($e+Je,O,Je,Se),o.setFontSize(7),v.statePayerNo2&&o.text(v.statePayerNo2,$e+Je+2,O+5),r($e+Je*2,O,Je,Se),o.setFontSize(8),o.text("$",$e+Je*2+2,O+5);const _t=ge(v.stateIncome2);return _t&&o.text(_t,$e+Je*3-2,O+5,{align:"right"}),O+=Se,O+=2,o.setFont("helvetica","normal"),o.setFontSize(6),o.setTextColor(0,0,0),o.text("Form 1099-NEC (Rev. 4-2025)",w,O),ne==="B"&&o.text("(keep for your records)",w+35,O),o.text("www.irs.gov/Form1099NEC",h/2,O,{align:"center"}),o.text("Department of the Treasury - Internal Revenue Service",h-w,O,{align:"right"}),O+5};let Y=!0;e.forEach(v=>{y.forEach(ne=>{Y||o.addPage(),Y=!1,$(v,ne,w)})});const c=e[0],D=`1099-NEC_${c.recipientName.replace(/\s+/g,"_").replace(/[^a-zA-Z0-9_]/g,"")||"recipient"}_${c.taxYear}.pdf`;o.save(D)},F0=["Payer Type","Payer TIN Type","Payer TIN","P Business Name or Last Name","P First Name","P Middle Name","P Suffix","P Disregarded Entity","P Address 1","P Address 2 (Optional)","P City","P State","P ZIP or Foreign Postal Code","P Country","P Phone Number","P Email Address (optional)","P State id (optional)","Recipient Attention To (Optional)","Recipient Type","Recipient TIN Type","Recipient TIN","R Business Name or Last Name","R First Name","R Middle Name","R Suffix","R Address 1","R Address 2 (Optional)","R City","R State","R ZIP or Foreign Postal Code","R Country","R Phone Number (Optional)","R Email Address (optional)","Acct No (optional)","Box 1 Nonemployee Compensation","Box 2 Payer made direct sales totaling $5,000 or more","Box 3 Excess golden parachute payments","Box 4 Fed Income Tax withheld","Box 5a State Tax withheld","Box 5b State Tax Withheld","Box 6a State","Box 6a State No","Box 6b State","Box 6b State No","Box 7a State Income","Box 7b State Income","Client ID","Exclude Direct State Filing","Recipient ClientId","Group ID","Second TIN","Email Receipt Language","Exclude CFSF"];function E0(e){if(e==null)return"";const y=String(e);return y.includes(",")||y.includes('"')||y.includes(`
`)?`"${y.replace(/"/g,'""')}"`:y}function L0(e,y){if(!y)return{businessName:e,firstName:"",middleName:"",suffix:""};const o=e.trim().split(/\s+/),h=["JR","SR","II","III","IV","V"];let w="";if(o.length>1){const C=o[o.length-1].toUpperCase().replace(/[.,]/g,"");h.includes(C)&&(w=o.pop()||"")}if(o.length===1)return{businessName:o[0],firstName:"",middleName:"",suffix:w};if(o.length===2)return{businessName:o[1],firstName:o[0],middleName:"",suffix:w};{const C=o[0],te=o[o.length-1],E=o.slice(1,-1).join(" ");return{businessName:te,firstName:C,middleName:E,suffix:w}}}function M0(e){return e.replace(/\D/g,"").length!==9?"SSN":/^\d{2}-\d{7}$/.test(e)?"EIN":"SSN"}function So(e){return e.replace(/\D/g,"")}const B0=(e,y)=>{if(!e.length)throw new Error("No 1099-NEC entries provided");const o=[];o.push(F0),e.forEach(F=>{const r="EIN",Z=So(F.payerInfo.ein||""),ge=M0(F.recipientSSN),x=ge==="SSN",W=So(F.recipientSSN),$=L0(F.recipientName,x),Y=(F.payerInfo.address||"").split(`
`),c=Y[0]||"",L=Y[1]||"",D=(F.recipientAddress||"").split(`
`),v=D[0]||"",ne=D[1]||"",k=["Business",r,Z,F.payerInfo.name||"","","","","",c,L,F.payerInfo.city||"",F.payerInfo.state||"",F.payerInfo.zip||"","US",F.payerInfo.phone||"","",F.statePayerNo||"","",x?"Individual":"Business",ge,W,$.businessName,$.firstName,$.middleName,$.suffix,v,ne,F.recipientCity||"",F.recipientState||"",F.recipientZip||"","US","","",F.accountNumber||"",F.nonEmployeeCompensation||0,F.directSales5000OrMore?"X":"",F.excessGoldenParachute||"",F.federalTaxWithheld||"",F.stateTaxWithheld||"",F.stateTaxWithheld2||"",F.payerInfo.state||"",F.statePayerNo||"","",F.statePayerNo2||"",F.stateIncome||"",F.stateIncome2||"",y||"","","","",F.secondTinNotice?"X":"","",""];o.push(k.map(Ze=>E0(Ze)))});const h=o.map(F=>F.join(",")).join(`
`),w=new Blob([h],{type:"text/csv;charset=utf-8;"}),C=URL.createObjectURL(w),te=document.createElement("a"),E=e[0],se=`1099-NEC_${E.recipientName.replace(/\s+/g,"_").replace(/[^a-zA-Z0-9_]/g,"")||"recipient"}_${E.taxYear}.csv`;te.setAttribute("href",C),te.setAttribute("download",se),te.style.visibility="hidden",document.body.appendChild(te),te.click(),document.body.removeChild(te),URL.revokeObjectURL(C)};function rn(e){return{id:e.id,name:e.name||"",dba:e.dba,ein:e.ein||"",address:e.address||"",city:e.city||"",state:e.state||"",zip:e.zip||"",phone:e.phone||"",documentTypes:e.documentTypes||[],taxYears:e.taxYears||[],notes:e.notes,createdAt:typeof e.createdAt=="string"?new Date(e.createdAt).getTime():e.createdAt||Date.now(),updatedAt:typeof e.updatedAt=="string"?new Date(e.updatedAt).getTime():e.updatedAt||Date.now()}}async function O0(e,y){try{const o=await As({query:"searchPayers",params:{businessId:ms.getBusinessId(),searchQuery:e,search:e},form:{searchQuery:e,search:e,state:y?.state,documentType:y?.documentType,taxYear:y?.taxYear,page:y?.page||1,pageSize:y?.pageSize||20}}),h=(o?.payers||o?.data||[]).map(rn);return{payers:h,total:o?.total||h.length,page:o?.page||1,pageSize:o?.pageSize||20,hasMore:o?.hasMore||!1}}catch(o){return Qe("Error searching payers:",o),{payers:[],total:0,page:1,pageSize:20,hasMore:!1}}}async function j0(e){try{const y=await As({query:"getAllPayers",params:{businessId:ms.getBusinessId()},form:{page:e?.page||1,pageSize:e?.pageSize||400}});Qe("[getAllPayers] Raw result:",y),Qe("[getAllPayers] businessId:",ms.getBusinessId());const o=(y?.payers||y?.data||[]).map(rn);return Qe("[getAllPayers] Parsed payers count:",o.length),Qe("[getAllPayers] Payer EINs:",o.map(h=>h.ein)),{payers:o,total:y?.total||o.length,page:y?.page||1,pageSize:y?.pageSize||100,hasMore:y?.hasMore||!1}}catch(y){return Qe("Error getting all payers:",y),{payers:[],total:0,page:1,pageSize:100,hasMore:!1}}}async function wo(e){try{const y=e.replace(/\D/g,""),o=await As({query:"getPayerByEIN",params:{businessId:ms.getBusinessId(),ein:y},form:{ein:y}});return o?.payer?rn(o.payer):null}catch(y){return Qe("Error getting payer by EIN:",y),null}}async function Co(e){try{const y=await As({query:"addPayer",params:{businessId:ms.getBusinessId()},form:{name:e.name,dba:e.dba,ein:e.ein.replace(/\D/g,""),address:e.address,city:e.city,state:e.state,zip:e.zip,phone:e.phone,documentTypes:e.documentTypes,taxYears:e.taxYears,notes:e.notes}});return y?.success&&y?.payer?{success:!0,payer:rn(y.payer)}:{success:!1,error:y?.error||"Failed to create payer"}}catch(y){return Qe("Error creating payer:",y),{success:!1,error:y.message}}}async function U0(e,y){try{const o={payerId:e};y.name!==void 0&&(o.name=y.name),y.dba!==void 0&&(o.dba=y.dba),y.ein!==void 0&&(o.ein=y.ein.replace(/\D/g,"")),y.address!==void 0&&(o.address=y.address),y.city!==void 0&&(o.city=y.city),y.state!==void 0&&(o.state=y.state),y.zip!==void 0&&(o.zip=y.zip),y.phone!==void 0&&(o.phone=y.phone),y.documentTypes!==void 0&&(o.documentTypes=y.documentTypes),y.taxYears!==void 0&&(o.taxYears=y.taxYears),y.notes!==void 0&&(o.notes=y.notes);const h=await As({query:"updatePayer",params:{businessId:ms.getBusinessId()},form:o});return h?.success&&h?.payer?{success:!0,payer:rn(h.payer)}:{success:!1,error:h?.error||"Failed to update payer"}}catch(o){return Qe("Error updating payer:",o),{success:!1,error:o.message}}}async function H0(e){try{const y=await As({query:"deletePayer",params:{businessId:ms.getBusinessId()},form:{payerId:e}});return{success:y?.success||!1,error:y?.error}}catch(y){return Qe("Error deleting payer:",y),{success:!1,error:y.message}}}var zn=a("<div>"),W0=a('<div><div><div><h3>Print Client Label</h3><button></button></div><div><div id=printable-label><div> </div><div></div><div>TAX RETURN</div></div></div><div><button>Cancel</button><button><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M5 4v3H4a2 2 0 00-2 2v3a2 2 0 002 2h1v2a2 2 0 002 2h6a2 2 0 002-2v-2h1a2 2 0 002-2V9a2 2 0 00-2-2h-1V4a2 2 0 00-2-2H7a2 2 0 00-2 2zm8 0H7v3h6V4zm0 8H7v4h6v-4z"clip-rule=evenodd></path></svg>Print Label'),Y0=a('<div><div><div><label>Payer Name *</label><input type=text placeholder="Company Name"></div><div><label>EIN *</label><input type=text placeholder=12-3456789></div><div><label>Address</label><input type=text placeholder="123 Main St"></div><div><label>City</label><input type=text placeholder=City></div><div><div><label>State</label><input type=text maxlength=2 placeholder=TX></div><div><label>ZIP</label><input type=text placeholder=12345></div></div><div><label>Phone</label><input type=text placeholder="(555) 555-5555"></div></div><div><button>Cancel</button><button>'),G0=a("<div><div><input type=checkbox><span>From Client Documents (<!>)"),V0=a("<span><strong></strong> from documents<span>($<!>)"),q0=a("<span><strong></strong> from saved payers<span>($<!>)"),Q0=a("<span><strong></strong> document(s) need amount"),X0=a("<span><strong></strong> payer(s) need amount"),K0=a("<div><span>Total 1099-NEC Amount:</span><span>$"),J0=a("<div><div>"),Z0=a('<div><div><div><h3>Generate 1099-NEC</h3><button></button></div><div><svg width=18 height=18 viewBox="0 0 24 24"fill=none stroke=#9ca3af stroke-width=2><circle cx=11 cy=11 r=8></circle><path d="m21 21-4.35-4.35"></path></svg><input type=text placeholder="Search payers by name or EIN..."></div><div><div><div><span>Saved Payers (<!>)</span><button></button></div></div></div><div><div><button>Cancel</button><button><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"clip-rule=evenodd></path></svg>Download CSV</button><button><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V7.414A2 2 0 0015.414 6L12 2.586A2 2 0 0010.586 2H6zm5 6a1 1 0 10-2 0v3.586l-1.293-1.293a1 1 0 10-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 11.586V8z"clip-rule=evenodd></path></svg>Generate PDF (<!>)'),em=a(`<div><div><button><svg width=20 height=20 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2><path d="M19 12H5M12 19l-7-7 7-7"></path></svg>Back</button><div><h1> <span>Tax Year </span></h1><div></div></div><button><svg width=18 height=18 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2><path d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"></path></svg>Print QR Codes</button><button><svg width=18 height=18 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2><path d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>Generate 1099</button></div><div><div><div><svg viewBox="0 0 20 20"fill=white><path fill-rule=evenodd d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"clip-rule=evenodd></path></svg></div><div><div></div><div></div></div></div><div><div><svg viewBox="0 0 20 20"fill=currentColor><path fill-rule=evenodd d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z"clip-rule=evenodd></path></svg>Tax Return </div><button title="Print Label"><svg viewBox="0 0 20 20"fill=white><path fill-rule=evenodd d="M5 4v3H4a2 2 0 00-2 2v3a2 2 0 002 2h1v2a2 2 0 002 2h6a2 2 0 002-2v-2h1a2 2 0 002-2V9a2 2 0 00-2-2h-1V4a2 2 0 00-2-2H7a2 2 0 00-2 2zm8 0H7v3h6V4zm0 8H7v4h6v-4z"clip-rule=evenodd></path></svg></button></div></div><div><div></div></div><style>
        @keyframes slideDown {
          from {
            opacity: 0;
            transform: translateY(-10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
      `),tm=a("<div><div><div>"),rm=a("<div><div>Loading client workspace..."),_o=a("<span>"),sm=a("<span> | "),nm=a('<div><div><svg width=32 height=32 viewBox="0 0 24 24"fill=none stroke-width=2 stroke-linecap=round stroke-linejoin=round><path></path></svg></div><h3></h3><div>'),om=a("<span>"),im=a("<span>+"),lm=a('<div><p>No saved payers yet</p><p>Click "+ Add New Payer" to create one'),ko=a("<span>Ready"),am=a("<span>Enter amount to generate"),Io=a("<span>$"),dm=a("<div><label>Compensation (Box 1):</label><div><span>$</span><input type=number min=0 step=0.01 placeholder=0.00>"),ym=a('<div><div><input type=checkbox><div><div><span></span></div><div>EIN: </div></div><div><button title="Edit payer"><svg width=14 height=14 viewBox="0 0 24 24"fill=none stroke=#6b7280 stroke-width=2><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg></button><button title="Delete payer"><svg width=14 height=14 viewBox="0 0 24 24"fill=none stroke=#ef4444 stroke-width=2><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2">'),cm=a("<span>Enter amount"),pm=a("<div><label>Amount (Box 1):</label><div><span>$</span><input type=number min=0 step=0.01 placeholder=0.00>"),um=a("<div><label><input type=checkbox><div><div></div><div>"),mm=a("<span>(Extracted: $<!>)");const Sm=()=>{const e=Oo(),y=jo(),[o,h]=Ie(null),[w,C]=Ie([]),[te,E]=Ie([]),[H,se]=Ie(!0),[F,r]=Ie(null),[Z,ge]=Ie(null),[x,W]=Ie(0),[$,Y]=Ie(!1),[c,L]=Ie({}),[D,v]=Ie(!1),[ne,k]=Ie(!1),[Ze,O]=Ie(!1),[he,$e]=Ie(new Set),[fe,ye]=Ie(!1),[Ce,Xe]=Ie(null),[nt,ot]=Ie(""),[qe,gt]=Ie(new Set),[ke,Ye]=Ie({}),[xt,Ee]=Ie({}),[Pt,$t]=Ie([]),[It,ir]=Ie(!1),[Kt,Wt]=Ie(""),[pt,Je]=Ie(""),[xe,ve]=Ie(""),[Se,we]=Ie(""),[_t,wt]=Ie(""),[it,rr]=Ie(""),[Dt,qt]=Ie(""),lr=async(ue="")=>{ir(!0);try{const me=ue.trim()?await O0(ue.trim()):await j0();$t(me.payers)}catch(me){Qe("Error loading payers:",me),$t([])}finally{ir(!1)}},ce=async ue=>{const me=ue.filter(yt=>{const st=yt.payerInfo?.ein;return st?st.replace(/\D/g,"").length===9:!1});if(me.length===0)return;Qe(`[Payer Sync] Found ${me.length} documents with valid EIN`);const T=new Set;let Le=0;for(const yt of me){const st=yt.payerInfo?.ein;if(!st)continue;const Rt=st.replace(/\D/g,"");if(!T.has(Rt)){T.add(Rt);try{const sr=await wo(Rt);if(sr)Qe(`[Payer Sync] Payer already exists: ${sr.name} (EIN: ${Rt})`);else{const dr=yt.payerInfo?.name||"Unknown Payer";Qe(`[Payer Sync] Adding new payer: ${dr} (EIN: ${Rt})`),await Co({name:dr,ein:Rt,address:yt.payerInfo?.address||"",city:yt.payerInfo?.city||"",state:yt.payerInfo?.state||"",zip:yt.payerInfo?.zip||"",phone:yt.payerInfo?.phone||"",documentTypes:[yt.drakeFormType==="1099_nec"?"1099-NEC":yt.drakeFormType==="w2"?"W-2":yt.drakeFormType==="1099_misc"?"1099-MISC":"other"],taxYears:yt.taxYear?[yt.taxYear]:[Ve()]}),Le++}}catch(sr){Qe(`[Payer Sync] Error checking/adding payer with EIN ${Rt}:`,sr)}}}Le>0&&(Qe(`[Payer Sync] Added ${Le} new payers from documents`),await lr(nt()))},[U,oe]=Ie(!1);Fs(()=>{const ue=Ze();if(ue&&!U()){oe(!0),lr("");const me=w();me.length>0&&ce(me)}else ue||oe(!1)});const Ae=async ue=>{const me=ue.replace(/\D/g,"");if(!(me.length<5||Pt().find(Le=>Le.ein.replace(/\D/g,"").includes(me)))){ir(!0);try{const Le=await wo(me);Le&&$t(yt=>yt.some(Rt=>Rt.id===Le.id)?yt:[...yt,Le])}catch(Le){Qe("Error searching payer by EIN:",Le)}finally{ir(!1)}}};Fs(()=>{const ue=nt().trim();if(!U())return;ue.replace(/\D/g,"").length>=5&&Ae(ue)});const re=Rr(()=>{const ue=Pt(),me=nt().trim().toLowerCase();return me?ue.filter(T=>{const Le=T.name.toLowerCase().includes(me),yt=T.dba?.toLowerCase().includes(me)||!1,st=T.ein.replace(/\D/g,"").includes(me.replace(/\D/g,""));return Le||yt||st}):ue}),Me=()=>{Wt(""),Je(""),ve(""),we(""),wt(""),rr(""),qt(""),Xe(null)},Ne=async()=>{const ue=Ce();try{ue?await U0(ue,{name:Kt(),ein:pt(),address:xe(),city:Se(),state:_t(),zip:it(),phone:Dt()}):await Co({name:Kt(),ein:pt(),address:xe(),city:Se(),state:_t(),zip:it(),phone:Dt(),documentTypes:["1099-NEC"],taxYears:[Ve()]}),await lr(nt())}catch(me){Qe("Error saving payer:",me)}Me(),ye(!1)},Tt=ue=>{Wt(ue.name),Je(ue.ein),ve(ue.address),we(ue.city),wt(ue.state),rr(ue.zip),qt(ue.phone),Xe(ue.id),ye(!0)},B=()=>{const ue=o();if(!ue)return[];const me=[],T=ue.address||"",Le=`${ue.firstName||""} ${ue.lastName||""}`.trim(),yt=ue.ssn||"",st=ue.taxYear||Ve(),Rt=S().filter(Et=>he().has(Et.id)),sr=xt();for(const Et of Rt){const $r=sr[Et.id]||0;$r>0&&me.push({payerInfo:{name:Et.payerInfo?.name,ein:Et.payerInfo?.ein,address:Et.payerInfo?.address,city:Et.payerInfo?.city,state:Et.payerInfo?.state,zip:Et.payerInfo?.zip,phone:Et.payerInfo?.phone},recipientName:Le,recipientSSN:yt,recipientAddress:T,recipientCity:ue.city||"",recipientState:ue.state||"",recipientZip:ue.zipCode||"",nonEmployeeCompensation:$r,federalTaxWithheld:Et.extractedAmounts?.federalTaxWithheld1099,stateTaxWithheld:Et.extractedAmounts?.stateTaxWithheld,stateIncome:Et.extractedAmounts?.stateWages,taxYear:st,accountNumber:void 0})}const dr=Array.from(qe()),Zt=Pt();for(const Et of dr){const $r=ke()[Et]||0;if($r>0){const Gt=Zt.find(pr=>pr.id===Et);Gt&&me.push({payerInfo:{name:Gt.name,ein:Gt.ein,address:Gt.address,city:Gt.city,state:Gt.state,zip:Gt.zip,phone:Gt.phone},recipientName:Le,recipientSSN:yt,recipientAddress:T,recipientCity:ue.city||"",recipientState:ue.state||"",recipientZip:ue.zipCode||"",nonEmployeeCompensation:$r,federalTaxWithheld:void 0,stateTaxWithheld:void 0,stateIncome:void 0,taxYear:st,accountNumber:void 0})}}return me},ae=async ue=>{try{await H0(ue),await lr(nt())}catch(me){Qe("Error deleting payer:",me)}gt(me=>{const T=new Set(me);return T.delete(ue),T}),Ye(me=>{const T={...me};return delete T[ue],T})},Ke=ue=>{gt(me=>{const T=new Set(me);return T.has(ue)?T.delete(ue):T.add(ue),T})},tt=(ue,me)=>{Ye(T=>({...T,[ue]:me}))},Q=Rr(()=>Array.from(qe()).filter(ue=>(ke()[ue]||0)>0).length),G=Rr(()=>Array.from(qe()).filter(ue=>(ke()[ue]||0)<=0).length),et=(ue,me)=>{Ee(T=>({...T,[ue]:me}))},de=Rr(()=>Array.from(he()).filter(ue=>(xt()[ue]||0)>0).length),Ct=Rr(()=>Array.from(he()).filter(ue=>(xt()[ue]||0)<=0).length),lt=Rr(()=>Array.from(he()).reduce((ue,me)=>{const T=xt()[me]||0;return ue+(T>0?T:0)},0)),_e=Rr(()=>Array.from(qe()).reduce((ue,me)=>{const T=ke()[me]||0;return ue+(T>0?T:0)},0)),je=Rr(()=>de()+Q()),ie=Rr(()=>lt()+_e()),[d,N]=Ie(null),[pe,Ge]=Ie([]),le=Rr(()=>{const ue=w().map(T=>({...T,_owner:"taxpayer"})),me=pe().map(T=>({...T,_owner:"spouse"}));return[...ue,...me]});Rr(()=>{const ue=o()?.dependents||[],me=d()?.dependents||[],T=[...ue];for(const Le of me)T.some(st=>st.ssn&&Le.ssn&&st.ssn===Le.ssn)||T.push(Le);return T});const S=Rr(()=>le().filter(ue=>ue.drakeFormType==="1099_nec")),X=new Date().getFullYear(),[Ve,Pe]=Ie(X),ze=async ue=>{se(!0),r(null);try{Qe("Loading client data for ID:",ue);const[me,T,Le]=await Promise.all([Bn(ue),jn(ue),Wo(ue)]);if(!me){r("Client not found"),se(!1);return}if(Qe(T),h(me),C(T||[]),E(Le||[]),me.taxYear&&(Pe(me.taxYear),Qe("Using client tax year:",me.taxYear)),me.linkedSpouseId){Qe("Loading linked spouse data:",me.linkedSpouseId);try{const[Rt,sr]=await Promise.all([Bn(me.linkedSpouseId),jn(me.linkedSpouseId)]);Rt&&(N(Rt),Ge(sr||[]),Qe("Linked spouse loaded:",Rt.firstName,Rt.lastName),Qe("Spouse documents:",sr?.length||0))}catch(Rt){Qe("Error loading linked spouse:",Rt)}}else N(null),Ge([]);const st=[...T||[]].filter(Rt=>!Rt.verified&&Rt.uploadStatus!=="error").length;W(st)}catch(me){Qe("Error loading client data:",me),r("Failed to load client data")}finally{se(!1)}};Uo(()=>{const ue=e.id;if(!ue){r("No client ID provided"),se(!1);return}ze(ue)});const ht=ue=>{Z()===ue?ge(null):ge(ue)},Vt=()=>{y("/tax-clients")},Yt=ue=>{h(me=>me?{...me,...ue}:null),L(me=>({...me,...ue})),"linkedSpouseId"in ue&&(ue.linkedSpouseId===void 0||ue.linkedSpouseId===null)&&(N(null),Ge([]),Qe("Spouse unlinked - cleared spouse data and documents"))},ut=async()=>{const ue=o();if(ue){Y(!0);try{await Yo(ue.id,c()),L({})}finally{Y(!1)}}},A=[{id:"info",title:"INFO",icon:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",color:"#ec4899",getLabel:()=>"Client Details"},{id:"status",title:"STATUS",icon:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",color:"#22c55e",getLabel:()=>{const ue=o();if(!ue)return"Track Progress";const me=ue.workflowStatus||"intake",T=ue.paymentStatus||"pending";return T==="paid"?"Paid":T==="partial"?"Partial Pay":me.replace(/_/g," ").replace(/\b\w/g,Le=>Le.toUpperCase())}},{id:"docs",title:"DOCS",icon:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",color:"#3b82f6",getLabel:()=>`${w().length} files`},{id:"tasks",title:"TASKS",icon:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4",color:"#f59e0b",getLabel:()=>`${x()} pending`},{id:"tax",title:"TAX",icon:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z",color:"#8b5cf6",getLabel:()=>"Prepare"},{id:"strategy",title:"STRATEGY",icon:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01",color:"#06b6d4",getLabel:()=>"Checklist"}],Be={padding:"1.5rem","max-width":"1400px",margin:"0 auto","min-height":"100vh"},mt={display:"flex","align-items":"center",gap:"1rem","margin-bottom":"2rem"},Ot={background:"var(--surface-color)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-md)",padding:"0.5rem 1rem",cursor:"pointer",display:"flex","align-items":"center",gap:"0.5rem",color:"var(--text-primary)",transition:"all 0.2s"},Cr={flex:1},K={"font-size":"1.75rem","font-weight":"700",margin:0,color:"var(--text-primary)"},He={display:"inline-block",background:"var(--primary-color)",color:"white",padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.875rem","font-weight":"600","margin-left":"0.75rem"},rt={color:"var(--text-muted)","font-size":"0.875rem","margin-top":"0.25rem"},Oe={display:"grid","grid-template-columns":"repeat(6, 1fr)",gap:"1.25rem","margin-bottom":"2rem"},kt=(ue,me)=>({background:me?ue.color:"var(--surface-color)",border:`2px solid ${me?ue.color:"var(--border-color)"}`,"border-radius":"var(--border-radius-lg)",padding:"2rem",cursor:"pointer",transition:"all 0.2s ease","text-align":"center",transform:me?"translateY(-4px)":"none","box-shadow":me?`0 8px 25px ${ue.color}40`:"0 2px 8px rgba(0,0,0,0.05)"}),St=(ue,me)=>({width:"64px",height:"64px","border-radius":"50%",background:me?"rgba(255,255,255,0.2)":`${ue}15`,display:"flex","align-items":"center","justify-content":"center",margin:"0 auto 1rem auto"}),or=ue=>({"font-size":"1.25rem","font-weight":"700",margin:"0 0 0.5rem 0",color:ue?"white":"var(--text-primary)"}),vt=ue=>({"font-size":"0.875rem",color:ue?"rgba(255,255,255,0.8)":"var(--text-muted)"}),Br={background:"var(--surface-color)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-lg)",padding:"1.5rem","margin-top":"0.5rem",animation:"slideDown 0.2s ease-out"},Wr={display:"flex","align-items":"center","justify-content":"center","min-height":"400px","font-size":"1.25rem",color:"var(--text-muted)"},_r={display:"flex","flex-direction":"column","align-items":"center","justify-content":"center","min-height":"400px",gap:"1rem"};return n(p,{get when(){return!F()},get fallback(){return(()=>{var ue=tm(),me=ue.firstChild,T=me.firstChild;return T.style.setProperty("font-size","1.25rem"),T.style.setProperty("color","var(--error-color)"),t(T,F),t(me,n($s,{onClick:Vt,children:"Back to Tax Portal"}),null),f(Le=>{var yt=Be,st=_r;return Le.e=s(ue,yt,Le.e),Le.t=s(me,st,Le.t),Le},{e:void 0,t:void 0}),ue})()},get children(){return n(p,{get when(){return!H()},get fallback(){return(()=>{var ue=rm(),me=ue.firstChild;return s(me,Wr),f(T=>s(ue,Be,T)),ue})()},get children(){var ue=em(),me=ue.firstChild,T=me.firstChild,Le=T.nextSibling,yt=Le.firstChild,st=yt.firstChild,Rt=st.nextSibling;Rt.firstChild;var sr=yt.nextSibling,dr=Le.nextSibling,Zt=dr.nextSibling,Et=me.nextSibling,$r=Et.firstChild,Gt=$r.firstChild,pr=Gt.firstChild,kr=Gt.nextSibling,Zr=kr.firstChild,Te=Zr.nextSibling,l=$r.nextSibling,P=l.firstChild,b=P.firstChild;b.nextSibling;var z=P.nextSibling,R=z.firstChild,i=Et.nextSibling,g=i.firstChild,u=i.nextSibling;return s(me,mt),T.$$mouseout=m=>{m.currentTarget.style.background="var(--surface-color)"},T.$$mouseover=m=>{m.currentTarget.style.background="var(--hover-color)"},T.$$click=Vt,s(T,Ot),s(Le,Cr),s(yt,K),t(yt,()=>o()?.firstName,st),t(yt,()=>o()?.lastName,Rt),s(Rt,He),t(Rt,Ve,null),s(sr,rt),t(sr,(()=>{var m=bt(()=>!!o()?.email);return()=>m()&&(()=>{var q=_o();return t(q,()=>o()?.email),q})()})(),null),t(sr,(()=>{var m=bt(()=>!!(o()?.email&&o()?.phone));return()=>m()&&sm()})(),null),t(sr,(()=>{var m=bt(()=>!!o()?.phone);return()=>m()&&(()=>{var q=_o();return t(q,()=>o()?.phone),q})()})(),null),dr.$$mouseout=m=>{m.currentTarget.style.background="#8b5cf6"},dr.$$mouseover=m=>{m.currentTarget.style.background="#7c3aed"},dr.$$click=()=>{const m=o();m&&z0(m,le(),"en",d(),pe())},dr.style.setProperty("background","#8b5cf6"),dr.style.setProperty("color","white"),dr.style.setProperty("border","none"),dr.style.setProperty("border-radius","var(--border-radius-md)"),dr.style.setProperty("padding","0.75rem 1.25rem"),dr.style.setProperty("cursor","pointer"),dr.style.setProperty("display","flex"),dr.style.setProperty("align-items","center"),dr.style.setProperty("gap","0.5rem"),dr.style.setProperty("font-weight","600"),dr.style.setProperty("font-size","0.875rem"),dr.style.setProperty("transition","all 0.2s"),Zt.$$mouseout=m=>{m.currentTarget.style.background="#059669"},Zt.$$mouseover=m=>{m.currentTarget.style.background="#047857"},Zt.$$click=()=>{$e(new Set),gt(new Set),Ye({}),ye(!1),Me(),ot(""),O(!0)},Zt.style.setProperty("background","#059669"),Zt.style.setProperty("color","white"),Zt.style.setProperty("border","none"),Zt.style.setProperty("border-radius","var(--border-radius-md)"),Zt.style.setProperty("padding","0.75rem 1.25rem"),Zt.style.setProperty("cursor","pointer"),Zt.style.setProperty("display","flex"),Zt.style.setProperty("align-items","center"),Zt.style.setProperty("gap","0.5rem"),Zt.style.setProperty("font-weight","600"),Zt.style.setProperty("font-size","0.875rem"),Zt.style.setProperty("transition","all 0.2s"),Et.style.setProperty("padding","1rem 1.5rem"),Et.style.setProperty("background","linear-gradient(135deg, #1e40af 0%, #3b82f6 100%)"),Et.style.setProperty("border-radius","12px"),Et.style.setProperty("margin-bottom","1.5rem"),Et.style.setProperty("display","flex"),Et.style.setProperty("align-items","center"),Et.style.setProperty("justify-content","space-between"),Et.style.setProperty("box-shadow","0 4px 12px rgba(30, 64, 175, 0.3)"),$r.style.setProperty("display","flex"),$r.style.setProperty("align-items","center"),$r.style.setProperty("gap","1rem"),Gt.style.setProperty("width","48px"),Gt.style.setProperty("height","48px"),Gt.style.setProperty("border-radius","50%"),Gt.style.setProperty("background","rgba(255,255,255,0.2)"),Gt.style.setProperty("display","flex"),Gt.style.setProperty("align-items","center"),Gt.style.setProperty("justify-content","center"),pr.style.setProperty("width","28px"),pr.style.setProperty("height","28px"),Zr.style.setProperty("color","white"),Zr.style.setProperty("font-weight","700"),Zr.style.setProperty("font-size","1.5rem"),Zr.style.setProperty("text-transform","uppercase"),Zr.style.setProperty("letter-spacing","1px"),t(Zr,()=>[o()?.firstName,o()?.middleName,o()?.lastName].filter(Boolean).join(" ")),Te.style.setProperty("color","rgba(255,255,255,0.8)"),Te.style.setProperty("font-size","0.875rem"),Te.style.setProperty("margin-top","0.25rem"),t(Te,(()=>{var m=bt(()=>!!o()?.ssn);return()=>m()?`SSN: ***-**-${o()?.ssn?.slice(-4)}`:""})(),null),t(Te,()=>o()?.ssn&&o()?.dateOfBirth?"  ":"",null),t(Te,(()=>{var m=bt(()=>!!o()?.dateOfBirth);return()=>m()?`DOB: ${o()?.dateOfBirth}`:""})(),null),l.style.setProperty("display","flex"),l.style.setProperty("align-items","center"),l.style.setProperty("gap","0.75rem"),P.style.setProperty("background","rgba(255,255,255,0.2)"),P.style.setProperty("padding","0.5rem 1.25rem"),P.style.setProperty("border-radius","25px"),P.style.setProperty("color","white"),P.style.setProperty("font-weight","700"),P.style.setProperty("font-size","1.125rem"),P.style.setProperty("display","flex"),P.style.setProperty("align-items","center"),P.style.setProperty("gap","0.5rem"),b.style.setProperty("width","20px"),b.style.setProperty("height","20px"),t(P,Ve,null),z.$$mouseout=m=>m.currentTarget.style.background="rgba(255,255,255,0.2)",z.$$mouseover=m=>m.currentTarget.style.background="rgba(255,255,255,0.3)",z.$$click=()=>k(!0),z.style.setProperty("background","rgba(255,255,255,0.2)"),z.style.setProperty("border","none"),z.style.setProperty("border-radius","50%"),z.style.setProperty("width","40px"),z.style.setProperty("height","40px"),z.style.setProperty("cursor","pointer"),z.style.setProperty("display","flex"),z.style.setProperty("align-items","center"),z.style.setProperty("justify-content","center"),z.style.setProperty("transition","all 0.2s"),R.style.setProperty("width","20px"),R.style.setProperty("height","20px"),i.style.setProperty("overflow-x","auto"),i.style.setProperty("max-width","90vw"),s(g,Oe),t(g,()=>A.map(m=>{const q=Z()===m.id;return(()=>{var I=nm(),V=I.firstChild,J=V.firstChild,j=J.firstChild,be=V.nextSibling,De=be.nextSibling;return I.$$mouseout=_=>{q||(_.currentTarget.style.borderColor="var(--border-color)",_.currentTarget.style.transform="none",_.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.05)")},I.$$mouseover=_=>{q||(_.currentTarget.style.borderColor=m.color,_.currentTarget.style.transform="translateY(-2px)",_.currentTarget.style.boxShadow=`0 4px 15px ${m.color}20`)},I.$$click=()=>ht(m.id),t(be,()=>m.title),t(De,()=>m.getLabel()),f(_=>{var ee=kt(m,q),Fe=St(m.color,q),ct=q?"white":m.color,At=m.icon,Nt=or(q),at=vt(q);return _.e=s(I,ee,_.e),_.t=s(V,Fe,_.t),ct!==_.a&&es(J,"stroke",_.a=ct),At!==_.o&&es(j,"d",_.o=At),_.i=s(be,Nt,_.i),_.n=s(De,at,_.n),_},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),I})()})),t(ue,n(p,{get when(){return Z()},get children(){var m=zn();return s(m,Br),t(m,n(p,{get when(){return Z()==="info"},get children(){return n(ra,{get client(){return o()},onClientChange:Yt,onSave:ut,get isSaving(){return $()},get linkedSpouse(){return d()}})}}),null),t(m,n(p,{get when(){return Z()==="status"},get children(){return n(yp,{get client(){return o()},onClientChange:Yt,onSave:ut,get isSaving(){return $()}})}}),null),t(m,n(p,{get when(){return Z()==="docs"},get children(){return n(Xd,{get client(){return o()},get taxPortal(){return o()},get documents(){return w()},get spouseDocuments(){return pe()},get linkedSpouse(){return d()},get taxYear(){return Ve()},onDocumentsChange:C,onRefresh:()=>ze(e.id)})}}),null),t(m,n(p,{get when(){return Z()==="tasks"},get children(){return n(Sy,{get client(){return o()},get taxPortal(){return o()},get documents(){return w()},get documentRequests(){return te()},onTasksChange:q=>W(q)})}}),null),t(m,n(p,{get when(){return Z()==="tax"},get children(){return n(Gc,{get client(){return o()},get documents(){return w()},get spouseDocuments(){return pe()},get linkedSpouse(){return d()},get taxYear(){return Ve()},onClientChange:Yt})}}),null),t(m,n(p,{get when(){return Z()==="strategy"},get children(){return n(a0,{get client(){return o()},get documents(){return w()},onClientChange:Yt,onSave:ut,get isSaving(){return $()}})}}),null),m}}),u),t(ue,n(b0,{get client(){return o()},get documents(){return w()},get dependents(){return o()?.dependents||[]},get isOpen(){return D()},onClose:()=>v(!1)}),null),t(ue,n(p,{get when(){return ne()},get children(){var m=W0(),q=m.firstChild,I=q.firstChild,V=I.firstChild,J=V.nextSibling,j=I.nextSibling,be=j.firstChild,De=be.firstChild,_=De.firstChild,ee=De.nextSibling,Fe=ee.nextSibling,ct=j.nextSibling,At=ct.firstChild,Nt=At.nextSibling,at=Nt.firstChild;return m.style.setProperty("position","fixed"),m.style.setProperty("top","0"),m.style.setProperty("left","0"),m.style.setProperty("right","0"),m.style.setProperty("bottom","0"),m.style.setProperty("background","rgba(0,0,0,0.5)"),m.style.setProperty("display","flex"),m.style.setProperty("align-items","center"),m.style.setProperty("justify-content","center"),m.style.setProperty("z-index","1000"),q.style.setProperty("background","white"),q.style.setProperty("border-radius","12px"),q.style.setProperty("padding","1.5rem"),q.style.setProperty("max-width","500px"),q.style.setProperty("width","90%"),I.style.setProperty("display","flex"),I.style.setProperty("justify-content","space-between"),I.style.setProperty("align-items","center"),I.style.setProperty("margin-bottom","1rem"),V.style.setProperty("margin","0"),V.style.setProperty("font-size","1.25rem"),J.$$click=()=>k(!1),J.style.setProperty("background","none"),J.style.setProperty("border","none"),J.style.setProperty("font-size","1.5rem"),J.style.setProperty("cursor","pointer"),J.style.setProperty("color","#666"),j.style.setProperty("border","2px dashed #ccc"),j.style.setProperty("padding","1rem"),j.style.setProperty("margin-bottom","1rem"),j.style.setProperty("display","flex"),j.style.setProperty("justify-content","center"),j.style.setProperty("background","#f8fafc"),be.style.setProperty("width","4in"),be.style.setProperty("height","2.3in"),be.style.setProperty("background","white"),be.style.setProperty("border","4px solid #000"),be.style.setProperty("display","flex"),be.style.setProperty("flex-direction","column"),be.style.setProperty("justify-content","center"),be.style.setProperty("align-items","center"),be.style.setProperty("padding","0.2in 0.3in"),be.style.setProperty("box-sizing","border-box"),be.style.setProperty("font-family","'Segoe UI', 'Helvetica Neue', Arial, sans-serif"),De.style.setProperty("font-size","14pt"),De.style.setProperty("font-weight","600"),De.style.setProperty("text-transform","uppercase"),De.style.setProperty("text-align","center"),De.style.setProperty("line-height","1.2"),De.style.setProperty("color","#000"),De.style.setProperty("letter-spacing","2px"),De.style.setProperty("margin-bottom","0.08in"),t(De,()=>o()?.firstName,_),t(De,()=>o()?.lastName,null),ee.style.setProperty("font-size","48pt"),ee.style.setProperty("font-weight","900"),ee.style.setProperty("text-align","center"),ee.style.setProperty("color","#000"),ee.style.setProperty("line-height","1"),ee.style.setProperty("margin-bottom","0.05in"),t(ee,Ve),Fe.style.setProperty("font-size","16pt"),Fe.style.setProperty("font-weight","700"),Fe.style.setProperty("text-align","center"),Fe.style.setProperty("color","#000"),Fe.style.setProperty("letter-spacing","6px"),Fe.style.setProperty("text-transform","uppercase"),ct.style.setProperty("display","flex"),ct.style.setProperty("gap","0.75rem"),ct.style.setProperty("justify-content","flex-end"),At.$$click=()=>k(!1),At.style.setProperty("padding","0.75rem 1.5rem"),At.style.setProperty("background","#f3f4f6"),At.style.setProperty("border","none"),At.style.setProperty("border-radius","8px"),At.style.setProperty("cursor","pointer"),At.style.setProperty("font-weight","500"),Nt.$$click=()=>{const Mt=window.open("","_blank");Mt&&(Mt.document.write(`
                      <!DOCTYPE html>
                      <html>
                      <head>
                        <title>Tax Client Label</title>
                        <style>
                          @page {
                            size: 4in 2.3in;
                            margin: 0;
                          }
                          * {
                            margin: 0;
                            padding: 0;
                            box-sizing: border-box;
                          }
                          body {
                            width: 4in;
                            height: 2.3in;
                            font-family: Arial, sans-serif;
                          }
                          .label {
                            width: 4in;
                            height: 2.3in;
                            background: white;
                            
                            display: flex;
                            flex-direction: column;
                            justify-content: center;
                            align-items: center;
                            padding: 0.15in 0.25in;
                            font-family: 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
                          }
                          .name {
                            font-size: 13pt;
                            font-weight: 600;
                            text-transform: uppercase;
                            text-align: center;
                            line-height: 1.2;
                            color: #000;
                            letter-spacing: 2px;
                            margin-bottom: 0.06in;
                          }
                          .year {
                            font-size: 44pt;
                            font-weight: 900;
                            text-align: center;
                            color: #000;
                            line-height: 1;
                            margin-bottom: 0.064in;
                          }
                          .tax-label {
                            font-size: 14pt;
                            font-weight: 700;
                            text-align: center;
                            color: #000;
                            letter-spacing: 6px;
                            text-transform: uppercase;
                          }
                        </style>
                      </head>
                      <body>
                        <div class="label">
                          <div class="name">${o()?.firstName} ${o()?.lastName}</div>
                          <div class="year">${Ve()}</div>
                          <div class="tax-label">TAX RETURN</div>
                        </div>
                      </body>
                      </html>
                    `),Mt.document.close(),Mt.focus(),setTimeout(()=>{Mt.print(),Mt.close()},250)),k(!1)},Nt.style.setProperty("padding","0.75rem 1.5rem"),Nt.style.setProperty("background","#1e40af"),Nt.style.setProperty("color","white"),Nt.style.setProperty("border","none"),Nt.style.setProperty("border-radius","8px"),Nt.style.setProperty("cursor","pointer"),Nt.style.setProperty("font-weight","600"),Nt.style.setProperty("display","flex"),Nt.style.setProperty("align-items","center"),Nt.style.setProperty("gap","0.5rem"),at.style.setProperty("width","18px"),at.style.setProperty("height","18px"),m}}),null),t(ue,n(p,{get when(){return Ze()},get children(){var m=Z0(),q=m.firstChild,I=q.firstChild,V=I.firstChild,J=V.nextSibling,j=I.nextSibling,be=j.firstChild,De=be.nextSibling,_=j.nextSibling,ee=_.firstChild,Fe=ee.firstChild,ct=Fe.firstChild,At=ct.firstChild,Nt=At.nextSibling;Nt.nextSibling;var at=ct.nextSibling,Mt=_.nextSibling,Re=Mt.firstChild,wr=Re.firstChild,er=wr.nextSibling,Or=er.firstChild,Ue=er.nextSibling,jr=Ue.firstChild,dt=jr.nextSibling,Ur=dt.nextSibling;return Ur.nextSibling,m.style.setProperty("position","fixed"),m.style.setProperty("top","0"),m.style.setProperty("left","0"),m.style.setProperty("right","0"),m.style.setProperty("bottom","0"),m.style.setProperty("background","rgba(0,0,0,0.5)"),m.style.setProperty("display","flex"),m.style.setProperty("align-items","center"),m.style.setProperty("justify-content","center"),m.style.setProperty("z-index","1000"),q.style.setProperty("background","white"),q.style.setProperty("border-radius","12px"),q.style.setProperty("padding","1.5rem"),q.style.setProperty("max-width","700px"),q.style.setProperty("width","95%"),q.style.setProperty("max-height","85vh"),q.style.setProperty("display","flex"),q.style.setProperty("flex-direction","column"),I.style.setProperty("display","flex"),I.style.setProperty("justify-content","space-between"),I.style.setProperty("align-items","center"),I.style.setProperty("margin-bottom","1rem"),V.style.setProperty("margin","0"),V.style.setProperty("font-size","1.25rem"),J.$$click=()=>O(!1),J.style.setProperty("background","none"),J.style.setProperty("border","none"),J.style.setProperty("font-size","1.5rem"),J.style.setProperty("cursor","pointer"),J.style.setProperty("color","#666"),j.style.setProperty("display","flex"),j.style.setProperty("align-items","center"),j.style.setProperty("gap","0.5rem"),j.style.setProperty("margin-bottom","1rem"),j.style.setProperty("background","#f9fafb"),j.style.setProperty("border","1px solid #e5e7eb"),j.style.setProperty("border-radius","8px"),j.style.setProperty("padding","0.5rem 0.75rem"),De.$$input=We=>ot(We.currentTarget.value),De.style.setProperty("flex","1"),De.style.setProperty("border","none"),De.style.setProperty("background","transparent"),De.style.setProperty("outline","none"),De.style.setProperty("font-size","0.9rem"),t(j,n(p,{get when(){return It()},get children(){var We=zn();return We.style.setProperty("width","16px"),We.style.setProperty("height","16px"),We.style.setProperty("border","2px solid #e5e7eb"),We.style.setProperty("border-top-color","#3b82f6"),We.style.setProperty("border-radius","50%"),We.style.setProperty("animation","spin 0.8s linear infinite"),We}}),null),_.style.setProperty("overflow-y","auto"),_.style.setProperty("flex","1"),_.style.setProperty("margin-bottom","1rem"),ee.style.setProperty("margin-bottom","1rem"),Fe.style.setProperty("display","flex"),Fe.style.setProperty("align-items","center"),Fe.style.setProperty("justify-content","space-between"),Fe.style.setProperty("margin-bottom","0.5rem"),Fe.style.setProperty("padding-bottom","0.5rem"),Fe.style.setProperty("border-bottom","1px solid #e5e7eb"),ct.style.setProperty("font-weight","600"),ct.style.setProperty("font-size","0.875rem"),ct.style.setProperty("color","#374151"),t(ct,()=>re().length,Nt),at.$$click=()=>{Me(),ye(!fe())},at.style.setProperty("border-radius","6px"),at.style.setProperty("padding","0.375rem 0.75rem"),at.style.setProperty("cursor","pointer"),at.style.setProperty("font-size","0.8rem"),at.style.setProperty("font-weight","500"),at.style.setProperty("display","flex"),at.style.setProperty("align-items","center"),at.style.setProperty("gap","0.25rem"),t(at,(()=>{var We=bt(()=>!!fe());return()=>We()?[(()=>{var Qt=om();return Qt.style.setProperty("font-size","1rem"),Qt})()," Cancel"]:[(()=>{var Qt=im();return Qt.style.setProperty("font-size","1rem"),Qt})()," Add New Payer"]})()),t(ee,n(p,{get when(){return fe()},get children(){var We=Y0(),Qt=We.firstChild,Lt=Qt.firstChild,Bt=Lt.firstChild,Ut=Bt.nextSibling,ar=Lt.nextSibling,jt=ar.firstChild,nr=jt.nextSibling,gr=ar.nextSibling,Fr=gr.firstChild,vr=Fr.nextSibling,Gr=gr.nextSibling,Ar=Gr.firstChild,Mr=Ar.nextSibling,tr=Gr.nextSibling,Er=tr.firstChild,Ft=Er.firstChild,fr=Ft.nextSibling,Ir=Er.nextSibling,ur=Ir.firstChild,Vr=ur.nextSibling,qr=tr.nextSibling,ls=qr.firstChild,cs=ls.nextSibling,hs=Qt.nextSibling,vs=hs.firstChild,rs=vs.nextSibling;return We.style.setProperty("background","#f9fafb"),We.style.setProperty("border","1px solid #e5e7eb"),We.style.setProperty("border-radius","8px"),We.style.setProperty("padding","1rem"),We.style.setProperty("margin-bottom","0.75rem"),Qt.style.setProperty("display","grid"),Qt.style.setProperty("grid-template-columns","1fr 1fr"),Qt.style.setProperty("gap","0.75rem"),Bt.style.setProperty("font-size","0.75rem"),Bt.style.setProperty("font-weight","500"),Bt.style.setProperty("color","#374151"),Bt.style.setProperty("display","block"),Bt.style.setProperty("margin-bottom","0.25rem"),Ut.$$input=Qr=>Wt(Qr.currentTarget.value),Ut.style.setProperty("width","100%"),Ut.style.setProperty("padding","0.5rem"),Ut.style.setProperty("border","1px solid #d1d5db"),Ut.style.setProperty("border-radius","6px"),Ut.style.setProperty("font-size","0.875rem"),Ut.style.setProperty("box-sizing","border-box"),jt.style.setProperty("font-size","0.75rem"),jt.style.setProperty("font-weight","500"),jt.style.setProperty("color","#374151"),jt.style.setProperty("display","block"),jt.style.setProperty("margin-bottom","0.25rem"),nr.$$input=Qr=>Je(Qr.currentTarget.value),nr.style.setProperty("width","100%"),nr.style.setProperty("padding","0.5rem"),nr.style.setProperty("border","1px solid #d1d5db"),nr.style.setProperty("border-radius","6px"),nr.style.setProperty("font-size","0.875rem"),nr.style.setProperty("box-sizing","border-box"),gr.style.setProperty("grid-column","span 2"),Fr.style.setProperty("font-size","0.75rem"),Fr.style.setProperty("font-weight","500"),Fr.style.setProperty("color","#374151"),Fr.style.setProperty("display","block"),Fr.style.setProperty("margin-bottom","0.25rem"),vr.$$input=Qr=>ve(Qr.currentTarget.value),vr.style.setProperty("width","100%"),vr.style.setProperty("padding","0.5rem"),vr.style.setProperty("border","1px solid #d1d5db"),vr.style.setProperty("border-radius","6px"),vr.style.setProperty("font-size","0.875rem"),vr.style.setProperty("box-sizing","border-box"),Ar.style.setProperty("font-size","0.75rem"),Ar.style.setProperty("font-weight","500"),Ar.style.setProperty("color","#374151"),Ar.style.setProperty("display","block"),Ar.style.setProperty("margin-bottom","0.25rem"),Mr.$$input=Qr=>we(Qr.currentTarget.value),Mr.style.setProperty("width","100%"),Mr.style.setProperty("padding","0.5rem"),Mr.style.setProperty("border","1px solid #d1d5db"),Mr.style.setProperty("border-radius","6px"),Mr.style.setProperty("font-size","0.875rem"),Mr.style.setProperty("box-sizing","border-box"),tr.style.setProperty("display","flex"),tr.style.setProperty("gap","0.5rem"),Er.style.setProperty("width","80px"),Ft.style.setProperty("font-size","0.75rem"),Ft.style.setProperty("font-weight","500"),Ft.style.setProperty("color","#374151"),Ft.style.setProperty("display","block"),Ft.style.setProperty("margin-bottom","0.25rem"),fr.$$input=Qr=>wt(Qr.currentTarget.value),fr.style.setProperty("width","100%"),fr.style.setProperty("padding","0.5rem"),fr.style.setProperty("border","1px solid #d1d5db"),fr.style.setProperty("border-radius","6px"),fr.style.setProperty("font-size","0.875rem"),fr.style.setProperty("box-sizing","border-box"),fr.style.setProperty("text-transform","uppercase"),Ir.style.setProperty("flex","1"),ur.style.setProperty("font-size","0.75rem"),ur.style.setProperty("font-weight","500"),ur.style.setProperty("color","#374151"),ur.style.setProperty("display","block"),ur.style.setProperty("margin-bottom","0.25rem"),Vr.$$input=Qr=>rr(Qr.currentTarget.value),Vr.style.setProperty("width","100%"),Vr.style.setProperty("padding","0.5rem"),Vr.style.setProperty("border","1px solid #d1d5db"),Vr.style.setProperty("border-radius","6px"),Vr.style.setProperty("font-size","0.875rem"),Vr.style.setProperty("box-sizing","border-box"),ls.style.setProperty("font-size","0.75rem"),ls.style.setProperty("font-weight","500"),ls.style.setProperty("color","#374151"),ls.style.setProperty("display","block"),ls.style.setProperty("margin-bottom","0.25rem"),cs.$$input=Qr=>qt(Qr.currentTarget.value),cs.style.setProperty("width","100%"),cs.style.setProperty("padding","0.5rem"),cs.style.setProperty("border","1px solid #d1d5db"),cs.style.setProperty("border-radius","6px"),cs.style.setProperty("font-size","0.875rem"),cs.style.setProperty("box-sizing","border-box"),hs.style.setProperty("display","flex"),hs.style.setProperty("gap","0.5rem"),hs.style.setProperty("margin-top","0.75rem"),hs.style.setProperty("justify-content","flex-end"),vs.$$click=()=>{Me(),ye(!1)},vs.style.setProperty("padding","0.5rem 1rem"),vs.style.setProperty("background","#f3f4f6"),vs.style.setProperty("border","none"),vs.style.setProperty("border-radius","6px"),vs.style.setProperty("cursor","pointer"),vs.style.setProperty("font-size","0.875rem"),rs.$$click=Ne,rs.style.setProperty("padding","0.5rem 1rem"),rs.style.setProperty("color","white"),rs.style.setProperty("border","none"),rs.style.setProperty("border-radius","6px"),rs.style.setProperty("font-size","0.875rem"),rs.style.setProperty("font-weight","500"),t(rs,()=>Ce()?"Update Payer":"Save Payer"),f(Qr=>{var Es=!Kt().trim()||!pt().trim(),ws=!Kt().trim()||!pt().trim()?"#d1d5db":"#059669",Ls=!Kt().trim()||!pt().trim()?"not-allowed":"pointer";return Es!==Qr.e&&(rs.disabled=Qr.e=Es),ws!==Qr.t&&((Qr.t=ws)!=null?rs.style.setProperty("background",ws):rs.style.removeProperty("background")),Ls!==Qr.a&&((Qr.a=Ls)!=null?rs.style.setProperty("cursor",Ls):rs.style.removeProperty("cursor")),Qr},{e:void 0,t:void 0,a:void 0}),f(()=>Ut.value=Kt()),f(()=>nr.value=pt()),f(()=>vr.value=xe()),f(()=>Mr.value=Se()),f(()=>fr.value=_t()),f(()=>Vr.value=it()),f(()=>cs.value=Dt()),We}}),null),t(ee,n(p,{get when(){return re().length>0},get fallback(){return(()=>{var We=zn();return We.style.setProperty("padding","1.5rem"),We.style.setProperty("text-align","center"),We.style.setProperty("color","#6b7280"),We.style.setProperty("font-size","0.875rem"),We.style.setProperty("background","#f9fafb"),We.style.setProperty("border-radius","8px"),We.style.setProperty("border","1px dashed #d1d5db"),t(We,(()=>{var Qt=bt(()=>!!nt());return()=>Qt()?"No payers match your search":(()=>{var Lt=lm(),Bt=Lt.firstChild,Ut=Bt.nextSibling;return Bt.style.setProperty("margin","0 0 0.5rem 0"),Ut.style.setProperty("margin","0"),Ut.style.setProperty("font-size","0.8rem"),Ut.style.setProperty("color","#9ca3af"),Lt})()})()),We})()},get children(){return n(Ht,{get each(){return re()},children:We=>{const Qt=()=>qe().has(We.id),Lt=()=>ke()[We.id]||0,Bt=()=>Qt()&&Lt()>0;return(()=>{var Ut=ym(),ar=Ut.firstChild,jt=ar.firstChild,nr=jt.nextSibling,gr=nr.firstChild,Fr=gr.firstChild,vr=gr.nextSibling;vr.firstChild;var Gr=nr.nextSibling,Ar=Gr.firstChild,Mr=Ar.nextSibling;return Ut.style.setProperty("display","flex"),Ut.style.setProperty("flex-direction","column"),Ut.style.setProperty("gap","0.5rem"),Ut.style.setProperty("padding","0.875rem"),Ut.style.setProperty("border-radius","8px"),Ut.style.setProperty("margin-bottom","0.5rem"),Ut.style.setProperty("transition","all 0.2s"),ar.style.setProperty("display","flex"),ar.style.setProperty("align-items","flex-start"),ar.style.setProperty("gap","0.75rem"),jt.addEventListener("change",()=>Ke(We.id)),jt.style.setProperty("width","20px"),jt.style.setProperty("height","20px"),jt.style.setProperty("cursor","pointer"),jt.style.setProperty("flex-shrink","0"),jt.style.setProperty("margin-top","2px"),jt.style.setProperty("accent-color","#22c55e"),nr.style.setProperty("flex","1"),nr.style.setProperty("min-width","0"),gr.style.setProperty("display","flex"),gr.style.setProperty("align-items","center"),gr.style.setProperty("gap","0.5rem"),Fr.style.setProperty("font-weight","600"),Fr.style.setProperty("font-size","0.95rem"),Fr.style.setProperty("color","#111827"),t(Fr,()=>We.name),t(gr,n(p,{get when(){return Bt()},get children(){var tr=ko();return tr.style.setProperty("background","#22c55e"),tr.style.setProperty("color","white"),tr.style.setProperty("padding","0.125rem 0.5rem"),tr.style.setProperty("border-radius","9999px"),tr.style.setProperty("font-size","0.7rem"),tr.style.setProperty("font-weight","600"),tr}}),null),vr.style.setProperty("font-size","0.8rem"),vr.style.setProperty("color","#6b7280"),vr.style.setProperty("margin-top","0.125rem"),t(vr,()=>We.ein,null),t(vr,()=>We.city&&We.state&&`  ${We.city}, ${We.state}`,null),Gr.style.setProperty("display","flex"),Gr.style.setProperty("gap","0.25rem"),Gr.style.setProperty("flex-shrink","0"),Ar.$$click=tr=>{tr.stopPropagation(),Tt(We)},Ar.style.setProperty("background","#f3f4f6"),Ar.style.setProperty("border","none"),Ar.style.setProperty("cursor","pointer"),Ar.style.setProperty("padding","0.375rem"),Ar.style.setProperty("border-radius","6px"),Mr.$$click=tr=>{tr.stopPropagation(),ae(We.id)},Mr.style.setProperty("background","#fef2f2"),Mr.style.setProperty("border","none"),Mr.style.setProperty("cursor","pointer"),Mr.style.setProperty("padding","0.375rem"),Mr.style.setProperty("border-radius","6px"),t(Ut,n(p,{get when(){return Qt()},get children(){var tr=dm(),Er=tr.firstChild,Ft=Er.nextSibling,fr=Ft.firstChild,Ir=fr.nextSibling;return tr.style.setProperty("display","flex"),tr.style.setProperty("align-items","center"),tr.style.setProperty("gap","0.75rem"),tr.style.setProperty("padding-left","2rem"),tr.style.setProperty("margin-top","0.25rem"),Er.style.setProperty("font-size","0.8rem"),Er.style.setProperty("font-weight","600"),Ft.style.setProperty("position","relative"),Ft.style.setProperty("display","flex"),Ft.style.setProperty("align-items","center"),fr.style.setProperty("position","absolute"),fr.style.setProperty("left","10px"),fr.style.setProperty("color","#374151"),fr.style.setProperty("font-size","0.9rem"),fr.style.setProperty("font-weight","600"),Ir.$$input=ur=>tt(We.id,parseFloat(ur.currentTarget.value)||0),Ir.style.setProperty("width","140px"),Ir.style.setProperty("padding","0.5rem 0.75rem 0.5rem 1.5rem"),Ir.style.setProperty("border-radius","8px"),Ir.style.setProperty("font-size","0.95rem"),Ir.style.setProperty("font-weight","600"),Ir.style.setProperty("outline","none"),t(tr,n(p,{get when(){return Lt()<=0},get children(){var ur=am();return ur.style.setProperty("font-size","0.75rem"),ur.style.setProperty("color","#92400e"),ur}}),null),t(tr,n(p,{get when(){return Lt()>0},get children(){var ur=Io();return ur.firstChild,ur.style.setProperty("font-size","0.8rem"),ur.style.setProperty("color","#166534"),ur.style.setProperty("font-weight","500"),t(ur,()=>Lt().toLocaleString("en-US",{minimumFractionDigits:2}),null),ur}}),null),f(ur=>{var Vr=Lt()>0?"#166534":"#92400e",qr=`2px solid ${Lt()>0?"#22c55e":"#fbbf24"}`,ls=Lt()>0?"#f0fdf4":"#fffbeb";return Vr!==ur.e&&((ur.e=Vr)!=null?Er.style.setProperty("color",Vr):Er.style.removeProperty("color")),qr!==ur.t&&((ur.t=qr)!=null?Ir.style.setProperty("border",qr):Ir.style.removeProperty("border")),ls!==ur.a&&((ur.a=ls)!=null?Ir.style.setProperty("background",ls):Ir.style.removeProperty("background")),ur},{e:void 0,t:void 0,a:void 0}),f(()=>Ir.value=Lt()||""),tr}}),null),f(tr=>{var Er=Bt()?"#f0fdf4":Qt()?"#fffbeb":"#fff",Ft=`2px solid ${Bt()?"#22c55e":Qt()?"#fbbf24":"#e5e7eb"}`;return Er!==tr.e&&((tr.e=Er)!=null?Ut.style.setProperty("background",Er):Ut.style.removeProperty("background")),Ft!==tr.t&&((tr.t=Ft)!=null?Ut.style.setProperty("border",Ft):Ut.style.removeProperty("border")),tr},{e:void 0,t:void 0}),f(()=>jt.checked=Qt()),Ut})()}})}}),null),t(_,n(p,{get when(){return S().length>0},get children(){var We=G0(),Qt=We.firstChild,Lt=Qt.firstChild,Bt=Lt.nextSibling,Ut=Bt.firstChild,ar=Ut.nextSibling;return ar.nextSibling,Qt.style.setProperty("display","flex"),Qt.style.setProperty("align-items","center"),Qt.style.setProperty("gap","0.5rem"),Qt.style.setProperty("margin-bottom","0.5rem"),Qt.style.setProperty("padding-bottom","0.5rem"),Qt.style.setProperty("border-bottom","1px solid #e5e7eb"),Lt.addEventListener("change",jt=>{jt.currentTarget.checked?$e(new Set(S().map(nr=>nr.id))):$e(new Set)}),Lt.style.setProperty("width","18px"),Lt.style.setProperty("height","18px"),Lt.style.setProperty("cursor","pointer"),Bt.style.setProperty("font-weight","600"),Bt.style.setProperty("font-size","0.875rem"),Bt.style.setProperty("color","#374151"),t(Bt,()=>S().length,ar),t(We,n(Ht,{get each(){return S()},children:jt=>{const nr=()=>he().has(jt.id),gr=()=>xt()[jt.id]||0,Fr=jt.extractedAmounts?.nonEmployeeCompensation||0;return(()=>{var vr=um(),Gr=vr.firstChild,Ar=Gr.firstChild,Mr=Ar.nextSibling,tr=Mr.firstChild,Er=tr.nextSibling;return vr.style.setProperty("display","flex"),vr.style.setProperty("flex-direction","column"),vr.style.setProperty("padding","0.75rem"),vr.style.setProperty("border-radius","8px"),vr.style.setProperty("transition","background 0.15s"),vr.style.setProperty("margin-bottom","0.5rem"),Gr.style.setProperty("display","flex"),Gr.style.setProperty("align-items","center"),Gr.style.setProperty("gap","0.75rem"),Gr.style.setProperty("cursor","pointer"),Ar.addEventListener("change",()=>{const Ft=new Set(he());Ft.has(jt.id)?Ft.delete(jt.id):(Ft.add(jt.id),Fr>0&&!xt()[jt.id]&&et(jt.id,Fr)),$e(Ft)}),Ar.style.setProperty("width","18px"),Ar.style.setProperty("height","18px"),Ar.style.setProperty("cursor","pointer"),Ar.style.setProperty("flex-shrink","0"),Mr.style.setProperty("flex","1"),Mr.style.setProperty("min-width","0"),tr.style.setProperty("font-weight","600"),tr.style.setProperty("font-size","0.9rem"),tr.style.setProperty("color","#111827"),t(tr,()=>jt.payerInfo?.name||"Unknown Payer"),Er.style.setProperty("font-size","0.8rem"),Er.style.setProperty("color","#6b7280"),Er.style.setProperty("margin-top","0.125rem"),t(Er,()=>jt.payerInfo?.ein?`EIN: ${jt.payerInfo.ein}`:"No EIN",null),t(Er,()=>jt._owner==="spouse"?" (Spouse)":"",null),t(Er,Fr>0&&(()=>{var Ft=mm(),fr=Ft.firstChild,Ir=fr.nextSibling;return Ir.nextSibling,Ft.style.setProperty("margin-left","0.5rem"),Ft.style.setProperty("color","#9ca3af"),t(Ft,()=>Fr.toLocaleString("en-US",{minimumFractionDigits:2}),Ir),Ft})(),null),t(Gr,n(p,{get when(){return gr()>0},get children(){var Ft=ko();return Ft.style.setProperty("background","#dcfce7"),Ft.style.setProperty("color","#166534"),Ft.style.setProperty("padding","0.125rem 0.5rem"),Ft.style.setProperty("border-radius","9999px"),Ft.style.setProperty("font-size","0.7rem"),Ft.style.setProperty("font-weight","600"),Ft}}),null),t(vr,n(p,{get when(){return nr()},get children(){var Ft=pm(),fr=Ft.firstChild,Ir=fr.nextSibling,ur=Ir.firstChild,Vr=ur.nextSibling;return Ft.style.setProperty("display","flex"),Ft.style.setProperty("align-items","center"),Ft.style.setProperty("gap","0.5rem"),Ft.style.setProperty("margin-top","0.5rem"),Ft.style.setProperty("padding-top","0.5rem"),Ft.style.setProperty("border-top","1px dashed #e5e7eb"),Ft.style.setProperty("margin-left","2rem"),fr.style.setProperty("font-size","0.8rem"),fr.style.setProperty("color","#374151"),fr.style.setProperty("font-weight","500"),Ir.style.setProperty("position","relative"),Ir.style.setProperty("flex","1"),Ir.style.setProperty("max-width","150px"),ur.style.setProperty("position","absolute"),ur.style.setProperty("left","0.5rem"),ur.style.setProperty("top","50%"),ur.style.setProperty("transform","translateY(-50%)"),ur.style.setProperty("color","#6b7280"),ur.style.setProperty("font-size","0.9rem"),Vr.$$input=qr=>et(jt.id,parseFloat(qr.currentTarget.value)||0),Vr.style.setProperty("width","100%"),Vr.style.setProperty("padding","0.375rem 0.5rem 0.375rem 1.25rem"),Vr.style.setProperty("border","1px solid #d1d5db"),Vr.style.setProperty("border-radius","6px"),Vr.style.setProperty("font-size","0.9rem"),Vr.style.setProperty("box-sizing","border-box"),t(Ft,n(p,{get when(){return gr()>0},get children(){var qr=Io();return qr.firstChild,qr.style.setProperty("font-size","0.85rem"),qr.style.setProperty("color","#166534"),qr.style.setProperty("font-weight","600"),t(qr,()=>gr().toLocaleString("en-US",{minimumFractionDigits:2}),null),qr}}),null),t(Ft,n(p,{get when(){return gr()<=0},get children(){var qr=cm();return qr.style.setProperty("font-size","0.75rem"),qr.style.setProperty("color","#92400e"),qr}}),null),f(()=>Vr.value=gr()||""),Ft}}),null),f(Ft=>{var fr=nr()?gr()>0?"#f0fdf4":"#fefce8":"#f9fafb",Ir=`1px solid ${nr()?gr()>0?"#86efac":"#fde047":"#e5e7eb"}`;return fr!==Ft.e&&((Ft.e=fr)!=null?vr.style.setProperty("background",fr):vr.style.removeProperty("background")),Ir!==Ft.t&&((Ft.t=Ir)!=null?vr.style.setProperty("border",Ir):vr.style.removeProperty("border")),Ft},{e:void 0,t:void 0}),f(()=>Ar.checked=nr()),vr})()}}),null),f(()=>Lt.checked=he().size===S().length&&S().length>0),We}}),null),Mt.style.setProperty("border-top","1px solid #e5e7eb"),Mt.style.setProperty("padding-top","1rem"),t(Mt,n(p,{get when(){return je()>0||G()>0||Ct()>0},get children(){var We=J0(),Qt=We.firstChild;return We.style.setProperty("display","flex"),We.style.setProperty("flex-direction","column"),We.style.setProperty("gap","0.5rem"),We.style.setProperty("margin-bottom","0.75rem"),We.style.setProperty("padding","0.75rem"),We.style.setProperty("background","#f9fafb"),We.style.setProperty("border-radius","8px"),We.style.setProperty("font-size","0.85rem"),Qt.style.setProperty("display","flex"),Qt.style.setProperty("flex-wrap","wrap"),Qt.style.setProperty("gap","1rem"),t(Qt,n(p,{get when(){return de()>0},get children(){var Lt=V0(),Bt=Lt.firstChild,Ut=Bt.nextSibling,ar=Ut.nextSibling,jt=ar.firstChild,nr=jt.nextSibling;return nr.nextSibling,Lt.style.setProperty("color","#166534"),t(Bt,de),ar.style.setProperty("margin-left","0.25rem"),ar.style.setProperty("color","#059669"),ar.style.setProperty("font-weight","600"),t(ar,()=>lt().toLocaleString("en-US",{minimumFractionDigits:2}),nr),Lt}}),null),t(Qt,n(p,{get when(){return Q()>0},get children(){var Lt=q0(),Bt=Lt.firstChild,Ut=Bt.nextSibling,ar=Ut.nextSibling,jt=ar.firstChild,nr=jt.nextSibling;return nr.nextSibling,Lt.style.setProperty("color","#166534"),t(Bt,Q),ar.style.setProperty("margin-left","0.25rem"),ar.style.setProperty("color","#059669"),ar.style.setProperty("font-weight","600"),t(ar,()=>_e().toLocaleString("en-US",{minimumFractionDigits:2}),nr),Lt}}),null),t(Qt,n(p,{get when(){return Ct()>0},get children(){var Lt=Q0(),Bt=Lt.firstChild;return Lt.style.setProperty("color","#92400e"),t(Bt,Ct),Lt}}),null),t(Qt,n(p,{get when(){return G()>0},get children(){var Lt=X0(),Bt=Lt.firstChild;return Lt.style.setProperty("color","#92400e"),t(Bt,G),Lt}}),null),t(We,n(p,{get when(){return ie()>0},get children(){var Lt=K0(),Bt=Lt.firstChild,Ut=Bt.nextSibling;return Ut.firstChild,Lt.style.setProperty("display","flex"),Lt.style.setProperty("justify-content","space-between"),Lt.style.setProperty("align-items","center"),Lt.style.setProperty("padding-top","0.5rem"),Lt.style.setProperty("border-top","1px dashed #d1d5db"),Lt.style.setProperty("margin-top","0.25rem"),Bt.style.setProperty("font-weight","600"),Bt.style.setProperty("color","#374151"),Ut.style.setProperty("font-weight","700"),Ut.style.setProperty("font-size","1.1rem"),Ut.style.setProperty("color","#059669"),t(Ut,()=>ie().toLocaleString("en-US",{minimumFractionDigits:2}),null),Lt}}),null),We}}),Re),Re.style.setProperty("display","flex"),Re.style.setProperty("gap","0.75rem"),Re.style.setProperty("justify-content","flex-end"),wr.$$click=()=>O(!1),wr.style.setProperty("padding","0.75rem 1.5rem"),wr.style.setProperty("background","#f3f4f6"),wr.style.setProperty("border","none"),wr.style.setProperty("border-radius","8px"),wr.style.setProperty("cursor","pointer"),wr.style.setProperty("font-weight","500"),er.$$click=()=>{const We=B();We.length>0&&B0(We,o()?.id)},er.style.setProperty("padding","0.75rem 1.5rem"),er.style.setProperty("color","white"),er.style.setProperty("border","none"),er.style.setProperty("border-radius","8px"),er.style.setProperty("font-weight","600"),er.style.setProperty("display","flex"),er.style.setProperty("align-items","center"),er.style.setProperty("gap","0.5rem"),Or.style.setProperty("width","18px"),Or.style.setProperty("height","18px"),Ue.$$click=()=>{const We=B();We.length>0&&(R0(We),O(!1))},Ue.style.setProperty("padding","0.75rem 1.5rem"),Ue.style.setProperty("color","white"),Ue.style.setProperty("border","none"),Ue.style.setProperty("border-radius","8px"),Ue.style.setProperty("font-weight","600"),Ue.style.setProperty("display","flex"),Ue.style.setProperty("align-items","center"),Ue.style.setProperty("gap","0.5rem"),jr.style.setProperty("width","18px"),jr.style.setProperty("height","18px"),t(Ue,je,Ur),f(We=>{var Qt=fe()?"#fef2f2":"#f0fdf4",Lt=fe()?"#dc2626":"#059669",Bt=`1px solid ${fe()?"#fecaca":"#86efac"}`,Ut=je()===0,ar=je()===0?"#d1d5db":"#2563eb",jt=je()===0?"not-allowed":"pointer",nr=je()===0,gr=je()===0?"#d1d5db":"#059669",Fr=je()===0?"not-allowed":"pointer";return Qt!==We.e&&((We.e=Qt)!=null?at.style.setProperty("background",Qt):at.style.removeProperty("background")),Lt!==We.t&&((We.t=Lt)!=null?at.style.setProperty("color",Lt):at.style.removeProperty("color")),Bt!==We.a&&((We.a=Bt)!=null?at.style.setProperty("border",Bt):at.style.removeProperty("border")),Ut!==We.o&&(er.disabled=We.o=Ut),ar!==We.i&&((We.i=ar)!=null?er.style.setProperty("background",ar):er.style.removeProperty("background")),jt!==We.n&&((We.n=jt)!=null?er.style.setProperty("cursor",jt):er.style.removeProperty("cursor")),nr!==We.s&&(Ue.disabled=We.s=nr),gr!==We.h&&((We.h=gr)!=null?Ue.style.setProperty("background",gr):Ue.style.removeProperty("background")),Fr!==We.r&&((We.r=Fr)!=null?Ue.style.setProperty("cursor",Fr):Ue.style.removeProperty("cursor")),We},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0}),f(()=>De.value=nt()),m}}),null),f(m=>s(ue,Be,m)),ue}})}})};is(["click","mouseover","mouseout","input"]);export{Sm as default};
