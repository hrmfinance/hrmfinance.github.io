import{J as _t,c as ce,t as I,i as o,a as G,b as oe,S as Ae,F as pe,K as Me,d as Et,f as Vt,v as Zt}from"./index-nGUKm9jA.js";function Qt(){const i=new Date().toISOString().split("T")[0].replace(/-/g,""),t=Math.random().toString(36).substring(2,8).toUpperCase();return`MF-${i}-${t}`}function qt(i){const t=i.address?.estate||"",e=i.address?.city||"",d=i.address?.rpto||"",n=i.address?.streetName||i.street||"",s=i.address?.streetNo||"",m=i.address?.betwen||"";return`${t}|${e}|${d}|${n}|${s}|${m}`.toLowerCase()}function Xe(i){const t=parseFloat(i);return isNaN(t)?0:t}function Kt(i){const t=parseInt(i,10);return isNaN(t)?1:t}function Xt(i,t){let e=i;t?.filters&&(e=er(i,t.filters));const d=new Map;e.forEach(u=>{console.log(u.address);let F=(u.address?.estate||"").trim();F||(u.address=rr(u.street),F=(u.address?.estate||"").trim()),d.has(F)||d.set(F,[]),d.get(F).push(u)});const n=[];let s=0,m=0,l=0,O=0,v=0;return d.forEach((u,F)=>{const c=new Map;u.forEach(T=>{const g=(T.address?.city||"Unknown").trim();c.has(g)||c.set(g,[]),c.get(g).push(T)});const A=[];let x=0,N=0,w=0,r=0,$=0;c.forEach((T,g)=>{const P=new Map;T.forEach(_=>{const E=(_.address?.rpto||_.address?.Rpto||"Unknown").trim();P.has(E)||P.set(E,[]),P.get(E).push(_)});const f=[];let z=0,L=0,S=0,C=0;P.forEach((_,E)=>{const R=new Map;_.forEach(W=>{const J=qt(W);R.has(J)||R.set(J,[]),R.get(J).push(W)});const j=[];let ne=0,V=0,K=0;R.forEach((W,J)=>{const H=W[0],X=new Map;W.forEach(ie=>{const te=(ie.cidentity?.trim()||"UNKNOWN").toUpperCase();X.has(te)||X.set(te,[]),X.get(te).push(ie)});const ge=[];let be=0,Le=0;X.forEach((ie,te)=>{const xe=new Map;ie.forEach(ue=>{const de=ue.bagnumber?.trim()||"N/A";xe.has(de)||xe.set(de,[]),xe.get(de).push(ue)});const ae=[];let Te=0,me=0;xe.forEach((ue,de)=>{const $e=new Map;ue.forEach(B=>{const fe=B.hbl?.trim()||"UNKNOWN";$e.has(fe)||$e.set(fe,[]),$e.get(fe).push(B)});const ve=[];let Z=0,Pe=0,ye=0;$e.forEach((B,fe)=>{const Se=B.map(re=>({hbl:re.hbl,namegood:re.namegood,quantity:re.quantity,weight:re.weight,idguidestate:re.idguidestate})),ze=B.reduce((re,a)=>re+Xe(a.weight),0),Oe=B.reduce((re,a)=>re+Kt(a.quantity),0);ve.push({hbl:fe,items:Se,itemCount:Se.length,totalWeight:ze,totalQuantity:Oe}),Z+=ze,Pe+=Oe,ye+=Se.length}),ae.push({bagNumber:de,hblGroups:ve,totalHBLs:ve.length,totalWeight:Z,totalQuantity:Pe,itemCount:ye}),Te+=Z,me+=ye});const ke=ie[0];ge.push({cid:te,consigneeName:ke.consigneeName,ctelephone:ke.ctelephone,bags:ae,totalBags:ae.length,totalWeight:Te,totalItems:me}),be+=ae.length,Le+=me});const Ie=W.reduce((ie,te)=>ie+Xe(te.weight),0);console.log(H),j.push({estate:H.address?.estate||"",city:H.address?.city||"",rpto:H.address?.Rpto||H.address?.rpto||"",streetName:H.address?.streetName||H.street,streetNo:H.address?.streetNo||"",between:H.address?.betwen||"",fullAddress:H.street,customers:ge,totalCustomers:ge.length,totalBags:be,totalItems:Le}),s++,m+=ge.length,l+=be,O+=Le,v+=Ie}),j.sort((W,J)=>{const H=W.streetName.localeCompare(J.streetName);return H!==0?H:W.streetNo.localeCompare(J.streetNo,void 0,{numeric:!0})}),f.push({rpto:E,addresses:j,totalAddresses:j.length,totalCustomers:ne,totalBags:V,totalItems:K}),z+=j.length,L+=ne,S+=V,C+=K}),A.push({city:g,rptos:f,totalRptos:f.length,totalAddresses:z,totalCustomers:L,totalBags:S,totalItems:C}),x+=f.length,N+=z,w+=L,r+=S,$+=C}),n.push({state:F,cities:A,totalCities:A.length,totalRptos:x,totalAddresses:N,totalCustomers:w,totalBags:r,totalItems:$})}),n.sort((u,F)=>u.state.localeCompare(F.state)),{manifestId:Qt(),generatedAt:new Date,generatedBy:t?.generatedBy,guideNumber:t?.guideNumber,states:n,totalStates:n.length,totalAddresses:s,totalCustomers:m,totalBags:l,totalItems:O,totalWeight:v,status:"ready"}}function er(i,t){let e=[...i];if(t.state&&(e=e.filter(d=>d.address?.estate?.toLowerCase().includes(t.state.toLowerCase()))),t.city&&(e=e.filter(d=>d.address?.city?.toLowerCase().includes(t.city.toLowerCase()))),t.guideNumber&&(e=e.filter(d=>d.guia?.toLowerCase().includes(t.guideNumber.toLowerCase()))),t.status&&(e=e.filter(d=>d.idguidestate===t.status)),t.dateFrom){const d=new Date(t.dateFrom);e=e.filter(n=>new Date(n.datereserve)>=d)}if(t.dateTo){const d=new Date(t.dateTo);e=e.filter(n=>new Date(n.datereserve)<=d)}return t.minWeight!==void 0&&(e=e.filter(d=>Xe(d.weight)>=t.minWeight)),t.maxWeight!==void 0&&(e=e.filter(d=>Xe(d.weight)<=t.maxWeight)),e}function tr(i,t=!0){return i.states.map(e=>({state:e.state,cities:e.cities.map(d=>({city:d.city,rptos:d.rptos.map(n=>({rpto:n.rpto,addresses:n.addresses.map(s=>({address:s.fullAddress,customers:s.customers.map(m=>({cid:m.cid,name:m.consigneeName,phone:m.ctelephone,bags:m.bags.map(l=>({bagNumber:l.bagNumber,totalHBLs:l.totalHBLs,hbls:t?l.hblGroups.map(O=>O.hbl):l.hblGroups.map(O=>({hbl:O.hbl,items:O.items,itemCount:O.itemCount,weight:O.totalWeight.toFixed(2)})),weight:l.totalWeight.toFixed(2),quantity:l.totalQuantity,itemCount:l.itemCount})),totalBags:m.totalBags,totalItems:m.totalItems,signature:"_________________________"}))}))}))}))}))}const rr=i=>{let t=i?.toUpperCase(),e=t?.split(","),d=e[e.length-2].trim(),n=t?.split(", "+d)?.[0],s={},m=["CALLE","#","RPTO.","REPARTO","E/","APTO","APT"];n.indexOf("REPARTO")===0?n="CALLE "+n.slice(7,n.length-1):n.indexOf("CALLE")!==0&&(n="CALLE "+n),n.indexOf("APTO")>=0&&(n=n.split("APTO").join("APT")),m.map(v=>{let u=n?.indexOf(v);u>=0&&(s[u]=v)});let l={estate:e[e.length-1].trim(),city:d},O={CALLE:"streetName","#":"streetNo","RPTO.":"Rpto",REPARTO:"Rpto","E/":"betwen",APT:"apt"};return Object.keys(s).map((v,u)=>{let F=v*1,c=parseInt(Object.keys(s)[u+1])||n.length;l[O[s[v]]]=n?.slice(F,c)?.split(s[v])?.join("")?.trim()}),l};async function sr(i,t={}){const e=new _t({orientation:"portrait",unit:"mm",format:"letter"}),d=e.internal.pageSize.getWidth(),n=e.internal.pageSize.getHeight(),s=15,m=d-s*2;let l=s,O=1;const v=(w=20)=>l+w>n-s?(e.addPage(),O++,l=s,!0):!1,u=()=>{e.setFontSize(8),e.setTextColor(128,128,128),e.text(`PÃ¡gina ${O} | Generado: ${new Date().toLocaleString("es-ES")}`,d/2,n-8,{align:"center"})};e.setFontSize(20),e.setFont("helvetica","bold"),e.setTextColor(13,110,253),e.text("MANIFIESTO DE ENTREGA",s,l),l+=8,e.setFontSize(10),e.setFont("helvetica","normal"),e.setTextColor(0,0,0),e.text(`ID Manifiesto: ${i.manifestId}`,s,l),l+=5,i.guideNumber&&(e.text(`NÃºmero de GuÃ­a: ${i.guideNumber}`,s,l),l+=5),e.text(`Generado: ${new Date(i.generatedAt).toLocaleString("es-ES")}`,s,l),l+=8,e.setDrawColor(200,200,200),e.setFillColor(248,249,250),e.rect(s,l,m,20,"FD"),l+=5,e.setFontSize(9),e.setFont("helvetica","bold");const F=s+5,c=F,A=F+50,x=F+100;e.text(`Estados: ${i.totalStates}`,c,l),e.text(`Direcciones: ${i.totalAddresses}`,A,l),e.text(`Clientes: ${i.totalCustomers}`,x,l),l+=5,e.text(`Bolsas: ${i.totalBags}`,c,l),e.text(`ArtÃ­culos: ${i.totalItems}`,A,l),e.text(`Peso: ${i.totalWeight.toFixed(2)} kgs`,x,l),l+=12,i.states.forEach((w,r)=>{t.pageBreakByState&&r>0?(e.addPage(),O++,l=s):v(30),e.setFillColor(13,110,253),e.rect(s,l,m,8,"F"),e.setFontSize(11),e.setFont("helvetica","bold"),e.setTextColor(255,255,255),e.text(`${w.state} - ${w.totalCities} Ciudades, ${w.totalAddresses} Direcciones`,s+2,l+5.5),l+=10,w.cities.forEach($=>{v(15),e.setFillColor(231,241,255),e.rect(s,l,m,6,"F"),e.setFontSize(10),e.setFont("helvetica","bold"),e.setTextColor(13,110,253),e.text(`${$.city} - ${$.totalRptos} Rptos, ${$.totalAddresses} Direcciones`,s+2,l+4),l+=8,$.rptos.forEach(T=>{v(12),e.setFillColor(248,249,250),e.rect(s+3,l,m-6,5,"F"),e.setFontSize(9),e.setFont("helvetica","bold"),e.setTextColor(73,80,87),e.text(`${T.rpto} - ${T.totalAddresses} Direcciones, ${T.totalCustomers} Clientes`,s+5,l+3.5),l+=7,T.addresses.forEach((g,P)=>{v(40),e.setDrawColor(222,226,230),e.setLineWidth(.5),e.rect(s,l,m,8),e.setFillColor(231,241,255),e.rect(s,l,m,8,"F"),e.setFontSize(10),e.setFont("helvetica","bold"),e.setTextColor(0,0,0),e.text(`${g.fullAddress}`,s+2,l+5.5),e.setFont("helvetica","normal"),e.setTextColor(108,117,125),e.text(`(${g.totalCustomers} clientes, ${g.totalBags} bolsas)`,s+2,l+9.5),l+=11,g.customers.forEach((f,z)=>{v(35),e.setFillColor(248,249,250),e.rect(s+5,l,m-10,12,"F"),e.setFontSize(9),e.setFont("helvetica","bold"),e.setTextColor(0,0,0);const L=s+7;e.text(`CID: ${f.cid}`,L,l+4),e.text(`Nombre: ${f.consigneeName}`,L,l+8),e.text(`TelÃ©fono: ${f.ctelephone}`,L+80,l+4),e.text(`${f.totalBags} bolsas | ${f.totalItems} artÃ­culos | ${f.totalWeight.toFixed(2)} kgs`,L+80,l+8),l+=14,f.bags.forEach(S=>{v(20),e.setFontSize(8),e.setFont("helvetica","bold"),e.setTextColor(0,0,0);const C=s+10;e.text(`Bolsa #${S.bagNumber}  -  ${S.totalHBLs} HBLs  |  ${S.itemCount} artÃ­culos  |  ${S.totalWeight.toFixed(2)} kgs`,C,l),l+=4,e.setFont("helvetica","bold"),e.setFontSize(7),e.setTextColor(13,110,253),S.hblGroups.forEach(_=>{v(8),e.text(`${_.hbl} (${_.itemCount} artÃ­culos, ${_.totalWeight.toFixed(2)} kgs)`,C+3,l),l+=3.5,t.includeDetails&&(e.setFont("helvetica","normal"),e.setFontSize(6),e.setTextColor(73,80,87),_.items.forEach(E=>{v(5),e.text(`    â€¢ ${E.namegood.substring(0,35)} (${E.quantity} pzs, ${E.weight} kgs)`,C+6,l),l+=3}),l+=1,e.setFont("helvetica","bold"),e.setFontSize(7),e.setTextColor(13,110,253))}),l+=2}),t.includeSignature!==!1&&(v(15),e.setDrawColor(0,0,0),e.setLineWidth(.3),e.line(d-s-60,l+8,d-s-10,l+8),e.setFontSize(8),e.setFont("helvetica","normal"),e.setTextColor(0,0,0),e.text("Firma",d-s-35,l+12,{align:"center"}),l+=15),z<g.customers.length-1&&(e.setDrawColor(222,226,230),e.setLineWidth(.2),e.line(s+5,l,d-s-5,l),l+=3)}),l+=5})})}),l+=3});const N=e.internal.pages.length-1;for(let w=1;w<=N;w++)e.setPage(w),u();return e}async function lr(i,t={}){const e=await sr(i,t),d=`Manifiesto-${i.manifestId}.pdf`;e.save(d)}async function or(i){const t=new _t({orientation:"portrait",unit:"mm",format:"letter"});console.log({manifest:i});const e=t.internal.pageSize.getWidth(),d=t.internal.pageSize.getHeight(),n=15;let s=n;return t.setFontSize(16),t.setFont("helvetica","bold"),t.text("MANIFIESTO DE ENTREGA",e/2,s,{align:"center"}),s+=8,t.setFontSize(9),t.setFont("helvetica","normal"),t.text(`ID: ${i.manifestId}`,e/2,s,{align:"center"}),s+=5,i.guideNumber&&(t.text(`GuÃ­a: ${i.guideNumber}`,e/2,s,{align:"center"}),s+=5),s+=5,i.states.forEach(m=>{s>d-30&&(t.addPage(),s=n),t.setFillColor(13,110,253),t.rect(n,s,e-n*2,7,"F"),t.setFontSize(10),t.setFont("helvetica","bold"),t.setTextColor(255,255,255),t.text(`${m.state}`,n+2,s+4.5),s+=9,m.cities.forEach(l=>{l.rptos.forEach(O=>{O.addresses.forEach(v=>{const u=new Map;v.customers.forEach(x=>{const N=x.cid;u.has(N)||u.set(N,[]),u.get(N).push(x)});const F=7;u.forEach((x,N)=>{x.reduce((w,r)=>w+r.bags.length,0)});const c=Array.from(u.values())[0]?.reduce((x,N)=>x+N.bags.length,0)||0,A=F+11+c*3.5+9;s+A>d-n&&(t.addPage(),s=n),t.setFillColor(231,241,255),t.rect(n,s,e-n*2,6,"F"),t.setFontSize(8),t.setFont("helvetica","bold"),t.setTextColor(13,110,253),t.text(v?.fullAddress?.substring(0,90)||"Sin direcciÃ³n",n+2,s+4),s+=7,u.forEach((x,N)=>{const w=x.reduce((S,C)=>S+C.bags.length,0),r=11,$=w*3.5,g=r+$+9;s+g>d-n&&(t.addPage(),s=n),t.setFillColor(248,249,250),t.rect(n,s,e-n*2,10,"F"),t.setFontSize(8),t.setFont("helvetica","bold"),t.setTextColor(0,0,0);const P=x[0];t.text(`CID: ${N} - ${P?.consigneeName?.substring(0,35)}`,n+2,s+4);const f=x.reduce((S,C)=>S+C.totalBags,0),z=x.reduce((S,C)=>S+C.totalItems,0),L=x.reduce((S,C)=>S+C.totalWeight,0);t.setFont("helvetica","normal"),t.setTextColor(108,117,125),t.text(`${f} bolsas | ${z} artÃ­culos | ${L.toFixed(1)} kgs`,e-n-5,s+4,{align:"right"}),P?.ctelephone&&(t.setFontSize(7),t.text(`Tel: ${P.ctelephone}`,n+2,s+8)),s+=11,x.forEach(S=>{S.bags.forEach(C=>{const _=n+3;t.setFontSize(7),t.setFont("helvetica","bold"),t.setTextColor(0,0,0),t.text(`Bolsa #${C?.bagNumber}`,_,s),t.setFont("helvetica","normal"),t.setTextColor(13,110,253);const E=C.hblGroups.map(R=>R.hbl).join(", ");t.text(`HBLs: ${E.substring(0,85)}`,_+35,s),t.setTextColor(0,0,0),s+=3.5})}),s+=2,t.setDrawColor(0,0,0),t.setLineWidth(.2),t.line(e-n-50,s,e-n-5,s),t.setFontSize(6),t.setTextColor(0,0,0),t.text("Firma",e-n-27.5,s+3,{align:"center"}),s+=7})})})}),s+=2}),t}var ir=I("<button>ğŸ–¨ï¸ Imprimir"),nr=I("<button>ğŸ“„ Descargar PDF"),ar=I("<button>ğŸ“‹ PDF Compacto"),dr=I("<button>ğŸ’¾ Exportar JSON"),yr=I("<label><input type=checkbox><span>Modo Compacto"),pr=I("<label><input type=checkbox><span>Mostrar Detalles"),cr=I(`<div class=delivery-manifest><div class="manifest-toolbar no-print"><div><button>ğŸ“‹ Generar Manifiesto</button></div></div><style>
        @media print {
          .no-print {
            display: none !important;
          }

          .manifest-content {
            border: none !important;
            padding: 0 !important;
          }

          .manifest-state {
            page-break-inside: avoid;
          }

          .manifest-customer {
            page-break-inside: avoid;
          }

          body {
            font-size: 11pt;
          }

          h1 {
            font-size: 18pt !important;
          }
        }

        .delivery-manifest {
          max-width: 1200px;
          margin: 0 auto;
          padding: 1rem;
        }
      `),gr=I('<div><div>ğŸ“¦</div><h3>No hay Manifiesto Generado</h3><p>Busque registros HBL, luego haga clic en "Generar Manifiesto" para crear un manifiesto de entrega'),br=I("<div><strong>NÃºmero de GuÃ­a:</strong> "),mr=I("<div class=manifest-content><div class=manifest-header><div><div><h1>ğŸ“¦ Manifiesto de Entrega</h1><div><strong>ID Manifiesto:</strong> </div></div><div><div></div><div> Direcciones</div><div> Clientes | <!> ArtÃ­culos</div></div></div></div><div class=manifest-footer><h3>ğŸ“Š Resumen del Manifiesto</h3><div><div><strong>Estados:</strong> </div><div><strong>Ciudades:</strong> </div><div><strong>Rptos:</strong> </div><div><strong>Direcciones:</strong> </div><div><strong>Clientes:</strong> </div><div><strong>Bolsas:</strong> </div><div><strong>ArtÃ­culos:</strong> </div><div><strong>Peso:</strong> <!> lbs"),ur=I("<div class=manifest-state><div>ğŸ“ <!> - <!> Direcciones, <!> Clientes"),Pr=I("<div class=manifest-city><div>ğŸ™ï¸ <!> - <!> Rptos, <!> Direcciones"),fr=I("<div class=manifest-rpto><div>ğŸ“ <!> - <!> Direcciones, <!> Clientes"),hr=I("<div class=manifest-address><div>ğŸ  <span>(<!> clientes, <!> bolsas)</span></div><div>"),Ar=I("<div class=manifest-customer><div><div><strong>CID:</strong> </div><div><strong>Nombre:</strong> </div><div><strong>TelÃ©fono:</strong> </div></div><div></div><div><div><strong>Total:</strong> <!> bolsas | <!> artÃ­culos | <!> lbs</div><div><div>Firma"),xr=I("<div class=manifest-bag><div><div><strong>ğŸ“¦ Bolsa #</strong><span> HBLs | <!> artÃ­culos | <!> lbs</span></div></div><div>"),$r=I("<div>"),vr=I("<div><div>ğŸ·ï¸ <span>(<!> artÃ­culos, <!> lbs)"),Sr=I("<div>â€¢ <!> (<!> pcs, <!> lbs)");const Cr=i=>{const[t,e]=ce(null),[d,n]=ce(!0),[s,m]=ce(!1),l=()=>{const c=Me.filteredHBLs();if(c.length===0){alert("No se encontraron registros HBL. Por favor, busque registros primero.");return}const A=Xt(c,{guideNumber:i.guideNumber,generatedBy:"Sistema"});e(A)},O=()=>{window.print()},v=()=>{const c=t();if(!c)return;const A=tr(c,d()),x=JSON.stringify(A,null,2),N=new Blob([x],{type:"application/json"}),w=URL.createObjectURL(N),r=document.createElement("a");r.href=w,r.download=`manifest-${c.manifestId}.json`,r.click(),URL.revokeObjectURL(w)},u=async()=>{const c=t();if(c)try{await lr(c,{includeDetails:s(),includeSignature:!0,compactMode:d()})}catch(A){console.error("Error generating PDF:",A),alert("Error al generar PDF. Por favor, intente de nuevo.")}},F=async()=>{const c=t();if(c)try{(await or(c)).save(`Manifiesto-${c.manifestId}-Compacto.pdf`)}catch(A){console.error("Error generating compact PDF:",A),alert("Error al generar PDF compacto. Por favor, intente de nuevo.")}};return(()=>{var c=cr(),A=c.firstChild,x=A.firstChild,N=x.firstChild,w=A.nextSibling;return A.style.setProperty("padding","1rem"),A.style.setProperty("background","#f8f9fa"),A.style.setProperty("border","1px solid #dee2e6"),A.style.setProperty("border-radius","8px"),A.style.setProperty("margin-bottom","1.5rem"),x.style.setProperty("display","flex"),x.style.setProperty("gap","1rem"),x.style.setProperty("flex-wrap","wrap"),x.style.setProperty("align-items","center"),N.$$click=l,N.style.setProperty("padding","0.5rem 1rem"),N.style.setProperty("background","#0d6efd"),N.style.setProperty("color","white"),N.style.setProperty("border","none"),N.style.setProperty("border-radius","4px"),N.style.setProperty("cursor","pointer"),N.style.setProperty("font-weight","500"),o(x,G(Ae,{get when(){return t()},get children(){return[(()=>{var r=ir();return r.$$click=O,r.style.setProperty("padding","0.5rem 1rem"),r.style.setProperty("background","#198754"),r.style.setProperty("color","white"),r.style.setProperty("border","none"),r.style.setProperty("border-radius","4px"),r.style.setProperty("cursor","pointer"),r.style.setProperty("font-weight","500"),r})(),(()=>{var r=nr();return r.$$click=u,r.style.setProperty("padding","0.5rem 1rem"),r.style.setProperty("background","#dc3545"),r.style.setProperty("color","white"),r.style.setProperty("border","none"),r.style.setProperty("border-radius","4px"),r.style.setProperty("cursor","pointer"),r.style.setProperty("font-weight","500"),r})(),(()=>{var r=ar();return r.$$click=F,r.style.setProperty("padding","0.5rem 1rem"),r.style.setProperty("background","#fd7e14"),r.style.setProperty("color","white"),r.style.setProperty("border","none"),r.style.setProperty("border-radius","4px"),r.style.setProperty("cursor","pointer"),r.style.setProperty("font-weight","500"),r})(),(()=>{var r=dr();return r.$$click=v,r.style.setProperty("padding","0.5rem 1rem"),r.style.setProperty("background","#6c757d"),r.style.setProperty("color","white"),r.style.setProperty("border","none"),r.style.setProperty("border-radius","4px"),r.style.setProperty("cursor","pointer"),r.style.setProperty("font-weight","500"),r})(),(()=>{var r=yr(),$=r.firstChild;return r.style.setProperty("display","flex"),r.style.setProperty("align-items","center"),r.style.setProperty("gap","0.5rem"),r.style.setProperty("cursor","pointer"),$.addEventListener("change",T=>n(T.currentTarget.checked)),oe(()=>$.checked=d()),r})(),(()=>{var r=pr(),$=r.firstChild;return r.style.setProperty("display","flex"),r.style.setProperty("align-items","center"),r.style.setProperty("gap","0.5rem"),r.style.setProperty("cursor","pointer"),$.addEventListener("change",T=>m(T.currentTarget.checked)),oe(()=>$.checked=s()),r})()]}}),null),o(c,G(Ae,{get when(){return t()},get fallback(){return(()=>{var r=gr(),$=r.firstChild,T=$.nextSibling,g=T.nextSibling;return r.style.setProperty("padding","3rem"),r.style.setProperty("text-align","center"),r.style.setProperty("color","#6c757d"),r.style.setProperty("background","#f8f9fa"),r.style.setProperty("border-radius","8px"),r.style.setProperty("border","2px dashed #dee2e6"),$.style.setProperty("font-size","3rem"),$.style.setProperty("margin-bottom","1rem"),T.style.setProperty("margin-bottom","0.5rem"),g.style.setProperty("margin","0"),r})()},children:r=>(()=>{var $=mr(),T=$.firstChild,g=T.firstChild,P=g.firstChild,f=P.firstChild,z=f.nextSibling,L=z.firstChild;L.nextSibling;var S=P.nextSibling,C=S.firstChild,_=C.nextSibling,E=_.firstChild,R=_.nextSibling,j=R.firstChild,ne=j.nextSibling;ne.nextSibling;var V=T.nextSibling,K=V.firstChild,W=K.nextSibling,J=W.firstChild,H=J.firstChild;H.nextSibling;var X=J.nextSibling,ge=X.firstChild;ge.nextSibling;var be=X.nextSibling,Le=be.firstChild;Le.nextSibling;var Ie=be.nextSibling,ie=Ie.firstChild;ie.nextSibling;var te=Ie.nextSibling,xe=te.firstChild;xe.nextSibling;var ae=te.nextSibling,Te=ae.firstChild;Te.nextSibling;var me=ae.nextSibling,ke=me.firstChild;ke.nextSibling;var ue=me.nextSibling,de=ue.firstChild,$e=de.nextSibling,ve=$e.nextSibling;return ve.nextSibling,$.style.setProperty("background","white"),$.style.setProperty("padding","2rem"),$.style.setProperty("border-radius","8px"),$.style.setProperty("border","1px solid #dee2e6"),T.style.setProperty("border-bottom","3px solid #0d6efd"),T.style.setProperty("padding-bottom","1rem"),T.style.setProperty("margin-bottom","1.5rem"),g.style.setProperty("display","flex"),g.style.setProperty("justify-content","space-between"),g.style.setProperty("align-items","start"),f.style.setProperty("margin","0 0 0.5rem 0"),f.style.setProperty("font-size","1.75rem"),z.style.setProperty("color","#6c757d"),z.style.setProperty("font-size","0.9rem"),o(z,()=>r().manifestId,null),o(P,G(Ae,{get when(){return r().guideNumber},get children(){var Z=br(),Pe=Z.firstChild;return Pe.nextSibling,Z.style.setProperty("color","#6c757d"),Z.style.setProperty("font-size","0.9rem"),o(Z,()=>r().guideNumber,null),Z}}),null),S.style.setProperty("text-align","right"),C.style.setProperty("font-size","0.9rem"),C.style.setProperty("color","#6c757d"),o(C,()=>new Date(r().generatedAt).toLocaleString("es-ES")),_.style.setProperty("margin-top","0.5rem"),_.style.setProperty("font-weight","bold"),o(_,()=>r().totalAddresses,E),R.style.setProperty("font-size","0.9rem"),o(R,()=>r().totalCustomers,j),o(R,()=>r().totalItems,ne),o($,G(pe,{get each(){return r().states},children:(Z,Pe)=>(()=>{var ye=ur(),B=ye.firstChild,fe=B.firstChild,Se=fe.nextSibling,ze=Se.nextSibling,Oe=ze.nextSibling,re=Oe.nextSibling,a=re.nextSibling;return a.nextSibling,ye.style.setProperty("margin-bottom","2rem"),B.style.setProperty("background","#0d6efd"),B.style.setProperty("color","white"),B.style.setProperty("padding","0.75rem 1rem"),B.style.setProperty("border-radius","6px"),B.style.setProperty("font-weight","bold"),B.style.setProperty("font-size","1.1rem"),B.style.setProperty("margin-bottom","1rem"),o(B,()=>Z.state,Se),o(B,()=>Z.totalAddresses,Oe),o(B,()=>Z.totalCustomers,a),o(ye,G(pe,{get each(){return Z.cities},children:b=>(()=>{var y=Pr(),p=y.firstChild,Q=p.firstChild,Y=Q.nextSibling,h=Y.nextSibling,U=h.nextSibling,D=U.nextSibling,ee=D.nextSibling;return ee.nextSibling,y.style.setProperty("margin-bottom","1.5rem"),p.style.setProperty("background","#e7f1ff"),p.style.setProperty("padding","0.5rem 1rem"),p.style.setProperty("border-radius","4px"),p.style.setProperty("font-weight","600"),p.style.setProperty("font-size","1rem"),p.style.setProperty("margin-bottom","0.75rem"),p.style.setProperty("color","#0d6efd"),o(p,()=>b.city,Y),o(p,()=>b.totalRptos,U),o(p,()=>b.totalAddresses,ee),o(y,G(pe,{get each(){return b.rptos},children:q=>(()=>{var se=fr(),M=se.firstChild,k=M.firstChild,le=k.nextSibling,je=le.nextSibling,Ge=je.nextSibling,Nt=Ge.nextSibling,nt=Nt.nextSibling;return nt.nextSibling,se.style.setProperty("margin-left","1rem"),se.style.setProperty("margin-bottom","1rem"),M.style.setProperty("background","#f8f9fa"),M.style.setProperty("padding","0.4rem 0.75rem"),M.style.setProperty("border-radius","4px"),M.style.setProperty("font-weight","500"),M.style.setProperty("font-size","0.95rem"),M.style.setProperty("margin-bottom","0.5rem"),M.style.setProperty("color","#495057"),o(M,()=>q.rpto,le),o(M,()=>q.totalAddresses,Ge),o(M,()=>q.totalCustomers,nt),o(se,G(pe,{get each(){return q.addresses},children:Ve=>(()=>{var He=hr(),we=He.firstChild,Lt=we.firstChild,Re=Lt.nextSibling,It=Re.firstChild,at=It.nextSibling,Tt=at.nextSibling,dt=Tt.nextSibling;dt.nextSibling;var yt=we.nextSibling;return He.style.setProperty("margin-bottom","1.5rem"),He.style.setProperty("border","1px solid #dee2e6"),He.style.setProperty("border-radius","6px"),He.style.setProperty("overflow","hidden"),we.style.setProperty("background","#e7f1ff"),we.style.setProperty("padding","0.75rem 1rem"),we.style.setProperty("border-bottom","1px solid #dee2e6"),we.style.setProperty("font-weight","600"),o(we,()=>Ve.fullAddress,Re),Re.style.setProperty("margin-left","1rem"),Re.style.setProperty("color","#6c757d"),Re.style.setProperty("font-weight","normal"),o(Re,()=>Ve.totalCustomers,at),o(Re,()=>Ve.totalBags,dt),yt.style.setProperty("padding","1rem"),o(yt,G(pe,{get each(){return Ve.customers},children:(De,Ot)=>(()=>{var We=Ar(),he=We.firstChild,et=he.firstChild,wt=et.firstChild;wt.nextSibling;var tt=et.nextSibling,Rt=tt.firstChild;Rt.nextSibling;var pt=tt.nextSibling,Dt=pt.firstChild;Dt.nextSibling;var rt=he.nextSibling,Je=rt.nextSibling,Fe=Je.firstChild,Ft=Fe.firstChild,Bt=Ft.nextSibling,ct=Bt.nextSibling,Ut=ct.nextSibling,gt=Ut.nextSibling,Mt=gt.nextSibling,bt=Mt.nextSibling;bt.nextSibling;var mt=Fe.nextSibling,Ze=mt.firstChild;return We.style.setProperty("margin-bottom","1rem"),We.style.setProperty("padding-bottom","1rem"),he.style.setProperty("display","grid"),he.style.setProperty("grid-template-columns","160px 1fr 250px"),he.style.setProperty("gap","0.5rem"),he.style.setProperty("margin-bottom","0.75rem"),he.style.setProperty("background","#f8f9fa"),he.style.setProperty("padding","0.5rem"),he.style.setProperty("border-radius","4px"),o(et,()=>De.cid,null),o(tt,()=>De.consigneeName,null),o(pt,()=>De.ctelephone,null),rt.style.setProperty("margin-left","1rem"),o(rt,G(pe,{get each(){return De.bags},children:Ce=>(()=>{var Be=xr(),Ye=Be.firstChild,kt=Ye.firstChild,st=kt.firstChild;st.firstChild;var Ue=st.nextSibling,ut=Ue.firstChild,Pt=ut.nextSibling,zt=Pt.nextSibling,ft=zt.nextSibling;ft.nextSibling;var ht=Ye.nextSibling;return Be.style.setProperty("margin-bottom","0.5rem"),Be.style.setProperty("padding","0.5rem"),Be.style.setProperty("background","#fff"),Be.style.setProperty("border","1px solid #e9ecef"),Be.style.setProperty("border-radius","4px"),Ye.style.setProperty("display","flex"),Ye.style.setProperty("justify-content","space-between"),Ye.style.setProperty("align-items","center"),Ye.style.setProperty("margin-bottom","0.5rem"),o(st,()=>Ce.bagNumber,null),Ue.style.setProperty("margin-left","1rem"),Ue.style.setProperty("color","#6c757d"),Ue.style.setProperty("font-size","0.9rem"),o(Ue,()=>Ce.totalHBLs,ut),o(Ue,()=>Ce.itemCount,Pt),o(Ue,()=>Ce.totalWeight.toFixed(2),ft),ht.style.setProperty("margin-left","1rem"),o(ht,G(pe,{get each(){return Ce.hblGroups},children:qe=>(()=>{var _e=vr(),Qe=_e.firstChild,Gt=Qe.firstChild,Ee=Gt.nextSibling,Ht=Ee.firstChild,At=Ht.nextSibling,Wt=At.nextSibling,xt=Wt.nextSibling;return xt.nextSibling,_e.style.setProperty("margin-bottom","0.25rem"),_e.style.setProperty("padding","0.25rem 0.5rem"),_e.style.setProperty("background","#f8f9fa"),_e.style.setProperty("border-radius","3px"),_e.style.setProperty("border-left","3px solid #0d6efd"),Qe.style.setProperty("font-size","0.9rem"),Qe.style.setProperty("font-weight","600"),Qe.style.setProperty("color","#0d6efd"),o(Qe,()=>qe.hbl,Ee),Ee.style.setProperty("margin-left","0.5rem"),Ee.style.setProperty("color","#6c757d"),Ee.style.setProperty("font-weight","normal"),Ee.style.setProperty("font-size","0.85rem"),o(Ee,()=>qe.itemCount,At),o(Ee,()=>qe.totalWeight.toFixed(2),xt),o(_e,G(Ae,{get when(){return s()},get children(){var Ke=$r();return Ke.style.setProperty("margin-top","0.25rem"),Ke.style.setProperty("margin-left","0.5rem"),o(Ke,G(pe,{get each(){return qe.items},children:lt=>(()=>{var Ne=Sr(),Jt=Ne.firstChild,$t=Jt.nextSibling,Yt=$t.nextSibling,vt=Yt.nextSibling,jt=vt.nextSibling,St=jt.nextSibling;return St.nextSibling,Ne.style.setProperty("font-size","0.8rem"),Ne.style.setProperty("padding","0.1rem 0"),Ne.style.setProperty("color","#495057"),o(Ne,()=>lt.namegood,$t),o(Ne,()=>lt.quantity,vt),o(Ne,()=>lt.weight,St),Ne})()})),Ke}}),null),_e})()})),Be})()})),Je.style.setProperty("margin-top","0.75rem"),Je.style.setProperty("display","grid"),Je.style.setProperty("grid-template-columns","1fr auto"),Je.style.setProperty("gap","1rem"),Je.style.setProperty("align-items","end"),Fe.style.setProperty("font-size","0.9rem"),Fe.style.setProperty("color","#6c757d"),o(Fe,()=>De.totalBags,ct),o(Fe,()=>De.totalItems,gt),o(Fe,()=>De.totalWeight.toFixed(2),bt),mt.style.setProperty("text-align","center"),Ze.style.setProperty("border-top","2px solid #000"),Ze.style.setProperty("padding","0.25rem 2rem 0 2rem"),Ze.style.setProperty("min-width","200px"),Ze.style.setProperty("font-size","0.85rem"),Ze.style.setProperty("font-weight","500"),oe(Ce=>(Ce=Ot()<Ve.customers.length-1?"1px dashed #dee2e6":"none")!=null?We.style.setProperty("border-bottom",Ce):We.style.removeProperty("border-bottom")),We})()})),He})()}),null),se})()}),null),y})()}),null),oe(b=>(b=Pe()>0?"always":"auto")!=null?B.style.setProperty("page-break-before",b):B.style.removeProperty("page-break-before")),ye})()}),V),V.style.setProperty("border-top","3px solid #0d6efd"),V.style.setProperty("padding-top","1rem"),V.style.setProperty("margin-top","2rem"),V.style.setProperty("background","#f8f9fa"),V.style.setProperty("padding","1rem"),V.style.setProperty("border-radius","6px"),K.style.setProperty("margin","0 0 0.5rem 0"),W.style.setProperty("display","grid"),W.style.setProperty("grid-template-columns","repeat(auto-fit, minmax(120px, 1fr))"),W.style.setProperty("gap","1rem"),o(J,()=>r().totalStates,null),o(X,()=>r().totalCities,null),o(be,()=>r().totalRptos,null),o(Ie,()=>r().totalAddresses,null),o(te,()=>r().totalCustomers,null),o(ae,()=>r().totalBags,null),o(me,()=>r().totalItems,null),o(ue,()=>r().totalWeight.toFixed(2),ve),$})()}),w),c})()};Et(["click"]);const it=[{id:1,label:"PINAR DEL RIO",cities:[{id:2,label:"PINAR DEL RIO"},{id:3,label:"CONSOLACION DEL SUR"},{id:4,label:"SAN JUAN Y MARTINEZ"},{id:5,label:"LOS PALACIOS"},{id:6,label:"SANDINO"},{id:7,label:"GUANE"},{id:8,label:"LA PALMA"},{id:9,label:"SAN LUIS"},{id:10,label:"MINAS DE MATAHAMBRE"},{id:11,label:"VINALES"},{id:12,label:"MANTUA"}]},{id:2,label:"ARTEMISA",cities:[{id:13,label:"MARIEL"},{id:14,label:"GUANAJAY"},{id:15,label:"CAIMITO"},{id:16,label:"BAUTA"},{id:17,label:"SAN ANTONIO DE LOS BANOS"},{id:18,label:"GUIRA DE MELENA"},{id:19,label:"ALQUIZAR"},{id:20,label:"ARTEMISA"},{id:21,label:"BAHIA HONDA"},{id:22,label:"CANDELARIA"},{id:23,label:"SAN CRISTOBAL"}]},{id:3,label:"MAYABEQUE",cities:[{id:38,label:"BEJUCAL"},{id:39,label:"SAN JOSE DE LAS LAJAS"},{id:40,label:"JARUCO"},{id:41,label:"SANTA CRUZ DEL NORTE"},{id:42,label:"MADRUGA"},{id:43,label:"NUEVA PAZ"},{id:44,label:"SAN NICOLAS DE BARI"},{id:45,label:"GUINES"},{id:46,label:"MELENA DEL SUR"},{id:47,label:"BATABANO"},{id:48,label:"QUIVICAN"}]},{id:4,label:"LA HABANA",cities:[{id:1,label:"GUANABACOA"},{id:24,label:"ARROYO NARANJO"},{id:25,label:"BOYEROS"},{id:26,label:"CENTRO HABANA"},{id:27,label:"CERRO"},{id:28,label:"COTORRO"},{id:29,label:"DIEZ DE OCTUBRE"},{id:30,label:"HABANA DEL ESTE"},{id:31,label:"LA HABANA VIEJA"},{id:32,label:"LA LISA"},{id:33,label:"MARIANAO"},{id:34,label:"PLAYA"},{id:35,label:"PLAZA DE LA REVOLUCION"},{id:36,label:"REGLA"},{id:37,label:"SAN MIGUEL DEL PADRON"}]},{id:5,label:"MATANZAS",cities:[{id:49,label:"CALIMETE"},{id:50,label:"CARDENAS"},{id:51,label:"CIENAGA DE ZAPATA"},{id:52,label:"COLON"},{id:53,label:"JAGUEY GRANDE"},{id:54,label:"JOVELLANOS"},{id:55,label:"LIMONAR"},{id:56,label:"LOS ARABOS"},{id:57,label:"MARTI"},{id:58,label:"MATANZAS"},{id:59,label:"PEDRO BETANCOURT"},{id:60,label:"PERICO"},{id:61,label:"UNION DE REYES"}]},{id:6,label:"VILLA CLARA",cities:[{id:70,label:"CAIBARIEN"},{id:71,label:"CAMAJUANI"},{id:72,label:"CIFUENTES"},{id:73,label:"CORRALILLO"},{id:74,label:"ENCRUCIJADA"},{id:75,label:"MANICARAGUA"},{id:76,label:"PLACETAS"},{id:77,label:"QUEMADO DE GUINES"},{id:78,label:"RANCHUELO"},{id:79,label:"REMEDIOS"},{id:80,label:"SAGUA LA GRANDE"},{id:81,label:"SANTA CLARA"},{id:82,label:"SANTO DOMINGO"}]},{id:7,label:"CIENFUEGOS",cities:[{id:62,label:"ABREUS"},{id:63,label:"AGUADA DE PASAJEROS"},{id:64,label:"CIENFUEGOS"},{id:65,label:"CRUCES"},{id:66,label:"CUMANAYAGUA"},{id:67,label:"LAJAS"},{id:68,label:"PALMIRA"},{id:69,label:"RODAS"}]},{id:8,label:"SANCTI SPIRITUS",cities:[{id:83,label:"SANCTI SPIRITUS"},{id:84,label:"TRINIDAD"},{id:85,label:"CABAIGUAN"},{id:86,label:"YAGUAJAY"},{id:87,label:"JATIBONICO"},{id:88,label:"TAGUASCO"},{id:89,label:"FOMENTO"},{id:90,label:"LA SIERPE"}]},{id:9,label:"CIEGO DE AVILA",cities:[{id:91,label:"CIEGO DE AVILA"},{id:92,label:"MORON"},{id:93,label:"CHAMBAS"},{id:94,label:"CIRO REDONDO"},{id:95,label:"MAJAGUA"},{id:96,label:"FLORENCIA"},{id:98,label:"BARAGUA"},{id:99,label:"PRIMERO DE ENERO"},{id:100,label:"BOLIVIA"},{id:175,label:"VENEZUELA"}]},{id:10,label:"CAMAGUEY",cities:[{id:97,label:"CAMAGUEY"},{id:101,label:"GUAIMARO"},{id:102,label:"NUEVITAS"},{id:103,label:"CESPEDES"},{id:104,label:"JIMAGUAYU"},{id:105,label:"SIBANICU"},{id:106,label:"ESMERALDA"},{id:107,label:"MINAS"},{id:108,label:"SIERRA DE CUBITAS"},{id:109,label:"FLORIDA"},{id:110,label:"NAJASA"},{id:111,label:"VERTIENTES"},{id:112,label:"SANTA CRUZ DEL SUR"}]},{id:11,label:"LAS TUNAS",cities:[{id:113,label:"AMANCIO"},{id:114,label:"COLOMBIA"},{id:115,label:"JESUS MENENDEZ"},{id:116,label:"JOBABO"},{id:117,label:"MAJIBACOA"},{id:118,label:"MANATI"},{id:120,label:"LAS TUNAS"},{id:167,label:"PUERTO PADRE"}]},{id:12,label:"HOLGUIN",cities:[{id:121,label:"ANTILLA"},{id:122,label:"BAGUANOS"},{id:123,label:"BANES"},{id:124,label:"CACOCUM"},{id:125,label:"CALIXTO GARCIA"},{id:126,label:"CUETO"},{id:127,label:"FRANK PAIS"},{id:128,label:"GIBARA"},{id:129,label:"HOLGUIN"},{id:130,label:"MAYARI"},{id:131,label:"MOA"},{id:132,label:"RAFAEL FREYRE"},{id:133,label:"SAGUA DE TANAMO"},{id:134,label:"URBANO NORIS"}]},{id:13,label:"GRANMA",cities:[{id:135,label:"BARTOLOME MASO"},{id:136,label:"BAYAMO"},{id:137,label:"BUEY ARRIBA"},{id:138,label:"CAMPECHUELA"},{id:139,label:"CAUTO CRISTO"},{id:140,label:"GUISA"},{id:141,label:"JIGUANI"},{id:142,label:"MANZANILLO"},{id:143,label:"MEDIA LUNA"},{id:144,label:"NIQUERO"},{id:145,label:"PILON"},{id:146,label:"RIO CAUTO"},{id:147,label:"YARA"}]},{id:14,label:"SANTIAGO DE CUBA",cities:[{id:148,label:"CONTRAMAESTRE"},{id:149,label:"GUAMA"},{id:150,label:"MELLA"},{id:151,label:"PALMA SORIANO"},{id:152,label:"SAN LUIS"},{id:153,label:"SANTIAGO DE CUBA"},{id:154,label:"SEGUNDO FRENTE"},{id:155,label:"SONGO-LA MAYA"},{id:156,label:"TERCER FRENTE"}]},{id:15,label:"GUANTANAMO",cities:[{id:157,label:"BARACOA"},{id:158,label:"CAIMANERA"},{id:159,label:"EL SALVADOR"},{id:160,label:"GUANTANAMO"},{id:161,label:"IMIAS"},{id:162,label:"MAISI"},{id:163,label:"MANUEL TAMES"},{id:164,label:"NICETO PEREZ"},{id:165,label:"SAN ANTONIO DEL SUR"},{id:166,label:"YATERAS"}]},{id:16,label:"ISLA DE LA JUVENTUD",cities:[{id:171,label:"ISLA DE LA JUVENTUD"},{id:172,label:"GERONA"},{id:174,label:"LA FE"}]}];function _r(i){return it.find(e=>e.label.toUpperCase()===i.toUpperCase())?.cities||[]}function Er(){return it.map(i=>i.label).sort()}function ot(i){if(i)return _r(i).map(d=>d.label).sort();const t=it.flatMap(e=>e.cities.map(d=>d.label));return[...new Set(t)].sort()}var Nr=I('<div><input type=text placeholder="Ingrese NÃºmero de GuÃ­a, HBL, ID de Cliente, o cualquier tÃ©rmino..."><button>'),Lr=I(`<div><div><span>ğŸ’¡</span><span>Ingrese nÃºmeros de HBL separados por comas, espacios o en lÃ­neas separadas. TambiÃ©n puede usar un escÃ¡ner de cÃ³digos de barras.</span></div><textarea placeholder="Ejemplo:
HBL001
HBL002
HBL003

O separados por comas: HBL001, HBL002, HBL003"></textarea><div><div></div><div><button>ğŸ—‘ï¸ Limpiar</button><button>`),Ir=I('<div><div><label>Filtrar por Provincia</label><select><option value>Todas las Provincias</option></select></div><div><label>Filtrar por Ciudad</label><select><option value></option></select></div><div><label>Filtrar por GuÃ­a</label><input type=text placeholder="Ej: G12345"></div><div><button>ğŸ—‘ï¸ Limpiar Filtros'),Tr=I("<div>âœ… Found <strong></strong> HBL records"),Or=I("<div>âš ï¸ "),wr=I('<div><div><h1>ğŸ“¦ Delivery Manifest Generator</h1><p>Search for HBL records, then generate organized delivery manifests grouped by address and customer</p></div><div><div><h2>1ï¸âƒ£ Buscar Registros HBL</h2><div><button>ğŸ” Por TÃ©rmino</button><button>ğŸ“‹ Por Lista de HBLs</button></div></div></div><div><h3>ğŸ’¡ How to use:</h3><ol><li>Enter a search term (guide number, HBL, customer ID, etc.) and click Search</li><li>Review the found records in the summary above</li><li>Click "Generate Manifest" button below to create the delivery manifest</li><li>The manifest will be grouped by: <strong>State â†’ Address â†’ Customer â†’ Bag</strong></li><li>Use Print button to print or PDF button to download</li><li>Each customer entry includes a signature line for delivery confirmation</li></ol></div><div><h2>2ï¸âƒ£ Generate & Print Manifest</h2></div><div><h3>ğŸ“‹ Manifest Features:</h3><div><div><strong>âœ“ Hierarchical Grouping</strong><br><span>Organized by State â†’ City â†’ Street â†’ Address â†’ Customer â†’ Bag</span></div><div><strong>âœ“ Customer Details</strong><br><span>Shows CID, name, phone, and total bags/items per customer</span></div><div><strong>âœ“ Delivery Signatures</strong><br><span>Each customer section includes a signature line for confirmation</span></div><div><strong>âœ“ Compact Mode</strong><br><span>Toggle between detailed and summary views</span></div><div><strong>âœ“ Multiple Export Options</strong><br><span>Print directly, download as PDF, or export to JSON</span></div><div><strong>âœ“ Summary Statistics</strong><br><span>View totals for states, addresses, customers, bags, and weight'),Ct=I("<option>");const Dr=()=>{const[i,t]=ce("term"),[e,d]=ce(""),[n,s]=ce(""),[m,l]=ce(""),[O,v]=ce(""),[u,F]=ce(""),[c,A]=ce(!1),x=Er(),N=Vt(()=>{const g=m();return g?ot(g):ot()}),w=g=>{l(g);const P=O();P&&g&&(ot(g).includes(P)||v(""))},r=async()=>{var g=e();let P=[];A(!0);try{const f={};if(m().trim()&&P.push(m().trim()),O().trim()&&P.push(O().trim()),u().trim()&&P.push(u().trim()),console.log(P),g+=P.join(" "),!g){alert("Por favor ingrese un tÃ©rmino de bÃºsqueda (NÃºmero de GuÃ­a, HBL, etc.)");return}await Me.fetchHBLs(g,f)}catch(f){console.error("Search error:",f),alert("Error al buscar HBLs. Por favor, intente de nuevo.")}finally{A(!1)}},$=async()=>{const g=n().trim();if(!g){alert("Por favor ingrese al menos un nÃºmero de HBL");return}A(!0);try{const P=g.split(/[\n,\s]+/).map(z=>z.trim()).filter(z=>z.length>0);if(P.length===0){alert("No se encontraron nÃºmeros de HBL vÃ¡lidos");return}const f={};u().trim()&&(f.guia=u().trim()),await Me.fetchHBLsByIds(P,f)}catch(P){console.error("Fetch by list error:",P),alert("Error al buscar HBLs. Por favor, intente de nuevo.")}finally{A(!1)}},T=g=>{g.key==="Enter"&&r()};return(()=>{var g=wr(),P=g.firstChild,f=P.firstChild,z=f.nextSibling,L=P.nextSibling,S=L.firstChild,C=S.firstChild,_=C.nextSibling,E=_.firstChild,R=E.nextSibling,j=L.nextSibling,ne=j.firstChild,V=ne.nextSibling,K=j.nextSibling,W=K.firstChild,J=K.nextSibling,H=J.firstChild,X=H.nextSibling,ge=X.firstChild,be=ge.firstChild,Le=be.nextSibling,Ie=Le.nextSibling,ie=ge.nextSibling,te=ie.firstChild,xe=te.nextSibling,ae=xe.nextSibling,Te=ie.nextSibling,me=Te.firstChild,ke=me.nextSibling,ue=ke.nextSibling,de=Te.nextSibling,$e=de.firstChild,ve=$e.nextSibling,Z=ve.nextSibling,Pe=de.nextSibling,ye=Pe.firstChild,B=ye.nextSibling,fe=B.nextSibling,Se=Pe.nextSibling,ze=Se.firstChild,Oe=ze.nextSibling,re=Oe.nextSibling;return g.style.setProperty("padding","1.5rem"),g.style.setProperty("max-width","1400px"),g.style.setProperty("margin","0 auto"),P.style.setProperty("margin-bottom","2rem"),f.style.setProperty("margin","0 0 0.5rem 0"),f.style.setProperty("font-size","2rem"),f.style.setProperty("color","#2c3e50"),z.style.setProperty("margin","0"),z.style.setProperty("color","#6c757d"),z.style.setProperty("font-size","1rem"),L.style.setProperty("background","white"),L.style.setProperty("padding","1.5rem"),L.style.setProperty("border-radius","8px"),L.style.setProperty("border","1px solid #dee2e6"),L.style.setProperty("margin-bottom","2rem"),L.style.setProperty("box-shadow","0 2px 4px rgba(0,0,0,0.05)"),S.style.setProperty("display","flex"),S.style.setProperty("justify-content","space-between"),S.style.setProperty("align-items","center"),S.style.setProperty("margin-bottom","1rem"),C.style.setProperty("margin","0"),C.style.setProperty("font-size","1.25rem"),C.style.setProperty("color","#495057"),_.style.setProperty("display","flex"),_.style.setProperty("gap","0.5rem"),_.style.setProperty("background","#f8f9fa"),_.style.setProperty("padding","0.25rem"),_.style.setProperty("border-radius","6px"),_.style.setProperty("border","1px solid #dee2e6"),E.$$click=()=>t("term"),E.style.setProperty("padding","0.5rem 1rem"),E.style.setProperty("border","none"),E.style.setProperty("border-radius","4px"),E.style.setProperty("cursor","pointer"),E.style.setProperty("font-size","0.9rem"),E.style.setProperty("font-weight","500"),E.style.setProperty("transition","all 0.2s"),R.$$click=()=>t("list"),R.style.setProperty("padding","0.5rem 1rem"),R.style.setProperty("border","none"),R.style.setProperty("border-radius","4px"),R.style.setProperty("cursor","pointer"),R.style.setProperty("font-size","0.9rem"),R.style.setProperty("font-weight","500"),R.style.setProperty("transition","all 0.2s"),o(L,G(Ae,{get when(){return i()==="term"},get children(){var a=Nr(),b=a.firstChild,y=b.nextSibling;return a.style.setProperty("display","flex"),a.style.setProperty("gap","1rem"),a.style.setProperty("align-items","center"),a.style.setProperty("flex-wrap","wrap"),b.addEventListener("blur",p=>p.currentTarget.style.borderColor="#dee2e6"),b.addEventListener("focus",p=>p.currentTarget.style.borderColor="#0d6efd"),b.addEventListener("keypress",T),b.$$input=p=>d(p.currentTarget.value),b.style.setProperty("flex","1"),b.style.setProperty("min-width","300px"),b.style.setProperty("padding","0.75rem"),b.style.setProperty("border","2px solid #dee2e6"),b.style.setProperty("border-radius","6px"),b.style.setProperty("font-size","1rem"),b.style.setProperty("outline","none"),b.style.setProperty("transition","border-color 0.2s"),y.addEventListener("mouseleave",p=>{c()||(p.currentTarget.style.background="#0d6efd")}),y.addEventListener("mouseenter",p=>{c()||(p.currentTarget.style.background="#0b5ed7")}),y.$$click=r,y.style.setProperty("padding","0.75rem 2rem"),y.style.setProperty("color","white"),y.style.setProperty("border","none"),y.style.setProperty("border-radius","6px"),y.style.setProperty("font-size","1rem"),y.style.setProperty("font-weight","600"),y.style.setProperty("white-space","nowrap"),y.style.setProperty("transition","background 0.2s"),o(y,()=>c()?"ğŸ” Buscando...":"ğŸ” Buscar"),oe(p=>{var Q=c(),Y=c()?"#6c757d":"#0d6efd",h=c()?"not-allowed":"pointer";return Q!==p.e&&(y.disabled=p.e=Q),Y!==p.t&&((p.t=Y)!=null?y.style.setProperty("background",Y):y.style.removeProperty("background")),h!==p.a&&((p.a=h)!=null?y.style.setProperty("cursor",h):y.style.removeProperty("cursor")),p},{e:void 0,t:void 0,a:void 0}),oe(()=>b.value=e()),a}}),null),o(L,G(Ae,{get when(){return i()==="list"},get children(){var a=Lr(),b=a.firstChild,y=b.nextSibling,p=y.nextSibling,Q=p.firstChild,Y=Q.nextSibling,h=Y.firstChild,U=h.nextSibling;return a.style.setProperty("display","flex"),a.style.setProperty("flex-direction","column"),a.style.setProperty("gap","1rem"),b.style.setProperty("display","flex"),b.style.setProperty("gap","0.5rem"),b.style.setProperty("align-items","center"),b.style.setProperty("padding","0.75rem"),b.style.setProperty("background","#e7f1ff"),b.style.setProperty("border-radius","6px"),b.style.setProperty("border","1px solid #b6d4fe"),b.style.setProperty("font-size","0.9rem"),b.style.setProperty("color","#084298"),y.addEventListener("blur",D=>D.currentTarget.style.borderColor="#dee2e6"),y.addEventListener("focus",D=>D.currentTarget.style.borderColor="#0d6efd"),y.$$input=D=>s(D.currentTarget.value),y.style.setProperty("width","100%"),y.style.setProperty("min-height","150px"),y.style.setProperty("padding","0.75rem"),y.style.setProperty("border","2px solid #dee2e6"),y.style.setProperty("border-radius","6px"),y.style.setProperty("font-size","1rem"),y.style.setProperty("font-family","monospace"),y.style.setProperty("outline","none"),y.style.setProperty("transition","border-color 0.2s"),y.style.setProperty("resize","vertical"),p.style.setProperty("display","flex"),p.style.setProperty("gap","1rem"),p.style.setProperty("align-items","center"),p.style.setProperty("justify-content","space-between"),Q.style.setProperty("font-size","0.9rem"),Q.style.setProperty("color","#6c757d"),o(Q,(()=>{var D=Zt(()=>!!n().trim());return()=>D()?`${n().split(/[\n,\s]+/).filter(ee=>ee.trim().length>0).length} HBLs ingresados`:"Sin HBLs ingresados"})()),Y.style.setProperty("display","flex"),Y.style.setProperty("gap","0.5rem"),h.$$click=()=>s(""),h.style.setProperty("padding","0.5rem 1rem"),h.style.setProperty("background","#6c757d"),h.style.setProperty("color","white"),h.style.setProperty("border","none"),h.style.setProperty("border-radius","4px"),h.style.setProperty("cursor","pointer"),h.style.setProperty("font-size","0.9rem"),U.addEventListener("mouseleave",D=>{c()||(D.currentTarget.style.background="#0d6efd")}),U.addEventListener("mouseenter",D=>{c()||(D.currentTarget.style.background="#0b5ed7")}),U.$$click=$,U.style.setProperty("padding","0.75rem 2rem"),U.style.setProperty("color","white"),U.style.setProperty("border","none"),U.style.setProperty("border-radius","6px"),U.style.setProperty("font-size","1rem"),U.style.setProperty("font-weight","600"),U.style.setProperty("white-space","nowrap"),U.style.setProperty("transition","background 0.2s"),o(U,()=>c()?"ğŸ“‹ Obteniendo...":"ğŸ“‹ Obtener HBLs"),oe(D=>{var ee=c(),q=c()?"#6c757d":"#0d6efd",se=c()?"not-allowed":"pointer";return ee!==D.e&&(U.disabled=D.e=ee),q!==D.t&&((D.t=q)!=null?U.style.setProperty("background",q):U.style.removeProperty("background")),se!==D.a&&((D.a=se)!=null?U.style.setProperty("cursor",se):U.style.removeProperty("cursor")),D},{e:void 0,t:void 0,a:void 0}),oe(()=>y.value=n()),a}}),null),o(L,G(Ae,{get when(){return i()==="term"},get children(){var a=Ir(),b=a.firstChild,y=b.firstChild,p=y.nextSibling;p.firstChild;var Q=b.nextSibling,Y=Q.firstChild,h=Y.nextSibling,U=h.firstChild,D=Q.nextSibling,ee=D.firstChild,q=ee.nextSibling,se=D.nextSibling,M=se.firstChild;return a.style.setProperty("margin-top","1rem"),a.style.setProperty("padding-top","1rem"),a.style.setProperty("border-top","1px solid #dee2e6"),a.style.setProperty("display","grid"),a.style.setProperty("grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))"),a.style.setProperty("gap","1rem"),y.style.setProperty("display","block"),y.style.setProperty("margin-bottom","0.5rem"),y.style.setProperty("font-size","0.9rem"),y.style.setProperty("font-weight","500"),y.style.setProperty("color","#495057"),p.addEventListener("change",k=>w(k.currentTarget.value)),p.style.setProperty("width","100%"),p.style.setProperty("padding","0.5rem"),p.style.setProperty("border","1px solid #ced4da"),p.style.setProperty("border-radius","4px"),p.style.setProperty("font-size","0.9rem"),p.style.setProperty("background","white"),p.style.setProperty("cursor","pointer"),o(p,G(pe,{each:x,children:k=>(()=>{var le=Ct();return le.value=k,o(le,k),le})()}),null),Y.style.setProperty("display","block"),Y.style.setProperty("margin-bottom","0.5rem"),Y.style.setProperty("font-size","0.9rem"),Y.style.setProperty("font-weight","500"),Y.style.setProperty("color","#495057"),h.addEventListener("change",k=>v(k.currentTarget.value)),h.style.setProperty("width","100%"),h.style.setProperty("padding","0.5rem"),h.style.setProperty("border","1px solid #ced4da"),h.style.setProperty("border-radius","4px"),h.style.setProperty("font-size","0.9rem"),h.style.setProperty("background","white"),o(U,()=>m()?"Todas las Ciudades":"Seleccione una Provincia primero"),o(h,G(pe,{get each(){return N()},children:k=>(()=>{var le=Ct();return le.value=k,o(le,k),le})()}),null),ee.style.setProperty("display","block"),ee.style.setProperty("margin-bottom","0.5rem"),ee.style.setProperty("font-size","0.9rem"),ee.style.setProperty("font-weight","500"),ee.style.setProperty("color","#495057"),q.$$input=k=>F(k.currentTarget.value),q.style.setProperty("width","100%"),q.style.setProperty("padding","0.5rem"),q.style.setProperty("border","1px solid #ced4da"),q.style.setProperty("border-radius","4px"),q.style.setProperty("font-size","0.9rem"),se.style.setProperty("display","flex"),se.style.setProperty("align-items","flex-end"),M.$$click=()=>{l(""),v(""),F("")},M.style.setProperty("width","100%"),M.style.setProperty("padding","0.5rem"),M.style.setProperty("background","#6c757d"),M.style.setProperty("color","white"),M.style.setProperty("border","none"),M.style.setProperty("border-radius","4px"),M.style.setProperty("cursor","pointer"),M.style.setProperty("font-size","0.9rem"),oe(k=>{var le=!m(),je=m()?"pointer":"not-allowed",Ge=m()?1:.6;return le!==k.e&&(h.disabled=k.e=le),je!==k.t&&((k.t=je)!=null?h.style.setProperty("cursor",je):h.style.removeProperty("cursor")),Ge!==k.a&&((k.a=Ge)!=null?h.style.setProperty("opacity",Ge):h.style.removeProperty("opacity")),k},{e:void 0,t:void 0,a:void 0}),oe(()=>p.value=m()),oe(()=>h.value=O()),oe(()=>q.value=u()),a}}),null),o(L,G(Ae,{get when(){return Me.filteredHBLs().length>0},get children(){var a=Tr(),b=a.firstChild,y=b.nextSibling;return a.style.setProperty("margin-top","1rem"),a.style.setProperty("padding","0.75rem"),a.style.setProperty("background","#d1ecf1"),a.style.setProperty("border","1px solid #bee5eb"),a.style.setProperty("border-radius","4px"),a.style.setProperty("color","#0c5460"),o(y,()=>Me.filteredHBLs().length),a}}),null),o(L,G(Ae,{get when(){return Me.error()},get children(){var a=Or();return a.firstChild,a.style.setProperty("margin-top","1rem"),a.style.setProperty("padding","0.75rem"),a.style.setProperty("background","#f8d7da"),a.style.setProperty("border","1px solid #f5c6cb"),a.style.setProperty("border-radius","4px"),a.style.setProperty("color","#721c24"),o(a,()=>Me.error(),null),a}}),null),j.style.setProperty("background","#fff3cd"),j.style.setProperty("padding","1rem"),j.style.setProperty("border-radius","6px"),j.style.setProperty("border","1px solid #ffc107"),j.style.setProperty("margin-bottom","2rem"),ne.style.setProperty("margin","0 0 0.5rem 0"),ne.style.setProperty("color","#856404"),ne.style.setProperty("font-size","1rem"),V.style.setProperty("margin","0"),V.style.setProperty("padding-left","1.5rem"),V.style.setProperty("color","#856404"),V.style.setProperty("line-height","1.8"),K.style.setProperty("background","white"),K.style.setProperty("padding","1.5rem"),K.style.setProperty("border-radius","8px"),K.style.setProperty("border","1px solid #dee2e6"),K.style.setProperty("box-shadow","0 2px 4px rgba(0,0,0,0.05)"),W.style.setProperty("margin","0 0 1rem 0"),W.style.setProperty("font-size","1.25rem"),W.style.setProperty("color","#495057"),o(K,G(Cr,{get guideNumber(){return e()}}),null),J.style.setProperty("margin-top","2rem"),J.style.setProperty("padding","1.5rem"),J.style.setProperty("background","#e7f1ff"),J.style.setProperty("border-radius","8px"),J.style.setProperty("border","1px solid #b6d4fe"),H.style.setProperty("margin","0 0 1rem 0"),H.style.setProperty("color","#084298"),X.style.setProperty("display","grid"),X.style.setProperty("grid-template-columns","repeat(auto-fit, minmax(250px, 1fr))"),X.style.setProperty("gap","1rem"),X.style.setProperty("color","#084298"),Ie.style.setProperty("font-size","0.9rem"),ae.style.setProperty("font-size","0.9rem"),ue.style.setProperty("font-size","0.9rem"),Z.style.setProperty("font-size","0.9rem"),fe.style.setProperty("font-size","0.9rem"),re.style.setProperty("font-size","0.9rem"),oe(a=>{var b=i()==="term"?"#0d6efd":"transparent",y=i()==="term"?"white":"#495057",p=i()==="list"?"#0d6efd":"transparent",Q=i()==="list"?"white":"#495057";return b!==a.e&&((a.e=b)!=null?E.style.setProperty("background",b):E.style.removeProperty("background")),y!==a.t&&((a.t=y)!=null?E.style.setProperty("color",y):E.style.removeProperty("color")),p!==a.a&&((a.a=p)!=null?R.style.setProperty("background",p):R.style.removeProperty("background")),Q!==a.o&&((a.o=Q)!=null?R.style.setProperty("color",Q):R.style.removeProperty("color")),a},{e:void 0,t:void 0,a:void 0,o:void 0}),g})()};Et(["click","input"]);export{Dr as default};
