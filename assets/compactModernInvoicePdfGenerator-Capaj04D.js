const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-JT18U59g.js","assets/index-CRoyLHCk.css"])))=>i.map(i=>d[i]);
import{_ as W}from"./index-JT18U59g.js";const z={en:{transferReceipt:"TRANSFER RECEIPT",movementInvoice:"MOVEMENT INVOICE",movementId:"Movement ID",date:"Date",reference:"Reference",movementType:"Movement Type",createdBy:"Created By",fromLocation:"From Location",toLocation:"To Location",location:"Location",notes:"Notes",transferItems:"TRANSFER ITEMS",movementItems:"MOVEMENT ITEMS",sku:"SKU",productName:"Product Name",qty:"Qty",unitCost:"Unit Cost",total:"Total",received:"Received",totalValue:"TOTAL VALUE",receivingConfirmation:"RECEIVING CONFIRMATION",receiverName:"Receiver Name",dateReceived:"Date Received",signature:"Signature",footerTransfer:"Please verify all received quantities and sign above.",footerMovement:"Movement processed successfully.",movementTypes:{in:"IN",out:"OUT",transfer:"TRANSFER",adjustment:"ADJUSTMENT"}},es:{transferReceipt:"RECIBO DE TRANSFERENCIA",movementInvoice:"FACTURA DE MOVIMIENTO",movementId:"ID de Movimiento",date:"Fecha",reference:"Referencia",movementType:"Tipo de Movimiento",createdBy:"Creado Por",fromLocation:"Ubicación de Origen",toLocation:"Ubicación de Destino",location:"Ubicación",notes:"Notas",transferItems:"ARTÍCULOS DE TRANSFERENCIA",movementItems:"ARTÍCULOS DEL MOVIMIENTO",sku:"SKU",productName:"Nombre del Producto",qty:"Cant.",unitCost:"Costo Unit.",total:"Total",received:"Recibido",totalValue:"VALOR TOTAL",receivingConfirmation:"CONFIRMACIÓN DE RECEPCIÓN",receiverName:"Nombre del Receptor",dateReceived:"Fecha de Recepción",signature:"Firma",footerTransfer:"Por favor verifique todas las cantidades recibidas y firme arriba.",footerMovement:"Movimiento procesado exitosamente.",movementTypes:{in:"ENTRADA",out:"SALIDA",transfer:"TRANSFERENCIA",adjustment:"AJUSTE"}}},H=async(c,w,S="es")=>{try{console.log("Starting compact modern invoice PDF generation...");const n=z[S],$=(await W(()=>import("./index-JT18U59g.js").then(r=>r.j),__vite__mapDeps([0,1]))).default,e=new $;let t=15;const o=12,a=12,s=210,L=297,T=s-o-a,C=L-25,d={primary:[60,60,60],secondary:[120,120,120],light:[245,245,245],border:[200,200,200],text:[40,40,40]},u=(r=10)=>t+r>C?(e.addPage(),t=15,!0):!1,f=(r,v,i,x)=>{e.setFillColor(...d.light),e.rect(r,v,i,x,"F")},l=(r,v,i,x)=>{e.setDrawColor(...d.border),e.setLineWidth(.3),e.line(r,v,i,x)};f(o,t,T,16),e.setFontSize(16),e.setFont("helvetica","bold"),e.setTextColor(...d.primary),e.text("HRM FINANCE",o+3,t+7);const m=c.movementType==="transfer",R=m?n.transferReceipt:n.movementInvoice;e.setFontSize(12),e.setTextColor(...d.secondary);const b=e.getTextWidth(R);e.text(R,s-a-b-3,t+7),e.setFontSize(8),e.setTextColor(...d.text);const E=`${n.movementId}: ${c.invoiceId||"N/A"}`,O=e.getTextWidth(E);e.text(E,s-a-O-3,t+12);const P=c.createDate||c.createdDate?new Date(c.createDate||c.createdDate).toLocaleDateString():"N/A",g=`${n.date}: ${P}`,D=e.getTextWidth(g);e.text(g,s-a-D-3,t+15),t+=20,l(o,t,s-a,t),t+=4,e.setFontSize(8),e.setFont("helvetica","normal");const N=o,p=o+T/2;e.text(`${n.reference}: ${c.referenceNumber||"N/A"}`,N,t),e.text(`${n.createdBy}: ${c.createdBy}`,p,t),t+=5,m?(e.text(`${n.fromLocation}: ${c.fromLocationName||"N/A"}`,N,t),e.text(`${n.toLocation}: ${c.toLocationName||"N/A"}`,p,t)):e.text(`${n.location}: ${c.locationName||"N/A"}`,N,t),t+=8;const y=c.items||c.products||[];if(y.length>0){u(20),f(o,t,T,6),e.setFontSize(7),e.setFont("helvetica","bold"),e.setTextColor(...d.primary);const r={sku:o+2,name:o+22,qty:o+120,cost:o+135,total:o+155,received:o+170};e.text(n.sku,r.sku,t+4),e.text(n.productName,r.name,t+4),e.text(n.qty,r.qty,t+4),m?(e.text(n.total,r.cost,t+4),e.text(n.received,r.received,t+4)):(e.text(n.unitCost,r.cost,t+4),e.text(n.total,r.total,t+4)),t+=8,l(o,t,s-a,t),t+=3,e.setFontSize(7),e.setFont("helvetica","normal"),e.setTextColor(...d.text);let v=0;y.forEach((i,x)=>{u(5),x%2===0&&f(o,t-1,T,4);const _=(i.productSku||i.sku||"N/A").substring(0,12),k=(i.productName||i.name||"N/A").substring(0,30),h=Math.abs(i.quantity||i.qty||0),M=parseFloat(i.unitCost||i.cost||0),I=h*M;if(v+=I,e.text(_,r.sku,t+2),e.text(k,r.name,t+2),e.text(h.toString(),r.qty,t+2),m){e.text(`$${I.toFixed(2)}`,r.cost,t+2);const q=i.receivedQuantity||"____";e.text(q.toString(),r.received,t+2)}else e.text(`$${M.toFixed(2)}`,r.cost,t+2),e.text(`$${I.toFixed(2)}`,r.total,t+2);t+=4}),(!m||v>0)&&(t+=3,l(o,t,s-a,t),t+=5,f(r.cost,t-1,50,6),e.setFont("helvetica","bold"),e.setFontSize(8),e.text(`${n.totalValue}: $${v.toFixed(2)}`,r.cost+2,t+3))}m&&(u(40),t+=10,f(o,t,T,6),e.setFontSize(9),e.setFont("helvetica","bold"),e.setTextColor(...d.primary),e.text(n.receivingConfirmation,o+2,t+4),t+=10,e.setFontSize(7),e.setFont("helvetica","normal"),e.text(`${n.receiverName}:`,o,t),l(o+25,t+1,o+80,t+1),e.text(`${n.dateReceived}:`,o+90,t),l(o+125,t+1,o+180,t+1),t+=8,e.text(`${n.signature}:`,o,t),l(o+20,t+1,o+120,t+1),t+=8,e.text(`${n.notes}:`,o,t),l(o+15,t+1,s-a,t+1),l(o,t+6,s-a,t+6));const U=Math.max(t+15,C);e.setFont("helvetica","italic"),e.setFontSize(7),e.setTextColor(...d.secondary);const A=m?n.footerTransfer:n.footerMovement,V=e.getTextWidth(A);e.text(A,(s-V)/2,U);const F=`compact-modern-${c.invoiceId||"unknown"}.pdf`;return e.save(F),console.log("PDF saved successfully:",F),F}catch(n){throw console.error("Error in generateCompactModernInvoicePDF:",n),n}};export{H as generateCompactModernInvoicePDF};
