import{aa as qi,c as A,D as Ai,e as vr,t as E,j as i,i as e,a as _,b as m,S as w,w as L,F as br,W as at,Z as Vt,d as Fi}from"./index-BnkqGl0R.js";import{q as Bi,i as Mi,a as Hi,r as Ui,f as Oi,t as Je,v as ji,w as Vi}from"./taxPortalApi-Bp8ahsfr.js";import{p as Yi}from"./taxDocumentApi-JL7et1pI.js";import{V as Ji}from"./drakeTypes-DcjcYEfx.js";var Gi=E("<div><div><div></div><p>"),Qi=E("<div><div><div>X</div><h2></h2><p></p><p>"),Ge=E("<div><span>OK</span><span>"),Xi=E("<div><div><span>:</span></div><div>"),Wi=E("<div><div><div>, <!>!</div><div><span> <!>: </span><span>|</span><span></span></div></div><div><div><div><div></div></div><div></div></div><div><span></span></div><div>"),Ki=E("<div><div>OK</div><div><strong></strong><div>"),Zi=E("<div><div><span></span></div><div><p><strong></strong> </p><p><strong></strong></p><ul><li></li><li></li><li></li><li>"),en=E(`<div><style>
        @keyframes spin {
          to { transform: rotate(360deg); }
        }
        @media (max-width: 640px) {
          .document-item {
            flex-direction: column;
            align-items: stretch !important;
          }
          .document-info {
            margin-bottom: 0.5rem;
          }
          .upload-btn {
            width: 100%;
            justify-content: center;
          }
        }
      </style><div><button></button><div><div></div><p></p></div><div><p></p><p> `),Qe=E("<div><div></div><div>"),Xe=E("<p>"),tn=E('<div><div><label> *</label><input type=text></div><div><label> *</label><select><option value></option><option value=single></option><option value=married_jointly></option><option value=married_separate></option><option value=head_household></option></select></div><div><label></label><input type=tel placeholder="(555) 123-4567"></div><div><label></label><input type=text placeholder="123 Main St"></div><div><div><label></label><input type=text placeholder=Miami></div><div><label></label><input type=text placeholder=FL></div></div><div><label></label><input type=text placeholder=33101></div><button>'),rn=E('<div><div><label> *</label><select><option value></option><option value=checking></option><option value=savings></option></select></div><div><label> *</label><input type=text placeholder=123456789 maxlength=9></div><div><label> *</label><input type=text placeholder=123456789012></div><div><label> *</label><input type=text placeholder=123456789012></div><div><label></label><input type=text placeholder="John Doe"></div><button>'),dt=E("<div>"),nn=E("<div><div><div><label> *</label><input type=text></div><div><label> *</label><input type=text></div></div><div><label> *</label><select><option value></option><option value=child></option><option value=stepchild></option><option value=parent></option><option value=sibling></option><option value=other></option></select></div><div><div><label></label><input type=text placeholder=123-45-6789></div><div><label></label><input type=date></div></div><div><button></button><button>"),on=E("<div><button>+ </button><button>"),ln=E("<div><span>OK</span><span> (<!>)"),sn=E("<div><div></div><div><input type=checkbox id=agreeToTerms><label for=agreeToTerms> *</label></div><div><label> *</label><div><canvas width=500 height=150></canvas><div></div><div>✕</div></div><div><span></span><button type=button></button></div></div><div><label> *</label><input type=text></div><div><label></label><input type=date></div><button>"),an=E("<div><span>:</span><span>***-**-"),dn=E("<div><span>:</span><span>"),un=E("<div><div><h4></h4><div><div><span>:</span><span></span></div><div><span>:</span><span> / </span></div></div></div><div><input type=checkbox id=confirmReview><label for=confirmReview> *</label></div><button>"),ut=E("<span>"),cn=E("<div><div><strong>IRS Form 8879</strong> - </div><div><div><label> *</label><input type=text inputmode=numeric maxlength=5></div><div><label> *</label><input type=text inputmode=numeric maxlength=5></div></div><div><label> *</label><div><canvas width=500 height=150></canvas><div></div><div>✕</div></div><div><span></span><button type=button></button></div></div><div><label> *</label><input type=text></div><button>"),We=E("<span>REQUIRED"),pn=E("<div><div><div> </div><div></div></div><button>X"),gn=E("<div><div><div>"),mn=E("<div><button type=button>"),fn=E("<div class=document-item><input type=file accept=.pdf,.jpg,.jpeg,.png><div class=document-info><div></div><div><div></div></div></div><button class=upload-btn type=button>"),yn=E("<span>OK"),vn=E("<span>*");const bn=["application/pdf","image/jpeg","image/png"],hn=25*1024*1024,hr=fe=>Ji.includes(fe),Pr={en:{pageTitle:"Tax Document Upload",pageSubtitle:"Securely upload your tax documents",TaxYear:"Tax Year",Hello:"Hello",RequestedDocuments:"Requested Documents",IfyPrep:"Instructions from your tax preparer",loadingRequest:"Loading your document request...",errorTitle:"Unable to Load Request",errorContact:"If you believe this is an error, please contact your tax preparer.",allDocsUploaded:"All documents uploaded!",completed:"complete",docRequired:"required document",remaining:"remaining",uploaded:"Uploaded",uploading:"Uploading...",processing:"Processing...",upload:"Upload",tryAgain:"Try again",REQUIRED:"REQUIRED",completionTitle:"All documents uploaded!",completionMessage:"Your tax preparer will be notified and will contact you if anything else is needed.",needHelp:"Need Help?",acceptedFiles:"Accepted file types:",acceptedFilesDesc:"PDF, JPG, PNG (max 25MB each)",tipsTitle:"Tips for best results:",tip1:"Make sure the entire document is visible and readable",tip2:"Avoid blurry or dark images",tip3:"For multi-page documents, upload a single PDF if possible",tip4:"You can re-upload a document to replace a previous version",secureTransmission:"Your documents are transmitted securely and encrypted.",linkExpires:"This link expires on",verifyInfoTitle:"Verify Personal Information",verifyInfoDescription:"Please confirm your personal details",ssnLabel:"Social Security Number",ssnPlaceholder:"123-45-6789",filingStatusLabel:"Filing Status",filingStatusSingle:"Single",filingStatusMarried:"Married Filing Jointly",filingStatusMarriedSeparate:"Married Filing Separately",filingStatusHeadHousehold:"Head of Household",phoneLabel:"Phone Number",addressLabel:"Street Address",cityLabel:"City",stateLabel:"State",zipLabel:"ZIP Code",submitVerification:"Submit Information",verificationComplete:"Information submitted",bankInfoTitle:"Bank Account Information",bankInfoDescription:"For direct deposit of your refund",accountTypeLabel:"Account Type",accountTypeChecking:"Checking",accountTypeSavings:"Savings",routingNumberLabel:"Routing Number",accountNumberLabel:"Account Number",confirmAccountLabel:"Confirm Account Number",accountHolderLabel:"Account Holder Name",submitBankInfo:"Save Bank Info",bankInfoComplete:"Bank info saved",dependentTitle:"Dependent Information",dependentDescription:"Add dependents you will claim on your return",addDependent:"Add Dependent",noDependents:"No dependents added",skipDependents:"I have no dependents",dependentFirstName:"First Name",dependentLastName:"Last Name",dependentRelationship:"Relationship",dependentSSN:"SSN",dependentDOB:"Date of Birth",saveDependent:"Save Dependent",cancelDependent:"Cancel",relationshipChild:"Child",relationshipStepchild:"Stepchild",relationshipParent:"Parent",relationshipSibling:"Sibling",relationshipOther:"Other",dependentsComplete:"Dependents saved",statusPending:"Pending",statusComplete:"Complete",required:"Required",optional:"Optional",select:"-- Select --",signLetterTitle:"Sign Engagement Letter",signLetterDescription:"Please review and sign the tax preparation engagement letter",engagementLetterText:"I hereby authorize and engage this tax preparation service to prepare my federal and state income tax returns for the tax year indicated. I understand that the accuracy of my returns depends on the information I provide, and I agree to provide complete and accurate information. I agree to review my completed return before filing and understand that I am ultimately responsible for the contents of my tax return. I understand that this engagement letter is a binding agreement.",agreeToTermsLabel:"I have read and agree to the terms above",signatureBoxLabel:"Your Signature",signatureInstructions:"Draw your signature above",clearSignature:"Clear",signatureNameLabel:"Print Full Legal Name",signatureNamePlaceholder:"Enter your full legal name",signatureDateLabel:"Date",submitSignature:"Sign Engagement Letter",signatureComplete:"Engagement letter signed",reviewSummaryTitle:"Review Tax Summary",reviewSummaryDescription:"Please review your tax information summary before submission",clientInfoSummary:"Client Information Summary",clientNameLabel:"Client Name",ssnLast4Label:"SSN (Last 4 digits)",filingStatusSummaryLabel:"Filing Status",documentsUploadedLabel:"Documents Uploaded",confirmReviewLabel:"I confirm that I have reviewed the information above and it is accurate",submitReview:"Confirm Review",reviewComplete:"Review confirmed",signingPinTitle:"Set E-Filing PIN",signingPinDescription:"Create a 5-digit PIN to authorize e-filing your tax return. This PIN will be used to sign your electronic return.",pinLabel:"Enter 5-Digit PIN",pinPlaceholder:"12345",confirmPinLabel:"Confirm PIN",confirmPinPlaceholder:"Re-enter PIN",pinMismatch:"PINs do not match",pinInvalid:"PIN must be exactly 5 digits",submitPin:"Set PIN",pinComplete:"E-Filing PIN set"},es:{pageTitle:"Subir Documentos de Impuestos",pageSubtitle:"Suba sus documentos de impuestos de forma segura",TaxYear:"Año Fiscal",Hello:"Hola",RequestedDocuments:"Documentos Solicitados",IfyPrep:"Instrucciones de su preparador de impuestos",loadingRequest:"Cargando su solicitud de documentos...",errorTitle:"No se pudo cargar la solicitud",errorContact:"Si cree que esto es un error, contacte a su preparador de impuestos.",allDocsUploaded:"Todos los documentos han sido subidos!",completed:"completado",docRequired:"documento requerido",remaining:"faltante",uploaded:"Subido",uploading:"Subiendo...",processing:"Procesando...",upload:"Subir",tryAgain:"Intentar de nuevo",REQUIRED:"REQUERIDO",completionTitle:"Todos los documentos han sido subidos!",completionMessage:"Su preparador de impuestos sera notificado y lo contactara si necesita algo mas.",needHelp:"Necesita Ayuda?",acceptedFiles:"Tipos de archivo aceptados:",acceptedFilesDesc:"PDF, JPG, PNG (maximo 25MB cada uno)",tipsTitle:"Consejos para mejores resultados:",tip1:"Asegurese de que todo el documento sea visible y legible",tip2:"Evite imagenes borrosas u oscuras",tip3:"Para documentos de varias paginas, suba un solo PDF si es posible",tip4:"Puede volver a subir un documento para reemplazar una version anterior",secureTransmission:"Sus documentos se transmiten de forma segura y encriptada.",linkExpires:"Este enlace expira el",verifyInfoTitle:"Verificar Informacion Personal",verifyInfoDescription:"Por favor confirme sus datos personales",ssnLabel:"Numero de Seguro Social",ssnPlaceholder:"123-45-6789",filingStatusLabel:"Estado Civil para Impuestos",filingStatusSingle:"Soltero",filingStatusMarried:"Casado Declarando Juntos",filingStatusMarriedSeparate:"Casado Declarando por Separado",filingStatusHeadHousehold:"Jefe de Familia",phoneLabel:"Numero de Telefono",addressLabel:"Direccion",cityLabel:"Ciudad",stateLabel:"Estado",zipLabel:"Codigo Postal",submitVerification:"Enviar Informacion",verificationComplete:"Informacion enviada",bankInfoTitle:"Informacion de Cuenta Bancaria",bankInfoDescription:"Para deposito directo de su reembolso",accountTypeLabel:"Tipo de Cuenta",accountTypeChecking:"Cheques",accountTypeSavings:"Ahorros",routingNumberLabel:"Numero de Ruta",accountNumberLabel:"Numero de Cuenta",confirmAccountLabel:"Confirmar Numero de Cuenta",accountHolderLabel:"Nombre del Titular",submitBankInfo:"Guardar Informacion Bancaria",bankInfoComplete:"Informacion bancaria guardada",dependentTitle:"Informacion de Dependientes",dependentDescription:"Agregue los dependientes que reclamara en su declaracion",addDependent:"Agregar Dependiente",noDependents:"No hay dependientes agregados",skipDependents:"No tengo dependientes",dependentFirstName:"Nombre",dependentLastName:"Apellido",dependentRelationship:"Relacion",dependentSSN:"SSN",dependentDOB:"Fecha de Nacimiento",saveDependent:"Guardar Dependiente",cancelDependent:"Cancelar",relationshipChild:"Hijo/a",relationshipStepchild:"Hijastro/a",relationshipParent:"Padre/Madre",relationshipSibling:"Hermano/a",relationshipOther:"Otro",dependentsComplete:"Dependientes guardados",statusPending:"Pendiente",statusComplete:"Completado",required:"Requerido",optional:"Opcional",select:"-- Seleccionar --",signLetterTitle:"Firmar Carta de Compromiso",signLetterDescription:"Por favor revise y firme la carta de compromiso para la preparacion de impuestos",engagementLetterText:"Por la presente autorizo y contrato este servicio de preparacion de impuestos para preparar mis declaraciones de impuestos federales y estatales para el ano fiscal indicado. Entiendo que la precision de mis declaraciones depende de la informacion que proporcione, y acepto proporcionar informacion completa y precisa. Acepto revisar mi declaracion completada antes de presentarla y entiendo que soy el responsable final del contenido de mi declaracion de impuestos. Entiendo que esta carta de compromiso es un acuerdo vinculante.",agreeToTermsLabel:"He leido y acepto los terminos anteriores",signatureBoxLabel:"Su Firma",signatureInstructions:"Dibuje su firma arriba",clearSignature:"Borrar",signatureNameLabel:"Nombre Legal Completo (Letra de Imprenta)",signatureNamePlaceholder:"Ingrese su nombre legal completo",signatureDateLabel:"Fecha",submitSignature:"Firmar Carta de Compromiso",signatureComplete:"Carta de compromiso firmada",reviewSummaryTitle:"Revisar Resumen de Impuestos",reviewSummaryDescription:"Por favor revise el resumen de su informacion fiscal antes de enviar",clientInfoSummary:"Resumen de Informacion del Cliente",clientNameLabel:"Nombre del Cliente",ssnLast4Label:"SSN (Ultimos 4 digitos)",filingStatusSummaryLabel:"Estado Civil para Impuestos",documentsUploadedLabel:"Documentos Subidos",confirmReviewLabel:"Confirmo que he revisado la informacion anterior y es correcta",submitReview:"Confirmar Revision",reviewComplete:"Revision confirmada",signingPinTitle:"Establecer PIN de Firma Electronica",signingPinDescription:"Cree un PIN de 5 digitos para autorizar la presentacion electronica de su declaracion de impuestos. Este PIN se usara para firmar su declaracion electronica.",pinLabel:"Ingrese PIN de 5 Digitos",pinPlaceholder:"12345",confirmPinLabel:"Confirmar PIN",confirmPinPlaceholder:"Vuelva a ingresar el PIN",pinMismatch:"Los PIN no coinciden",pinInvalid:"El PIN debe tener exactamente 5 digitos",submitPin:"Establecer PIN",pinComplete:"PIN de firma electronica establecido"}},_n=()=>{const fe=qi(),[xt,Ne]=A(!0),[$t,Le]=A(null),[$,Yt]=A(null),[Sr,Jt]=A(new Map),[Gt,oe]=A(null),[W,xr]=A("en"),[re,$r]=A({ssn:"",filingStatus:"",phone:"",address:"",city:"",state:"",zipCode:""}),[_t,_r]=A(!1),[Ee,Cr]=A({accountType:"",routingNumber:"",accountNumber:"",confirmAccountNumber:"",accountHolderName:""}),[Ct,wr]=A(!1),[Re,Qt]=A([]),[wt,Ir]=A(!1),[It,Dt]=A(!1),[ze,Xt]=A({firstName:"",lastName:"",relationship:"",ssn:"",dateOfBirth:""}),[ye,Dr]=A({name:"",date:new Date().toISOString().split("T")[0],agreedToTerms:!1}),[Tt,Tr]=A(!1);let le=null;const[Wt,Kt]=A(!1),[qe,Zt]=A(!1);let ct=null,kt=0;const[er,kr]=A({confirmed:!1}),[Nt,Nr]=A(!1),[ne,Lr]=A(""),[ce,Er]=A(""),[Lt,Rr]=A(!1),[tr,_e]=A(null),[Ke,zr]=A("");let se=null;const[rr,ir]=A(!1),[Ae,nr]=A(!1);let pt=null,Et=0;const qr=t=>{const s=[{name:"Chrome",regex:/Chrome\/(\d+)/},{name:"Safari",regex:/Safari\/(\d+)/},{name:"Firefox",regex:/Firefox\/(\d+)/},{name:"Edge",regex:/Edg\/(\d+)/},{name:"Opera",regex:/OPR\/(\d+)/}];for(const u of s){const v=t.match(u.regex);if(v)return{name:u.name,version:v[1]}}return{name:"Unknown",version:"0"}},or=(t,s,u)=>{const v=qr(navigator.userAgent);return{userAgent:navigator.userAgent,browserName:v.name,browserVersion:v.version,platform:navigator.platform,screenWidth:window.screen.width,screenHeight:window.screen.height,devicePixelRatio:window.devicePixelRatio||1,touchEnabled:"ontouchstart"in window||navigator.maxTouchPoints>0,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,language:navigator.language,pageUrl:window.location.href,referrer:document.referrer||void 0,clientTimestamp:Date.now(),timezoneOffset:new Date().getTimezoneOffset(),canvasWidth:t?.width,canvasHeight:t?.height,strokeCount:u,signatureDuration:s?Date.now()-s:void 0}},lr=new Map,r=t=>Pr[W()]?.[t]||Pr.en?.[t]||t,Ar=()=>{xr(W()==="en"?"es":"en")},Ie=(t,s)=>{$r(u=>({...u,[t]:s}))},Ze=(t,s)=>{Cr(u=>({...u,[t]:s}))},et=(t,s)=>{Xt(u=>({...u,[t]:s}))},gt=(t,s)=>{Dr(u=>({...u,[t]:s}))},Fr=t=>{le=t;const s=t.getContext("2d");s&&(s.strokeStyle="#1e3a5f",s.lineWidth=2,s.lineCap="round",s.lineJoin="round")},mt=(t,s)=>{const u=s.getBoundingClientRect(),v=s.width/u.width,V=s.height/u.height;return"touches"in t?{x:(t.touches[0].clientX-u.left)*v,y:(t.touches[0].clientY-u.top)*V}:{x:(t.clientX-u.left)*v,y:(t.clientY-u.top)*V}},sr=t=>{if(!le)return;t.preventDefault(),Kt(!0),ct||(ct=Date.now());const s=le.getContext("2d");if(s){const{x:u,y:v}=mt(t,le);s.beginPath(),s.moveTo(u,v)}},ar=t=>{if(!Wt()||!le)return;t.preventDefault();const s=le.getContext("2d");if(s){const{x:u,y:v}=mt(t,le);s.lineTo(u,v),s.stroke(),Zt(!0)}},Rt=()=>{Wt()&&kt++,Kt(!1)},Br=()=>{if(!le)return;const t=le.getContext("2d");t&&(t.clearRect(0,0,le.width,le.height),Zt(!1),gt("signatureImage",""),ct=null,kt=0)},Mr=()=>!le||!qe()?"":le.toDataURL("image/png"),Hr=t=>{se=t;const s=t.getContext("2d");s&&(s.strokeStyle="#1e3a5f",s.lineWidth=2,s.lineCap="round",s.lineJoin="round")},dr=t=>{if(!se)return;t.preventDefault(),ir(!0),pt||(pt=Date.now());const s=se.getContext("2d");if(s){const{x:u,y:v}=mt(t,se);s.beginPath(),s.moveTo(u,v)}},ur=t=>{if(!rr()||!se)return;t.preventDefault();const s=se.getContext("2d");if(s){const{x:u,y:v}=mt(t,se);s.lineTo(u,v),s.stroke(),nr(!0)}},zt=()=>{rr()&&Et++,ir(!1)},Ur=()=>{if(!se)return;const t=se.getContext("2d");t&&(t.clearRect(0,0,se.width,se.height),nr(!1),pt=null,Et=0)},Or=()=>!se||!Ae()?"":se.toDataURL("image/png"),jr=(t,s)=>{kr(u=>({...u,[t]:s}))},Vr=async()=>{const t=re();if(!t.ssn||!t.filingStatus){alert(W()==="es"?"Por favor complete el SSN y el estado civil":"Please complete SSN and filing status");return}try{const s=$();if(!s)return;const u=await Je(s.id,fe.accessToken,{clientVerification:{ssn:t.ssn,filingStatus:t.filingStatus,phone:t.phone,address:t.address,city:t.city,state:t.state,zipCode:t.zipCode,submittedAt:Date.now()},markDocumentUploaded:"verify_info"},s.businessId);u.success?(_r(!0),oe(r("verificationComplete")),setTimeout(()=>oe(null),5e3)):alert(u.error||"Error saving verification info")}catch(s){console.error("Error submitting verification:",s),alert(W()==="es"?"Error al guardar la informacion":"Error saving information")}},Yr=async()=>{const t=Ee();if(!t.accountType||!t.routingNumber||!t.accountNumber){alert(W()==="es"?"Por favor complete todos los campos bancarios requeridos":"Please complete all required bank fields");return}if(t.accountNumber!==t.confirmAccountNumber){alert(W()==="es"?"Los numeros de cuenta no coinciden":"Account numbers do not match");return}try{const s=$();if(!s)return;const u=await Je(s.id,fe.accessToken,{clientBankInfo:{accountType:t.accountType,routingNumber:t.routingNumber,accountNumber:t.accountNumber,accountHolderName:t.accountHolderName,submittedAt:Date.now()},markDocumentUploaded:"verify_bank_info"},s.businessId);u.success?(wr(!0),oe(r("bankInfoComplete")),setTimeout(()=>oe(null),5e3)):alert(u.error||"Error saving bank info")}catch(s){console.error("Error submitting bank info:",s),alert(W()==="es"?"Error al guardar la informacion bancaria":"Error saving bank information")}},Jr=()=>{const t=ze();if(!t.firstName||!t.lastName||!t.relationship){alert(W()==="es"?"Por favor complete nombre, apellido y relacion":"Please complete first name, last name, and relationship");return}Qt(s=>[...s,{...t}]),Xt({firstName:"",lastName:"",relationship:"",ssn:"",dateOfBirth:""}),Dt(!1)},Gr=async()=>{try{const t=$();if(!t)return;const s=await Je(t.id,fe.accessToken,{clientDependents:Re(),markDocumentUploaded:"provide_dependent_info"},t.businessId);s.success?(Ir(!0),oe(r("dependentsComplete")),setTimeout(()=>oe(null),5e3)):alert(s.error||"Error saving dependents info")}catch(t){console.error("Error submitting dependents:",t),alert(W()==="es"?"Error al guardar los dependientes":"Error saving dependents")}},Qr=async()=>{const t=ye();if(!t.name||!t.agreedToTerms){alert(W()==="es"?"Por favor ingrese su nombre y acepte los términos":"Please enter your name and agree to the terms");return}if(!qe()){alert(W()==="es"?"Por favor firme en el recuadro de firma":"Please sign in the signature box");return}try{const s=$();if(!s)return;const u=Mr(),v=or(le,ct,kt),V=await Je(s.id,fe.accessToken,{clientSignature:{name:t.name,date:t.date,agreedToTerms:t.agreedToTerms,signedAt:Date.now(),signatureImage:u,metadata:v},markDocumentUploaded:"sign_letter",status:"completed"},s.businessId);V.success?(Tr(!0),oe(r("signatureComplete")),setTimeout(()=>oe(null),5e3)):alert(V.error||"Error saving signature")}catch(s){console.error("Error submitting signature:",s),alert(W()==="es"?"Error al guardar la firma":"Error saving signature")}},Xr=async()=>{const t=er();if(!t.confirmed){alert(W()==="es"?"Por favor confirme que ha revisado el resumen":"Please confirm that you have reviewed the summary");return}try{const s=$();if(!s)return;const u=await Je(s.id,fe.accessToken,{clientReviewConfirmation:{confirmed:t.confirmed,reviewedAt:Date.now()},markDocumentUploaded:"review_summary"},s.businessId);u.success?(Nr(!0),oe(r("reviewComplete")),setTimeout(()=>oe(null),5e3)):alert(u.error||"Error saving review confirmation")}catch(s){console.error("Error submitting review:",s),alert(W()==="es"?"Error al guardar la confirmacion":"Error saving confirmation")}},Wr=async()=>{const t=ne(),s=ce(),u=Ke();if(!/^\d{5}$/.test(t)){_e(r("pinInvalid"));return}if(t!==s){_e(r("pinMismatch"));return}if(!Ae()){_e(W()==="es"?"Se requiere firma":"Signature is required");return}if(!u.trim()){_e(W()==="es"?"Se requiere el nombre completo":"Full name is required");return}_e(null);try{const v=$();if(!v)return;const V=Or(),ve=or(se,pt,Et),he=await Je(v.id,fe.accessToken,{clientSigningPin:{pin:t,setAt:Date.now(),signerName:u.trim(),signatureImage:V,metadata:ve},markDocumentUploaded:"signing_pin",status:"completed"},v.businessId);he.success?(Rr(!0),oe(r("pinComplete")),setTimeout(()=>oe(null),5e3)):alert(he.error||"Error saving PIN")}catch(v){console.error("Error submitting signing PIN:",v),alert(W()==="es"?"Error al guardar el PIN":"Error saving PIN")}};Ai(async()=>{const t=fe.accessToken,s=fe.id;if(!t){Le("Invalid access link. Please check your URL."),Ne(!1);return}try{Ne(!0),Le(null);const u=await Bi(s,t);if(!u){Le("This document request was not found. The link may be invalid or expired."),Ne(!1);return}if(u.status==="expired"||Mi(u)){Le("This document request has expired. Please contact your tax preparer for a new link."),Ne(!1);return}if(u.status==="cancelled"){Le("This document request has been cancelled. Please contact your tax preparer."),Ne(!1);return}Yt(u),vr(u);const v=new Map;u.requestedDocuments.forEach(V=>{v.set(V.type,{docType:V.type,status:V.uploaded?"success":"idle",progress:V.uploaded?100:0,fileName:void 0})}),Jt(v)}catch(u){console.error("Error loading document request:",u),Le("Unable to load document request. Please try again later.")}finally{Ne(!1)}});const Kr=async(t,s)=>{const u=s.target,v=u.files?.[0];if(v){if(!bn.includes(v.type)){Ce(t,{status:"error",progress:0,errorMessage:"Invalid file type. Please upload a PDF, JPG, or PNG file."});return}if(v.size>hn){Ce(t,{status:"error",progress:0,errorMessage:"File is too large. Maximum size is 25MB."});return}await Zr(t,v),u.value=""}},Ce=(t,s)=>{Jt(u=>{const v=new Map(u),V=v.get(t)||{docType:t,status:"idle",progress:0};return v.set(t,{...V,...s}),v})},Zr=async(t,s)=>{if($()){Ce(t,{status:"uploading",progress:10,fileName:s.name,errorMessage:void 0});try{Ce(t,{progress:30});const u=$();if(!u)throw new Error("No request found");const v=await ji(s,u.taxPortalId,u.taxYear,{documentType:t,businessId:u.businessId});if(!v.success||!v.documentId)throw new Error(v.error||"Upload failed");Ce(t,{status:"processing",progress:60});const V=await Yi(v.documentId);V.success||console.warn("Document processing failed, but upload succeeded:",V.error),Ce(t,{progress:90}),await Vi(u.id,u.businessId,t,v.documentId),Yt(ve=>ve?{...ve,requestedDocuments:ve.requestedDocuments.map(he=>he.type===t?{...he,uploaded:!0,documentId:v.documentId}:he),uploadedDocuments:[...ve.uploadedDocuments,v.documentId]}:null),Ce(t,{status:"success",progress:100}),oe(`Successfully uploaded ${s.name}!`),setTimeout(()=>oe(null),5e3)}catch(u){console.error("Upload error:",u),Ce(t,{status:"error",progress:0,errorMessage:u.message||"Upload failed. Please try again."})}}},cr=t=>{const s=lr.get(t);s&&s.click()},ei=t=>t.label||t.type.replace(/_/g,"-").toUpperCase(),ti={"min-height":"100vh",background:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 50%, #f0fdf4 100%)",padding:"1rem"},ri={"max-width":"800px",margin:"0 auto",padding:"1rem"},ii={"text-align":"center","margin-bottom":"2rem"},ni={"font-size":"2.5rem","margin-bottom":"1rem"},oi={color:"#64748b","font-size":"1rem"},ft={background:"white","border-radius":"16px","box-shadow":"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)",padding:"0",overflow:"hidden","margin-bottom":"1.5rem"},li={background:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",padding:"1.5rem",color:"white"},si={"font-size":"1.5rem","font-weight":"600","margin-bottom":"0.5rem"},ai={display:"flex","flex-wrap":"wrap",gap:"1rem","font-size":"0.875rem",opacity:"0.9"},di={padding:"1.5rem"},ui={background:"#f1f5f9","border-radius":"9999px",height:"12px",overflow:"hidden","margin-bottom":"0.5rem"},ci=t=>({background:t===100?"linear-gradient(90deg, #22c55e 0%, #16a34a 100%)":"linear-gradient(90deg, #3b82f6 0%, #1d4ed8 100%)",height:"100%",width:`${t}%`,transition:"width 0.3s ease","border-radius":"9999px"}),pi={"text-align":"center","font-size":"0.875rem",color:"#64748b"},pr={"font-size":"1.125rem","font-weight":"600",color:"#1e293b","margin-bottom":"1rem",display:"flex","align-items":"center",gap:"0.5rem"},gi={display:"flex","flex-direction":"column",gap:"0.75rem"},mi=(t,s)=>({display:"flex","align-items":"center","justify-content":"space-between",padding:"1rem",background:s?"#fef2f2":t?"#f0fdf4":"#f8fafc","border-radius":"12px",border:`1px solid ${s?"#fecaca":t?"#bbf7d0":"#e2e8f0"}`,"flex-wrap":"wrap",gap:"0.75rem"}),fi={display:"flex","align-items":"center",gap:"0.75rem",flex:"1","min-width":"200px"},yi=(t,s)=>({width:"24px",height:"24px","border-radius":"6px",border:`2px solid ${t?"#22c55e":s?"#3b82f6":"#cbd5e1"}`,background:t?"#22c55e":"white",display:"flex","align-items":"center","justify-content":"center",color:"white","font-size":"0.75rem","flex-shrink":"0"}),vi={"font-weight":"500",color:"#1e293b"},De={background:"#dbeafe",color:"#1d4ed8",padding:"0.125rem 0.5rem","border-radius":"4px","font-size":"0.7rem","font-weight":"600"},bi=(t,s)=>({padding:"0.5rem 1rem","border-radius":"8px",border:"none",background:t?"#dcfce7":s?"#e0e7ff":"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",color:t?"#16a34a":s?"#4f46e5":"white",cursor:t||s?"default":"pointer","font-weight":"500","font-size":"0.875rem",display:"flex","align-items":"center",gap:"0.5rem","white-space":"nowrap",transition:"all 0.2s ease"}),hi={color:"#dc2626","font-size":"0.8rem","margin-top":"0.25rem",width:"100%"},Pi={width:"100%",height:"4px",background:"#e2e8f0","border-radius":"2px",overflow:"hidden","margin-top":"0.5rem"},Si={background:"white","border-radius":"12px",border:"1px solid #e2e8f0",padding:"1.5rem","margin-bottom":"0.75rem"},Fe={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"0.5rem"},Be={"font-size":"1.125rem","font-weight":"600",color:"#1e293b"},Me={color:"#64748b","font-size":"0.875rem","margin-bottom":"1rem"},tt={display:"flex","flex-direction":"column",gap:"0.75rem"},B={display:"block","font-size":"0.875rem","font-weight":"500",color:"#475569","margin-bottom":"0.375rem"},J={width:"100%",padding:"0.75rem 1rem","border-radius":"8px",border:"1px solid #e2e8f0","font-size":"1rem",background:"white","box-sizing":"border-box"},qt={...J,appearance:"none","background-image":`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e")`,"background-position":"right 0.75rem center","background-repeat":"no-repeat","background-size":"1.25rem 1.25rem","padding-right":"2.5rem"},At={display:"grid","grid-template-columns":"1fr 1fr",gap:"0.75rem"},Te={width:"100%",padding:"0.875rem 1.5rem","border-radius":"8px",border:"none",background:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",color:"white","font-size":"1rem","font-weight":"600",cursor:"pointer","margin-top":"0.5rem"},Ft={padding:"0.75rem 1.5rem","border-radius":"8px",border:"1px solid #e2e8f0",background:"white",color:"#475569","font-size":"1rem","font-weight":"500",cursor:"pointer"},He={display:"flex","align-items":"center","justify-content":"center",gap:"0.75rem",padding:"1rem",color:"#16a34a","font-weight":"500"},Ue=t=>({padding:"0.375rem 0.75rem","border-radius":"9999px","font-size":"0.875rem","font-weight":"600",background:t?"#dcfce7":"#f1f5f9",color:t?"#16a34a":"#64748b"}),xi={padding:"0.75rem 1rem",background:"#f8fafc","border-radius":"8px","margin-bottom":"0.5rem",display:"flex","justify-content":"space-between","align-items":"center"},gr=t=>{const s={success:{bg:"#f0fdf4",border:"#bbf7d0",color:"#16a34a"},error:{bg:"#fef2f2",border:"#fecaca",color:"#dc2626"},info:{bg:"#eff6ff",border:"#bfdbfe",color:"#2563eb"}};return{padding:"1rem",background:s[t].bg,border:`1px solid ${s[t].border}`,"border-radius":"12px",color:s[t].color,display:"flex","align-items":"center",gap:"0.75rem","margin-bottom":"1rem"}},$i={background:"#fffbeb",border:"1px solid #fde68a","border-radius":"12px",padding:"1rem","margin-bottom":"1rem"},_i={"font-weight":"600",color:"#92400e","margin-bottom":"0.5rem",display:"flex","align-items":"center",gap:"0.5rem"},Ci={color:"#a16207","font-size":"0.9rem","line-height":"1.5"},wi={"text-align":"center",padding:"2rem 1rem",color:"#94a3b8","font-size":"0.875rem"},Ii={display:"flex","flex-direction":"column","align-items":"center","justify-content":"center","min-height":"400px",gap:"1rem"},Di={width:"48px",height:"48px",border:"4px solid #e2e8f0","border-top-color":"#3b82f6","border-radius":"50%",animation:"spin 1s linear infinite"},yt=$(),vt=yt?Hi(yt):0,mr=yt?Ui(yt):[];return(()=>{var t=en(),s=t.firstChild,u=s.nextSibling,v=u.firstChild,V=v.nextSibling,ve=V.firstChild,he=ve.nextSibling,rt=V.nextSibling,fr=rt.firstChild,it=fr.nextSibling,Ti=it.firstChild;return i(t,ti),i(u,ri),v.$$click=Ar,v.style.setProperty("position","absolute"),v.style.setProperty("top","1rem"),v.style.setProperty("right","1rem"),v.style.setProperty("padding","0.5rem 1rem"),v.style.setProperty("background","#f1f5f9"),v.style.setProperty("border","1px solid #e2e8f0"),v.style.setProperty("border-radius","8px"),v.style.setProperty("cursor","pointer"),v.style.setProperty("font-size","0.875rem"),v.style.setProperty("color","#475569"),e(v,()=>W()==="en"?"Espanol":"English"),i(ve,ni),e(ve,()=>r("pageTitle")),i(he,oi),e(he,()=>r("pageSubtitle")),e(u,_(w,{get when(){return xt()},get children(){var N=Gi(),H=N.firstChild,G=H.firstChild,Q=G.nextSibling;return i(G,Di),Q.style.setProperty("color","#64748b"),e(Q,()=>r("loadingRequest")),m(U=>{var de={...ft,padding:"3rem"},pe=Ii;return U.e=i(N,de,U.e),U.t=i(H,pe,U.t),U},{e:void 0,t:void 0}),N}}),rt),e(u,_(w,{get when(){return L(()=>!xt())()&&$t()},get children(){var N=Qi(),H=N.firstChild,G=H.firstChild,Q=G.nextSibling,U=Q.nextSibling,de=U.nextSibling;return H.style.setProperty("padding","3rem"),H.style.setProperty("text-align","center"),G.style.setProperty("font-size","4rem"),G.style.setProperty("margin-bottom","1rem"),Q.style.setProperty("color","#dc2626"),Q.style.setProperty("margin-bottom","0.5rem"),e(Q,()=>r("errorTitle")),U.style.setProperty("color","#64748b"),U.style.setProperty("margin-bottom","1.5rem"),e(U,$t),de.style.setProperty("color","#94a3b8"),de.style.setProperty("font-size","0.875rem"),e(de,()=>r("errorContact")),m(pe=>i(N,ft,pe)),N}}),rt),e(u,_(w,{get when(){return L(()=>!xt()&&!$t())()&&$()},get children(){return[_(w,{get when(){return Gt()},get children(){var N=Ge(),H=N.firstChild,G=H.nextSibling;return H.style.setProperty("font-size","1.25rem"),e(G,Gt),m(Q=>i(N,gr("success"),Q)),N}}),(()=>{var N=Wi(),H=N.firstChild,G=H.firstChild,Q=G.firstChild,U=Q.nextSibling;U.nextSibling;var de=G.nextSibling,pe=de.firstChild,Bt=pe.firstChild,Oe=Bt.nextSibling;Oe.nextSibling;var bt=pe.nextSibling,ht=bt.nextSibling,je=H.nextSibling,nt=je.firstChild,Pe=nt.firstChild,Mt=Pe.firstChild,Pt=Pe.nextSibling,St=nt.nextSibling,ki=St.firstChild,yr=St.nextSibling;return i(H,li),i(G,si),e(G,()=>r("Hello"),Q),e(G,()=>$()?.clientName||$()?.recipientName,U),e(pe,()=>r("TaxYear"),Oe),e(pe,()=>$()?.taxYear,null),e(ht,()=>Oi($()?.expiresAt||0)),i(je,di),nt.style.setProperty("margin-bottom","1.5rem"),i(Pe,ui),e(Pt,()=>vt===100?r("allDocsUploaded"):`${vt}% ${r("completed")} - ${mr.length} ${r("docRequired")}${mr.length!==1?"s":""} ${r("remaining")}`),e(je,_(w,{get when(){return $()?.instructions},get children(){var b=Xi(),ee=b.firstChild,ge=ee.firstChild,be=ge.firstChild,ke=ee.nextSibling;return i(b,$i),i(ee,_i),e(ge,()=>r("IfyPrep"),be),i(ke,Ci),e(ke,()=>$()?.instructions),b}}),St),e(ki,()=>r("RequestedDocuments")),e(yr,_(br,{get each(){return $()?.requestedDocuments},children:b=>{vr("Document:",b.type,"Label:",b.label,"Is verification form?",hr(b.type));const ee=Sr().get(b.type),ge=b.uploaded||ee?.status==="success",be=ee?.status==="uploading"||ee?.status==="processing",ke=ee?.status==="error",Ht=hr(b.type),ae=()=>{const O=$();return b.type==="verify_ssn"||b.type==="verify_info"?_t()||!!O?.clientVerification?.submittedAt:b.type==="verify_bank_info"?Ct()||!!O?.clientBankInfo?.submittedAt:b.type==="provide_dependent_info"?wt()||O?.clientDependents&&O.clientDependents.length>0:b.type==="sign_letter"?Tt()||!!O?.clientSignature?.signedAt:b.type==="review_summary"?Nt()||!!O?.clientReviewConfirmation?.reviewedAt:b.type==="set_signing_pin"?Lt()||!!O?.clientSigningPin?.setAt:!1};return Ht?(()=>{var O=dt();return i(O,Si),e(O,_(w,{get when(){return b.type==="verify_ssn"||b.type==="verify_info"},get children(){return[(()=>{var o=Qe(),l=o.firstChild,p=l.nextSibling;return e(l,()=>r("verifyInfoTitle"),null),e(l,(()=>{var n=L(()=>!!b.required);return()=>n()&&(()=>{var g=We();return m(f=>i(g,{...De,"margin-left":"0.5rem"},f)),g})()})(),null),e(p,(()=>{var n=L(()=>!!ae());return()=>n()?r("statusComplete"):r("statusPending")})()),m(n=>{var g=Fe,f=Be,c=Ue(ae());return n.e=i(o,g,n.e),n.t=i(l,f,n.t),n.a=i(p,c,n.a),n},{e:void 0,t:void 0,a:void 0}),o})(),(()=>{var o=Xe();return e(o,()=>r("verifyInfoDescription")),m(l=>i(o,Me,l)),o})(),_(w,{get when(){return L(()=>!_t())()&&!$()?.clientVerification?.submittedAt},get children(){var o=tn(),l=o.firstChild,p=l.firstChild,n=p.firstChild,g=p.nextSibling,f=l.nextSibling,c=f.firstChild,P=c.firstChild,I=c.nextSibling,S=I.firstChild,F=S.nextSibling,D=F.nextSibling,K=D.nextSibling,R=K.nextSibling,j=f.nextSibling,C=j.firstChild,z=C.nextSibling,q=j.nextSibling,x=q.firstChild,T=x.nextSibling,M=q.nextSibling,k=M.firstChild,X=k.firstChild,Y=X.nextSibling,a=k.nextSibling,ie=a.firstChild,te=ie.nextSibling,d=M.nextSibling,Z=d.firstChild,ue=Z.nextSibling,h=d.nextSibling;return e(p,()=>r("ssnLabel"),n),g.$$input=y=>Ie("ssn",y.currentTarget.value),e(c,()=>r("filingStatusLabel"),P),I.addEventListener("change",y=>Ie("filingStatus",y.currentTarget.value)),e(S,()=>r("select")),e(F,()=>r("filingStatusSingle")),e(D,()=>r("filingStatusMarried")),e(K,()=>r("filingStatusMarriedSeparate")),e(R,()=>r("filingStatusHeadHousehold")),e(C,()=>r("phoneLabel")),z.$$input=y=>Ie("phone",y.currentTarget.value),e(x,()=>r("addressLabel")),T.$$input=y=>Ie("address",y.currentTarget.value),e(X,()=>r("cityLabel")),Y.$$input=y=>Ie("city",y.currentTarget.value),e(ie,()=>r("stateLabel")),te.$$input=y=>Ie("state",y.currentTarget.value),e(Z,()=>r("zipLabel")),ue.$$input=y=>Ie("zipCode",y.currentTarget.value),h.$$click=Vr,e(h,()=>r("submitVerification")),m(y=>{var Se=tt,xe=B,me=J,we=r("ssnPlaceholder"),$e=B,ot=qt,lt=B,Ve=J,st=B,Ye=J,Ut=At,Ot=B,jt=J,Ni=B,Li=J,Ei=B,Ri=J,zi=Te;return y.e=i(o,Se,y.e),y.t=i(p,xe,y.t),y.a=i(g,me,y.a),we!==y.o&&at(g,"placeholder",y.o=we),y.i=i(c,$e,y.i),y.n=i(I,ot,y.n),y.s=i(C,lt,y.s),y.h=i(z,Ve,y.h),y.r=i(x,st,y.r),y.d=i(T,Ye,y.d),y.l=i(M,Ut,y.l),y.u=i(X,Ot,y.u),y.c=i(Y,jt,y.c),y.w=i(ie,Ni,y.w),y.m=i(te,Li,y.m),y.f=i(Z,Ei,y.f),y.y=i(ue,Ri,y.y),y.g=i(h,zi,y.g),y},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0}),m(()=>g.value=re().ssn),m(()=>I.value=re().filingStatus),m(()=>z.value=re().phone),m(()=>T.value=re().address),m(()=>Y.value=re().city),m(()=>te.value=re().state),m(()=>ue.value=re().zipCode),o}}),_(w,{get when(){return _t()||$()?.clientVerification?.submittedAt},get children(){var o=Ge(),l=o.firstChild,p=l.nextSibling;return l.style.setProperty("font-size","1.5rem"),e(p,()=>r("verificationComplete")),m(n=>i(o,He,n)),o}})]}}),null),e(O,_(w,{get when(){return b.type==="verify_bank_info"},get children(){return[(()=>{var o=Qe(),l=o.firstChild,p=l.nextSibling;return e(l,()=>r("bankInfoTitle"),null),e(l,(()=>{var n=L(()=>!!b.required);return()=>n()&&(()=>{var g=We();return m(f=>i(g,{...De,"margin-left":"0.5rem"},f)),g})()})(),null),e(p,(()=>{var n=L(()=>!!ae());return()=>n()?r("statusComplete"):r("statusPending")})()),m(n=>{var g=Fe,f=Be,c=Ue(ae());return n.e=i(o,g,n.e),n.t=i(l,f,n.t),n.a=i(p,c,n.a),n},{e:void 0,t:void 0,a:void 0}),o})(),(()=>{var o=Xe();return e(o,()=>r("bankInfoDescription")),m(l=>i(o,Me,l)),o})(),_(w,{get when(){return L(()=>!Ct())()&&!$()?.clientBankInfo?.submittedAt},get children(){var o=rn(),l=o.firstChild,p=l.firstChild,n=p.firstChild,g=p.nextSibling,f=g.firstChild,c=f.nextSibling,P=c.nextSibling,I=l.nextSibling,S=I.firstChild,F=S.firstChild,D=S.nextSibling,K=I.nextSibling,R=K.firstChild,j=R.firstChild,C=R.nextSibling,z=K.nextSibling,q=z.firstChild,x=q.firstChild,T=q.nextSibling,M=z.nextSibling,k=M.firstChild,X=k.nextSibling,Y=M.nextSibling;return e(p,()=>r("accountTypeLabel"),n),g.addEventListener("change",a=>Ze("accountType",a.currentTarget.value)),e(f,()=>r("select")),e(c,()=>r("accountTypeChecking")),e(P,()=>r("accountTypeSavings")),e(S,()=>r("routingNumberLabel"),F),D.$$input=a=>Ze("routingNumber",a.currentTarget.value),e(R,()=>r("accountNumberLabel"),j),C.$$input=a=>Ze("accountNumber",a.currentTarget.value),e(q,()=>r("confirmAccountLabel"),x),T.$$input=a=>Ze("confirmAccountNumber",a.currentTarget.value),e(k,()=>r("accountHolderLabel")),X.$$input=a=>Ze("accountHolderName",a.currentTarget.value),Y.$$click=Yr,e(Y,()=>r("submitBankInfo")),m(a=>{var ie=tt,te=B,d=qt,Z=B,ue=J,h=B,y=J,Se=B,xe=J,me=B,we=J,$e=Te;return a.e=i(o,ie,a.e),a.t=i(p,te,a.t),a.a=i(g,d,a.a),a.o=i(S,Z,a.o),a.i=i(D,ue,a.i),a.n=i(R,h,a.n),a.s=i(C,y,a.s),a.h=i(q,Se,a.h),a.r=i(T,xe,a.r),a.d=i(k,me,a.d),a.l=i(X,we,a.l),a.u=i(Y,$e,a.u),a},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0}),m(()=>g.value=Ee().accountType),m(()=>D.value=Ee().routingNumber),m(()=>C.value=Ee().accountNumber),m(()=>T.value=Ee().confirmAccountNumber),m(()=>X.value=Ee().accountHolderName),o}}),_(w,{get when(){return Ct()||$()?.clientBankInfo?.submittedAt},get children(){var o=Ge(),l=o.firstChild,p=l.nextSibling;return l.style.setProperty("font-size","1.5rem"),e(p,()=>r("bankInfoComplete")),m(n=>i(o,He,n)),o}})]}}),null),e(O,_(w,{get when(){return b.type==="provide_dependent_info"},get children(){return[(()=>{var o=Qe(),l=o.firstChild,p=l.nextSibling;return e(l,()=>r("dependentTitle"),null),e(l,(()=>{var n=L(()=>!!b.required);return()=>n()&&(()=>{var g=We();return m(f=>i(g,{...De,"margin-left":"0.5rem"},f)),g})()})(),null),e(p,(()=>{var n=L(()=>!!ae());return()=>n()?r("statusComplete"):r("statusPending")})()),m(n=>{var g=Fe,f=Be,c=Ue(ae());return n.e=i(o,g,n.e),n.t=i(l,f,n.t),n.a=i(p,c,n.a),n},{e:void 0,t:void 0,a:void 0}),o})(),(()=>{var o=Xe();return e(o,()=>r("dependentDescription")),m(l=>i(o,Me,l)),o})(),_(w,{get when(){return L(()=>!wt())()&&!($()?.clientDependents&&$().clientDependents.length>0)},get children(){return[_(w,{get when(){return Re().length>0},get children(){var o=dt();return o.style.setProperty("margin-bottom","1rem"),e(o,_(br,{get each(){return Re()},children:(l,p)=>(()=>{var n=pn(),g=n.firstChild,f=g.firstChild,c=f.firstChild,P=f.nextSibling,I=g.nextSibling;return i(n,xi),f.style.setProperty("font-weight","500"),e(f,()=>l.firstName,c),e(f,()=>l.lastName,null),P.style.setProperty("font-size","0.875rem"),P.style.setProperty("color","#64748b"),e(P,()=>l.relationship),I.$$click=()=>Qt(S=>S.filter((F,D)=>D!==p())),m(S=>i(I,{...Ft,padding:"0.375rem 0.75rem","font-size":"0.875rem"},S)),n})()})),o}}),_(w,{get when(){return L(()=>Re().length===0)()&&!It()},get children(){var o=dt();return o.style.setProperty("text-align","center"),o.style.setProperty("padding","1rem"),o.style.setProperty("color","#64748b"),e(o,()=>r("noDependents")),o}}),_(w,{get when(){return It()},get children(){var o=nn(),l=o.firstChild,p=l.firstChild,n=p.firstChild,g=n.firstChild,f=n.nextSibling,c=p.nextSibling,P=c.firstChild,I=P.firstChild,S=P.nextSibling,F=l.nextSibling,D=F.firstChild,K=D.firstChild,R=D.nextSibling,j=R.firstChild,C=j.nextSibling,z=C.nextSibling,q=z.nextSibling,x=q.nextSibling,T=x.nextSibling,M=F.nextSibling,k=M.firstChild,X=k.firstChild,Y=X.nextSibling,a=k.nextSibling,ie=a.firstChild,te=ie.nextSibling,d=M.nextSibling,Z=d.firstChild,ue=Z.nextSibling;return o.style.setProperty("padding","1rem"),o.style.setProperty("background","#f8fafc"),o.style.setProperty("border-radius","8px"),o.style.setProperty("margin-bottom","1rem"),e(n,()=>r("dependentFirstName"),g),f.$$input=h=>et("firstName",h.currentTarget.value),e(P,()=>r("dependentLastName"),I),S.$$input=h=>et("lastName",h.currentTarget.value),e(D,()=>r("dependentRelationship"),K),R.addEventListener("change",h=>et("relationship",h.currentTarget.value)),e(j,()=>r("select")),e(C,()=>r("relationshipChild")),e(z,()=>r("relationshipStepchild")),e(q,()=>r("relationshipParent")),e(x,()=>r("relationshipSibling")),e(T,()=>r("relationshipOther")),e(X,()=>r("dependentSSN")),Y.$$input=h=>et("ssn",h.currentTarget.value),e(ie,()=>r("dependentDOB")),te.$$input=h=>et("dateOfBirth",h.currentTarget.value),d.style.setProperty("display","flex"),d.style.setProperty("gap","0.75rem"),d.style.setProperty("margin-top","0.5rem"),Z.$$click=()=>Dt(!1),e(Z,()=>r("cancelDependent")),ue.$$click=Jr,e(ue,()=>r("saveDependent")),m(h=>{var y=At,Se=B,xe=J,me=B,we=J,$e=B,ot=qt,lt=At,Ve=B,st=J,Ye=B,Ut=J,Ot=Ft,jt=Te;return h.e=i(l,y,h.e),h.t=i(n,Se,h.t),h.a=i(f,xe,h.a),h.o=i(P,me,h.o),h.i=i(S,we,h.i),h.n=i(D,$e,h.n),h.s=i(R,ot,h.s),h.h=i(M,lt,h.h),h.r=i(X,Ve,h.r),h.d=i(Y,st,h.d),h.l=i(ie,Ye,h.l),h.u=i(te,Ut,h.u),h.c=i(Z,Ot,h.c),h.w=i(ue,jt,h.w),h},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0}),m(()=>f.value=ze().firstName),m(()=>S.value=ze().lastName),m(()=>R.value=ze().relationship),m(()=>Y.value=ze().ssn),m(()=>te.value=ze().dateOfBirth),o}}),_(w,{get when(){return!It()},get children(){var o=on(),l=o.firstChild;l.firstChild;var p=l.nextSibling;return o.style.setProperty("display","flex"),o.style.setProperty("gap","0.75rem"),l.$$click=()=>Dt(!0),e(l,()=>r("addDependent"),null),p.$$click=Gr,e(p,(()=>{var n=L(()=>Re().length===0);return()=>n()?r("skipDependents"):r("dependentsComplete")})()),m(n=>{var g=Ft,f=Te;return n.e=i(l,g,n.e),n.t=i(p,f,n.t),n},{e:void 0,t:void 0}),o}})]}}),_(w,{get when(){return wt()||$()?.clientDependents&&$().clientDependents.length>0},get children(){var o=ln(),l=o.firstChild,p=l.nextSibling,n=p.firstChild,g=n.nextSibling;return g.nextSibling,l.style.setProperty("font-size","1.5rem"),e(p,()=>r("dependentsComplete"),n),e(p,()=>Re().length,g),m(f=>i(o,He,f)),o}})]}}),null),e(O,_(w,{get when(){return b.type==="sign_letter"},get children(){return[(()=>{var o=Qe(),l=o.firstChild,p=l.nextSibling;return e(l,()=>r("signLetterTitle"),null),e(l,(()=>{var n=L(()=>!!b.required);return()=>n()&&(()=>{var g=We();return m(f=>i(g,{...De,"margin-left":"0.5rem"},f)),g})()})(),null),e(p,(()=>{var n=L(()=>!!ae());return()=>n()?r("statusComplete"):r("statusPending")})()),m(n=>{var g=Fe,f=Be,c=Ue(ae());return n.e=i(o,g,n.e),n.t=i(l,f,n.t),n.a=i(p,c,n.a),n},{e:void 0,t:void 0,a:void 0}),o})(),(()=>{var o=Xe();return e(o,()=>r("signLetterDescription")),m(l=>i(o,Me,l)),o})(),_(w,{get when(){return L(()=>!Tt())()&&!$()?.clientSignature?.signedAt},get children(){var o=sn(),l=o.firstChild,p=l.nextSibling,n=p.firstChild,g=n.nextSibling,f=g.firstChild,c=p.nextSibling,P=c.firstChild,I=P.firstChild,S=P.nextSibling,F=S.firstChild,D=F.nextSibling,K=D.nextSibling,R=S.nextSibling,j=R.firstChild,C=j.nextSibling,z=c.nextSibling,q=z.firstChild,x=q.firstChild,T=q.nextSibling,M=z.nextSibling,k=M.firstChild,X=k.nextSibling,Y=M.nextSibling;return l.style.setProperty("padding","1rem"),l.style.setProperty("background","#f8fafc"),l.style.setProperty("border-radius","8px"),l.style.setProperty("border","1px solid #e2e8f0"),l.style.setProperty("font-size","0.9rem"),l.style.setProperty("line-height","1.6"),l.style.setProperty("color","#475569"),l.style.setProperty("max-height","200px"),l.style.setProperty("overflow-y","auto"),e(l,()=>r("engagementLetterText")),p.style.setProperty("display","flex"),p.style.setProperty("align-items","flex-start"),p.style.setProperty("gap","0.75rem"),n.addEventListener("change",a=>gt("agreedToTerms",a.currentTarget.checked)),n.style.setProperty("width","20px"),n.style.setProperty("height","20px"),n.style.setProperty("margin-top","2px"),n.style.setProperty("cursor","pointer"),g.style.setProperty("font-size","0.9rem"),g.style.setProperty("color","#1e293b"),g.style.setProperty("cursor","pointer"),e(g,()=>r("agreeToTermsLabel"),f),e(P,()=>r("signatureBoxLabel"),I),S.style.setProperty("position","relative"),S.style.setProperty("border-radius","8px"),S.style.setProperty("background","#ffffff"),S.style.setProperty("overflow","hidden"),F.$$touchend=Rt,F.$$touchmove=a=>ar(a),F.$$touchstart=a=>sr(a),F.addEventListener("mouseleave",Rt),F.$$mouseup=Rt,F.$$mousemove=a=>ar(a),F.$$mousedown=a=>sr(a),Vt(a=>Fr(a),F),F.style.setProperty("width","100%"),F.style.setProperty("height","150px"),F.style.setProperty("cursor","crosshair"),F.style.setProperty("touch-action","none"),D.style.setProperty("position","absolute"),D.style.setProperty("bottom","30px"),D.style.setProperty("left","20px"),D.style.setProperty("right","20px"),D.style.setProperty("height","1px"),D.style.setProperty("background","#94a3b8"),D.style.setProperty("pointer-events","none"),K.style.setProperty("position","absolute"),K.style.setProperty("bottom","35px"),K.style.setProperty("left","15px"),K.style.setProperty("color","#94a3b8"),K.style.setProperty("font-size","1rem"),K.style.setProperty("pointer-events","none"),R.style.setProperty("display","flex"),R.style.setProperty("justify-content","space-between"),R.style.setProperty("align-items","center"),R.style.setProperty("margin-top","0.5rem"),j.style.setProperty("font-size","0.8rem"),j.style.setProperty("color","#64748b"),e(j,()=>r("signatureInstructions")),C.$$click=Br,C.style.setProperty("padding","0.4rem 0.75rem"),C.style.setProperty("font-size","0.8rem"),C.style.setProperty("background","#f1f5f9"),C.style.setProperty("border","1px solid #e2e8f0"),C.style.setProperty("border-radius","6px"),C.style.setProperty("color","#64748b"),C.style.setProperty("cursor","pointer"),e(C,()=>r("clearSignature")),e(q,()=>r("signatureNameLabel"),x),T.$$input=a=>gt("name",a.currentTarget.value),e(k,()=>r("signatureDateLabel")),X.$$input=a=>gt("date",a.currentTarget.value),Y.$$click=Qr,e(Y,()=>r("submitSignature")),m(a=>{var ie=tt,te=B,d=qe()?"2px solid #22c55e":"2px dashed #cbd5e1",Z=B,ue=J,h=r("signatureNamePlaceholder"),y=B,Se=J,xe={...Te,opacity:!ye().agreedToTerms||!qe()||!ye().name?.5:1,cursor:!ye().agreedToTerms||!qe()||!ye().name?"not-allowed":"pointer"},me=!ye().agreedToTerms||!qe()||!ye().name;return a.e=i(o,ie,a.e),a.t=i(P,te,a.t),d!==a.a&&((a.a=d)!=null?S.style.setProperty("border",d):S.style.removeProperty("border")),a.o=i(q,Z,a.o),a.i=i(T,ue,a.i),h!==a.n&&at(T,"placeholder",a.n=h),a.s=i(k,y,a.s),a.h=i(X,Se,a.h),a.r=i(Y,xe,a.r),me!==a.d&&(Y.disabled=a.d=me),a},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0}),m(()=>n.checked=ye().agreedToTerms),m(()=>T.value=ye().name),m(()=>X.value=ye().date),o}}),_(w,{get when(){return Tt()||$()?.clientSignature?.signedAt},get children(){var o=Ge(),l=o.firstChild,p=l.nextSibling;return l.style.setProperty("font-size","1.5rem"),e(p,()=>r("signatureComplete")),m(n=>i(o,He,n)),o}})]}}),null),e(O,_(w,{get when(){return b.type==="review_summary"},get children(){return[(()=>{var o=Qe(),l=o.firstChild,p=l.nextSibling;return e(l,()=>r("reviewSummaryTitle"),null),e(l,(()=>{var n=L(()=>!!b.required);return()=>n()&&(()=>{var g=We();return m(f=>i(g,{...De,"margin-left":"0.5rem"},f)),g})()})(),null),e(p,(()=>{var n=L(()=>!!ae());return()=>n()?r("statusComplete"):r("statusPending")})()),m(n=>{var g=Fe,f=Be,c=Ue(ae());return n.e=i(o,g,n.e),n.t=i(l,f,n.t),n.a=i(p,c,n.a),n},{e:void 0,t:void 0,a:void 0}),o})(),(()=>{var o=Xe();return e(o,()=>r("reviewSummaryDescription")),m(l=>i(o,Me,l)),o})(),_(w,{get when(){return L(()=>!Nt())()&&!$()?.clientReviewConfirmation?.reviewedAt},get children(){var o=un(),l=o.firstChild,p=l.firstChild,n=p.nextSibling,g=n.firstChild,f=g.firstChild,c=f.firstChild,P=f.nextSibling,I=g.nextSibling,S=I.firstChild,F=S.firstChild,D=S.nextSibling,K=D.firstChild,R=l.nextSibling,j=R.firstChild,C=j.nextSibling,z=C.firstChild,q=R.nextSibling;return l.style.setProperty("padding","1rem"),l.style.setProperty("background","#f0f9ff"),l.style.setProperty("border-radius","8px"),l.style.setProperty("border","1px solid #bfdbfe"),p.style.setProperty("font-size","1rem"),p.style.setProperty("font-weight","600"),p.style.setProperty("color","#1e40af"),p.style.setProperty("margin-bottom","0.75rem"),e(p,()=>r("clientInfoSummary")),n.style.setProperty("display","flex"),n.style.setProperty("flex-direction","column"),n.style.setProperty("gap","0.5rem"),g.style.setProperty("display","flex"),g.style.setProperty("justify-content","space-between"),g.style.setProperty("font-size","0.9rem"),f.style.setProperty("color","#64748b"),e(f,()=>r("clientNameLabel"),c),P.style.setProperty("color","#1e293b"),P.style.setProperty("font-weight","500"),e(P,()=>$()?.clientName||"-"),e(n,_(w,{get when(){return re().ssn},get children(){var x=an(),T=x.firstChild,M=T.firstChild,k=T.nextSibling;return k.firstChild,x.style.setProperty("display","flex"),x.style.setProperty("justify-content","space-between"),x.style.setProperty("font-size","0.9rem"),T.style.setProperty("color","#64748b"),e(T,()=>r("ssnLast4Label"),M),k.style.setProperty("color","#1e293b"),k.style.setProperty("font-weight","500"),e(k,()=>re().ssn.slice(-4),null),x}}),I),e(n,_(w,{get when(){return re().filingStatus},get children(){var x=dn(),T=x.firstChild,M=T.firstChild,k=T.nextSibling;return x.style.setProperty("display","flex"),x.style.setProperty("justify-content","space-between"),x.style.setProperty("font-size","0.9rem"),T.style.setProperty("color","#64748b"),e(T,()=>r("filingStatusSummaryLabel"),M),k.style.setProperty("color","#1e293b"),k.style.setProperty("font-weight","500"),e(k,(()=>{var X=L(()=>re().filingStatus==="single");return()=>X()?r("filingStatusSingle"):L(()=>re().filingStatus==="married_jointly")()?r("filingStatusMarried"):L(()=>re().filingStatus==="married_separate")()?r("filingStatusMarriedSeparate"):L(()=>re().filingStatus==="head_household")()?r("filingStatusHeadHousehold"):re().filingStatus})()),x}}),I),I.style.setProperty("display","flex"),I.style.setProperty("justify-content","space-between"),I.style.setProperty("font-size","0.9rem"),S.style.setProperty("color","#64748b"),e(S,()=>r("documentsUploadedLabel"),F),D.style.setProperty("color","#1e293b"),D.style.setProperty("font-weight","500"),e(D,()=>$()?.requestedDocuments.filter(x=>x.uploaded).length||0,K),e(D,()=>$()?.requestedDocuments.length||0,null),R.style.setProperty("display","flex"),R.style.setProperty("align-items","flex-start"),R.style.setProperty("gap","0.75rem"),j.addEventListener("change",x=>jr("confirmed",x.currentTarget.checked)),j.style.setProperty("width","20px"),j.style.setProperty("height","20px"),j.style.setProperty("margin-top","2px"),j.style.setProperty("cursor","pointer"),C.style.setProperty("font-size","0.9rem"),C.style.setProperty("color","#1e293b"),C.style.setProperty("cursor","pointer"),e(C,()=>r("confirmReviewLabel"),z),q.$$click=Xr,e(q,()=>r("submitReview")),m(x=>{var T=tt,M=Te;return x.e=i(o,T,x.e),x.t=i(q,M,x.t),x},{e:void 0,t:void 0}),m(()=>j.checked=er().confirmed),o}}),_(w,{get when(){return Nt()||$()?.clientReviewConfirmation?.reviewedAt},get children(){var o=Ge(),l=o.firstChild,p=l.nextSibling;return l.style.setProperty("font-size","1.5rem"),e(p,()=>r("reviewComplete")),m(n=>i(o,He,n)),o}})]}}),null),e(O,_(w,{get when(){return b.type==="set_signing_pin"},get children(){return[(()=>{var o=Qe(),l=o.firstChild,p=l.nextSibling;return e(l,()=>r("signingPinTitle"),null),e(l,(()=>{var n=L(()=>!!b.required);return()=>n()&&(()=>{var g=We();return m(f=>i(g,{...De,"margin-left":"0.5rem"},f)),g})()})(),null),e(p,(()=>{var n=L(()=>!!ae());return()=>n()?r("statusComplete"):r("statusPending")})()),m(n=>{var g=Fe,f=Be,c=Ue(ae());return n.e=i(o,g,n.e),n.t=i(l,f,n.t),n.a=i(p,c,n.a),n},{e:void 0,t:void 0,a:void 0}),o})(),(()=>{var o=Xe();return e(o,()=>r("signingPinDescription")),m(l=>i(o,Me,l)),o})(),_(w,{get when(){return L(()=>!Lt())()&&!$()?.clientSigningPin?.setAt},get children(){var o=cn(),l=o.firstChild,p=l.firstChild;p.nextSibling;var n=l.nextSibling,g=n.firstChild,f=g.firstChild,c=f.firstChild,P=f.nextSibling,I=g.nextSibling,S=I.firstChild,F=S.firstChild,D=S.nextSibling,K=n.nextSibling,R=K.firstChild,j=R.firstChild,C=R.nextSibling,z=C.firstChild,q=z.nextSibling,x=q.nextSibling,T=C.nextSibling,M=T.firstChild,k=M.nextSibling,X=K.nextSibling,Y=X.firstChild,a=Y.firstChild,ie=Y.nextSibling,te=X.nextSibling;return l.style.setProperty("padding","1rem"),l.style.setProperty("background","#fef3c7"),l.style.setProperty("border-radius","8px"),l.style.setProperty("border","1px solid #fcd34d"),l.style.setProperty("font-size","0.875rem"),l.style.setProperty("line-height","1.5"),l.style.setProperty("color","#92400e"),e(l,()=>W()==="es"?"Autorizacion de firma electronica para declaracion de impuestos. Su PIN de 5 digitos y firma autorizan la presentacion electronica de su declaracion.":"E-file Signature Authorization. Your 5-digit PIN and signature authorize electronic filing of your tax return.",null),n.style.setProperty("display","grid"),n.style.setProperty("grid-template-columns","1fr 1fr"),n.style.setProperty("gap","1rem"),e(f,()=>r("pinLabel"),c),P.$$input=d=>{const Z=d.currentTarget.value.replace(/\D/g,"").slice(0,5);Lr(Z),_e(null)},e(S,()=>r("confirmPinLabel"),F),D.$$input=d=>{const Z=d.currentTarget.value.replace(/\D/g,"").slice(0,5);Er(Z),_e(null)},e(I,_(w,{get when(){return L(()=>!!(ce()&&ne()))()&&ce()!==ne()},get children(){var d=ut();return d.style.setProperty("color","#dc2626"),d.style.setProperty("font-size","0.75rem"),d.style.setProperty("margin-top","0.25rem"),d.style.setProperty("display","block"),e(d,()=>r("pinMismatch")),d}}),null),e(R,()=>r("signatureBoxLabel"),j),C.style.setProperty("position","relative"),C.style.setProperty("border-radius","8px"),C.style.setProperty("background","#ffffff"),C.style.setProperty("overflow","hidden"),z.$$touchend=zt,z.$$touchmove=d=>ur(d),z.$$touchstart=d=>dr(d),z.addEventListener("mouseleave",zt),z.$$mouseup=zt,z.$$mousemove=d=>ur(d),z.$$mousedown=d=>dr(d),Vt(d=>Hr(d),z),z.style.setProperty("width","100%"),z.style.setProperty("height","150px"),z.style.setProperty("cursor","crosshair"),z.style.setProperty("touch-action","none"),q.style.setProperty("position","absolute"),q.style.setProperty("bottom","30px"),q.style.setProperty("left","20px"),q.style.setProperty("right","20px"),q.style.setProperty("height","1px"),q.style.setProperty("background","#94a3b8"),q.style.setProperty("pointer-events","none"),x.style.setProperty("position","absolute"),x.style.setProperty("bottom","35px"),x.style.setProperty("left","15px"),x.style.setProperty("color","#94a3b8"),x.style.setProperty("font-size","1rem"),x.style.setProperty("pointer-events","none"),T.style.setProperty("display","flex"),T.style.setProperty("justify-content","space-between"),T.style.setProperty("align-items","center"),T.style.setProperty("margin-top","0.5rem"),M.style.setProperty("font-size","0.8rem"),M.style.setProperty("color","#64748b"),e(M,()=>r("signatureInstructions")),k.$$click=Ur,k.style.setProperty("padding","0.4rem 0.75rem"),k.style.setProperty("font-size","0.8rem"),k.style.setProperty("background","#f1f5f9"),k.style.setProperty("border","1px solid #e2e8f0"),k.style.setProperty("border-radius","6px"),k.style.setProperty("color","#64748b"),k.style.setProperty("cursor","pointer"),e(k,()=>r("clearSignature")),e(Y,()=>r("signatureNameLabel"),a),ie.$$input=d=>{zr(d.currentTarget.value),_e(null)},e(o,_(w,{get when(){return tr()},get children(){var d=dt();return d.style.setProperty("padding","0.75rem"),d.style.setProperty("background","#fef2f2"),d.style.setProperty("border","1px solid #fecaca"),d.style.setProperty("border-radius","6px"),d.style.setProperty("color","#dc2626"),d.style.setProperty("font-size","0.875rem"),e(d,tr),d}}),te),te.$$click=Wr,e(te,()=>r("submitPin")),m(d=>{var Z=tt,ue=B,h={...J,"font-size":"1.5rem","text-align":"center","letter-spacing":"0.5rem","font-weight":"bold"},y=r("pinPlaceholder"),Se=B,xe={...J,"font-size":"1.5rem","text-align":"center","letter-spacing":"0.5rem","font-weight":"bold","border-color":ce()&&ne()&&ce()!==ne()?"#dc2626":void 0},me=r("confirmPinPlaceholder"),we=B,$e=Ae()?"2px solid #22c55e":"2px dashed #cbd5e1",ot=B,lt=J,Ve=r("signatureNamePlaceholder"),st={...Te,opacity:!ne()||!ce()||ne().length!==5||ne()!==ce()||!Ae()||!Ke()?.5:1,cursor:!ne()||!ce()||ne().length!==5||ne()!==ce()||!Ae()||!Ke()?"not-allowed":"pointer"},Ye=!ne()||!ce()||ne().length!==5||ne()!==ce()||!Ae()||!Ke();return d.e=i(o,Z,d.e),d.t=i(f,ue,d.t),d.a=i(P,h,d.a),y!==d.o&&at(P,"placeholder",d.o=y),d.i=i(S,Se,d.i),d.n=i(D,xe,d.n),me!==d.s&&at(D,"placeholder",d.s=me),d.h=i(R,we,d.h),$e!==d.r&&((d.r=$e)!=null?C.style.setProperty("border",$e):C.style.removeProperty("border")),d.d=i(Y,ot,d.d),d.l=i(ie,lt,d.l),Ve!==d.u&&at(ie,"placeholder",d.u=Ve),d.c=i(te,st,d.c),Ye!==d.w&&(te.disabled=d.w=Ye),d},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0}),m(()=>P.value=ne()),m(()=>D.value=ce()),m(()=>ie.value=Ke()),o}}),_(w,{get when(){return Lt()||$()?.clientSigningPin?.setAt},get children(){var o=Ge(),l=o.firstChild,p=l.nextSibling;return l.style.setProperty("font-size","1.5rem"),e(p,()=>r("pinComplete")),m(n=>i(o,He,n)),o}})]}}),null),O})():(()=>{var O=fn(),o=O.firstChild,l=o.nextSibling,p=l.firstChild,n=p.nextSibling,g=n.firstChild,f=l.nextSibling;return o.addEventListener("change",c=>Kr(b.type,c)),Vt(c=>lr.set(b.type,c),o),o.style.setProperty("display","none"),i(l,fi),e(p,ge&&yn()),i(g,vi),e(g,()=>ei(b),null),e(g,(()=>{var c=L(()=>!!b.required);return()=>c()&&(()=>{var P=ut();return e(P,()=>r("REQUIRED")),m(I=>i(P,{...De,"margin-left":"0.5rem"},I)),P})()})(),null),e(n,_(w,{get when(){return ee?.fileName&&be},get children(){var c=dt();return c.style.setProperty("font-size","0.8rem"),c.style.setProperty("color","#64748b"),c.style.setProperty("margin-top","0.25rem"),e(c,()=>ee?.fileName),c}}),null),f.$$click=()=>!ge&&!be&&cr(b.type),f.disabled=ge||be,e(f,ge?(()=>{var c=ut();return e(c,()=>r("uploaded")),c})():be?[(()=>{var c=vn();return c.style.setProperty("animation","spin 1s linear infinite"),c.style.setProperty("display","inline-block"),c})(),(()=>{var c=ut();return e(c,(()=>{var P=L(()=>ee?.status==="processing");return()=>P()?r("processing"):r("uploading")})()),c})()]:(()=>{var c=ut();return e(c,()=>r("upload")),c})()),e(O,_(w,{get when(){return be&&ee?.progress},get children(){var c=gn(),P=c.firstChild,I=P.firstChild;return c.style.setProperty("width","100%"),i(P,Pi),I.style.setProperty("height","100%"),I.style.setProperty("background","linear-gradient(90deg, #3b82f6 0%, #1d4ed8 100%)"),I.style.setProperty("transition","width 0.3s ease"),m(S=>(S=`${ee?.progress}%`)!=null?I.style.setProperty("width",S):I.style.removeProperty("width")),c}}),null),e(O,_(w,{get when(){return ke&&ee?.errorMessage},get children(){var c=mn(),P=c.firstChild;return i(c,hi),e(c,()=>ee?.errorMessage,P),P.$$click=()=>cr(b.type),P.style.setProperty("margin-left","0.5rem"),P.style.setProperty("background","none"),P.style.setProperty("border","none"),P.style.setProperty("color","#2563eb"),P.style.setProperty("cursor","pointer"),P.style.setProperty("text-decoration","underline"),P.style.setProperty("font-size","0.8rem"),e(P,()=>r("tryAgain")),c}}),null),m(c=>{var P=mi(ge,ke),I=yi(ge,b.required),S=bi(ge,be);return c.e=i(O,P,c.e),c.t=i(p,I,c.t),c.a=i(f,S,c.a),c},{e:void 0,t:void 0,a:void 0}),O})()}})),m(b=>{var ee=ft,ge=ai,be=ci(vt),ke=pi,Ht=pr,ae=gi;return b.e=i(N,ee,b.e),b.t=i(de,ge,b.t),b.a=i(Mt,be,b.a),b.o=i(Pt,ke,b.o),b.i=i(St,Ht,b.i),b.n=i(yr,ae,b.n),b},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),N})(),_(w,{when:vt===100,get children(){var N=Ki(),H=N.firstChild,G=H.nextSibling,Q=G.firstChild,U=Q.nextSibling;return H.style.setProperty("font-size","2rem"),e(Q,()=>r("completionTitle")),U.style.setProperty("font-size","0.875rem"),U.style.setProperty("margin-top","0.25rem"),e(U,()=>r("completionMessage")),m(de=>i(N,gr("success"),de)),N}}),(()=>{var N=Zi(),H=N.firstChild,G=H.firstChild,Q=H.nextSibling,U=Q.firstChild,de=U.firstChild;de.nextSibling;var pe=U.nextSibling,Bt=pe.firstChild,Oe=pe.nextSibling,bt=Oe.firstChild,ht=bt.nextSibling,je=ht.nextSibling,nt=je.nextSibling;return e(G,()=>r("needHelp")),Q.style.setProperty("color","#64748b"),Q.style.setProperty("font-size","0.9rem"),Q.style.setProperty("line-height","1.6"),U.style.setProperty("margin-bottom","0.75rem"),e(de,()=>r("acceptedFiles")),e(U,()=>r("acceptedFilesDesc"),null),pe.style.setProperty("margin-bottom","0.75rem"),e(Bt,()=>r("tipsTitle")),Oe.style.setProperty("padding-left","1.5rem"),Oe.style.setProperty("margin","0"),e(bt,()=>r("tip1")),e(ht,()=>r("tip2")),e(je,()=>r("tip3")),e(nt,()=>r("tip4")),m(Pe=>{var Mt={...ft,padding:"1.5rem"},Pt=pr;return Pe.e=i(N,Mt,Pe.e),Pe.t=i(H,Pt,Pe.t),Pe},{e:void 0,t:void 0}),N})()]}}),rt),e(fr,()=>r("secureTransmission")),it.style.setProperty("margin-top","0.5rem"),it.style.setProperty("font-size","0.8rem"),e(it,()=>r("linkExpires"),Ti),e(it,(()=>{var N=L(()=>!!$()?.expiresAt);return()=>N()?new Date($().expiresAt).toLocaleDateString():"--"})(),null),m(N=>{var H=ii,G=wi;return N.e=i(V,H,N.e),N.t=i(rt,G,N.t),N},{e:void 0,t:void 0}),t})()};Fi(["click","input","mousedown","mousemove","mouseup","touchstart","touchmove","touchend"]);export{_n as default};
