(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();const oi=!1,ii=(t,e)=>t===e,on=Symbol("solid-proxy"),To=typeof Proxy=="function",ai=Symbol("solid-track"),an={equals:ii};let Bo=qo;const ar=1,ln=2,Mo={owned:null,cleanups:null,context:null,owner:null};var dt=null;let mn=null,li=null,St=null,Dt=null,Kt=null,un=0;function Or(t,e){const n=St,i=dt,a=t.length===0,s=e===void 0?i:e,l=a?Mo:{owned:null,cleanups:null,context:s?s.context:null,owner:s},c=a?t:()=>t(()=>Ut(()=>zr(l)));dt=l,St=null;try{return cr(c,!0)}finally{St=n,dt=i}}function te(t,e){e=e?Object.assign({},an,e):an;const n={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},i=a=>(typeof a=="function"&&(a=a(n.value)),Fo(n,a));return[zo.bind(n),i]}function T(t,e,n){const i=Fn(t,e,!1,ar);Ur(i)}function lr(t,e,n){Bo=yi;const i=Fn(t,e,!1,ar);i.user=!0,Kt?Kt.push(i):Ur(i)}function qe(t,e,n){n=n?Object.assign({},an,n):an;const i=Fn(t,e,!0,0);return i.observers=null,i.observerSlots=null,i.comparator=n.equals||void 0,Ur(i),zo.bind(i)}function si(t){return cr(t,!1)}function Ut(t){if(St===null)return t();const e=St;St=null;try{return t()}finally{St=e}}function On(t,e,n){const i=Array.isArray(t);let a,s=n&&n.defer;return l=>{let c;if(i){c=Array(t.length);for(let y=0;y<t.length;y++)c[y]=t[y]()}else c=t();if(s)return s=!1,l;const d=Ut(()=>e(c,a,l));return a=c,d}}function sr(t){lr(()=>Ut(t))}function kr(t){return dt===null||(dt.cleanups===null?dt.cleanups=[t]:dt.cleanups.push(t)),t}function Ro(){return dt}function Oo(t,e){const n=dt,i=St;dt=t,St=null;try{return cr(e,!0)}catch(a){qn(a)}finally{dt=n,St=i}}function ci(t){const e=St,n=dt;return Promise.resolve().then(()=>{St=e,dt=n;let i;return cr(t,!1),St=dt=null,i?i.done:void 0})}const[Fu,qu]=te(!1);function jo(t,e){const n=Symbol("context");return{id:n,Provider:vi(n),defaultValue:t}}function jn(t){let e;return dt&&dt.context&&(e=dt.context[t.id])!==void 0?e:t.defaultValue}function zn(t){const e=qe(t),n=qe(()=>Dn(e()));return n.toArray=()=>{const i=n();return Array.isArray(i)?i:i!=null?[i]:[]},n}function zo(){if(this.sources&&this.state)if(this.state===ar)Ur(this);else{const t=Dt;Dt=null,cr(()=>cn(this),!1),Dt=t}if(St){const t=this.observers?this.observers.length:0;St.sources?(St.sources.push(this),St.sourceSlots.push(t)):(St.sources=[this],St.sourceSlots=[t]),this.observers?(this.observers.push(St),this.observerSlots.push(St.sources.length-1)):(this.observers=[St],this.observerSlots=[St.sources.length-1])}return this.value}function Fo(t,e,n){let i=t.value;return(!t.comparator||!t.comparator(i,e))&&(t.value=e,t.observers&&t.observers.length&&cr(()=>{for(let a=0;a<t.observers.length;a+=1){const s=t.observers[a],l=mn&&mn.running;l&&mn.disposed.has(s),(l?!s.tState:!s.state)&&(s.pure?Dt.push(s):Kt.push(s),s.observers&&Uo(s)),l||(s.state=ar)}if(Dt.length>1e6)throw Dt=[],new Error},!1)),e}function Ur(t){if(!t.fn)return;zr(t);const e=un;di(t,t.value,e)}function di(t,e,n){let i;const a=dt,s=St;St=dt=t;try{i=t.fn(e)}catch(l){return t.pure&&(t.state=ar,t.owned&&t.owned.forEach(zr),t.owned=null),t.updatedAt=n+1,qn(l)}finally{St=s,dt=a}(!t.updatedAt||t.updatedAt<=n)&&(t.updatedAt!=null&&"observers"in t?Fo(t,i):t.value=i,t.updatedAt=n)}function Fn(t,e,n,i=ar,a){const s={fn:t,state:i,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:dt,context:dt?dt.context:null,pure:n};return dt===null||dt!==Mo&&(dt.owned?dt.owned.push(s):dt.owned=[s]),s}function sn(t){if(t.state===0)return;if(t.state===ln)return cn(t);if(t.suspense&&Ut(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<un);)t.state&&e.push(t);for(let n=e.length-1;n>=0;n--)if(t=e[n],t.state===ar)Ur(t);else if(t.state===ln){const i=Dt;Dt=null,cr(()=>cn(t,e[0]),!1),Dt=i}}function cr(t,e){if(Dt)return t();let n=!1;e||(Dt=[]),Kt?n=!0:Kt=[],un++;try{const i=t();return ui(n),i}catch(i){n||(Kt=null),Dt=null,qn(i)}}function ui(t){if(Dt&&(qo(Dt),Dt=null),t)return;const e=Kt;Kt=null,e.length&&cr(()=>Bo(e),!1)}function qo(t){for(let e=0;e<t.length;e++)sn(t[e])}function yi(t){let e,n=0;for(e=0;e<t.length;e++){const i=t[e];i.user?t[n++]=i:sn(i)}for(e=0;e<n;e++)sn(t[e])}function cn(t,e){t.state=0;for(let n=0;n<t.sources.length;n+=1){const i=t.sources[n];if(i.sources){const a=i.state;a===ar?i!==e&&(!i.updatedAt||i.updatedAt<un)&&sn(i):a===ln&&cn(i,e)}}}function Uo(t){for(let e=0;e<t.observers.length;e+=1){const n=t.observers[e];n.state||(n.state=ln,n.pure?Dt.push(n):Kt.push(n),n.observers&&Uo(n))}}function zr(t){let e;if(t.sources)for(;t.sources.length;){const n=t.sources.pop(),i=t.sourceSlots.pop(),a=n.observers;if(a&&a.length){const s=a.pop(),l=n.observerSlots.pop();i<a.length&&(s.sourceSlots[l]=i,a[i]=s,n.observerSlots[i]=l)}}if(t.tOwned){for(e=t.tOwned.length-1;e>=0;e--)zr(t.tOwned[e]);delete t.tOwned}if(t.owned){for(e=t.owned.length-1;e>=0;e--)zr(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function mi(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function qn(t,e=dt){throw mi(t)}function Dn(t){if(typeof t=="function"&&!t.length)return Dn(t());if(Array.isArray(t)){const e=[];for(let n=0;n<t.length;n++){const i=Dn(t[n]);Array.isArray(i)?e.push.apply(e,i):e.push(i)}return e}return t}function vi(t,e){return function(i){let a;return T(()=>a=Ut(()=>(dt.context={...dt.context,[t]:i.value},zn(()=>i.children))),void 0),a}}const gi=Symbol("fallback");function Jn(t){for(let e=0;e<t.length;e++)t[e]()}function pi(t,e,n={}){let i=[],a=[],s=[],l=0,c=e.length>1?[]:null;return kr(()=>Jn(s)),()=>{let d=t()||[],y=d.length,g,I;return d[ai],Ut(()=>{let E,$,S,C,b,M,H,R,G;if(y===0)l!==0&&(Jn(s),s=[],i=[],a=[],l=0,c&&(c=[])),n.fallback&&(i=[gi],a[0]=Or(Y=>(s[0]=Y,n.fallback())),l=1);else if(l===0){for(a=new Array(y),I=0;I<y;I++)i[I]=d[I],a[I]=Or(L);l=y}else{for(S=new Array(y),C=new Array(y),c&&(b=new Array(y)),M=0,H=Math.min(l,y);M<H&&i[M]===d[M];M++);for(H=l-1,R=y-1;H>=M&&R>=M&&i[H]===d[R];H--,R--)S[R]=a[H],C[R]=s[H],c&&(b[R]=c[H]);for(E=new Map,$=new Array(R+1),I=R;I>=M;I--)G=d[I],g=E.get(G),$[I]=g===void 0?-1:g,E.set(G,I);for(g=M;g<=H;g++)G=i[g],I=E.get(G),I!==void 0&&I!==-1?(S[I]=a[g],C[I]=s[g],c&&(b[I]=c[g]),I=$[I],E.set(G,I)):s[g]();for(I=M;I<y;I++)I in S?(a[I]=S[I],s[I]=C[I],c&&(c[I]=b[I],c[I](I))):a[I]=Or(L);a=a.slice(0,l=y),i=d.slice(0)}return a});function L(E){if(s[I]=E,c){const[$,S]=te(I);return c[I]=S,e(d[I],$)}return e(d[I])}}}function u(t,e){return Ut(()=>t(e||{}))}function Yr(){return!0}const Nn={get(t,e,n){return e===on?n:t.get(e)},has(t,e){return e===on?!0:t.has(e)},set:Yr,deleteProperty:Yr,getOwnPropertyDescriptor(t,e){return{configurable:!0,enumerable:!0,get(){return t.get(e)},set:Yr,deleteProperty:Yr}},ownKeys(t){return t.keys()}};function vn(t){return(t=typeof t=="function"?t():t)?t:{}}function fi(){for(let t=0,e=this.length;t<e;++t){const n=this[t]();if(n!==void 0)return n}}function Tn(...t){let e=!1;for(let l=0;l<t.length;l++){const c=t[l];e=e||!!c&&on in c,t[l]=typeof c=="function"?(e=!0,qe(c)):c}if(To&&e)return new Proxy({get(l){for(let c=t.length-1;c>=0;c--){const d=vn(t[c])[l];if(d!==void 0)return d}},has(l){for(let c=t.length-1;c>=0;c--)if(l in vn(t[c]))return!0;return!1},keys(){const l=[];for(let c=0;c<t.length;c++)l.push(...Object.keys(vn(t[c])));return[...new Set(l)]}},Nn);const n={},i=Object.create(null);for(let l=t.length-1;l>=0;l--){const c=t[l];if(!c)continue;const d=Object.getOwnPropertyNames(c);for(let y=d.length-1;y>=0;y--){const g=d[y];if(g==="__proto__"||g==="constructor")continue;const I=Object.getOwnPropertyDescriptor(c,g);if(!i[g])i[g]=I.get?{enumerable:!0,configurable:!0,get:fi.bind(n[g]=[I.get.bind(c)])}:I.value!==void 0?I:void 0;else{const L=n[g];L&&(I.get?L.push(I.get.bind(c)):I.value!==void 0&&L.push(()=>I.value))}}}const a={},s=Object.keys(i);for(let l=s.length-1;l>=0;l--){const c=s[l],d=i[c];d&&d.get?Object.defineProperty(a,c,d):a[c]=d?d.value:void 0}return a}function bi(t,...e){if(To&&on in t){const a=new Set(e.length>1?e.flat():e[0]),s=e.map(l=>new Proxy({get(c){return l.includes(c)?t[c]:void 0},has(c){return l.includes(c)&&c in t},keys(){return l.filter(c=>c in t)}},Nn));return s.push(new Proxy({get(l){return a.has(l)?void 0:t[l]},has(l){return a.has(l)?!1:l in t},keys(){return Object.keys(t).filter(l=>!a.has(l))}},Nn)),s}const n={},i=e.map(()=>({}));for(const a of Object.getOwnPropertyNames(t)){const s=Object.getOwnPropertyDescriptor(t,a),l=!s.get&&!s.set&&s.enumerable&&s.writable&&s.configurable;let c=!1,d=0;for(const y of e)y.includes(a)&&(c=!0,l?i[d][a]=s.value:Object.defineProperty(i[d],a,s)),++d;c||(l?n[a]=s.value:Object.defineProperty(n,a,s))}return[...i,n]}const hi=t=>`Stale read from <${t}>.`;function mt(t){const e="fallback"in t&&{fallback:()=>t.fallback};return qe(pi(()=>t.each,t.children,e||void 0))}function Ge(t){const e=t.keyed,n=qe(()=>t.when,void 0,void 0),i=e?n:qe(n,void 0,{equals:(a,s)=>!a==!s});return qe(()=>{const a=i();if(a){const s=t.children;return typeof s=="function"&&s.length>0?Ut(()=>s(e?a:()=>{if(!Ut(i))throw hi("Show");return n()})):s}return t.fallback},void 0,void 0)}const Si=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Pi=new Set(["className","value","readOnly","noValidate","formNoValidate","isMap","noModule","playsInline",...Si]),$i=new Set(["innerHTML","textContent","innerText","children"]),xi=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Ci=Object.assign(Object.create(null),{class:"className",novalidate:{$:"noValidate",FORM:1},formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function _i(t,e){const n=Ci[t];return typeof n=="object"?n[e]?n.$:void 0:n}const wi=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),z=t=>qe(()=>t());function ki(t,e,n){let i=n.length,a=e.length,s=i,l=0,c=0,d=e[a-1].nextSibling,y=null;for(;l<a||c<s;){if(e[l]===n[c]){l++,c++;continue}for(;e[a-1]===n[s-1];)a--,s--;if(a===l){const g=s<i?c?n[c-1].nextSibling:n[s-c]:d;for(;c<s;)t.insertBefore(n[c++],g)}else if(s===c)for(;l<a;)(!y||!y.has(e[l]))&&e[l].remove(),l++;else if(e[l]===n[s-1]&&n[c]===e[a-1]){const g=e[--a].nextSibling;t.insertBefore(n[c++],e[l++].nextSibling),t.insertBefore(n[--s],g),e[a]=n[s]}else{if(!y){y=new Map;let I=c;for(;I<s;)y.set(n[I],I++)}const g=y.get(e[l]);if(g!=null)if(c<g&&g<s){let I=l,L=1,E;for(;++I<a&&I<s&&!((E=y.get(e[I]))==null||E!==g+L);)L++;if(L>g-c){const $=e[l];for(;c<g;)t.insertBefore(n[c++],$)}else t.replaceChild(n[c++],e[l++])}else l++;else e[l++].remove()}}}const Qn="_$DX_DELEGATE";function Ai(t,e,n,i={}){let a;return Or(s=>{a=s,e===document?t():r(e,t(),e.firstChild?null:void 0,n)},i.owner),()=>{a(),e.textContent=""}}function k(t,e,n,i){let a;const s=()=>{const c=document.createElement("template");return c.innerHTML=t,c.content.firstChild},l=()=>(a||(a=s())).cloneNode(!0);return l.cloneNode=l,l}function vt(t,e=window.document){const n=e[Qn]||(e[Qn]=new Set);for(let i=0,a=t.length;i<a;i++){const s=t[i];n.has(s)||(n.add(s),e.addEventListener(s,Bi))}}function Ze(t,e,n){n==null?t.removeAttribute(e):t.setAttribute(e,n)}function Ii(t,e,n){n?t.setAttribute(e,""):t.removeAttribute(e)}function Un(t,e){e==null?t.removeAttribute("class"):t.className=e}function br(t,e,n,i){if(i)Array.isArray(n)?(t[`$$${e}`]=n[0],t[`$$${e}Data`]=n[1]):t[`$$${e}`]=n;else if(Array.isArray(n)){const a=n[0];t.addEventListener(e,n[0]=s=>a.call(t,n[1],s))}else t.addEventListener(e,n,typeof n!="function"&&n)}function Ei(t,e,n={}){const i=Object.keys(e||{}),a=Object.keys(n);let s,l;for(s=0,l=a.length;s<l;s++){const c=a[s];!c||c==="undefined"||e[c]||(Kn(t,c,!1),delete n[c])}for(s=0,l=i.length;s<l;s++){const c=i[s],d=!!e[c];!c||c==="undefined"||n[c]===d||!d||(Kn(t,c,!0),n[c]=d)}return n}function o(t,e,n){if(!e)return n?Ze(t,"style"):e;const i=t.style;if(typeof e=="string")return i.cssText=e;typeof n=="string"&&(i.cssText=n=void 0),n||(n={}),e||(e={});let a,s;for(s in n)e[s]==null&&i.removeProperty(s),delete n[s];for(s in e)a=e[s],a!==n[s]&&(i.setProperty(s,a),n[s]=a);return n}function Li(t,e={},n,i){const a={};return T(()=>a.children=Fr(t,e.children,a.children)),T(()=>typeof e.ref=="function"&&Di(e.ref,t)),T(()=>Ni(t,e,n,!0,a,!0)),a}function Di(t,e,n){return Ut(()=>t(e,n))}function r(t,e,n,i){if(n!==void 0&&!i&&(i=[]),typeof e!="function")return Fr(t,e,i,n);T(a=>Fr(t,e(),a,n),i)}function Ni(t,e,n,i,a={},s=!1){e||(e={});for(const l in a)if(!(l in e)){if(l==="children")continue;a[l]=Zn(t,l,null,a[l],n,s,e)}for(const l in e){if(l==="children")continue;const c=e[l];a[l]=Zn(t,l,c,a[l],n,s,e)}}function Ti(t){return t.toLowerCase().replace(/-([a-z])/g,(e,n)=>n.toUpperCase())}function Kn(t,e,n){const i=e.trim().split(/\s+/);for(let a=0,s=i.length;a<s;a++)t.classList.toggle(i[a],n)}function Zn(t,e,n,i,a,s,l){let c,d,y,g,I;if(e==="style")return o(t,n,i);if(e==="classList")return Ei(t,n,i);if(n===i)return i;if(e==="ref")s||n(t);else if(e.slice(0,3)==="on:"){const L=e.slice(3);i&&t.removeEventListener(L,i,typeof i!="function"&&i),n&&t.addEventListener(L,n,typeof n!="function"&&n)}else if(e.slice(0,10)==="oncapture:"){const L=e.slice(10);i&&t.removeEventListener(L,i,!0),n&&t.addEventListener(L,n,!0)}else if(e.slice(0,2)==="on"){const L=e.slice(2).toLowerCase(),E=wi.has(L);if(!E&&i){const $=Array.isArray(i)?i[0]:i;t.removeEventListener(L,$)}(E||n)&&(br(t,L,n,E),E&&vt([L]))}else e.slice(0,5)==="attr:"?Ze(t,e.slice(5),n):e.slice(0,5)==="bool:"?Ii(t,e.slice(5),n):(I=e.slice(0,5)==="prop:")||(y=$i.has(e))||(g=_i(e,t.tagName))||(d=Pi.has(e))||(c=t.nodeName.includes("-")||"is"in l)?(I&&(e=e.slice(5),d=!0),e==="class"||e==="className"?Un(t,n):c&&!d&&!y?t[Ti(e)]=n:t[g||e]=n):Ze(t,xi[e]||e,n);return n}function Bi(t){let e=t.target;const n=`$$${t.type}`,i=t.target,a=t.currentTarget,s=d=>Object.defineProperty(t,"target",{configurable:!0,value:d}),l=()=>{const d=e[n];if(d&&!e.disabled){const y=e[`${n}Data`];if(y!==void 0?d.call(e,y,t):d.call(e,t),t.cancelBubble)return}return e.host&&typeof e.host!="string"&&!e.host._$host&&e.contains(t.target)&&s(e.host),!0},c=()=>{for(;l()&&(e=e._$host||e.parentNode||e.host););};if(Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return e||document}}),t.composedPath){const d=t.composedPath();s(d[0]);for(let y=0;y<d.length-2&&(e=d[y],!!l());y++){if(e._$host){e=e._$host,c();break}if(e.parentNode===a)break}}else c();s(i)}function Fr(t,e,n,i,a){for(;typeof n=="function";)n=n();if(e===n)return n;const s=typeof e,l=i!==void 0;if(t=l&&n[0]&&n[0].parentNode||t,s==="string"||s==="number"){if(s==="number"&&(e=e.toString(),e===n))return n;if(l){let c=n[0];c&&c.nodeType===3?c.data!==e&&(c.data=e):c=document.createTextNode(e),n=xr(t,n,i,c)}else n!==""&&typeof n=="string"?n=t.firstChild.data=e:n=t.textContent=e}else if(e==null||s==="boolean")n=xr(t,n,i);else{if(s==="function")return T(()=>{let c=e();for(;typeof c=="function";)c=c();n=Fr(t,c,n,i)}),()=>n;if(Array.isArray(e)){const c=[],d=n&&Array.isArray(n);if(Bn(c,e,n,a))return T(()=>n=Fr(t,c,n,i,!0)),()=>n;if(c.length===0){if(n=xr(t,n,i),l)return n}else d?n.length===0?Xn(t,c,i):ki(t,n,c):(n&&xr(t),Xn(t,c));n=c}else if(e.nodeType){if(Array.isArray(n)){if(l)return n=xr(t,n,i,e);xr(t,n,null,e)}else n==null||n===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);n=e}}return n}function Bn(t,e,n,i){let a=!1;for(let s=0,l=e.length;s<l;s++){let c=e[s],d=n&&n[t.length],y;if(!(c==null||c===!0||c===!1))if((y=typeof c)=="object"&&c.nodeType)t.push(c);else if(Array.isArray(c))a=Bn(t,c,d)||a;else if(y==="function")if(i){for(;typeof c=="function";)c=c();a=Bn(t,Array.isArray(c)?c:[c],Array.isArray(d)?d:[d])||a}else t.push(c),a=!0;else{const g=String(c);d&&d.nodeType===3&&d.data===g?t.push(d):t.push(document.createTextNode(g))}}return a}function Xn(t,e,n=null){for(let i=0,a=e.length;i<a;i++)t.insertBefore(e[i],n)}function xr(t,e,n,i){if(n===void 0)return t.textContent="";const a=i||document.createTextNode("");if(e.length){let s=!1;for(let l=e.length-1;l>=0;l--){const c=e[l];if(a!==c){const d=c.parentNode===t;!s&&!l?d?t.replaceChild(a,c):t.insertBefore(a,n):d&&c.remove()}else s=!0}}else t.insertBefore(a,n);return[a]}const Mi=!1;function Vo(){let t=new Set;function e(a){return t.add(a),()=>t.delete(a)}let n=!1;function i(a,s){if(n)return!(n=!1);const l={to:a,options:s,defaultPrevented:!1,preventDefault:()=>l.defaultPrevented=!0};for(const c of t)c.listener({...l,from:c.location,retry:d=>{d&&(n=!0),c.navigate(a,{...s,resolve:!1})}});return!l.defaultPrevented}return{subscribe:e,confirm:i}}let Mn;function Vn(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),Mn=window.history.state._depth}Vn();function Ri(t){return{...t,_depth:window.history.state&&window.history.state._depth}}function Oi(t,e){let n=!1;return()=>{const i=Mn;Vn();const a=i==null?null:Mn-i;if(n){n=!1;return}a&&e(a)?(n=!0,window.history.go(-a)):t()}}const ji=/^(?:[a-z0-9]+:)?\/\//i,zi=/^\/+|(\/)\/+$/g,Yo="http://sr";function fr(t,e=!1){const n=t.replace(zi,"$1");return n?e||/^[?#]/.test(n)?n:"/"+n:""}function rn(t,e,n){if(ji.test(e))return;const i=fr(t),a=n&&fr(n);let s="";return!a||e.startsWith("/")?s=i:a.toLowerCase().indexOf(i.toLowerCase())!==0?s=i+a:s=a,(s||"/")+fr(e,!s)}function Fi(t,e){if(t==null)throw new Error(e);return t}function qi(t,e){return fr(t).replace(/\/*(\*.*)?$/g,"")+fr(e)}function Wo(t){const e={};return t.searchParams.forEach((n,i)=>{i in e?Array.isArray(e[i])?e[i].push(n):e[i]=[e[i],n]:e[i]=n}),e}function Ui(t,e,n){const[i,a]=t.split("/*",2),s=i.split("/").filter(Boolean),l=s.length;return c=>{const d=c.split("/").filter(Boolean),y=d.length-l;if(y<0||y>0&&a===void 0&&!e)return null;const g={path:l?"":"/",params:{}},I=L=>n===void 0?void 0:n[L];for(let L=0;L<l;L++){const E=s[L],$=E[0]===":",S=$?d[L]:d[L].toLowerCase(),C=$?E.slice(1):E.toLowerCase();if($&&gn(S,I(C)))g.params[C]=S;else if($||!gn(S,C))return null;g.path+=`/${S}`}if(a){const L=y?d.slice(-y).join("/"):"";if(gn(L,I(a)))g.params[a]=L;else return null}return g}}function gn(t,e){const n=i=>i===t;return e===void 0?!0:typeof e=="string"?n(e):typeof e=="function"?e(t):Array.isArray(e)?e.some(n):e instanceof RegExp?e.test(t):!1}function Vi(t){const[e,n]=t.pattern.split("/*",2),i=e.split("/").filter(Boolean);return i.reduce((a,s)=>a+(s.startsWith(":")?2:3),i.length-(n===void 0?0:1))}function Ho(t){const e=new Map,n=Ro();return new Proxy({},{get(i,a){return e.has(a)||Oo(n,()=>e.set(a,qe(()=>t()[a]))),e.get(a)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(t())}})}function Go(t){let e=/(\/?\:[^\/]+)\?/.exec(t);if(!e)return[t];let n=t.slice(0,e.index),i=t.slice(e.index+e[0].length);const a=[n,n+=e[1]];for(;e=/^(\/\:[^\/]+)\?/.exec(i);)a.push(n+=e[1]),i=i.slice(e[0].length);return Go(i).reduce((s,l)=>[...s,...a.map(c=>c+l)],[])}const Yi=100,Jo=jo(),Yn=jo(),Vr=()=>Fi(jn(Jo),"<A> and 'use' router primitives can be only used inside a Route."),Wi=()=>jn(Yn)||Vr().base,Hi=t=>{const e=Wi();return qe(()=>e.resolvePath(t()))},Gi=t=>{const e=Vr();return qe(()=>{const n=t();return n!==void 0?e.renderPath(n):n})},Wn=()=>Vr().navigatorFactory(),Ji=()=>Vr().location,Qi=()=>Vr().params;function Ki(t,e=""){const{component:n,preload:i,load:a,children:s,info:l}=t,c=!s||Array.isArray(s)&&!s.length,d={key:t,component:n,preload:i||a,info:l};return Qo(t.path).reduce((y,g)=>{for(const I of Go(g)){const L=qi(e,I);let E=c?L:L.split("/*",1)[0];E=E.split("/").map($=>$.startsWith(":")||$.startsWith("*")?$:encodeURIComponent($)).join("/"),y.push({...d,originalPath:g,pattern:E,matcher:Ui(E,!c,t.matchFilters)})}return y},[])}function Zi(t,e=0){return{routes:t,score:Vi(t[t.length-1])*1e4-e,matcher(n){const i=[];for(let a=t.length-1;a>=0;a--){const s=t[a],l=s.matcher(n);if(!l)return null;i.unshift({...l,route:s})}return i}}}function Qo(t){return Array.isArray(t)?t:[t]}function Ko(t,e="",n=[],i=[]){const a=Qo(t);for(let s=0,l=a.length;s<l;s++){const c=a[s];if(c&&typeof c=="object"){c.hasOwnProperty("path")||(c.path="");const d=Ki(c,e);for(const y of d){n.push(y);const g=Array.isArray(c.children)&&c.children.length===0;if(c.children&&!g)Ko(c.children,y.pattern,n,i);else{const I=Zi([...n],i.length);i.push(I)}n.pop()}}}return n.length?i:i.sort((s,l)=>l.score-s.score)}function pn(t,e){for(let n=0,i=t.length;n<i;n++){const a=t[n].matcher(e);if(a)return a}return[]}function Xi(t,e,n){const i=new URL(Yo),a=qe(g=>{const I=t();try{return new URL(I,i)}catch{return console.error(`Invalid path ${I}`),g}},i,{equals:(g,I)=>g.href===I.href}),s=qe(()=>a().pathname),l=qe(()=>a().search,!0),c=qe(()=>a().hash),d=()=>"",y=On(l,()=>Wo(a()));return{get pathname(){return s()},get search(){return l()},get hash(){return c()},get state(){return e()},get key(){return d()},query:n?n(y):Ho(y)}}let gr;function ea(){return gr}function ta(t,e,n,i={}){const{signal:[a,s],utils:l={}}=t,c=l.parsePath||(oe=>oe),d=l.renderPath||(oe=>oe),y=l.beforeLeave||Vo(),g=rn("",i.base||"");if(g===void 0)throw new Error(`${g} is not a valid base path`);g&&!a().value&&s({value:g,replace:!0,scroll:!1});const[I,L]=te(!1);let E;const $=(oe,_)=>{_.value===S()&&_.state===b()||(E===void 0&&L(!0),gr=oe,E=_,ci(()=>{E===_&&(C(E.value),M(E.state),G[1](m=>m.filter(D=>D.pending)))}).finally(()=>{E===_&&si(()=>{gr=void 0,oe==="navigate"&&X(E),L(!1),E=void 0})}))},[S,C]=te(a().value),[b,M]=te(a().state),H=Xi(S,b,l.queryWrapper),R=[],G=te([]),Y=qe(()=>typeof i.transformUrl=="function"?pn(e(),i.transformUrl(H.pathname)):pn(e(),H.pathname)),le=()=>{const oe=Y(),_={};for(let m=0;m<oe.length;m++)Object.assign(_,oe[m].params);return _},de=l.paramsWrapper?l.paramsWrapper(le,e):Ho(le),me={pattern:g,path:()=>g,outlet:()=>null,resolvePath(oe){return rn(g,oe)}};return T(On(a,oe=>$("native",oe),{defer:!0})),{base:me,location:H,params:de,isRouting:I,renderPath:d,parsePath:c,navigatorFactory:Z,matches:Y,beforeLeave:y,preloadRoute:p,singleFlight:i.singleFlight===void 0?!0:i.singleFlight,submissions:G};function ne(oe,_,m){Ut(()=>{if(typeof _=="number"){_&&(l.go?l.go(_):console.warn("Router integration does not support relative routing"));return}const D=!_||_[0]==="?",{replace:v,resolve:x,scroll:h,state:w}={replace:!1,resolve:!D,scroll:!0,...m},ie=x?oe.resolvePath(_):rn(D&&H.pathname||"",_);if(ie===void 0)throw new Error(`Path '${_}' is not a routable path`);if(R.length>=Yi)throw new Error("Too many redirects");const P=S();(ie!==P||w!==b())&&(Mi||y.confirm(ie,m)&&(R.push({value:P,replace:v,scroll:h,state:b()}),$("navigate",{value:ie,state:w})))})}function Z(oe){return oe=oe||jn(Yn)||me,(_,m)=>ne(oe,_,m)}function X(oe){const _=R[0];_&&(s({...oe,replace:_.replace,scroll:_.scroll}),R.length=0)}function p(oe,_){const m=pn(e(),oe.pathname),D=gr;gr="preload";for(let v in m){const{route:x,params:h}=m[v];x.component&&x.component.preload&&x.component.preload();const{preload:w}=x;_&&w&&Oo(n(),()=>w({params:h,location:{pathname:oe.pathname,search:oe.search,hash:oe.hash,query:Wo(oe),state:null,key:""},intent:"preload"}))}gr=D}}function ra(t,e,n,i){const{base:a,location:s,params:l}=t,{pattern:c,component:d,preload:y}=i().route,g=qe(()=>i().path);d&&d.preload&&d.preload();const I=y?y({params:l,location:s,intent:gr||"initial"}):void 0;return{parent:e,pattern:c,path:g,outlet:()=>d?u(d,{params:l,location:s,data:I,get children(){return n()}}):n(),resolvePath(E){return rn(a.path(),E,g())}}}const na=t=>e=>{const{base:n}=e,i=zn(()=>e.children),a=qe(()=>Ko(i(),e.base||""));let s;const l=ta(t,a,()=>s,{base:n,singleFlight:e.singleFlight,transformUrl:e.transformUrl});return t.create&&t.create(l),u(Jo.Provider,{value:l,get children(){return u(oa,{routerState:l,get root(){return e.root},get preload(){return e.rootPreload||e.rootLoad},get children(){return[z(()=>(s=Ro())&&null),u(ia,{routerState:l,get branches(){return a()}})]}})}})};function oa(t){const e=t.routerState.location,n=t.routerState.params,i=qe(()=>t.preload&&Ut(()=>{t.preload({params:n,location:e,intent:ea()||"initial"})}));return u(Ge,{get when(){return t.root},keyed:!0,get fallback(){return t.children},children:a=>u(a,{params:n,location:e,get data(){return i()},get children(){return t.children}})})}function ia(t){const e=[];let n;const i=qe(On(t.routerState.matches,(a,s,l)=>{let c=s&&a.length===s.length;const d=[];for(let y=0,g=a.length;y<g;y++){const I=s&&s[y],L=a[y];l&&I&&L.route.key===I.route.key?d[y]=l[y]:(c=!1,e[y]&&e[y](),Or(E=>{e[y]=E,d[y]=ra(t.routerState,d[y-1]||t.routerState.base,eo(()=>i()[y+1]),()=>t.routerState.matches()[y])}))}return e.splice(a.length).forEach(y=>y()),l&&c?l:(n=d[0],d)}));return eo(()=>i()&&n)()}const eo=t=>()=>u(Ge,{get when(){return t()},keyed:!0,children:e=>u(Yn.Provider,{value:e,get children(){return e.outlet()}})}),Wt=t=>{const e=zn(()=>t.children);return Tn(t,{get children(){return e()}})};function aa([t,e],n,i){return[t,i?a=>e(i(a)):e]}function la(t){let e=!1;const n=a=>typeof a=="string"?{value:a}:a,i=aa(te(n(t.get()),{equals:(a,s)=>a.value===s.value&&a.state===s.state}),void 0,a=>(!e&&t.set(a),a));return t.init&&kr(t.init((a=t.get())=>{e=!0,i[1](n(a)),e=!1})),na({signal:i,create:t.create,utils:t.utils})}function sa(t,e,n){return t.addEventListener(e,n),()=>t.removeEventListener(e,n)}function ca(t,e){const n=t&&document.getElementById(t);n?n.scrollIntoView():e&&window.scrollTo(0,0)}const da=new Map;function ua(t=!0,e=!1,n="/_server",i){return a=>{const s=a.base.path(),l=a.navigatorFactory(a.base);let c,d;function y(S){return S.namespaceURI==="http://www.w3.org/2000/svg"}function g(S){if(S.defaultPrevented||S.button!==0||S.metaKey||S.altKey||S.ctrlKey||S.shiftKey)return;const C=S.composedPath().find(Y=>Y instanceof Node&&Y.nodeName.toUpperCase()==="A");if(!C||e&&!C.hasAttribute("link"))return;const b=y(C),M=b?C.href.baseVal:C.href;if((b?C.target.baseVal:C.target)||!M&&!C.hasAttribute("state"))return;const R=(C.getAttribute("rel")||"").split(/\s+/);if(C.hasAttribute("download")||R&&R.includes("external"))return;const G=b?new URL(M,document.baseURI):new URL(M);if(!(G.origin!==window.location.origin||s&&G.pathname&&!G.pathname.toLowerCase().startsWith(s.toLowerCase())))return[C,G]}function I(S){const C=g(S);if(!C)return;const[b,M]=C,H=a.parsePath(M.pathname+M.search+M.hash),R=b.getAttribute("state");S.preventDefault(),l(H,{resolve:!1,replace:b.hasAttribute("replace"),scroll:!b.hasAttribute("noscroll"),state:R?JSON.parse(R):void 0})}function L(S){const C=g(S);if(!C)return;const[b,M]=C;a.preloadRoute(M,b.getAttribute("preload")!=="false")}function E(S){clearTimeout(c);const C=g(S);if(!C)return d=null;const[b,M]=C;d!==b&&(c=setTimeout(()=>{a.preloadRoute(M,b.getAttribute("preload")!=="false"),d=b},20))}function $(S){if(S.defaultPrevented)return;let C=S.submitter&&S.submitter.hasAttribute("formaction")?S.submitter.getAttribute("formaction"):S.target.getAttribute("action");if(!C)return;if(!C.startsWith("https://action/")){const M=new URL(C,Yo);if(C=a.parsePath(M.pathname+M.search),!C.startsWith(n))return}if(S.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const b=da.get(C);if(b){S.preventDefault();const M=new FormData(S.target,S.submitter);b.call({r:a,f:S.target},S.target.enctype==="multipart/form-data"?M:new URLSearchParams(M))}}vt(["click","submit"]),document.addEventListener("click",I),t&&(document.addEventListener("mousemove",E,{passive:!0}),document.addEventListener("focusin",L,{passive:!0}),document.addEventListener("touchstart",L,{passive:!0})),document.addEventListener("submit",$),kr(()=>{document.removeEventListener("click",I),t&&(document.removeEventListener("mousemove",E),document.removeEventListener("focusin",L),document.removeEventListener("touchstart",L)),document.removeEventListener("submit",$)})}}function ya(t){const e=t.replace(/^.*?#/,"");if(!e.startsWith("/")){const[,n="/"]=window.location.hash.split("#",2);return`${n}#${e}`}return e}function ma(t){const e=()=>window.location.hash.slice(1),n=Vo();return la({get:e,set({value:i,replace:a,scroll:s,state:l}){a?window.history.replaceState(Ri(l),"","#"+i):window.history.pushState(l,"","#"+i);const c=i.indexOf("#"),d=c>=0?i.slice(c+1):"";ca(d,s),Vn()},init:i=>sa(window,"hashchange",Oi(i,a=>!n.confirm(a&&a<0?a:e()))),create:ua(t.preload,t.explicitLinks,t.actionBase),utils:{go:i=>window.history.go(i),renderPath:i=>`#${i}`,parsePath:ya,beforeLeave:n}})(t)}var va=k("<a>");function tr(t){t=Tn({inactiveClass:"inactive",activeClass:"active"},t);const[,e]=bi(t,["href","state","class","activeClass","inactiveClass","end"]),n=Hi(()=>t.href),i=Gi(n),a=Ji(),s=qe(()=>{const l=n();if(l===void 0)return[!1,!1];const c=fr(l.split(/[?#]/,1)[0]).toLowerCase(),d=decodeURI(fr(a.pathname).toLowerCase());return[t.end?c===d:d.startsWith(c+"/")||d===c,c===d]});return(()=>{var l=va();return Li(l,Tn(e,{get href(){return i()||t.href},get state(){return JSON.stringify(t.state)},get classList(){return{...t.class&&{[t.class]:!0},[t.inactiveClass]:!s()[0],[t.activeClass]:s()[0],...e.classList}},link:"",get"aria-current"(){return s()[1]?"page":void 0}}),!1),l})()}const ct=(t=300+Math.random()*700)=>new Promise(e=>setTimeout(e,t)),ur=(t="")=>`${t}${Date.now()}-${Math.random().toString(36).substr(2,9)}`;let Te={products:[{id:"prod-001",name:"Wireless Headphones",sku:"WH-001",productCode:"WH-001",productName:"Wireless Headphones",description:"High-quality wireless bluetooth headphones",category:"Electronics",unitOfMeasure:"pcs",unitCost:45,sellingPrice:89.99,minStockLevel:10,maxStockLevel:100,isActive:!0,createdDate:"2024-01-15T10:00:00Z",lastModified:"2024-01-15T10:00:00Z",businessId:"YB100423253156428"},{id:"prod-002",name:"USB-C Cable",sku:"USB-001",description:"3ft USB-C charging cable",category:"Accessories",unitOfMeasure:"pcs",unitCost:8.5,sellingPrice:19.99,minStockLevel:25,maxStockLevel:200,isActive:!0,createdDate:"2024-01-16T10:00:00Z",lastModified:"2024-01-16T10:00:00Z",businessId:"YB100423253156428"},{id:"prod-003",name:"Laptop Stand",sku:"LS-001",description:"Adjustable aluminum laptop stand",category:"Office",unitOfMeasure:"pcs",unitCost:25,sellingPrice:49.99,minStockLevel:5,maxStockLevel:50,isActive:!0,createdDate:"2024-01-17T10:00:00Z",lastModified:"2024-01-17T10:00:00Z",businessId:"YB100423253156428"}],locations:[{id:"loc-001",name:"Main Warehouse",code:"WH-001",type:"warehouse",address:"123 Industrial Dr, City, State 12345",isActive:!0,createdDate:"2024-01-01T10:00:00Z"},{id:"loc-002",name:"Retail Store - Downtown",code:"ST-001",type:"store",address:"456 Main St, City, State 12345",isActive:!0,createdDate:"2024-01-01T10:00:00Z"},{id:"loc-003",name:"Retail Store - Mall",code:"ST-002",type:"store",address:"789 Mall Blvd, City, State 12345",isActive:!0,createdDate:"2024-01-01T10:00:00Z"}],movements:[{id:"mov-001",productId:"prod-001",productName:"Wireless Headphones",productSku:"WH-001",locationId:"loc-001",locationName:"Main Warehouse",movementType:"in",quantity:50,unitCost:45,totalCost:2250,referenceNumber:"PO-001",notes:"Initial stock purchase",createdBy:"admin",createdDate:"2024-01-15T10:00:00Z",invoiceId:"INV-1000001"},{id:"mov-002",productId:"prod-002",productName:"USB-C Cable",productSku:"USB-001",locationId:"loc-001",locationName:"Main Warehouse",movementType:"in",quantity:100,unitCost:8.5,totalCost:850,referenceNumber:"PO-001",notes:"Bulk purchase",createdBy:"admin",createdDate:"2024-01-15T10:05:00Z",invoiceId:"INV-1000001"}],accounts:[{id:"acc-001",accountNumber:"1000",accountName:"Cash",accountType:"asset",category:"currentAssets",balance:5e4,parentAccountId:null,description:"Cash and cash equivalents",isActive:!0,createdDate:"2024-01-01T10:00:00Z",lastModified:"2024-01-01T10:00:00Z"},{id:"acc-002",accountNumber:"1100",accountName:"Accounts Receivable",accountType:"asset",category:"currentAssets",balance:25e3,parentAccountId:null,description:"Money owed by customers",isActive:!0,createdDate:"2024-01-01T10:00:00Z",lastModified:"2024-01-01T10:00:00Z"}],journalEntries:[{id:"je-001",entryNumber:"JE-001",date:"2024-01-15",description:"Initial cash deposit",reference:"DEP-001",status:"posted",createdBy:"admin",createdAt:"2024-01-15T10:00:00Z",postedAt:"2024-01-15T10:05:00Z",lines:[{id:"jel-001",accountId:"acc-001",accountName:"Cash",description:"Initial deposit",debitAmount:5e4,creditAmount:0},{id:"jel-002",accountId:"acc-003",accountName:"Owner Equity",description:"Initial capital",debitAmount:0,creditAmount:5e4}]}]};const wt=(t=.05)=>Math.random()<t,kt=()=>{const t=["Network timeout","Connection refused","Server temporarily unavailable","Invalid request"];throw new Error(t[Math.floor(Math.random()*t.length)])},Rt={products:{async getAll(t,e){await ct(),wt()&&kt();let n=[...Te.products];if(t&&t.trim()){const i=t.toLowerCase();n=n.filter(a=>a.name.toLowerCase().includes(i)||a.sku.toLowerCase().includes(i)||a.category.toLowerCase().includes(i)||a.description.toLowerCase().includes(i))}return e?.category&&(n=n.filter(i=>i.category===e.category)),e?.isActive!==void 0&&(n=n.filter(i=>i.isActive===e.isActive)),n},async getById(t){return await ct(),wt()&&kt(),Te.products.find(e=>e.id===t)||null},async create(t){if(await ct(),wt()&&kt(),Te.products.some(n=>n.sku===t.sku))throw new Error("SKU already exists");const e={...t,id:ur("prod-"),createdDate:new Date().toISOString(),lastModified:new Date().toISOString()};return Te.products.push(e),e},async update(t,e){await ct(),wt()&&kt();const n=Te.products.findIndex(a=>a.id===t);if(n===-1)throw new Error("Product not found");if(e.sku&&Te.products.some(a=>a.id!==t&&a.sku===e.sku))throw new Error("SKU already exists");const i={...Te.products[n],...e,lastModified:new Date().toISOString()};return Te.products[n]=i,i},async delete(t){await ct(),wt()&&kt();const e=Te.products.findIndex(i=>i.id===t);if(e===-1)throw new Error("Product not found");return Te.movements.some(i=>i.productId===t)?{success:!1,message:"Cannot delete product with existing movements"}:(Te.products.splice(e,1),{success:!0,message:"Product deleted successfully"})}},locations:{async getAll(t){await ct(),wt()&&kt();let e=[...Te.locations];return t?.type&&(e=e.filter(n=>n.type===t.type)),t?.isActive!==void 0&&(e=e.filter(n=>n.isActive===t.isActive)),e},async getById(t){return await ct(),Te.locations.find(e=>e.id===t)||null},async create(t){if(await ct(),wt()&&kt(),Te.locations.some(n=>n.code===t.code))throw new Error("Location code already exists");const e={...t,id:ur("loc-"),createdDate:new Date().toISOString()};return Te.locations.push(e),e},async update(t,e){await ct(),wt()&&kt();const n=Te.locations.findIndex(i=>i.id===t);if(n===-1)throw new Error("Location not found");if(e.code&&Te.locations.some(i=>i.id!==t&&i.code===e.code))throw new Error("Location code already exists");return Te.locations[n]={...Te.locations[n],...e},Te.locations[n]}},movements:{async getAll(t){await ct(),wt()&&kt();let e=[...Te.movements];if(t?.productId&&(e=e.filter(n=>n.productId===t.productId)),t?.locationId&&(e=e.filter(n=>n.locationId===t.locationId)),t?.movementType&&(e=e.filter(n=>n.movementType===t.movementType)),t?.dateFrom&&(e=e.filter(n=>n.createdDate>=t.dateFrom)),t?.dateTo&&(e=e.filter(n=>n.createdDate<=t.dateTo)),t?.search){const n=t.search.toLowerCase();e=e.filter(i=>i.productName.toLowerCase().includes(n)||i.productSku.toLowerCase().includes(n)||i.referenceNumber.toLowerCase().includes(n)||i.notes.toLowerCase().includes(n))}return e.sort((n,i)=>new Date(i.createdDate).getTime()-new Date(n.createdDate).getTime()),e},async getById(t){return await ct(),Te.movements.find(e=>e.id===t)||null},async create(t){if(await ct(),wt()&&kt(),!Te.products.find(a=>a.id===t.productId))throw new Error("Product not found");if(!Te.locations.find(a=>a.id===t.locationId))throw new Error("Location not found");if(t.movementType==="out"){const a=await this.getStockLevel(t.productId,t.locationId);if(a<t.quantity)throw new Error(`Insufficient stock. Available: ${a}, Requested: ${t.quantity}`)}const i={...t,id:ur("mov-"),createdDate:new Date().toISOString()};return Te.movements.push(i),i},async update(t,e){await ct(),wt()&&kt();const n=Te.movements.findIndex(a=>a.id===t);if(n===-1)throw new Error("Movement not found");const i={...Te.movements[n],...e,lastModified:new Date().toISOString()};return Te.movements[n]=i,i},async delete(t){await ct(),wt()&&kt();const e=Te.movements.findIndex(n=>n.id===t);if(e===-1)throw new Error("Movement not found");return Te.movements.splice(e,1),{success:!0,message:"Movement deleted successfully"}},async createBulk(t){await ct(),wt()&&kt();const e=[],n=[],i=new Date().toISOString(),a=Te.locations.find(s=>s.id===t.locationId);if(!a)return{success:!1,movements:[],errors:["Invalid location"]};for(let s=0;s<t.items.length;s++){const l=t.items[s],c=Te.products.find(g=>g.id===l.productId);if(!c){e.push(`Item ${s+1}: Product not found`);continue}if(l.quantity<=0){e.push(`Item ${s+1}: Quantity must be greater than 0`);continue}if(t.movementType==="out"){const g=await this.getStockLevel(l.productId,t.locationId);if(l.quantity>g){e.push(`Item ${s+1}: Insufficient stock. Available: ${g}, Requested: ${l.quantity}`);continue}}const d=l.unitCost||c.unitCost,y={id:ur("mov-"),productId:c.id,productName:c.name,productSku:c.sku,locationId:t.locationId,locationName:a.name,movementType:t.movementType,quantity:l.quantity,unitCost:d,totalCost:l.quantity*d,referenceNumber:t.referenceNumber,notes:l.notes||t.generalNotes||"",createdBy:t.createdBy,createdDate:i,invoiceId:t.invoiceId,fromLocationId:t.fromLocationId,fromLocationName:t.fromLocationId?Te.locations.find(g=>g.id===t.fromLocationId)?.name:void 0};n.push(y)}return e.length>0?{success:!1,movements:[],errors:e}:(Te.movements.push(...n),{success:!0,movements:n,errors:[]})},async getStockLevel(t,e){return await ct(50),Te.movements.filter(n=>n.productId===t&&n.locationId===e).reduce((n,i)=>{switch(i.movementType){case"in":case"adjustment":return n+i.quantity;case"out":return n-i.quantity;case"transfer":return i.locationId===e?n+i.quantity:n;default:return n}},0)},async getStockLevels(){await ct();const t=new Map;for(const e of Te.movements){const n=`${e.productId}-${e.locationId}`;let i=t.get(n);switch(i||(i={id:n,productId:e.productId,locationId:e.locationId,quantity:0,reservedQuantity:0,availableQuantity:0,averageCost:0,lastMovementDate:e.createdDate,lastMovementType:e.movementType},t.set(n,i)),e.movementType){case"in":case"adjustment":i.quantity+=e.quantity;break;case"out":i.quantity-=e.quantity;break;case"transfer":e.locationId===e.locationId&&(i.quantity+=e.quantity);break}new Date(e.createdDate)>new Date(i.lastMovementDate)&&(i.lastMovementDate=e.createdDate,i.lastMovementType=e.movementType),i.averageCost=e.unitCost,i.availableQuantity=i.quantity-i.reservedQuantity}return Array.from(t.values())}},accounts:{async getAll(t){await ct(),wt()&&kt();let e=[...Te.accounts];return t?.accountType&&(e=e.filter(n=>n.accountType===t.accountType)),t?.category&&(e=e.filter(n=>n.category===t.category)),t?.isActive!==void 0&&(e=e.filter(n=>n.isActive===t.isActive)),e},async getById(t){return await ct(),Te.accounts.find(e=>e.id===t)||null},async create(t){if(await ct(),wt()&&kt(),Te.accounts.some(n=>n.accountNumber===t.accountNumber))throw new Error("Account number already exists");const e={...t,id:ur("acc-"),createdDate:new Date().toISOString(),lastModified:new Date().toISOString()};return Te.accounts.push(e),e},async update(t,e){await ct(),wt()&&kt();const n=Te.accounts.findIndex(i=>i.id===t);if(n===-1)throw new Error("Account not found");if(e.accountNumber&&Te.accounts.some(i=>i.id!==t&&i.accountNumber===e.accountNumber))throw new Error("Account number already exists");return Te.accounts[n]={...Te.accounts[n],...e,lastModified:new Date().toISOString()},Te.accounts[n]}},journal:{async getAll(t){await ct(),wt()&&kt();let e=[...Te.journalEntries];return t?.status&&(e=e.filter(n=>n.status===t.status)),t?.accountId&&(e=e.filter(n=>n.lines.some(i=>i.accountId===t.accountId))),t?.dateFrom&&(e=e.filter(n=>n.date>=t.dateFrom)),t?.dateTo&&(e=e.filter(n=>n.date<=t.dateTo)),e.sort((n,i)=>new Date(i.createdAt).getTime()-new Date(n.createdAt).getTime())},async getById(t){return await ct(),Te.journalEntries.find(e=>e.id===t)||null},async create(t){await ct(),wt()&&kt();const e=t.lines.reduce((c,d)=>c+(d.debitAmount||0),0),n=t.lines.reduce((c,d)=>c+(d.creditAmount||0),0);if(Math.abs(e-n)>.01)throw new Error(`Entry is not balanced. Debit: ${e}, Credit: ${n}`);const i=Te.journalEntries.sort((c,d)=>d.entryNumber.localeCompare(c.entryNumber))[0],s=`JE-${((i?parseInt(i.entryNumber.split("-")[1]):0)+1).toString().padStart(3,"0")}`,l={...t,id:ur("je-"),entryNumber:s,createdAt:new Date().toISOString(),lines:t.lines.map(c=>({...c,id:ur("jel-")}))};return Te.journalEntries.push(l),l},async update(t,e){await ct(),wt()&&kt();const n=Te.journalEntries.findIndex(i=>i.id===t);if(n===-1)throw new Error("Journal entry not found");if(Te.journalEntries[n].status==="posted")throw new Error("Cannot modify posted entries");return Te.journalEntries[n]={...Te.journalEntries[n],...e},Te.journalEntries[n]},async post(t){await ct(),wt()&&kt();const e=Te.journalEntries.findIndex(s=>s.id===t);if(e===-1)throw new Error("Journal entry not found");const n=Te.journalEntries[e];if(n.status==="posted")throw new Error("Entry is already posted");const i=n.lines.reduce((s,l)=>s+(l.debitAmount||0),0),a=n.lines.reduce((s,l)=>s+(l.creditAmount||0),0);if(Math.abs(i-a)>.01)throw new Error("Entry must be balanced before posting");return Te.journalEntries[e]={...n,status:"posted",postedAt:new Date().toISOString()},n.lines.forEach(s=>{const l=Te.accounts.findIndex(c=>c.id===s.accountId);if(l!==-1){const c=Te.accounts[l],d=s.debitAmount||0,y=s.creditAmount||0;["asset","expense"].includes(c.accountType)?c.balance+=d-y:c.balance+=y-d}}),Te.journalEntries[e]}},utils:{async getNextEntryNumber(){await ct(100);const t=Te.journalEntries.sort((n,i)=>i.entryNumber.localeCompare(n.entryNumber))[0];return`JE-${((t?parseInt(t.entryNumber.split("-")[1]):0)+1).toString().padStart(3,"0")}`},async getNextProductCode(t){await ct(100);const e=t.toUpperCase().slice(0,3),n=Te.products.filter(a=>a.productCode?.startsWith(e)).sort((a,s)=>(s.productCode||"").localeCompare(a.productCode||""));if(n.length===0)return`${e}001`;const i=parseInt(n[0].productCode?.slice(-3)||"0");return`${e}${(i+1).toString().padStart(3,"0")}`},async healthCheck(){return await ct(50),{status:"healthy",timestamp:new Date().toISOString(),version:"1.0.0"}},async resetDatabase(){return await ct(200),Te={products:[...Te.products.slice(0,3)],locations:[...Te.locations.slice(0,3)],movements:[...Te.movements.slice(0,2)],accounts:[...Te.accounts.slice(0,2)],journalEntries:[...Te.journalEntries.slice(0,1)]},{success:!0,message:"Database reset to initial state"}},async getStats(){return await ct(100),{products:Te.products.length,locations:Te.locations.length,movements:Te.movements.length,accounts:Te.accounts.length,journalEntries:Te.journalEntries.length,totalStockValue:Te.movements.reduce((t,e)=>e.movementType==="in"?t+e.totalCost:e.movementType==="out"?t-e.totalCost:t,0)}}}},nn=(t=16)=>{const e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";let n="";for(let i=0;i<t;i++)n+=e.charAt(Math.floor(Math.random()*e.length));return n},jr=async t=>{const i=await fetch("https://qvamarkets.com/gql_api",{method:"POST",headers:{"Content-Type":"application/json","Accept-Encoding":"gzip, deflate, br",Authorization:"eyJhbGciOiJSUzI1NiIsImtpZCI6IjhlOGZjOGU1NTZmN2E3NmQwOGQzNTgyOWQ2ZjkwYWUyZTEyY2ZkMGQiLCJ0eXAiOiJKV1QifQ"},body:JSON.stringify(t)});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const a=await i.json();if(a.errors)throw new Error(a.errors[0]?.message||"GraphQL error");return a.data},ga=t=>({ENTRY:"in",in:"in",TRANSFER:"transfer",transfer:"transfer",SALES:"out",out:"out",adjustment:"adjustment"})[t],Rn=t=>({ENTRY:"ENTRY",in:"ENTRY",TRANSFER:"TRANSFER",transfer:"TRANSFER",SALES:"SALES",out:"SALES",adjustment:"adjustment"})[t];function pa(t){var e=[];return t&&Object.keys(t).map(n=>{e.push(t[n])}),e}const fa=async()=>({}),ba=()=>(typeof window<"u"&&localStorage.getItem("hrmfinance-api-mode"),"real");let pr=ba();const qr={getMode(){return pr},setMode(t){pr=t,typeof window<"u"&&localStorage.setItem("hrmfinance-api-mode",t)},isFakeMode(){return pr==="fake"},isRealMode(){return pr==="real"},isHybridMode(){return pr==="hybrid"}},qt=async(t,e,n=!0)=>{if(pr==="fake")return e();if(pr==="real")return t();try{return await t()}catch(i){if(console.warn("Real API failed, falling back to fake server:",i),n)return e();throw i}},to={async getAll(t,e){const n=await jr({query:"getScanYabaProducts",queryString:"!* contain :search0 AND !* contain :search1 AND !* contain :search2 AND !* contain :search3 AND !* contain :search4",params:{businessId:"YB100423253156428",":search0":"produ"}});return pa(n)},async getById(t){return qt(async()=>(await this.getAll()).find(n=>n.id===t)||null,()=>Rt.products.getById(t))},async create(t){return qt(async()=>{throw console.log("Creating product via real API:",t),new Error("Real API not implemented yet")},()=>Rt.products.create(t))},async update(t,e){return qt(async()=>{throw console.log("Updating product via real API:",t,e),new Error("Real API not implemented yet")},()=>Rt.products.update(t,e))},async delete(t){return qt(async()=>{throw console.log("Deleting product via real API:",t),new Error("Real API not implemented yet")},()=>Rt.products.delete(t))}},Zt={async getInventory(t,e){if(!(t&&t?.trim()))return[];let n={businessId:"YB100423253156428"};return t&&t.split(" ").map((s,l)=>{s&&(n[":search"+l]=s.trim())}),await jr({query:"getScanYabaInventory",queryString:"!* contain :search0 AND !* contain :search1 AND !* contain :search2 AND !* contain :search3 AND !* contain :search4",params:n})},async getProducts(t){if(!(t&&t?.trim()))return[];let e={businessId:"YB100423253156428"};return t&&t.split(" ").map((a,s)=>{a&&(e[":search"+s]=a.trim())}),await jr({query:"getScanYabaProducts",queryString:"!* contain :search0 AND !* contain :search1 AND !* contain :search2 AND !* contain :search3 AND !* contain :search4",params:e})},async addInventory(t){let n={query:"addYabaInventory",params:{businessId:"YB100423253156428"},form:t};const i=await jr(n);return console.log(n),console.log(i),i},async updInventory(t){return await fa()}},ro={async getAll(t){return qt(async()=>{throw console.log("Getting accounts via real API:",t),new Error("Real API not implemented yet")},()=>Rt.accounts.getAll(t))},async getById(t){return qt(async()=>{throw console.log("Getting account by ID via real API:",t),new Error("Real API not implemented yet")},()=>Rt.accounts.getById(t))},async create(t){return qt(async()=>{throw console.log("Creating account via real API:",t),new Error("Real API not implemented yet")},()=>Rt.accounts.create(t))},async update(t,e){return qt(async()=>{throw console.log("Updating account via real API:",t,e),new Error("Real API not implemented yet")},()=>Rt.accounts.update(t,e))}},no={async getNextEntryNumber(){return qt(async()=>{throw console.log("Getting next entry number via real API"),new Error("Real API not implemented yet")},()=>Rt.utils.getNextEntryNumber())},async getNextProductCode(t){return qt(async()=>{throw console.log("Getting next product code via real API:",t),new Error("Real API not implemented yet")},()=>Rt.utils.getNextProductCode(t))},async healthCheck(){return qt(async()=>{const t=await fetch("/api/health");if(!t.ok)throw new Error("Health check failed");return t.json()},()=>Rt.utils.healthCheck())},async getStats(){return qt(async()=>{throw console.log("Getting stats via real API"),new Error("Real API not implemented yet")},()=>Rt.utils.getStats())}},ha=()=>{qr.setMode("real"),console.log("ðŸš€ HRM Finance initialized in REAL API mode for production")};ha();var Sa=k("<button>");const Ae=t=>{const e=()=>{const n={"font-family":"inherit",cursor:t.disabled?"not-allowed":"pointer",border:"none","border-radius":"var(--border-radius-sm)","font-weight":"500",transition:"all 0.2s ease","text-decoration":"none",display:"inline-flex","align-items":"center","justify-content":"center",gap:"0.5rem",opacity:t.disabled?"0.6":"1"},i={sm:{padding:"0.5rem 1rem","font-size":"0.875rem"},md:{padding:"0.75rem 1.5rem","font-size":"1rem"},lg:{padding:"1rem 2rem","font-size":"1.125rem"}},a={primary:{background:"linear-gradient(135deg, var(--primary-color), var(--primary-dark))",color:"white","box-shadow":"var(--shadow-sm)"},secondary:{background:"var(--surface-color)",color:"var(--text-primary)",border:"1px solid var(--border-color)"},outline:{background:"transparent",color:"var(--primary-color)",border:"1px solid var(--primary-color)"}};return{...n,...i[t.size||"md"],...a[t.variant||"primary"]}};return(()=>{var n=Sa();return br(n,"click",t.onClick,!0),r(n,()=>t.children),T(i=>{var a=e(),s=t.disabled,l=t.type||"button",c=`btn btn-${t.variant||"primary"} ${t.className||""}`;return i.e=o(n,a,i.e),s!==i.t&&(n.disabled=i.t=s),l!==i.a&&Ze(n,"type",i.a=l),c!==i.o&&Un(n,i.o=c),i},{e:void 0,t:void 0,a:void 0,o:void 0}),n})()};vt(["click"]);var Pa=k("<div><div><div><h2></h2><button>Ã—</button></div><div>");const It=t=>{const e={position:"fixed",top:"0",left:"0",right:"0",bottom:"0","background-color":"rgba(0, 0, 0, 0.5)",display:"flex","align-items":"center","justify-content":"center","z-index":"1000"},n={background:"var(--surface-color)","border-radius":"var(--border-radius)","box-shadow":"var(--shadow-lg)","max-width":"920px",width:"90%","max-height":"80vh",overflow:"auto",position:"relative"},i={padding:"1.5rem","border-bottom":"1px solid var(--border-color)",display:"flex","justify-content":"space-between","align-items":"center"},a={"font-size":"1.25rem","font-weight":"600",color:"var(--text-primary)",margin:"0"},s={background:"none",border:"none","font-size":"1.5rem",cursor:"pointer",color:"var(--text-muted)",padding:"0.5rem","border-radius":"var(--border-radius-sm)"},l={padding:"1.5rem"},c=d=>{d.target===d.currentTarget&&t.onClose()};return u(Ge,{get when(){return t.isOpen},get children(){var d=Pa(),y=d.firstChild,g=y.firstChild,I=g.firstChild,L=I.nextSibling,E=g.nextSibling;return d.$$click=c,o(g,i),o(I,a),r(I,()=>t.title),L.addEventListener("mouseleave",$=>$.target.style.background="none"),L.addEventListener("mouseenter",$=>$.target.style.background="var(--background-color)"),br(L,"click",t.onClose,!0),o(L,s),o(E,l),r(E,()=>t.children),T($=>{var S=e,C=n;return $.e=o(d,S,$.e),$.t=o(y,C,$.t),$},{e:void 0,t:void 0}),d}})};vt(["click"]);var oo=k("<div>"),$a=k("<h3>"),xa=k("<p>");const je=t=>{const e={background:"var(--surface-color)","border-radius":"var(--border-radius)",padding:"1.5rem","box-shadow":"var(--shadow-sm)",border:"1px solid var(--border-color)",transition:"all 0.2s ease",cursor:t.onClick?"pointer":"default"},n={"margin-bottom":"1rem"},i={"font-size":"1.25rem","font-weight":"600",color:"var(--text-primary)",margin:"0 0 0.5rem 0"},a={"font-size":"0.875rem",color:"var(--text-muted)",margin:"0"};return(()=>{var s=oo();return br(s,"click",t.onClick,!0),r(s,(()=>{var l=z(()=>!!(t.title||t.subtitle));return()=>l()&&(()=>{var c=oo();return o(c,n),r(c,(()=>{var d=z(()=>!!t.title);return()=>d()&&(()=>{var y=$a();return o(y,i),r(y,()=>t.title),y})()})(),null),r(c,(()=>{var d=z(()=>!!t.subtitle);return()=>d()&&(()=>{var y=xa();return o(y,a),r(y,()=>t.subtitle),y})()})(),null),c})()})(),null),r(s,()=>t.children,null),T(l=>{var c=e,d=`card ${t.className||""}`;return l.e=o(s,c,l.e),d!==l.t&&Un(s,l.t=d),l},{e:void 0,t:void 0}),s})()};vt(["click"]);var Ca=k("<div><label></label><input>"),_a=k("<span>*");const st=t=>{const e={display:"block","font-weight":"500","margin-bottom":"0.5rem",color:"var(--text-primary)"},n={width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem","font-family":"inherit",background:"var(--surface-color)",color:"var(--text-primary)",transition:"border-color 0.2s ease"},i={"margin-bottom":"1rem"};return(()=>{var a=Ca(),s=a.firstChild,l=s.nextSibling;return o(a,i),o(s,e),r(s,()=>t.label,null),r(s,(()=>{var c=z(()=>!!t.required);return()=>c()&&(()=>{var d=_a();return d.style.setProperty("color","var(--primary-color)"),d})()})(),null),l.addEventListener("blur",c=>c.target.style.borderColor="var(--border-color)"),l.addEventListener("focus",c=>c.target.style.borderColor="var(--primary-color)"),l.$$input=c=>t.onChange(c.target.value),o(l,n),T(c=>{var d=t.type||"text",y=t.placeholder,g=t.required,I=t.disabled;return d!==c.e&&Ze(l,"type",c.e=d),y!==c.t&&Ze(l,"placeholder",c.t=y),g!==c.a&&(l.required=c.a=g),I!==c.o&&(l.disabled=c.o=I),c},{e:void 0,t:void 0,a:void 0,o:void 0}),T(()=>l.value=t.value),a})()};vt(["input"]);const wa={en:{common:{save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",add:"Add",close:"Close",search:"Search",filter:"Filter",reset:"Reset",back:"Back",next:"Next",previous:"Previous",yes:"Yes",no:"No",loading:"Loading...",error:"Error",success:"Success",warning:"Warning",info:"Information",confirm:"Confirm",actions:"Actions",status:"Status",active:"Active",inactive:"Inactive",date:"Date",time:"Time",description:"Description",notes:"Notes",amount:"Amount",total:"Total",subtotal:"Subtotal",currency:"USD",language:"Language",english:"English",spanish:"Spanish",noDataFound:"No data found",required:"Required",optional:"Optional",all:"All",none:"None",select:"Select",clear:"Clear",searching:"Searching...",refresh:"Refresh",showAll:"Show All",products:"products",filtered:"Filtered",view:"View",suggested:"Suggested",clearFilters:"Clear Filters",enhanced:"Enhanced",legacy:"Legacy",email:"Email",phone:"Phone",address:"Address",name:"Name",code:"Code",category:"Category",type:"Type",quantity:"Quantity",price:"Price",cost:"Cost",value:"Value",balance:"Balance",created:"Created",modified:"Modified",details:"Details",summary:"Summary",history:"History",new:"New",addNew:"Add New",unknown:"Unknown",notAvailable:"N/A",remove:"Remove",startDate:"Start Date",endDate:"End Date",from:"From",invoice:"Invoice",reference:"Reference",createdBy:"Created By",units:"units",invoiceDocumentId:"Invoice/Document ID",referenceNumber:"Reference Number",referenceNumberPlaceholder:"Enter reference number...",generalNotes:"General Notes",auto:"Auto",optionalNotes:"Optional notes...",showPerPage:"Show per page",first:"First",last:"Last",pageOfPages:"Page {{current}} of {{total}}",showingXofY:"Showing {{start}}-{{end}} of {{total}}",page:"Page",of:"of"},forms:{referenceNumberRequired:"Reference number is required",locationRequired:"Location is required",fromLocationRequired:"From location is required for transfers",atLeastOneProduct:"At least one product is required",itemProductRequired:"Product is required for item {{index}}",itemQuantityRequired:"Quantity must be greater than 0 for item {{index}}"},navigation:{dashboard:"Dashboard",accounts:"Chart of Accounts",balanceSheet:"Balance Sheet",inventory:"Inventory",employees:"Employees",entryBooks:"Entry Books",consolidate:"Bank Consolidation",reports:"Reports",settings:"Settings"},dashboard:{title:"Dashboard",welcome:"Welcome to HRM Finance",totalRevenue:"Total Revenue",overview:"Overview",recentActivity:"Recent Activity",quickActions:"Quick Actions",employeeCount:"Employee Count",pendingInvoices:"Pending Invoices",cashBalance:"Cash Balance",totalAssets:"Total Assets",totalLiabilities:"Total Liabilities",totalExpenses:"Total Expenses",netIncome:"Net Income",netLoss:"Net Loss",monthlyPayroll:"Monthly Payroll",current:"Current",newHires:"+3 new hires",outstanding:"Outstanding",totalOutstanding:"$23,450 total",lastUpdatedToday:"Last updated today",commonTasks:"Common tasks",generateReport:"Generate Report",latestUpdates:"Latest updates",invoicePaid:"Invoice #1234 paid",hoursAgo:"2 hours ago",newEmployeeOnboarded:"New employee onboarded",dayAgo:"1 day ago",monthlyReportGenerated:"Monthly report generated",daysAgo:"2 days ago"},accounts:{title:"Chart of Accounts",accountNumber:"Account Number",accountName:"Account Name",accountType:"Account Type",category:"Category",balance:"Balance",parentAccount:"Parent Account",subAccounts:"Sub-accounts",addAccount:"Add Account",editAccount:"Edit Account",deleteAccount:"Delete Account",accountDetails:"Account Details",transactions:"Transactions",accountHistory:"Account History",backToAccounts:"Back to Accounts",accountNotFound:"Account not found",accountInformation:"Account Information",accountPurpose:"Account purpose",transactionHistory:"Transaction History",noTransactions:"No transactions found for this account",createdDate:"Created Date",lastModified:"Last Modified",noDescription:"No description provided.",totalCount:"Total count",basicDetails:"Basic details",currentBalance:"Current balance",classification:"Classification",allTransactions:"All account transactions",reference:"Reference",allAccounts:"All Accounts",types:{asset:"Asset",liability:"Liability",equity:"Equity",revenue:"Revenue",expense:"Expense"},categories:{currentAssets:"Current Assets",fixedAssets:"Fixed Assets",currentLiabilities:"Current Liabilities",longTermLiabilities:"Long-term Liabilities",ownersEquity:"Owner's Equity",operatingRevenue:"Operating Revenue",operatingExpenses:"Operating Expenses"}},inventory:{title:"Inventory Management",overview:"Overview",products:"Products & Stock",movements:"Movements",locations:"Locations",bulkMovement:"Bulk Movement",addMovement:"Add Movement",addProduct:"Add Product",addLocation:"Add Location",singleMovement:"Add Single Movement",addNewItem:"Add New Item",activeProducts:"Active Products",lowStockAlert:"Low Stock Items",totalValue:"Total Stock Value",activeLocations:"Active Locations",productsNeedRestocking:"products need restocking",recentMovements:"Recent Movements",noProducts:"No products at this location",productName:"Product Name",productCode:"Product Code",sku:"SKU",unitOfMeasure:"Unit of Measure",unitCost:"Unit Cost",minStockLevel:"Min Stock Level",maxStockLevel:"Max Stock Level",locationName:"Location Name",locationType:"Location Type",locationCode:"Location Code",movementType:"Movement Type",referenceNumber:"Reference Number",invoiceNumber:"Invoice Number",fromLocation:"From Location",toLocation:"To Location",stockIn:"Stock In",stockOut:"Stock Out",transfer:"Transfer",adjustment:"Adjustment",inStock:"In Stock",lowStock:"Low Stock",outOfStock:"Out of Stock",stockLevels:"Stock Levels",stockByLocation:"Stock by Location",searchProducts:"Search products by name, SKU, or category...",searchProductsStock:"Search products and check stock levels...",searchResult:"Search Result",searchResults:"Search Results",searchFallback:"Showing local results",tryDifferentTerm:"Try a different search term or check spelling.",showingTopResults:"Showing top {{count}} results",searchLocations:"Search locations...",noMovements:"No movements found",productDetails:"Product Details",locationDetails:"Location Details",movementDetails:"Movement Details",totalProducts:"Total Products",totalLocations:"Total Locations",lastSeen:"Last seen",warehouseType:"Warehouse",storeType:"Store",supplierType:"Supplier",customerType:"Customer",currentlyManaged:"Currently managed",needAttention:"Need attention",currentWorth:"Current worth",warehousesStores:"Warehouses & stores",thisMonth:"This Month",latestActivities:"Latest inventory activities",searchMovements:"Search Movements",countingSheet:"Counting Sheet",physicalCount:"Physical Count",physicalInventoryCount:"Physical Inventory Count",setupPhysicalCount:"Setup Physical Inventory Count",setupDescription:"Configure your physical inventory count settings and begin the counting process.",countWillInclude:"This count will include {{count}} products from {{location}} in {{category}} category.",startCounting:"Start Physical Count",counted:"Counted",remaining:"Remaining",variances:"Variances",complete:"Complete",systemQty:"System Qty",variance:"Variance",addNotes:"Add notes...",reviewAndConfirm:"Review and Confirm Adjustments",reviewDescription:"Review the inventory adjustments below and confirm to update your system.",stockIncreases:"Stock Increases",stockDecreases:"Stock Decreases",totalAdjustments:"Total Adjustments",confirmAdjustments:"Confirm Adjustments",perfectCount:"Perfect Count!",noVariances:"No variances found. Your physical count matches the system exactly.",physicalCountAdjustment:"Physical count adjustment",inventoryCountingSheetTitle:"INVENTORY COUNTING SHEET",location:"Location",allCategories:"All Categories",countedBy:"Counted by",verifiedBy:"Verified by",instructions:"Instructions",countInstructions:["Count all items physically present at this location",'Write the actual count in the "Physical Count" column',"Leave blank if item is not found",'Note any discrepancies in the "Notes" column',"Sign and date when complete"],productName:"Product Name",unit:"Unit",totalProductsListed:"Total Products Listed",itemsCounted:"Items Counted",discrepanciesFound:"Discrepancies Found",counterSignature:"Counter Signature",supervisorSignature:"Supervisor Signature",downloadCSV:"Download CSV",noAdjustmentsToDownload:"No adjustments to download",stockIncrease:"Stock Increase",stockDecrease:"Stock Decrease",purchaseReceive:"Purchase/Receive",saleIssue:"Sale/Issue",transfer:"Transfer",adjustment:"Adjustment",movementType:"Movement Type",fromLocation:"From Location",toLocation:"To Location",searchSourceLocation:"Search source location...",searchDestinationLocation:"Search destination location...",searchLocation:"Search location...",addProduct:"Add Product",searchProduct:"Search product...",unitCost:"Unit Cost",noProductsAdded:'No products added yet. Click "Add Product" to get started.',createMovement:"Create Movement",generalNotesPlaceholder:"Enter general notes for this movement...",sortBy:"Sort By",allLocations:"All Locations",searchByProduct:"Search by product, location, reference, notes, invoice...",allProducts:"All Products",allTypes:"All Types",startDate:"Start Date",endDate:"End Date",totalMovements:"Total Movements",totalItems:"Total Items",adjustMovements:"Try adjusting your filters or check back later.",inventoryMovements:"Inventory Movements",createdBy:"Created By",view:"View",enhanced:"Enhanced",legacy:"Legacy",addSingleMovement:"Add Single Movement",inStockSubtitle:"In stock",itemsBelowThreshold:"Items below threshold",inventoryWorth:"Inventory worth",quantity:"Quantity",units:"units",normal:"Normal",productsAndStock:"Products & Stock",lowStockItems:"Low Stock Items",totalStockValue:"Total Stock Value",warehousesAndStores:"Warehouses & stores",andMore:"...and {count} more",latestInventoryActivities:"Latest inventory activities",min:"Min",max:"Max",cost:"Cost",noProductsFound:"No products found matching your search.",noProductsAvailable:"No products available.",noLocationsFound:"No locations found matching your search.",noLocationsAvailable:"No locations available.",searchPlaceholder:"Search by product, location, reference, notes, invoice...",noMovementsFound:"No movements found",tryAdjustingFilters:"Try adjusting your filters or check back later.",transfers:"Transfers",adjustments:"Adjustments",bulk:"Bulk",product:"Product",location:"Location",store:"Store",supplier:"Supplier",warehouse:"Warehouse",movement:"Movement",editMovement:"Edit Movement",updateMovement:"Update Movement",movementInformation:"Movement Information",locationInformation:"Location Information"},employees:{title:"Employee Management",employeeList:"Employee List",addEmployee:"Add Employee",editEmployee:"Edit Employee",employeeDetails:"Employee Details",personalInfo:"Personal Information",employmentInfo:"Employment Information",payrollInfo:"Payroll Information",firstName:"First Name",lastName:"Last Name",fullName:"Full Name",email:"Email",phone:"Phone",address:"Address",dateOfBirth:"Date of Birth",employeeId:"Employee ID",department:"Department",position:"Position",hireDate:"Hire Date",employmentStatus:"Employment Status",salary:"Salary",payFrequency:"Pay Frequency",taxId:"Tax ID",bankAccount:"Bank Account",emergencyContact:"Emergency Contact",activeEmployees:"Active Employees",inactiveEmployees:"Inactive Employees",totalPayroll:"Total Payroll",searchEmployees:"Search employees...",enterFullName:"Enter employee's full name",enterPosition:"Enter job position",enterEmail:"Enter email address",enterPhone:"Enter phone number",enterSalary:"Enter annual salary",departments:{engineering:"Engineering",product:"Product",design:"Design",marketing:"Marketing",sales:"Sales",humanResources:"Human Resources",finance:"Finance",operations:"Operations",analytics:"Analytics"}},entryBooks:{title:"Entry Books",bookName:"Book Name",bookType:"Book Type",createBook:"Create Book",editBook:"Edit Book",salesBook:"Sales Book",purchaseBook:"Purchase Book",cashBook:"Cash Book",generalBook:"General Book",entries:"Entries",addEntry:"Add Entry",period:"Period",startDate:"Start Date",endDate:"End Date",bookBalance:"Book Balance",reconciledBalance:"Reconciled Balance",difference:"Difference",reconcile:"Reconcile",isReconciled:"Is Reconciled",noBooks:"No entry books found",createFirst:"Create your first entry book to get started",bookDetails:"Book Details",entriesCount:"entries",bookOverview:"Book overview and details",bookEntries:"Book Entries",allEntries:"All entries in this book",noEntries:"No entries found",addFirst:"Add your first entry to this book",entryDate:"Entry Date",entryDescription:"Entry Description",entryAmount:"Entry Amount",entryReference:"Entry Reference",subtitle:"Manage accounting entries and general ledger records",viewReconciliation:"View Reconciliation",totalEntries:"Total Entries",allJournalEntries:"All journal entries",postedEntriesOnly:"Posted entries only",fromPostedEntries:"From {count} posted entries",needBankReconciliation:"Need bank reconciliation",allReconciled:"All reconciled",sortBy:"Sort By",fromDate:"From Date",toDate:"To Date",order:"Order",newest:"Newest",oldest:"Oldest",resetFilters:"Reset Filters",activeFilters:"Active filters",from:"From",to:"To",entriesFound:"{count} entries found",noJournalEntries:"No Journal Entries",startByCreating:"Start by creating your first entry",noEntriesMatch:"No journal entries match your current filters.",createFirstEntry:"Create First Entry",void:"Void",confirmVoid:"Are you sure you want to void this journal entry?",entryBookRecords:"Entry Book Records"},banking:{title:"Bank Consolidation",bankAccount:"Bank Account",statementDate:"Statement Date",beginningBalance:"Beginning Balance",endingBalance:"Ending Balance",deposits:"Deposits",withdrawals:"Withdrawals",bankCharges:"Bank Charges",interest:"Interest",reconcile:"Reconcile",matched:"Matched",unmatched:"Unmatched",importStatement:"Import Statement",manualEntry:"Manual Entry",autoMatch:"Auto Match",clearAll:"Clear All",reconciliationStatus:"Reconciliation Status",difference:"Difference",bookBalance:"Book Balance",statementBalance:"Statement Balance",outstandingChecks:"Outstanding Checks",depositsInTransit:"Deposits in Transit",reconciled:"Reconciled",notReconciled:"Not Reconciled",unreconciled:"Unreconciled",reconciliation:"Reconciliation",compareStatements:"Compare bank statements with entry book records",importCSV:"Import CSV",startNewReconciliation:"Start New Reconciliation",bankAccountInfo:"Bank Account Info",currentAccountDetails:"Current account details",lastReconciled:"Last reconciled",bankTransactions:"Bank Transactions",selectedPeriod:"Selected period",pending:"pending",bookEntriesForComparison:"Book entries for comparison",reconciliationRate:"Reconciliation Rate",completionStatus:"Completion status",recentReconciliationSessions:"Recent Reconciliation Sessions",latestActivity:"Latest activity",noRecentSessions:"No recent reconciliation sessions found.",startFirstReconciliation:"Start First Reconciliation",entryBookRecords:"Entry Book Records",pleaseUploadCSV:"Please upload a CSV file",csvRequiresHeaderAndData:"CSV file must have at least a header and one data row",successfullyParsed:"Successfully parsed {count} rows",errorParsingCSV:"Error parsing CSV file. Please check the format.",dateDescriptionRequired:"Date and Description columns are required",importedTransaction:"Imported transaction",successfullyImported:"Successfully imported {count} bank transactions",errorImportingTransactions:"Error importing transactions. Please check your data.",importBankStatementCSV:"Import Bank Statement CSV",dropCSVHere:"Drop CSV file here",clickToUploadCSV:"Click to upload or drag and drop CSV file",supportedFormat:"Supported format: CSV with Date, Description, and Amount columns",mapCSVColumns:"Map CSV Columns",dateColumn:"Date Column",selectColumn:"Select column...",descriptionColumn:"Description Column",referenceColumn:"Reference Column",amountDebitColumn:"Amount/Debit Column",creditColumn:"Credit Column",balanceColumn:"Balance Column",andMoreRows:"... and {count} more rows",importing:"Importing...",importTransactions:"Import {count} Transactions",reconciliationComparison:"Reconciliation Comparison",bankStatements:"Bank Statements",totalTransactions:"Total transactions",totalEntries:"Total entries",unreconciledBank:"Unreconciled Bank",unreconciledBooks:"Unreconciled Books",needAttention:"Need attention",unreconcile:"Unreconcile",clickToReconcile:"Click to reconcile",potentialMatchesFound:"Potential Matches Found",clickRecordToReconcile:"Click on a record below to reconcile",exactMatch:"Exact Match",possibleMatch:"Possible Match",selected:"Selected",clearSelection:"Clear Selection"},journal:{title:"Journal Entries",entryNumber:"Entry Number",entryDate:"Entry Date",debit:"Debit",credit:"Credit",account:"Account",memo:"Memo",reference:"Reference",createEntry:"Create Entry",editEntry:"Edit Entry",deleteEntry:"Delete Entry",posted:"Posted",draft:"Draft",reversed:"Reversed",recurringEntry:"Recurring Entry",attachments:"Attachments",totalDebits:"Total Debits",totalCredits:"Total Credits",outOfBalance:"Out of Balance",balanced:"Balanced",addEntry:"Add Journal Entry",allEntries:"All Entries",totalDebit:"Total Debit",totalCredit:"Total Credit",debitShort:"Dr.",creditShort:"Cr.",noReference:"No reference",createdBy:"By",totalAmount:"Total Amount",lines:"Lines",entryNotBalancedShort:"Entry is not balanced",accountLines:"Account Lines",noDescription:"No description",andMoreLines:"... and {count} more lines",viewDetails:"View Details",entryLines:"Journal Entry Lines",addLine:"Add Line",lineDescription:"Line description",notBalanced:"Not Balanced",updateEntry:"Update Entry",saveAsDraft:"Save as Draft",entryDetails:"Journal Entry Details",entryNotFound:"Entry Not Found",entryNotFoundMessage:"The journal entry you're looking for could not be found or may have been deleted.",editEntryTooltip:"Edit this journal entry",post:"Post",entryMustBeBalanced:"Entry must be balanced to post",postEntryTooltip:"Post this journal entry",voidEntryTooltip:"Void this journal entry",journalLines:"Journal Lines",balanceStatus:"Balance Status",unbalanced:"Unbalanced",difference:"difference",createdAt:"Created At",postedAt:"Posted At",quickActions:"Quick Actions",postEntry:"Post Entry",fixBalance:"Fix Balance",voidEntry:"Void Entry",draftEntry:"Draft Entry",draftEntryDescription:"This entry can be edited and posted.",entryMustBeBalancedBeforePosting:"Entry must be balanced before posting.",postedEntry:"Posted Entry",postedEntryDescription:"This entry has been posted to the general ledger. Editing will create a new draft copy.",voidEntryDescription:"This entry has been voided and cannot be modified.",confirmEditPosted:"This entry has been posted. Editing will create a new draft copy. Continue?",confirmPost:"Are you sure you want to post this journal entry? This action cannot be undone.",confirmVoid:"Are you sure you want to void this journal entry?",minTwoLinesRequired:"At least 2 line items are required",entryNotBalanced:"Entry is not balanced. Debit: ${debit}, Credit: ${credit}",lineAccountRequired:"Line {lineNumber}: Account is required",lineAmountRequired:"Line {lineNumber}: Either debit or credit amount must be provided",lineBothAmounts:"Line {lineNumber}: Cannot have both debit and credit amounts",enterEntryDescription:"Enter journal entry description",enterReferenceNumber:"Enter reference number"},forms:{requiredField:"This field is required",invalidEmail:"Invalid email address",invalidNumber:"Invalid number",invalidDate:"Invalid date",selectOption:"Please select an option",enterValue:"Please enter a value",confirmDelete:"Are you sure you want to delete this item?",unsavedChanges:"You have unsaved changes. Do you want to continue?",saveSuccess:"Saved successfully",saveError:"Error saving data",deleteSuccess:"Deleted successfully",deleteError:"Error deleting item",duplicateAccountNumber:"Account number already exists",descriptionRequired:"Description is required",errorOccurred:"An error occurred",errorPostingEntry:"An error occurred while posting the entry"},modals:{addInventory:"Add Inventory Movement",bulkMovement:"Bulk Inventory Movement",addProduct:"Add New Product",addLocation:"Add New Location",inventoryDetail:"Inventory Item Details",quickAdd:"Quick Add",selectProduct:"Select Product",selectLocation:"Select Location",enterQuantity:"Enter quantity",enterCost:"Enter unit cost",enterReference:"Enter reference number",addNotes:"Add notes (optional)",generalInformation:"General Information",stockInformation:"Stock Information",locationInformation:"Location Information",movementInformation:"Movement Information",addToInventory:"Add to Inventory",createProduct:"Create Product",createLocation:"Create Location",processing:"Processing...",addingMovement:"Adding movement...",creatingProduct:"Creating product...",creatingLocation:"Creating location..."},products:{title:"Products",addNew:"Add New Product",totalProducts:"Total Products",inCatalog:"In catalog",activeProducts:"Active Products",currentlyAvailable:"Currently available",outOfStock:"Out of Stock",needsRestock:"Needs restock",productCatalog:"Product Catalog",manageYourProducts:"Manage your products and pricing",inStock:"In Stock",furniture:"Furniture",electronics:"Electronics",supplies:"Supplies",lighting:"Lighting",searchPlaceholder:"Search products by name, SKU, or category...",allCategories:"All Categories",clearFilters:"Clear filters",noResults:"No products found matching your criteria.",noProducts:"No products available.",showing:"Showing",filtered:"Filtered results",allProducts:"All products",searchResult:"Search Result",stock:"Stock",lowStock:"Low Stock"},invoices:{title:"Invoices",createNew:"Create New Invoice",totalOutstanding:"Total Outstanding",unpaidInvoices:"Unpaid invoices",thisMonth:"This Month",revenueCollected:"Revenue collected",overdue:"Overdue",pastDueInvoices:"Past due invoices",recentInvoices:"Recent Invoices",latestBillingActivity:"Latest billing activity",paid:"Paid",pending:"Pending"}},es:{common:{save:"Guardar",cancel:"Cancelar",delete:"Eliminar",edit:"Editar",add:"Agregar",close:"Cerrar",search:"Buscar",filter:"Filtrar",reset:"Restablecer",back:"AtrÃ¡s",next:"Siguiente",previous:"Anterior",yes:"SÃ­",no:"No",loading:"Cargando...",error:"Error",success:"Ã‰xito",warning:"Advertencia",info:"InformaciÃ³n",confirm:"Confirmar",actions:"Acciones",status:"Estado",active:"Activo",inactive:"Inactivo",date:"Fecha",time:"Hora",description:"DescripciÃ³n",notes:"Notas",amount:"Monto",total:"Total",subtotal:"Subtotal",currency:"USD",language:"Idioma",english:"InglÃ©s",spanish:"EspaÃ±ol",noDataFound:"No se encontraron datos",required:"Requerido",optional:"Opcional",all:"Todos",none:"Ninguno",select:"Seleccionar",clear:"Limpiar",view:"Ver",suggested:"Sugerido",clearFilters:"Limpiar Filtros",enhanced:"Mejorado",legacy:"ClÃ¡sico",email:"Correo ElectrÃ³nico",phone:"TelÃ©fono",address:"DirecciÃ³n",name:"Nombre",code:"CÃ³digo",category:"CategorÃ­a",type:"Tipo",quantity:"Cantidad",price:"Precio",cost:"Costo",value:"Valor",balance:"Saldo",created:"Creado",modified:"Modificado",details:"Detalles",summary:"Resumen",history:"Historial",new:"Nuevo",addNew:"Agregar Nuevo",unknown:"Desconocido",notAvailable:"N/A",remove:"Remover",startDate:"Fecha de Inicio",endDate:"Fecha de Fin",from:"De",invoice:"Factura",reference:"Referencia",createdBy:"Creado Por",units:"unidades",invoiceDocumentId:"ID de Factura/Documento",referenceNumber:"NÃºmero de Referencia",referenceNumberPlaceholder:"Ingrese nÃºmero de referencia...",generalNotes:"Notas Generales",auto:"Auto",optionalNotes:"Notas opcionales...",showPerPage:"Mostrar por pÃ¡gina",first:"Primera",last:"Ãšltima",pageOfPages:"PÃ¡gina {{current}} de {{total}}",showingXofY:"Mostrando {{start}}-{{end}} de {{total}}",page:"PÃ¡gina",of:"de"},forms:{referenceNumberRequired:"El nÃºmero de referencia es requerido",locationRequired:"La ubicaciÃ³n es requerida",fromLocationRequired:"La ubicaciÃ³n de origen es requerida para transferencias",atLeastOneProduct:"Al menos un producto es requerido",itemProductRequired:"El producto es requerido para el artÃ­culo {{index}}",itemQuantityRequired:"La cantidad debe ser mayor que 0 para el artÃ­culo {{index}}"},navigation:{dashboard:"Panel de Control",accounts:"Plan de Cuentas",balanceSheet:"Balance General",inventory:"Inventario",employees:"Empleados",entryBooks:"Libros de Entrada",consolidate:"ConsolidaciÃ³n Bancaria",reports:"Reportes",settings:"ConfiguraciÃ³n"},dashboard:{title:"Panel de Control",welcome:"Bienvenido a HRM Finance",totalRevenue:"Ingresos Totales",overview:"Resumen",recentActivity:"Actividad Reciente",quickActions:"Acciones RÃ¡pidas",employeeCount:"NÃºmero de Empleados",pendingInvoices:"Facturas Pendientes",cashBalance:"Saldo en Efectivo",totalAssets:"Activos Totales",totalLiabilities:"Pasivos Totales",totalExpenses:"Gastos Totales",netIncome:"Ingreso Neto",netLoss:"PÃ©rdida Neta",monthlyPayroll:"NÃ³mina Mensual",current:"Actual",newHires:"+3 nuevas contrataciones",outstanding:"Pendiente",totalOutstanding:"$23,450 total",lastUpdatedToday:"Ãšltima actualizaciÃ³n hoy",commonTasks:"Tareas comunes",generateReport:"Generar Reporte",latestUpdates:"Ãšltimas actualizaciones",invoicePaid:"Factura #1234 pagada",hoursAgo:"hace 2 horas",newEmployeeOnboarded:"Nuevo empleado incorporado",dayAgo:"hace 1 dÃ­a",monthlyReportGenerated:"Reporte mensual generado",daysAgo:"hace 2 dÃ­as"},accounts:{title:"Plan de Cuentas",accountNumber:"NÃºmero de Cuenta",accountName:"Nombre de Cuenta",accountType:"Tipo de Cuenta",category:"CategorÃ­a",balance:"Saldo",parentAccount:"Cuenta Padre",subAccounts:"Subcuentas",addAccount:"Agregar Cuenta",editAccount:"Editar Cuenta",deleteAccount:"Eliminar Cuenta",accountDetails:"Detalles de Cuenta",transactions:"Transacciones",accountHistory:"Historial de Cuenta",backToAccounts:"Volver a Cuentas",accountNotFound:"Cuenta no encontrada",accountInformation:"InformaciÃ³n de Cuenta",accountPurpose:"PropÃ³sito de la cuenta",transactionHistory:"Historial de Transacciones",noTransactions:"No se encontraron transacciones para esta cuenta",createdDate:"Fecha de CreaciÃ³n",lastModified:"Ãšltima ModificaciÃ³n",noDescription:"No se proporcionÃ³ descripciÃ³n.",totalCount:"Conteo total",basicDetails:"Detalles bÃ¡sicos",currentBalance:"Saldo actual",classification:"ClasificaciÃ³n",allTransactions:"Todas las transacciones de la cuenta",reference:"Referencia",types:{asset:"Activo",liability:"Pasivo",equity:"Patrimonio",revenue:"Ingreso",expense:"Gasto"},categories:{currentAssets:"Activos Corrientes",fixedAssets:"Activos Fijos",currentLiabilities:"Pasivos Corrientes",longTermLiabilities:"Pasivos a Largo Plazo",ownersEquity:"Patrimonio del Propietario",operatingRevenue:"Ingresos Operacionales",operatingExpenses:"Gastos Operacionales"}},inventory:{title:"GestiÃ³n de Inventario",overview:"Resumen",products:"Productos y Stock",movements:"Movimientos",locations:"Ubicaciones",bulkMovement:"Movimiento Masivo",addMovement:"Agregar Movimiento",addProduct:"Agregar Producto",addLocation:"Agregar UbicaciÃ³n",singleMovement:"Agregar Movimiento Individual",addNewItem:"Agregar Nuevo ArtÃ­culo",activeProducts:"Productos Activos",lowStockAlert:"ArtÃ­culos con Stock Bajo",totalValue:"Valor Total del Stock",activeLocations:"Ubicaciones Activas",productsNeedRestocking:"productos necesitan reabastecimiento",recentMovements:"Movimientos Recientes",noProducts:"No hay productos en esta ubicaciÃ³n",productName:"Nombre del Producto",productCode:"CÃ³digo del Producto",sku:"SKU",unitOfMeasure:"Unidad de Medida",unitCost:"Costo Unitario",minStockLevel:"Nivel MÃ­nimo de Stock",maxStockLevel:"Nivel MÃ¡ximo de Stock",locationName:"Nombre de UbicaciÃ³n",locationType:"Tipo de UbicaciÃ³n",locationCode:"CÃ³digo de UbicaciÃ³n",movementType:"Tipo de Movimiento",referenceNumber:"NÃºmero de Referencia",invoiceNumber:"NÃºmero de Factura",fromLocation:"Desde UbicaciÃ³n",toLocation:"Hacia UbicaciÃ³n",stockIn:"Entrada de Stock",stockOut:"Salida de Stock",transfer:"Transferencia",adjustment:"Ajuste",inStock:"En Stock",lowStock:"Stock Bajo",outOfStock:"Sin Stock",stockLevels:"Niveles de Stock",stockByLocation:"Stock por UbicaciÃ³n",searchProducts:"Buscar productos...",searchLocations:"Buscar ubicaciones...",noMovements:"No se encontraron movimientos",productDetails:"Detalles del Producto",locationDetails:"Detalles de UbicaciÃ³n",movementDetails:"Detalles del Movimiento",totalProducts:"Total de Productos",totalLocations:"Total de Ubicaciones",lastSeen:"Visto por Ãºltima vez",warehouseType:"AlmacÃ©n",storeType:"Tienda",supplierType:"Proveedor",customerType:"Cliente",currentlyManaged:"Gestionados actualmente",needAttention:"Necesitan atenciÃ³n",currentWorth:"Valor actual",warehousesStores:"Almacenes y tiendas",thisMonth:"Este Mes",latestActivities:"Ãšltimas actividades de inventario",searchMovements:"Buscar Movimientos",countingSheet:"Hoja de Conteo",physicalCount:"Conteo FÃ­sico",physicalInventoryCount:"Conteo FÃ­sico de Inventario",setupPhysicalCount:"Configurar Conteo FÃ­sico de Inventario",setupDescription:"Configure los ajustes de su conteo fÃ­sico de inventario y comience el proceso de conteo.",countWillInclude:"Este conteo incluirÃ¡ {{count}} productos de {{location}} en la categorÃ­a {{category}}.",startCounting:"Iniciar Conteo FÃ­sico",counted:"Contado",remaining:"Restante",variances:"Variaciones",complete:"Completo",systemQty:"Cant. Sistema",variance:"VariaciÃ³n",addNotes:"Agregar notas...",reviewAndConfirm:"Revisar y Confirmar Ajustes",reviewDescription:"Revise los ajustes de inventario a continuaciÃ³n y confirme para actualizar su sistema.",stockIncreases:"Aumentos de Stock",stockDecreases:"Disminuciones de Stock",totalAdjustments:"Ajustes Totales",confirmAdjustments:"Confirmar Ajustes",adjustment:"Ajuste",perfectCount:"Â¡Conteo Perfecto!",noVariances:"No se encontraron variaciones. Su conteo fÃ­sico coincide exactamente con el sistema.",physicalCountAdjustment:"Ajuste de conteo fÃ­sico",inventoryCountingSheetTitle:"HOJA DE CONTEO DE INVENTARIO",location:"UbicaciÃ³n",allCategories:"Todas las CategorÃ­as",countedBy:"Contado por",verifiedBy:"Verificado por",instructions:"Instrucciones",countInstructions:["Contar todos los artÃ­culos fÃ­sicamente presentes en esta ubicaciÃ³n",'Escribir el conteo real en la columna "Conteo FÃ­sico"',"Dejar en blanco si el artÃ­culo no se encuentra",'Anotar cualquier discrepancia en la columna "Notas"',"Firmar y fechar cuando estÃ© completo"],productName:"Nombre del Producto",unit:"Unidad",totalProductsListed:"Total de Productos Listados",itemsCounted:"ArtÃ­culos Contados",discrepanciesFound:"Discrepancias Encontradas",counterSignature:"Firma del Contador",supervisorSignature:"Firma del Supervisor",downloadCSV:"Descargar CSV",noAdjustmentsToDownload:"No hay ajustes para descargar",stockIncrease:"Aumento de Stock",stockDecrease:"DisminuciÃ³n de Stock",purchaseReceive:"Compra/RecepciÃ³n",saleIssue:"Venta/EmisiÃ³n",transfer:"Transferencia",adjustment:"Ajuste",movementType:"Tipo de Movimiento",fromLocation:"UbicaciÃ³n de Origen",toLocation:"UbicaciÃ³n de Destino",searchSourceLocation:"Buscar ubicaciÃ³n de origen...",searchDestinationLocation:"Buscar ubicaciÃ³n de destino...",searchLocation:"Buscar ubicaciÃ³n...",addProduct:"Agregar Producto",searchProduct:"Buscar producto...",unitCost:"Costo Unitario",noProductsAdded:'No se han agregado productos aÃºn. Haga clic en "Agregar Producto" para comenzar.',createMovement:"Crear Movimiento",generalNotesPlaceholder:"Ingrese notas generales para este movimiento...",sortBy:"Ordenar Por",allLocations:"Todas las Ubicaciones",searchByProduct:"Buscar por producto, ubicaciÃ³n, referencia, notas, factura...",allProducts:"Todos los Productos",allTypes:"Todos los Tipos",startDate:"Fecha de Inicio",endDate:"Fecha de Fin",totalMovements:"Movimientos Totales",totalItems:"ArtÃ­culos Totales",adjustMovements:"Intenta ajustar tus filtros o revisa mÃ¡s tarde.",inventoryMovements:"Movimientos de Inventario",createdBy:"Creado Por",view:"Ver",enhanced:"Mejorado",legacy:"ClÃ¡sico",addSingleMovement:"Agregar Movimiento Individual",inStockSubtitle:"En stock",itemsBelowThreshold:"ArtÃ­culos bajo el umbral",inventoryWorth:"Valor del inventario",quantity:"Cantidad",units:"unidades",normal:"Normal",productsAndStock:"Productos y Stock",lowStockItems:"ArtÃ­culos con Stock Bajo",totalStockValue:"Valor Total del Stock",warehousesAndStores:"Almacenes y tiendas",andMore:"...y {count} mÃ¡s",latestInventoryActivities:"Ãšltimas actividades de inventario",min:"MÃ­n",max:"MÃ¡x",cost:"Costo",noProductsFound:"No se encontraron productos que coincidan con su bÃºsqueda.",noProductsAvailable:"No hay productos disponibles.",noLocationsFound:"No se encontraron ubicaciones que coincidan con su bÃºsqueda.",noLocationsAvailable:"No hay ubicaciones disponibles.",searchPlaceholder:"Buscar por producto, ubicaciÃ³n, referencia, notas, factura...",noMovementsFound:"No se encontraron movimientos",tryAdjustingFilters:"Intenta ajustar tus filtros o revisa mÃ¡s tarde.",transfers:"Transferencias",adjustments:"Ajustes",bulk:"Masivo",product:"Producto",location:"UbicaciÃ³n",store:"Tienda",supplier:"Proveedor",warehouse:"AlmacÃ©n",movement:"Movimiento",editMovement:"Editar Movimiento",updateMovement:"Actualizar Movimiento",movementInformation:"InformaciÃ³n del Movimiento",locationInformation:"InformaciÃ³n de UbicaciÃ³n"},employees:{title:"GestiÃ³n de Empleados",employeeList:"Lista de Empleados",addEmployee:"Agregar Empleado",editEmployee:"Editar Empleado",employeeDetails:"Detalles del Empleado",personalInfo:"InformaciÃ³n Personal",employmentInfo:"InformaciÃ³n Laboral",payrollInfo:"InformaciÃ³n de NÃ³mina",firstName:"Nombre",lastName:"Apellido",fullName:"Nombre Completo",email:"Correo ElectrÃ³nico",phone:"TelÃ©fono",address:"DirecciÃ³n",dateOfBirth:"Fecha de Nacimiento",employeeId:"ID de Empleado",department:"Departamento",position:"Puesto",hireDate:"Fecha de ContrataciÃ³n",employmentStatus:"Estado Laboral",salary:"Salario",payFrequency:"Frecuencia de Pago",taxId:"ID Fiscal",bankAccount:"Cuenta Bancaria",emergencyContact:"Contacto de Emergencia",activeEmployees:"Empleados Activos",inactiveEmployees:"Empleados Inactivos",totalPayroll:"NÃ³mina Total",searchEmployees:"Buscar empleados...",enterFullName:"Ingrese el nombre completo del empleado",enterPosition:"Ingrese el puesto de trabajo",enterEmail:"Ingrese la direcciÃ³n de correo electrÃ³nico",enterPhone:"Ingrese el nÃºmero de telÃ©fono",enterSalary:"Ingrese el salario anual",departments:{engineering:"IngenierÃ­a",product:"Producto",design:"DiseÃ±o",marketing:"Marketing",sales:"Ventas",humanResources:"Recursos Humanos",finance:"Finanzas",operations:"Operaciones",analytics:"AnalÃ­tica"}},entryBooks:{title:"Libros de Entrada",bookName:"Nombre del Libro",bookType:"Tipo de Libro",createBook:"Crear Libro",editBook:"Editar Libro",salesBook:"Libro de Ventas",purchaseBook:"Libro de Compras",cashBook:"Libro de Caja",generalBook:"Libro General",entries:"Entradas",addEntry:"Agregar Entrada",period:"PerÃ­odo",startDate:"Fecha de Inicio",endDate:"Fecha de Fin",bookBalance:"Saldo del Libro",reconciledBalance:"Saldo Conciliado",difference:"Diferencia",reconcile:"Conciliar",isReconciled:"EstÃ¡ Conciliado",noBooks:"No se encontraron libros de entrada",createFirst:"Crea tu primer libro de entrada para comenzar",bookDetails:"Detalles del Libro",entriesCount:"entradas",bookOverview:"Resumen y detalles del libro",bookEntries:"Entradas del Libro",allEntries:"Todas las entradas en este libro",noEntries:"No se encontraron entradas",addFirst:"Agrega tu primera entrada a este libro",entryDate:"Fecha de Entrada",entryDescription:"DescripciÃ³n de Entrada",entryAmount:"Monto de Entrada",entryReference:"Referencia de Entrada"},banking:{title:"ConsolidaciÃ³n Bancaria",bankAccount:"Cuenta Bancaria",statementDate:"Fecha del Estado",beginningBalance:"Saldo Inicial",endingBalance:"Saldo Final",deposits:"DepÃ³sitos",withdrawals:"Retiros",bankCharges:"Cargos Bancarios",interest:"Intereses",reconcile:"Conciliar",matched:"Conciliado",unmatched:"No Conciliado",importStatement:"Importar Estado",manualEntry:"Entrada Manual",autoMatch:"Coincidencia AutomÃ¡tica",clearAll:"Limpiar Todo",reconciliationStatus:"Estado de ConciliaciÃ³n",difference:"Diferencia",bookBalance:"Saldo en Libros",statementBalance:"Saldo del Estado",outstandingChecks:"Cheques Pendientes",depositsInTransit:"DepÃ³sitos en TrÃ¡nsito",reconciled:"Conciliado",notReconciled:"No Conciliado",unreconciled:"No Conciliado",reconciliation:"ConciliaciÃ³n",compareStatements:"Comparar estados bancarios con registros de libros de entrada",importCSV:"Importar CSV",startNewReconciliation:"Iniciar Nueva ConciliaciÃ³n",bankAccountInfo:"InformaciÃ³n de Cuenta Bancaria",currentAccountDetails:"Detalles de cuenta actual",lastReconciled:"Ãšltima conciliaciÃ³n",bankTransactions:"Transacciones Bancarias",selectedPeriod:"PerÃ­odo seleccionado",pending:"pendiente",bookEntriesForComparison:"Entradas de libros para comparaciÃ³n",reconciliationRate:"Tasa de ConciliaciÃ³n",completionStatus:"Estado de finalizaciÃ³n",recentReconciliationSessions:"Sesiones de ConciliaciÃ³n Recientes",latestActivity:"Actividad reciente",noRecentSessions:"No se encontraron sesiones de conciliaciÃ³n recientes.",startFirstReconciliation:"Iniciar Primera ConciliaciÃ³n",entryBookRecords:"Registros de Libros de Entrada",pleaseUploadCSV:"Por favor suba un archivo CSV",csvRequiresHeaderAndData:"El archivo CSV debe tener al menos un encabezado y una fila de datos",successfullyParsed:"Se analizaron exitosamente {count} filas",errorParsingCSV:"Error al analizar el archivo CSV. Verifique el formato.",dateDescriptionRequired:"Las columnas de Fecha y DescripciÃ³n son requeridas",importedTransaction:"TransacciÃ³n importada",successfullyImported:"Se importaron exitosamente {count} transacciones bancarias",errorImportingTransactions:"Error al importar transacciones. Verifique sus datos.",importBankStatementCSV:"Importar CSV de Estado Bancario",dropCSVHere:"Suelte el archivo CSV aquÃ­",clickToUploadCSV:"Haga clic para cargar o arrastre y suelte el archivo CSV",supportedFormat:"Formato soportado: CSV con columnas de Fecha, DescripciÃ³n y Monto",mapCSVColumns:"Mapear Columnas CSV",dateColumn:"Columna de Fecha",selectColumn:"Seleccionar columna...",descriptionColumn:"Columna de DescripciÃ³n",referenceColumn:"Columna de Referencia",amountDebitColumn:"Columna de Monto/DÃ©bito",creditColumn:"Columna de CrÃ©dito",balanceColumn:"Columna de Saldo",andMoreRows:"... y {count} filas mÃ¡s",importing:"Importando...",importTransactions:"Importar {count} Transacciones",reconciliationComparison:"ComparaciÃ³n de ConciliaciÃ³n",bankStatements:"Estados Bancarios",totalTransactions:"Transacciones totales",totalEntries:"Entradas totales",unreconciledBank:"Banco No Conciliado",unreconciledBooks:"Libros No Conciliados",needAttention:"Necesitan atenciÃ³n",unreconcile:"Desconciliar",clickToReconcile:"Hacer clic para conciliar",potentialMatchesFound:"Coincidencias Potenciales Encontradas",clickRecordToReconcile:"Haga clic en un registro a continuaciÃ³n para conciliar",exactMatch:"Coincidencia Exacta",possibleMatch:"Posible Coincidencia",selected:"Seleccionado",clearSelection:"Limpiar SelecciÃ³n"},journal:{title:"Asientos Contables",entryNumber:"NÃºmero de Asiento",entryDate:"Fecha del Asiento",debit:"DÃ©bito",credit:"CrÃ©dito",account:"Cuenta",memo:"Memo",reference:"Referencia",createEntry:"Crear Asiento",editEntry:"Editar Asiento",deleteEntry:"Eliminar Asiento",posted:"Registrado",draft:"Borrador",reversed:"Revertido",recurringEntry:"Asiento Recurrente",attachments:"Adjuntos",totalDebits:"DÃ©bitos Totales",totalCredits:"CrÃ©ditos Totales",outOfBalance:"Desbalanceado",balanced:"Balanceado"},forms:{requiredField:"Este campo es requerido",invalidEmail:"DirecciÃ³n de correo invÃ¡lida",invalidNumber:"NÃºmero invÃ¡lido",invalidDate:"Fecha invÃ¡lida",selectOption:"Por favor seleccione una opciÃ³n",enterValue:"Por favor ingrese un valor",confirmDelete:"Â¿EstÃ¡ seguro de que desea eliminar este elemento?",unsavedChanges:"Tiene cambios sin guardar. Â¿Desea continuar?",saveSuccess:"Guardado exitosamente",saveError:"Error al guardar datos",deleteSuccess:"Eliminado exitosamente",deleteError:"Error al eliminar elemento",duplicateAccountNumber:"El nÃºmero de cuenta ya existe"},modals:{addInventory:"Agregar Movimiento de Inventario",bulkMovement:"Movimiento Masivo de Inventario",addProduct:"Agregar Nuevo Producto",addLocation:"Agregar Nueva UbicaciÃ³n",inventoryDetail:"Detalles del ArtÃ­culo de Inventario",quickAdd:"Agregar RÃ¡pido",selectProduct:"Seleccionar Producto",selectLocation:"Seleccionar UbicaciÃ³n",enterQuantity:"Ingresar cantidad",enterCost:"Ingresar costo unitario",enterReference:"Ingresar nÃºmero de referencia",addNotes:"Agregar notas (opcional)",generalInformation:"InformaciÃ³n General",stockInformation:"InformaciÃ³n de Stock",locationInformation:"InformaciÃ³n de UbicaciÃ³n",movementInformation:"InformaciÃ³n de Movimiento",addToInventory:"Agregar al Inventario",createProduct:"Crear Producto",createLocation:"Crear UbicaciÃ³n",processing:"Procesando...",addingMovement:"Agregando movimiento...",creatingProduct:"Creando producto...",creatingLocation:"Creando ubicaciÃ³n..."},products:{title:"Productos",addNew:"Agregar Nuevo Producto",totalProducts:"Total de Productos",inCatalog:"En catÃ¡logo",activeProducts:"Productos Activos",currentlyAvailable:"Actualmente disponibles",outOfStock:"Sin Stock",needsRestock:"Necesita reabastecimiento",productCatalog:"CatÃ¡logo de Productos",manageYourProducts:"Gestiona tus productos y precios",inStock:"En Stock",furniture:"Muebles",electronics:"ElectrÃ³nicos",supplies:"Suministros",lighting:"IluminaciÃ³n"},invoices:{title:"Facturas",createNew:"Crear Nueva Factura",totalOutstanding:"Total Pendiente",unpaidInvoices:"Facturas no pagadas",thisMonth:"Este Mes",revenueCollected:"Ingresos recaudados",overdue:"Vencidas",pastDueInvoices:"Facturas vencidas",recentInvoices:"Facturas Recientes",latestBillingActivity:"Actividad de facturaciÃ³n reciente",paid:"Pagado",pending:"Pendiente"}}},ka=()=>{if(typeof window<"u"){const t=localStorage.getItem("hrmfinance-language");if(t&&["en","es"].includes(t))return t}return"en"},[io,Aa]=te(ka()),Qe=()=>({t:(i,a,s)=>{const l=io(),c=i.split(".");let d=wa[l];for(const g of c)if(d&&typeof d=="object"&&g in d)d=d[g];else return a||i;let y=typeof d=="string"?d:a||i;return s&&typeof y=="string"&&Object.keys(s).forEach(g=>{const I=s[g],L=`{{${g}}}`;y=y.replace(new RegExp(L,"g"),String(I))}),y},language:()=>io(),setLanguage:i=>{Aa(i),typeof window<"u"&&localStorage.setItem("hrmfinance-language",i)}});var Ia=k("<div><label></label><select><option value>"),Ea=k("<span>*"),La=k("<option>");const Lt=t=>{const{t:e}=Qe(),n={display:"block","font-weight":"500","margin-bottom":"0.5rem",color:"var(--text-primary)"},i={width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem","font-family":"inherit",background:"var(--surface-color)",color:"var(--text-primary)",transition:"border-color 0.2s ease"},a={"margin-bottom":"1rem"};return(()=>{var s=Ia(),l=s.firstChild,c=l.nextSibling,d=c.firstChild;return o(s,a),o(l,n),r(l,()=>t.label,null),r(l,(()=>{var y=z(()=>!!t.required);return()=>y()&&(()=>{var g=Ea();return g.style.setProperty("color","var(--primary-color)"),g})()})(),null),c.addEventListener("blur",y=>y.target.style.borderColor="var(--border-color)"),c.addEventListener("focus",y=>y.target.style.borderColor="var(--primary-color)"),c.addEventListener("change",y=>t.onChange(y.target.value)),o(c,i),r(d,()=>e("forms.selectOption")),r(c,()=>t.options.map(y=>(()=>{var g=La();return r(g,()=>y.label),T(()=>g.value=y.value),g})()),null),T(y=>{var g=t.required,I=t.disabled;return g!==y.e&&(c.required=y.e=g),I!==y.t&&(c.disabled=y.t=I),y},{e:void 0,t:void 0}),T(()=>c.value=t.value),s})()};var Da=k("<div><span>:</span><select><option value=en>ðŸ‡ºðŸ‡¸ </option><option value=es>ðŸ‡ªðŸ‡¸ ");const Na=()=>{const{t,language:e,setLanguage:n}=Qe(),i={display:"flex","align-items":"center",gap:"0.5rem","margin-left":"auto"},a={padding:"0.5rem 1rem","border-radius":"var(--border-radius-sm)",border:"1px solid var(--border-color)",background:"var(--surface-color)",color:"var(--text-primary)",cursor:"pointer","font-size":"0.875rem","font-weight":"500",transition:"all 0.2s ease","min-width":"120px"},s={"font-weight":"500",color:"var(--text-muted)","font-size":"0.875rem"},l=c=>{const d=c.target;n(d.value)};return(()=>{var c=Da(),d=c.firstChild,y=d.firstChild,g=d.nextSibling,I=g.firstChild;I.firstChild;var L=I.nextSibling;return L.firstChild,o(c,i),o(d,s),r(d,()=>t("common.language"),y),g.addEventListener("change",l),o(g,a),r(I,()=>t("common.english"),null),r(L,()=>t("common.spanish"),null),T(()=>g.value=e()),c})()};var Ta=k("<main><div>"),Ba=k("<header><h1>");const Yt=t=>{const e={"min-height":"100vh",background:"var(--background-color)"},n={"max-width":"1200px",margin:"0 auto",padding:"2rem"},i={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"2rem"},a={"font-size":"2rem","font-weight":"700",color:"var(--text-primary)",margin:"0"};return(()=>{var s=Ta(),l=s.firstChild;return o(s,e),o(l,n),r(l,(()=>{var c=z(()=>!!t.title);return()=>c()&&(()=>{var d=Ba(),y=d.firstChild;return o(d,i),o(y,a),r(y,()=>t.title),r(d,u(Na,{}),null),d})()})(),null),r(l,()=>t.children,null),s})()};var Ma=k(`<nav><div><div></div></div><style>
        .nav-active {
          background: linear-gradient(135deg, var(--primary-color), var(--primary-dark)) !important;
          color: white !important;
          box-shadow: var(--shadow-sm);
        }
        
        nav a:hover:not(.nav-active) {
          background: var(--background-color);
          color: var(--text-primary);
        }
        
        @media (max-width: 768px) {
          nav div:first-child {
            flex-direction: column;
            gap: 1rem;
            padding: 1rem;
          }
          
          nav div:last-child {
            flex-wrap: wrap;
            justify-content: center;
          }
        }
      `);const Ra=()=>{const{t}=Qe(),e={background:"var(--surface-color)","border-bottom":"1px solid var(--border-color)","box-shadow":"var(--shadow-sm)","backdrop-filter":"blur(10px)",position:"sticky",top:"0","z-index":"100"},n={display:"flex","align-items":"center","justify-content":"space-between",padding:"1rem 2rem","max-width":"1200px",margin:"0 auto"},i={"font-size":"1.5rem","font-weight":"700",color:"var(--primary-color)","text-decoration":"none","margin-right":"2rem"},a={display:"flex",gap:"0.5rem","align-items":"center"},s={"text-decoration":"none",color:"var(--text-secondary)",padding:"0.5rem 1rem","border-radius":"var(--border-radius-sm)","font-weight":"500","font-size":"0.875rem",transition:"all 0.2s ease","white-space":"nowrap"};return(()=>{var l=Ma(),c=l.firstChild,d=c.firstChild;return o(c,n),r(c,u(tr,{href:"/",style:i,children:"HRM Finance"}),d),o(d,a),r(d,u(tr,{href:"/",style:s,activeClass:"nav-active",get children(){return t("navigation.dashboard")}}),null),r(d,u(tr,{href:"/accounts",style:s,activeClass:"nav-active",get children(){return t("navigation.accounts")}}),null),r(d,u(tr,{href:"/entry-books",style:s,activeClass:"nav-active",get children(){return t("navigation.entryBooks")}}),null),r(d,u(tr,{href:"/employees",style:s,activeClass:"nav-active",get children(){return t("navigation.employees")}}),null),r(d,u(tr,{href:"/bank-consolidations",style:s,activeClass:"nav-active",get children(){return t("navigation.consolidate")}}),null),r(d,u(tr,{href:"/balance-sheet",style:s,activeClass:"nav-active",get children(){return t("navigation.balanceSheet")}}),null),r(d,u(tr,{href:"/inventory",style:s,activeClass:"nav-active",get children(){return t("navigation.inventory")}}),null),T(y=>o(l,e,y)),l})()};var Oa=k('<button title="Open Dev Tools">ðŸ› ï¸'),ja=k("<span>(<!>)"),za=k("<div><span></span><span>"),ao=k("<div>"),Fa=k("<div>Database reset only available in fake mode"),qa=k("<div><div>Loading..."),Ua=k("<div><div><h3>ðŸ› ï¸ Dev Tools</h3><button>âœ•</button></div><div><div>API Mode</div><div><button>Fake Server</button><button>Real API</button><button>Hybrid</button></div><div>Current: <strong></strong></div></div><div><div>Health Status</div></div><div><div>Database Stats</div></div><div><div>Actions</div><div><button>ðŸ”„ Refresh Stats</button><button>ðŸ’Š Health Check</button></div><div><button>ðŸ—‘ï¸ Reset DB</button></div></div><div><div>Info</div><div>â€¢ <strong>Fake Server:</strong> Uses local mock data<br>â€¢ <strong>Real API:</strong> Connects to actual backend<br>â€¢ <strong>Hybrid:</strong> Real API with fake fallback<br>â€¢ Settings are saved in localStorage"),Va=k("<div>Loading..."),Ya=k("<div><span>:</span><span>");const Wa=()=>{const[t,e]=te(!1),[n,i]=te(qr.getMode()),[a,s]=te({}),[l,c]=te(null),[d,y]=te(!1);sr(async()=>{await g(),await I()});const g=async()=>{try{const le=await no.getStats();s(le)}catch(le){console.error("Failed to load stats:",le)}},I=async()=>{try{const le=await no.healthCheck();c(le)}catch(le){console.error("Health check failed:",le),c({status:"error",error:le.message})}},L=async le=>{y(!0);try{qr.setMode(le),i(le),await g(),await I()}catch(de){console.error("Failed to change API mode:",de)}finally{y(!1)}},E=async()=>{if(confirm("Are you sure you want to reset the fake database to its initial state?")){y(!0);try{const le=await Rt.utils.resetDatabase();alert(le.message),await g()}catch(le){console.error("Failed to reset database:",le),alert("Failed to reset database")}finally{y(!1)}}},$={position:"fixed",bottom:"20px",right:"20px","z-index":"10000","font-family":"monospace"},S={background:"#1a1a1a",color:"#fff",border:"1px solid #333","border-radius":"8px",padding:"16px","min-width":"300px","max-width":"400px","box-shadow":"0 4px 20px rgba(0,0,0,0.3)"},C={background:"#007acc",color:"#fff",border:"none","border-radius":"50%",width:"50px",height:"50px",cursor:"pointer","font-size":"20px","box-shadow":"0 2px 10px rgba(0,0,0,0.2)",display:"flex","align-items":"center","justify-content":"center"},b={background:"#333",color:"#fff",border:"1px solid #555","border-radius":"4px",padding:"6px 12px",cursor:"pointer","font-size":"12px","margin-right":"8px","margin-bottom":"8px"},M={...b,background:"#007acc","border-color":"#007acc"},H={"margin-bottom":"16px","padding-bottom":"12px","border-bottom":"1px solid #333"},R={"font-size":"14px","font-weight":"bold","margin-bottom":"8px",color:"#007acc"},G={display:"flex","justify-content":"space-between","font-size":"12px","margin-bottom":"4px"},Y=le=>({display:"inline-block",width:"8px",height:"8px","border-radius":"50%","margin-right":"8px",background:le==="healthy"?"#00ff00":le==="error"?"#ff0000":"#ffff00"});return(()=>{var le=ao();return r(le,u(Ge,{get when(){return!t()},get children(){var de=Oa();return de.$$click=()=>e(!0),o(de,C),de}}),null),r(le,u(Ge,{get when(){return t()},get children(){var de=Ua(),me=de.firstChild,ne=me.firstChild,Z=ne.nextSibling,X=me.nextSibling,p=X.firstChild,oe=p.nextSibling,_=oe.firstChild,m=_.nextSibling,D=m.nextSibling,v=oe.nextSibling,x=v.firstChild,h=x.nextSibling,w=X.nextSibling,ie=w.firstChild,P=w.nextSibling,A=P.firstChild,j=P.nextSibling,q=j.firstChild,re=q.nextSibling,W=re.firstChild,F=W.nextSibling,ae=re.nextSibling,N=ae.firstChild,J=j.nextSibling,fe=J.firstChild,he=fe.nextSibling;return o(de,S),me.style.setProperty("display","flex"),me.style.setProperty("justify-content","space-between"),me.style.setProperty("align-items","center"),me.style.setProperty("margin-bottom","16px"),ne.style.setProperty("margin","0"),ne.style.setProperty("color","#007acc"),ne.style.setProperty("font-size","16px"),Z.$$click=()=>e(!1),_.$$click=()=>L("fake"),m.$$click=()=>L("real"),D.$$click=()=>L("hybrid"),v.style.setProperty("font-size","11px"),v.style.setProperty("color","#888"),v.style.setProperty("margin-top","4px"),r(h,n),r(v,()=>n()==="fake"&&" (Using fake server)",null),r(v,()=>n()==="real"&&" (Using real API)",null),r(v,()=>n()==="hybrid"&&" (Real API with fallback)",null),r(w,u(Ge,{get when(){return l()},get fallback(){return(()=>{var ee=Va();return ee.style.setProperty("font-size","12px"),ee})()},get children(){return[(()=>{var ee=za(),Q=ee.firstChild,se=Q.nextSibling;return ee.style.setProperty("display","flex"),ee.style.setProperty("align-items","center"),ee.style.setProperty("font-size","12px"),r(se,()=>l()?.status||"Unknown"),r(ee,u(Ge,{get when(){return l()?.timestamp},get children(){var K=ja(),O=K.firstChild,ge=O.nextSibling;return ge.nextSibling,K.style.setProperty("margin-left","8px"),K.style.setProperty("color","#888"),r(K,()=>new Date(l().timestamp).toLocaleTimeString(),ge),K}}),null),T(K=>o(Q,Y(l()?.status||"unknown"),K)),ee})(),u(Ge,{get when(){return l()?.error},get children(){var ee=ao();return ee.style.setProperty("font-size","11px"),ee.style.setProperty("color","#ff6666"),ee.style.setProperty("margin-top","4px"),r(ee,()=>l().error),ee}})]}}),null),r(P,u(mt,{get each(){return Object.entries(a())},children:([ee,Q])=>(()=>{var se=Ya(),K=se.firstChild,O=K.firstChild,ge=K.nextSibling;return o(se,G),K.style.setProperty("text-transform","capitalize"),r(K,ee,O),ge.style.setProperty("color","#00ff00"),r(ge,Q),se})()}),null),W.$$click=g,F.$$click=I,ae.style.setProperty("margin-top","8px"),N.$$click=E,r(j,u(Ge,{get when(){return n()!=="fake"},get children(){var ee=Fa();return ee.style.setProperty("font-size","11px"),ee.style.setProperty("color","#888"),ee.style.setProperty("margin-top","4px"),ee}}),null),he.style.setProperty("font-size","11px"),he.style.setProperty("color","#888"),he.style.setProperty("line-height","1.4"),r(de,u(Ge,{get when(){return d()},get children(){var ee=qa(),Q=ee.firstChild;return ee.style.setProperty("position","absolute"),ee.style.setProperty("top","0"),ee.style.setProperty("left","0"),ee.style.setProperty("right","0"),ee.style.setProperty("bottom","0"),ee.style.setProperty("background","rgba(0,0,0,0.7)"),ee.style.setProperty("display","flex"),ee.style.setProperty("align-items","center"),ee.style.setProperty("justify-content","center"),ee.style.setProperty("border-radius","8px"),Q.style.setProperty("color","#fff"),Q.style.setProperty("font-size","14px"),ee}}),null),T(ee=>{var Q={...b,padding:"4px 8px"},se=H,K=R,O=n()==="fake"?M:b,ge=d(),pe=n()==="real"?M:b,B=d(),V=n()==="hybrid"?M:b,Pe=d(),ye=H,ce=R,U=H,f=R,ue=H,_e=R,$e=b,xe=d(),we=b,Re=d(),Ie={...b,background:"#cc4400","border-color":"#cc4400"},ve=d()||n()!=="fake",ke=R;return ee.e=o(Z,Q,ee.e),ee.t=o(X,se,ee.t),ee.a=o(p,K,ee.a),ee.o=o(_,O,ee.o),ge!==ee.i&&(_.disabled=ee.i=ge),ee.n=o(m,pe,ee.n),B!==ee.s&&(m.disabled=ee.s=B),ee.h=o(D,V,ee.h),Pe!==ee.r&&(D.disabled=ee.r=Pe),ee.d=o(w,ye,ee.d),ee.l=o(ie,ce,ee.l),ee.u=o(P,U,ee.u),ee.c=o(A,f,ee.c),ee.w=o(j,ue,ee.w),ee.m=o(q,_e,ee.m),ee.f=o(W,$e,ee.f),xe!==ee.y&&(W.disabled=ee.y=xe),ee.g=o(F,we,ee.g),Re!==ee.p&&(F.disabled=ee.p=Re),ee.b=o(N,Ie,ee.b),ve!==ee.T&&(N.disabled=ee.T=ve),ee.A=o(fe,ke,ee.A),ee},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0}),de}}),null),T(de=>o(le,$,de)),le})()};vt(["click"]);var Ha=k("<div>$124,350"),Ga=k("<div>+12% from last month"),Ja=k("<div>247"),Cr=k("<div>"),Qa=k("<div>18"),Ka=k("<div>$89,250"),Za=k("<div><div><div></div><div></div></div><div><div></div><div></div></div><div><div></div><div>");const Xa=()=>{const{t}=Qe(),e={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"},n={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem"},i={"font-size":"2rem","font-weight":"700",color:"var(--primary-color)",margin:"0.5rem 0"},a={"font-size":"0.875rem",color:"var(--text-muted)","text-transform":"uppercase","letter-spacing":"0.5px"};return u(Yt,{get title(){return t("dashboard.title")},get children(){return[(()=>{var s=Cr();return o(s,e),r(s,u(je,{get title(){return t("dashboard.totalRevenue")},get subtitle(){return t("dashboard.overview")},get children(){return[(()=>{var l=Ha();return T(c=>o(l,i,c)),l})(),(()=>{var l=Ga();return T(c=>o(l,a,c)),l})()]}}),null),r(s,u(je,{get title(){return t("dashboard.employeeCount")},get subtitle(){return t("dashboard.current")},get children(){return[(()=>{var l=Ja();return T(c=>o(l,i,c)),l})(),(()=>{var l=Cr();return r(l,()=>t("dashboard.newHires")),T(c=>o(l,a,c)),l})()]}}),null),r(s,u(je,{get title(){return t("dashboard.pendingInvoices")},get subtitle(){return t("dashboard.outstanding")},get children(){return[(()=>{var l=Qa();return T(c=>o(l,i,c)),l})(),(()=>{var l=Cr();return r(l,()=>t("dashboard.totalOutstanding")),T(c=>o(l,a,c)),l})()]}}),null),r(s,u(je,{get title(){return t("dashboard.cashBalance")},get subtitle(){return t("accounts.title")},get children(){return[(()=>{var l=Ka();return T(c=>o(l,i,c)),l})(),(()=>{var l=Cr();return r(l,()=>t("dashboard.lastUpdatedToday")),T(c=>o(l,a,c)),l})()]}}),null),s})(),(()=>{var s=Cr();return o(s,n),r(s,u(je,{get title(){return t("dashboard.quickActions")},get subtitle(){return t("dashboard.commonTasks")},get children(){var l=Cr();return l.style.setProperty("display","flex"),l.style.setProperty("flex-direction","column"),l.style.setProperty("gap","1rem"),r(l,u(Ae,{variant:"primary",get children(){return t("invoices.createNew")}}),null),r(l,u(Ae,{variant:"secondary",get children(){return t("employees.addEmployee")}}),null),r(l,u(Ae,{variant:"outline",get children(){return t("dashboard.generateReport")}}),null),l}}),null),r(s,u(je,{get title(){return t("dashboard.recentActivity")},get subtitle(){return t("dashboard.latestUpdates")},get children(){var l=Za(),c=l.firstChild,d=c.firstChild,y=d.nextSibling,g=c.nextSibling,I=g.firstChild,L=I.nextSibling,E=g.nextSibling,$=E.firstChild,S=$.nextSibling;return l.style.setProperty("display","flex"),l.style.setProperty("flex-direction","column"),l.style.setProperty("gap","0.75rem"),c.style.setProperty("border-bottom","1px solid var(--border-color)"),c.style.setProperty("padding-bottom","0.5rem"),d.style.setProperty("font-weight","500"),r(d,()=>t("dashboard.invoicePaid")),y.style.setProperty("font-size","0.875rem"),y.style.setProperty("color","var(--text-muted)"),r(y,()=>t("dashboard.hoursAgo")),g.style.setProperty("border-bottom","1px solid var(--border-color)"),g.style.setProperty("padding-bottom","0.5rem"),I.style.setProperty("font-weight","500"),r(I,()=>t("dashboard.newEmployeeOnboarded")),L.style.setProperty("font-size","0.875rem"),L.style.setProperty("color","var(--text-muted)"),r(L,()=>t("dashboard.dayAgo")),$.style.setProperty("font-weight","500"),r($,()=>t("dashboard.monthlyReportGenerated")),S.style.setProperty("font-size","0.875rem"),S.style.setProperty("color","var(--text-muted)"),r(S,()=>t("dashboard.daysAgo")),l}}),null),s})()]}})},el=[{id:"1",accountNumber:"1000",name:"Cash and Cash Equivalents",type:"Asset",category:"Current Assets",description:"Cash on hand and in bank accounts",balance:45230.5,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-15"},{id:"1001",accountNumber:"1001",name:"Petty Cash",type:"Asset",category:"Current Assets",description:"Small amounts of cash for minor expenses",balance:500,isActive:!0,parentAccountId:"1",createdDate:"2024-01-01",lastModified:"2024-01-15"},{id:"1002",accountNumber:"1002",name:"Bank - Checking Account",type:"Asset",category:"Current Assets",description:"Main operating checking account",balance:32730.5,isActive:!0,parentAccountId:"1",createdDate:"2024-01-01",lastModified:"2024-01-15"},{id:"1003",accountNumber:"1003",name:"Bank - Savings Account",type:"Asset",category:"Current Assets",description:"Interest-bearing savings account",balance:12e3,isActive:!0,parentAccountId:"1",createdDate:"2024-01-01",lastModified:"2024-01-15"},{id:"2",accountNumber:"1100",name:"Accounts Receivable",type:"Asset",category:"Current Assets",description:"Money owed by customers",balance:23450.75,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-14"},{id:"2001",accountNumber:"1101",name:"Trade Receivables",type:"Asset",category:"Current Assets",description:"Receivables from regular customers",balance:18450.75,isActive:!0,parentAccountId:"2",createdDate:"2024-01-01",lastModified:"2024-01-14"},{id:"2002",accountNumber:"1102",name:"Employee Advances",type:"Asset",category:"Current Assets",description:"Money advanced to employees",balance:5e3,isActive:!0,parentAccountId:"2",createdDate:"2024-01-01",lastModified:"2024-01-14"},{id:"3",accountNumber:"1200",name:"Inventory",type:"Asset",category:"Current Assets",description:"Products held for sale",balance:78920.25,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-13"},{id:"4",accountNumber:"1500",name:"Equipment",type:"Asset",category:"Fixed Assets",description:"Office equipment and machinery",balance:125e3,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-12"},{id:"5",accountNumber:"2000",name:"Accounts Payable",type:"Liability",category:"Current Liabilities",description:"Money owed to suppliers",balance:15670.3,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-11"},{id:"6",accountNumber:"2100",name:"Accrued Expenses",type:"Liability",category:"Current Liabilities",description:"Expenses incurred but not yet paid",balance:8945.6,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-10"},{id:"7",accountNumber:"2500",name:"Long-term Debt",type:"Liability",category:"Long-term Liabilities",description:"Long-term loans and mortgages",balance:85e3,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-09"},{id:"8",accountNumber:"3000",name:"Owner's Equity",type:"Equity",category:"Owner's Equity",description:"Owner's investment in the business",balance:15e4,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-08"},{id:"9",accountNumber:"3100",name:"Retained Earnings",type:"Equity",category:"Owner's Equity",description:"Accumulated profits retained in business",balance:32450.8,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-07"},{id:"10",accountNumber:"4000",name:"Sales Revenue",type:"Revenue",category:"Operating Revenue",description:"Revenue from product sales",balance:245678.9,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-06"},{id:"11",accountNumber:"4100",name:"Service Revenue",type:"Revenue",category:"Operating Revenue",description:"Revenue from services provided",balance:89432.15,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-05"},{id:"12",accountNumber:"5000",name:"Cost of Goods Sold",type:"Expense",category:"Operating Expenses",description:"Direct costs of producing goods",balance:125678.45,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-04"},{id:"13",accountNumber:"5100",name:"Salaries Expense",type:"Expense",category:"Operating Expenses",description:"Employee salary expenses",balance:98765.32,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-03"},{id:"14",accountNumber:"5200",name:"Rent Expense",type:"Expense",category:"Operating Expenses",description:"Office rent expenses",balance:24e3,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-02"}],tl=[{id:"1",accountId:"1",date:"2024-01-15",description:"Customer payment received",debitAmount:5e3,creditAmount:0,reference:"INV-2024-001",type:"debit"},{id:"2",accountId:"2",date:"2024-01-15",description:"Customer payment received",debitAmount:0,creditAmount:5e3,reference:"INV-2024-001",type:"credit"},{id:"3",accountId:"5",date:"2024-01-14",description:"Office supplies purchased",debitAmount:0,creditAmount:1250,reference:"PO-2024-001",type:"credit"}],[Ht,Wr]=te(el),[fn,rl]=te(tl),nt={get accounts(){return Ht()},get transactions(){return fn()},fetchAllAccount(t){const e={...t,id:Date.now().toString(),createdDate:new Date().toISOString().split("T")[0],lastModified:new Date().toISOString().split("T")[0]};return Wr([...Ht(),e]),e},addAccount(t){const e={...t,id:Date.now().toString(),createdDate:new Date().toISOString().split("T")[0],lastModified:new Date().toISOString().split("T")[0]};return Wr([...Ht(),e]),e},updateAccount(t,e){Wr(Ht().map(n=>n.id===t?{...n,...e,lastModified:new Date().toISOString().split("T")[0]}:n))},deleteAccount(t){Wr(Ht().filter(e=>e.id!==t))},getAccountById(t){return Ht().find(e=>e.id===t)},getAccountsByType(t){return Ht().filter(e=>e.type===t)},getAccountTransactions(t){return fn().filter(e=>e.accountId===t)},addTransaction(t){const e={...t,id:Date.now().toString()};rl([...fn(),e]);const n=this.getAccountById(t.accountId);if(n){const i=t.type==="debit"?t.debitAmount:-t.creditAmount;this.updateAccount(t.accountId,{balance:n.balance+i})}return e},getTotalByType(t){return Ht().filter(e=>e.type===t&&e.isActive).reduce((e,n)=>e+n.balance,0)},getAccountCategories(t){const e=this.getAccountsByType(t);return[...new Set(e.map(n=>n.category))]},getSubAccounts(t){return Ht().filter(e=>e.parentAccountId===t)},getParentAccounts(){return Ht().filter(t=>!t.parentAccountId)},getAccountHierarchy(){return this.getParentAccounts().map(e=>({...e,subAccounts:this.getSubAccounts(e.id)}))},getAccountWithSubAccounts(t){const e=this.getAccountById(t);return e?{...e,subAccounts:this.getSubAccounts(t),parentAccount:e.parentAccountId?this.getAccountById(e.parentAccountId):null}:null},getAccountPath(t){const e=this.getAccountById(t);if(!e)return[];const n=[e];let i=e;for(;i.parentAccountId;){const a=this.getAccountById(i.parentAccountId);if(a)n.unshift(a),i=a;else break}return n},getTotalBalanceWithSubAccounts(t){const e=this.getAccountById(t);if(!e)return 0;const i=this.getSubAccounts(t).reduce((a,s)=>a+this.getTotalBalanceWithSubAccounts(s.id),0);return e.balance+i},canDeleteAccount(t){const e=this.getSubAccounts(t);if(e.length>0)return{canDelete:!1,reason:`Account has ${e.length} sub-account(s). Delete or move sub-accounts first.`};const n=this.getAccountTransactions(t);return n.length>0?{canDelete:!1,reason:`Account has ${n.length} transaction(s). Cannot delete account with transaction history.`}:{canDelete:!0}}};var rr=k("<div>"),Dr=k("<div> ");const nl=()=>{const{t}=Qe(),e={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"},n={"font-size":"1.5rem","font-weight":"600",color:"var(--primary-color)","margin-bottom":"0.5rem"},i={"font-size":"0.875rem",color:"var(--text-muted)"},a=S=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(S),s=nt.getTotalByType("Asset"),l=nt.getTotalByType("Liability"),c=nt.getTotalByType("Equity"),d=nt.getTotalByType("Revenue"),y=nt.getTotalByType("Expense"),g=nt.getAccountsByType("Asset").length,I=nt.getAccountsByType("Liability").length,L=nt.getAccountsByType("Equity").length,E=nt.getAccountsByType("Revenue").length,$=nt.getAccountsByType("Expense").length;return(()=>{var S=rr();return o(S,e),r(S,u(je,{get title(){return t("dashboard.totalAssets")},get subtitle(){return t("dashboard.overview")},get children(){return[(()=>{var C=rr();return r(C,()=>a(s)),T(b=>o(C,n,b)),C})(),(()=>{var C=Dr(),b=C.firstChild;return r(C,g,b),r(C,()=>t("navigation.accounts"),null),T(M=>o(C,i,M)),C})()]}}),null),r(S,u(je,{get title(){return t("dashboard.totalLiabilities")},get subtitle(){return t("dashboard.overview")},get children(){return[(()=>{var C=rr();return r(C,()=>a(l)),T(b=>o(C,n,b)),C})(),(()=>{var C=Dr(),b=C.firstChild;return r(C,I,b),r(C,()=>t("navigation.accounts"),null),T(M=>o(C,i,M)),C})()]}}),null),r(S,u(je,{get title(){return t("dashboard.totalEquity")},get subtitle(){return t("accounts.categories.ownersEquity")},get children(){return[(()=>{var C=rr();return r(C,()=>a(c)),T(b=>o(C,n,b)),C})(),(()=>{var C=Dr(),b=C.firstChild;return r(C,L,b),r(C,()=>t("navigation.accounts"),null),T(M=>o(C,i,M)),C})()]}}),null),r(S,u(je,{get title(){return t("dashboard.totalRevenue")},get subtitle(){return t("accounts.categories.operatingRevenue")},get children(){return[(()=>{var C=rr();return r(C,()=>a(d)),T(b=>o(C,n,b)),C})(),(()=>{var C=Dr(),b=C.firstChild;return r(C,E,b),r(C,()=>t("navigation.accounts"),null),T(M=>o(C,i,M)),C})()]}}),null),r(S,u(je,{get title(){return t("dashboard.totalExpenses")},get subtitle(){return t("accounts.categories.operatingExpenses")},get children(){return[(()=>{var C=rr();return r(C,()=>a(y)),T(b=>o(C,n,b)),C})(),(()=>{var C=Dr(),b=C.firstChild;return r(C,$,b),r(C,()=>t("navigation.accounts"),null),T(M=>o(C,i,M)),C})()]}}),null),r(S,u(je,{get title(){return t("dashboard.netIncome")},get subtitle(){return`${t("dashboard.totalRevenue")} - ${t("dashboard.totalExpenses")}`},get children(){return[(()=>{var C=rr();return r(C,()=>a(d-y)),T(b=>o(C,{...n,color:d-y>=0?"#4caf50":"#f44336"},b)),C})(),(()=>{var C=rr();return r(C,()=>d-y>=0?t("dashboard.netIncome"):t("dashboard.netLoss")),T(b=>o(C,i,b)),C})()]}}),null),S})()};var ol=k("<div><div></div><div>"),il=k("<h3>"),Nr=k("<div>");const al=t=>{const{t:e}=Qe();Wn();const n={display:"flex","justify-content":"flex-end","margin-top":"1rem","padding-top":"1rem","border-top":"1px solid var(--border-color)"},i={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"1rem"},a={"font-size":"0.875rem","font-weight":"600",color:"var(--text-muted)","text-transform":"uppercase","letter-spacing":"0.5px"},s={padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500","text-transform":"uppercase","letter-spacing":"0.5px"},l={"font-size":"1.5rem","font-weight":"600",color:"var(--primary-color)","margin-bottom":"0.5rem"},c={"font-size":"0.875rem",color:"var(--text-muted)","margin-bottom":"0.5rem"},d={"font-size":"0.875rem",color:"var(--text-secondary)","line-height":"1.4"},y=L=>({Asset:{bg:"#e8f5e8",color:"#2d7d32"},Liability:{bg:"#fff3e0",color:"#f57c00"},Equity:{bg:"#e3f2fd",color:"#1976d2"},Revenue:{bg:"#e8f5e8",color:"#388e3c"},Expense:{bg:"#ffebee",color:"#d32f2f"}})[L]||{bg:"#f5f5f5",color:"#666"},g=L=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(L),I=y(t.account.type);return u(je,{get children(){return[(()=>{var L=ol(),E=L.firstChild,$=E.nextSibling;return o(L,i),o(E,a),r(E,()=>t.account.accountNumber),r($,()=>e(`accounts.types.${t.account.type.toLowerCase()}`)),T(S=>o($,{...s,background:I.bg,color:I.color},S)),L})(),(()=>{var L=il();return L.style.setProperty("margin","0 0 0.5rem 0"),L.style.setProperty("font-size","1.1rem"),r(L,()=>t.account.name),L})(),(()=>{var L=Nr();return o(L,c),r(L,()=>t.account.category),L})(),(()=>{var L=Nr();return o(L,l),r(L,()=>g(t.account.balance)),L})(),(()=>{var L=Nr();return o(L,d),r(L,()=>t.account.description),L})(),z(()=>z(()=>!t.account.isActive)()&&(()=>{var L=Nr();return L.style.setProperty("margin-top","0.5rem"),L.style.setProperty("padding","0.25rem 0.75rem"),L.style.setProperty("border-radius","9999px"),L.style.setProperty("font-size","0.75rem"),L.style.setProperty("font-weight","500"),L.style.setProperty("background","#ffebee"),L.style.setProperty("color","#d32f2f"),L.style.setProperty("text-align","center"),r(L,()=>e("common.inactive")),L})()),(()=>{var L=Nr();return o(L,n),r(L,u(Ae,{variant:"primary",size:"sm",onClick:()=>t.onViewDetails?.(t.account),get children(){return[z(()=>e("common.view"))," ",z(()=>e("accounts.accountDetails"))]}})),L})()]}})};var ll=k("<div><div><div><div></div><h3></h3></div></div><div><div></div><div>"),sl=k("<div>"),cl=k("<button>"),dl=k("<div><h4> (<!>)"),ul=k("<div><div><div></div><div> â€¢ </div></div><div>");const yl=t=>{const{t:e}=Qe(),n=Wn(),[i,a]=te(!0),s={"margin-bottom":"1rem"},l={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"1rem"},c={display:"flex","align-items":"center",gap:"1rem"},d={background:"none",border:"none",cursor:"pointer","font-size":"1.2rem",color:"var(--text-muted)",padding:"0.25rem","border-radius":"var(--border-radius-sm)",transition:"all 0.2s ease"},y={"font-size":"0.875rem","font-weight":"600",color:"var(--text-muted)","text-transform":"uppercase"},g={"font-size":"1.1rem","font-weight":"600",color:"var(--text-primary)",margin:"0"},I={"font-size":"1.25rem","font-weight":"600",color:"var(--primary-color)"},L={padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500","text-transform":"uppercase","letter-spacing":"0.5px"},E={"margin-left":"1rem","border-left":"2px solid var(--border-color)","padding-left":"1rem","margin-top":"1rem"},$={display:"flex","justify-content":"space-between","align-items":"center",padding:"0.75rem","margin-bottom":"0.5rem",background:"var(--background-color)","border-radius":"var(--border-radius-sm)",border:"1px solid var(--border-color)",cursor:"pointer",transition:"all 0.2s ease"},S={flex:"1"},C={"font-weight":"500","margin-bottom":"0.25rem"},b={"font-size":"0.875rem",color:"var(--text-muted)"},M={"font-weight":"600",color:"var(--primary-color)"},H={display:"flex",gap:"0.5rem"},R=ne=>({Asset:{bg:"#e8f5e8",color:"#2d7d32"},Liability:{bg:"#fff3e0",color:"#f57c00"},Equity:{bg:"#e3f2fd",color:"#1976d2"},Revenue:{bg:"#e8f5e8",color:"#388e3c"},Expense:{bg:"#ffebee",color:"#d32f2f"}})[ne]||{bg:"#f5f5f5",color:"#666"},G=ne=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(ne),Y=ne=>{t.onViewDetails?t.onViewDetails(ne):n(`/accounts/${ne.id}`)},le=()=>{t.onAddSubAccount&&t.onAddSubAccount(t.account)},de=t.account.balance+t.account.subAccounts.reduce((ne,Z)=>ne+Z.balance,0),me=R(t.account.type);return u(je,{className:"account-hierarchy-card",style:s,get children(){return[(()=>{var ne=ll(),Z=ne.firstChild,X=Z.firstChild,p=X.firstChild,oe=p.nextSibling,_=Z.nextSibling,m=_.firstChild,D=m.nextSibling;return o(ne,l),o(Z,c),r(Z,(()=>{var v=z(()=>t.account.subAccounts.length>0);return()=>v()&&(()=>{var x=cl();return x.addEventListener("mouseleave",h=>h.target.style.background="none"),x.addEventListener("mouseenter",h=>h.target.style.background="var(--background-color)"),x.$$click=()=>a(!i()),o(x,d),r(x,()=>i()?"â–¼":"â–¶"),x})()})(),X),X.$$click=()=>Y(t.account),X.style.setProperty("cursor","pointer"),o(p,y),r(p,()=>t.account.accountNumber),o(oe,g),r(oe,()=>t.account.name),_.style.setProperty("text-align","right"),o(m,I),r(m,()=>G(de)),r(D,()=>e(`accounts.types.${t.account.type.toLowerCase()}`)),T(v=>o(D,{...L,background:me.bg,color:me.color},v)),ne})(),(()=>{var ne=sl();return o(ne,H),r(ne,u(Ae,{variant:"secondary",size:"sm",onClick:()=>Y(t.account),get children(){return[z(()=>e("common.view"))," ",z(()=>e("accounts.accountDetails"))]}}),null),r(ne,u(Ae,{variant:"outline",size:"sm",onClick:le,get children(){return[z(()=>e("common.add"))," ",z(()=>e("accounts.subAccounts"))]}}),null),ne})(),z(()=>z(()=>!!(i()&&t.account.subAccounts.length>0))()&&(()=>{var ne=dl(),Z=ne.firstChild,X=Z.firstChild,p=X.nextSibling;return p.nextSibling,o(ne,E),Z.style.setProperty("margin","0 0 1rem 0"),Z.style.setProperty("font-size","1rem"),Z.style.setProperty("color","var(--text-muted)"),r(Z,()=>e("accounts.subAccounts"),X),r(Z,()=>t.account.subAccounts.length,p),r(ne,()=>t.account.subAccounts.map(oe=>(()=>{var _=ul(),m=_.firstChild,D=m.firstChild,v=D.nextSibling,x=v.firstChild,h=m.nextSibling;return _.addEventListener("mouseleave",w=>{w.currentTarget.style.background="var(--background-color)",w.currentTarget.style.transform="translateY(0)"}),_.addEventListener("mouseenter",w=>{w.currentTarget.style.background="var(--surface-color)",w.currentTarget.style.transform="translateY(-1px)"}),_.$$click=()=>Y(oe),o(_,$),o(m,S),o(D,C),r(D,()=>oe.name),o(v,b),r(v,()=>oe.accountNumber,x),r(v,()=>oe.description,null),o(h,M),r(h,()=>G(oe.balance)),_})()),null),ne})())]}})};vt(["click"]);var ml=k("<form><div>");const vl=t=>{const{t:e}=Qe(),[n,i]=te({accountNumber:"",name:"",type:"",category:"",description:"",balance:"0",isActive:"true"}),a=[{value:"Asset",label:e("accounts.types.asset"),type:"debit",classification:"real"},{value:"Liability",label:e("accounts.types.liability"),type:"credit",classification:"real"},{value:"Equity",label:e("accounts.types.equity"),type:"credit",classification:"real"},{value:"Revenue",label:e("accounts.types.revenue"),type:"credit",classification:"nominal"},{value:"Expense",label:e("accounts.types.expense"),type:"debit",classification:"nominal"}],s=()=>{const g=n().type;return g?{Asset:[{value:"Current Assets",label:e("accounts.categories.currentAssets")},{value:"Fixed Assets",label:e("accounts.categories.fixedAssets")}],Liability:[{value:"Current Liabilities",label:e("accounts.categories.currentLiabilities")},{value:"Long-term Liabilities",label:e("accounts.categories.longTermLiabilities")}],Equity:[{value:"Owner's Equity",label:e("accounts.categories.ownersEquity")}],Revenue:[{value:"Operating Revenue",label:e("accounts.categories.operatingRevenue")},{value:"Sales Revenue",label:e("accounts.categories.salesRevenue")},{value:"Service Revenue",label:e("accounts.categories.servicesRevenue")},{value:"Subscription Revenue",label:e("accounts.categories.subscriptionRevenue")},{value:"Rental Revenue",label:e("accounts.categories.rentalRevenue")},{value:"Commission Revenue",label:e("accounts.categories.commissionRevenue")},{value:"Franchise Revenue",label:e("accounts.categories.franchiseRevenue")},{value:"Licensing Revenue",label:e("accounts.categories.licensingRevenue")}],Expense:[{value:"Operating Expenses",label:e("accounts.categories.operatingExpenses")}]}[g]||[]:[]},l=[{value:"true",label:e("common.active")},{value:"false",label:e("common.inactive")}],c={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},d=g=>{g.preventDefault();const I=n();if(!I.accountNumber||!I.name||!I.type||!I.category){alert(e("forms.requiredField"));return}if(nt.accounts.find($=>$.accountNumber===I.accountNumber)){alert(e("forms.duplicateAccountNumber"));return}const E={accountNumber:I.accountNumber,name:I.name,type:I.type,category:I.category,description:I.description,balance:parseFloat(I.balance)||0,isActive:I.isActive==="true"};nt.addAccount(E),i({accountNumber:"",name:"",type:"",category:"",description:"",balance:"0",isActive:"true"}),t.onClose()},y=(g,I)=>{i(L=>{const E={...L,[g]:I};return g==="type"&&(E.category=""),E})};return u(It,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return e("accounts.addAccount")},get children(){var g=ml(),I=g.firstChild;return g.addEventListener("submit",d),r(g,u(st,{get label(){return e("accounts.accountNumber")},get value(){return n().accountNumber},onChange:L=>y("accountNumber",L),get placeholder(){return e("accounts.accountNumber")},required:!0}),I),r(g,u(st,{get label(){return e("accounts.accountName")},get value(){return n().name},onChange:L=>y("name",L),get placeholder(){return e("accounts.accountName")},required:!0}),I),r(g,u(Lt,{get label(){return e("accounts.accountType")},get value(){return n().type},onChange:L=>y("type",L),options:a,required:!0}),I),r(g,u(Lt,{get label(){return e("accounts.category")},get value(){return n().category},onChange:L=>y("category",L),get options(){return s()},required:!0}),I),r(g,u(st,{get label(){return e("common.description")},get value(){return n().description},onChange:L=>y("description",L),get placeholder(){return e("common.description")}}),I),r(g,u(st,{get label(){return e("accounts.balance")},type:"number",get value(){return n().balance},onChange:L=>y("balance",L),get placeholder(){return e("accounts.balance")}}),I),r(g,u(Lt,{get label(){return e("common.status")},get value(){return n().isActive},onChange:L=>y("isActive",L),options:l,required:!0}),I),o(I,c),r(I,u(Ae,{variant:"secondary",type:"button",get onClick(){return t.onClose},get children(){return e("common.cancel")}}),null),r(I,u(Ae,{variant:"primary",type:"submit",get children(){return e("accounts.addAccount")}}),null),g}})};var gl=k("<form><div>"),pl=k("<div><div></div><div> - </div><div> â€¢ ");const fl=t=>{const{t:e}=Qe(),[n,i]=te({accountNumber:"",name:"",category:"",description:"",balance:"0",isActive:"true"}),a=()=>t.parentAccount?{Asset:[{value:"Current Assets",label:e("accounts.categories.currentAssets")},{value:"Fixed Assets",label:e("accounts.categories.fixedAssets")}],Liability:[{value:"Current Liabilities",label:e("accounts.categories.currentLiabilities")},{value:"Long-term Liabilities",label:e("accounts.categories.longTermLiabilities")}],Equity:[{value:"Owner's Equity",label:e("accounts.categories.ownersEquity")}],Revenue:[{value:"Operating Revenue",label:e("accounts.categories.operatingRevenue")}],Expense:[{value:"Operating Expenses",label:e("accounts.categories.operatingExpenses")}]}[t.parentAccount.type]||[]:[],s=[{value:"true",label:e("common.active")},{value:"false",label:e("common.inactive")}],l={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},c={background:"var(--background-color)",padding:"1rem","border-radius":"var(--border-radius-sm)","margin-bottom":"1.5rem",border:"1px solid var(--border-color)"},d={"font-size":"0.875rem","font-weight":"500",color:"var(--text-muted)","margin-bottom":"0.5rem"},y={"font-weight":"600",color:"var(--text-primary)"},g={"font-size":"0.875rem",color:"var(--text-secondary)"},I=S=>{S.preventDefault();const C=n();if(!C.accountNumber||!C.name||!C.category||!t.parentAccount){alert(e("forms.requiredField"));return}if(nt.accounts.find(H=>H.accountNumber===C.accountNumber)){alert(e("forms.duplicateAccountNumber"));return}const M={accountNumber:C.accountNumber,name:C.name,type:t.parentAccount.type,category:C.category,description:C.description,balance:parseFloat(C.balance)||0,isActive:C.isActive==="true",parentAccountId:t.parentAccount.id};nt.addAccount(M),i({accountNumber:"",name:"",category:"",description:"",balance:"0",isActive:"true"}),t.onClose()},L=(S,C)=>{i(b=>({...b,[S]:C}))},E=()=>{if(!t.parentAccount)return"";const S=t.parentAccount.accountNumber,b=nt.getSubAccounts(t.parentAccount.id).length+1;return(parseInt(S)+b).toString()},$=()=>n().accountNumber===""&&t.parentAccount?E():n().accountNumber;return u(It,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return`${e("common.add")} ${e("accounts.subAccounts")}`},get children(){return[z(()=>z(()=>!!t.parentAccount)()&&(()=>{var S=pl(),C=S.firstChild,b=C.nextSibling,M=b.firstChild,H=b.nextSibling,R=H.firstChild;return o(S,c),o(C,d),r(C,()=>e("accounts.parentAccount")),o(b,y),r(b,()=>t.parentAccount.accountNumber,M),r(b,()=>t.parentAccount.name,null),o(H,g),r(H,()=>e(`accounts.types.${t.parentAccount.type.toLowerCase()}`),R),r(H,()=>t.parentAccount.category,null),S})()),(()=>{var S=gl(),C=S.firstChild;return S.addEventListener("submit",I),r(S,u(st,{get label(){return e("accounts.accountNumber")},get value(){return $()},onChange:b=>L("accountNumber",b),get placeholder(){return`${e("common.suggested")}: ${E()}`},required:!0}),C),r(S,u(st,{get label(){return e("accounts.accountName")},get value(){return n().name},onChange:b=>L("name",b),get placeholder(){return e("accounts.accountName")},required:!0}),C),r(S,u(Lt,{get label(){return e("accounts.category")},get value(){return n().category},onChange:b=>L("category",b),get options(){return a()},required:!0}),C),r(S,u(st,{get label(){return e("common.description")},get value(){return n().description},onChange:b=>L("description",b),get placeholder(){return e("common.description")}}),C),r(S,u(st,{get label(){return e("accounts.balance")},type:"number",get value(){return n().balance},onChange:b=>L("balance",b),get placeholder(){return e("accounts.balance")}}),C),r(S,u(Lt,{get label(){return e("common.status")},get value(){return n().isActive},onChange:b=>L("isActive",b),options:s,required:!0}),C),o(C,l),r(C,u(Ae,{variant:"secondary",type:"button",get onClick(){return t.onClose},get children(){return e("common.cancel")}}),null),r(C,u(Ae,{variant:"primary",type:"submit",get children(){return[z(()=>e("common.add"))," ",z(()=>e("accounts.subAccounts"))]}}),null),S})()]}})};var bl=k("<form><div>"),hl=k("<div>");const Sl=t=>{const{t:e}=Qe(),[n,i]=te({accountNumber:"",name:"",type:"",category:"",description:"",balance:"0",isActive:"true"}),[a,s]=te(null);lr(()=>{t.account&&(i({accountNumber:t.account.accountNumber,name:t.account.name,type:t.account.type,category:t.account.category,description:t.account.description,balance:t.account.balance.toString(),isActive:t.account.isActive.toString()}),s(null))});const l=[{value:"Asset",label:e("accounts.types.asset")},{value:"Liability",label:e("accounts.types.liability")},{value:"Equity",label:e("accounts.types.equity")},{value:"Revenue",label:e("accounts.types.revenue")},{value:"Expense",label:e("accounts.types.expense")}],c=()=>{const E=n().type;return E?{Asset:[{value:"Current Assets",label:e("accounts.categories.currentAssets")},{value:"Fixed Assets",label:e("accounts.categories.fixedAssets")}],Liability:[{value:"Current Liabilities",label:e("accounts.categories.currentLiabilities")},{value:"Long-term Liabilities",label:e("accounts.categories.longTermLiabilities")}],Equity:[{value:"Owner's Equity",label:e("accounts.categories.ownersEquity")}],Revenue:[{value:"Operating Revenue",label:e("accounts.categories.operatingRevenue")}],Expense:[{value:"Operating Expenses",label:e("accounts.categories.operatingExpenses")}]}[E]||[]:[]},d=[{value:"true",label:e("common.active")},{value:"false",label:e("common.inactive")}],y={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},g=E=>{if(E.preventDefault(),s(null),!t.account)return;const $=n();if(!$.accountNumber||!$.name||!$.type||!$.category){s(e("forms.requiredField"));return}if(nt.accounts.find(b=>b.accountNumber===$.accountNumber&&b.id!==t.account.id)){s(e("forms.duplicateAccountNumber"));return}const C={accountNumber:$.accountNumber,name:$.name,type:$.type,category:$.category,description:$.description,balance:parseFloat($.balance)||0,isActive:$.isActive==="true"};try{nt.updateAccount(t.account.id,C),t.onClose()}catch(b){s(b instanceof Error?b.message:e("forms.saveError"))}},I=()=>{if(!t.account)return;const E=nt.canDeleteAccount(t.account.id);if(!E.canDelete){s(E.reason||e("forms.deleteError"));return}const $=e("forms.confirmDelete");if(confirm($))try{nt.deleteAccount(t.account.id),t.onClose()}catch(S){s(S instanceof Error?S.message:e("forms.deleteError"))}},L=(E,$)=>{i(S=>{const C={...S,[E]:$};return E==="type"&&(C.category=""),C}),a()&&s(null)};return t.account?u(It,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return e("accounts.editAccount")},get children(){var E=bl(),$=E.firstChild;return E.addEventListener("submit",g),r(E,u(st,{get label(){return e("accounts.accountNumber")},get value(){return n().accountNumber},onChange:S=>L("accountNumber",S),get placeholder(){return e("accounts.accountNumber")},required:!0}),$),r(E,u(st,{get label(){return e("accounts.accountName")},get value(){return n().name},onChange:S=>L("name",S),get placeholder(){return e("accounts.accountName")},required:!0}),$),r(E,u(Lt,{get label(){return e("accounts.accountType")},get value(){return n().type},onChange:S=>L("type",S),options:l,required:!0}),$),r(E,u(Lt,{get label(){return e("accounts.category")},get value(){return n().category},onChange:S=>L("category",S),get options(){return c()},required:!0}),$),r(E,u(st,{get label(){return e("common.description")},get value(){return n().description},onChange:S=>L("description",S),get placeholder(){return e("common.description")}}),$),r(E,u(st,{get label(){return e("accounts.balance")},type:"number",get value(){return n().balance},onChange:S=>L("balance",S),get placeholder(){return e("accounts.balance")}}),$),r(E,u(Lt,{get label(){return e("common.status")},get value(){return n().isActive},onChange:S=>L("isActive",S),options:d,required:!0}),$),r(E,(()=>{var S=z(()=>!!a());return()=>S()&&(()=>{var C=hl();return C.style.setProperty("padding","1rem"),C.style.setProperty("border-radius","var(--border-radius-sm)"),C.style.setProperty("margin-top","1rem"),C.style.setProperty("background","#f8d7da"),C.style.setProperty("color","#721c24"),C.style.setProperty("border","1px solid #f5c6cb"),r(C,a),C})()})(),$),o($,y),r($,u(Ae,{variant:"outline",type:"button",onClick:I,style:{color:"#dc3545","border-color":"#dc3545","margin-right":"auto"},get children(){return e("accounts.deleteAccount")}}),null),r($,u(Ae,{variant:"secondary",type:"button",get onClick(){return t.onClose},get children(){return e("common.cancel")}}),null),r($,u(Ae,{variant:"primary",type:"submit",get children(){return e("common.save")}}),null),E}}):null};var Pl=k("<div><div>âš ï¸</div><div></div><div></div><div>"),$l=k("<div><div></div><div></div><div>"),xl=k("<div><button></button><button> (<!>)"),bn=k("<div>"),Cl=k("<div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span>"),_l=k("<div><div><div></div><div> â€¢ </div></div><div>");const wl=t=>{const{t:e}=Qe(),[n,i]=te("details"),[a,s]=te(!1),l=qe(()=>t.account?nt.getAccountById(t.account.id)||t.account:null),c={display:"flex","justify-content":"space-between","align-items":"center",padding:"0.75rem 0","border-bottom":"1px solid var(--border-color)"},d={"font-weight":"500",color:"var(--text-muted)","font-size":"0.875rem"},y={"font-weight":"600",color:"var(--text-primary)"},g={"text-align":"center","margin-bottom":"2rem"},I={"font-size":"1.5rem","font-weight":"600",color:"var(--text-primary)",margin:"0.5rem 0"},L={"font-size":"2rem","font-weight":"700",color:"var(--primary-color)","margin-bottom":"0.5rem"},E={padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500","text-transform":"uppercase","letter-spacing":"0.5px","margin-bottom":"1rem"},$={display:"flex","border-bottom":"1px solid var(--border-color)","margin-bottom":"1.5rem"},S=me=>({padding:"0.75rem 1rem",background:"none",border:"none",cursor:"pointer","font-weight":"500",color:me?"var(--primary-color)":"var(--text-muted)","border-bottom":me?"2px solid var(--primary-color)":"2px solid transparent",transition:"all 0.2s ease"}),C={display:"flex","justify-content":"space-between","align-items":"center",padding:"1rem 0","border-bottom":"1px solid var(--border-color)"},b={flex:"1"},M={"font-size":"0.875rem",color:"var(--text-muted)"},H={"font-weight":"500","margin-bottom":"0.25rem"},R=me=>({"font-weight":"600",color:me==="debit"?"#4caf50":"#f44336"}),G={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},Y=me=>({Asset:{bg:"#e8f5e8",color:"#2d7d32"},Liability:{bg:"#fff3e0",color:"#f57c00"},Equity:{bg:"#e3f2fd",color:"#1976d2"},Revenue:{bg:"#e8f5e8",color:"#388e3c"},Expense:{bg:"#ffebee",color:"#d32f2f"}})[me]||{bg:"#f5f5f5",color:"#666"},le=me=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(me),de=me=>new Date(me).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return u(It,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return e("accounts.accountDetails")},get children(){return[z(()=>z(()=>!l())()?(()=>{var me=Pl(),ne=me.firstChild,Z=ne.nextSibling,X=Z.nextSibling,p=X.nextSibling;return me.style.setProperty("text-align","center"),me.style.setProperty("padding","3rem"),me.style.setProperty("color","var(--text-muted)"),ne.style.setProperty("font-size","1.5rem"),ne.style.setProperty("margin-bottom","1rem"),Z.style.setProperty("font-size","1.1rem"),Z.style.setProperty("margin-bottom","0.5rem"),r(Z,()=>e("common.error")),X.style.setProperty("font-size","0.875rem"),r(X,()=>e("common.noDataFound")),p.style.setProperty("margin-top","2rem"),r(p,u(Ae,{variant:"primary",get onClick(){return t.onClose},get children(){return e("common.close")}})),me})():(()=>{const me=qe(()=>Y(l().type)),ne=qe(()=>nt.getAccountTransactions(l().id));return[(()=>{var Z=$l(),X=Z.firstChild,p=X.nextSibling,oe=p.nextSibling;return o(Z,g),o(X,I),r(X,()=>l().name),o(p,L),r(p,()=>le(l().balance)),r(oe,()=>e(`accounts.types.${l().type.toLowerCase()}`)),T(_=>o(oe,{...E,background:me().bg,color:me().color},_)),Z})(),(()=>{var Z=xl(),X=Z.firstChild,p=X.nextSibling,oe=p.firstChild,_=oe.nextSibling;return _.nextSibling,o(Z,$),X.$$click=()=>i("details"),r(X,()=>e("accounts.accountDetails")),p.$$click=()=>i("transactions"),r(p,()=>e("accounts.transactions"),oe),r(p,()=>ne().length,_),T(m=>{var D=S(n()==="details"),v=S(n()==="transactions");return m.e=o(X,D,m.e),m.t=o(p,v,m.t),m},{e:void 0,t:void 0}),Z})(),z(()=>z(()=>n()==="details")()&&(()=>{var Z=Cl(),X=Z.firstChild,p=X.firstChild,oe=p.nextSibling,_=X.nextSibling,m=_.firstChild,D=m.nextSibling,v=_.nextSibling,x=v.firstChild,h=x.nextSibling,w=v.nextSibling,ie=w.firstChild,P=ie.nextSibling,A=w.nextSibling,j=A.firstChild,q=j.nextSibling,re=A.nextSibling,W=re.firstChild,F=W.nextSibling;return r(p,()=>e("accounts.accountNumber")),r(oe,()=>l().accountNumber),r(m,()=>e("accounts.category")),r(D,()=>l().category),r(x,()=>e("common.description")),r(h,()=>l().description),r(ie,()=>e("common.status")),r(P,(()=>{var ae=z(()=>!!l().isActive);return()=>ae()?e("common.active"):e("common.inactive")})()),r(j,()=>e("accounts.createdDate")),r(q,()=>de(l().createdDate)),r(W,()=>e("accounts.lastModified")),r(F,()=>de(l().lastModified)),T(ae=>{var N=c,J=d,fe=y,he=c,ee=d,Q=y,se=c,K=d,O=y,ge=c,pe=d,B=y,V=c,Pe=d,ye=y,ce=c,U=d,f=y;return ae.e=o(X,N,ae.e),ae.t=o(p,J,ae.t),ae.a=o(oe,fe,ae.a),ae.o=o(_,he,ae.o),ae.i=o(m,ee,ae.i),ae.n=o(D,Q,ae.n),ae.s=o(v,se,ae.s),ae.h=o(x,K,ae.h),ae.r=o(h,O,ae.r),ae.d=o(w,ge,ae.d),ae.l=o(ie,pe,ae.l),ae.u=o(P,B,ae.u),ae.c=o(A,V,ae.c),ae.w=o(j,Pe,ae.w),ae.m=o(q,ye,ae.m),ae.f=o(re,ce,ae.f),ae.y=o(W,U,ae.y),ae.g=o(F,f,ae.g),ae},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0}),Z})()),z(()=>z(()=>n()==="transactions")()&&(()=>{var Z=bn();return r(Z,(()=>{var X=z(()=>ne().length===0);return()=>X()?(()=>{var p=bn();return p.style.setProperty("text-align","center"),p.style.setProperty("color","var(--text-muted)"),p.style.setProperty("padding","2rem"),r(p,()=>e("common.noDataFound")),p})():ne().map(p=>(()=>{var oe=_l(),_=oe.firstChild,m=_.firstChild,D=m.nextSibling,v=D.firstChild,x=_.nextSibling;return o(oe,C),o(_,b),o(m,H),r(m,()=>p.description),o(D,M),r(D,()=>de(p.date),v),r(D,()=>p.reference,null),r(x,()=>p.type==="debit"?"+":"-",null),r(x,()=>le(p.type==="debit"?p.debitAmount:p.creditAmount),null),T(h=>o(x,R(p.type),h)),oe})())})()),Z})()),(()=>{var Z=bn();return o(Z,G),r(Z,u(Ae,{variant:"secondary",get onClick(){return t.onClose},get children(){return e("common.close")}}),null),r(Z,u(Ae,{variant:"primary",onClick:()=>s(!0),get children(){return e("accounts.editAccount")}}),null),Z})()]})()),z(()=>z(()=>!!l())()&&u(Sl,{get isOpen(){return a()},onClose:()=>{s(!1)},get account(){return l()}}))]}})};vt(["click"]);const kl="https://qvamarkets.com/gql_api",[Al,lo]=te(!1),[Il,hn]=te(null);class El{baseUrl;constructor(e=kl){this.baseUrl=e}async request(e,n,i,a){lo(!0),hn(null);try{const s=n.startsWith("http")?n:`${this.baseUrl}${n}`,l={method:e,headers:{"Content-Type":"application/json",Accept:"application/json",...a}};i&&(e==="POST"||e==="PUT"||e==="PATCH")&&(l.body=JSON.stringify(i));const c=await fetch(s,l);if(!c.ok)throw new Error(`HTTP error! status: ${c.status}`);const d=await c.json();if(d.errors&&d.errors.length>0)throw new Error(d.errors[0].message);return d.data||d}catch(s){const l=s instanceof Error?s.message:"Unknown error occurred";throw hn(l),s}finally{lo(!1)}}async graphql(e){return this.request("POST","",e)}async get(e,n){return this.request("GET",e,void 0,n)}async post(e,n,i){return this.request("POST",e,n,i)}async put(e,n,i){return this.request("PUT",e,n,i)}async patch(e,n,i){return this.request("PATCH",e,n,i)}async delete(e,n){return this.request("DELETE",e,void 0,n)}getLoadingState(){return Al()}getErrorState(){return Il()}clearError(){hn(null)}}const Hr=new El,Hn=`
  fragment AccountFields on Account {
    id
    accountNumber
    name
    type
    category
    description
    balance
    isActive
    parentAccountId
    createdDate
    lastModified
  }
`,Ll=`
  query GetAccountById($id: ID!) {
    account(id: $id) {
      ...AccountFields
    }
  }
  ${Hn}
`,Dl=`
  mutation CreateAccount($input: CreateAccountInput!) {
    createAccount(input: $input) {
      ...AccountFields
    }
  }
  ${Hn}
`,Nl=`
  mutation UpdateAccount($id: ID!, $input: UpdateAccountInput!) {
    updateAccount(id: $id, input: $input) {
      ...AccountFields
    }
  }
  ${Hn}
`,Tl=`
  mutation DeleteAccount($id: ID!) {
    deleteAccount(id: $id) {
      success
      message
    }
  }
`;class Bl{async getAccounts(e,n){try{if(qr.isFakeMode())return await ro.getAll(e);const i=await jr({query:"getAllYabaProducts",params:{businessId:"YB100423253156428"}});return console.log("Real API accounts response:",i),i?.accounts||[]}catch(i){if(console.error("Error fetching accounts:",i),qr.isHybridMode())return console.warn("Falling back to fake API for accounts"),await ro.getAll(e);throw i}}async getAccountById(e){try{return(await Hr.graphql({query:Ll,variables:{id:e}})).account}catch(n){throw console.error("Error fetching account:",n),n}}async createAccount(e){try{return(await Hr.graphql({query:Dl,variables:{input:e}})).createAccount}catch(n){throw console.error("Error creating account:",n),n}}async updateAccount(e,n){try{return(await Hr.graphql({query:Nl,variables:{id:e,input:n}})).updateAccount}catch(i){throw console.error("Error updating account:",i),i}}async deleteAccount(e){try{return(await Hr.graphql({query:Tl,variables:{id:e}})).deleteAccount}catch(n){throw console.error("Error deleting account:",n),n}}async getAccountsByType(e){return this.getAccounts({type:e})}async getAccountHierarchy(){const e=await this.getAccounts();return this.buildHierarchy(e)}buildHierarchy(e){const n=new Map,i=[];return e.forEach(a=>{n.set(a.id,{...a,subAccounts:[]})}),e.forEach(a=>{const s=n.get(a.id);if(a.parentAccountId){const l=n.get(a.parentAccountId);l&&(l.subAccounts=l.subAccounts||[],l.subAccounts.push(s))}else i.push(s)}),i}async getAccountBalance(e){const n=await this.getAccountById(e);return n?n.balance:0}async searchAccounts(e){return this.getAccounts({search:e})}}const Ml=new Bl;var Rl=k("<div><h2></h2><div><span>:</span><button></button><button>"),Ol=k("<div><span>:"),so=k("<div>"),jl=k("<button>");const zl=()=>{const{t}=Qe(),[e,n]=te(!1),[i,a]=te(!1),[s,l]=te(!1),[c,d]=te(null),[y,g]=te(null),[I,L]=te("All"),[E,$]=te("hierarchy"),S=de=>{d(de),l(!0)},C=de=>{g(de),a(!0)},b=()=>I()==="All"?E()==="hierarchy"?nt.getAccountHierarchy():nt.accounts:E()==="hierarchy"?nt.getAccountHierarchy().filter(de=>de.type===I()):nt.getAccountsByType(I()),M={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(350px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"},H={display:"flex",gap:"1rem","margin-bottom":"2rem","align-items":"center"},R=de=>({padding:"0.5rem 1rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)",background:de?"var(--primary-color)":"var(--surface-color)",color:de?"white":"var(--text-primary)",cursor:"pointer","font-weight":"500",transition:"all 0.2s ease"}),G={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"2rem"},Y={display:"flex",gap:"0.5rem","align-items":"center","margin-left":"auto","margin-right":"1rem"},le=de=>({padding:"0.5rem 1rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)",background:de?"var(--primary-color)":"var(--surface-color)",color:de?"white":"var(--text-primary)",cursor:"pointer","font-weight":"500","font-size":"0.875rem",transition:"all 0.2s ease"});return u(Yt,{get title(){return t("accounts.title")},get children(){return[u(nl,{}),(()=>{var de=Rl(),me=de.firstChild,ne=me.nextSibling,Z=ne.firstChild,X=Z.firstChild,p=Z.nextSibling,oe=p.nextSibling;return o(de,G),me.style.setProperty("margin","0"),me.style.setProperty("font-size","1.5rem"),r(me,()=>t("accounts.title")),o(ne,Y),Z.style.setProperty("font-weight","500"),Z.style.setProperty("color","var(--text-muted)"),Z.style.setProperty("font-size","0.875rem"),r(Z,()=>t("common.view"),X),p.$$click=()=>$("hierarchy"),r(p,()=>t("accounts.accountHierarchy")),oe.$$click=()=>{$("flat"),Ml.getAccounts()},r(oe,()=>t("common.all")),r(de,u(Ae,{variant:"primary",onClick:()=>n(!0),get children(){return t("accounts.addAccount")}}),null),T(_=>{var m=le(E()==="hierarchy"),D=le(E()==="flat");return _.e=o(p,m,_.e),_.t=o(oe,D,_.t),_},{e:void 0,t:void 0}),de})(),(()=>{var de=Ol(),me=de.firstChild,ne=me.firstChild;return o(de,H),me.style.setProperty("font-weight","500"),me.style.setProperty("color","var(--text-muted)"),r(me,()=>t("common.filter"),ne),r(de,()=>[t("common.all"),t("accounts.types.asset"),t("accounts.types.liability"),t("accounts.types.equity"),t("accounts.types.revenue"),t("accounts.types.expense")].map((Z,X)=>{const oe=["All","Asset","Liability","Equity","Revenue","Expense"][X];return(()=>{var _=jl();return _.$$click=()=>L(oe),r(_,Z),T(m=>o(_,R(I()===oe),m)),_})()}),null),de})(),(()=>{var de=so();return r(de,(()=>{var me=z(()=>E()==="hierarchy");return()=>me()?b().map(ne=>u(yl,{account:ne,onAddSubAccount:C,onViewDetails:S})):b().map(ne=>u(al,{account:ne,onViewDetails:S}))})()),T(me=>o(de,E()==="hierarchy"?{display:"flex","flex-direction":"column",gap:"1rem"}:M,me)),de})(),z(()=>z(()=>b().length===0)()&&(()=>{var de=so();return de.style.setProperty("text-align","center"),de.style.setProperty("color","var(--text-muted)"),de.style.setProperty("padding","3rem"),de.style.setProperty("font-size","1.1rem"),r(de,()=>t("common.noDataFound")),de})()),u(vl,{get isOpen(){return e()},onClose:()=>n(!1)}),u(fl,{get isOpen(){return i()},onClose:()=>a(!1),get parentAccount(){return y()}}),u(wl,{get isOpen(){return s()},onClose:()=>l(!1),get account(){return c()}})]}})};vt(["click"]);var Fl=k("<div><h2>"),_r=k("<div>"),ql=k("<div><div><div></div><h1></h1><div></div></div><div>"),Ul=k("<div><button></button><button> (<!>)"),Gr=k("<div><span></span><span>"),Vl=k("<p>"),Yl=k("<div><div></div><div>"),Wl=k("<div><div><div></div><div> â€¢ </div></div><div>");const Hl=()=>{const{t}=Qe(),e=Qi(),n=Wn(),[i,a]=te(null),[s,l]=te("overview");sr(()=>{const p=nt.getAccountById(e.id);p?a(p):n("/accounts")});const c={display:"flex","align-items":"center",gap:"0.5rem","margin-bottom":"1rem"},d={display:"flex","align-items":"center",gap:"1rem","margin-bottom":"2rem"},y={"font-size":"1rem","font-weight":"600",color:"var(--text-muted)","text-transform":"uppercase"},g={"font-size":"2.5rem","font-weight":"700",color:"var(--primary-color)"},I={padding:"0.5rem 1rem","border-radius":"9999px","font-size":"0.875rem","font-weight":"500","text-transform":"uppercase","letter-spacing":"0.5px"},L={display:"flex","border-bottom":"1px solid var(--border-color)","margin-bottom":"2rem"},E=p=>({padding:"1rem 2rem",background:"none",border:"none",cursor:"pointer","font-weight":"500",color:p?"var(--primary-color)":"var(--text-muted)","border-bottom":p?"2px solid var(--primary-color)":"2px solid transparent",transition:"all 0.2s ease"}),$={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"},S={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem"},C={display:"flex","justify-content":"space-between","align-items":"center",padding:"0.75rem 0","border-bottom":"1px solid var(--border-color)"},b={"font-weight":"500",color:"var(--text-muted)"},M={"font-weight":"600",color:"var(--text-primary)"},H={display:"flex","justify-content":"space-between","align-items":"center",padding:"1rem 0","border-bottom":"1px solid var(--border-color)"},R={flex:"1"},G={"font-weight":"500","margin-bottom":"0.25rem"},Y={"font-size":"0.875rem",color:"var(--text-muted)"},le=p=>({"font-weight":"600",color:p==="debit"?"#4caf50":"#f44336"});if(!i())return u(Yt,{get title(){return t("accounts.accountDetails")},get children(){var p=Fl(),oe=p.firstChild;return p.style.setProperty("text-align","center"),p.style.setProperty("padding","3rem"),r(oe,()=>t("common.error")),r(p,u(Ae,{variant:"primary",onClick:()=>n("/accounts"),get children(){return[z(()=>t("common.back"))," ",z(()=>t("navigation.accounts"))]}}),null),p}});const de=p=>({Asset:{bg:"#e8f5e8",color:"#2d7d32"},Liability:{bg:"#fff3e0",color:"#f57c00"},Equity:{bg:"#e3f2fd",color:"#1976d2"},Revenue:{bg:"#e8f5e8",color:"#388e3c"},Expense:{bg:"#ffebee",color:"#d32f2f"}})[p]||{bg:"#f5f5f5",color:"#666"},me=p=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(p),ne=p=>new Date(p).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),Z=de(i().type),X=nt.getAccountTransactions(i().id);return u(Yt,{get title(){return i().name},get children(){return[(()=>{var p=_r();return o(p,c),r(p,u(Ae,{variant:"secondary",onClick:()=>n("/accounts"),get children(){return["â† ",z(()=>t("common.back"))," ",z(()=>t("navigation.accounts"))]}})),p})(),(()=>{var p=ql(),oe=p.firstChild,_=oe.firstChild,m=_.nextSibling,D=m.nextSibling,v=oe.nextSibling;return o(p,d),o(_,y),r(_,()=>i().accountNumber),m.style.setProperty("margin","0.5rem 0"),m.style.setProperty("font-size","2rem"),r(m,()=>i().name),o(D,g),r(D,()=>me(i().balance)),r(v,()=>i().type),T(x=>o(v,{...I,background:Z.bg,color:Z.color},x)),p})(),(()=>{var p=Ul(),oe=p.firstChild,_=oe.nextSibling,m=_.firstChild,D=m.nextSibling;return D.nextSibling,o(p,L),oe.$$click=()=>l("overview"),r(oe,()=>t("dashboard.overview")),_.$$click=()=>l("transactions"),r(_,()=>t("accounts.transactions"),m),r(_,()=>X.length,D),T(v=>{var x=E(s()==="overview"),h=E(s()==="transactions");return v.e=o(oe,x,v.e),v.t=o(_,h,v.t),v},{e:void 0,t:void 0}),p})(),z(()=>z(()=>s()==="overview")()&&(()=>{var p=Yl(),oe=p.firstChild,_=oe.nextSibling;return o(oe,$),r(oe,u(je,{get title(){return t("accounts.balance")},get subtitle(){return t("dashboard.overview")},get children(){var m=_r();return m.style.setProperty("font-size","1.5rem"),m.style.setProperty("font-weight","600"),m.style.setProperty("color","var(--primary-color)"),r(m,()=>me(i().balance)),m}}),null),r(oe,u(je,{get title(){return t("accounts.accountType")},get subtitle(){return t("accounts.category")},get children(){var m=_r();return m.style.setProperty("font-size","1.5rem"),m.style.setProperty("font-weight","600"),m.style.setProperty("color","var(--primary-color)"),r(m,()=>t(`accounts.types.${i().type.toLowerCase()}`)),m}}),null),r(oe,u(je,{get title(){return t("common.status")},get subtitle(){return t("accounts.accountDetails")},get children(){var m=_r();return m.style.setProperty("font-size","1.5rem"),m.style.setProperty("font-weight","600"),r(m,(()=>{var D=z(()=>!!i().isActive);return()=>D()?t("common.active"):t("common.inactive")})()),T(D=>(D=i().isActive?"#4caf50":"#f44336")!=null?m.style.setProperty("color",D):m.style.removeProperty("color")),m}}),null),r(oe,u(je,{get title(){return t("accounts.transactions")},get subtitle(){return t("common.total")},get children(){var m=_r();return m.style.setProperty("font-size","1.5rem"),m.style.setProperty("font-weight","600"),m.style.setProperty("color","var(--primary-color)"),r(m,()=>X.length),m}}),null),o(_,S),r(_,u(je,{get title(){return t("accounts.accountDetails")},get subtitle(){return t("dashboard.overview")},get children(){return[(()=>{var m=Gr(),D=m.firstChild,v=D.nextSibling;return r(D,()=>t("accounts.accountNumber")),r(v,()=>i().accountNumber),T(x=>{var h=C,w=b,ie=M;return x.e=o(m,h,x.e),x.t=o(D,w,x.t),x.a=o(v,ie,x.a),x},{e:void 0,t:void 0,a:void 0}),m})(),(()=>{var m=Gr(),D=m.firstChild,v=D.nextSibling;return r(D,()=>t("accounts.category")),r(v,()=>i().category),T(x=>{var h=C,w=b,ie=M;return x.e=o(m,h,x.e),x.t=o(D,w,x.t),x.a=o(v,ie,x.a),x},{e:void 0,t:void 0,a:void 0}),m})(),(()=>{var m=Gr(),D=m.firstChild,v=D.nextSibling;return r(D,()=>t("common.date")),r(v,()=>ne(i().createdDate)),T(x=>{var h=C,w=b,ie=M;return x.e=o(m,h,x.e),x.t=o(D,w,x.t),x.a=o(v,ie,x.a),x},{e:void 0,t:void 0,a:void 0}),m})(),(()=>{var m=Gr(),D=m.firstChild,v=D.nextSibling;return r(D,()=>t("common.date")),r(v,()=>ne(i().lastModified)),T(x=>{var h=C,w=b,ie=M;return x.e=o(m,h,x.e),x.t=o(D,w,x.t),x.a=o(v,ie,x.a),x},{e:void 0,t:void 0,a:void 0}),m})()]}}),null),r(_,u(je,{get title(){return t("common.description")},get subtitle(){return t("accounts.accountDetails")},get children(){var m=Vl();return m.style.setProperty("margin","0"),m.style.setProperty("color","var(--text-secondary)"),r(m,()=>i().description||t("common.noDataFound")),m}}),null),p})()),z(()=>z(()=>s()==="transactions")()&&u(je,{get title(){return t("accounts.accountHistory")},get subtitle(){return t("accounts.transactions")},get children(){return z(()=>X.length===0)()?(()=>{var p=_r();return p.style.setProperty("text-align","center"),p.style.setProperty("color","var(--text-muted)"),p.style.setProperty("padding","2rem"),r(p,()=>t("common.noDataFound")),p})():X.map(p=>(()=>{var oe=Wl(),_=oe.firstChild,m=_.firstChild,D=m.nextSibling,v=D.firstChild,x=_.nextSibling;return o(oe,H),o(_,R),o(m,G),r(m,()=>p.description),o(D,Y),r(D,()=>ne(p.date),v),r(D,()=>p.reference,null),r(x,()=>p.type==="debit"?"+":"-",null),r(x,()=>me(p.type==="debit"?p.debitAmount:p.creditAmount),null),T(h=>o(x,le(p.type),h)),oe})())}}))]}})};vt(["click"]);var Gl=k("<div><div><h1></h1><p> </p></div><div><input type=date>"),Gt=k("<div><span></span><span>"),Jl=k("<div><div></div><div>"),Ql=k("<div><div><div></div><div></div></div><div><div></div><div></div></div><div><div></div><div>"),Kl=k("<div><div> (<!> = <!> + <!>)</div><div> = "),Zl=k("<span>(<!>: <!>)");const Xl=()=>{const{t}=Qe(),[e,n]=te(new Date().toISOString().split("T")[0]),[i,a]=te(0),[s,l]=te(0),[c,d]=te(0);sr(()=>{y()});const y=()=>{const $=nt.getAccountsByType("Asset"),S=nt.getAccountsByType("Liability"),C=nt.getAccountsByType("Equity"),b=$.reduce((R,G)=>R+G.balance,0),M=S.reduce((R,G)=>R+G.balance,0),H=C.reduce((R,G)=>R+G.balance,0);a(b),l(M),d(H)},g=$=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format($),I={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"2rem"},L={"margin-bottom":"2rem"},E={"font-weight":"bold","font-size":"1.1rem","border-top":"2px solid var(--border-color)","padding-top":"0.5rem","margin-top":"1rem"};return u(Yt,{get title(){return t("balanceSheet.title")},get children(){return[(()=>{var $=Gl(),S=$.firstChild,C=S.firstChild,b=C.nextSibling,M=b.firstChild,H=S.nextSibling,R=H.firstChild;return o($,I),C.style.setProperty("margin","0"),r(C,()=>t("balanceSheet.title")),b.style.setProperty("margin","0.5rem 0 0 0"),b.style.setProperty("color","var(--text-muted)"),r(b,()=>t("balanceSheet.asOf"),M),r(b,()=>new Date(e()).toLocaleDateString(),null),H.style.setProperty("display","flex"),H.style.setProperty("gap","1rem"),R.addEventListener("change",G=>n(G.target.value)),R.style.setProperty("padding","0.5rem"),R.style.setProperty("border","1px solid var(--border-color)"),R.style.setProperty("border-radius","var(--border-radius-sm)"),r(H,u(Ae,{variant:"primary",onClick:y,get children(){return t("balanceSheet.generateReport")}}),null),T(()=>R.value=e()),$})(),(()=>{var $=Jl(),S=$.firstChild,C=S.nextSibling;return $.style.setProperty("display","grid"),$.style.setProperty("grid-template-columns","1fr 1fr"),$.style.setProperty("gap","2rem"),r(S,u(je,{get title(){return t("balanceSheet.assets")},style:L,get children(){return[(()=>{var b=Gt(),M=b.firstChild,H=M.nextSibling;return b.style.setProperty("display","flex"),b.style.setProperty("justify-content","space-between"),b.style.setProperty("align-items","center"),r(M,()=>t("balanceSheet.currentAssets")),r(H,()=>g(i()*.6)),b})(),(()=>{var b=Gt(),M=b.firstChild,H=M.nextSibling;return b.style.setProperty("display","flex"),b.style.setProperty("justify-content","space-between"),b.style.setProperty("align-items","center"),r(M,()=>t("balanceSheet.nonCurrentAssets")),r(H,()=>g(i()*.4)),b})(),(()=>{var b=Gt(),M=b.firstChild,H=M.nextSibling;return r(M,()=>t("balanceSheet.totalAssets")),r(H,()=>g(i())),T(R=>o(b,{...E,display:"flex","justify-content":"space-between"},R)),b})()]}})),r(C,u(je,{get title(){return t("balanceSheet.liabilities")},style:L,get children(){return[(()=>{var b=Gt(),M=b.firstChild,H=M.nextSibling;return b.style.setProperty("display","flex"),b.style.setProperty("justify-content","space-between"),b.style.setProperty("align-items","center"),r(M,()=>t("balanceSheet.currentLiabilities")),r(H,()=>g(s()*.7)),b})(),(()=>{var b=Gt(),M=b.firstChild,H=M.nextSibling;return b.style.setProperty("display","flex"),b.style.setProperty("justify-content","space-between"),b.style.setProperty("align-items","center"),r(M,()=>t("balanceSheet.nonCurrentLiabilities")),r(H,()=>g(s()*.3)),b})(),(()=>{var b=Gt(),M=b.firstChild,H=M.nextSibling;return r(M,()=>t("balanceSheet.totalLiabilities")),r(H,()=>g(s())),T(R=>o(b,{...E,display:"flex","justify-content":"space-between"},R)),b})()]}}),null),r(C,u(je,{get title(){return t("balanceSheet.equity")},get children(){return[(()=>{var b=Gt(),M=b.firstChild,H=M.nextSibling;return b.style.setProperty("display","flex"),b.style.setProperty("justify-content","space-between"),b.style.setProperty("align-items","center"),r(M,()=>t("balanceSheet.commonStock")),r(H,()=>g(c()*.8)),b})(),(()=>{var b=Gt(),M=b.firstChild,H=M.nextSibling;return b.style.setProperty("display","flex"),b.style.setProperty("justify-content","space-between"),b.style.setProperty("align-items","center"),r(M,()=>t("balanceSheet.retainedEarnings")),r(H,()=>g(c()*.2)),b})(),(()=>{var b=Gt(),M=b.firstChild,H=M.nextSibling;return r(M,()=>t("balanceSheet.totalEquity")),r(H,()=>g(c())),T(R=>o(b,{...E,display:"flex","justify-content":"space-between"},R)),b})()]}}),null),$})(),u(je,{get title(){return t("dashboard.overview")},style:{"margin-top":"2rem"},get children(){return[(()=>{var $=Ql(),S=$.firstChild,C=S.firstChild,b=C.nextSibling,M=S.nextSibling,H=M.firstChild,R=H.nextSibling,G=M.nextSibling,Y=G.firstChild,le=Y.nextSibling;return $.style.setProperty("display","grid"),$.style.setProperty("grid-template-columns","repeat(3, 1fr)"),$.style.setProperty("gap","2rem"),S.style.setProperty("text-align","center"),C.style.setProperty("font-size","0.875rem"),C.style.setProperty("color","var(--text-muted)"),C.style.setProperty("margin-bottom","0.5rem"),r(C,()=>t("balanceSheet.totalAssets")),b.style.setProperty("font-size","1.5rem"),b.style.setProperty("font-weight","bold"),b.style.setProperty("color","var(--primary-color)"),r(b,()=>g(i())),M.style.setProperty("text-align","center"),H.style.setProperty("font-size","0.875rem"),H.style.setProperty("color","var(--text-muted)"),H.style.setProperty("margin-bottom","0.5rem"),r(H,()=>t("balanceSheet.totalLiabilities")),R.style.setProperty("font-size","1.5rem"),R.style.setProperty("font-weight","bold"),R.style.setProperty("color","#f44336"),r(R,()=>g(s())),G.style.setProperty("text-align","center"),Y.style.setProperty("font-size","0.875rem"),Y.style.setProperty("color","var(--text-muted)"),Y.style.setProperty("margin-bottom","0.5rem"),r(Y,()=>t("balanceSheet.totalEquity")),le.style.setProperty("font-size","1.5rem"),le.style.setProperty("font-weight","bold"),le.style.setProperty("color","#4caf50"),r(le,()=>g(c())),$})(),(()=>{var $=Kl(),S=$.firstChild,C=S.firstChild,b=C.nextSibling,M=b.nextSibling,H=M.nextSibling,R=H.nextSibling,G=R.nextSibling;G.nextSibling;var Y=S.nextSibling,le=Y.firstChild;return $.style.setProperty("margin-top","2rem"),$.style.setProperty("text-align","center"),S.style.setProperty("font-size","0.875rem"),S.style.setProperty("color","var(--text-muted)"),S.style.setProperty("margin-bottom","0.5rem"),r(S,()=>t("common.total"),C),r(S,()=>t("balanceSheet.totalAssets"),b),r(S,()=>t("balanceSheet.totalLiabilities"),H),r(S,()=>t("balanceSheet.totalEquity"),G),Y.style.setProperty("font-size","1.2rem"),Y.style.setProperty("font-weight","bold"),r(Y,()=>g(i()),le),r(Y,()=>g(s()+c()),null),r(Y,(()=>{var de=z(()=>Math.abs(i()-(s()+c()))>.01);return()=>de()&&(()=>{var me=Zl(),ne=me.firstChild,Z=ne.nextSibling,X=Z.nextSibling,p=X.nextSibling;return p.nextSibling,me.style.setProperty("font-size","0.875rem"),me.style.setProperty("color","#f44336"),me.style.setProperty("display","block"),r(me,()=>t("common.error"),Z),r(me,()=>g(i()-(s()+c())),p),me})()})(),null),T(de=>(de=Math.abs(i()-(s()+c()))<.01?"#4caf50":"#f44336")!=null?Y.style.setProperty("color",de):Y.style.removeProperty("color")),$})()]}})]}})};vt(["click"]);const es=[{id:"YY_8801",code:"YY_8801",name:"YABA SUR",bussinesId:"YB100423253156428",type:"store",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8802",code:"YY_8802",name:"CENTER",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8803",code:"YY_8803",name:"BISONET",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8804",code:"YY_8804",name:"IRVIN",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8805",code:"YY_8805",name:"KATTY",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8814",code:"YY_8814",name:"YABASUR OR",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8816",code:"YY_8816",name:"YABA GLOBAL",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8818",code:"YY_8818",name:"YABASURAUSTIN",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8844",code:"YY_8844",name:"YABANEBRASKA",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8847",code:"YY_8847",name:"YABAOFICINA AZ",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_3251",code:"YY_3251",name:"YABA FASHION",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_32",code:"YY_32",name:"YABA MESQUITE",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_33",code:"YY_33",name:"YABASUR ARIZONA",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8635",code:"YY_8635",name:"FASHION MESQUITE",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8665",code:"YY_8665",name:"IRVIN FASHION",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8901",code:"YY_8901",name:"ALMACEN CENTRAL YABA",bussinesId:"YB100423253156428",type:"warehouse",address:"123 Industrial Dr, City, State 12345",isActive:!0,createdDate:"2024-01-01"}],ts=[{id:"1",name:'MacBook Pro 16"',price:2399,quantity:75,category:"Electronics",description:"Apple MacBook Pro 16-inch with M2 Pro chip",sku:"MBP-16-M2P",supplier:"Apple Inc.",minStock:10,location:"Warehouse A",lastUpdated:"2024-01-15"},{id:"2",name:'Dell Monitor 27"',price:299,quantity:35,category:"Electronics",description:"Dell 27-inch 4K UHD Monitor",sku:"DELL-MON-27-4K",supplier:"Dell Technologies",minStock:15,location:"Warehouse B",lastUpdated:"2024-01-14"},{id:"3",name:"Wireless Mouse",price:49.99,quantity:12,category:"Accessories",description:"Ergonomic wireless mouse with precision tracking",sku:"MOUSE-WL-001",supplier:"Logitech",minStock:25,location:"Warehouse A",lastUpdated:"2024-01-13"}],Jr=()=>{const t=new Map;return Ft().forEach(e=>{const n=`${e.productId}-${e.locationId}`;let i=t.get(n);i||(i={id:n,productId:e.productId,locationId:e.locationId,quantity:0,reservedQuantity:0,availableQuantity:0,averageCost:0,lastMovementDate:e.createdDate,lastMovementType:e.movementType},t.set(n,i)),e.movementType==="in"||e.movementType==="transfer"?(e.locationId===e.toLocationId||e.movementType==="in")&&(i.quantity+=e.quantity*1):e.movementType==="out"?i.quantity-=e.quantity*1:e.movementType==="adjustment"&&(i.quantity=e.quantity*1),new Date(e.createdDate)>new Date(i.lastMovementDate)&&(i.lastMovementDate=e.createdDate,i.lastMovementType=e.movementType),i.averageCost=e.unitCost*1,i.availableQuantity=i.quantity*1-i.reservedQuantity*1}),Array.from(t.values())},[yr,Sn]=te([]),[mr,co]=te(es),[Ft,Qr]=te([]),[nr,Rr]=te([]),rs=()=>{const t=new Map;return Ft().forEach(e=>{const n=`${e.productId}-${e.locationId}`;let i=t.get(n);i||(i={id:n,productId:e.productId,locationId:e.locationId,quantity:0,reservedQuantity:0,availableQuantity:0,averageCost:0,lastMovementDate:e.createdDate,lastMovementType:e.movementType},t.set(n,i)),e.movementType==="in"||e.movementType==="transfer"?(e.locationId===e.toLocationId||e.movementType==="in")&&(i.quantity+=e.quantity*1):e.movementType==="out"?i.quantity-=e.quantity*1:e.movementType==="adjustment"&&(i.quantity=e.quantity*1),new Date(e.createdDate)>new Date(i.lastMovementDate)&&(i.lastMovementDate=e.createdDate,i.lastMovementType=e.movementType),i.averageCost=e.unitCost*1,i.availableQuantity=i.quantity*1-i.reservedQuantity*1}),Array.from(t.values())};Rr(rs());const[Kr,Pn]=te(ts),ns={TRANSFER:1,transfer:1},Le={get products(){return yr()},get locations(){return mr()},get movements(){return Ft()},get stockLevels(){return nr()},parseInventoryData:t=>{const e=Object.keys(t).slice(0,900),n=[],i=a=>{let s=t;s[a]?.products&&s[a]?.products?.map(l=>{let c=ga(s[a]?.type),d=l?.price*1||l?.unitCost*1,y=l?.qty*1||l?.quantity*1;d=isNaN(d)?0:d,y=isNaN(y)?0:y;let g={id:s[a]?.ssg_inventory_key,productId:l?.product?.id,productName:l?.product?.label,productSku:l?.product?.code,locationId:s[a]?.store,locationName:s[a]?.store,location:s[a]?.store,movementType:c,quantity:y,unitCost:d,totalCost:d*1*y,minStock:10,referenceNumber:"PO-001",notes:s[a]?.description||s[a]?.notes,createdBy:"admin",createdDate:s[a]?.createDate?new Date(s[a]?.createDate).toISOString():new Date().toISOString(),invoiceId:s[a]?.invoice};if(n.push(g),ns[s[a].movementType]&&s[a]?.fromLocationId){let I=Le.getLocationById(s[a]?.fromLocationId);const L={id:s[a]?.ssg_inventory_key,productId:l?.product?.id,productName:l?.product?.label,productSku:l?.product?.code,locationId:s[a]?.fromLocationId,locationName:I?.name||"",movementType:"out",quantity:y*-1,unitCost:d,totalCost:d*-1*y,minStock:10,referenceNumber:s[a]?.referenceNumber,notes:`Transfer to ${s[a]?.locationName}`+(s[a].notes?` - ${s[a].notes}`:""),createdBy:s[a].createdBy,createdDate:s[a]?.createdDate,invoiceId:s[a]?.invoiceId,toLocationId:s[a]?.locationId,toLocationName:s[a]?.locationName};n.push(L)}})};return e.map(i),n},fecthInventory:async t=>{const e=await Zt.getInventory(t),n=Le.parseInventoryData(e);Le.updMovements(n)},fecthProduct:async t=>{const e=await Zt.getProducts(t),n=Object.keys(e),i=s=>{let l=e;return{id:s,name:l[s].name,businessId:l[s].businessId,sku:l[s].code,UPC:l[s].UPC,numCode:l[s].codeN,category:l[s].category,unitCost:l[s].unitCost||0,unitOfMeasure:l[s].unitOfMeasure,minStockLevel:l[s].minStockLevel,maxStockLevel:l[s].maxStockLevel,isActive:l[s].isActive,description:l[s].description||"",createdDate:l[s].createdAt||new Date().toISOString(),lastModified:l[s].updatedAt||new Date().toISOString()}},a=n.map(i);return Le.updProduct(a),a},getProductById:t=>yr().find(e=>e.id===t),updProduct:t=>{Sn(t)},getProductsBySku:t=>yr().filter(e=>e.sku.toLowerCase().includes(t.toLowerCase())),getProductsByCategory:t=>yr().filter(e=>e.category===t),getActiveProducts:()=>yr().filter(t=>t.name),getLocationById:t=>mr().find(e=>e.id===t),getLocationsByType:t=>mr().filter(e=>e.type===t),getActiveLocations:()=>mr().filter(t=>t.isActive),getMovementsByProduct:t=>Ft().filter(e=>e.productId===t),updMovements:t=>{Qr([...t]),Rr(Jr())},getMovementsByLocation:t=>Ft().filter(e=>e.locationId===t),getMovementsByDateRange:(t,e)=>Ft().filter(n=>n.createdDate>=t&&n.createdDate<=e),getStockByProduct:t=>nr().filter(e=>e.productId===t),getStockByLocation:t=>nr().filter(e=>e.locationId===t),getStockByProductAndLocation:(t,e)=>nr().find(n=>n.productId===t&&n.locationId===e),getTotalStockByProduct:t=>nr().filter(e=>e.productId===t).reduce((e,n)=>e*1+n.quantity*1,0),getLastLocationByProduct:t=>{const e=Ft().filter(n=>n.productId===t).sort((n,i)=>new Date(i.createdDate).getTime()-new Date(n.createdDate).getTime());if(e.length>0)return mr().find(n=>n.id===e[0].locationId)},getLowStockProducts:()=>(yr()||[])?.map(t=>{const e=nr().filter(n=>n.productId===t.id).reduce((n,i)=>n+i.quantity,0);return{...t,currentStock:e}}).filter(t=>t.currentStock<=t.minStockLevel),addInventoryMovement:t=>{const e={...t,id:`mov-${Date.now()}`,createdDate:new Date().toISOString()};Qr(n=>[...n,e]),Rr(Jr())},addBulkInventoryMovements:async t=>{const e=[],n=[],i=new Date().toISOString(),a=mr().find(c=>c.id===t.locationId);if(!a)return{success:!1,errors:["Invalid location"]};let s;if(t.movementType==="transfer"){if(!t.fromLocationId)return{success:!1,errors:["From location required for transfers"]};if(s=mr().find(c=>c.id===t.fromLocationId),!s)return{success:!1,errors:["Invalid from location"]};if(t.fromLocationId===t.locationId)return{success:!1,errors:["From and to locations cannot be the same"]}}if(t.items.forEach((c,d)=>{const y=yr().find(E=>E.id===c.productId);if(!y){e.push(`Item ${d+1}: Product not found`);return}if(c.quantity<=0){e.push(`Item ${d+1}: Quantity must be greater than 0`);return}if(t.movementType==="out"){const E=nr().filter($=>$.productId===c.productId&&$.locationId===t.locationId).reduce(($,S)=>$+S.quantity,0);if(c.quantity>E){e.push(`Item ${d+1}: Insufficient stock. Available: ${E}, Requested: ${c.quantity}`);return}}if(t.movementType==="transfer"){const E=nr().filter($=>$.productId===c.productId&&$.locationId===t.fromLocationId).reduce(($,S)=>$+S.quantity,0);if(c.quantity>E){e.push(`Item ${d+1}: Insufficient stock at ${s?.name}. Available: ${E}, Requested: ${c.quantity}`);return}}const g=c.unitCost||y.unitCost,I=c.quantity*g,L={id:`mov-${Date.now()}-${d}`,productId:y.id,productName:y.name,productSku:y.sku,locationId:t.locationId,locationName:a.name,movementType:t.movementType,quantity:c.quantity,unitCost:g,totalCost:I,minStock:10,referenceNumber:t.referenceNumber||"",notes:c.notes||t.generalNotes||"",createdBy:t.createdBy,createdDate:i,invoiceId:t.invoiceId,fromLocationId:t.fromLocationId,fromLocationName:s?.name};if(n.push(L),t.movementType==="transfer"&&s){const E={id:`mov-${Date.now()}-${d}-out`,productId:y.id,productName:y.name,productSku:y.sku,locationId:t.fromLocationId,locationName:s.name,movementType:"out",quantity:c.quantity,unitCost:g,totalCost:I,minStock:10,referenceNumber:t.referenceNumber||"",notes:`Transfer to ${a.name}`+(c.notes?` - ${c.notes}`:""),createdBy:t.createdBy,createdDate:i,invoiceId:t.invoiceId,toLocationId:t.locationId,toLocationName:a.name};n.push(E)}}),e.length>0)return{success:!1,errors:e};Qr(c=>[...c,...n]),Rr(Jr()),console.log({bulkRequest:t});const l=await Zt.addInventory(t);return console.log({prodResults:l}),{success:!0,errors:[]}},getMovementsByInvoice:t=>Ft().filter(e=>e.invoiceId===t),getInvoiceSummary:t=>{const e=Ft().filter(s=>s.invoiceId===t);if(e.length===0)return null;const n=e.reduce((s,l)=>s+l.totalCost,0),i=new Set(e.map(s=>s.productId)).size,a=e[0];return{invoiceId:t,referenceNumber:a.referenceNumber,movementType:a.movementType,location:a.locationName,fromLocation:a.fromLocationName,productCount:i,totalItems:e.reduce((s,l)=>s+l.quantity,0),totalValue:n,createdDate:a.createdDate,createdBy:a.createdBy}},addProduct:t=>{const e={...t,id:`prod-${Date.now()}`,createdDate:new Date().toISOString(),lastModified:new Date().toISOString()};Sn(n=>[...n,e])},addLocation:t=>{const e={...t,id:`loc-${Date.now()}`,createdDate:new Date().toISOString()};co(n=>[...n,e])},updateProduct:(t,e)=>{Sn(n=>n.map(i=>i.id===t?{...i,...e,lastModified:new Date().toISOString()}:i))},updateLocation:(t,e)=>{co(n=>n.map(i=>i.id===t?{...i,...e}:i))},updateMovement:(t,e)=>{Qr(n=>n.map(i=>i.id===t?{...i,...e,lastModified:new Date().toISOString()}:i)),Rr(Jr())},get inventory(){return Kr()},addItem(t){const e={...t,id:Date.now().toString(),lastUpdated:new Date().toISOString().split("T")[0]};return Pn([...Kr(),e]),e},updateItem(t,e){Pn(Kr().map(n=>n.id===t?{...n,...e,lastUpdated:new Date().toISOString().split("T")[0]}:n))},deleteItem(t){Pn(Kr().filter(e=>e.id!==t))},getItemById(t){return Ft().find(e=>e.id===t)},getLowStockItems(){return Ft().filter(t=>t.quantity*1<=t.minStock*1)},getTotalValue(){return Ft().reduce((t,e)=>t*1+e.unitCost*1*e.quantity*1,0)}};var uo=k("<div>"),os=k("<div><div><input type=text autocomplete=off>"),is=k("<button type=button>+"),as=k("<div><div><div><div></div><div><span>: </span><span>â€¢</span><span></span><span>â€¢</span><span></span></div></div><div><div> </div><div>");const Zo=t=>{const{t:e}=Qe(),[n,i]=te(!1),[a,s]=te(""),[l,c]=te(-1),d=qe(()=>t.value?Le.getProductById(t.value):null),y=qe(()=>{const _=a().toLowerCase();return _?Le.getActiveProducts().filter(m=>m.name.toLowerCase().includes(_)||m.sku.toLowerCase().includes(_)||m.category.toLowerCase().includes(_)):Le.getActiveProducts()}),g=()=>{i(!0),s(""),c(-1)},I=_=>{const m=_.target;s(m.value),i(!0),c(-1)},L=_=>{t.onChange(_),i(!1),s(""),c(-1)},E=_=>{const m=y();switch(_.key){case"ArrowDown":_.preventDefault(),c(D=>Math.min(D+1,m.length-1));break;case"ArrowUp":_.preventDefault(),c(D=>Math.max(D-1,-1));break;case"Enter":_.preventDefault(),l()>=0&&m[l()]&&L(m[l()]);break;case"Escape":i(!1),s(""),c(-1);break}},$=_=>{setTimeout(()=>{i(!1),s(""),c(-1)},150)},S=_=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(_),C=_=>Le.stockLevels.filter(m=>m.productId===_).reduce((m,D)=>m+D.quantity,0),b={position:"relative",width:"100%",...t.style},M={width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)",cursor:t.disabled?"not-allowed":"text",opacity:t.disabled?"0.6":"1"},H={position:"absolute",top:"100%",left:"0",right:"0","z-index":"1000","max-height":"300px","overflow-y":"auto",background:"var(--surface-color)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","box-shadow":"0 4px 12px rgba(0,0,0,0.15)","margin-top":"2px"},R=_=>({padding:"0.75rem",cursor:"pointer","border-bottom":"1px solid "+_?"var(--primary-color)":"var(--border-color)",background:_?"var(--strip-color)":"transparent",color:_?"var(--primary-color)":"var(--text-primary)",transition:"all 0.2s ease"}),G={display:"flex","justify-content":"space-between","align-items":"center"},Y={flex:"1"},le={"font-weight":"500","margin-bottom":"0.25rem"},de={"font-size":"0.875rem",color:"var(--text-muted)",display:"flex",gap:"0.5rem"},me={"text-align":"right","font-size":"0.875rem"},ne={padding:"1rem","text-align":"center",color:"var(--text-muted)","font-style":"italic"},Z=()=>n()&&a()?a():d()?`${d().name} (${d().sku})`:"",X={display:"flex","align-items":"stretch",width:"100%"},p={padding:"0.75rem",border:"1px solid var(--border-color)","border-left":"none","border-radius":"0 var(--border-radius-sm) var(--border-radius-sm) 0",background:"var(--surface-color)",cursor:"pointer",color:"var(--primary-color)","font-weight":"600","font-size":"1rem",transition:"all 0.2s ease","min-width":"40px",display:"flex","align-items":"center","justify-content":"center"},oe={...M,"border-radius":t.onAddNew?"var(--border-radius-sm) 0 0 var(--border-radius-sm)":"var(--border-radius-sm)","border-right":t.onAddNew?"none":"1px solid var(--border-color)"};return(()=>{var _=os(),m=_.firstChild,D=m.firstChild;return o(m,X),D.addEventListener("blur",$),D.$$keydown=E,D.$$click=g,D.$$input=I,r(m,(()=>{var v=z(()=>!!t.onAddNew);return()=>v()&&(()=>{var x=is();return x.addEventListener("mouseleave",h=>{h.currentTarget.style.background="var(--surface-color)",h.currentTarget.style.color="var(--primary-color)"}),x.addEventListener("mouseenter",h=>{h.currentTarget.style.background="var(--primary-color)",h.currentTarget.style.color="white"}),br(x,"click",t.onAddNew,!0),o(x,p),T(()=>Ze(x,"title",e("inventory.addProduct","Add new product"))),x})()})(),null),r(_,u(Ge,{get when(){return n()},get children(){var v=uo();return r(v,u(Ge,{get when(){return y().length>0},get fallback(){return(()=>{var x=uo();return o(x,ne),r(x,(()=>{var h=z(()=>!!a());return()=>h()?e("inventory.noProductsFound","No products found matching your search."):e("inventory.noProductsAvailable","No products available.")})()),x})()},get children(){return u(mt,{get each(){return y()},children:(x,h)=>{const w=C(x.id),ie=w<=x.minStockLevel;return(()=>{var P=as(),A=P.firstChild,j=A.firstChild,q=j.firstChild,re=q.nextSibling,W=re.firstChild,F=W.firstChild,ae=W.nextSibling,N=ae.nextSibling,J=N.nextSibling,fe=J.nextSibling,he=j.nextSibling,ee=he.firstChild,Q=ee.firstChild,se=ee.nextSibling;return P.addEventListener("mouseenter",()=>c(h())),P.$$click=()=>L(x),o(A,G),o(j,Y),o(q,le),r(q,()=>x.name),o(re,de),r(W,()=>e("inventory.sku","SKU"),F),r(W,()=>x.sku,null),r(N,()=>x.category),r(fe,()=>S(x.unitCost)),o(he,me),ee.style.setProperty("font-weight","600"),(ie?"#f44336":"var(--text-primary)")!=null?ee.style.setProperty("color",ie?"#f44336":"var(--text-primary)"):ee.style.removeProperty("color"),r(ee,w,Q),r(ee,()=>x.unitOfMeasure,null),se.style.setProperty("color","var(--text-muted)"),r(se,()=>ie?e("inventory.lowStock","Low Stock"):e("inventory.inStock","In Stock")),T(K=>o(P,R(h()===l()),K)),P})()}})}})),T(x=>o(v,H,x)),v}}),null),T(v=>{var x=b,h=oe,w=t.placeholder||e("inventory.searchProducts","Search products by name, SKU, or category..."),ie=t.disabled,P=t.required;return v.e=o(_,x,v.e),v.t=o(D,h,v.t),w!==v.a&&Ze(D,"placeholder",v.a=w),ie!==v.o&&(D.disabled=v.o=ie),P!==v.i&&(D.required=v.i=P),v},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),T(()=>D.value=Z()),_})()};vt(["input","click","keydown"]);var yo=k("<div>"),ls=k("<div><div><input type=text autocomplete=off>"),ss=k("<button type=button>+"),cs=k("<div><div><div><div> </div><div><span>: </span><span></span></div><div>");const dn=t=>{const{t:e}=Qe(),[n,i]=te(!1),[a,s]=te(""),[l,c]=te(-1),d=qe(()=>t.value?Le.getLocationById(t.value):null),y=qe(()=>{let _=Le.getActiveLocations();t.filterType&&(_=_.filter(D=>D.type===t.filterType));const m=a().toLowerCase();return m?_.filter(D=>D.name.toLowerCase().includes(m)||D?.code?.toLowerCase().includes(m)||D?.type?.toLowerCase().includes(m)||D?.address?.toLowerCase().includes(m)):_}),g=()=>{i(!0),s(""),c(-1)},I=_=>{const m=_.target;s(m.value),i(!0),c(-1)},L=_=>{t.onChange(_.id),i(!1),s(""),c(-1)},E=_=>{const m=y();switch(_.key){case"ArrowDown":_.preventDefault(),c(D=>Math.min(D+1,m.length-1));break;case"ArrowUp":_.preventDefault(),c(D=>Math.max(D-1,-1));break;case"Enter":_.preventDefault(),l()>=0&&m[l()]&&L(m[l()]);break;case"Escape":i(!1),s(""),c(-1);break}},$=_=>{setTimeout(()=>{i(!1),s(""),c(-1)},150)},S=_=>({warehouse:"ðŸ­",store:"ðŸª",supplier:"ðŸšš",customer:"ðŸ‘¥"})[_]||"ðŸ“",C=_=>({warehouse:"#2196F3",store:"#4CAF50",supplier:"#FF9800",customer:"#9C27B0"})[_]||"#757575",b={position:"relative",width:"100%",...t.style},M={width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)",cursor:t.disabled?"not-allowed":"text",opacity:t.disabled?"0.6":"1"},H={display:"flex","align-items":"stretch",width:"100%"},R={padding:"0.75rem",border:"1px solid var(--border-color)","border-left":"none","border-radius":"0 var(--border-radius-sm) var(--border-radius-sm) 0",background:"var(--surface-color)",cursor:"pointer",color:"var(--primary-color)","font-weight":"600","font-size":"1rem",transition:"all 0.2s ease","min-width":"40px",display:"flex","align-items":"center","justify-content":"center"},G={...M,"border-radius":t.onAddNew?"var(--border-radius-sm) 0 0 var(--border-radius-sm)":"var(--border-radius-sm)","border-right":t.onAddNew?"none":"1px solid var(--border-color)"},Y={position:"absolute",top:"100%",left:"0",right:"0","z-index":"1000","max-height":"300px","overflow-y":"auto",background:"var(--surface-color)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","box-shadow":"0 4px 12px rgba(0,0,0,0.15)","margin-top":"2px"},le=_=>({padding:"0.75rem",cursor:"pointer","border-bottom":"1px solid var(--border-color)",background:_?"var(--strip-color)":"transparent",color:_?"var(--primary-dark)":"var(--text-primary)",transition:"all 0.2s ease"}),de={display:"flex","justify-content":"space-between","align-items":"center"},me={flex:"1"},ne={"font-weight":"500","margin-bottom":"0.25rem"},Z={"font-size":"0.875rem",color:"var(--text-muted)",display:"flex",gap:"0.5rem","align-items":"center"},X=_=>({padding:"0.2rem 0.5rem","border-radius":"var(--border-radius-sm)","font-size":"0.7rem","font-weight":"500",background:C(_),color:"white","text-transform":"uppercase"}),p={padding:"1rem","text-align":"center",color:"var(--text-muted)","font-style":"italic"},oe=()=>n()&&a()?a():d()?`${d().name} (${d().code})`:"";return(()=>{var _=ls(),m=_.firstChild,D=m.firstChild;return o(m,H),D.addEventListener("blur",$),D.$$keydown=E,D.$$click=g,D.$$input=I,r(m,(()=>{var v=z(()=>!!t.onAddNew);return()=>v()&&(()=>{var x=ss();return x.addEventListener("mouseleave",h=>{h.currentTarget.style.background="var(--surface-color)",h.currentTarget.style.color="var(--primary-color)"}),x.addEventListener("mouseenter",h=>{h.currentTarget.style.background="var(--primary-color)",h.currentTarget.style.color="white"}),br(x,"click",t.onAddNew,!0),o(x,R),T(()=>Ze(x,"title",e("inventory.addLocation","Add new location"))),x})()})(),null),r(_,u(Ge,{get when(){return n()},get children(){var v=yo();return r(v,u(Ge,{get when(){return y().length>0},get fallback(){return(()=>{var x=yo();return o(x,p),r(x,(()=>{var h=z(()=>!!a());return()=>h()?e("inventory.noLocationsFound","No locations found matching your search."):e("inventory.noLocationsAvailable","No locations available.")})()),x})()},get children(){return u(mt,{get each(){return y()},children:(x,h)=>(()=>{var w=cs(),ie=w.firstChild,P=ie.firstChild,A=P.firstChild,j=A.firstChild,q=A.nextSibling,re=q.firstChild,W=re.firstChild,F=re.nextSibling,ae=q.nextSibling;return w.addEventListener("mouseenter",()=>c(h())),w.$$click=()=>L(x),o(ie,de),o(P,me),o(A,ne),r(A,()=>S(x.type),j),r(A,()=>x.name,null),o(q,Z),r(re,()=>e("inventory.locationCode","Code"),W),r(re,()=>x.code,null),r(F,()=>x.type),ae.style.setProperty("font-size","0.75rem"),ae.style.setProperty("color","var(--text-muted)"),ae.style.setProperty("margin-top","0.25rem"),r(ae,()=>x.address),T(N=>{var J=le(h()===l()),fe=X(x.type);return N.e=o(w,J,N.e),N.t=o(F,fe,N.t),N},{e:void 0,t:void 0}),w})()})}})),T(x=>o(v,Y,x)),v}}),null),T(v=>{var x=b,h=G,w=t.placeholder||e("inventory.searchLocations","Search locations by name, code, or type..."),ie=t.disabled,P=t.required;return v.e=o(_,x,v.e),v.t=o(D,h,v.t),w!==v.a&&Ze(D,"placeholder",v.a=w),ie!==v.o&&(D.disabled=v.o=ie),P!==v.i&&(D.required=v.i=P),v},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),T(()=>D.value=oe()),_})()};vt(["input","click","keydown"]);var ds=k("<form><div><label> *</label><input type=text required></div><div><div><label> *</label><input type=text required></div><div><label> *</label><input type=text list=categories required><datalist id=categories><option value=Electronics></option><option value=Accessories></option><option value=Office></option><option value=Furniture></option><option value=Software></option><option value=Hardware></option></datalist></div></div><div><label></label><textarea></textarea></div><div><div><label></label><select><option value=pcs></option><option value=kg></option><option value=lbs></option><option value=m></option><option value=ft></option><option value=l></option><option value=gal></option><option value=box></option><option value=pack></option></select></div><div><label></label><input type=number min=0 step=0.01 placeholder=0.00></div></div><div><div><label></label><input type=number min=0 step=0.01 placeholder=0.00></div><div></div></div><div><div><label></label><input type=number min=0 step=1></div><div><label></label><input type=number min=1 step=1></div></div><div>"),us=k("<div>");const yn=t=>{const{t:e}=Qe(),[n,i]=te(""),[a,s]=te(""),[l,c]=te(""),[d,y]=te(""),[g,I]=te("pcs"),[L,E]=te(0),[$,S]=te(0),[C,b]=te(10),[M,H]=te(100),[R,G]=te(""),Y=()=>{i(""),s(""),c(""),y(""),I("pcs"),E(0),S(0),b(10),H(100),G("")},le=m=>{if(m.preventDefault(),G(""),!n().trim()){G(e("forms.productNameRequired"));return}if(!a().trim()){G(e("forms.skuRequired"));return}if(!d().trim()){G(e("forms.categoryRequired"));return}if(L()<0){G(e("forms.unitCostNotNegative"));return}if($()<0){G(e("forms.sellingPriceNotNegative"));return}if(C()<0){G(e("forms.minStockNotNegative"));return}if(M()<=C()){G(e("forms.maxStockGreaterThanMin"));return}if(Le.getProductsBySku(a()).length>0){G(e("forms.skuAlreadyExists"));return}const v={name:n().trim(),sku:a().trim().toUpperCase(),description:l().trim(),category:d().trim(),unitOfMeasure:g(),unitCost:L(),sellingPrice:$(),minStockLevel:C(),maxStockLevel:M(),isActive:!0,businessId:"default-business"};Le.addProduct(v);const x=`prod-${Date.now()}`;t.onProductAdded&&t.onProductAdded(x),Y(),t.onClose()},de=()=>{Y(),t.onClose()},me={"margin-bottom":"1.5rem"},ne={display:"block","margin-bottom":"0.5rem","font-weight":"500",color:"var(--text-primary)"},Z={width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)"},X={...Z,cursor:"pointer"},p={color:"#f44336","font-size":"0.875rem","margin-bottom":"1rem"},oe={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},_={display:"grid","grid-template-columns":"1fr 1fr",gap:"1rem"};return u(It,{get isOpen(){return t.isOpen},onClose:de,get title(){return e("inventory.addNewProduct")},get children(){var m=ds(),D=m.firstChild,v=D.firstChild,x=v.firstChild,h=v.nextSibling,w=D.nextSibling,ie=w.firstChild,P=ie.firstChild,A=P.firstChild,j=P.nextSibling,q=ie.nextSibling,re=q.firstChild,W=re.firstChild,F=re.nextSibling,ae=w.nextSibling,N=ae.firstChild,J=N.nextSibling,fe=ae.nextSibling,he=fe.firstChild,ee=he.firstChild,Q=ee.nextSibling,se=Q.firstChild,K=se.nextSibling,O=K.nextSibling,ge=O.nextSibling,pe=ge.nextSibling,B=pe.nextSibling,V=B.nextSibling,Pe=V.nextSibling,ye=Pe.nextSibling,ce=he.nextSibling,U=ce.firstChild,f=U.nextSibling,ue=fe.nextSibling,_e=ue.firstChild,$e=_e.firstChild,xe=$e.nextSibling,we=ue.nextSibling,Re=we.firstChild,Ie=Re.firstChild,ve=Ie.nextSibling,ke=Re.nextSibling,Ne=ke.firstChild,Be=Ne.nextSibling,Me=we.nextSibling;return m.addEventListener("submit",le),r(v,()=>e("inventory.productName"),x),h.addEventListener("change",Se=>i(Se.target.value)),r(P,()=>e("inventory.sku"),A),j.addEventListener("change",Se=>s(Se.target.value)),r(re,()=>e("inventory.category"),W),F.addEventListener("change",Se=>y(Se.target.value)),r(N,()=>e("common.description")),J.addEventListener("change",Se=>c(Se.target.value)),r(ee,()=>e("inventory.unitOfMeasure")),Q.addEventListener("change",Se=>I(Se.target.value)),r(se,()=>e("inventory.pieces")),r(K,()=>e("inventory.kilograms")),r(O,()=>e("inventory.pounds")),r(ge,()=>e("inventory.meters")),r(pe,()=>e("inventory.feet")),r(B,()=>e("inventory.liters")),r(V,()=>e("inventory.gallons")),r(Pe,()=>e("inventory.boxes")),r(ye,()=>e("inventory.packs")),r(U,()=>e("inventory.unitCost")),f.addEventListener("change",Se=>E(Number(Se.target.value))),r($e,()=>e("inventory.sellingPrice")),xe.addEventListener("change",Se=>S(Number(Se.target.value))),r(Ie,()=>e("inventory.minimumStockLevel")),ve.addEventListener("change",Se=>b(Number(Se.target.value))),r(Ne,()=>e("inventory.maximumStockLevel")),Be.addEventListener("change",Se=>H(Number(Se.target.value))),r(m,(()=>{var Se=z(()=>!!R());return()=>Se()&&(()=>{var Fe=us();return o(Fe,p),r(Fe,R),Fe})()})(),Me),o(Me,oe),r(Me,u(Ae,{variant:"secondary",type:"button",onClick:de,get children(){return e("common.cancel")}}),null),r(Me,u(Ae,{variant:"primary",type:"submit",get children(){return e("inventory.addProduct")}}),null),T(Se=>{var Fe=me,Oe=ne,Je=Z,be=e("inventory.enterProductName"),Ve=_,it=ne,We=Z,et=e("inventory.enterSkuCode"),tt=ne,gt=Z,pt=e("inventory.enterCategory"),at=me,De=ne,Ee={...Z,"min-height":"80px",resize:"vertical"},Ue=e("inventory.enterProductDescription"),He=_,ot=ne,Ye=X,Ce=ne,ze=Z,Ke=_,rt=ne,Ct=Z,Pt=_,ft=ne,$t=Z,lt=ne,ut=Z;return Se.e=o(D,Fe,Se.e),Se.t=o(v,Oe,Se.t),Se.a=o(h,Je,Se.a),be!==Se.o&&Ze(h,"placeholder",Se.o=be),Se.i=o(w,Ve,Se.i),Se.n=o(P,it,Se.n),Se.s=o(j,We,Se.s),et!==Se.h&&Ze(j,"placeholder",Se.h=et),Se.r=o(re,tt,Se.r),Se.d=o(F,gt,Se.d),pt!==Se.l&&Ze(F,"placeholder",Se.l=pt),Se.u=o(ae,at,Se.u),Se.c=o(N,De,Se.c),Se.w=o(J,Ee,Se.w),Ue!==Se.m&&Ze(J,"placeholder",Se.m=Ue),Se.f=o(fe,He,Se.f),Se.y=o(ee,ot,Se.y),Se.g=o(Q,Ye,Se.g),Se.p=o(U,Ce,Se.p),Se.b=o(f,ze,Se.b),Se.T=o(ue,Ke,Se.T),Se.A=o($e,rt,Se.A),Se.O=o(xe,Ct,Se.O),Se.I=o(we,Pt,Se.I),Se.S=o(Ie,ft,Se.S),Se.W=o(ve,$t,Se.W),Se.C=o(Ne,lt,Se.C),Se.B=o(Be,ut,Se.B),Se},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0,O:void 0,I:void 0,S:void 0,W:void 0,C:void 0,B:void 0}),T(()=>h.value=n()),T(()=>j.value=a()),T(()=>F.value=d()),T(()=>J.value=l()),T(()=>Q.value=g()),T(()=>f.value=L()),T(()=>xe.value=$()),T(()=>ve.value=C()),T(()=>Be.value=M()),m}})};var ys=k('<form><div><label> *</label><input type=text required></div><div><div><label> *<button type=button title="Generate code automatically"></button></label><input type=text required><div></div></div><div><label> *</label><select required><option value=warehouse> </option><option value=store> </option><option value=supplier> </option><option value=customer> </option></select><div></div></div></div><div><label> *</label><textarea required></textarea></div><div>'),ms=k("<div><div>:</div><div><span></span><div><div></div><div>"),vs=k("<div>");const Gn=t=>{const{t:e}=Qe(),[n,i]=te(""),[a,s]=te(""),[l,c]=te("warehouse"),[d,y]=te(""),[g,I]=te(""),L=()=>{i(""),s(""),c("warehouse"),y(""),I("")},E=()=>{if(n()){const Z=l()==="warehouse"?"WH":l()==="store"?"ST":l()==="supplier"?"SUP":"CUST",X=n().toUpperCase().replace(/[^A-Z0-9]/g,"").substring(0,3),p=String(Math.floor(Math.random()*1e3)).padStart(3,"0");s(`${Z}-${X}-${p}`)}},$=Z=>{if(Z.preventDefault(),I(""),!n().trim()){I(e("forms.locationNameRequired"));return}if(!a().trim()){I(e("forms.locationCodeRequired"));return}if(!d().trim()){I(e("forms.addressRequired"));return}if(Le.locations.filter(_=>_.code.toLowerCase()===a().toLowerCase()).length>0){I(e("forms.locationCodeExists"));return}const p={name:n().trim(),code:a().trim().toUpperCase(),type:l(),address:d().trim(),isActive:!0};Le.addLocation(p);const oe=`loc-${Date.now()}`;t.onLocationAdded&&t.onLocationAdded(oe),L(),t.onClose()},S=()=>{L(),t.onClose()},C={"margin-bottom":"1.5rem"},b={display:"block","margin-bottom":"0.5rem","font-weight":"500",color:"var(--text-primary)"},M={width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)"},H={...M,cursor:"pointer"},R={color:"#f44336","font-size":"0.875rem","margin-bottom":"1rem"},G={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},Y={display:"grid","grid-template-columns":"2fr 1fr",gap:"1rem"},le={"font-size":"0.875rem",color:"var(--text-muted)","margin-top":"0.25rem"},de={padding:"0.25rem 0.5rem","font-size":"0.75rem","margin-left":"0.5rem",background:"var(--background-color)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)",cursor:"pointer",color:"var(--text-muted)"},me=Z=>({warehouse:"ðŸ­",store:"ðŸª",supplier:"ðŸšš",customer:"ðŸ‘¥"})[Z]||"ðŸ“",ne=Z=>({warehouse:e("inventory.warehouseDescription"),store:e("inventory.storeDescription"),supplier:e("inventory.supplierDescription"),customer:e("inventory.customerDescription")})[Z]||"";return u(It,{get isOpen(){return t.isOpen},onClose:S,get title(){return e("inventory.addNewLocation")},get children(){var Z=ys(),X=Z.firstChild,p=X.firstChild,oe=p.firstChild,_=p.nextSibling,m=X.nextSibling,D=m.firstChild,v=D.firstChild,x=v.firstChild,h=x.nextSibling,w=v.nextSibling,ie=w.nextSibling,P=D.nextSibling,A=P.firstChild,j=A.firstChild,q=A.nextSibling,re=q.firstChild,W=re.firstChild,F=re.nextSibling,ae=F.firstChild,N=F.nextSibling,J=N.firstChild,fe=N.nextSibling,he=fe.firstChild,ee=q.nextSibling,Q=m.nextSibling,se=Q.firstChild,K=se.firstChild,O=se.nextSibling,ge=Q.nextSibling;return Z.addEventListener("submit",$),r(p,()=>e("inventory.locationName"),oe),_.addEventListener("change",pe=>i(pe.target.value)),o(m,Y),r(v,()=>e("inventory.locationCode"),x),h.$$click=E,o(h,de),r(h,()=>e("common.generate")),w.addEventListener("change",pe=>s(pe.target.value)),r(ie,()=>e("inventory.uniqueIdentifierHelp")),r(A,()=>e("inventory.locationType"),j),q.addEventListener("change",pe=>c(pe.target.value)),r(re,()=>me("warehouse"),W),r(re,()=>e("inventory.warehouse"),null),r(F,()=>me("store"),ae),r(F,()=>e("inventory.store"),null),r(N,()=>me("supplier"),J),r(N,()=>e("inventory.supplier"),null),r(fe,()=>me("customer"),he),r(fe,()=>e("inventory.customer"),null),r(ee,()=>ne(l())),r(se,()=>e("common.address"),K),O.addEventListener("change",pe=>y(pe.target.value)),r(Z,(()=>{var pe=z(()=>!!n());return()=>pe()&&(()=>{var B=ms(),V=B.firstChild,Pe=V.firstChild,ye=V.nextSibling,ce=ye.firstChild,U=ce.nextSibling,f=U.firstChild,ue=f.nextSibling;return B.style.setProperty("padding","1rem"),B.style.setProperty("background","var(--background-color)"),B.style.setProperty("border-radius","var(--border-radius-sm)"),B.style.setProperty("border","1px solid var(--border-color)"),B.style.setProperty("margin-bottom","1rem"),V.style.setProperty("font-weight","500"),V.style.setProperty("margin-bottom","0.5rem"),r(V,()=>e("common.preview"),Pe),ye.style.setProperty("display","flex"),ye.style.setProperty("align-items","center"),ye.style.setProperty("gap","0.5rem"),ce.style.setProperty("font-size","1.2rem"),r(ce,()=>me(l())),f.style.setProperty("font-weight","600"),r(f,n),ue.style.setProperty("font-size","0.875rem"),ue.style.setProperty("color","var(--text-muted)"),r(ue,(()=>{var _e=z(()=>!!a());return()=>_e()&&`${a()} â€¢ `})(),null),r(ue,l,null),B})()})(),ge),r(Z,(()=>{var pe=z(()=>!!g());return()=>pe()&&(()=>{var B=vs();return o(B,R),r(B,g),B})()})(),ge),o(ge,G),r(ge,u(Ae,{variant:"secondary",type:"button",onClick:S,get children(){return e("common.cancel")}}),null),r(ge,u(Ae,{variant:"primary",type:"submit",get children(){return e("inventory.addLocation")}}),null),T(pe=>{var B=C,V=b,Pe=M,ye=e("inventory.enterLocationName"),ce=b,U=M,f=e("inventory.enterUniqueCode"),ue=le,_e=b,$e=H,xe=le,we=C,Re=b,Ie={...M,"min-height":"100px",resize:"vertical"},ve=e("inventory.enterCompleteAddress");return pe.e=o(X,B,pe.e),pe.t=o(p,V,pe.t),pe.a=o(_,Pe,pe.a),ye!==pe.o&&Ze(_,"placeholder",pe.o=ye),pe.i=o(v,ce,pe.i),pe.n=o(w,U,pe.n),f!==pe.s&&Ze(w,"placeholder",pe.s=f),pe.h=o(ie,ue,pe.h),pe.r=o(A,_e,pe.r),pe.d=o(q,$e,pe.d),pe.l=o(ee,xe,pe.l),pe.u=o(Q,we,pe.u),pe.c=o(se,Re,pe.c),pe.w=o(O,Ie,pe.w),ve!==pe.m&&Ze(O,"placeholder",pe.m=ve),pe},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0}),T(()=>_.value=n()),T(()=>w.value=a()),T(()=>q.value=l()),T(()=>O.value=d()),Z}})};vt(["click"]);var gs=k("<form><div>"),mo=k("<div><label> *"),ps=k("<div><label> *</label><select required><option value=in></option><option value=out></option><option value=transfer></option><option value=adjustment>"),fs=k("<div><label>"),bs=k("<div><label> *</label><input type=number min=0 step=1 required>"),hs=k("<div><label></label><input type=number min=0 step=0.01>"),Ss=k("<div><label></label><input type=text>"),Ps=k("<div><label></label><textarea>"),$s=k("<div><div><span>:</span><span> </span></div><div><span>:</span><span></span></div><div><span>:</span><span> "),xs=k("<div><div><span>:</span><span>"),Cs=k("<div>");const _s=t=>{const{t:e}=Qe(),[n,i]=te({name:"",price:"",quantity:"",category:"",description:"",sku:"",supplier:"",minStock:"",location:""}),[a,s]=te(""),[l,c]=te(""),[d,y]=te("in"),[g,I]=te(0),[L,E]=te(0),[$,S]=te(""),[C,b]=te(""),[M,H]=te(""),[R,G]=te(""),[Y,le]=te(!1),[de,me]=te(!1),ne=()=>t.mode==="movement",Z=qe(()=>a()?Le.getProductById(a()):null),X=qe(()=>l()?Le.getLocationById(l()):null),p=qe(()=>M()?Le.getLocationById(M()):null),oe=qe(()=>g()*L()),_=qe(()=>!a()||!l()?0:Le.getStockByProductAndLocation(a(),l())?.quantity||0),m=[{value:"Electronics",label:"Electronics"},{value:"Accessories",label:"Accessories"},{value:"Furniture",label:"Furniture"},{value:"Office Supplies",label:"Office Supplies"},{value:"Software",label:"Software"},{value:"Hardware",label:"Hardware"},{value:"Consumables",label:"Consumables"}],D=[{value:"Warehouse A",label:"Warehouse A"},{value:"Warehouse B",label:"Warehouse B"},{value:"Warehouse C",label:"Warehouse C"},{value:"Storage Room",label:"Storage Room"},{value:"Main Office",label:"Main Office"}],v={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},x=()=>{s(""),c(""),y("in"),I(0),E(0),S(""),b(""),H(""),G("")},h=()=>{i({name:"",price:"",quantity:"",category:"",description:"",sku:"",supplier:"",minStock:"",location:""})},w=fe=>{if(fe.preventDefault(),ne()){if(G(""),!a()){G(e("forms.selectProduct"));return}if(!l()){G(e("forms.selectLocation"));return}if(g()<=0){G(e("forms.quantityGreaterThanZero"));return}if(L()<0){G(e("forms.unitCostNotNegative"));return}if(d()==="transfer"&&!M()){G(e("forms.selectFromLocation"));return}if(d()==="transfer"&&M()===l()){G(e("forms.sameLocationError"));return}if(d()==="out"&&g()>_()){G(e("forms.insufficientStock",{currentStock:_()}));return}const he=Z(),ee=X(),Q={productId:he.id,productName:he.name,productSku:he.sku,locationId:ee.id,locationName:ee.name,movementType:d(),quantity:g(),unitCost:L()||he.unitCost,totalCost:oe()||g()*he.unitCost,referenceNumber:$()||`AUTO-${Date.now()}`,notes:C(),createdBy:"admin",fromLocationId:d()==="transfer"?M():void 0,fromLocationName:d()==="transfer"?p()?.name:void 0};Le.addInventoryMovement(Q),x()}else{const he=n();if(!he.name||!he.price||!he.quantity||!he.category||!he.sku||!he.supplier||!he.minStock||!he.location){alert(e("forms.fillAllRequired"));return}const ee={name:he.name,price:parseFloat(he.price),quantity:parseInt(he.quantity),category:he.category,description:he.description,sku:he.sku,supplier:he.supplier,minStock:parseInt(he.minStock),location:he.location};Le.addItem(ee),h()}t.onClose()},ie=(fe,he)=>{i(ee=>({...ee,[fe]:he}))},P=()=>{ne()?x():h(),t.onClose()},A=fe=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(fe),j={width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)"},q={...j,cursor:"pointer"},re={color:"#f44336","font-size":"0.875rem","margin-top":"0.5rem"},W={padding:"1rem",background:"var(--background-color)","border-radius":"var(--border-radius-sm)",border:"1px solid var(--border-color)","margin-bottom":"1rem"},F={display:"flex","justify-content":"space-between","margin-bottom":"0.5rem"},ae={"font-weight":"500",color:"var(--text-muted)"},N={"font-weight":"600",color:"var(--text-primary)"},J=()=>ne()?e("inventory.addMovement"):e("inventory.addNewItem");return u(It,{get isOpen(){return t.isOpen},onClose:P,get title(){return J()},get children(){return[(()=>{var fe=gs(),he=fe.firstChild;return fe.addEventListener("submit",w),r(fe,(()=>{var ee=z(()=>!!ne());return()=>ee()?[(()=>{var Q=mo(),se=Q.firstChild,K=se.firstChild;return Q.style.setProperty("margin-bottom","1.5rem"),se.style.setProperty("display","block"),se.style.setProperty("margin-bottom","0.5rem"),se.style.setProperty("font-weight","500"),r(se,()=>e("inventory.product"),K),r(Q,u(Zo,{get value(){return a()},onChange:O=>{s(O);const ge=Le.getProductById(O);ge&&E(ge.unitCost)},get placeholder(){return e("inventory.searchProductsPlaceholder")},onAddNew:()=>le(!0),required:!0}),null),Q})(),(()=>{var Q=ps(),se=Q.firstChild,K=se.firstChild,O=se.nextSibling,ge=O.firstChild,pe=ge.nextSibling,B=pe.nextSibling,V=B.nextSibling;return Q.style.setProperty("margin-bottom","1.5rem"),se.style.setProperty("display","block"),se.style.setProperty("margin-bottom","0.5rem"),se.style.setProperty("font-weight","500"),r(se,()=>e("inventory.movementType"),K),O.addEventListener("change",Pe=>y(Pe.target.value)),r(ge,()=>e("inventory.stockInPurchase")),r(pe,()=>e("inventory.stockOutSale")),r(B,()=>e("inventory.transferBetween")),r(V,()=>e("inventory.stockAdjustment")),T(Pe=>o(O,q,Pe)),T(()=>O.value=d()),Q})(),z(()=>z(()=>d()==="transfer")()&&(()=>{var Q=mo(),se=Q.firstChild,K=se.firstChild;return Q.style.setProperty("margin-bottom","1.5rem"),se.style.setProperty("display","block"),se.style.setProperty("margin-bottom","0.5rem"),se.style.setProperty("font-weight","500"),r(se,()=>e("inventory.fromLocation"),K),r(Q,u(dn,{get value(){return M()},onChange:O=>H(O),get placeholder(){return e("inventory.searchSourceLocation")},onAddNew:()=>me(!0),required:!0}),null),Q})()),(()=>{var Q=fs(),se=Q.firstChild;return Q.style.setProperty("margin-bottom","1.5rem"),se.style.setProperty("display","block"),se.style.setProperty("margin-bottom","0.5rem"),se.style.setProperty("font-weight","500"),r(se,(()=>{var K=z(()=>d()==="transfer");return()=>K()?e("inventory.toLocation")+" *":e("inventory.locationName")+" *"})()),r(Q,u(dn,{get value(){return l()},onChange:K=>c(K),get placeholder(){return z(()=>d()==="transfer")()?e("inventory.searchDestinationLocation"):e("inventory.searchLocation")},onAddNew:()=>me(!0),required:!0}),null),Q})(),z(()=>z(()=>!!(Z()&&X()))()&&(()=>{var Q=$s(),se=Q.firstChild,K=se.firstChild,O=K.firstChild,ge=K.nextSibling,pe=ge.firstChild,B=se.nextSibling,V=B.firstChild,Pe=V.firstChild,ye=V.nextSibling,ce=B.nextSibling,U=ce.firstChild,f=U.firstChild,ue=U.nextSibling,_e=ue.firstChild;return r(K,()=>e("inventory.currentStockAt",{location:X()?.name}),O),r(ge,_,pe),r(ge,()=>Z()?.unitOfMeasure,null),r(V,()=>e("inventory.productCost"),Pe),r(ye,()=>A(Z()?.unitCost||0)),r(U,()=>e("inventory.minStockLevel"),f),r(ue,()=>Z()?.minStockLevel,_e),r(ue,()=>Z()?.unitOfMeasure,null),T($e=>{var xe=W,we=F,Re=ae,Ie=N,ve=F,ke=ae,Ne=N,Be=F,Me=ae,Se=N;return $e.e=o(Q,xe,$e.e),$e.t=o(se,we,$e.t),$e.a=o(K,Re,$e.a),$e.o=o(ge,Ie,$e.o),$e.i=o(B,ve,$e.i),$e.n=o(V,ke,$e.n),$e.s=o(ye,Ne,$e.s),$e.h=o(ce,Be,$e.h),$e.r=o(U,Me,$e.r),$e.d=o(ue,Se,$e.d),$e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0}),Q})()),(()=>{var Q=bs(),se=Q.firstChild,K=se.firstChild,O=se.nextSibling;return Q.style.setProperty("margin-bottom","1.5rem"),se.style.setProperty("display","block"),se.style.setProperty("margin-bottom","0.5rem"),se.style.setProperty("font-weight","500"),r(se,()=>e("inventory.quantity"),K),O.addEventListener("change",ge=>I(Number(ge.target.value))),T(ge=>o(O,j,ge)),T(()=>O.value=g()),Q})(),(()=>{var Q=hs(),se=Q.firstChild,K=se.nextSibling;return Q.style.setProperty("margin-bottom","1.5rem"),se.style.setProperty("display","block"),se.style.setProperty("margin-bottom","0.5rem"),se.style.setProperty("font-weight","500"),r(se,()=>e("inventory.unitCost")),K.addEventListener("change",O=>E(Number(O.target.value))),T(O=>{var ge=j,pe=e("inventory.willUseDefaultCost");return O.e=o(K,ge,O.e),pe!==O.t&&Ze(K,"placeholder",O.t=pe),O},{e:void 0,t:void 0}),T(()=>K.value=L()),Q})(),z(()=>z(()=>g()>0&&L()>0)()&&(()=>{var Q=xs(),se=Q.firstChild,K=se.firstChild,O=K.firstChild,ge=K.nextSibling;return r(K,()=>e("inventory.totalCost"),O),r(ge,()=>A(oe())),T(pe=>{var B=W,V=F,Pe=ae,ye={...N,"font-size":"1.2rem",color:"var(--primary-color)"};return pe.e=o(Q,B,pe.e),pe.t=o(se,V,pe.t),pe.a=o(K,Pe,pe.a),pe.o=o(ge,ye,pe.o),pe},{e:void 0,t:void 0,a:void 0,o:void 0}),Q})()),(()=>{var Q=Ss(),se=Q.firstChild,K=se.nextSibling;return Q.style.setProperty("margin-bottom","1.5rem"),se.style.setProperty("display","block"),se.style.setProperty("margin-bottom","0.5rem"),se.style.setProperty("font-weight","500"),r(se,()=>e("common.referenceNumber")),K.addEventListener("change",O=>S(O.target.value)),T(O=>{var ge=j,pe=e("common.referenceNumberPlaceholder");return O.e=o(K,ge,O.e),pe!==O.t&&Ze(K,"placeholder",O.t=pe),O},{e:void 0,t:void 0}),T(()=>K.value=$()),Q})(),(()=>{var Q=Ps(),se=Q.firstChild,K=se.nextSibling;return Q.style.setProperty("margin-bottom","1.5rem"),se.style.setProperty("display","block"),se.style.setProperty("margin-bottom","0.5rem"),se.style.setProperty("font-weight","500"),r(se,()=>e("common.notes")),K.addEventListener("change",O=>b(O.target.value)),T(O=>{var ge={...j,"min-height":"100px",resize:"vertical"},pe=e("inventory.additionalNotesPlaceholder");return O.e=o(K,ge,O.e),pe!==O.t&&Ze(K,"placeholder",O.t=pe),O},{e:void 0,t:void 0}),T(()=>K.value=C()),Q})(),z(()=>z(()=>!!R())()&&(()=>{var Q=Cs();return o(Q,re),r(Q,R),Q})())]:[u(st,{get label(){return e("inventory.itemName")},get value(){return n().name},onChange:Q=>ie("name",Q),get placeholder(){return e("inventory.enterItemName")},required:!0}),u(st,{get label(){return e("inventory.sku")},get value(){return n().sku},onChange:Q=>ie("sku",Q),get placeholder(){return e("inventory.enterSkuCode")},required:!0}),u(Lt,{get label(){return e("inventory.category")},get value(){return n().category},onChange:Q=>ie("category",Q),options:m,required:!0}),u(st,{get label(){return e("common.description")},get value(){return n().description},onChange:Q=>ie("description",Q),get placeholder(){return e("inventory.enterItemDescription")}}),u(st,{get label(){return e("common.price")},type:"number",get value(){return n().price},onChange:Q=>ie("price",Q),get placeholder(){return e("common.enterPrice")},required:!0}),u(st,{get label(){return e("inventory.quantity")},type:"number",get value(){return n().quantity},onChange:Q=>ie("quantity",Q),get placeholder(){return e("inventory.enterQuantity")},required:!0}),u(st,{get label(){return e("inventory.minimumStock")},type:"number",get value(){return n().minStock},onChange:Q=>ie("minStock",Q),get placeholder(){return e("inventory.enterMinStockLevel")},required:!0}),u(st,{get label(){return e("inventory.supplier")},get value(){return n().supplier},onChange:Q=>ie("supplier",Q),get placeholder(){return e("inventory.enterSupplierName")},required:!0}),u(Lt,{get label(){return e("inventory.location")},get value(){return n().location},onChange:Q=>ie("location",Q),options:D,required:!0})]})(),he),o(he,v),r(he,u(Ae,{variant:"secondary",type:"button",onClick:P,get children(){return e("common.cancel")}}),null),r(he,u(Ae,{variant:"primary",type:"submit",get children(){return z(()=>!!ne())()?e("inventory.addMovement"):e("inventory.addItem")}}),null),fe})(),u(yn,{get isOpen(){return Y()},onClose:()=>le(!1),onProductAdded:fe=>{s(fe),le(!1)}}),u(Gn,{get isOpen(){return de()},onClose:()=>me(!1),onLocationAdded:fe=>{d()==="transfer"&&!M()?H(fe):c(fe),me(!1)}})]}})};vt(["input","keydown"]);var ws=k("<form><div><div><label> *</label><input type=text required></div><div><label> *</label><input type=text required></div></div><div><label> *</label><select required><option value=in></option><option value=out></option><option value=transfer></option><option value=adjustment></option></select></div><div><div><label></label></div></div><div><div><h3></h3></div></div><div><label></label><textarea></textarea></div><div>"),ks=k("<div><label> *"),As=k("<div><div></div><div></div><div></div><div></div><div>"),$n=k("<div>"),Is=k("<div><input type=number min=0 step=1 required><input type=number min=0 step=0.01><input type=text>"),Es=k("<div><h4></h4><div><span>:</span><span></span></div><div><span>:</span><span></span></div><div><span>:</span><span></span></div><div><span>:</span><span>"),Ls=k("<div>â€¢ ");const Ds=t=>{const{t:e}=Qe(),[n,i]=te(`INV-${Date.now()}`),[a,s]=te(""),[l,c]=te("in"),[d,y]=te(""),[g,I]=te(""),[L,E]=te(""),[$,S]=te([]),[C,b]=te([]),[M,H]=te(!1),[R,G]=te(!1),Y=()=>{S(W=>[...W,{productId:"",quantity:0,unitCost:0,notes:""}])},le=W=>{S(F=>F.filter((ae,N)=>N!==W))},de=(W,F,ae)=>{S(N=>N.map((J,fe)=>fe===W?{...J,[F]:ae}:J))},me=()=>{i(`INV-${Date.now()}`),s(""),c("in"),y(""),I(""),E(""),S([]),b([])},ne=async W=>{W.preventDefault(),b([]);const F=[];if(a()||F.push(e("forms.referenceNumberRequired")),d()||F.push(e("forms.locationRequired")),l()==="transfer"&&!g()&&F.push(e("forms.fromLocationRequired")),$().length===0&&F.push(e("forms.atLeastOneProduct")),$().forEach((J,fe)=>{J.productId||F.push(e("forms.itemProductRequired","Product is required for item {{index}}",{index:fe+1})),J.quantity<=0&&F.push(e("forms.itemQuantityRequired","Quantity must be greater than 0 for item {{index}}",{index:fe+1}))}),F.length>0){b(F);return}const ae={ssg_inventory_key:nn(),invoiceId:n(),referenceNumber:a(),movementType:l(),type:Rn(l()),locationId:d(),fromLocationId:l()==="transfer"?g():void 0,items:$(),products:$(),generalNotes:L(),description:L(),invoice:a(),store:d(),createdBy:"admin",createDate:new Date().toISOString()};console.log(ae);const N=await Le.addBulkInventoryMovements(ae);console.log(N),N.success?(me(),t.onClose()):b(N.errors)},Z=()=>{me(),t.onClose()},X=qe(()=>$().reduce((W,F)=>{const ae=Le.getProductById(F.productId),N=F.unitCost||ae?.unitCost||0;return W+F.quantity*N},0)),p=qe(()=>$().reduce((W,F)=>W+F.quantity,0)),oe={"margin-bottom":"1.5rem"},_={display:"block","margin-bottom":"0.5rem","font-weight":"500",color:"var(--text-primary)"},m={width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)"},D={...m,cursor:"pointer"},v={display:"grid",gap:"0.5rem","align-items":"end","margin-bottom":"0.5rem",padding:"0.75rem",background:"var(--background-color)","border-radius":"var(--border-radius-sm)",border:"1px solid var(--border-color)"},x={display:"grid","grid-template-columns":"2fr 1fr 1fr 2fr auto",gap:"0.5rem","align-items":"end","margin-bottom":"0.5rem",padding:"0.75rem",background:"var(--background-color)","border-radius":"var(--border-radius-sm)",border:"1px solid var(--border-color)"},h={display:"grid","grid-template-columns":"2fr 1fr 1fr 2fr auto",gap:"0.5rem","font-weight":"600","font-size":"0.875rem",color:"var(--text-muted)","margin-bottom":"0.5rem","padding-left":"0.75rem"},w={padding:"1rem",background:"var(--surface-color)","border-radius":"var(--border-radius-sm)",border:"1px solid var(--border-color)","margin-bottom":"1rem"},ie={display:"flex","justify-content":"space-between","margin-bottom":"0.5rem"},P={color:"#f44336","font-size":"0.875rem","margin-bottom":"1rem"},A={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},j=W=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(W),q=W=>({in:e("inventory.purchaseReceive"),out:e("inventory.saleIssue"),transfer:e("inventory.transfer"),adjustment:e("inventory.adjustment")})[W]||W,re=async W=>{await Le.fecthInventory(W),await Le.fecthProduct(W)};return sr(()=>{re("prod")}),u(It,{get isOpen(){return t.isOpen},onClose:Z,get title(){return e("inventory.bulkMovement")},get children(){return[(()=>{var W=ws(),F=W.firstChild,ae=F.firstChild,N=ae.firstChild,J=N.firstChild,fe=N.nextSibling,he=ae.nextSibling,ee=he.firstChild,Q=ee.firstChild,se=ee.nextSibling,K=F.nextSibling,O=K.firstChild,ge=O.firstChild,pe=O.nextSibling,B=pe.firstChild,V=B.nextSibling,Pe=V.nextSibling,ye=Pe.nextSibling,ce=K.nextSibling,U=ce.firstChild,f=U.firstChild,ue=ce.nextSibling,_e=ue.firstChild,$e=_e.firstChild,xe=ue.nextSibling,we=xe.firstChild,Re=we.nextSibling,Ie=xe.nextSibling;return W.addEventListener("submit",ne),F.style.setProperty("display","grid"),F.style.setProperty("grid-template-columns","1fr 1fr"),F.style.setProperty("gap","1rem"),F.style.setProperty("margin-bottom","1.5rem"),r(N,()=>e("common.invoiceDocumentId"),J),fe.addEventListener("change",ve=>i(ve.target.value)),r(ee,()=>e("common.referenceNumber"),Q),se.addEventListener("change",ve=>s(ve.target.value)),r(O,()=>e("inventory.movementType"),ge),pe.addEventListener("change",ve=>c(ve.target.value)),r(B,()=>e("inventory.purchaseReceive")),r(V,()=>e("inventory.saleIssue")),r(Pe,()=>e("inventory.transfer")),r(ye,()=>e("inventory.adjustment")),ce.style.setProperty("display","grid"),ce.style.setProperty("gap","1rem"),ce.style.setProperty("margin-bottom","1.5rem"),r(ce,(()=>{var ve=z(()=>l()==="transfer");return()=>ve()&&(()=>{var ke=ks(),Ne=ke.firstChild,Be=Ne.firstChild;return r(Ne,()=>e("inventory.fromLocation"),Be),r(ke,u(dn,{get value(){return g()},onChange:Me=>I(Me),get placeholder(){return e("inventory.searchSourceLocation")},onAddNew:()=>G(!0),required:!0}),null),T(Me=>o(Ne,_,Me)),ke})()})(),U),r(f,(()=>{var ve=z(()=>l()==="transfer");return()=>ve()?e("inventory.toLocation")+" *":e("inventory.location")+" *"})()),r(U,u(dn,{get value(){return d()},onChange:ve=>y(ve),get placeholder(){return z(()=>l()==="transfer")()?e("inventory.searchDestinationLocation"):e("inventory.searchLocation")},onAddNew:()=>G(!0),required:!0}),null),_e.style.setProperty("display","flex"),_e.style.setProperty("justify-content","space-between"),_e.style.setProperty("align-items","center"),_e.style.setProperty("margin-bottom","1rem"),$e.style.setProperty("margin","0"),$e.style.setProperty("font-size","1.1rem"),r($e,()=>e("inventory.products")),r(_e,u(Ae,{variant:"outline",type:"button",onClick:Y,get children(){return e("inventory.addProduct")}}),null),r(ue,(()=>{var ve=z(()=>$().length>0);return()=>ve()&&[(()=>{var ke=As(),Ne=ke.firstChild,Be=Ne.nextSibling,Me=Be.nextSibling,Se=Me.nextSibling;return o(ke,h),r(Ne,()=>e("inventory.product")),r(Be,()=>e("inventory.quantity")),r(Me,()=>e("inventory.unitCost")),r(Se,()=>e("common.notes")),ke})(),u(mt,{get each(){return $()},children:(ke,Ne)=>[(()=>{var Be=$n();return o(Be,v),r(Be,u(Zo,{get value(){return ke.productId},onChange:Me=>{de(Ne(),"productId",Me.id);let Se={id:Me.id,label:Me.name,code:Me.sku};de(Ne(),"product",Se);const Fe=Le.getProductById(Me.id);Fe&&!ke.unitCost&&de(Ne(),"unitCost",Fe.unitCost)},get placeholder(){return e("inventory.searchProduct")},onAddNew:()=>H(!0),required:!0})),Be})(),(()=>{var Be=Is(),Me=Be.firstChild,Se=Me.nextSibling,Fe=Se.nextSibling;return o(Be,x),Me.addEventListener("change",Oe=>de(Ne(),"quantity",Number(Oe.target.value))),Se.addEventListener("change",Oe=>de(Ne(),"unitCost",Number(Oe.target.value))),Fe.addEventListener("change",Oe=>de(Ne(),"notes",Oe.target.value)),r(Be,u(Ae,{variant:"outline",size:"sm",type:"button",onClick:()=>le(Ne()),style:{color:"#f44336","border-color":"#f44336"},get children(){return e("common.remove")}}),null),T(Oe=>{var Je=m,be=m,Ve=e("common.auto"),it=m,We=e("common.optionalNotes");return Oe.e=o(Me,Je,Oe.e),Oe.t=o(Se,be,Oe.t),Ve!==Oe.a&&Ze(Se,"placeholder",Oe.a=Ve),Oe.o=o(Fe,it,Oe.o),We!==Oe.i&&Ze(Fe,"placeholder",Oe.i=We),Oe},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),T(()=>Me.value=ke.quantity),T(()=>Se.value=ke.unitCost),T(()=>Fe.value=ke.notes),Be})()]})]})(),null),r(ue,(()=>{var ve=z(()=>$().length===0);return()=>ve()&&(()=>{var ke=$n();return ke.style.setProperty("text-align","center"),ke.style.setProperty("padding","2rem"),ke.style.setProperty("background","var(--background-color)"),ke.style.setProperty("border-radius","var(--border-radius-sm)"),ke.style.setProperty("border","1px solid var(--border-color)"),ke.style.setProperty("color","var(--text-muted)"),r(ke,()=>e("inventory.noProductsAdded")),ke})()})(),null),r(W,(()=>{var ve=z(()=>$().length>0);return()=>ve()&&(()=>{var ke=Es(),Ne=ke.firstChild,Be=Ne.nextSibling,Me=Be.firstChild,Se=Me.firstChild,Fe=Me.nextSibling,Oe=Be.nextSibling,Je=Oe.firstChild,be=Je.firstChild,Ve=Je.nextSibling,it=Oe.nextSibling,We=it.firstChild,et=We.firstChild,tt=We.nextSibling,gt=it.nextSibling,pt=gt.firstChild,at=pt.firstChild,De=pt.nextSibling;return o(ke,w),Ne.style.setProperty("margin","0 0 1rem 0"),Ne.style.setProperty("font-size","1rem"),r(Ne,()=>e("common.summary")),r(Me,()=>e("inventory.totalProducts"),Se),Fe.style.setProperty("font-weight","600"),r(Fe,()=>$().length),r(Je,()=>e("inventory.totalItems"),be),Ve.style.setProperty("font-weight","600"),r(Ve,p),r(We,()=>e("inventory.totalValue"),et),tt.style.setProperty("font-weight","600"),tt.style.setProperty("color","var(--primary-color)"),r(tt,()=>j(X())),r(pt,()=>e("inventory.movementType"),at),De.style.setProperty("font-weight","600"),r(De,()=>q(l())),T(Ee=>{var Ue=ie,He=ie,ot=ie,Ye=ie;return Ee.e=o(Be,Ue,Ee.e),Ee.t=o(Oe,He,Ee.t),Ee.a=o(it,ot,Ee.a),Ee.o=o(gt,Ye,Ee.o),Ee},{e:void 0,t:void 0,a:void 0,o:void 0}),ke})()})(),xe),r(we,()=>e("common.generalNotes")),Re.addEventListener("change",ve=>E(ve.target.value)),r(W,(()=>{var ve=z(()=>C().length>0);return()=>ve()&&(()=>{var ke=$n();return o(ke,P),r(ke,u(mt,{get each(){return C()},children:Ne=>(()=>{var Be=Ls();return Be.firstChild,r(Be,Ne,null),Be})()})),ke})()})(),Ie),o(Ie,A),r(Ie,u(Ae,{variant:"secondary",type:"button",onClick:Z,get children(){return e("common.cancel")}}),null),r(Ie,u(Ae,{variant:"primary",type:"submit",get children(){return e("inventory.createMovement")}}),null),T(ve=>{var ke=_,Ne=m,Be=_,Me=m,Se=e("common.referenceNumberPlaceholder"),Fe=oe,Oe=_,Je=D,be=l()==="transfer"?"1fr 1fr":"1fr",Ve=_,it=oe,We=oe,et=_,tt={...m,"min-height":"80px",resize:"vertical"},gt=e("inventory.generalNotesPlaceholder");return ve.e=o(N,ke,ve.e),ve.t=o(fe,Ne,ve.t),ve.a=o(ee,Be,ve.a),ve.o=o(se,Me,ve.o),Se!==ve.i&&Ze(se,"placeholder",ve.i=Se),ve.n=o(K,Fe,ve.n),ve.s=o(O,Oe,ve.s),ve.h=o(pe,Je,ve.h),be!==ve.r&&((ve.r=be)!=null?ce.style.setProperty("grid-template-columns",be):ce.style.removeProperty("grid-template-columns")),ve.d=o(f,Ve,ve.d),ve.l=o(ue,it,ve.l),ve.u=o(xe,We,ve.u),ve.c=o(we,et,ve.c),ve.w=o(Re,tt,ve.w),gt!==ve.m&&Ze(Re,"placeholder",ve.m=gt),ve},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0}),T(()=>fe.value=n()),T(()=>se.value=a()),T(()=>pe.value=l()),T(()=>Re.value=L()),W})(),u(yn,{get isOpen(){return M()},onClose:()=>H(!1),onProductAdded:W=>{H(!1)}}),u(Gn,{get isOpen(){return R()},onClose:()=>G(!1),onLocationAdded:W=>{l()==="transfer"&&!g()?I(W):y(W),G(!1)}})]}})};var Ns=k("<div><div></div><div></div><div></div><div>"),Ts=k("<div><strong>:</strong> "),Bs=k("<div><div><span></span><span></span></div><div><span></span><span> </span></div><div><span></span><span> </span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span>"),Ms=k("<div>");const Rs=t=>{const{t:e}=Qe(),n={display:"flex","justify-content":"space-between","align-items":"center",padding:"0.75rem 0","border-bottom":"1px solid var(--border-color)"},i={"font-weight":"500",color:"var(--text-muted)","font-size":"0.875rem"},a={"font-weight":"600",color:"var(--text-primary)"},s={"text-align":"center","margin-bottom":"2rem"},l={"font-size":"1.5rem","font-weight":"600",color:"var(--text-primary)",margin:"0.5rem 0"},c={color:"var(--text-muted)","font-size":"1rem"},d={"font-size":"1.25rem","font-weight":"600",color:"var(--primary-color)","margin-bottom":"1rem"},y=(S,C)=>({padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500","text-transform":"uppercase","letter-spacing":"0.5px",background:S>C?"#d4edda":"#f8d7da",color:S>C?"#155724":"#721c24"}),g={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},I={"margin-bottom":"1.5rem",padding:"1rem",background:"var(--background-color)","border-radius":"var(--border-radius-sm)",color:"var(--text-secondary)"};if(!t.item)return null;const L=S=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(S),E=S=>new Date(S).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),$=t.item.price*t.item.quantity;return u(It,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return e("inventory.itemDetails")},get children(){return[(()=>{var S=Ns(),C=S.firstChild,b=C.nextSibling,M=b.nextSibling,H=M.nextSibling;return o(S,s),o(C,l),r(C,()=>t.item.name),o(b,c),r(b,()=>t.item.category),o(M,d),r(M,()=>L(t.item.price)),r(H,(()=>{var R=z(()=>t.item.quantity>t.item.minStock);return()=>R()?e("inventory.inStock"):e("inventory.lowStockAlert")})()),T(R=>o(H,y(t.item.quantity,t.item.minStock),R)),S})(),(()=>{var S=Ts(),C=S.firstChild,b=C.firstChild;return C.nextSibling,o(S,I),r(C,()=>e("common.description"),b),r(S,()=>t.item.description,null),S})(),(()=>{var S=Bs(),C=S.firstChild,b=C.firstChild,M=b.nextSibling,H=C.nextSibling,R=H.firstChild,G=R.nextSibling,Y=G.firstChild,le=H.nextSibling,de=le.firstChild,me=de.nextSibling,ne=me.firstChild,Z=le.nextSibling,X=Z.firstChild,p=X.nextSibling,oe=Z.nextSibling,_=oe.firstChild,m=_.nextSibling,D=oe.nextSibling,v=D.firstChild,x=v.nextSibling,h=D.nextSibling,w=h.firstChild,ie=w.nextSibling;return r(b,()=>e("inventory.sku")),r(M,()=>t.item.sku),r(R,()=>e("inventory.quantity")),r(G,()=>t.item.quantity,Y),r(G,()=>e("common.units"),null),r(de,()=>e("inventory.minimumStock")),r(me,()=>t.item.minStock,ne),r(me,()=>e("common.units"),null),r(X,()=>e("inventory.totalValue")),r(p,()=>L($)),r(_,()=>e("inventory.supplier")),r(m,()=>t.item.supplier),r(v,()=>e("inventory.location")),r(x,()=>t.item.location),r(w,()=>e("common.lastUpdated")),r(ie,()=>E(t.item.lastUpdated)),T(P=>{var A=n,j=i,q=a,re=n,W=i,F=a,ae=n,N=i,J=a,fe=n,he=i,ee=a,Q=n,se=i,K=a,O=n,ge=i,pe=a,B=n,V=i,Pe=a;return P.e=o(C,A,P.e),P.t=o(b,j,P.t),P.a=o(M,q,P.a),P.o=o(H,re,P.o),P.i=o(R,W,P.i),P.n=o(G,F,P.n),P.s=o(le,ae,P.s),P.h=o(de,N,P.h),P.r=o(me,J,P.r),P.d=o(Z,fe,P.d),P.l=o(X,he,P.l),P.u=o(p,ee,P.u),P.c=o(oe,Q,P.c),P.w=o(_,se,P.w),P.m=o(m,K,P.m),P.f=o(D,O,P.f),P.y=o(v,ge,P.y),P.g=o(x,pe,P.g),P.p=o(h,B,P.p),P.b=o(w,V,P.b),P.T=o(ie,Pe,P.T),P},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0}),S})(),(()=>{var S=Ms();return o(S,g),r(S,u(Ae,{variant:"secondary",get onClick(){return t.onClose},get children(){return e("common.close")}}),null),r(S,u(Ae,{variant:"primary",onClick:()=>{console.log("Edit item:",t.item.id)},get children(){return e("common.editItem")}}),null),S})()]}})};var Os=k("<div>ðŸ”„"),js=k("<button type=button>Ã—"),zs=k("<div>âš ï¸ "),vo=k("<div>"),Fs=k("<div><div><input type=text autocomplete=off>"),qs=k("<div><div><div><div></div><div><span>: </span><span>â€¢</span><span></span><span>â€¢</span><span></span></div></div><div><div> </div><div>"),Us=k("<span>âš ï¸ ");const Vs=t=>{const{t:e}=Qe(),[n,i]=te(""),[a,s]=te(!1),[l,c]=te(null),[d,y]=te([]),[g,I]=te(!1),[L,E]=te(-1),[$,S]=te(null),C=t.searchDelay||300;t.maxResults;const b=async A=>{if(!A.trim()||A.trim().length<3){y([]),t.onSearchResults?.([]);return}try{s(!0),c(null);try{console.log("apiResults",A),t.onSearchResults?.(A)}catch(j){console.warn("API search failed, using local fallback:",j),c("API search failed, showing local results")}}catch(j){const q=j instanceof Error?j.message:"Search failed";c(q),y([]),t.onSearchResults?.([])}finally{s(!1)}},M=A=>{const q=A.target.value;i(q),c(null),console.log(),t.showResults,$()&&clearTimeout($());const re=setTimeout(()=>{b(q)},C);S(re)},H=A=>{i(A.name),I(!1),E(-1),t.onInventorySelect?.(A)},R=A=>{if(!(!g()||d().length===0))switch(A.key){case"ArrowDown":A.preventDefault(),E(j=>Math.min(j+1,d().length-1));break;case"ArrowUp":A.preventDefault(),E(j=>Math.max(j-1,-1));break;case"Enter":A.preventDefault(),L()>=0&&d()[L()]&&H(d()[L()]);break;case"Escape":I(!1),E(-1);break}},G=()=>{t.showResults!==!1&&d().length>0&&I(!0)},Y=()=>{setTimeout(()=>{I(!1),E(-1)},150)},le=()=>{i(""),y([]),c(null),I(!1),E(-1),t.onSearchResults?.([]),$()&&(clearTimeout($()),S(null))},de=A=>Le.stockLevels.filter(j=>j.inventoryId===A).reduce((j,q)=>j+q.quantity,0),me=A=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(A),ne={position:"relative",width:"100%",...t.style},Z={position:"relative",display:"flex","align-items":"center"},X={width:"100%",padding:"0.75rem","padding-right":n()?"2.5rem":"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)",cursor:t.disabled?"not-allowed":"text",opacity:t.disabled?"0.6":"1",outline:"none",transition:"border-color 0.2s ease"},p={position:"absolute",right:"0.5rem",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"var(--text-muted)","font-size":"1.2rem","line-height":"1",padding:"0.25rem","border-radius":"50%",transition:"all 0.2s ease"},oe={position:"absolute",right:n()?"2.5rem":"0.75rem",top:"50%",transform:"translateY(-50%)","font-size":"0.875rem",color:"var(--text-muted)"},_={position:"absolute",top:"100%",left:"0",right:"0","z-index":"1000","max-height":"300px","overflow-y":"auto",background:"var(--surface-color)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","box-shadow":"0 4px 12px rgba(0,0,0,0.15)","margin-top":"2px"},m=A=>({padding:"0.75rem",cursor:"pointer","border-bottom":"1px solid var(--border-color)",background:A?"var(--strip-color)":"transparent",transition:"background-color 0.2s ease"}),D={display:"flex","justify-content":"space-between","align-items":"center"},v={flex:"1"},x={"font-weight":"500","margin-bottom":"0.25rem",color:"var(--text-primary)"},h={"font-size":"0.875rem",color:"var(--text-muted)",display:"flex",gap:"0.5rem"},w={"text-align":"right","font-size":"0.875rem"},ie={padding:"1rem","text-align":"center",color:"var(--text-muted)","font-style":"italic"},P={padding:"0.5rem 1rem",background:"#fff3cd",color:"#856404","border-bottom":"1px solid var(--border-color)","font-size":"0.875rem"};return(()=>{var A=Fs(),j=A.firstChild,q=j.firstChild;return q.addEventListener("blur",Y),q.addEventListener("focus",G),q.$$keydown=R,q.$$input=M,r(j,u(Ge,{get when(){return a()},get children(){var re=Os();return T(W=>o(re,oe,W)),re}}),null),r(j,u(Ge,{get when(){return z(()=>!!n())()&&!a()},get children(){var re=js();return re.addEventListener("mouseleave",W=>{W.currentTarget.style.background="none",W.currentTarget.style.color="var(--text-muted)"}),re.addEventListener("mouseenter",W=>{W.currentTarget.style.background="var(--border-color)",W.currentTarget.style.color="var(--text-primary)"}),re.$$click=le,T(W=>{var F=p,ae=e("common.clear","Clear search");return W.e=o(re,F,W.e),ae!==W.t&&Ze(re,"title",W.t=ae),W},{e:void 0,t:void 0}),re}}),null),r(A,u(Ge,{get when(){return g()&&t.showResults!==!1},get children(){var re=vo();return r(re,u(Ge,{get when(){return l()},get children(){var W=zs();return W.firstChild,o(W,P),r(W,l,null),W}}),null),r(re,u(Ge,{get when(){return d().length>0},get fallback(){return z(()=>!!(n()&&!a()))()&&(()=>{var W=vo();return o(W,ie),r(W,()=>e("inventory.noInventorysFound","No inventorys found matching your search.")),W})()},get children(){return u(mt,{get each(){return d()},children:(W,F)=>{const ae=de(W.id),N=ae<=W.minStockLevel;return(()=>{var J=qs(),fe=J.firstChild,he=fe.firstChild,ee=he.firstChild,Q=ee.nextSibling,se=Q.firstChild,K=se.firstChild,O=se.nextSibling,ge=O.nextSibling,pe=ge.nextSibling,B=pe.nextSibling,V=he.nextSibling,Pe=V.firstChild,ye=Pe.firstChild,ce=Pe.nextSibling;return J.addEventListener("mouseenter",()=>E(F())),J.$$click=()=>H(W),o(fe,D),o(he,v),o(ee,x),r(ee,()=>W.name),o(Q,h),r(se,()=>e("inventory.sku","SKU"),K),r(se,()=>W.sku,null),r(ge,()=>W.category),r(B,()=>me(W.unitCost)),o(V,w),Pe.style.setProperty("font-weight","600"),(N?"#f44336":"var(--text-primary)")!=null?Pe.style.setProperty("color",N?"#f44336":"var(--text-primary)"):Pe.style.removeProperty("color"),r(Pe,ae,ye),r(Pe,()=>W.unitOfMeasure,null),ce.style.setProperty("color","var(--text-muted)"),r(ce,()=>N?(()=>{var U=Us();return U.firstChild,U.style.setProperty("color","#f44336"),r(U,()=>e("inventory.lowStock","Low Stock"),null),U})():e("inventory.inStock","In Stock")),T(U=>o(J,m(F()===L()),U)),J})()}})}}),null),T(W=>o(re,_,W)),re}}),null),T(re=>{var W=ne,F=Z,ae=X,N=t.placeholder||e("inventory.searchInventorys","Search inventorys by name, SKU, or category..."),J=t.disabled;return re.e=o(A,W,re.e),re.t=o(j,F,re.t),re.a=o(q,ae,re.a),N!==re.o&&Ze(q,"placeholder",re.o=N),J!==re.i&&(q.disabled=re.i=J),re},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),T(()=>q.value=n()),A})()};vt(["input","keydown","click"]);var Ys=k("<div>"),xn=k("<div><span>:</span><span>"),Ws=k("<div><button> "),Hs=k("<div><div><div><h3></h3><div>: </div></div><div><span></span></div></div><div><h4></h4><div><span>:</span><span></span></div><div><span>:</span><span> </span></div><div><span>:</span><span></span></div><div><span> <!>:</span><span></span></div></div><div><h4></h4><div><span>:</span><span></span></div></div><div><h4></h4><div><span>:</span><span></span></div><div><span>:</span><span>");const Gs=t=>{const{t:e}=Qe(),n=E=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(E),i=E=>new Date(E).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),a=E=>({in:{bg:"#e8f5e8",color:"#2d7d32"},out:{bg:"#ffebee",color:"#d32f2f"},transfer:{bg:"#e3f2fd",color:"#1976d2"},adjustment:{bg:"#fff3e0",color:"#f57c00"}})[E]||{bg:"#f5f5f5",color:"#666"},s=E=>({in:"ðŸ“¦",out:"ðŸ“¤",transfer:"ðŸ”„",adjustment:"âš–ï¸"})[E]||"ðŸ“‹",l=()=>t.movement,c={display:"flex","justify-content":"space-between","align-items":"center",padding:"0.75rem 0","border-bottom":"1px solid var(--border-color)"},d={"font-weight":"500",color:"var(--text-muted)","font-size":"0.875rem"},y={"font-weight":"600",color:"var(--text-primary)","text-align":"right"},g={"margin-bottom":"1.5rem"},I={"font-weight":"600","margin-bottom":"0.75rem","padding-bottom":"0.5rem","border-bottom":"2px solid var(--border-color)"},L=E=>({display:"inline-flex","align-items":"center",gap:"0.5rem",padding:"0.5rem 1rem","border-radius":"9999px","font-size":"0.875rem","font-weight":"600","text-transform":"uppercase","letter-spacing":"0.5px",background:a(E).bg,color:a(E).color});return u(It,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return e("inventory.movementDetails")},size:"lg",get children(){return u(Ge,{get when(){return l()},get fallback(){return(()=>{var E=Ys();return r(E,()=>e("common.noDataFound")),E})()},children:E=>(()=>{var $=Hs(),S=$.firstChild,C=S.firstChild,b=C.firstChild,M=b.nextSibling,H=M.firstChild,R=C.nextSibling,G=R.firstChild,Y=S.nextSibling,le=Y.firstChild,de=le.nextSibling,me=de.firstChild,ne=me.firstChild,Z=me.nextSibling,X=de.nextSibling,p=X.firstChild,oe=p.firstChild,_=p.nextSibling,m=_.firstChild,D=X.nextSibling,v=D.firstChild,x=v.firstChild,h=v.nextSibling,w=D.nextSibling,ie=w.firstChild,P=ie.firstChild,A=P.nextSibling;A.nextSibling;var j=ie.nextSibling,q=Y.nextSibling,re=q.firstChild,W=re.nextSibling,F=W.firstChild,ae=F.firstChild,N=F.nextSibling,J=q.nextSibling,fe=J.firstChild,he=fe.nextSibling,ee=he.firstChild,Q=ee.firstChild,se=ee.nextSibling,K=he.nextSibling,O=K.firstChild,ge=O.firstChild,pe=O.nextSibling;return S.style.setProperty("display","flex"),S.style.setProperty("justify-content","space-between"),S.style.setProperty("align-items","center"),S.style.setProperty("margin-bottom","1.5rem"),S.style.setProperty("padding-bottom","1rem"),S.style.setProperty("border-bottom","2px solid var(--border-color)"),b.style.setProperty("margin","0 0 0.5rem 0"),b.style.setProperty("font-size","1.25rem"),r(b,()=>E().productName),M.style.setProperty("font-size","0.875rem"),M.style.setProperty("color","var(--text-muted)"),r(M,()=>e("inventory.sku"),H),r(M,()=>E().productSku,null),G.style.setProperty("font-size","1.2rem"),r(G,()=>s(E().movementType)),r(R,()=>E().movementType,null),r(le,()=>e("inventory.movementInformation")),r(me,()=>e("inventory.referenceNumber"),ne),r(Z,()=>E().referenceNumber),r(p,()=>e("common.quantity"),oe),r(_,()=>E().quantity,m),r(_,()=>e("common.units"),null),r(v,()=>e("inventory.unitCost"),x),r(h,()=>n(E().unitCost)),r(ie,()=>e("common.total"),P),r(ie,()=>e("common.value"),A),r(j,()=>n(E().totalCost)),r(re,()=>e("inventory.locationInformation")),r(F,()=>e("inventory.location"),ae),r(N,()=>E().locationName),r(q,u(Ge,{get when(){return E().fromLocationName},get children(){var B=xn(),V=B.firstChild,Pe=V.firstChild,ye=V.nextSibling;return r(V,()=>e("common.from"),Pe),r(ye,()=>E().fromLocationName),T(ce=>{var U=c,f=d,ue=y;return ce.e=o(B,U,ce.e),ce.t=o(V,f,ce.t),ce.a=o(ye,ue,ce.a),ce},{e:void 0,t:void 0,a:void 0}),B}}),null),r(q,u(Ge,{get when(){return E().invoiceId},get children(){var B=xn(),V=B.firstChild,Pe=V.firstChild,ye=V.nextSibling;return r(V,()=>e("common.invoice"),Pe),r(ye,()=>E().invoiceId),T(ce=>{var U=c,f=d,ue={...y,color:"var(--primary-color)"};return ce.e=o(B,U,ce.e),ce.t=o(V,f,ce.t),ce.a=o(ye,ue,ce.a),ce},{e:void 0,t:void 0,a:void 0}),B}}),null),r(fe,()=>e("common.details")),r(ee,()=>e("common.createdBy"),Q),r(se,()=>E().createdBy),r(O,()=>e("common.created"),ge),r(pe,()=>i(E().createdDate)),r(J,u(Ge,{get when(){return E().notes},get children(){var B=xn(),V=B.firstChild,Pe=V.firstChild,ye=V.nextSibling;return r(V,()=>e("common.notes"),Pe),r(ye,()=>E().notes),T(ce=>{var U={...c,"border-bottom":"none"},f=d,ue={...y,"font-style":"italic","max-width":"60%","white-space":"pre-wrap"};return ce.e=o(B,U,ce.e),ce.t=o(V,f,ce.t),ce.a=o(ye,ue,ce.a),ce},{e:void 0,t:void 0,a:void 0}),B}}),null),r($,u(Ge,{get when(){return t.onEdit},get children(){var B=Ws(),V=B.firstChild,Pe=V.firstChild;return B.style.setProperty("display","flex"),B.style.setProperty("justify-content","flex-end"),B.style.setProperty("margin-top","1.5rem"),B.style.setProperty("padding-top","1rem"),B.style.setProperty("border-top","1px solid var(--border-color)"),V.addEventListener("mouseleave",ye=>{ye.currentTarget.style.transform="translateY(0)",ye.currentTarget.style.boxShadow="none"}),V.addEventListener("mouseenter",ye=>{ye.currentTarget.style.transform="translateY(-1px)",ye.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.15)"}),V.$$click=()=>t.onEdit?.(E()),V.style.setProperty("padding","0.5rem 1.5rem"),V.style.setProperty("border-radius","var(--border-radius-sm)"),V.style.setProperty("border","1px solid var(--primary-color)"),V.style.setProperty("background","var(--primary-color)"),V.style.setProperty("color","white"),V.style.setProperty("cursor","pointer"),V.style.setProperty("font-weight","500"),V.style.setProperty("transition","all 0.2s ease"),r(V,()=>e("common.edit"),Pe),r(V,()=>e("inventory.movement"),null),B}}),null),T(B=>{var V=L(E().movementType),Pe=g,ye=I,ce=c,U=d,f=y,ue=c,_e=d,$e={...y,"font-size":"1.1rem",color:"var(--primary-color)"},xe=c,we=d,Re=y,Ie=c,ve=d,ke={...y,"font-size":"1.1rem",color:"var(--primary-color)"},Ne=g,Be=I,Me=c,Se=d,Fe=y,Oe=g,Je=I,be=c,Ve=d,it=y,We=c,et=d,tt=y;return B.e=o(R,V,B.e),B.t=o(Y,Pe,B.t),B.a=o(le,ye,B.a),B.o=o(de,ce,B.o),B.i=o(me,U,B.i),B.n=o(Z,f,B.n),B.s=o(X,ue,B.s),B.h=o(p,_e,B.h),B.r=o(_,$e,B.r),B.d=o(D,xe,B.d),B.l=o(v,we,B.l),B.u=o(h,Re,B.u),B.c=o(w,Ie,B.c),B.w=o(ie,ve,B.w),B.m=o(j,ke,B.m),B.f=o(q,Ne,B.f),B.y=o(re,Be,B.y),B.g=o(W,Me,B.g),B.p=o(F,Se,B.p),B.b=o(N,Fe,B.b),B.T=o(J,Oe,B.T),B.A=o(fe,Je,B.A),B.O=o(he,be,B.O),B.I=o(ee,Ve,B.I),B.S=o(se,it,B.S),B.W=o(K,We,B.W),B.C=o(O,et,B.C),B.B=o(pe,tt,B.B),B},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0,O:void 0,I:void 0,S:void 0,W:void 0,C:void 0,B:void 0}),$})()})}})};vt(["click"]);var vr=k("<div>"),Js=k("<div><label></label><select><option value>"),Qs=k("<div><div><span>:</span><span>$"),Ks=k("<form><div><label></label><select><option value=in></option><option value=out></option><option value=transfer></option><option value=adjustment></option></select></div><div><label></label><select><option value></option></select></div><div><label></label><input type=number min=0.01 step=0.01></div><div><label></label><input type=number min=0 step=0.01></div><div><label></label><input type=text></div><div><label> (<!>)</label><input type=text></div><div><label> (<!>)</label><textarea></textarea></div><div><button type=button></button><button type=submit>"),go=k("<option> (<!>)");const Zs=t=>{const{t:e}=Qe(),[n,i]=te("in"),[a,s]=te(""),[l,c]=te(""),[d,y]=te(""),[g,I]=te(""),[L,E]=te(""),[$,S]=te(""),[C,b]=te(""),[M,H]=te(!1),[R,G]=te({});lr(()=>{const oe=t.movement;oe&&t.isOpen&&(i(oe.movementType),s(oe.quantity.toString()),c(oe.unitCost.toString()),y(oe.referenceNumber),I(oe.notes),S(oe.locationId),E(oe.fromLocationId||""),b(oe.invoiceId||""),G({}))});const Y=()=>{const oe={};return(!a()||parseFloat(a())<=0)&&(oe.quantity=e("forms.requiredField")),(!l()||parseFloat(l())<0)&&(oe.unitCost=e("forms.requiredField")),d().trim()||(oe.referenceNumber=e("forms.requiredField")),$()||(oe.locationId=e("forms.requiredField")),n()==="transfer"&&!L()&&(oe.fromLocationId=e("forms.requiredField")),G(oe),Object.keys(oe).length===0},le=async oe=>{if(oe.preventDefault(),!(!Y()||!t.movement)){H(!0);try{const _=t.movement,m=Le.getProductById(_.productId),D=Le.getLocationById($()),v=L()?Le.getLocationById(L()):null;if(!m||!D)throw new Error("Product or location not found");const x={..._,movementType:n(),quantity:parseFloat(a()),unitCost:parseFloat(l()),totalCost:parseFloat(a())*parseFloat(l()),referenceNumber:d().trim(),notes:g().trim(),locationId:$(),locationName:D.name,fromLocationId:L()||void 0,fromLocationName:v?.name,invoiceId:C().trim()||void 0,lastModified:new Date().toISOString()};Le.updateMovement(_.id,x),t.onMovementUpdated?.(),t.onClose(),de()}catch(_){console.error("Error updating movement:",_),G({submit:e("forms.saveError")})}finally{H(!1)}}},de=()=>{i("in"),s(""),c(""),y(""),I(""),E(""),S(""),b(""),G({})},me=()=>{de(),t.onClose()},ne={width:"100%",padding:"0.5rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",transition:"border-color 0.2s ease"},Z={display:"block","margin-bottom":"0.25rem","font-weight":"500","font-size":"0.875rem"},X={color:"#d32f2f","font-size":"0.75rem","margin-top":"0.25rem"},p={"margin-bottom":"1rem"};return u(It,{get isOpen(){return t.isOpen},onClose:me,get title(){return e("inventory.editMovement","Edit Movement")},get children(){return u(Ge,{get when(){return t.movement},get fallback(){return(()=>{var oe=vr();return r(oe,()=>e("common.loading")),oe})()},get children(){var oe=Ks(),_=oe.firstChild,m=_.firstChild,D=m.nextSibling,v=D.firstChild,x=v.nextSibling,h=x.nextSibling,w=h.nextSibling,ie=_.nextSibling,P=ie.firstChild,A=P.nextSibling,j=A.firstChild,q=ie.nextSibling,re=q.firstChild,W=re.nextSibling,F=q.nextSibling,ae=F.firstChild,N=ae.nextSibling,J=F.nextSibling,fe=J.firstChild,he=fe.nextSibling,ee=J.nextSibling,Q=ee.firstChild,se=Q.firstChild,K=se.nextSibling;K.nextSibling;var O=Q.nextSibling,ge=ee.nextSibling,pe=ge.firstChild,B=pe.firstChild,V=B.nextSibling;V.nextSibling;var Pe=pe.nextSibling,ye=ge.nextSibling,ce=ye.firstChild,U=ce.nextSibling;return oe.addEventListener("submit",le),r(m,()=>e("inventory.movementType")),D.addEventListener("change",f=>i(f.target.value)),r(v,()=>e("inventory.stockIn")),r(x,()=>e("inventory.stockOut")),r(h,()=>e("inventory.transfer")),r(w,()=>e("inventory.adjustment")),r(P,(()=>{var f=z(()=>n()==="transfer");return()=>f()?e("inventory.toLocation"):e("inventory.location")})()),A.addEventListener("change",f=>S(f.target.value)),r(j,()=>e("modals.selectLocation")),r(A,u(mt,{get each(){return Le.getActiveLocations()},children:f=>(()=>{var ue=go(),_e=ue.firstChild,$e=_e.nextSibling;return $e.nextSibling,r(ue,()=>f.name,_e),r(ue,()=>f.type,$e),T(()=>ue.value=f.id),ue})()}),null),r(ie,u(Ge,{get when(){return R().locationId},get children(){var f=vr();return r(f,()=>R().locationId),T(ue=>o(f,X,ue)),f}}),null),r(oe,u(Ge,{get when(){return n()==="transfer"},get children(){var f=Js(),ue=f.firstChild,_e=ue.nextSibling,$e=_e.firstChild;return r(ue,()=>e("inventory.fromLocation")),_e.addEventListener("change",xe=>E(xe.target.value)),r($e,()=>e("modals.selectLocation")),r(_e,u(mt,{get each(){return Le.getActiveLocations().filter(xe=>xe.id!==$())},children:xe=>(()=>{var we=go(),Re=we.firstChild,Ie=Re.nextSibling;return Ie.nextSibling,r(we,()=>xe.name,Re),r(we,()=>xe.type,Ie),T(()=>we.value=xe.id),we})()}),null),r(f,u(Ge,{get when(){return R().fromLocationId},get children(){var xe=vr();return r(xe,()=>R().fromLocationId),T(we=>o(xe,X,we)),xe}}),null),T(xe=>{var we=p,Re=Z,Ie={...ne,"border-color":R().fromLocationId?"#d32f2f":"var(--border-color)"},ve=M();return xe.e=o(f,we,xe.e),xe.t=o(ue,Re,xe.t),xe.a=o(_e,Ie,xe.a),ve!==xe.o&&(_e.disabled=xe.o=ve),xe},{e:void 0,t:void 0,a:void 0,o:void 0}),T(()=>_e.value=L()),f}}),q),r(re,()=>e("common.quantity")),W.$$input=f=>s(f.target.value),r(q,u(Ge,{get when(){return R().quantity},get children(){var f=vr();return r(f,()=>R().quantity),T(ue=>o(f,X,ue)),f}}),null),r(ae,()=>e("inventory.unitCost")),N.$$input=f=>c(f.target.value),r(F,u(Ge,{get when(){return R().unitCost},get children(){var f=vr();return r(f,()=>R().unitCost),T(ue=>o(f,X,ue)),f}}),null),r(oe,u(Ge,{get when(){return z(()=>!!a())()&&l()},get children(){var f=Qs(),ue=f.firstChild,_e=ue.firstChild,$e=_e.firstChild,xe=_e.nextSibling;return xe.firstChild,ue.style.setProperty("display","flex"),ue.style.setProperty("justify-content","space-between"),_e.style.setProperty("font-weight","500"),r(_e,()=>e("common.total"),$e),xe.style.setProperty("font-weight","600"),xe.style.setProperty("color","var(--primary-color)"),r(xe,()=>(parseFloat(a()||"0")*parseFloat(l()||"0")).toFixed(2),null),T(we=>o(f,{...p,padding:"0.75rem",background:"var(--surface-color)","border-radius":"var(--border-radius-sm)"},we)),f}}),J),r(fe,()=>e("inventory.referenceNumber")),he.$$input=f=>y(f.target.value),r(J,u(Ge,{get when(){return R().referenceNumber},get children(){var f=vr();return r(f,()=>R().referenceNumber),T(ue=>o(f,X,ue)),f}}),null),r(Q,()=>e("inventory.invoiceNumber"),se),r(Q,()=>e("common.optional"),K),O.$$input=f=>b(f.target.value),r(pe,()=>e("common.notes"),B),r(pe,()=>e("common.optional"),V),Pe.$$input=f=>I(f.target.value),r(oe,u(Ge,{get when(){return R().submit},get children(){var f=vr();return r(f,()=>R().submit),T(ue=>o(f,{...X,"margin-bottom":"1rem"},ue)),f}}),ye),ye.style.setProperty("display","flex"),ye.style.setProperty("gap","1rem"),ye.style.setProperty("justify-content","flex-end"),ce.$$click=me,ce.style.setProperty("padding","0.5rem 1rem"),ce.style.setProperty("border","1px solid var(--border-color)"),ce.style.setProperty("border-radius","var(--border-radius-sm)"),ce.style.setProperty("background","white"),ce.style.setProperty("cursor","pointer"),r(ce,()=>e("common.cancel")),U.style.setProperty("padding","0.5rem 1rem"),U.style.setProperty("border","none"),U.style.setProperty("border-radius","var(--border-radius-sm)"),U.style.setProperty("background","var(--primary-color)"),U.style.setProperty("color","white"),U.style.setProperty("cursor","pointer"),U.style.setProperty("font-weight","500"),r(U,(()=>{var f=z(()=>!!M());return()=>f()?e("modals.processing"):e("inventory.updateMovement","Update Movement")})()),T(f=>{var ue=p,_e=Z,$e=ne,xe=M(),we=p,Re=Z,Ie={...ne,"border-color":R().locationId?"#d32f2f":"var(--border-color)"},ve=M(),ke=p,Ne=Z,Be={...ne,"border-color":R().quantity?"#d32f2f":"var(--border-color)"},Me=e("modals.enterQuantity"),Se=M(),Fe=p,Oe=Z,Je={...ne,"border-color":R().unitCost?"#d32f2f":"var(--border-color)"},be=e("modals.enterCost"),Ve=M(),it=p,We=Z,et={...ne,"border-color":R().referenceNumber?"#d32f2f":"var(--border-color)"},tt=e("modals.enterReference"),gt=M(),pt=p,at=Z,De=ne,Ee=e("inventory.invoiceNumber"),Ue=M(),He=p,ot=Z,Ye={...ne,resize:"vertical","min-height":"80px"},Ce=e("modals.addNotes"),ze=M(),Ke=M(),rt=M();return f.e=o(_,ue,f.e),f.t=o(m,_e,f.t),f.a=o(D,$e,f.a),xe!==f.o&&(D.disabled=f.o=xe),f.i=o(ie,we,f.i),f.n=o(P,Re,f.n),f.s=o(A,Ie,f.s),ve!==f.h&&(A.disabled=f.h=ve),f.r=o(q,ke,f.r),f.d=o(re,Ne,f.d),f.l=o(W,Be,f.l),Me!==f.u&&Ze(W,"placeholder",f.u=Me),Se!==f.c&&(W.disabled=f.c=Se),f.w=o(F,Fe,f.w),f.m=o(ae,Oe,f.m),f.f=o(N,Je,f.f),be!==f.y&&Ze(N,"placeholder",f.y=be),Ve!==f.g&&(N.disabled=f.g=Ve),f.p=o(J,it,f.p),f.b=o(fe,We,f.b),f.T=o(he,et,f.T),tt!==f.A&&Ze(he,"placeholder",f.A=tt),gt!==f.O&&(he.disabled=f.O=gt),f.I=o(ee,pt,f.I),f.S=o(Q,at,f.S),f.W=o(O,De,f.W),Ee!==f.C&&Ze(O,"placeholder",f.C=Ee),Ue!==f.B&&(O.disabled=f.B=Ue),f.v=o(ge,He,f.v),f.k=o(pe,ot,f.k),f.x=o(Pe,Ye,f.x),Ce!==f.j&&Ze(Pe,"placeholder",f.j=Ce),ze!==f.q&&(Pe.disabled=f.q=ze),Ke!==f.z&&(ce.disabled=f.z=Ke),rt!==f.P&&(U.disabled=f.P=rt),f},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0,O:void 0,I:void 0,S:void 0,W:void 0,C:void 0,B:void 0,v:void 0,k:void 0,x:void 0,j:void 0,q:void 0,z:void 0,P:void 0}),T(()=>D.value=n()),T(()=>A.value=$()),T(()=>W.value=a()),T(()=>N.value=l()),T(()=>he.value=d()),T(()=>O.value=C()),T(()=>Pe.value=g()),oe}})}})};vt(["input","click"]);var Xs=k("<div><div></div><div><div><label></label><select><option value=all></option><option value=in></option><option value=out></option><option value=transfer></option><option value=adjustment></option></select></div><div><label></label><input type=date></div><div><label></label><input type=date></div></div><div><div><div></div><div></div></div><div><div></div><div></div></div><div><div></div><div></div></div><div><div></div><div></div></div><div><div></div><div></div></div><div><div></div><div>"),ec=k("<div><h2>"),po=k("<div><label></label><select><option value>"),tc=k("<option> (<!>)"),rc=k("<option>"),nc=k("<div><div>ðŸ“¦</div><div></div><div>"),oc=k("<div><div><div><div><span></span><h3></h3><span></span></div><div> â€¢ </div></div><div><div></div><div> <!> @ </div></div></div><div><div><div><span>:</span><span></span></div><div><span>:</span><span></span></div></div><div><div><span>:</span><span>"),ic=k("<span>"),ac=k("<span>â€¢ <!>: "),fo=k("<div><span>:</span><span>"),lc=k("<div><div><span>:</span><select><option value=10>10</option><option value=25>25</option><option value=50>50</option><option value=100>100</option></select><span></span></div><div><div><span>:</span><input type=number min=1><span> "),sc=k("<span>..."),cc=k("<button>");const dc=t=>{const{t:e}=Qe(),[n,i]=te(""),[a,s]=te(""),[l,c]=te("all"),[d,y]=te({start:"",end:""}),[g,I]=te(""),[L,E]=te(""),[$,S]=te(1),[C,b]=te(25),[M,H]=te(null),[R,G]=te(!1),[Y,le]=te(!1),de=qe(()=>{let K=Le.movements;if(t.filterBy==="product"&&t.filterId?K=K.filter(O=>O.productId===t.filterId):t.filterBy==="location"&&t.filterId&&(K=K.filter(O=>O.locationId===t.filterId)),n()&&(K=K.filter(O=>O.productId===n())),a()&&(K=K.filter(O=>O.locationId===a())),l()!=="all"&&(K=K.filter(O=>O.movementType===l())),d().start&&(K=K.filter(O=>O.createdDate>=d().start)),d().end&&(K=K.filter(O=>O.createdDate<=d().end+"T23:59:59Z")),g()){const O=g().toLowerCase();K=K.filter(ge=>ge.productName.toLowerCase().includes(O)||ge.productSku.toLowerCase().includes(O)||ge.locationName.toLowerCase().includes(O)||ge.referenceNumber.toLowerCase().includes(O)||ge.notes.toLowerCase().includes(O)||ge.createdBy.toLowerCase().includes(O)||ge.invoiceId&&ge.invoiceId.toLowerCase().includes(O)||ge.fromLocationName&&ge.fromLocationName.toLowerCase().includes(O)||ge.movementType.toLowerCase().includes(O))}return K.sort((O,ge)=>new Date(ge.createdDate).getTime()-new Date(O.createdDate).getTime())});lr(()=>{n(),a(),l(),d(),g(),S(1)});const me=qe(()=>{const K=($()-1)*C(),O=K+C();return de().slice(K,O)}),ne=qe(()=>Math.ceil(de().length/C())),Z=qe(()=>{const K=de();return{total:K.length,stockIn:K.filter(O=>O.movementType==="in").length,stockOut:K.filter(O=>O.movementType==="out").length,transfers:K.filter(O=>O.movementType==="transfer").length,adjustments:K.filter(O=>O.movementType==="adjustment").length,totalValue:K.reduce((O,ge)=>O+ge.totalCost,0)}}),X={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"2rem"},p={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem","margin-bottom":"2rem",padding:"1.5rem",background:"var(--surface-color)","border-radius":"var(--border-radius)",border:"1px solid var(--border-color)"},oe={width:"100%",padding:"0.5rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)",background:"var(--background-color)",cursor:"pointer"},_={width:"100%",padding:"0.5rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)",background:"var(--background-color)"},m={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem","margin-bottom":"2rem"},D={padding:"1rem",background:"var(--surface-color)","border-radius":"var(--border-radius-sm)",border:"1px solid var(--border-color)","text-align":"center"},v={"font-size":"1.5rem","font-weight":"700",color:"var(--primary-color)","margin-bottom":"0.5rem"},x={"font-size":"0.875rem",color:"var(--text-muted)","font-weight":"500"},h={padding:"1.5rem","margin-bottom":"1rem",background:"var(--surface-color)","border-radius":"var(--border-radius)",border:"1px solid var(--border-color)",transition:"all 0.2s ease"},w={display:"flex","justify-content":"space-between","align-items":"flex-start","margin-bottom":"1rem"},ie=K=>({padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500","text-transform":"uppercase","letter-spacing":"0.5px",background:F(K).bg,color:F(K).color}),P={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem","margin-bottom":"1rem"},A={display:"flex","justify-content":"space-between","align-items":"center",padding:"0.5rem 0","border-bottom":"1px solid var(--border-color)"},j={"font-weight":"500",color:"var(--text-muted)","font-size":"0.875rem"},q={"font-weight":"600",color:"var(--text-primary)"},re={display:"flex","justify-content":"space-between","align-items":"center","margin-top":"2rem",padding:"1rem",background:"var(--surface-color)","border-radius":"var(--border-radius)",border:"1px solid var(--border-color)"},W=K=>({padding:"0.25rem 0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)",background:K?"var(--primary-color)":"var(--surface-color)",color:K?"white":"var(--text-primary)",cursor:"pointer","font-weight":"500","font-size":"0.875rem",transition:"all 0.2s ease"});function F(K){return{in:{bg:"#e8f5e8",color:"#2d7d32"},out:{bg:"#ffebee",color:"#d32f2f"},transfer:{bg:"#e3f2fd",color:"#1976d2"},adjustment:{bg:"#fff3e0",color:"#f57c00"}}[K]||{bg:"#f5f5f5",color:"#666"}}const ae=K=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(K),N=K=>new Date(K).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),J=K=>({in:"ðŸ“¦",out:"ðŸ“¤",transfer:"ðŸ”„",adjustment:"âš–ï¸"})[K]||"ðŸ“‹",fe=()=>{i(""),s(""),c("all"),y({start:"",end:""}),I(""),S(1)},he=K=>{H(K),G(!0)},ee=K=>{H(K),G(!1),le(!0)},Q=()=>{le(!1),H(null)},se=async K=>{a()&&(K+=" "+a()),Rn(l())&&(K+=" "+Rn(l()));const O=await Zt.getInventory(K),ge=Le.parseInventoryData(O);Le.updMovements(ge)};return(()=>{var K=Xs(),O=K.firstChild,ge=O.nextSibling,pe=ge.firstChild,B=pe.firstChild,V=B.nextSibling,Pe=V.firstChild,ye=Pe.nextSibling,ce=ye.nextSibling,U=ce.nextSibling,f=U.nextSibling,ue=pe.nextSibling,_e=ue.firstChild,$e=_e.nextSibling,xe=ue.nextSibling,we=xe.firstChild,Re=we.nextSibling,Ie=ge.nextSibling,ve=Ie.firstChild,ke=ve.firstChild,Ne=ke.nextSibling,Be=ve.nextSibling,Me=Be.firstChild,Se=Me.nextSibling,Fe=Be.nextSibling,Oe=Fe.firstChild,Je=Oe.nextSibling,be=Fe.nextSibling,Ve=be.firstChild,it=Ve.nextSibling,We=be.nextSibling,et=We.firstChild,tt=et.nextSibling,gt=We.nextSibling,pt=gt.firstChild,at=pt.nextSibling;return r(K,(()=>{var De=z(()=>!t.filterBy);return()=>De()&&(()=>{var Ee=ec(),Ue=Ee.firstChild;return o(Ee,X),Ue.style.setProperty("margin","0"),Ue.style.setProperty("font-size","1.5rem"),r(Ue,()=>e("inventory.movements")),r(Ee,u(Ae,{variant:"outline",onClick:fe,get children(){return e("common.clearFilters")}}),null),Ee})()})(),O),r(K,u(Vs,{filters:{selectedLocation:a,movementType:l},onSearchResults:De=>{E(De),se(De)},get placeholder(){return e("inventory.searchProductsStock","Search inventories...")},showResults:!1,maxResults:20}),O),O.style.setProperty("margin","20px"),o(ge,p),r(ge,(()=>{var De=z(()=>!t.filterBy);return()=>De()&&[(()=>{var Ee=po(),Ue=Ee.firstChild,He=Ue.nextSibling,ot=He.firstChild;return Ue.style.setProperty("display","block"),Ue.style.setProperty("margin-bottom","0.5rem"),Ue.style.setProperty("font-weight","500"),r(Ue,()=>e("inventory.product")),He.addEventListener("change",Ye=>i(Ye.target.value)),r(ot,()=>e("inventory.allProducts")),r(He,u(mt,{get each(){return Le.products},children:Ye=>(()=>{var Ce=tc(),ze=Ce.firstChild,Ke=ze.nextSibling;return Ke.nextSibling,r(Ce,()=>Ye.name,ze),r(Ce,()=>Ye.sku,Ke),T(()=>Ce.value=Ye.id),Ce})()}),null),T(Ye=>o(He,oe,Ye)),T(()=>He.value=n()),Ee})(),(()=>{var Ee=po(),Ue=Ee.firstChild,He=Ue.nextSibling,ot=He.firstChild;return Ue.style.setProperty("display","block"),Ue.style.setProperty("margin-bottom","0.5rem"),Ue.style.setProperty("font-weight","500"),r(Ue,()=>e("inventory.location")),He.addEventListener("change",Ye=>s(Ye.target.value)),r(ot,()=>e("inventory.allLocations")),r(He,u(mt,{get each(){return Le.locations},children:Ye=>(()=>{var Ce=rc();return r(Ce,()=>Ye.name),T(()=>Ce.value=Ye.id),Ce})()}),null),T(Ye=>o(He,oe,Ye)),T(()=>He.value=a()),Ee})()]})(),pe),B.style.setProperty("display","block"),B.style.setProperty("margin-bottom","0.5rem"),B.style.setProperty("font-weight","500"),r(B,()=>e("inventory.movementType")),V.addEventListener("change",De=>{c(De.target.value),se(L())}),r(Pe,()=>e("inventory.allTypes")),r(ye,()=>e("inventory.stockIn")),r(ce,()=>e("inventory.stockOut")),r(U,()=>e("inventory.transfer")),r(f,()=>e("inventory.adjustment")),_e.style.setProperty("display","block"),_e.style.setProperty("margin-bottom","0.5rem"),_e.style.setProperty("font-weight","500"),r(_e,()=>e("common.startDate")),$e.addEventListener("change",De=>y(Ee=>({...Ee,start:De.target.value}))),we.style.setProperty("display","block"),we.style.setProperty("margin-bottom","0.5rem"),we.style.setProperty("font-weight","500"),r(we,()=>e("common.endDate")),Re.addEventListener("change",De=>y(Ee=>({...Ee,end:De.target.value}))),o(Ie,m),r(ke,()=>Z().total),r(Ne,()=>e("inventory.totalMovements")),r(Me,()=>Z().stockIn),r(Se,()=>e("inventory.stockIn")),r(Oe,()=>Z().stockOut),r(Je,()=>e("inventory.stockOut")),r(Ve,()=>Z().transfers),r(it,()=>e("inventory.transfers")),r(et,()=>Z().adjustments),r(tt,()=>e("inventory.adjustments")),r(pt,()=>ae(Z().totalValue)),r(at,()=>e("inventory.totalValue")),r(K,(()=>{var De=z(()=>me().length===0);return()=>De()?(()=>{var Ee=nc(),Ue=Ee.firstChild,He=Ue.nextSibling,ot=He.nextSibling;return Ee.style.setProperty("text-align","center"),Ee.style.setProperty("padding","3rem"),Ee.style.setProperty("color","var(--text-muted)"),Ee.style.setProperty("background","var(--surface-color)"),Ee.style.setProperty("border-radius","var(--border-radius)"),Ee.style.setProperty("border","1px solid var(--border-color)"),Ue.style.setProperty("font-size","1.5rem"),Ue.style.setProperty("margin-bottom","1rem"),He.style.setProperty("font-size","1.1rem"),He.style.setProperty("margin-bottom","0.5rem"),r(He,()=>e("inventory.noMovementsFound")),ot.style.setProperty("font-size","0.875rem"),r(ot,()=>e("inventory.tryAdjustingFilters")),Ee})():[u(mt,{get each(){return me()},children:Ee=>(()=>{var Ue=oc(),He=Ue.firstChild,ot=He.firstChild,Ye=ot.firstChild,Ce=Ye.firstChild,ze=Ce.nextSibling,Ke=ze.nextSibling,rt=Ye.nextSibling,Ct=rt.firstChild,Pt=ot.nextSibling,ft=Pt.firstChild,$t=ft.nextSibling,lt=$t.firstChild,ut=lt.nextSibling;ut.nextSibling;var _t=He.nextSibling,bt=_t.firstChild,ht=bt.firstChild,Bt=ht.firstChild,Ot=Bt.firstChild,Nt=Bt.nextSibling,jt=ht.nextSibling,Xt=jt.firstChild,Ar=Xt.firstChild,hr=Xt.nextSibling,Sr=bt.nextSibling,Pr=Sr.firstChild,er=Pr.firstChild,Ir=er.firstChild,$r=er.nextSibling;return Ue.addEventListener("mouseleave",Xe=>{Xe.currentTarget.style.transform="translateY(0)",Xe.currentTarget.style.boxShadow="none"}),Ue.addEventListener("mouseenter",Xe=>{Xe.currentTarget.style.transform="translateY(-2px)",Xe.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)"}),Ue.$$click=()=>he(Ee),o(He,w),Ye.style.setProperty("display","flex"),Ye.style.setProperty("align-items","center"),Ye.style.setProperty("gap","0.5rem"),Ye.style.setProperty("margin-bottom","0.5rem"),Ce.style.setProperty("font-size","1.2rem"),r(Ce,()=>J(Ee.movementType)),ze.style.setProperty("margin","0"),ze.style.setProperty("font-size","1.1rem"),r(ze,()=>Ee.productName),r(Ke,()=>Ee.movementType),r(Ye,(()=>{var Xe=z(()=>!!Ee.invoiceId);return()=>Xe()&&(()=>{var yt=ic();return yt.style.setProperty("padding","0.2rem 0.5rem"),yt.style.setProperty("border-radius","var(--border-radius-sm)"),yt.style.setProperty("font-size","0.7rem"),yt.style.setProperty("font-weight","500"),yt.style.setProperty("background","var(--primary-color)"),yt.style.setProperty("color","white"),r(yt,()=>e("inventory.bulk")),yt})()})(),null),rt.style.setProperty("font-size","0.875rem"),rt.style.setProperty("color","var(--text-muted)"),r(rt,()=>Ee.productSku,Ct),r(rt,()=>N(Ee.createdDate),null),r(rt,(()=>{var Xe=z(()=>!!Ee.invoiceId);return()=>Xe()&&(()=>{var yt=ac(),Et=yt.firstChild,zt=Et.nextSibling;return zt.nextSibling,yt.style.setProperty("margin-left","0.5rem"),yt.style.setProperty("font-weight","500"),r(yt,()=>e("common.invoice"),zt),r(yt,()=>Ee.invoiceId,null),yt})()})(),null),Pt.style.setProperty("text-align","right"),ft.style.setProperty("font-size","1.25rem"),ft.style.setProperty("font-weight","700"),ft.style.setProperty("color","var(--primary-color)"),r(ft,()=>ae(Ee.totalCost)),$t.style.setProperty("font-size","0.875rem"),$t.style.setProperty("color","var(--text-muted)"),r($t,()=>Ee.quantity,lt),r($t,()=>e("common.units"),ut),r($t,()=>ae(Ee.unitCost),null),o(_t,P),r(Bt,()=>e("inventory.location"),Ot),r(Nt,()=>Ee.locationName),r(bt,(()=>{var Xe=z(()=>!!Ee.fromLocationName);return()=>Xe()&&(()=>{var yt=fo(),Et=yt.firstChild,zt=Et.firstChild,Vt=Et.nextSibling;return r(Et,()=>e("common.from"),zt),r(Vt,()=>Ee.fromLocationName),T(xt=>{var dr=A,Er=j,Lr=q;return xt.e=o(yt,dr,xt.e),xt.t=o(Et,Er,xt.t),xt.a=o(Vt,Lr,xt.a),xt},{e:void 0,t:void 0,a:void 0}),yt})()})(),jt),r(Xt,()=>e("common.reference"),Ar),r(hr,()=>Ee.referenceNumber),r(er,()=>e("common.createdBy"),Ir),r($r,()=>Ee.createdBy),r(Sr,(()=>{var Xe=z(()=>!!Ee.notes);return()=>Xe()&&(()=>{var yt=fo(),Et=yt.firstChild,zt=Et.firstChild,Vt=Et.nextSibling;return r(Et,()=>e("common.notes"),zt),r(Vt,()=>Ee.notes),T(xt=>{var dr={...A,"border-bottom":"none"},Er=j,Lr={...q,"max-width":"200px","text-align":"right","font-style":"italic"};return xt.e=o(yt,dr,xt.e),xt.t=o(Et,Er,xt.t),xt.a=o(Vt,Lr,xt.a),xt},{e:void 0,t:void 0,a:void 0}),yt})()})(),null),T(Xe=>{var yt={...h,"border-left":Ee.invoiceId?"4px solid var(--primary-color)":"1px solid var(--border-color)",cursor:"pointer"},Et=ie(Ee.movementType),zt=A,Vt=j,xt=q,dr=A,Er=j,Lr=q,ti=A,ri=j,ni=q;return Xe.e=o(Ue,yt,Xe.e),Xe.t=o(Ke,Et,Xe.t),Xe.a=o(ht,zt,Xe.a),Xe.o=o(Bt,Vt,Xe.o),Xe.i=o(Nt,xt,Xe.i),Xe.n=o(jt,dr,Xe.n),Xe.s=o(Xt,Er,Xe.s),Xe.h=o(hr,Lr,Xe.h),Xe.r=o(Pr,ti,Xe.r),Xe.d=o(er,ri,Xe.d),Xe.l=o($r,ni,Xe.l),Xe},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0}),Ue})()}),z(()=>z(()=>ne()>1)()&&(()=>{var Ee=lc(),Ue=Ee.firstChild,He=Ue.firstChild,ot=He.firstChild,Ye=He.nextSibling,Ce=Ye.nextSibling,ze=Ue.nextSibling,Ke=ze.firstChild,rt=Ke.firstChild,Ct=rt.firstChild,Pt=rt.nextSibling,ft=Pt.nextSibling,$t=ft.firstChild;return o(Ee,re),Ue.style.setProperty("display","flex"),Ue.style.setProperty("align-items","center"),Ue.style.setProperty("gap","0.5rem"),He.style.setProperty("font-size","0.875rem"),He.style.setProperty("color","var(--text-muted)"),r(He,()=>e("common.showPerPage","Show per page"),ot),Ye.addEventListener("change",lt=>{b(Number(lt.target.value)),S(1)}),Ye.style.setProperty("padding","0.25rem 0.5rem"),Ye.style.setProperty("border","1px solid var(--border-color)"),Ye.style.setProperty("border-radius","var(--border-radius-sm)"),Ye.style.setProperty("background","var(--surface-color)"),Ye.style.setProperty("cursor","pointer"),Ye.style.setProperty("font-size","0.875rem"),Ce.style.setProperty("font-size","0.875rem"),Ce.style.setProperty("color","var(--text-muted)"),Ce.style.setProperty("margin-left","1rem"),r(Ce,()=>e("common.showingXofY","Showing {{start}}-{{end}} of {{total}}",{start:($()-1)*C()+1,end:Math.min($()*C(),de().length),total:de().length})),ze.style.setProperty("display","flex"),ze.style.setProperty("align-items","center"),ze.style.setProperty("gap","0.5rem"),r(ze,u(Ae,{variant:"outline",size:"sm",onClick:()=>S(1),get disabled(){return $()===1},style:{padding:"0.25rem 0.5rem"},get children(){return e("common.first","First")}}),Ke),r(ze,u(Ae,{variant:"outline",size:"sm",onClick:()=>S(lt=>Math.max(1,lt-1)),get disabled(){return $()===1},style:{padding:"0.25rem 0.5rem"},get children(){return e("common.previous")}}),Ke),r(ze,()=>{const lt=[],ut=ne(),_t=$();if(ut<=7)for(let bt=1;bt<=ut;bt++)lt.push(bt);else{lt.push(1),_t>3&&lt.push("...");for(let bt=Math.max(2,_t-1);bt<=Math.min(ut-1,_t+1);bt++)lt.includes(bt)||lt.push(bt);_t<ut-2&&lt.push("..."),lt.includes(ut)||lt.push(ut)}return u(mt,{each:lt,children:bt=>bt==="..."?(()=>{var ht=sc();return ht.style.setProperty("padding","0 0.5rem"),ht.style.setProperty("color","var(--text-muted)"),ht})():(()=>{var ht=cc();return ht.$$click=()=>S(bt),r(ht,bt),T(Bt=>o(ht,W(bt===$()),Bt)),ht})()})},Ke),r(ze,u(Ae,{variant:"outline",size:"sm",onClick:()=>S(lt=>Math.min(ne(),lt+1)),get disabled(){return $()===ne()},style:{padding:"0.25rem 0.5rem"},get children(){return e("common.next")}}),Ke),r(ze,u(Ae,{variant:"outline",size:"sm",onClick:()=>S(ne()),get disabled(){return $()===ne()},style:{padding:"0.25rem 0.5rem"},get children(){return e("common.last","Last")}}),Ke),Ke.style.setProperty("display","flex"),Ke.style.setProperty("align-items","center"),Ke.style.setProperty("gap","0.5rem"),Ke.style.setProperty("margin-left","1rem"),rt.style.setProperty("font-size","0.875rem"),rt.style.setProperty("color","var(--text-muted)"),r(rt,()=>e("common.page","Page"),Ct),Pt.addEventListener("change",lt=>{const ut=Number(lt.target.value);ut>=1&&ut<=ne()&&S(ut)}),Pt.style.setProperty("width","4rem"),Pt.style.setProperty("padding","0.25rem 0.5rem"),Pt.style.setProperty("border","1px solid var(--border-color)"),Pt.style.setProperty("border-radius","var(--border-radius-sm)"),Pt.style.setProperty("background","var(--surface-color)"),Pt.style.setProperty("text-align","center"),Pt.style.setProperty("font-size","0.875rem"),ft.style.setProperty("font-size","0.875rem"),ft.style.setProperty("color","var(--text-muted)"),r(ft,()=>e("common.of","of"),$t),r(ft,ne,null),T(()=>Ze(Pt,"max",ne())),T(()=>Ye.value=C()),T(()=>Pt.value=$()),Ee})())]})(),null),r(K,u(Gs,{get isOpen(){return R()},onClose:()=>{G(!1),H(null)},get movement(){return M()},onEdit:ee}),null),r(K,u(Zs,{get isOpen(){return Y()},onClose:()=>{le(!1),H(null)},get movement(){return M()},onMovementUpdated:Q}),null),T(De=>{var Ee=oe,Ue=_,He=_,ot=D,Ye=v,Ce=x,ze=D,Ke={...v,color:"#2d7d32"},rt=x,Ct=D,Pt={...v,color:"#d32f2f"},ft=x,$t=D,lt={...v,color:"#1976d2"},ut=x,_t=D,bt={...v,color:"#f57c00"},ht=x,Bt=D,Ot=v,Nt=x;return De.e=o(V,Ee,De.e),De.t=o($e,Ue,De.t),De.a=o(Re,He,De.a),De.o=o(ve,ot,De.o),De.i=o(ke,Ye,De.i),De.n=o(Ne,Ce,De.n),De.s=o(Be,ze,De.s),De.h=o(Me,Ke,De.h),De.r=o(Se,rt,De.r),De.d=o(Fe,Ct,De.d),De.l=o(Oe,Pt,De.l),De.u=o(Je,ft,De.u),De.c=o(be,$t,De.c),De.w=o(Ve,lt,De.w),De.m=o(it,ut,De.m),De.f=o(We,_t,De.f),De.y=o(et,bt,De.y),De.g=o(tt,ht,De.g),De.p=o(gt,Bt,De.p),De.b=o(pt,Ot,De.b),De.T=o(at,Nt,De.T),De},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0}),T(()=>V.value=l()),T(()=>$e.value=d().start),T(()=>Re.value=d().end),K})()};vt(["click"]);var uc=k("<div>ðŸ”„"),yc=k("<button type=button>Ã—"),mc=k("<div>âš ï¸ "),bo=k("<div>"),vc=k("<div><div><input type=text autocomplete=off>"),gc=k("<div><div><div><div></div><div><span>: </span><span>â€¢</span><span></span><span>â€¢</span><span></span></div></div><div><div> </div><div>"),pc=k("<span>âš ï¸ ");const fc=t=>{const{t:e}=Qe(),[n,i]=te(""),[a,s]=te(!1),[l,c]=te(null),[d,y]=te([]),[g,I]=te(!1),[L,E]=te(-1),[$,S]=te(null),C=t.searchDelay||300,b=t.maxResults||900,M=async j=>{if(!j.trim()||j.trim().length<3){y([]),t.onSearchResults?.([]);return}try{s(!0),c(null);try{const q=await Zt.getProducts(j),re=Object.keys(q),W=ae=>{let N=q;return{id:ae,name:N[ae].name,businessId:N[ae].businessId,sku:N[ae].code,UPC:N[ae].UPC,numCode:N[ae].codeN,category:N[ae].category,unitCost:N[ae].unitCost||0,unitOfMeasure:N[ae].unitOfMeasure,minStockLevel:N[ae].minStockLevel,maxStockLevel:N[ae].maxStockLevel,isActive:N[ae].isActive,description:N[ae].description||"",createdDate:N[ae].createdAt||new Date().toISOString(),lastModified:N[ae].updatedAt||new Date().toISOString()}},F=re.map(W);y(F),Le.updProduct(F),t.onSearchResults?.(F)}catch(q){console.warn("API search failed, using local fallback:",q),c("API search failed, showing local results");const re=Le.getActiveProducts().filter(W=>W.name.toLowerCase().includes(j.toLowerCase())||W.sku.toLowerCase().includes(j.toLowerCase())||W.category.toLowerCase().includes(j.toLowerCase())).slice(0,b);y(re),t.onSearchResults?.(re)}}catch(q){const re=q instanceof Error?q.message:"Search failed";c(re),y([]),t.onSearchResults?.([])}finally{s(!1)}},H=j=>{const re=j.target.value;i(re),c(null),t.showResults!==!1&&I(!0),$()&&clearTimeout($());const W=setTimeout(()=>{M(re)},C);S(W)},R=j=>{i(j.name),I(!1),E(-1),t.onProductSelect?.(j)},G=j=>{if(!(!g()||d().length===0))switch(j.key){case"ArrowDown":j.preventDefault(),E(q=>Math.min(q+1,d().length-1));break;case"ArrowUp":j.preventDefault(),E(q=>Math.max(q-1,-1));break;case"Enter":j.preventDefault(),L()>=0&&d()[L()]&&R(d()[L()]);break;case"Escape":I(!1),E(-1);break}},Y=()=>{t.showResults!==!1&&d().length>0&&I(!0)},le=()=>{setTimeout(()=>{I(!1),E(-1)},150)},de=()=>{i(""),y([]),c(null),I(!1),E(-1),t.onSearchResults?.([]),$()&&(clearTimeout($()),S(null))},me=j=>Le.stockLevels.filter(q=>q.productId===j).reduce((q,re)=>q+re.quantity,0),ne=j=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(j),Z={position:"relative",width:"100%",...t.style},X={position:"relative",display:"flex","align-items":"center"},p={width:"100%",padding:"0.75rem","padding-right":n()?"2.5rem":"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)",cursor:t.disabled?"not-allowed":"text",opacity:t.disabled?"0.6":"1",outline:"none",transition:"border-color 0.2s ease"},oe={position:"absolute",right:"0.5rem",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"var(--text-muted)","font-size":"1.2rem","line-height":"1",padding:"0.25rem","border-radius":"50%",transition:"all 0.2s ease"},_={position:"absolute",right:n()?"2.5rem":"0.75rem",top:"50%",transform:"translateY(-50%)","font-size":"0.875rem",color:"var(--text-muted)"},m={position:"absolute",top:"100%",left:"0",right:"0","z-index":"1000","max-height":"300px","overflow-y":"auto",background:"var(--surface-color)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","box-shadow":"0 4px 12px rgba(0,0,0,0.15)","margin-top":"2px"},D=j=>({padding:"0.75rem",cursor:"pointer","border-bottom":"1px solid var(--border-color)",background:j?"var(--strip-color)":"transparent",transition:"background-color 0.2s ease"}),v={display:"flex","justify-content":"space-between","align-items":"center"},x={flex:"1"},h={"font-weight":"500","margin-bottom":"0.25rem",color:"var(--text-primary)"},w={"font-size":"0.875rem",color:"var(--text-muted)",display:"flex",gap:"0.5rem"},ie={"text-align":"right","font-size":"0.875rem"},P={padding:"1rem","text-align":"center",color:"var(--text-muted)","font-style":"italic"},A={padding:"0.5rem 1rem",background:"#fff3cd",color:"#856404","border-bottom":"1px solid var(--border-color)","font-size":"0.875rem"};return(()=>{var j=vc(),q=j.firstChild,re=q.firstChild;return re.addEventListener("blur",le),re.addEventListener("focus",Y),re.$$keydown=G,re.$$input=H,r(q,u(Ge,{get when(){return a()},get children(){var W=uc();return T(F=>o(W,_,F)),W}}),null),r(q,u(Ge,{get when(){return z(()=>!!n())()&&!a()},get children(){var W=yc();return W.addEventListener("mouseleave",F=>{F.currentTarget.style.background="none",F.currentTarget.style.color="var(--text-muted)"}),W.addEventListener("mouseenter",F=>{F.currentTarget.style.background="var(--border-color)",F.currentTarget.style.color="var(--text-primary)"}),W.$$click=de,T(F=>{var ae=oe,N=e("common.clear","Clear search");return F.e=o(W,ae,F.e),N!==F.t&&Ze(W,"title",F.t=N),F},{e:void 0,t:void 0}),W}}),null),r(j,u(Ge,{get when(){return g()&&t.showResults!==!1},get children(){var W=bo();return r(W,u(Ge,{get when(){return l()},get children(){var F=mc();return F.firstChild,o(F,A),r(F,l,null),F}}),null),r(W,u(Ge,{get when(){return d().length>0},get fallback(){return z(()=>!!(n()&&!a()))()&&(()=>{var F=bo();return o(F,P),r(F,()=>e("inventory.noProductsFound","No products found matching your search.")),F})()},get children(){return u(mt,{get each(){return d()},children:(F,ae)=>{const N=me(F.id),J=N<=F.minStockLevel;return(()=>{var fe=gc(),he=fe.firstChild,ee=he.firstChild,Q=ee.firstChild,se=Q.nextSibling,K=se.firstChild,O=K.firstChild,ge=K.nextSibling,pe=ge.nextSibling,B=pe.nextSibling,V=B.nextSibling,Pe=ee.nextSibling,ye=Pe.firstChild,ce=ye.firstChild,U=ye.nextSibling;return fe.addEventListener("mouseenter",()=>E(ae())),fe.$$click=()=>R(F),o(he,v),o(ee,x),o(Q,h),r(Q,()=>F.name),o(se,w),r(K,()=>e("inventory.sku","SKU"),O),r(K,()=>F.sku,null),r(pe,()=>F.category),r(V,()=>ne(F.unitCost)),o(Pe,ie),ye.style.setProperty("font-weight","600"),(J?"#f44336":"var(--text-primary)")!=null?ye.style.setProperty("color",J?"#f44336":"var(--text-primary)"):ye.style.removeProperty("color"),r(ye,N,ce),r(ye,()=>F.unitOfMeasure,null),U.style.setProperty("color","var(--text-muted)"),r(U,()=>J?(()=>{var f=pc();return f.firstChild,f.style.setProperty("color","#f44336"),r(f,()=>e("inventory.lowStock","Low Stock"),null),f})():e("inventory.inStock","In Stock")),T(f=>o(fe,D(ae()===L()),f)),fe})()}})}}),null),T(F=>o(W,m,F)),W}}),null),T(W=>{var F=Z,ae=X,N=p,J=t.placeholder||e("inventory.searchProducts","Search products by name, SKU, or category..."),fe=t.disabled;return W.e=o(j,F,W.e),W.t=o(q,ae,W.t),W.a=o(re,N,W.a),J!==W.o&&Ze(re,"placeholder",W.o=J),fe!==W.i&&(re.disabled=W.i=fe),W},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),T(()=>re.value=n()),j})()};vt(["input","keydown","click"]);var bc=k("<div><p>ðŸ“‹ "),hc=k("<div>"),Sc=k("<div><div>ðŸ“Š</div><h3></h3><p></p><div><div><label>:</label><select><option value=all></option></select></div><div><label>:</label><select><option value=all></option></select></div><div><label>:</label><select><option value=name></option><option value=sku></option><option value=category>"),Pc=k("<div><div><div><div></div><div></div></div><div><div></div><div></div></div><div><div></div><div></div></div><div><div>%</div><div></div></div></div><div></div><div><table><thead><tr><th></th><th></th><th></th><th></th><th></th><th></th></tr></thead><tbody>"),$c=k("<div><table><thead><tr><th></th><th></th><th></th><th></th><th></th></tr></thead><tbody>"),xc=k("<div><div>âœ…</div><h3></h3><p>"),Cc=k("<div><div><h3>ðŸ“‹ </h3><p></p></div><div><div><div></div><div></div></div><div><div></div><div></div></div><div><div></div><div></div></div></div><div>"),_c=k("<div><div><div><h2>ðŸ“‹ </h2><button>Ã—"),ho=k("<option>"),wc=k("<div>..."),kc=k("<tr><td><div></div><div> â€¢ </div></td><td><div></div></td><td><div></div></td><td><div></div></td><td><div>"),Ac=k("<tr><td><div></div></td><td><div></div><div> â€¢ <!> â€¢ </div></td><td><div></div></td><td><input type=number placeholder=0 min=0 step=0.01></td><td><div></div></td><td><input type=text>");const Ic=t=>{const{t:e}=Qe(),[n,i]=te([]),[a,s]=te(!1),[l,c]=te(!1),[d,y]=te("all"),[g,I]=te("all"),[L,E]=te("name"),[$,S]=te([]),[C,b]=te("setup");sr(async()=>{await M(),t.selectedLocationId&&y(t.selectedLocationId)});const M=async()=>{try{s(!0);const v=await Zt.getProducts("prod");if(!v||typeof v!="object"){console.warn("No API results, using local store"),i(Le.products);return}const x=Object.keys(v),h=ie=>{let A=v[ie];return{id:ie,name:A.name||"Unknown Product",businessId:A.businessId||"",sku:A.code||A.sku||"",UPC:A.UPC||"",numCode:A.codeN||"",category:A.category||"General",unitCost:A.unitCost||0,unitOfMeasure:A.unitOfMeasure||"pcs",minStockLevel:A.minStockLevel||0,maxStockLevel:A.maxStockLevel||100,isActive:A.isActive!==!1,description:A.description||"",createdDate:A.createdAt||new Date().toISOString(),lastModified:A.updatedAt||new Date().toISOString(),sellingPrice:parseFloat(A.sellingPrice||A.price||"0")}},w=x.map(h);i(w)}catch(v){console.error("Failed to load products from API:",v),i(Le.products)}finally{s(!1)}},H=qe(()=>[...new Set(n().map(x=>x.category).filter(x=>x))].sort()),R=qe(()=>{let v=n().filter(x=>x.isActive);return g()!=="all"&&(v=v.filter(x=>x.category===g())),v.sort((x,h)=>{switch(L()){case"name":return x.name.localeCompare(h.name);case"sku":return x.sku.localeCompare(h.sku);case"category":return x.category.localeCompare(h.category)||x.name.localeCompare(h.name);default:return 0}}),v}),G=qe(()=>Le.getActiveLocations()),Y=(v,x)=>x&&x!=="all"?Le.getStockByProductAndLocation(v,x)?.quantity||0:Le.getTotalStockByProduct(v),le=()=>{const v=R().map(x=>{const h=Y(x.id,d()!=="all"?d():void 0);return{productId:x.id,systemQuantity:h,physicalCount:null,notes:"",variance:0,product:x}});S(v),b("counting")},de=(v,x)=>{S(h=>h.map(w=>{if(w.productId===v){const ie=x,P=ie!==null?ie-w.systemQuantity:0;return{...w,physicalCount:ie,variance:P}}return w}))},me=(v,x)=>{S(h=>h.map(w=>w.productId===v?{...w,notes:x}:w))},ne=qe(()=>{const v=$(),x=v.length,h=v.filter(A=>A.physicalCount!==null).length,w=v.filter(A=>A.variance!==0).length,ie=v.filter(A=>A.variance>0).length,P=v.filter(A=>A.variance<0).length;return{totalProducts:x,countedProducts:h,remainingProducts:x-h,variances:w,positiveVariances:ie,negativeVariances:P,isComplete:h===x}}),Z=()=>{const v=$().filter(ie=>ie.physicalCount!==null&&ie.variance!==0);if(v.length===0)return null;const x=[e("inventory.product","Product"),e("inventory.sku","SKU"),e("inventory.category","Category"),e("inventory.location","Location"),e("inventory.systemQty","System Qty"),e("inventory.physicalCount","Physical Count"),e("inventory.variance","Variance"),e("inventory.adjustment","Adjustment"),e("common.notes","Notes"),e("common.date","Date")],h=v.map(ie=>[`"${ie.product.name}"`,`"${ie.product.sku}"`,`"${ie.product.category}"`,`"${oe()}"`,ie.systemQuantity,ie.physicalCount,ie.variance,ie.variance>0?e("inventory.stockIncrease","Stock Increase"):e("inventory.stockDecrease","Stock Decrease"),`"${ie.notes||e("inventory.physicalCountAdjustment","Physical count adjustment")}"`,`"${_()}"`]);return[x.join(","),...h.map(ie=>ie.join(","))].join(`
`)},X=()=>{const v=Z();if(!v){alert(e("inventory.noAdjustmentsToDownload","No adjustments to download"));return}const x=new Blob([v],{type:"text/csv;charset=utf-8;"}),h=document.createElement("a");if(h.download!==void 0){const w=URL.createObjectURL(x);h.setAttribute("href",w),h.setAttribute("download",`inventory-adjustments-${_().replace(/[/:,\s]/g,"-")}.csv`),h.style.visibility="hidden",document.body.appendChild(h),h.click(),document.body.removeChild(h)}},p=async(v=!0)=>{try{c(!0),console.log($());const x=j=>{let q=Le.getProductById(j.productId),re=Le.getStockByProductAndLocation(j.productId,d()),W=parseFloat(re?.averageCost+""),F=parseFloat(re?.quantity+"");return{product:{id:j.productId,label:q?.name,code:q?.code},productId:j?.productId,reason:"Physical Count Adjustment",notes:j?.notes||"Physical inventory adjustment",quantity:j?.variance,unitCost:W}},h=$().filter(j=>j.physicalCount!==null&&j.variance!==0).map(x);let w="ADJ_"+nn();const ie=new Date().toISOString(),P={ssg_inventory_key:nn(),invoiceId:w,referenceNumber:nn(),movementType:"adjustment",type:"adjustment",locationId:d(),items:h,products:h,generalNotes:"Physical inventory adjustment",description:"Physical Count Adjustment",invoice:w,store:d(),createdBy:"admin",createDate:ie};console.log("Saving inventory bulkRequest:",P);const A=await Zt.addInventory(P);v&&h.length>0&&X(),console.log("Saving inventory adjustments:",h),await new Promise(j=>setTimeout(j,1e3)),t.onClose()}catch(x){console.error("Failed to save inventory adjustments:",x)}finally{c(!1)}},oe=qe(()=>d()==="all"?"All Locations":G().find(x=>x.id===d())?.name||"Unknown Location"),_=()=>new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),m=()=>{const v=window.open("","_blank");if(!v){alert("Please allow pop-ups to print the counting sheet");return}const x=D();v.document.write(x),v.document.close(),v.onload=()=>{v.print(),v.onafterprint=()=>{v.close()}}},D=()=>{const v=R().map((x,h)=>{const w=Y(x.id,d()!=="all"?d():void 0);return`
        <tr>
          <td style="border: 1px solid #000; padding: 8px; text-align: center;">${h+1}</td>
          <td style="border: 1px solid #000; padding: 8px; font-family: monospace;">${x.sku}</td>
          <td style="border: 1px solid #000; padding: 8px;">
            <div style="font-weight: 500;">${x.name}</div>
            ${x.UPC?`<div style="font-size: 0.8em; color: #666;">UPC: ${x.UPC}</div>`:""}
          </td>
          <td style="border: 1px solid #000; padding: 8px;">${x.category}</td>
          <td style="border: 1px solid #000; padding: 8px; text-align: center;">${x.unitOfMeasure}</td>
          <td style="border: 1px solid #000; padding: 8px; text-align: center; font-weight: bold;">${w}</td>
          <td style="border: 1px solid #000; padding: 8px; text-align: center; background-color: #f9f9f9;">________</td>
          <td style="border: 1px solid #000; padding: 8px;">_______________</td>
        </tr>
      `}).join("");return`
      <!DOCTYPE html>
      <html>
      <head>
        <title> ${oe()}_${g()}_${e("inventory.countingSheet","Inventory Counting Sheet")} - ${_()}</title>
        <style>
          @page {
            size: letter;
            margin: 0.5in;
          }
          body {
            font-family: Arial, sans-serif;
            font-size: 12px;
            margin: 0;
            padding: 0;
          }
          h1 {
            text-align: center;
            margin: 0 0 10px 0;
            font-size: 24px;
          }
          .header-info {
            text-align: center;
            margin-bottom: 20px;
          }
          .instructions {
            background-color: #f0f0f0;
            padding: 10px;
            margin-bottom: 20px;
            border: 1px solid #ccc;
          }
          table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
          }
          th {
            background-color: #333;
            color: white;
            padding: 8px;
            text-align: left;
            font-weight: bold;
            border: 1px solid #000;
          }
          .summary-table {
            width: 50%;
            margin: 20px auto;
          }
          .signature-section {
            margin-top: 40px;
            display: flex;
            justify-content: space-between;
          }
          .signature-box {
            width: 45%;
            text-align: center;
          }
          .signature-line {
            border-bottom: 1px solid #000;
            margin-bottom: 5px;
            height: 30px;
          }
          @media print {
            tr { page-break-inside: avoid; }
          }
        </style>
      </head>
      <body>
        <h1>${e("inventory.inventoryCountingSheetTitle","INVENTORY COUNTING SHEET")}</h1>
        <div class="header-info">
          <p><strong>${e("inventory.location","Location")}:</strong> ${oe()}</p>
          <p><strong>${e("common.category","Category")}:</strong> ${g()==="all"?e("inventory.allCategories","All Categories"):g()}</p>
          <p><strong>${e("common.date","Date")}:</strong> ${_()}</p>
          <p style="margin-top: 10px;">
            <span style="margin-right: 30px;">${e("inventory.countedBy","Counted by")}: _________________________</span>
            <span>${e("inventory.verifiedBy","Verified by")}: _________________________</span>
          </p>
        </div>

        <table>
          <thead>
            <tr>
              <th style="width: 5%; text-align: center;">#</th>
              <th style="width: 12%;">${e("inventory.sku","SKU")}</th>
              <th style="width: 25%;">${e("inventory.productName","Product Name")}</th>
              <th style="width: 12%;">${e("common.category","Category")}</th>
              <th style="width: 8%; text-align: center;">${e("inventory.unit","Unit")}</th>
              <th style="width: 10%; text-align: center;">${e("inventory.systemQty","System Qty")}</th>
              <th style="width: 12%; text-align: center; background-color: #f0f0f0;">${e("inventory.physicalCount","Physical Count")}</th>
              <th style="width: 16%;">${e("common.notes","Notes")}</th>
            </tr>
          </thead>
          <tbody>
            ${v}
          </tbody>
        </table>
        
        <table class="summary-table">
          <tr>
            <td style="border: 1px solid #000; padding: 8px; font-weight: bold; background-color: #f0f0f0;">
              ${e("inventory.totalProductsListed","Total Products Listed")}:
            </td>
            <td style="border: 1px solid #000; padding: 8px; text-align: center; font-weight: bold;">
              ${R().length}
            </td>
          </tr>
          <tr>
            <td style="border: 1px solid #000; padding: 8px; font-weight: bold; background-color: #f0f0f0;">
              ${e("inventory.itemsCounted","Items Counted")}:
            </td>
            <td style="border: 1px solid #000; padding: 8px; text-align: center;">
              ___________
            </td>
          </tr>
          <tr>
            <td style="border: 1px solid #000; padding: 8px; font-weight: bold; background-color: #f0f0f0;">
              ${e("inventory.discrepanciesFound","Discrepancies Found")}:
            </td>
            <td style="border: 1px solid #000; padding: 8px; text-align: center;">
              ___________
            </td>
          </tr>
        </table>
        
        <div class="signature-section">
          <div class="signature-box">
            <div class="signature-line"></div>
            <p>${e("inventory.counterSignature","Counter Signature")}</p>
            <p>${e("common.date","Date")}: _______________</p>
          </div>
          <div class="signature-box">
            <div class="signature-line"></div>
            <p>${e("inventory.supervisorSignature","Supervisor Signature")}</p>
            <p>${e("common.date","Date")}: _______________</p>
          </div>
        </div>
      </body>
      </html>
    `};return u(Ge,{get when(){return t.isOpen},get children(){var v=_c(),x=v.firstChild,h=x.firstChild,w=h.firstChild;w.firstChild;var ie=w.nextSibling;return v.style.setProperty("position","fixed"),v.style.setProperty("top","0"),v.style.setProperty("left","0"),v.style.setProperty("right","0"),v.style.setProperty("bottom","0"),v.style.setProperty("background","rgba(0, 0, 0, 0.5)"),v.style.setProperty("z-index","1000"),v.style.setProperty("display","flex"),v.style.setProperty("align-items","center"),v.style.setProperty("justify-content","center"),x.style.setProperty("background","white"),x.style.setProperty("border-radius","var(--border-radius)"),x.style.setProperty("padding","2rem"),x.style.setProperty("width","95%"),x.style.setProperty("height","95%"),x.style.setProperty("max-width","1400px"),x.style.setProperty("overflow-y","auto"),x.style.setProperty("position","relative"),h.style.setProperty("display","flex"),h.style.setProperty("justify-content","space-between"),h.style.setProperty("align-items","center"),h.style.setProperty("margin-bottom","2rem"),h.style.setProperty("border-bottom","1px solid var(--border-color)"),h.style.setProperty("padding-bottom","1rem"),w.style.setProperty("margin","0"),w.style.setProperty("font-size","1.5rem"),r(w,()=>e("inventory.physicalInventoryCount","Physical Inventory Count"),null),br(ie,"click",t.onClose,!0),ie.style.setProperty("background","none"),ie.style.setProperty("border","none"),ie.style.setProperty("font-size","1.5rem"),ie.style.setProperty("cursor","pointer"),ie.style.setProperty("padding","0.5rem"),r(x,u(Ge,{get when(){return C()==="setup"},get children(){var P=Sc(),A=P.firstChild,j=A.nextSibling,q=j.nextSibling,re=q.nextSibling,W=re.firstChild,F=W.firstChild,ae=F.firstChild,N=F.nextSibling,J=N.firstChild,fe=W.nextSibling,he=fe.firstChild,ee=he.firstChild,Q=he.nextSibling,se=Q.firstChild,K=fe.nextSibling,O=K.firstChild,ge=O.firstChild,pe=O.nextSibling,B=pe.firstChild,V=B.nextSibling,Pe=V.nextSibling;return P.style.setProperty("text-align","center"),P.style.setProperty("padding","2rem"),P.style.setProperty("max-width","600px"),P.style.setProperty("margin","0 auto"),A.style.setProperty("font-size","3rem"),A.style.setProperty("margin-bottom","1rem"),j.style.setProperty("margin-bottom","1rem"),r(j,()=>e("inventory.setupPhysicalCount","Setup Physical Inventory Count")),q.style.setProperty("margin-bottom","2rem"),q.style.setProperty("color","var(--text-muted)"),r(q,()=>e("inventory.setupDescription","Configure your physical inventory count settings and begin the counting process.")),re.style.setProperty("display","grid"),re.style.setProperty("grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))"),re.style.setProperty("gap","1rem"),re.style.setProperty("margin-bottom","2rem"),re.style.setProperty("padding","1rem"),re.style.setProperty("background","var(--surface-color)"),re.style.setProperty("border-radius","var(--border-radius)"),re.style.setProperty("text-align","left"),F.style.setProperty("display","block"),F.style.setProperty("margin-bottom","0.5rem"),F.style.setProperty("font-weight","500"),r(F,()=>e("inventory.location","Location"),ae),N.addEventListener("change",ye=>y(ye.target.value)),N.style.setProperty("width","100%"),N.style.setProperty("padding","0.5rem"),N.style.setProperty("border","1px solid var(--border-color)"),N.style.setProperty("border-radius","var(--border-radius-sm)"),r(J,()=>e("inventory.allLocations","All Locations")),r(N,u(mt,{get each(){return G()},children:ye=>(()=>{var ce=ho();return r(ce,()=>ye.name),T(()=>ce.value=ye.id),ce})()}),null),he.style.setProperty("display","block"),he.style.setProperty("margin-bottom","0.5rem"),he.style.setProperty("font-weight","500"),r(he,()=>e("inventory.category","Category"),ee),Q.addEventListener("change",ye=>I(ye.target.value)),Q.style.setProperty("width","100%"),Q.style.setProperty("padding","0.5rem"),Q.style.setProperty("border","1px solid var(--border-color)"),Q.style.setProperty("border-radius","var(--border-radius-sm)"),r(se,()=>e("products.allCategories","All Categories")),r(Q,u(mt,{get each(){return H()},children:ye=>(()=>{var ce=ho();return ce.value=ye,r(ce,ye),ce})()}),null),O.style.setProperty("display","block"),O.style.setProperty("margin-bottom","0.5rem"),O.style.setProperty("font-weight","500"),r(O,()=>e("inventory.sortBy","Sort By"),ge),pe.addEventListener("change",ye=>E(ye.target.value)),pe.style.setProperty("width","100%"),pe.style.setProperty("padding","0.5rem"),pe.style.setProperty("border","1px solid var(--border-color)"),pe.style.setProperty("border-radius","var(--border-radius-sm)"),r(B,()=>e("inventory.productName","Product Name")),r(V,()=>e("inventory.sku","SKU")),r(Pe,()=>e("inventory.category","Category")),r(P,u(Ge,{get when(){return!a()},get fallback(){return(()=>{var ye=wc(),ce=ye.firstChild;return ye.style.setProperty("padding","2rem"),r(ye,()=>e("common.loading","Loading"),ce),ye})()},get children(){return[(()=>{var ye=bc(),ce=ye.firstChild;return ce.firstChild,ye.style.setProperty("padding","1rem"),ye.style.setProperty("background","#fff3cd"),ye.style.setProperty("border-radius","var(--border-radius-sm)"),ye.style.setProperty("margin-bottom","2rem"),ce.style.setProperty("margin","0"),ce.style.setProperty("color","#856404"),r(ce,()=>e("inventory.countWillInclude","This count will include {{count}} products from {{location}} in {{category}} category.",{count:R().length,location:oe(),category:g()==="all"?e("inventory.allCategories","all categories"):g()}),null),ye})(),(()=>{var ye=hc();return ye.style.setProperty("display","grid"),ye.style.setProperty("grid-template-columns","repeat(auto-fit, minmax(150px, 1fr))"),ye.style.setProperty("gap","1rem"),ye.style.setProperty("margin-bottom","2rem"),ye.style.setProperty("padding","1rem"),ye.style.setProperty("background","var(--surface-color)"),ye.style.setProperty("border-radius","var(--border-radius)"),r(ye,u(Ae,{variant:"primary",size:"large",onClick:le,get disabled(){return a()||R().length===0},get children(){return["ðŸš€ ",z(()=>e("inventory.startCounting","Start Physical Count"))]}}),null),r(ye,u(Ae,{variant:"primary",onClick:m,get disabled(){return a()},get children(){return["ðŸ–¨ï¸ ",z(()=>e("common.print","Print"))]}}),null),ye})()]}}),null),T(()=>N.value=d()),T(()=>Q.value=g()),T(()=>pe.value=L()),P}}),null),r(x,u(Ge,{get when(){return C()==="counting"},get children(){var P=Pc(),A=P.firstChild,j=A.firstChild,q=j.firstChild,re=q.nextSibling,W=j.nextSibling,F=W.firstChild,ae=F.nextSibling,N=W.nextSibling,J=N.firstChild,fe=J.nextSibling,he=N.nextSibling,ee=he.firstChild,Q=ee.firstChild,se=ee.nextSibling,K=A.nextSibling,O=K.nextSibling,ge=O.firstChild,pe=ge.firstChild,B=pe.firstChild,V=B.firstChild,Pe=V.nextSibling,ye=Pe.nextSibling,ce=ye.nextSibling,U=ce.nextSibling,f=U.nextSibling,ue=pe.nextSibling;return A.style.setProperty("display","grid"),A.style.setProperty("grid-template-columns","repeat(auto-fit, minmax(150px, 1fr))"),A.style.setProperty("gap","1rem"),A.style.setProperty("margin-bottom","2rem"),A.style.setProperty("padding","1rem"),A.style.setProperty("background","var(--surface-color)"),A.style.setProperty("border-radius","var(--border-radius)"),j.style.setProperty("text-align","center"),q.style.setProperty("font-size","1.5rem"),q.style.setProperty("font-weight","700"),q.style.setProperty("color","var(--primary-color)"),r(q,()=>ne().countedProducts),re.style.setProperty("font-size","0.875rem"),re.style.setProperty("color","var(--text-muted)"),r(re,()=>e("inventory.counted","Counted")),W.style.setProperty("text-align","center"),F.style.setProperty("font-size","1.5rem"),F.style.setProperty("font-weight","700"),F.style.setProperty("color","#ff9800"),r(F,()=>ne().remainingProducts),ae.style.setProperty("font-size","0.875rem"),ae.style.setProperty("color","var(--text-muted)"),r(ae,()=>e("inventory.remaining","Remaining")),N.style.setProperty("text-align","center"),J.style.setProperty("font-size","1.5rem"),J.style.setProperty("font-weight","700"),J.style.setProperty("color","#f44336"),r(J,()=>ne().variances),fe.style.setProperty("font-size","0.875rem"),fe.style.setProperty("color","var(--text-muted)"),r(fe,()=>e("inventory.variances","Variances")),he.style.setProperty("text-align","center"),ee.style.setProperty("font-size","1.5rem"),ee.style.setProperty("font-weight","700"),r(ee,()=>Math.round(ne().countedProducts/ne().totalProducts*100),Q),se.style.setProperty("font-size","0.875rem"),se.style.setProperty("color","var(--text-muted)"),r(se,()=>e("inventory.complete","Complete")),K.style.setProperty("display","flex"),K.style.setProperty("gap","1rem"),K.style.setProperty("margin-bottom","2rem"),K.style.setProperty("justify-content","center"),r(K,u(Ae,{variant:"outline",onClick:()=>b("setup"),get children(){return["â¬…ï¸ ",z(()=>e("common.back","Back to Setup"))]}}),null),r(K,u(Ae,{variant:"primary",onClick:()=>b("review"),get children(){return["ðŸ“‹ ",z(()=>e("inventory.reviewAdjustments","Review Adjustments"))]}}),null),O.style.setProperty("border","1px solid var(--border-color)"),O.style.setProperty("border-radius","var(--border-radius)"),O.style.setProperty("overflow-x","auto"),ge.style.setProperty("width","100%"),ge.style.setProperty("border-collapse","collapse"),B.style.setProperty("background","var(--surface-color)"),V.style.setProperty("padding","1rem"),V.style.setProperty("text-align","left"),V.style.setProperty("border-bottom","1px solid var(--border-color)"),r(V,()=>e("inventory.no","No")),Pe.style.setProperty("padding","1rem"),Pe.style.setProperty("text-align","left"),Pe.style.setProperty("border-bottom","1px solid var(--border-color)"),r(Pe,()=>e("inventory.product","Product")),ye.style.setProperty("padding","1rem"),ye.style.setProperty("text-align","center"),ye.style.setProperty("border-bottom","1px solid var(--border-color)"),r(ye,()=>e("inventory.systemQty","System Qty")),ce.style.setProperty("padding","1rem"),ce.style.setProperty("text-align","center"),ce.style.setProperty("border-bottom","1px solid var(--border-color)"),r(ce,()=>e("inventory.physicalCount","Physical Count")),U.style.setProperty("padding","1rem"),U.style.setProperty("text-align","center"),U.style.setProperty("border-bottom","1px solid var(--border-color)"),r(U,()=>e("inventory.variance","Variance")),f.style.setProperty("padding","1rem"),f.style.setProperty("text-align","left"),f.style.setProperty("border-bottom","1px solid var(--border-color)"),r(f,()=>e("common.notes","Notes")),r(ue,u(mt,{get each(){return $()},children:(_e,$e)=>u(Ec,{get index(){return $e()},updatePhysicalCount:de,entry:_e,updateNotes:me})})),T(_e=>(_e=ne().isComplete?"#4caf50":"#ff9800")!=null?ee.style.setProperty("color",_e):ee.style.removeProperty("color")),P}}),null),r(x,u(Ge,{get when(){return C()==="review"},get children(){var P=Cc(),A=P.firstChild,j=A.firstChild;j.firstChild;var q=j.nextSibling,re=A.nextSibling,W=re.firstChild,F=W.firstChild,ae=F.nextSibling,N=W.nextSibling,J=N.firstChild,fe=J.nextSibling,he=N.nextSibling,ee=he.firstChild,Q=ee.nextSibling,se=re.nextSibling;return A.style.setProperty("text-align","center"),A.style.setProperty("margin-bottom","2rem"),j.style.setProperty("margin-bottom","1rem"),r(j,()=>e("inventory.reviewAndConfirm","Review and Confirm Adjustments"),null),q.style.setProperty("color","var(--text-muted)"),r(q,()=>e("inventory.reviewDescription","Review the inventory adjustments below and confirm to update your system.")),re.style.setProperty("display","grid"),re.style.setProperty("grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))"),re.style.setProperty("gap","1rem"),re.style.setProperty("margin-bottom","2rem"),re.style.setProperty("padding","1rem"),re.style.setProperty("background","var(--surface-color)"),re.style.setProperty("border-radius","var(--border-radius)"),W.style.setProperty("text-align","center"),F.style.setProperty("font-size","1.5rem"),F.style.setProperty("font-weight","700"),F.style.setProperty("color","#4caf50"),r(F,()=>ne().positiveVariances),ae.style.setProperty("font-size","0.875rem"),ae.style.setProperty("color","var(--text-muted)"),r(ae,()=>e("inventory.stockIncreases","Stock Increases")),N.style.setProperty("text-align","center"),J.style.setProperty("font-size","1.5rem"),J.style.setProperty("font-weight","700"),J.style.setProperty("color","#f44336"),r(J,()=>ne().negativeVariances),fe.style.setProperty("font-size","0.875rem"),fe.style.setProperty("color","var(--text-muted)"),r(fe,()=>e("inventory.stockDecreases","Stock Decreases")),he.style.setProperty("text-align","center"),ee.style.setProperty("font-size","1.5rem"),ee.style.setProperty("font-weight","700"),ee.style.setProperty("color","var(--primary-color)"),r(ee,()=>ne().variances),Q.style.setProperty("font-size","0.875rem"),Q.style.setProperty("color","var(--text-muted)"),r(Q,()=>e("inventory.totalAdjustments","Total Adjustments")),se.style.setProperty("display","flex"),se.style.setProperty("gap","1rem"),se.style.setProperty("margin-bottom","2rem"),se.style.setProperty("justify-content","center"),se.style.setProperty("flex-wrap","wrap"),r(se,u(Ae,{variant:"outline",onClick:()=>b("counting"),get children(){return["â¬…ï¸ ",z(()=>e("common.back","Back to Counting"))]}}),null),r(se,u(Ae,{variant:"outline",onClick:X,get disabled(){return ne().variances===0},get children(){return["ðŸ“¥ ",z(()=>e("inventory.downloadCSV","Download CSV"))]}}),null),r(se,u(Ae,{variant:"primary",onClick:p,get disabled(){return l()||ne().variances===0},get children(){return z(()=>!!l())()?"ðŸ’¾ "+e("common.saving","Saving")+"...":"âœ… "+e("inventory.confirmAdjustments","Confirm Adjustments")}}),null),r(P,u(Ge,{get when(){return ne().variances>0},get children(){var K=$c(),O=K.firstChild,ge=O.firstChild,pe=ge.firstChild,B=pe.firstChild,V=B.nextSibling,Pe=V.nextSibling,ye=Pe.nextSibling,ce=ye.nextSibling,U=ge.nextSibling;return K.style.setProperty("border","1px solid var(--border-color)"),K.style.setProperty("border-radius","var(--border-radius)"),K.style.setProperty("overflow-x","auto"),O.style.setProperty("width","100%"),O.style.setProperty("border-collapse","collapse"),pe.style.setProperty("background","var(--surface-color)"),B.style.setProperty("padding","1rem"),B.style.setProperty("text-align","left"),B.style.setProperty("border-bottom","1px solid var(--border-color)"),r(B,()=>e("inventory.product","Product")),V.style.setProperty("padding","1rem"),V.style.setProperty("text-align","center"),V.style.setProperty("border-bottom","1px solid var(--border-color)"),r(V,()=>e("inventory.systemQty","System Qty")),Pe.style.setProperty("padding","1rem"),Pe.style.setProperty("text-align","center"),Pe.style.setProperty("border-bottom","1px solid var(--border-color)"),r(Pe,()=>e("inventory.physicalCount","Physical Count")),ye.style.setProperty("padding","1rem"),ye.style.setProperty("text-align","center"),ye.style.setProperty("border-bottom","1px solid var(--border-color)"),r(ye,()=>e("inventory.adjustment","Adjustment")),ce.style.setProperty("padding","1rem"),ce.style.setProperty("text-align","left"),ce.style.setProperty("border-bottom","1px solid var(--border-color)"),r(ce,()=>e("common.notes","Notes")),r(U,u(mt,{get each(){return $().filter(f=>f.variance!==0)},children:f=>(()=>{var ue=kc(),_e=ue.firstChild,$e=_e.firstChild,xe=$e.nextSibling,we=xe.firstChild,Re=_e.nextSibling,Ie=Re.firstChild,ve=Re.nextSibling,ke=ve.firstChild,Ne=ve.nextSibling,Be=Ne.firstChild,Me=Ne.nextSibling,Se=Me.firstChild;return ue.style.setProperty("border-bottom","1px solid var(--border-color)"),_e.style.setProperty("padding","1rem"),$e.style.setProperty("font-weight","500"),r($e,()=>f.product.name),xe.style.setProperty("font-size","0.875rem"),xe.style.setProperty("color","var(--text-muted)"),r(xe,()=>f.product.sku,we),r(xe,()=>f.product.category,null),Re.style.setProperty("padding","1rem"),Re.style.setProperty("text-align","center"),Ie.style.setProperty("font-weight","600"),r(Ie,()=>f.systemQuantity),ve.style.setProperty("padding","1rem"),ve.style.setProperty("text-align","center"),ke.style.setProperty("font-weight","600"),r(ke,()=>f.physicalCount),Ne.style.setProperty("padding","1rem"),Ne.style.setProperty("text-align","center"),Be.style.setProperty("font-weight","700"),r(Be,()=>f.variance>0?"+":"",null),r(Be,()=>f.variance,null),Me.style.setProperty("padding","1rem"),Se.style.setProperty("font-size","0.875rem"),r(Se,()=>f.notes||e("inventory.physicalCountAdjustment","Physical count adjustment")),T(Fe=>{var Oe=f.variance>0?"#d4edda":"#f8d7da",Je=f.variance>0?"#4caf50":"#f44336";return Oe!==Fe.e&&((Fe.e=Oe)!=null?ue.style.setProperty("background",Oe):ue.style.removeProperty("background")),Je!==Fe.t&&((Fe.t=Je)!=null?Be.style.setProperty("color",Je):Be.style.removeProperty("color")),Fe},{e:void 0,t:void 0}),ue})()})),K}}),null),r(P,u(Ge,{get when(){return ne().variances===0},get children(){var K=xc(),O=K.firstChild,ge=O.nextSibling,pe=ge.nextSibling;return K.style.setProperty("text-align","center"),K.style.setProperty("padding","3rem"),K.style.setProperty("background","var(--surface-color)"),K.style.setProperty("border-radius","var(--border-radius)"),O.style.setProperty("font-size","3rem"),O.style.setProperty("margin-bottom","1rem"),ge.style.setProperty("margin-bottom","0.5rem"),r(ge,()=>e("inventory.perfectCount","Perfect Count!")),pe.style.setProperty("color","var(--text-muted)"),r(pe,()=>e("inventory.noVariances","No variances found. Your physical count matches the system exactly.")),K}}),null),P}}),null),v}})},Ec=t=>{const{t:e}=Qe(),[n,i]=te(""),[a,s]=te("");let{entry:l,updatePhysicalCount:c,updateNotes:d,index:y}=t;return sr(()=>{s(l?.notes),i(l?.physicalCount)}),(()=>{var g=Ac(),I=g.firstChild,L=I.firstChild,E=I.nextSibling,$=E.firstChild,S=$.nextSibling,C=S.firstChild,b=C.nextSibling;b.nextSibling;var M=E.nextSibling,H=M.firstChild,R=M.nextSibling,G=R.firstChild,Y=R.nextSibling,le=Y.firstChild,de=Y.nextSibling,me=de.firstChild;return g.style.setProperty("border-bottom","1px solid var(--border-color)"),I.style.setProperty("padding","1rem"),I.style.setProperty("text-align","center"),L.style.setProperty("font-weight","600"),r(L,y+1),E.style.setProperty("padding","1rem"),$.style.setProperty("font-weight","500"),r($,()=>l?.product.name),S.style.setProperty("font-size","0.875rem"),S.style.setProperty("color","var(--text-muted)"),r(S,()=>l?.product.sku,C),r(S,()=>l?.product.category,b),r(S,()=>l?.product.unitOfMeasure,null),M.style.setProperty("padding","1rem"),M.style.setProperty("text-align","center"),H.style.setProperty("font-weight","600"),r(H,()=>l?.systemQuantity),R.style.setProperty("padding","1rem"),R.style.setProperty("text-align","center"),G.addEventListener("blur",()=>{c(l?.productId,n()===""?null:parseFloat(n()))}),G.$$keydown=ne=>{ne.keyCode===13&&c(l?.productId,n()===""?null:parseFloat(n())),ne.keyCode===27&&c(l?.productId,n()===""?null:parseFloat(n())),ne.keyCode===9&&c(l?.productId,n()===""?null:parseFloat(n()))},G.$$input=ne=>{const Z=ne.target.value;i(Z)},Ze(G,"tabindex",y),G.style.setProperty("width","100px"),G.style.setProperty("padding","0.5rem"),G.style.setProperty("border","1px solid var(--border-color)"),G.style.setProperty("border-radius","var(--border-radius-sm)"),G.style.setProperty("text-align","center"),Y.style.setProperty("padding","1rem"),Y.style.setProperty("text-align","center"),le.style.setProperty("font-weight","600"),r(le,()=>l?.variance>0?"+":"",null),r(le,()=>l?.variance||"â€”",null),de.style.setProperty("padding","1rem"),me.addEventListener("blur",ne=>{d(l?.productId,a())}),me.$$keydown=ne=>{ne.keyCode===13&&d(l?.productId,a()),ne.keyCode===27&&d(l?.productId,a()),ne.keyCode===9&&d(l?.productId,a())},me.$$input=ne=>{const Z=ne.target.value;s(Z)},me.style.setProperty("width","200px"),me.style.setProperty("padding","0.5rem"),me.style.setProperty("border","1px solid var(--border-color)"),me.style.setProperty("border-radius","var(--border-radius-sm)"),T(ne=>{var Z=l?.physicalCount!==null?l?.variance!==0?"#fff3cd":"#d4edda":"transparent",X=l?.variance>0?"#4caf50":l?.variance<0?"#f44336":"var(--text-muted)",p=e("inventory.addNotes","Add notes...");return Z!==ne.e&&((ne.e=Z)!=null?g.style.setProperty("background",Z):g.style.removeProperty("background")),X!==ne.t&&((ne.t=X)!=null?le.style.setProperty("color",X):le.style.removeProperty("color")),p!==ne.a&&Ze(me,"placeholder",ne.a=p),ne},{e:void 0,t:void 0,a:void 0}),T(()=>G.value=n()||""),T(()=>me.value=a()||""),g})()};vt(["click","input","keydown"]);var Lc=k("<div><h1></h1><div><div><span>View:</span><button> 1</button><button> 2"),Tt=k("<div>"),Dc=k("<div><h3></h3><div>"),Nc=k("<div>: <!> "),Tc=k("<div><button></button><button></button><button></button><button>"),Bc=k("<div><div>"),Mc=k("<div><span> (<!>)</span><span> / <!> "),Rc=k("<div><div><div><h2></h2><div><div></div></div></div></div><div><span>"),Oc=k("<span>ðŸ” "),jc=k("<div><div><div><div><h3></h3><span></span></div><div></div><div>: </div></div><div><div> </div><div>: <!> â€¢ <!>: </div><div>: "),zc=k("<div><div>:</div><div>"),Fc=k("<div>: "),qc=k("<div><div><span>:</span><select><option value=10>10</option><option value=20>20</option><option value=50>50</option><option value=100>100</option></select></div><div><div><span></span><input type=number min=1><span> </span></div></div><div>"),Uc=k("<div><div><h2></h2></div><div>"),Vc=k("<div><div><div><span></span><h3></h3></div><div> â€¢ </div><div></div></div><div><div><span>:</span><span></span></div><div><span>:</span><span></span></div><div><span>:</span><span></span></div></div><div><div>:"),Yc=k("<div><div><div><div></div><div></div></div><div><div> </div><div></div><div>Min: "),Wc=k("<span>âš ï¸ LOW");const Hc=()=>{const{t}=Qe(),[e,n]=te(!1),[i,a]=te(!1),[s,l]=te(!1),[c,d]=te(null),[y,g]=te("overview"),[I,L]=te("new"),[E,$]=te(""),[S,C]=te(""),[b,M]=te([]),[H,R]=te(!1),[G,Y]=te(!1),[le,de]=te(!1),[me,ne]=te(!1),[Z,X]=te(!1),[p,oe]=te(!1),[_,m]=te(1),[D,v]=te(20),x=U=>{d(U),l(!0)},h=qe(()=>{const U=Le.products||[],f=Le.movements||[],ue=Le.stockLevels||[],_e=Le.getLowStockProducts(),$e=U?.length||0,xe=U?.filter(Ie=>Ie.isActive).length,we=ue.reduce((Ie,ve)=>Ie*1+ve.quantity*1*ve.averageCost*1,0),Re=f?.filter(Ie=>{const ve=new Date(Ie.createdDate),ke=new Date;return ve.getMonth()===ke.getMonth()&&ve.getFullYear()===ke.getFullYear()}).length;return{totalProducts:$e,activeProducts:xe,lowStockProducts:_e.length,totalStockValue:we,totalMovementsThisMonth:Re,totalLocations:Le.locations.length,activeLocations:Le.getActiveLocations().length}}),w=qe(()=>Le.products.map(U=>{const f=Le.getStockByProduct(U.id),ue=Le.getTotalStockByProduct(U.id),_e=Le.getLastLocationByProduct(U.id);return{...U,totalStock:ue,stockByLocation:f,lastLocation:_e,isLowStock:ue<=U.minStockLevel}})),ie=qe(()=>b().map(U=>{const f=Le.getStockByProduct(U.id),ue=Le.getTotalStockByProduct(U.id),_e=Le.getLastLocationByProduct(U.id);return console.log(U),{...U,totalStock:ue,stockByLocation:f,lastLocation:_e,isLowStock:ue<=U.minStockLevel}})),P=qe(()=>{const U=G()?ie():w(),f=(_()-1)*D(),ue=f+D();return U.slice(f,ue)}),A=qe(()=>{const U=G()?ie():w();return Math.ceil(U.length/D())});qe(()=>{G(),m(1)});const j=(U,f)=>U<=f?t("inventory.lowStockAlert"):U<=f*2?t("inventory.normalStock"):t("inventory.inStock"),q=U=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(U),re=U=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(U),W=U=>{switch(U){case"warehouse":return t("inventory.warehouse");case"store":return t("inventory.store");case"supplier":return t("inventory.supplier");case"customer":return t("inventory.customer");default:return U}},F={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"},ae={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"1rem"},N=U=>({padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500",background:U>50?"#d4edda":U>20?"#fff3cd":"#f8d7da",color:U>50?"#155724":U>20?"#856404":"#721c24"}),J={"font-size":"1.25rem","font-weight":"600",color:"var(--primary-color)","margin-bottom":"0.5rem"},fe={color:"var(--text-muted)","font-size":"0.875rem"},he={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"},ee={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"2rem"},Q={display:"flex","border-bottom":"1px solid var(--border-color)","margin-bottom":"1.5rem"},se=U=>({padding:"0.75rem 1rem",background:"none",border:"none",cursor:"pointer","font-weight":"500",color:U?"var(--primary-color)":"var(--text-muted)","border-bottom":U?"2px solid var(--primary-color)":"2px solid transparent",transition:"all 0.2s ease"}),K={padding:"1.5rem","margin-bottom":"1rem",background:"var(--surface-color)","border-radius":"var(--border-radius)",border:"1px solid var(--border-color)",cursor:"pointer",transition:"all 0.2s ease"},O={display:"flex","justify-content":"space-between","align-items":"flex-start","margin-bottom":"1rem"},ge=U=>({padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500","text-transform":"uppercase","letter-spacing":"0.5px",background:U?"#ffebee":"#e8f5e8",color:U?"#d32f2f":"#2d7d32"}),pe={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem","margin-bottom":"2rem"},B={padding:"1rem",background:"var(--surface-color)","border-radius":"var(--border-radius-sm)",border:"1px solid var(--border-color)"},V={display:"flex",gap:"0.5rem","align-items":"center","margin-left":"auto","margin-right":"1rem"},Pe=U=>({padding:"0.5rem 1rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)",background:U?"var(--primary-color)":"var(--surface-color)",color:U?"white":"var(--text-primary)",cursor:"pointer","font-weight":"500","font-size":"0.875rem",transition:"all 0.2s ease"}),ye=qe(()=>{const U=Le.movements;return{total:U.length,stockIn:U.filter(f=>f.movementType==="in").length,stockOut:U.filter(f=>f.movementType==="out").length,transfers:U.filter(f=>f.movementType==="transfer").length,adjustments:U.filter(f=>f.movementType==="adjustment").length,totalValue:U.reduce((f,ue)=>f+ue.totalCost,0)}}),ce=async()=>{try{try{const U=await Zt.getProducts("prod");console.log({apiResults:U});const f=Object.keys(U),ue=$e=>{let we=U[$e];return{id:$e,name:we.name,businessId:we.businessId,sku:we.code,UPC:we.UPC,numCode:we.codeN,category:we.category,unitCost:we.unitCost||0,unitOfMeasure:we.unitOfMeasure,minStockLevel:we.minStockLevel,maxStockLevel:we.maxStockLevel,isActive:we.isActive,description:we.description||"",createdDate:we.createdAt||new Date().toISOString(),lastModified:we.updatedAt||new Date().toISOString(),sellingPrice:parseFloat(we.sellingPrice||we.price||"0")}};let _e=f.map(ue);M(_e),Le.updProduct(_e)}catch(U){console.warn("API failed, using local store:",U),M(Le.products)}}catch{}finally{}};return sr(()=>{}),u(Yt,{get title(){return t("inventory.title")},get children(){return[(()=>{var U=Lc(),f=U.firstChild,ue=f.nextSibling,_e=ue.firstChild,$e=_e.firstChild,xe=$e.nextSibling,we=xe.firstChild,Re=xe.nextSibling,Ie=Re.firstChild;return o(U,ee),f.style.setProperty("margin","0"),f.style.setProperty("font-size","1.75rem"),ue.style.setProperty("display","flex"),ue.style.setProperty("align-items","center"),ue.style.setProperty("gap","1rem"),o(_e,V),$e.style.setProperty("font-weight","500"),$e.style.setProperty("color","var(--text-muted)"),$e.style.setProperty("font-size","0.875rem"),xe.$$click=()=>L("new"),r(xe,()=>t("common.view"),we),Re.$$click=()=>L("legacy"),r(Re,()=>t("common.view"),Ie),r(ue,(()=>{var ve=z(()=>I()==="new");return()=>ve()&&u(Ae,{variant:"outline",onClick:()=>oe(!0),get children(){return["ðŸ”¢ ",z(()=>t("inventory.physicalCount","Physical Count"))]}})})(),null),r(ue,u(Ae,{variant:"primary",onClick:()=>a(!0),get children(){return z(()=>I()==="new")()?t("inventory.addMovement"):t("common.add")}}),null),T(ve=>{var ke=Pe(I()==="new"),Ne=Pe(I()==="legacy");return ve.e=o(xe,ke,ve.e),ve.t=o(Re,Ne,ve.t),ve},{e:void 0,t:void 0}),U})(),z(()=>z(()=>I()==="legacy")()?[(()=>{var U=Tt();return r(U,u(je,{get title(){return t("inventory.totalItems")},get subtitle(){return t("inventory.inStock")},get children(){var f=Tt();return f.style.setProperty("font-size","1.5rem"),f.style.setProperty("font-weight","600"),f.style.setProperty("color","var(--primary-color)"),r(f,()=>Le.inventory.length),f}}),null),r(U,u(je,{get title(){return t("inventory.lowStockAlert")},get subtitle(){return t("inventory.itemsBelowThreshold")},get children(){var f=Tt();return f.style.setProperty("font-size","1.5rem"),f.style.setProperty("font-weight","600"),f.style.setProperty("color","var(--primary-color)"),r(f,()=>Le.getLowStockItems().length),f}}),null),r(U,u(je,{get title(){return t("inventory.totalValue")},get subtitle(){return t("inventory.inventoryWorth")},get children(){var f=Tt();return f.style.setProperty("font-size","1.5rem"),f.style.setProperty("font-weight","600"),f.style.setProperty("color","var(--primary-color)"),r(f,()=>q(Le.getTotalValue())),f}}),null),T(f=>o(U,he,f)),U})(),(()=>{var U=Tt();return o(U,F),r(U,u(mt,{get each(){return Le.inventory},children:f=>{const ue=j(f.quantity,f.minStock),_e=f.quantity<=f.minStock?8:f.quantity<=f.minStock*2?35:75;return u(je,{onClick:()=>x(f),get children(){return[(()=>{var $e=Dc(),xe=$e.firstChild,we=xe.nextSibling;return o($e,ae),xe.style.setProperty("margin","0"),xe.style.setProperty("font-size","1.1rem"),r(xe,()=>f.name),r(we,ue),T(Re=>o(we,N(_e),Re)),$e})(),(()=>{var $e=Tt();return o($e,J),r($e,()=>q(f.price)),$e})(),(()=>{var $e=Nc(),xe=$e.firstChild,we=xe.nextSibling;return we.nextSibling,o($e,fe),r($e,()=>t("inventory.quantity"),xe),r($e,()=>f.quantity,we),r($e,()=>t("common.units"),null),$e})()]}})}})),U})()]:[(()=>{var U=Tc(),f=U.firstChild,ue=f.nextSibling,_e=ue.nextSibling,$e=_e.nextSibling;return o(U,Q),f.$$click=()=>g("overview"),r(f,()=>t("inventory.overview")),ue.$$click=()=>g("products"),r(ue,()=>t("inventory.products")),_e.$$click=()=>g("movements"),r(_e,()=>t("inventory.movements")),$e.$$click=()=>g("locations"),r($e,()=>t("inventory.locations")),T(xe=>{var we=se(y()==="overview"),Re=se(y()==="products"),Ie=se(y()==="movements"),ve=se(y()==="locations");return xe.e=o(f,we,xe.e),xe.t=o(ue,Re,xe.t),xe.a=o(_e,Ie,xe.a),xe.o=o($e,ve,xe.o),xe},{e:void 0,t:void 0,a:void 0,o:void 0}),U})(),z(()=>z(()=>y()==="overview")()&&(()=>{var U=Bc(),f=U.firstChild;return r(f,u(je,{get title(){return t("inventory.activeProducts")},get subtitle(){return t("inventory.currentlyManaged")},get children(){var ue=Tt();return ue.style.setProperty("font-size","1.5rem"),ue.style.setProperty("font-weight","600"),ue.style.setProperty("color","var(--primary-color)"),r(ue,()=>h().activeProducts),ue}}),null),r(f,u(je,{get title(){return t("inventory.lowStockAlert")},get subtitle(){return t("inventory.needAttention")},get children(){var ue=Tt();return ue.style.setProperty("font-size","1.5rem"),ue.style.setProperty("font-weight","600"),ue.style.setProperty("color","#d32f2f"),r(ue,()=>h().lowStockProducts),ue}}),null),r(f,u(je,{get title(){return t("inventory.totalValue")},get subtitle(){return t("inventory.currentWorth")},get children(){var ue=Tt();return ue.style.setProperty("font-size","1.5rem"),ue.style.setProperty("font-weight","600"),ue.style.setProperty("color","var(--primary-color)"),r(ue,()=>re(ye().totalValue)),ue}}),null),r(f,u(je,{get title(){return t("inventory.movements")},get subtitle(){return t("inventory.thisMonth")},get children(){var ue=Tt();return ue.style.setProperty("font-size","1.5rem"),ue.style.setProperty("font-weight","600"),ue.style.setProperty("color","var(--primary-color)"),r(ue,()=>h().totalMovementsThisMonth),ue}}),null),r(f,u(je,{get title(){return t("inventory.activeLocations")},get subtitle(){return t("inventory.warehousesStores")},get children(){var ue=Tt();return ue.style.setProperty("font-size","1.5rem"),ue.style.setProperty("font-weight","600"),ue.style.setProperty("color","var(--primary-color)"),r(ue,()=>h().activeLocations),ue}}),null),r(U,(()=>{var ue=z(()=>h().lowStockProducts>0);return()=>ue()&&u(je,{get title(){return`âš ï¸ ${t("inventory.lowStockAlert")}`},get subtitle(){return`${h().lowStockProducts} ${t("inventory.productsNeedRestocking")}`},style:{"margin-bottom":"2rem","border-color":"#ffcdd2",background:"#ffebee"},get children(){var _e=Tt();return _e.style.setProperty("margin-top","1rem"),r(_e,u(mt,{get each(){return Le.getLowStockProducts().slice(0,9)},children:$e=>(()=>{var xe=Mc(),we=xe.firstChild,Re=we.firstChild,Ie=Re.nextSibling;Ie.nextSibling;var ve=we.nextSibling,ke=ve.firstChild,Ne=ke.nextSibling;return Ne.nextSibling,xe.style.setProperty("display","flex"),xe.style.setProperty("justify-content","space-between"),xe.style.setProperty("margin-bottom","0.5rem"),xe.style.setProperty("font-size","0.875rem"),r(we,()=>$e.name,Re),r(we,()=>$e?.sku,Ie),ve.style.setProperty("color","#d32f2f"),ve.style.setProperty("font-weight","600"),r(ve,()=>$e.currentStock,ke),r(ve,()=>$e.minStockLevel,Ne),r(ve,()=>t("inventory.min"),null),xe})()}),null),r(_e,(()=>{var $e=z(()=>Le.getLowStockProducts().length>5);return()=>$e()&&(()=>{var xe=Tt();return xe.style.setProperty("font-size","0.875rem"),xe.style.setProperty("color","var(--text-muted)"),xe.style.setProperty("font-style","italic"),r(xe,()=>t("common.andMore",{count:Le.getLowStockProducts().length-9})),xe})()})(),null),_e}})})(),null),T(ue=>o(f,he,ue)),U})()),z(()=>z(()=>y()==="products")()&&(()=>{var U=Rc(),f=U.firstChild,ue=f.firstChild,_e=ue.firstChild,$e=_e.nextSibling,xe=$e.firstChild,we=f.nextSibling,Re=we.firstChild;return f.style.setProperty("display","flex"),f.style.setProperty("justify-content","space-between"),f.style.setProperty("align-items","flex-start"),f.style.setProperty("margin-bottom","1.5rem"),f.style.setProperty("flex-wrap","wrap"),f.style.setProperty("gap","1rem"),ue.style.setProperty("flex","1"),ue.style.setProperty("min-width","300px"),_e.style.setProperty("margin","0 0 1rem 0"),_e.style.setProperty("font-size","1.5rem"),r(_e,()=>t("inventory.products")),$e.style.setProperty("display","flex"),$e.style.setProperty("gap","1rem"),$e.style.setProperty("align-items","center"),$e.style.setProperty("flex-wrap","wrap"),xe.style.setProperty("flex","1"),xe.style.setProperty("min-width","250px"),r(xe,u(fc,{onSearchResults:Ie=>{M(Ie),Y(Ie.length>0)},get placeholder(){return t("inventory.searchProductsStock","Search products and check stock levels...")},showResults:!1,maxResults:20})),r($e,u(Ae,{variant:"outline",onClick:()=>{ce(),Y(!1)},get children(){return["ðŸ”„ ",z(()=>t("common.showAll","Show All"))]}}),null),r(f,u(Ae,{variant:"primary",onClick:()=>de(!0),get children(){return["âž• ",z(()=>t("inventory.addProduct"))]}}),null),we.style.setProperty("margin-bottom","1rem"),we.style.setProperty("font-size","0.875rem"),we.style.setProperty("color","var(--text-muted)"),we.style.setProperty("display","flex"),we.style.setProperty("justify-content","space-between"),we.style.setProperty("align-items","center"),r(Re,(()=>{var Ie=z(()=>!!G());return()=>Ie()?`${t("inventory.searchResults","Search Results")}: ${ie().length} ${t("common.products","products")}`:`${t("inventory.totalProducts","Total Products")}: ${w().length} ${t("common.products","products")}`})()),r(we,(()=>{var Ie=z(()=>!!G());return()=>Ie()&&(()=>{var ve=Oc();return ve.firstChild,ve.style.setProperty("color","var(--primary-color)"),r(ve,()=>t("inventory.filtered","Filtered view"),null),ve})()})(),null),r(U,u(mt,{get each(){return P()},children:Ie=>(()=>{var ve=jc(),ke=ve.firstChild,Ne=ke.firstChild,Be=Ne.firstChild,Me=Be.firstChild,Se=Me.nextSibling,Fe=Be.nextSibling,Oe=Fe.nextSibling,Je=Oe.firstChild,be=Ne.nextSibling,Ve=be.firstChild,it=Ve.firstChild,We=Ve.nextSibling,et=We.firstChild,tt=et.nextSibling,gt=tt.nextSibling,pt=gt.nextSibling;pt.nextSibling;var at=We.nextSibling,De=at.firstChild;return ve.addEventListener("mouseleave",Ee=>{Ee.currentTarget.style.transform="translateY(0)",Ee.currentTarget.style.boxShadow="none"}),ve.addEventListener("mouseenter",Ee=>{Ee.currentTarget.style.transform="translateY(-2px)",Ee.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)"}),o(ve,K),o(ke,O),Be.style.setProperty("display","flex"),Be.style.setProperty("align-items","center"),Be.style.setProperty("gap","0.5rem"),Be.style.setProperty("margin-bottom","0.5rem"),Me.style.setProperty("margin","0"),Me.style.setProperty("font-size","1.1rem"),r(Me,()=>Ie.name),r(Se,(()=>{var Ee=z(()=>!!Ie.isLowStock);return()=>Ee()?t("inventory.lowStockAlert"):t("inventory.inStock")})()),Fe.style.setProperty("font-size","0.875rem"),Fe.style.setProperty("color","var(--text-muted)"),r(Fe,()=>Ie.sku,null),r(Fe,()=>Ie.UPC?" â€¢ "+Ie.UPC:"",null),r(Fe,()=>Ie.category?" â€¢ "+Ie.category:"",null),Oe.style.setProperty("font-size","0.875rem"),Oe.style.setProperty("color","var(--text-muted)"),r(Oe,()=>t("inventory.lastSeen"),Je),r(Oe,()=>Ie.lastLocation?.name||t("inventory.noMovements"),null),be.style.setProperty("text-align","right"),Ve.style.setProperty("font-size","1.25rem"),Ve.style.setProperty("font-weight","700"),Ve.style.setProperty("color","var(--primary-color)"),r(Ve,()=>Ie.totalStock,it),r(Ve,()=>Ie.unitOfMeasure,null),We.style.setProperty("font-size","0.875rem"),We.style.setProperty("color","var(--text-muted)"),r(We,()=>t("inventory.min"),et),r(We,()=>Ie.minStockLevel,tt),r(We,()=>t("inventory.max"),pt),r(We,()=>Ie.maxStockLevel,null),at.style.setProperty("font-size","0.875rem"),at.style.setProperty("color","var(--text-muted)"),r(at,()=>t("inventory.cost"),De),r(at,()=>re(Ie.unitCost),null),r(ve,(()=>{var Ee=z(()=>Ie.stockByLocation.length>0);return()=>Ee()&&(()=>{var Ue=zc(),He=Ue.firstChild,ot=He.firstChild,Ye=He.nextSibling;return Ue.style.setProperty("margin-top","1rem"),He.style.setProperty("font-weight","500"),He.style.setProperty("margin-bottom","0.5rem"),He.style.setProperty("font-size","0.875rem"),r(He,()=>t("inventory.stockByLocation"),ot),Ye.style.setProperty("display","flex"),Ye.style.setProperty("flex-wrap","wrap"),Ye.style.setProperty("gap","0.5rem"),r(Ye,u(mt,{get each(){return Ie.stockByLocation},children:Ce=>{const ze=Le.getLocationById(Ce.locationId);return console.log("location",Ce,ze),(()=>{var Ke=Fc(),rt=Ke.firstChild;return Ke.style.setProperty("padding","0.25rem 0.5rem"),Ke.style.setProperty("background","var(--background-color)"),Ke.style.setProperty("border-radius","var(--border-radius-sm)"),Ke.style.setProperty("font-size","0.75rem"),Ke.style.setProperty("border","1px solid var(--border-color)"),r(Ke,()=>ze?.name,rt),r(Ke,()=>Ce.quantity,null),Ke})()}})),Ue})()})(),null),T(Ee=>o(Se,ge(Ie.isLowStock),Ee)),ve})()}),null),r(U,(()=>{var Ie=z(()=>A()>1);return()=>Ie()&&(()=>{var ve=qc(),ke=ve.firstChild,Ne=ke.firstChild,Be=Ne.firstChild,Me=Ne.nextSibling,Se=ke.nextSibling,Fe=Se.firstChild,Oe=Fe.firstChild,Je=Oe.nextSibling,be=Je.nextSibling,Ve=be.firstChild,it=Se.nextSibling;return ve.style.setProperty("display","flex"),ve.style.setProperty("justify-content","space-between"),ve.style.setProperty("align-items","center"),ve.style.setProperty("margin-top","2rem"),ve.style.setProperty("padding","1rem"),ve.style.setProperty("background","var(--surface-color)"),ve.style.setProperty("border-radius","var(--border-radius)"),ve.style.setProperty("border","1px solid var(--border-color)"),ke.style.setProperty("display","flex"),ke.style.setProperty("align-items","center"),ke.style.setProperty("gap","0.5rem"),Ne.style.setProperty("font-size","0.875rem"),Ne.style.setProperty("color","var(--text-muted)"),r(Ne,()=>t("common.showPerPage","Show per page"),Be),Me.addEventListener("change",We=>{v(parseInt(We.target.value)),m(1)}),Me.style.setProperty("padding","0.25rem 0.5rem"),Me.style.setProperty("border","1px solid var(--border-color)"),Me.style.setProperty("border-radius","var(--border-radius-sm)"),Me.style.setProperty("background","var(--background-color)"),Me.style.setProperty("cursor","pointer"),Se.style.setProperty("display","flex"),Se.style.setProperty("align-items","center"),Se.style.setProperty("gap","0.5rem"),r(Se,u(Ae,{variant:"outline",size:"sm",onClick:()=>m(1),get disabled(){return _()===1},get children(){return t("common.first","First")}}),Fe),r(Se,u(Ae,{variant:"outline",size:"sm",onClick:()=>m(We=>Math.max(1,We-1)),get disabled(){return _()===1},get children(){return t("common.previous","Previous")}}),Fe),Fe.style.setProperty("display","flex"),Fe.style.setProperty("align-items","center"),Fe.style.setProperty("gap","0.25rem"),Oe.style.setProperty("font-size","0.875rem"),r(Oe,()=>t("common.page","Page")),Je.addEventListener("change",We=>{const et=parseInt(We.target.value);et>=1&&et<=A()&&m(et)}),Je.style.setProperty("width","60px"),Je.style.setProperty("padding","0.25rem 0.5rem"),Je.style.setProperty("border","1px solid var(--border-color)"),Je.style.setProperty("border-radius","var(--border-radius-sm)"),Je.style.setProperty("text-align","center"),Je.style.setProperty("font-size","0.875rem"),be.style.setProperty("font-size","0.875rem"),r(be,()=>t("common.of","of"),Ve),r(be,A,null),r(Se,u(Ae,{variant:"outline",size:"sm",onClick:()=>m(We=>Math.min(A(),We+1)),get disabled(){return _()===A()},get children(){return t("common.next","Next")}}),null),r(Se,u(Ae,{variant:"outline",size:"sm",onClick:()=>m(A()),get disabled(){return _()===A()},get children(){return t("common.last","Last")}}),null),it.style.setProperty("font-size","0.875rem"),it.style.setProperty("color","var(--text-muted)"),r(it,()=>{const We=G()?ie():w(),et=(_()-1)*D()+1,tt=Math.min(_()*D(),We.length);return t("common.showingXofY","Showing {{start}}-{{end}} of {{total}}",{start:et,end:tt,total:We.length})}),T(()=>Ze(Je,"max",A())),T(()=>Me.value=D()),T(()=>Je.value=_()),ve})()})(),null),U})()),z(()=>z(()=>y()==="movements")()&&u(dc,{})),z(()=>z(()=>y()==="locations")()&&(()=>{var U=Uc(),f=U.firstChild,ue=f.firstChild,_e=f.nextSibling;return f.style.setProperty("display","flex"),f.style.setProperty("justify-content","space-between"),f.style.setProperty("align-items","center"),f.style.setProperty("margin-bottom","1.5rem"),ue.style.setProperty("margin","0"),ue.style.setProperty("font-size","1.5rem"),r(ue,()=>t("inventory.locations")),r(f,u(Ae,{variant:"primary",onClick:()=>ne(!0),get children(){return["ðŸ­ ",z(()=>t("inventory.addLocation"))]}}),null),o(_e,pe),r(_e,u(mt,{get each(){return Le.getActiveLocations()},children:$e=>{const xe=Le.getStockByLocation($e.id),we=xe.length,Re=xe.reduce((ve,ke)=>ve*1+ke.quantity*1,0),Ie=xe.reduce((ve,ke)=>{const Ne=Le.getProductById(ke.productId);return ve+ke.quantity*1*(Ne?.unitCost||0)},0);return(()=>{var ve=Vc(),ke=ve.firstChild,Ne=ke.firstChild,Be=Ne.firstChild,Me=Be.nextSibling,Se=Ne.nextSibling,Fe=Se.firstChild,Oe=Se.nextSibling,Je=ke.nextSibling,be=Je.firstChild,Ve=be.firstChild,it=Ve.firstChild,We=Ve.nextSibling,et=be.nextSibling,tt=et.firstChild,gt=tt.firstChild,pt=tt.nextSibling,at=et.nextSibling,De=at.firstChild,Ee=De.firstChild,Ue=De.nextSibling,He=Je.nextSibling,ot=He.firstChild,Ye=ot.firstChild;return ke.style.setProperty("margin-bottom","1rem"),ke.style.setProperty("padding-bottom","1rem"),ke.style.setProperty("border-bottom","1px solid var(--border-color)"),Ne.style.setProperty("display","flex"),Ne.style.setProperty("align-items","center"),Ne.style.setProperty("gap","0.5rem"),Ne.style.setProperty("margin-bottom","0.5rem"),Be.style.setProperty("font-size","1.2rem"),r(Be,()=>$e.type==="warehouse"?"ðŸ­":$e.type==="store"?"ðŸª":$e.type==="supplier"?"ðŸšš":"ðŸ‘¥"),Me.style.setProperty("margin","0"),Me.style.setProperty("font-size","1.1rem"),r(Me,()=>$e.name),Se.style.setProperty("font-size","0.875rem"),Se.style.setProperty("color","var(--text-muted)"),r(Se,()=>$e.code,Fe),r(Se,()=>W($e.type),null),Oe.style.setProperty("font-size","0.75rem"),Oe.style.setProperty("color","var(--text-muted)"),Oe.style.setProperty("margin-top","0.25rem"),r(Oe,()=>$e.address),Je.style.setProperty("margin-bottom","1rem"),be.style.setProperty("display","flex"),be.style.setProperty("justify-content","space-between"),be.style.setProperty("margin-bottom","0.5rem"),Ve.style.setProperty("font-size","0.875rem"),Ve.style.setProperty("font-weight","500"),r(Ve,()=>t("inventory.products"),it),We.style.setProperty("font-weight","600"),r(We,we),et.style.setProperty("display","flex"),et.style.setProperty("justify-content","space-between"),et.style.setProperty("margin-bottom","0.5rem"),tt.style.setProperty("font-size","0.875rem"),tt.style.setProperty("font-weight","500"),r(tt,()=>t("inventory.totalItems"),gt),pt.style.setProperty("font-weight","600"),pt.style.setProperty("color","var(--primary-color)"),r(pt,Re),at.style.setProperty("display","flex"),at.style.setProperty("justify-content","space-between"),at.style.setProperty("margin-bottom","1rem"),De.style.setProperty("font-size","0.875rem"),De.style.setProperty("font-weight","500"),r(De,()=>t("inventory.totalValue"),Ee),Ue.style.setProperty("font-weight","600"),Ue.style.setProperty("color","var(--primary-color)"),r(Ue,()=>re(Ie)),ot.style.setProperty("font-weight","600"),ot.style.setProperty("margin-bottom","0.75rem"),ot.style.setProperty("font-size","0.875rem"),ot.style.setProperty("color","var(--text-primary)"),ot.style.setProperty("border-bottom","1px solid var(--border-color)"),ot.style.setProperty("padding-bottom","0.5rem"),r(ot,()=>t("inventory.productDetails"),Ye),r(He,(()=>{var Ce=z(()=>xe.length===0);return()=>Ce()?(()=>{var ze=Tt();return ze.style.setProperty("text-align","center"),ze.style.setProperty("color","var(--text-muted)"),ze.style.setProperty("font-style","italic"),ze.style.setProperty("padding","1rem"),r(ze,()=>t("inventory.noProducts")),ze})():(()=>{var ze=Tt();return ze.style.setProperty("max-height","200px"),ze.style.setProperty("overflow-y","auto"),ze.style.setProperty("border","1px solid var(--border-color)"),ze.style.setProperty("border-radius","var(--border-radius-sm)"),r(ze,u(mt,{each:xe,children:Ke=>{const rt=Le.getProductById(Ke.productId);if(!rt)return null;const Ct=Ke.quantity<=rt.minStockLevel,Pt=Ke.quantity*rt.unitCost;return(()=>{var ft=Yc(),$t=ft.firstChild,lt=$t.firstChild,ut=lt.firstChild,_t=ut.nextSibling,bt=lt.nextSibling,ht=bt.firstChild,Bt=ht.firstChild,Ot=ht.nextSibling,Nt=Ot.nextSibling;return Nt.firstChild,ft.style.setProperty("padding","0.75rem"),ft.style.setProperty("border-bottom","1px solid var(--border-color)"),(Ct?"#fff5f5":"transparent")!=null?ft.style.setProperty("background",Ct?"#fff5f5":"transparent"):ft.style.removeProperty("background"),ft.style.setProperty("transition","background-color 0.2s ease"),$t.style.setProperty("display","flex"),$t.style.setProperty("justify-content","space-between"),$t.style.setProperty("align-items","flex-start"),$t.style.setProperty("margin-bottom","0.25rem"),lt.style.setProperty("flex","1"),ut.style.setProperty("font-weight","500"),ut.style.setProperty("font-size","0.875rem"),(Ct?"#d32f2f":"var(--text-primary)")!=null?ut.style.setProperty("color",Ct?"#d32f2f":"var(--text-primary)"):ut.style.removeProperty("color"),r(ut,()=>rt.name,null),r(ut,Ct&&(()=>{var jt=Wc();return jt.style.setProperty("margin-left","0.5rem"),jt.style.setProperty("font-size","0.7rem"),jt.style.setProperty("color","#d32f2f"),jt})(),null),_t.style.setProperty("font-size","0.75rem"),_t.style.setProperty("color","var(--text-muted)"),_t.style.setProperty("margin-top","0.1rem"),r(_t,()=>rt.sku,null),r(_t,()=>rt.UPC?" â€¢ "+rt.UPC:"",null),r(_t,()=>rt.category?" â€¢ "+rt.category:"",null),bt.style.setProperty("text-align","right"),ht.style.setProperty("font-weight","600"),ht.style.setProperty("font-size","0.875rem"),(Ct?"#d32f2f":"var(--primary-color)")!=null?ht.style.setProperty("color",Ct?"#d32f2f":"var(--primary-color)"):ht.style.removeProperty("color"),r(ht,()=>Ke.quantity,Bt),r(ht,()=>rt.unitOfMeasure,null),Ot.style.setProperty("font-size","0.75rem"),Ot.style.setProperty("color","var(--text-muted)"),r(Ot,()=>re(Pt)),Nt.style.setProperty("font-size","0.7rem"),Nt.style.setProperty("color","var(--text-muted)"),Nt.style.setProperty("margin-top","0.1rem"),r(Nt,()=>rt.minStockLevel,null),ft})()}})),ze})()})(),null),T(Ce=>o(ve,{...B,"min-height":"400px"},Ce)),ve})()}})),U})())]),u(_s,{get isOpen(){return e()},onClose:()=>n(!1),get mode(){return I()==="new"?"movement":"legacy"}}),u(Ds,{get isOpen(){return i()},onClose:()=>a(!1)}),u(Rs,{get isOpen(){return s()},onClose:()=>l(!1),get item(){return c()}}),u(yn,{get isOpen(){return le()},onClose:()=>de(!1),onProductAdded:()=>{de(!1)}}),u(Gn,{get isOpen(){return me()},onClose:()=>ne(!1),onLocationAdded:()=>{ne(!1)}}),u(Ic,{get isOpen(){return p()},onClose:()=>oe(!1)})]}})};vt(["click"]);function Gc(t,e=300,n=!1){let i,a;const s=()=>{i!==void 0&&(clearTimeout(i),i=void 0),a=void 0},l=()=>{i!==void 0&&a!==void 0&&(clearTimeout(i),i=void 0,t(...a),a=void 0)},c=(...d)=>{a=d,i!==void 0&&clearTimeout(i),n&&i===void 0&&t(...d),i=window.setTimeout(()=>{n||t(...d),i=void 0,a=void 0},e)};return kr(()=>{s()}),{debounced:c,cancel:s,flush:l}}function Jc(t,e=300){const[n,i]=te(!1);let a;const s=async y=>{if(a&&a.abort(),!y.trim()){i(!1);return}a=new AbortController,i(!0);try{await t(y)}catch(g){g instanceof Error&&g.name!=="AbortError"&&console.error("Search error:",g)}finally{a.signal.aborted||i(!1)}},{debounced:l,cancel:c}=Gc(s,e,!1),d=()=>{c(),a&&a.abort(),i(!1)};return kr(()=>{d()}),{search:l,isSearching:n,cancel:d}}var Qc=k("<div>"),Kc=k("<div><h4>"),Zc=k("<div><div><div><h2></h2><div>SKU: <!> â€¢ </div></div><div></div></div><div><h3></h3><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div></div><div><h3></h3><div><div><div><span></span><span></span></div><div><span></span><span></span></div></div><div><div><span></span><span></span></div><div><span></span><span>%</span></div></div></div></div><div><h3></h3><div><div><div><span></span><span> </span></div><div><span></span><span> </span></div></div><div><div><span></span><span> </span></div><div><span></span><span></span></div></div></div></div><div><h3></h3><div><span></span><span></span></div><div><span></span><span></span></div></div><div>"),Xc=k("<span>âœ“ "),ed=k("<span>âœ— "),td=k("<div><div><span></span><span> </span></div><div>: <!> â€¢ <!>: ");const rd=t=>{const{t:e}=Qe(),n=qe(()=>{if(!t.product)return null;const $=Le.getTotalStockByProduct(t.product.id),S=Le.getStockByProduct(t.product.id),C=$<=t.product.minStockLevel,b=$===0,M=$>=t.product.maxStockLevel;return{total:$,byLocation:S,status:b?"out":C?"low":M?"over":"good",statusText:b?e("products.outOfStock","Out of Stock"):C?e("products.lowStock","Low Stock"):M?e("products.overStock","Over Stock"):e("products.inStock","In Stock")}}),i=$=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format($),a=$=>new Date($).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),s=qe(()=>!t.product||t.product.unitCost===0?0:((t.product.sellingPrice-t.product.unitCost)/t.product.unitCost*100).toFixed(2)),l={"margin-bottom":"2rem"},c={display:"flex","justify-content":"space-between","align-items":"center",padding:"0.75rem 0","border-bottom":"1px solid var(--border-color)"},d={"font-weight":"500",color:"var(--text-muted)","font-size":"0.875rem"},y={"font-weight":"400",color:"var(--text-primary)","font-size":"1rem"},g=$=>{const S={good:{background:"#d4edda",color:"#155724"},low:{background:"#fff3cd",color:"#856404"},out:{background:"#f8d7da",color:"#721c24"},over:{background:"#cce5ff",color:"#004085"}};return{display:"inline-block",padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.875rem","font-weight":"500",...S[$]||S.good}},I={display:"grid","grid-template-columns":"1fr 1fr",gap:"1rem"},L={background:"var(--surface-color)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)",padding:"1rem","margin-bottom":"0.75rem"},E={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"1.5rem","padding-bottom":"1rem","border-bottom":"2px solid var(--border-color)"};return u(It,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return e("products.productDetails","Product Details")},size:"large",get children(){return u(Ge,{get when(){return t.product},get fallback(){return(()=>{var $=Qc();return $.style.setProperty("text-align","center"),$.style.setProperty("padding","2rem"),$.style.setProperty("color","var(--text-muted)"),r($,()=>e("products.noProductSelected","No product selected")),$})()},children:$=>(()=>{var S=Zc(),C=S.firstChild,b=C.firstChild,M=b.firstChild,H=M.nextSibling,R=H.firstChild,G=R.nextSibling;G.nextSibling;var Y=b.nextSibling,le=C.nextSibling,de=le.firstChild,me=de.nextSibling,ne=me.firstChild,Z=ne.nextSibling,X=me.nextSibling,p=X.firstChild,oe=p.nextSibling,_=X.nextSibling,m=_.firstChild,D=m.nextSibling,v=le.nextSibling,x=v.firstChild,h=x.nextSibling,w=h.firstChild,ie=w.firstChild,P=ie.firstChild,A=P.nextSibling,j=ie.nextSibling,q=j.firstChild,re=q.nextSibling,W=w.nextSibling,F=W.firstChild,ae=F.firstChild,N=ae.nextSibling,J=F.nextSibling,fe=J.firstChild,he=fe.nextSibling,ee=he.firstChild,Q=v.nextSibling,se=Q.firstChild,K=se.nextSibling,O=K.firstChild,ge=O.firstChild,pe=ge.firstChild,B=pe.nextSibling,V=B.firstChild,Pe=ge.nextSibling,ye=Pe.firstChild,ce=ye.nextSibling,U=ce.firstChild,f=O.nextSibling,ue=f.firstChild,_e=ue.firstChild,$e=_e.nextSibling,xe=$e.firstChild,we=ue.nextSibling,Re=we.firstChild,Ie=Re.nextSibling,ve=Q.nextSibling,ke=ve.firstChild,Ne=ke.nextSibling,Be=Ne.firstChild,Me=Be.nextSibling,Se=Ne.nextSibling,Fe=Se.firstChild,Oe=Fe.nextSibling,Je=ve.nextSibling;return o(C,E),M.style.setProperty("margin","0"),M.style.setProperty("font-size","1.5rem"),M.style.setProperty("margin-bottom","0.25rem"),r(M,()=>$().name),H.style.setProperty("color","var(--text-muted)"),r(H,()=>$().sku,G),r(H,()=>$().category,null),r(Y,()=>n()?.statusText),de.style.setProperty("margin-bottom","1rem"),de.style.setProperty("font-size","1.1rem"),r(de,()=>e("products.basicInformation","Basic Information")),r(ne,()=>e("products.description","Description")),r(Z,()=>$().description||e("common.notAvailable","N/A")),r(p,()=>e("products.unitOfMeasure","Unit of Measure")),r(oe,()=>$().unitOfMeasure),r(m,()=>e("products.status","Status")),r(D,(()=>{var be=z(()=>!!$().isActive);return()=>be()?(()=>{var Ve=Xc();return Ve.firstChild,Ve.style.setProperty("color","#2e7d32"),r(Ve,()=>e("common.active","Active"),null),Ve})():(()=>{var Ve=ed();return Ve.firstChild,Ve.style.setProperty("color","#d32f2f"),r(Ve,()=>e("common.inactive","Inactive"),null),Ve})()})()),x.style.setProperty("margin-bottom","1rem"),x.style.setProperty("font-size","1.1rem"),r(x,()=>e("products.pricingInformation","Pricing Information")),r(P,()=>e("products.unitCost","Unit Cost")),r(A,()=>i($().unitCost)),r(q,()=>e("products.sellingPrice","Selling Price")),r(re,()=>i($().sellingPrice)),r(ae,()=>e("products.profit","Profit")),r(N,()=>i($().sellingPrice-$().unitCost)),r(fe,()=>e("products.profitMargin","Profit Margin")),r(he,s,ee),se.style.setProperty("margin-bottom","1rem"),se.style.setProperty("font-size","1.1rem"),r(se,()=>e("products.stockInformation","Stock Information")),r(pe,()=>e("products.totalStock","Total Stock")),r(B,()=>n()?.total||0,V),r(B,()=>$().unitOfMeasure,null),r(ye,()=>e("products.minStockLevel","Min Stock Level")),r(ce,()=>$().minStockLevel,U),r(ce,()=>$().unitOfMeasure,null),r(_e,()=>e("products.maxStockLevel","Max Stock Level")),r($e,()=>$().maxStockLevel,xe),r($e,()=>$().unitOfMeasure,null),r(Re,()=>e("products.stockValue","Stock Value")),r(Ie,()=>i((n()?.total||0)*$().unitCost)),r(Q,u(Ge,{get when(){return z(()=>!!n()?.byLocation)()&&n().byLocation.length>0},get children(){var be=Kc(),Ve=be.firstChild;return be.style.setProperty("margin-top","1.5rem"),Ve.style.setProperty("margin-bottom","1rem"),Ve.style.setProperty("font-size","1rem"),r(Ve,()=>e("products.stockByLocation","Stock by Location")),r(be,()=>n().byLocation.map(it=>(()=>{var We=td(),et=We.firstChild,tt=et.firstChild,gt=tt.nextSibling,pt=gt.firstChild,at=et.nextSibling,De=at.firstChild,Ee=De.nextSibling,Ue=Ee.nextSibling,He=Ue.nextSibling;return He.nextSibling,o(We,L),et.style.setProperty("display","flex"),et.style.setProperty("justify-content","space-between"),et.style.setProperty("align-items","center"),tt.style.setProperty("font-weight","500"),r(tt,()=>it.locationName),gt.style.setProperty("font-weight","600"),gt.style.setProperty("color","var(--primary-color)"),r(gt,()=>it.quantity,pt),r(gt,()=>$().unitOfMeasure,null),at.style.setProperty("margin-top","0.5rem"),at.style.setProperty("font-size","0.875rem"),at.style.setProperty("color","var(--text-muted)"),r(at,()=>e("products.available","Available"),De),r(at,()=>it.availableQuantity,Ee),r(at,()=>e("products.reserved","Reserved"),He),r(at,()=>it.reservedQuantity,null),We})()),null),be}}),null),ke.style.setProperty("margin-bottom","1rem"),ke.style.setProperty("font-size","1.1rem"),r(ke,()=>e("products.timestamps","Timestamps")),r(Be,()=>e("common.createdDate","Created Date")),r(Me,()=>a($().createdDate)),r(Fe,()=>e("common.lastModified","Last Modified")),r(Oe,()=>a($().lastModified)),Je.style.setProperty("display","flex"),Je.style.setProperty("gap","1rem"),Je.style.setProperty("justify-content","flex-end"),Je.style.setProperty("margin-top","2rem"),r(Je,u(Ae,{variant:"secondary",get onClick(){return t.onClose},get children(){return e("common.close","Close")}}),null),r(Je,u(Ge,{get when(){return t.onEdit},get children(){return u(Ae,{variant:"primary",get onClick(){return t.onEdit},get children(){return e("common.edit","Edit")}})}}),null),T(be=>{var Ve=g(n()?.status||"good"),it=l,We=c,et=d,tt=y,gt=c,pt=d,at=y,De=c,Ee=d,Ue=y,He=l,ot=I,Ye=c,Ce=d,ze=y,Ke=c,rt=d,Ct=y,Pt=c,ft=d,$t=y,lt=c,ut=d,_t=y,bt=l,ht=I,Bt=c,Ot=d,Nt=y,jt=c,Xt=d,Ar=y,hr=c,Sr=d,Pr=y,er=c,Ir=d,$r=y,Xe=l,yt=c,Et=d,zt=y,Vt=c,xt=d,dr=y;return be.e=o(Y,Ve,be.e),be.t=o(le,it,be.t),be.a=o(me,We,be.a),be.o=o(ne,et,be.o),be.i=o(Z,tt,be.i),be.n=o(X,gt,be.n),be.s=o(p,pt,be.s),be.h=o(oe,at,be.h),be.r=o(_,De,be.r),be.d=o(m,Ee,be.d),be.l=o(D,Ue,be.l),be.u=o(v,He,be.u),be.c=o(h,ot,be.c),be.w=o(ie,Ye,be.w),be.m=o(P,Ce,be.m),be.f=o(A,ze,be.f),be.y=o(j,Ke,be.y),be.g=o(q,rt,be.g),be.p=o(re,Ct,be.p),be.b=o(F,Pt,be.b),be.T=o(ae,ft,be.T),be.A=o(N,$t,be.A),be.O=o(J,lt,be.O),be.I=o(fe,ut,be.I),be.S=o(he,_t,be.S),be.W=o(Q,bt,be.W),be.C=o(K,ht,be.C),be.B=o(ge,Bt,be.B),be.v=o(pe,Ot,be.v),be.k=o(B,Nt,be.k),be.x=o(Pe,jt,be.x),be.j=o(ye,Xt,be.j),be.q=o(ce,Ar,be.q),be.z=o(ue,hr,be.z),be.P=o(_e,Sr,be.P),be.H=o($e,Pr,be.H),be.F=o(we,er,be.F),be.M=o(Re,Ir,be.M),be.D=o(Ie,$r,be.D),be.R=o(ve,Xe,be.R),be.E=o(Ne,yt,be.E),be.L=o(Be,Et,be.L),be.N=o(Me,zt,be.N),be.G=o(Se,Vt,be.G),be.U=o(Fe,xt,be.U),be.K=o(Oe,dr,be.K),be},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0,O:void 0,I:void 0,S:void 0,W:void 0,C:void 0,B:void 0,v:void 0,k:void 0,x:void 0,j:void 0,q:void 0,z:void 0,P:void 0,H:void 0,F:void 0,M:void 0,D:void 0,R:void 0,E:void 0,L:void 0,N:void 0,G:void 0,U:void 0,K:void 0}),S})()})}})};var nd=k("<form><div><label> *</label><input type=text required></div><div><div><label> *</label><input type=text required></div><div><label> *</label><input type=text list=categories required><datalist id=categories><option value=Electronics></option><option value=Accessories></option><option value=Office></option><option value=Furniture></option><option value=Software></option><option value=Hardware></option></datalist></div></div><div><label></label><textarea></textarea></div><div><label></label><div><input type=checkbox id=activeStatus><label for=activeStatus></label></div></div><div><div><label></label><select><option value=pcs></option><option value=kg></option><option value=lbs></option><option value=m></option><option value=ft></option><option value=l></option><option value=gal></option><option value=box></option><option value=pack></option></select></div><div><label></label><input type=number min=0 step=0.01 placeholder=0.00></div></div><div><div><label></label><input type=number min=0 step=0.01 placeholder=0.00></div><div></div></div><div><div><span>:</span><span>$</span></div><div><span>:</span><span>%</span></div></div><div><div><label></label><input type=number min=0 step=1></div><div><label></label><input type=number min=1 step=1></div></div><div>"),So=k("<div>"),od=k("<span>âœ“ "),id=k("<span>âœ— ");const ad=t=>{const{t:e}=Qe(),[n,i]=te(""),[a,s]=te(""),[l,c]=te(""),[d,y]=te(""),[g,I]=te("pcs"),[L,E]=te(0),[$,S]=te(0),[C,b]=te(10),[M,H]=te(100),[R,G]=te(!0),[Y,le]=te("");lr(()=>{t.product&&(i(t.product.name),s(t.product.sku),c(t.product.description||""),y(t.product.category),I(t.product.unitOfMeasure),E(t.product.unitCost),S(t.product.sellingPrice),b(t.product.minStockLevel),H(t.product.maxStockLevel),G(t.product.isActive),le(""))});const de=h=>{if(h.preventDefault(),le(""),!t.product)return;if(!n().trim()){le(e("forms.productNameRequired","Product name is required"));return}if(!a().trim()){le(e("forms.skuRequired","SKU is required"));return}if(!d().trim()){le(e("forms.categoryRequired","Category is required"));return}if(L()<0){le(e("forms.unitCostNotNegative","Unit cost cannot be negative"));return}if($()<0){le(e("forms.sellingPriceNotNegative","Selling price cannot be negative"));return}if(C()<0){le(e("forms.minStockNotNegative","Min stock level cannot be negative"));return}if(M()<=C()){le(e("forms.maxStockGreaterThanMin","Max stock level must be greater than min stock level"));return}const w=Le.getProductsBySku(a());if(w.length>0&&w[0].id!==t.product.id){le(e("forms.skuAlreadyExists","SKU already exists"));return}const ie={...t.product,name:n().trim(),sku:a().trim().toUpperCase(),description:l().trim(),category:d().trim(),unitOfMeasure:g(),unitCost:L(),sellingPrice:$(),minStockLevel:C(),maxStockLevel:M(),isActive:R(),lastModified:new Date().toISOString()};Le.updateProduct(t.product.id,ie),t.onProductUpdated&&t.onProductUpdated(t.product.id),t.onClose()},me=()=>{le(""),t.onClose()},ne=()=>L()===0?0:(($()-L())/L()*100).toFixed(2),Z={"margin-bottom":"1.5rem"},X={display:"block","margin-bottom":"0.5rem","font-weight":"500",color:"var(--text-primary)"},p={width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)"},oe={...p,cursor:"pointer"},_={color:"#f44336","font-size":"0.875rem","margin-bottom":"1rem"},m={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},D={display:"grid","grid-template-columns":"1fr 1fr",gap:"1rem"},v={padding:"1rem",background:"var(--surface-color)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","margin-bottom":"1.5rem",display:"flex","justify-content":"space-between","align-items":"center"},x={display:"flex","align-items":"center",gap:"0.5rem",cursor:"pointer"};return u(It,{get isOpen(){return t.isOpen},onClose:me,get title(){return e("products.updateProduct","Update Product")},size:"large",get children(){return u(Ge,{get when(){return t.product},get fallback(){return(()=>{var h=So();return h.style.setProperty("text-align","center"),h.style.setProperty("padding","2rem"),h.style.setProperty("color","var(--text-muted)"),r(h,()=>e("products.noProductSelected","No product selected")),h})()},get children(){var h=nd(),w=h.firstChild,ie=w.firstChild,P=ie.firstChild,A=ie.nextSibling,j=w.nextSibling,q=j.firstChild,re=q.firstChild,W=re.firstChild,F=re.nextSibling,ae=q.nextSibling,N=ae.firstChild,J=N.firstChild,fe=N.nextSibling,he=j.nextSibling,ee=he.firstChild,Q=ee.nextSibling,se=he.nextSibling,K=se.firstChild,O=K.nextSibling,ge=O.firstChild,pe=ge.nextSibling,B=se.nextSibling,V=B.firstChild,Pe=V.firstChild,ye=Pe.nextSibling,ce=ye.firstChild,U=ce.nextSibling,f=U.nextSibling,ue=f.nextSibling,_e=ue.nextSibling,$e=_e.nextSibling,xe=$e.nextSibling,we=xe.nextSibling,Re=we.nextSibling,Ie=V.nextSibling,ve=Ie.firstChild,ke=ve.nextSibling,Ne=B.nextSibling,Be=Ne.firstChild,Me=Be.firstChild,Se=Me.nextSibling,Fe=Ne.nextSibling,Oe=Fe.firstChild,Je=Oe.firstChild,be=Je.firstChild,Ve=Je.nextSibling;Ve.firstChild;var it=Oe.nextSibling,We=it.firstChild,et=We.firstChild,tt=We.nextSibling,gt=tt.firstChild,pt=Fe.nextSibling,at=pt.firstChild,De=at.firstChild,Ee=De.nextSibling,Ue=at.nextSibling,He=Ue.firstChild,ot=He.nextSibling,Ye=pt.nextSibling;return h.addEventListener("submit",de),r(ie,()=>e("inventory.productName","Product Name"),P),A.addEventListener("change",Ce=>i(Ce.target.value)),r(re,()=>e("inventory.sku","SKU"),W),F.addEventListener("change",Ce=>s(Ce.target.value)),r(N,()=>e("inventory.category","Category"),J),fe.addEventListener("change",Ce=>y(Ce.target.value)),r(ee,()=>e("common.description","Description")),Q.addEventListener("change",Ce=>c(Ce.target.value)),r(K,()=>e("products.status","Status")),o(O,x),ge.addEventListener("change",Ce=>G(Ce.target.checked)),ge.style.setProperty("cursor","pointer"),pe.style.setProperty("cursor","pointer"),r(pe,(()=>{var Ce=z(()=>!!R());return()=>Ce()?(()=>{var ze=od();return ze.firstChild,ze.style.setProperty("color","#2e7d32"),r(ze,()=>e("common.active","Active"),null),ze})():(()=>{var ze=id();return ze.firstChild,ze.style.setProperty("color","#d32f2f"),r(ze,()=>e("common.inactive","Inactive"),null),ze})()})()),r(Pe,()=>e("inventory.unitOfMeasure","Unit of Measure")),ye.addEventListener("change",Ce=>I(Ce.target.value)),r(ce,()=>e("inventory.pieces","Pieces")),r(U,()=>e("inventory.kilograms","Kilograms")),r(f,()=>e("inventory.pounds","Pounds")),r(ue,()=>e("inventory.meters","Meters")),r(_e,()=>e("inventory.feet","Feet")),r($e,()=>e("inventory.liters","Liters")),r(xe,()=>e("inventory.gallons","Gallons")),r(we,()=>e("inventory.boxes","Boxes")),r(Re,()=>e("inventory.packs","Packs")),r(ve,()=>e("inventory.unitCost","Unit Cost")),ke.addEventListener("change",Ce=>E(Number(Ce.target.value))),r(Me,()=>e("inventory.sellingPrice","Selling Price")),Se.addEventListener("change",Ce=>S(Number(Ce.target.value))),o(Fe,v),Je.style.setProperty("color","var(--text-muted)"),Je.style.setProperty("font-size","0.875rem"),r(Je,()=>e("products.profit","Profit"),be),Ve.style.setProperty("margin-left","0.5rem"),Ve.style.setProperty("font-weight","600"),r(Ve,()=>($()-L()).toFixed(2),null),We.style.setProperty("color","var(--text-muted)"),We.style.setProperty("font-size","0.875rem"),r(We,()=>e("products.profitMargin","Profit Margin"),et),tt.style.setProperty("margin-left","0.5rem"),tt.style.setProperty("font-weight","600"),r(tt,ne,gt),r(De,()=>e("inventory.minimumStockLevel","Minimum Stock Level")),Ee.addEventListener("change",Ce=>b(Number(Ce.target.value))),r(He,()=>e("inventory.maximumStockLevel","Maximum Stock Level")),ot.addEventListener("change",Ce=>H(Number(Ce.target.value))),r(h,(()=>{var Ce=z(()=>!!Y());return()=>Ce()&&(()=>{var ze=So();return o(ze,_),r(ze,Y),ze})()})(),Ye),o(Ye,m),r(Ye,u(Ae,{variant:"secondary",type:"button",onClick:me,get children(){return e("common.cancel","Cancel")}}),null),r(Ye,u(Ae,{variant:"primary",type:"submit",get children(){return e("common.update","Update")}}),null),T(Ce=>{var ze=Z,Ke=X,rt=p,Ct=e("inventory.enterProductName","Enter product name"),Pt=D,ft=X,$t=p,lt=e("inventory.enterSkuCode","Enter SKU code"),ut=X,_t=p,bt=e("inventory.enterCategory","Enter category"),ht=Z,Bt=X,Ot={...p,"min-height":"80px",resize:"vertical"},Nt=e("inventory.enterProductDescription","Enter product description"),jt=Z,Xt=X,Ar=D,hr=X,Sr=oe,Pr=X,er=p,Ir=D,$r=X,Xe=p,yt=D,Et=X,zt=p,Vt=X,xt=p;return Ce.e=o(w,ze,Ce.e),Ce.t=o(ie,Ke,Ce.t),Ce.a=o(A,rt,Ce.a),Ct!==Ce.o&&Ze(A,"placeholder",Ce.o=Ct),Ce.i=o(j,Pt,Ce.i),Ce.n=o(re,ft,Ce.n),Ce.s=o(F,$t,Ce.s),lt!==Ce.h&&Ze(F,"placeholder",Ce.h=lt),Ce.r=o(N,ut,Ce.r),Ce.d=o(fe,_t,Ce.d),bt!==Ce.l&&Ze(fe,"placeholder",Ce.l=bt),Ce.u=o(he,ht,Ce.u),Ce.c=o(ee,Bt,Ce.c),Ce.w=o(Q,Ot,Ce.w),Nt!==Ce.m&&Ze(Q,"placeholder",Ce.m=Nt),Ce.f=o(se,jt,Ce.f),Ce.y=o(K,Xt,Ce.y),Ce.g=o(B,Ar,Ce.g),Ce.p=o(Pe,hr,Ce.p),Ce.b=o(ye,Sr,Ce.b),Ce.T=o(ve,Pr,Ce.T),Ce.A=o(ke,er,Ce.A),Ce.O=o(Ne,Ir,Ce.O),Ce.I=o(Me,$r,Ce.I),Ce.S=o(Se,Xe,Ce.S),Ce.W=o(pt,yt,Ce.W),Ce.C=o(De,Et,Ce.C),Ce.B=o(Ee,zt,Ce.B),Ce.v=o(He,Vt,Ce.v),Ce.k=o(ot,xt,Ce.k),Ce},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0,O:void 0,I:void 0,S:void 0,W:void 0,C:void 0,B:void 0,v:void 0,k:void 0}),T(()=>A.value=n()),T(()=>F.value=a()),T(()=>fe.value=d()),T(()=>Q.value=l()),T(()=>ge.checked=R()),T(()=>ye.value=g()),T(()=>ke.value=L()),T(()=>Se.value=$()),T(()=>Ee.value=C()),T(()=>ot.value=M()),h}})}})};var Po=k("<div>ðŸ”„ "),ld=k("<div><div><div><input type=text></div><select><option value>"),sd=k("<div>âš ï¸ "),or=k("<div>"),cd=k("<option>"),dd=k("<div>ðŸ” <br><button>"),ud=k("<div><div><h3></h3><div></div></div><div></div><div>SKU: <!> â€¢ UPC: <!> â€¢ </div><div><span>: <!> </span><span></span></div><div><button></button><button>");const yd=()=>{const{t}=Qe(),[e,n]=te(""),[i,a]=te(""),[s,l]=te([]),[c,d]=te(!1),[y,g]=te(null),[I,L]=te(!1),[E,$]=te(!1),[S,C]=te(!1),[b,M]=te(null);sr(async()=>{await H()});const H=async()=>{try{d(!0),g(null);try{const P=await to.getAll();console.log({apiProducts:P}),l(P.map(A=>({id:A.id||`prod-${Date.now()}-${Math.random()}`,name:A.productName||A.name||"Unknown Product",sku:A.sku||A.productCode||"",description:A.description||"",category:A.category||"General",unitOfMeasure:A.unitOfMeasure||"pcs",unitCost:parseFloat(A.unitCost||A.cost||"0"),sellingPrice:parseFloat(A.sellingPrice||A.price||"0"),minStockLevel:parseInt(A.minStockLevel||"0"),maxStockLevel:parseInt(A.maxStockLevel||"100"),isActive:A.isActive!==!1,createdDate:A.createdDate||new Date().toISOString(),lastModified:A.lastModified||new Date().toISOString(),businessId:A.businessId||"YB100423253156428"})))}catch(P){console.warn("API failed, using local store:",P),l(Le.products)}}catch(P){g(P instanceof Error?P.message:"Failed to load products")}finally{d(!1)}},R=async()=>{try{d(!0),g(null);try{console.log("loadAllProducts inventoryApi");const P=await Zt.getProducts("prod");console.log({apiResults:P});const A=Object.keys(P),j=re=>{let F=P[re];return{id:F.id,name:F.name,businessId:F.businessId,sku:F.code,numCode:F.codeN,category:F.category,unitCost:F.unitCost||0,unitOfMeasure:F.unitOfMeasure,minStockLevel:F.minStockLevel,maxStockLevel:F.maxStockLevel,isActive:F.isActive,description:F.description||"",createdDate:F.createdAt||new Date().toISOString(),lastModified:F.updatedAt||new Date().toISOString(),sellingPrice:parseFloat(F.sellingPrice||F.price||"0")}},q=A.map(j);l(q)}catch(P){console.warn("API failed, using local store:",P),l(Le.products)}}catch(P){g(P instanceof Error?P.message:"Failed to load products")}finally{d(!1)}},{search:G,isSearching:Y,cancel:le}=Jc(async P=>{if(!P.trim()){await H();return}try{g(null);const A=await to.getAll(P);l(A.map(j=>({id:j.id||`prod-${Date.now()}-${Math.random()}`,name:j.productName||j.name||"Unknown Product",sku:j.sku||j.productCode||"",description:j.description||"",category:j.category||"General",unitOfMeasure:j.unitOfMeasure||"pcs",unitCost:parseFloat(j.unitCost||j.cost||"0"),sellingPrice:parseFloat(j.sellingPrice||j.price||"0"),minStockLevel:parseInt(j.minStockLevel||"0"),maxStockLevel:parseInt(j.maxStockLevel||"100"),isActive:j.isActive!==!1,createdDate:j.createdDate||new Date().toISOString(),lastModified:j.lastModified||new Date().toISOString(),businessId:j.businessId||"YB100423253156428"})))}catch(A){g(A instanceof Error?A.message:"Search failed");const j=Le.products.filter(q=>q.name.toLowerCase().includes(P.toLowerCase())||q.sku.toLowerCase().includes(P.toLowerCase())||q.category.toLowerCase().includes(P.toLowerCase()));l(j)}},300),de=P=>{const j=P.target.value;n(j),G(j)};kr(()=>{le()});const me=qe(()=>{let P=s();return i()&&(P=P.filter(A=>A.category===i())),P}),ne=qe(()=>[...new Set(s().map(A=>A.category))].sort()),Z=qe(()=>{const P=s().filter(q=>q.isActive),A=s().length,j=s().filter(q=>Le.getTotalStockByProduct(q.id)===0);return{total:A,active:P.length,outOfStock:j.length}}),X=P=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(P),p=P=>{const A=Le.getTotalStockByProduct(P),j=s().find(W=>W.id===P);if(!j)return{quantity:0,status:"unknown"};const q=A<=j.minStockLevel;return{quantity:A,status:A===0?"out":q?"low":"good"}},oe={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"},_={padding:"1.5rem",background:"var(--surface-color)","border-radius":"var(--border-radius)",border:"1px solid var(--border-color)",cursor:"pointer",transition:"all 0.2s ease"},m={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"1rem"},D={"font-size":"1.25rem","font-weight":"600",color:"var(--primary-color)"},v=P=>({padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500",background:P?"#d4edda":"#f8d7da",color:P?"#155724":"#721c24"}),x={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"},h={display:"flex",gap:"1rem","align-items":"center","margin-bottom":"2rem","flex-wrap":"wrap"},w={flex:"1","min-width":"300px",padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)"},ie={padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)","min-width":"150px"};return u(Yt,{get title(){return t("products.title","Products")},get children(){return[(()=>{var P=ld(),A=P.firstChild,j=A.firstChild,q=j.firstChild,re=j.nextSibling,W=re.firstChild;return P.style.setProperty("display","flex"),P.style.setProperty("justify-content","space-between"),P.style.setProperty("align-items","flex-start"),P.style.setProperty("margin-bottom","2rem"),P.style.setProperty("flex-wrap","wrap"),P.style.setProperty("gap","1rem"),o(A,h),j.style.setProperty("position","relative"),j.style.setProperty("flex","1"),j.style.setProperty("min-width","300px"),q.$$input=de,o(q,w),r(j,u(Ge,{get when(){return Y()},get children(){var F=Po();return F.firstChild,F.style.setProperty("position","absolute"),F.style.setProperty("right","0.75rem"),F.style.setProperty("top","50%"),F.style.setProperty("transform","translateY(-50%)"),F.style.setProperty("font-size","0.875rem"),F.style.setProperty("color","var(--text-muted)"),r(F,()=>t("common.searching","Searching..."),null),F}}),null),re.addEventListener("change",F=>a(F.target.value)),o(re,ie),r(W,()=>t("products.allCategories","All Categories")),r(re,u(mt,{get each(){return ne()},children:F=>(()=>{var ae=cd();return ae.value=F,r(ae,F),ae})()}),null),r(A,u(Ae,{variant:"outline",onClick:()=>{n(""),a(""),console.log("loadAllProducts"),R()},get children(){return["ðŸ”„ ",z(()=>t("common.refresh","Refresh"))]}}),null),r(P,u(Ae,{variant:"primary",onClick:()=>L(!0),get children(){return["âž• ",z(()=>t("products.addNew","Add New Product"))]}}),null),T(()=>Ze(q,"placeholder",t("products.searchPlaceholder","Search products by name, SKU, or category..."))),T(()=>q.value=e()),T(()=>re.value=i()),P})(),u(Ge,{get when(){return y()},get children(){var P=sd();return P.firstChild,P.style.setProperty("padding","1rem"),P.style.setProperty("margin-bottom","1rem"),P.style.setProperty("background","#ffebee"),P.style.setProperty("border","1px solid #ffcdd2"),P.style.setProperty("border-radius","var(--border-radius)"),P.style.setProperty("color","#d32f2f"),r(P,y,null),P}}),(()=>{var P=or();return o(P,x),r(P,u(je,{get title(){return t("products.totalProducts","Total Products")},get subtitle(){return t("products.inCatalog","In catalog")},get children(){var A=or();return A.style.setProperty("font-size","1.5rem"),A.style.setProperty("font-weight","600"),A.style.setProperty("color","var(--primary-color)"),r(A,()=>Z().total),A}}),null),r(P,u(je,{get title(){return t("products.activeProducts","Active Products")},get subtitle(){return t("products.currentlyAvailable","Currently available")},get children(){var A=or();return A.style.setProperty("font-size","1.5rem"),A.style.setProperty("font-weight","600"),A.style.setProperty("color","var(--primary-color)"),r(A,()=>Z().active),A}}),null),r(P,u(je,{get title(){return t("products.outOfStock","Out of Stock")},get subtitle(){return t("products.needsRestock","Needs restock")},get children(){var A=or();return A.style.setProperty("font-size","1.5rem"),A.style.setProperty("font-weight","600"),r(A,()=>Z().outOfStock),T(j=>(j=Z().outOfStock>0?"#f44336":"var(--primary-color)")!=null?A.style.setProperty("color",j):A.style.removeProperty("color")),A}}),null),r(P,u(je,{get title(){return t("products.showing","Showing")},get subtitle(){return z(()=>!!(e()||i()))()?t("products.filtered","Filtered results"):t("products.allProducts","All products")},get children(){var A=or();return A.style.setProperty("font-size","1.5rem"),A.style.setProperty("font-weight","600"),A.style.setProperty("color","var(--primary-color)"),r(A,()=>me().length),A}}),null),P})(),u(je,{get title(){return t("products.productCatalog","Product Catalog")},get subtitle(){return t("products.manageYourProducts","Manage your products and pricing")},get children(){return u(Ge,{get when(){return z(()=>!c())()&&!Y()},get fallback(){return(()=>{var P=Po();return P.firstChild,P.style.setProperty("text-align","center"),P.style.setProperty("padding","3rem"),P.style.setProperty("color","var(--text-muted)"),r(P,()=>t("common.loading","Loading products..."),null),P})()},get children(){return u(Ge,{get when(){return me().length>0},get fallback(){return(()=>{var P=or();return P.style.setProperty("text-align","center"),P.style.setProperty("padding","3rem"),P.style.setProperty("color","var(--text-muted)"),r(P,(()=>{var A=z(()=>!!(e()||i()));return()=>A()?(()=>{var j=dd(),q=j.firstChild,re=q.nextSibling,W=re.nextSibling;return r(j,()=>t("products.noResults","No products found matching your criteria."),re),W.$$click=()=>{n(""),a(""),H()},W.style.setProperty("margin-top","1rem"),W.style.setProperty("padding","0.5rem 1rem"),W.style.setProperty("background","none"),W.style.setProperty("border","1px solid var(--primary-color)"),W.style.setProperty("border-radius","var(--border-radius-sm)"),W.style.setProperty("color","var(--primary-color)"),W.style.setProperty("cursor","pointer"),r(W,()=>t("products.clearFilters","Clear filters")),j})():t("products.noProducts","No products available.")})()),P})()},get children(){var P=or();return o(P,oe),r(P,u(mt,{get each(){return me()},children:A=>{const j=p(A.id),q={good:{background:"#d4edda",color:"#155724"},low:{background:"#fff3cd",color:"#856404"},out:{background:"#f8d7da",color:"#721c24"}}[j.status];return(()=>{var re=ud(),W=re.firstChild,F=W.firstChild,ae=F.nextSibling,N=W.nextSibling,J=N.nextSibling,fe=J.firstChild,he=fe.nextSibling,ee=he.nextSibling,Q=ee.nextSibling;Q.nextSibling;var se=J.nextSibling,K=se.firstChild,O=K.firstChild,ge=O.nextSibling;ge.nextSibling;var pe=K.nextSibling,B=se.nextSibling,V=B.firstChild,Pe=V.nextSibling;return re.addEventListener("mouseleave",ye=>{ye.currentTarget.style.transform="translateY(0)",ye.currentTarget.style.boxShadow="none"}),re.addEventListener("mouseenter",ye=>{ye.currentTarget.style.transform="translateY(-2px)",ye.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)"}),re.$$click=()=>{M(A),$(!0)},o(W,m),F.style.setProperty("margin","0"),F.style.setProperty("font-size","1.1rem"),r(F,()=>A.name),r(ae,(()=>{var ye=z(()=>j.status==="out");return()=>ye()?t("products.outOfStock","Out of Stock"):z(()=>j.status==="low")()?t("products.lowStock","Low Stock"):t("products.inStock","In Stock")})()),o(N,D),r(N,()=>X(A.unitCost)),J.style.setProperty("color","var(--text-muted)"),J.style.setProperty("font-size","0.875rem"),J.style.setProperty("margin-bottom","0.5rem"),r(J,()=>A.sku,he),r(J,()=>A.UPC,Q),r(J,()=>A.category,null),se.style.setProperty("display","flex"),se.style.setProperty("justify-content","space-between"),se.style.setProperty("align-items","center"),se.style.setProperty("font-size","0.875rem"),se.style.setProperty("color","var(--text-muted)"),r(K,()=>t("products.stock","Stock"),O),r(K,()=>j.quantity,ge),r(K,()=>A.unitOfMeasure,null),pe.style.setProperty("font-weight","600"),r(pe,()=>j.status==="out"?"âš ï¸":j.status==="low"?"âš¡":"âœ…"),r(re,(()=>{var ye=z(()=>!!A.description);return()=>ye()&&(()=>{var ce=or();return ce.style.setProperty("margin-top","0.5rem"),ce.style.setProperty("font-size","0.75rem"),ce.style.setProperty("color","var(--text-muted)"),ce.style.setProperty("font-style","italic"),ce.style.setProperty("white-space","nowrap"),ce.style.setProperty("overflow","hidden"),ce.style.setProperty("text-overflow","ellipsis"),r(ce,()=>A.description),ce})()})(),B),B.style.setProperty("display","flex"),B.style.setProperty("gap","0.5rem"),B.style.setProperty("margin-top","1rem"),B.style.setProperty("padding-top","1rem"),B.style.setProperty("border-top","1px solid var(--border-color)"),V.addEventListener("mouseleave",ye=>ye.currentTarget.style.opacity="1"),V.addEventListener("mouseenter",ye=>ye.currentTarget.style.opacity="0.8"),V.$$click=ye=>{ye.stopPropagation(),M(A),$(!0)},V.style.setProperty("flex","1"),V.style.setProperty("padding","0.5rem"),V.style.setProperty("background","var(--primary-color)"),V.style.setProperty("color","white"),V.style.setProperty("border","none"),V.style.setProperty("border-radius","var(--border-radius-sm)"),V.style.setProperty("cursor","pointer"),V.style.setProperty("font-size","0.875rem"),V.style.setProperty("transition","opacity 0.2s"),r(V,()=>t("common.view","View")),Pe.addEventListener("mouseleave",ye=>{ye.currentTarget.style.background="transparent",ye.currentTarget.style.color="var(--primary-color)"}),Pe.addEventListener("mouseenter",ye=>{ye.currentTarget.style.background="var(--primary-color)",ye.currentTarget.style.color="white"}),Pe.$$click=ye=>{ye.stopPropagation(),M(A),C(!0)},Pe.style.setProperty("flex","1"),Pe.style.setProperty("padding","0.5rem"),Pe.style.setProperty("background","transparent"),Pe.style.setProperty("color","var(--primary-color)"),Pe.style.setProperty("border","1px solid var(--primary-color)"),Pe.style.setProperty("border-radius","var(--border-radius-sm)"),Pe.style.setProperty("cursor","pointer"),Pe.style.setProperty("font-size","0.875rem"),Pe.style.setProperty("transition","all 0.2s"),r(Pe,()=>t("common.edit","Edit")),T(ye=>{var ce={..._,cursor:"pointer",transition:"all 0.2s ease"},U={...v(j.status==="good"),...q},f=j.status==="good"?"#2e7d32":j.status==="low"?"#f57f17":"#d32f2f";return ye.e=o(re,ce,ye.e),ye.t=o(ae,U,ye.t),f!==ye.a&&((ye.a=f)!=null?pe.style.setProperty("color",f):pe.style.removeProperty("color")),ye},{e:void 0,t:void 0,a:void 0}),re})()}})),P}})}})}}),u(yn,{get isOpen(){return I()},onClose:()=>L(!1),onProductAdded:()=>{H()}}),u(rd,{get isOpen(){return E()},onClose:()=>{$(!1),M(null)},get product(){return b()},onEdit:()=>{$(!1),C(!0)}}),u(ad,{get isOpen(){return S()},onClose:()=>{C(!1),M(null)},get product(){return b()},onProductUpdated:()=>{H()}})]}})};vt(["input","click"]);const md=[{id:"1",name:"John Doe",position:"Software Engineer",salary:85e3,email:"john.doe@company.com",phone:"+1 (555) 123-4567",department:"Engineering",startDate:"2023-01-15"},{id:"2",name:"Jane Smith",position:"Product Manager",salary:95e3,email:"jane.smith@company.com",phone:"+1 (555) 234-5678",department:"Product",startDate:"2022-08-20"},{id:"3",name:"Mike Brown",position:"Designer",salary:7e4,email:"mike.brown@company.com",phone:"+1 (555) 345-6789",department:"Design",startDate:"2023-03-10"},{id:"4",name:"Sarah Kim",position:"HR Manager",salary:78e3,email:"sarah.kim@company.com",phone:"+1 (555) 456-7890",department:"Human Resources",startDate:"2022-11-05"},{id:"5",name:"Alex Lee",position:"Data Analyst",salary:72e3,email:"alex.lee@company.com",phone:"+1 (555) 567-8901",department:"Analytics",startDate:"2023-02-28"},{id:"6",name:"Emma Wilson",position:"Marketing Manager",salary:82e3,email:"emma.wilson@company.com",phone:"+1 (555) 678-9012",department:"Marketing",startDate:"2022-09-15"}],[Tr,Cn]=te(md),Xo={get employees(){return Tr()},addEmployee(t){const e={...t,id:Date.now().toString()};return Cn([...Tr(),e]),e},updateEmployee(t,e){Cn(Tr().map(n=>n.id===t?{...n,...e}:n))},deleteEmployee(t){Cn(Tr().filter(e=>e.id!==t))},getEmployeeById(t){return Tr().find(e=>e.id===t)}};var vd=k("<form><div>");const gd=t=>{const{t:e}=Qe(),[n,i]=te({name:"",position:"",salary:"",email:"",phone:"",department:"",startDate:""}),a=[{value:"Engineering",label:e("employees.departments.engineering","Engineering")},{value:"Product",label:e("employees.departments.product","Product")},{value:"Design",label:e("employees.departments.design","Design")},{value:"Marketing",label:e("employees.departments.marketing","Marketing")},{value:"Sales",label:e("employees.departments.sales","Sales")},{value:"Human Resources",label:e("employees.departments.humanResources","Human Resources")},{value:"Finance",label:e("employees.departments.finance","Finance")},{value:"Operations",label:e("employees.departments.operations","Operations")},{value:"Analytics",label:e("employees.departments.analytics","Analytics")}],s={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},l=d=>{d.preventDefault();const y=n();if(!y.name||!y.position||!y.salary||!y.email||!y.department||!y.startDate){alert(e("forms.requiredField"));return}const g={name:y.name,position:y.position,salary:parseFloat(y.salary),email:y.email,phone:y.phone,department:y.department,startDate:y.startDate};Xo.addEmployee(g),i({name:"",position:"",salary:"",email:"",phone:"",department:"",startDate:""}),t.onClose()},c=(d,y)=>{i(g=>({...g,[d]:y}))};return u(It,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return e("employees.addEmployee")},get children(){var d=vd(),y=d.firstChild;return d.addEventListener("submit",l),r(d,u(st,{get label(){return e("employees.fullName")},get value(){return n().name},onChange:g=>c("name",g),get placeholder(){return e("employees.enterFullName","Enter employee's full name")},required:!0}),y),r(d,u(st,{get label(){return e("employees.position")},get value(){return n().position},onChange:g=>c("position",g),get placeholder(){return e("employees.enterPosition","Enter job position")},required:!0}),y),r(d,u(Lt,{get label(){return e("employees.department")},get value(){return n().department},onChange:g=>c("department",g),options:a,required:!0}),y),r(d,u(st,{get label(){return e("employees.email")},type:"email",get value(){return n().email},onChange:g=>c("email",g),get placeholder(){return e("employees.enterEmail","Enter email address")},required:!0}),y),r(d,u(st,{get label(){return e("employees.phone")},type:"tel",get value(){return n().phone},onChange:g=>c("phone",g),get placeholder(){return e("employees.enterPhone","Enter phone number")}}),y),r(d,u(st,{get label(){return e("employees.salary")},type:"number",get value(){return n().salary},onChange:g=>c("salary",g),get placeholder(){return e("employees.enterSalary","Enter annual salary")},required:!0}),y),r(d,u(st,{get label(){return e("employees.hireDate")},type:"date",get value(){return n().startDate},onChange:g=>c("startDate",g),required:!0}),y),o(y,s),r(y,u(Ae,{variant:"secondary",type:"button",get onClick(){return t.onClose},get children(){return e("common.cancel")}}),null),r(y,u(Ae,{variant:"primary",type:"submit",get children(){return e("employees.addEmployee")}}),null),d}})};var pd=k("<div><div></div><div></div><div>"),fd=k("<div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span>"),bd=k("<div>");const hd=t=>{const{t:e}=Qe(),n={display:"flex","justify-content":"space-between","align-items":"center",padding:"0.75rem 0","border-bottom":"1px solid var(--border-color)"},i={"font-weight":"500",color:"var(--text-muted)","font-size":"0.875rem"},a={"font-weight":"600",color:"var(--text-primary)"},s={width:"80px",height:"80px","border-radius":"50%",background:"linear-gradient(135deg, var(--primary-color), var(--secondary-color))",display:"flex","align-items":"center","justify-content":"center",color:"white","font-weight":"600","font-size":"1.5rem",margin:"0 auto 1.5rem auto"},l={"text-align":"center","margin-bottom":"2rem"},c={"font-size":"1.5rem","font-weight":"600",color:"var(--text-primary)",margin:"0.5rem 0"},d={color:"var(--text-muted)","font-size":"1rem"},y={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"};if(!t.employee)return null;const g=E=>E.split(" ").map($=>$[0]).join("").toUpperCase(),I=E=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(E),L=E=>new Date(E).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return u(It,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return e("employees.employeeDetails")},get children(){return[(()=>{var E=pd(),$=E.firstChild,S=$.nextSibling,C=S.nextSibling;return o(E,l),o($,s),r($,()=>g(t.employee.name)),o(S,c),r(S,()=>t.employee.name),o(C,d),r(C,()=>t.employee.position),E})(),(()=>{var E=fd(),$=E.firstChild,S=$.firstChild,C=S.nextSibling,b=$.nextSibling,M=b.firstChild,H=M.nextSibling,R=b.nextSibling,G=R.firstChild,Y=G.nextSibling,le=R.nextSibling,de=le.firstChild,me=de.nextSibling,ne=le.nextSibling,Z=ne.firstChild,X=Z.nextSibling,p=ne.nextSibling,oe=p.firstChild,_=oe.nextSibling;return r(S,()=>e("employees.employeeId")),r(C,()=>t.employee.id),r(M,()=>e("employees.department")),r(H,()=>t.employee.department),r(G,()=>e("employees.email")),r(Y,()=>t.employee.email),r(de,()=>e("employees.phone")),r(me,()=>t.employee.phone),r(Z,()=>e("employees.salary")),r(X,()=>I(t.employee.salary)),r(oe,()=>e("employees.hireDate")),r(_,()=>L(t.employee.startDate)),T(m=>{var D=n,v=i,x=a,h=n,w=i,ie=a,P=n,A=i,j=a,q=n,re=i,W=a,F=n,ae=i,N=a,J=n,fe=i,he=a;return m.e=o($,D,m.e),m.t=o(S,v,m.t),m.a=o(C,x,m.a),m.o=o(b,h,m.o),m.i=o(M,w,m.i),m.n=o(H,ie,m.n),m.s=o(R,P,m.s),m.h=o(G,A,m.h),m.r=o(Y,j,m.r),m.d=o(le,q,m.d),m.l=o(de,re,m.l),m.u=o(me,W,m.u),m.c=o(ne,F,m.c),m.w=o(Z,ae,m.w),m.m=o(X,N,m.m),m.f=o(p,J,m.f),m.y=o(oe,fe,m.y),m.g=o(_,he,m.g),m},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0}),E})(),(()=>{var E=bd();return o(E,y),r(E,u(Ae,{variant:"secondary",get onClick(){return t.onClose},get children(){return e("common.close")}}),null),r(E,u(Ae,{variant:"primary",onClick:()=>{console.log("Edit employee:",t.employee.id)},get children(){return e("employees.editEmployee")}}),null),E})()]}})};var $o=k("<div>"),Sd=k("<div><div></div><div><div></div><div></div><div>/year");const Pd=()=>{const{t}=Qe(),[e,n]=te(!1),[i,a]=te(!1),[s,l]=te(null),c=S=>{l(S),a(!0)},d={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"},y={display:"flex","align-items":"center",gap:"1rem"},g={width:"60px",height:"60px","border-radius":"50%",background:"linear-gradient(135deg, var(--primary-color), var(--secondary-color))",display:"flex","align-items":"center","justify-content":"center",color:"white","font-weight":"600","font-size":"1.2rem"},I={flex:"1"},L={"font-weight":"600","margin-bottom":"0.25rem"},E={color:"var(--text-muted)","font-size":"0.875rem","margin-bottom":"0.5rem"},$={color:"var(--primary-color)","font-weight":"500"};return u(Yt,{get title(){return t("employees.title")},get children(){return[(()=>{var S=$o();return S.style.setProperty("margin-bottom","2rem"),r(S,u(Ae,{variant:"primary",onClick:()=>n(!0),get children(){return t("employees.addEmployee")}})),S})(),(()=>{var S=$o();return o(S,d),r(S,()=>Xo.employees.map(C=>{const b=H=>H.split(" ").map(R=>R[0]).join("").toUpperCase(),M=H=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(H);return u(je,{onClick:()=>c(C),get children(){var H=Sd(),R=H.firstChild,G=R.nextSibling,Y=G.firstChild,le=Y.nextSibling,de=le.nextSibling,me=de.firstChild;return o(H,y),o(R,g),r(R,()=>b(C.name)),o(G,I),o(Y,L),r(Y,()=>C.name),o(le,E),r(le,()=>C.position),o(de,$),r(de,()=>M(C.salary),me),H}})})),S})(),u(gd,{get isOpen(){return e()},onClose:()=>n(!1)}),u(hd,{get isOpen(){return i()},onClose:()=>a(!1),get employee(){return s()}})]}})},$d=[{id:"1",accountId:"1002",bankName:"First National Bank",accountNumber:"****1234",accountType:"checking",currency:"USD",currentBalance:32730.5,lastReconciledDate:"2024-01-01",lastReconciledBalance:3e4,isActive:!0},{id:"2",accountId:"1003",bankName:"First National Bank",accountNumber:"****5678",accountType:"savings",currency:"USD",currentBalance:12e3,lastReconciledDate:"2024-01-01",lastReconciledBalance:1e4,isActive:!0}],xd=[{id:"1",accountId:"1002",date:"2024-01-15",description:"Customer Payment - ABC Corp",reference:"CHK001234",debitAmount:5e3,creditAmount:0,balance:35730.5,category:"Customer Payment",isReconciled:!0,reconciledWith:"eb1",importedAt:"2024-01-16",source:"csv_import"},{id:"2",accountId:"1002",date:"2024-01-14",description:"Office Supplies - Staples",reference:"CHK001235",debitAmount:0,creditAmount:250,balance:30730.5,category:"Office Expenses",isReconciled:!0,reconciledWith:"eb2",importedAt:"2024-01-16",source:"csv_import"},{id:"3",accountId:"1002",date:"2024-01-13",description:"Monthly Rent Payment",reference:"CHK001236",debitAmount:0,creditAmount:2e3,balance:28730.5,category:"Rent",isReconciled:!1,importedAt:"2024-01-16",source:"csv_import"},{id:"4",accountId:"1002",date:"2024-01-12",description:"Wire Transfer In",reference:"WIRE001",debitAmount:1e4,creditAmount:0,balance:38730.5,category:"Wire Transfer",isReconciled:!1,importedAt:"2024-01-16",source:"csv_import"}],Cd=[{id:"eb1",accountId:"1002",date:"2024-01-15",description:"Customer Payment Received - ABC Corp",reference:"INV-2024-001",debitAmount:5e3,creditAmount:0,category:"Accounts Receivable",isReconciled:!0,reconciledWith:"1",createdAt:"2024-01-15"},{id:"eb2",accountId:"1002",date:"2024-01-14",description:"Office Supplies Purchase",reference:"PO-2024-001",debitAmount:0,creditAmount:250,category:"Office Expenses",isReconciled:!0,reconciledWith:"2",createdAt:"2024-01-14"},{id:"eb3",accountId:"1002",date:"2024-01-11",description:"Salary Payment - John Doe",reference:"PAY-2024-001",debitAmount:0,creditAmount:3500,category:"Salary Expense",isReconciled:!1,createdAt:"2024-01-11"}],_d=[{id:"1",bankAccountId:"1",periodStart:"2024-01-01",periodEnd:"2024-01-15",startingBalance:3e4,endingBalance:35730.5,status:"in_progress",totalBankTransactions:4,totalEntryBookRecords:3,reconciledTransactions:2,unreconciledTransactions:2,discrepancyAmount:1500,createdAt:"2024-01-16",notes:"Wire transfer and rent payment need investigation"}],[Zr,xo]=te($d),[ir,_n]=te(xd),[Br,Co]=te(Cd),[Xr,_o]=te(_d),At={get bankAccounts(){return Zr()},addBankAccount(t){const e={...t,id:Date.now().toString()};return xo([...Zr(),e]),e},updateBankAccount(t,e){xo(Zr().map(n=>n.id===t?{...n,...e}:n))},getBankAccountById(t){return Zr().find(e=>e.id===t)},get bankStatements(){return ir()},addBankStatement(t){const e={...t,id:Date.now().toString(),importedAt:new Date().toISOString()};return _n([...ir(),e]),e},addBankStatementsFromCSV(t){const e=t.map(n=>({...n,id:`csv_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,importedAt:new Date().toISOString(),source:"csv_import",isReconciled:!1}));return _n([...ir(),...e]),e},updateBankStatement(t,e){_n(ir().map(n=>n.id===t?{...n,...e}:n))},getBankStatementsByAccount(t){return ir().filter(e=>e.accountId===t)},getUnreconciledBankStatements(t){return(t?this.getBankStatementsByAccount(t):ir()).filter(n=>!n.isReconciled)},get entryBookRecords(){return Br()},addEntryBookRecord(t){const e={...t,id:Date.now().toString(),createdAt:new Date().toISOString()};return Co([...Br(),e]),e},updateEntryBookRecord(t,e){Co(Br().map(n=>n.id===t?{...n,...e}:n))},getEntryBookRecordsByAccount(t){return Br().filter(e=>e.accountId===t)},getUnreconciledEntryBookRecords(t){return(t?this.getEntryBookRecordsByAccount(t):Br()).filter(n=>!n.isReconciled)},reconcileTransaction(t,e){this.updateBankStatement(t,{isReconciled:!0,reconciledWith:e}),this.updateEntryBookRecord(e,{isReconciled:!0,reconciledWith:t})},unreconciledTransaction(t){const e=ir().find(n=>n.id===t);e?.reconciledWith&&this.updateEntryBookRecord(e.reconciledWith,{isReconciled:!1,reconciledWith:void 0}),this.updateBankStatement(t,{isReconciled:!1,reconciledWith:void 0})},findPotentialMatches(t){const e=ir().find(i=>i.id===t);return e?this.getUnreconciledEntryBookRecords(e.accountId).filter(i=>{const a=Math.abs(e.debitAmount-i.debitAmount)<.01||Math.abs(e.creditAmount-i.creditAmount)<.01,s=new Date(e.date),l=new Date(i.date),d=Math.abs((s.getTime()-l.getTime())/(1e3*60*60*24))<=3,y=e.reference===i.reference||e.description.toLowerCase().includes(i.description.toLowerCase())||i.description.toLowerCase().includes(e.description.toLowerCase());return a&&(d||y)}).sort((i,a)=>{const s=(i.date===e.date?2:0)+(i.reference===e.reference?1:0);return(a.date===e.date?2:0)+(a.reference===e.reference?1:0)-s}):[]},get reconciliationSessions(){return Xr()},startReconciliationSession(t,e,n){const i=this.getBankStatementsByAccount(t).filter(y=>y.date>=e&&y.date<=n),a=this.getEntryBookRecordsByAccount(t).filter(y=>y.date>=e&&y.date<=n),s=i.filter(y=>y.isReconciled).length,l=this.getBankAccountById(t)?.lastReconciledBalance||0,c=this.getBankAccountById(t)?.currentBalance||0,d={id:Date.now().toString(),bankAccountId:t,periodStart:e,periodEnd:n,startingBalance:l,endingBalance:c,status:"in_progress",totalBankTransactions:i.length,totalEntryBookRecords:a.length,reconciledTransactions:s,unreconciledTransactions:i.length-s,discrepancyAmount:0,createdAt:new Date().toISOString()};return _o([...Xr(),d]),d},updateReconciliationSession(t,e){_o(Xr().map(n=>n.id===t?{...n,...e}:n))},getReconciliationSessionsByAccount(t){return Xr().filter(e=>e.bankAccountId===t)}};var wn=k("<div>"),wd=k("<div><strong>:</strong> <!> - "),kd=k("<div><div><div>ðŸ“„</div><div></div><div></div></div><input id=csvFileInput type=file accept=.csv>"),Ad=k("<div><h4></h4><div><div><label> *</label><select><option value></option></select></div><div><label> *</label><select><option value></option></select></div><div><label></label><select><option value></option></select></div><div><label> *</label><select><option value></option></select></div><div><label></label><select><option value></option></select></div><div><label></label><select><option value>"),wr=k("<option>"),Id=k("<div><table><thead><tr></tr></thead><tbody>"),Ed=k("<th>"),Ld=k("<tr>"),Dd=k("<td>");const Nd=t=>{const{t:e}=Qe(),[n,i]=te(!1),[a,s]=te(!1),[l,c]=te(null),[d,y]=te([]),[g,I]=te({date:"",description:"",reference:"",debit:"",credit:"",balance:""}),L={border:`2px dashed ${n()?"var(--primary-color)":"var(--border-color)"}`,"border-radius":"var(--border-radius)",padding:"2rem","text-align":"center","background-color":n()?"var(--background-color)":"transparent",transition:"all 0.2s ease",cursor:"pointer"},E={display:"grid","grid-template-columns":"1fr 1fr",gap:"1rem","margin-top":"1.5rem"},$={width:"100%",padding:"0.5rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-family":"inherit"},S={"max-height":"200px","overflow-y":"auto",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","margin-top":"1rem"},C={width:"100%","border-collapse":"collapse","font-size":"0.875rem"},b={padding:"0.5rem","border-bottom":"1px solid var(--border-color)","text-align":"left"},M={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},H=X=>{X.preventDefault(),i(!0)},R=X=>{X.preventDefault(),i(!1)},G=X=>{X.preventDefault(),i(!1);const p=X.dataTransfer?.files;p&&p.length>0&&le(p[0])},Y=X=>{const p=X.target;p.files&&p.files.length>0&&le(p.files[0])},le=X=>{if(!X.name.toLowerCase().endsWith(".csv")){c({success:!1,message:e("banking.pleaseUploadCSV")});return}s(!0);const p=new FileReader;p.onload=oe=>{try{const m=(oe.target?.result).split(`
`).filter(h=>h.trim());if(m.length<2){c({success:!1,message:e("banking.csvRequiresHeaderAndData")}),s(!1);return}const D=m[0].split(",").map(h=>h.trim().replace(/[\"\']/g,"")),v=m.slice(1).map(h=>{const w=h.split(",").map(P=>P.trim().replace(/[\"\']/g,"")),ie={};return D.forEach((P,A)=>{ie[P]=w[A]||""}),ie});y(v),c({success:!0,message:e("banking.successfullyParsed").replace("{count}",v.length.toString()),count:v.length});const x={...g()};D.forEach(h=>{const w=h.toLowerCase();w.includes("date")&&(x.date=h),(w.includes("description")||w.includes("memo"))&&(x.description=h),(w.includes("reference")||w.includes("check")||w.includes("ref"))&&(x.reference=h),(w.includes("debit")||w.includes("deposit"))&&(x.debit=h),(w.includes("credit")||w.includes("withdrawal")||w.includes("amount"))&&(x.debit?x.credit=h:x.debit=h),w.includes("balance")&&(x.balance=h)}),I(x)}catch{c({success:!1,message:e("banking.errorParsingCSV")})}s(!1)},p.readAsText(X)},de=(X,p)=>{I(oe=>({...oe,[X]:p}))},me=()=>d().length===0?[]:Object.keys(d()[0]),ne=()=>{if(!t.bankAccount||d().length===0)return;const X=g();if(!X.date||!X.description){c({success:!1,message:e("banking.dateDescriptionRequired")});return}s(!0);try{const p=d().map(_=>{const m=h=>h&&parseFloat(h.replace(/[^0-9.-]/g,""))||0,D=h=>{const w=new Date(h);if(isNaN(w.getTime())){const ie=h.split("/");if(ie.length===3)return new Date(parseInt(ie[2]),parseInt(ie[0])-1,parseInt(ie[1])).toISOString().split("T")[0]}return w.toISOString().split("T")[0]};let v=0,x=0;if(X.debit&&X.credit)v=m(_[X.debit]),x=m(_[X.credit]);else if(X.debit){const h=m(_[X.debit]);h>0?v=h:x=Math.abs(h)}return{accountId:t.bankAccount.accountId,date:D(_[X.date]),description:_[X.description]||e("banking.importedTransaction"),reference:_[X.reference]||"",debitAmount:v,creditAmount:x,balance:X.balance?m(_[X.balance]):0,isReconciled:!1}}),oe=At.addBankStatementsFromCSV(p);c({success:!0,message:e("banking.successfullyImported").replace("{count}",oe.length.toString()),count:oe.length}),y([]),I({date:"",description:"",reference:"",debit:"",credit:"",balance:""})}catch{c({success:!1,message:e("banking.errorImportingTransactions")})}s(!1)},Z=()=>{y([]),c(null),I({date:"",description:"",reference:"",debit:"",credit:"",balance:""})};return u(It,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return e("banking.importBankStatementCSV")},get children(){return[z(()=>z(()=>!!t.bankAccount)()&&(()=>{var X=wd(),p=X.firstChild,oe=p.firstChild,_=p.nextSibling,m=_.nextSibling;return m.nextSibling,X.style.setProperty("margin-bottom","1.5rem"),X.style.setProperty("padding","1rem"),X.style.setProperty("background","var(--background-color)"),X.style.setProperty("border-radius","var(--border-radius-sm)"),X.style.setProperty("border","1px solid var(--border-color)"),r(p,()=>e("banking.bankAccount"),oe),r(X,()=>t.bankAccount.bankName,m),r(X,()=>t.bankAccount.accountNumber,null),X})()),z(()=>z(()=>d().length===0)()?(()=>{var X=kd(),p=X.firstChild,oe=p.firstChild,_=oe.nextSibling,m=_.nextSibling,D=p.nextSibling;return p.$$click=()=>document.getElementById("csvFileInput")?.click(),p.addEventListener("drop",G),p.addEventListener("dragleave",R),p.addEventListener("dragover",H),oe.style.setProperty("font-size","2rem"),oe.style.setProperty("margin-bottom","1rem"),_.style.setProperty("font-weight","500"),_.style.setProperty("margin-bottom","0.5rem"),r(_,(()=>{var v=z(()=>!!n());return()=>v()?e("banking.dropCSVHere"):e("banking.clickToUploadCSV")})()),m.style.setProperty("font-size","0.875rem"),m.style.setProperty("color","var(--text-muted)"),r(m,()=>e("banking.supportedFormat")),D.addEventListener("change",Y),D.style.setProperty("display","none"),T(v=>o(p,L,v)),X})():(()=>{var X=Ad(),p=X.firstChild,oe=p.nextSibling,_=oe.firstChild,m=_.firstChild,D=m.firstChild,v=m.nextSibling,x=v.firstChild,h=_.nextSibling,w=h.firstChild,ie=w.firstChild,P=w.nextSibling,A=P.firstChild,j=h.nextSibling,q=j.firstChild,re=q.nextSibling,W=re.firstChild,F=j.nextSibling,ae=F.firstChild,N=ae.firstChild,J=ae.nextSibling,fe=J.firstChild,he=F.nextSibling,ee=he.firstChild,Q=ee.nextSibling,se=Q.firstChild,K=he.nextSibling,O=K.firstChild,ge=O.nextSibling,pe=ge.firstChild;return p.style.setProperty("margin","0 0 1rem 0"),r(p,()=>e("banking.mapCSVColumns")),o(oe,E),m.style.setProperty("display","block"),m.style.setProperty("margin-bottom","0.5rem"),m.style.setProperty("font-weight","500"),r(m,()=>e("banking.dateColumn"),D),v.addEventListener("change",B=>de("date",B.target.value)),r(x,()=>e("banking.selectColumn")),r(v,()=>me().map(B=>(()=>{var V=wr();return V.value=B,r(V,B),V})()),null),w.style.setProperty("display","block"),w.style.setProperty("margin-bottom","0.5rem"),w.style.setProperty("font-weight","500"),r(w,()=>e("banking.descriptionColumn"),ie),P.addEventListener("change",B=>de("description",B.target.value)),r(A,()=>e("banking.selectColumn")),r(P,()=>me().map(B=>(()=>{var V=wr();return V.value=B,r(V,B),V})()),null),q.style.setProperty("display","block"),q.style.setProperty("margin-bottom","0.5rem"),q.style.setProperty("font-weight","500"),r(q,()=>e("banking.referenceColumn")),re.addEventListener("change",B=>de("reference",B.target.value)),r(W,()=>e("banking.selectColumn")),r(re,()=>me().map(B=>(()=>{var V=wr();return V.value=B,r(V,B),V})()),null),ae.style.setProperty("display","block"),ae.style.setProperty("margin-bottom","0.5rem"),ae.style.setProperty("font-weight","500"),r(ae,()=>e("banking.amountDebitColumn"),N),J.addEventListener("change",B=>de("debit",B.target.value)),r(fe,()=>e("banking.selectColumn")),r(J,()=>me().map(B=>(()=>{var V=wr();return V.value=B,r(V,B),V})()),null),ee.style.setProperty("display","block"),ee.style.setProperty("margin-bottom","0.5rem"),ee.style.setProperty("font-weight","500"),r(ee,()=>e("banking.creditColumn")),Q.addEventListener("change",B=>de("credit",B.target.value)),r(se,()=>e("banking.selectColumn")),r(Q,()=>me().map(B=>(()=>{var V=wr();return V.value=B,r(V,B),V})()),null),O.style.setProperty("display","block"),O.style.setProperty("margin-bottom","0.5rem"),O.style.setProperty("font-weight","500"),r(O,()=>e("banking.balanceColumn")),ge.addEventListener("change",B=>de("balance",B.target.value)),r(pe,()=>e("banking.selectColumn")),r(ge,()=>me().map(B=>(()=>{var V=wr();return V.value=B,r(V,B),V})()),null),r(X,(()=>{var B=z(()=>d().length>0);return()=>B()&&(()=>{var V=Id(),Pe=V.firstChild,ye=Pe.firstChild,ce=ye.firstChild,U=ye.nextSibling;return o(V,S),ce.style.setProperty("background-color","var(--background-color)"),r(ce,()=>me().slice(0,6).map(f=>(()=>{var ue=Ed();return r(ue,f),T(_e=>o(ue,b,_e)),ue})())),r(U,()=>d().slice(0,3).map(f=>(()=>{var ue=Ld();return r(ue,()=>me().slice(0,6).map(_e=>(()=>{var $e=Dd();return r($e,()=>f[_e]),T(xe=>o($e,b,xe)),$e})())),ue})())),r(V,(()=>{var f=z(()=>d().length>3);return()=>f()&&(()=>{var ue=wn();return ue.style.setProperty("padding","0.5rem"),ue.style.setProperty("text-align","center"),ue.style.setProperty("color","var(--text-muted)"),r(ue,()=>e("banking.andMoreRows").replace("{count}",(d().length-3).toString())),ue})()})(),null),T(f=>o(Pe,C,f)),V})()})(),null),T(B=>{var V=$,Pe=$,ye=$,ce=$,U=$,f=$;return B.e=o(v,V,B.e),B.t=o(P,Pe,B.t),B.a=o(re,ye,B.a),B.o=o(J,ce,B.o),B.i=o(Q,U,B.i),B.n=o(ge,f,B.n),B},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),T(()=>v.value=g().date),T(()=>P.value=g().description),T(()=>re.value=g().reference),T(()=>J.value=g().debit),T(()=>Q.value=g().credit),T(()=>ge.value=g().balance),X})()),z(()=>z(()=>!!l())()&&(()=>{var X=wn();return X.style.setProperty("padding","1rem"),X.style.setProperty("border-radius","var(--border-radius-sm)"),X.style.setProperty("margin-top","1rem"),r(X,()=>l().message),T(p=>{var oe=l().success?"#d4edda":"#f8d7da",_=l().success?"#155724":"#721c24",m=`1px solid ${l().success?"#c3e6cb":"#f5c6cb"}`;return oe!==p.e&&((p.e=oe)!=null?X.style.setProperty("background",oe):X.style.removeProperty("background")),_!==p.t&&((p.t=_)!=null?X.style.setProperty("color",_):X.style.removeProperty("color")),m!==p.a&&((p.a=m)!=null?X.style.setProperty("border",m):X.style.removeProperty("border")),p},{e:void 0,t:void 0,a:void 0}),X})()),(()=>{var X=wn();return o(X,M),r(X,u(Ae,{variant:"secondary",onClick:()=>{Z(),t.onClose()},get children(){return e("common.cancel")}}),null),r(X,(()=>{var p=z(()=>d().length>0);return()=>p()&&u(Ae,{variant:"outline",onClick:Z,get children(){return e("common.reset")}})})(),null),r(X,(()=>{var p=z(()=>d().length>0);return()=>p()&&u(Ae,{variant:"primary",onClick:ne,get disabled(){return a()||!g().date||!g().description},get children(){return z(()=>!!a())()?e("banking.importing"):e("banking.importTransactions").replace("{count}",d().length.toString())}})})(),null),X})()]}})};vt(["click"]);var wo=k("<span>"),en=k("<div>"),ko=k("<div> "),Td=k("<div><div><h3></h3><div><button></button><button></button><button></button></div></div><div></div><div><div><h4></h4><div></div></div><div><h4></h4><div>"),Bd=k("<div><div><div></div><div> â€¢ </div></div><div><div>"),kn=k("<span>âœ“ "),Md=k("<span>(<!>)"),Rd=k("<div><strong>:</strong> "),Ao=k("<div><div><div></div><div> â€¢ </div></div><div>"),Od=k("<div><div>:</div><div></div><div>");const jd=t=>{const{t:e}=Qe(),[n,i]=te([]),[a,s]=te([]),[l,c]=te(null),[d,y]=te([]),[g,I]=te("unreconciled");lr(()=>{const m=At.getBankAccountById(t.bankAccountId);if(m){const D=At.getBankStatementsByAccount(m.accountId).filter(x=>x.date>=t.selectedPeriod.start&&x.date<=t.selectedPeriod.end),v=At.getEntryBookRecordsByAccount(m.accountId).filter(x=>x.date>=t.selectedPeriod.start&&x.date<=t.selectedPeriod.end);i(D),s(v)}});const L=()=>{const m=n();switch(g()){case"reconciled":return m.filter(D=>D.isReconciled);case"unreconciled":return m.filter(D=>!D.isReconciled);default:return m}},E=()=>{const m=a();switch(g()){case"reconciled":return m.filter(D=>D.isReconciled);case"unreconciled":return m.filter(D=>!D.isReconciled);default:return m}},$=m=>{if(c(m),m.isReconciled)y([]);else{const D=At.findPotentialMatches(m.id);y(D)}},S=m=>{const D=l();if(D){At.reconcileTransaction(D.id,m.id);const v=At.getBankAccountById(t.bankAccountId);if(v){const x=At.getBankStatementsByAccount(v.accountId).filter(w=>w.date>=t.selectedPeriod.start&&w.date<=t.selectedPeriod.end),h=At.getEntryBookRecordsByAccount(v.accountId).filter(w=>w.date>=t.selectedPeriod.start&&w.date<=t.selectedPeriod.end);i(x),s(h)}c(null),y([])}},C=m=>{At.unreconciledTransaction(m.id);const D=At.getBankAccountById(t.bankAccountId);if(D){const v=At.getBankStatementsByAccount(D.accountId).filter(h=>h.date>=t.selectedPeriod.start&&h.date<=t.selectedPeriod.end),x=At.getEntryBookRecordsByAccount(D.accountId).filter(h=>h.date>=t.selectedPeriod.start&&h.date<=t.selectedPeriod.end);i(v),s(x)}},b={display:"grid","grid-template-columns":"1fr 1fr",gap:"2rem","margin-top":"2rem"},M={height:"600px","overflow-y":"auto"},H={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"1rem"},R=m=>({padding:"0.5rem 1rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)",background:m?"var(--primary-color)":"var(--surface-color)",color:m?"white":"var(--text-primary)",cursor:"pointer","font-weight":"500","font-size":"0.875rem",transition:"all 0.2s ease"}),G=(m,D)=>({display:"flex","justify-content":"space-between","align-items":"center",padding:"1rem","margin-bottom":"0.5rem",background:m?"var(--primary-color)":D?"#e8f5e8":"var(--surface-color)",color:m?"white":"var(--text-primary)","border-radius":"var(--border-radius-sm)",border:`1px solid ${m?"var(--primary-color)":D?"#c3e6cb":"var(--border-color)"}`,cursor:"pointer",transition:"all 0.2s ease"}),Y={flex:"1"},le={"font-weight":"500","margin-bottom":"0.25rem"},de={"font-size":"0.875rem",opacity:"0.8"},me=m=>({"font-weight":"600",color:m?"#4caf50":"#f44336"}),ne={padding:"0.25rem 0.5rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500","margin-left":"0.5rem"},Z=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(m),X=m=>new Date(m).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),p=m=>{if(!l())return null;const D=l();return(Math.abs(D.debitAmount-m.debitAmount)<.01||Math.abs(D.creditAmount-m.creditAmount)<.01)&&D.date===m.date?(()=>{var h=wo();return r(h,()=>e("banking.exactMatch")),T(w=>o(h,{...ne,background:"#d4edda",color:"#155724"},w)),h})():d().includes(m)?(()=>{var h=wo();return r(h,()=>e("banking.possibleMatch")),T(w=>o(h,{...ne,background:"#fff3cd",color:"#856404"},w)),h})():null},_=(()=>{const m=n(),D=a(),v=m.filter(h=>h.isReconciled).length,x=D.filter(h=>h.isReconciled).length;return{totalStatements:m.length,totalRecords:D.length,reconciledStatements:v,reconciledRecords:x,unreconciledStatements:m.length-v,unreconciledRecords:D.length-x}})();return(()=>{var m=Td(),D=m.firstChild,v=D.firstChild,x=v.nextSibling,h=x.firstChild,w=h.nextSibling,ie=w.nextSibling,P=D.nextSibling,A=P.nextSibling,j=A.firstChild,q=j.firstChild,re=q.nextSibling,W=j.nextSibling,F=W.firstChild,ae=F.nextSibling;return o(D,H),v.style.setProperty("margin","0"),v.style.setProperty("font-size","1.25rem"),r(v,()=>e("banking.reconciliationComparison")),x.style.setProperty("display","flex"),x.style.setProperty("gap","0.5rem"),h.$$click=()=>I("all"),r(h,()=>e("common.all")),w.$$click=()=>I("unreconciled"),r(w,()=>e("banking.unreconciled")),ie.$$click=()=>I("reconciled"),r(ie,()=>e("banking.reconciled")),P.style.setProperty("display","grid"),P.style.setProperty("grid-template-columns","repeat(4, 1fr)"),P.style.setProperty("gap","1rem"),P.style.setProperty("margin-bottom","2rem"),r(P,u(je,{get title(){return e("banking.bankStatements")},get subtitle(){return e("banking.totalTransactions")},get children(){return[(()=>{var N=en();return N.style.setProperty("font-size","1.5rem"),N.style.setProperty("font-weight","600"),N.style.setProperty("color","var(--primary-color)"),r(N,()=>_.totalStatements),N})(),(()=>{var N=ko(),J=N.firstChild;return N.style.setProperty("font-size","0.875rem"),N.style.setProperty("color","var(--text-muted)"),r(N,()=>_.reconciledStatements,J),r(N,()=>e("banking.reconciled"),null),N})()]}}),null),r(P,u(je,{get title(){return e("banking.entryBookRecords")},get subtitle(){return e("banking.totalEntries")},get children(){return[(()=>{var N=en();return N.style.setProperty("font-size","1.5rem"),N.style.setProperty("font-weight","600"),N.style.setProperty("color","var(--primary-color)"),r(N,()=>_.totalRecords),N})(),(()=>{var N=ko(),J=N.firstChild;return N.style.setProperty("font-size","0.875rem"),N.style.setProperty("color","var(--text-muted)"),r(N,()=>_.reconciledRecords,J),r(N,()=>e("banking.reconciled"),null),N})()]}}),null),r(P,u(je,{get title(){return e("banking.unreconciledBank")},get subtitle(){return e("banking.needAttention")},get children(){var N=en();return N.style.setProperty("font-size","1.5rem"),N.style.setProperty("font-weight","600"),N.style.setProperty("color","#f44336"),r(N,()=>_.unreconciledStatements),N}}),null),r(P,u(je,{get title(){return e("banking.unreconciledBooks")},get subtitle(){return e("banking.needAttention")},get children(){var N=en();return N.style.setProperty("font-size","1.5rem"),N.style.setProperty("font-weight","600"),N.style.setProperty("color","#f44336"),r(N,()=>_.unreconciledRecords),N}}),null),o(A,b),q.style.setProperty("margin","0 0 1rem 0"),r(q,()=>e("banking.bankStatements")),r(re,()=>L().map(N=>(()=>{var J=Bd(),fe=J.firstChild,he=fe.firstChild,ee=he.nextSibling,Q=ee.firstChild,se=fe.nextSibling,K=se.firstChild;return J.$$click=()=>$(N),r(he,()=>N.description),r(ee,()=>X(N.date),Q),r(ee,()=>N.reference,null),r(ee,(()=>{var O=z(()=>!!N.isReconciled);return()=>O()&&(()=>{var ge=kn();return ge.firstChild,ge.style.setProperty("color","#4caf50"),ge.style.setProperty("margin-left","0.5rem"),r(ge,()=>e("banking.reconciled"),null),ge})()})(),null),r(K,()=>N.debitAmount>0?"+":"-",null),r(K,()=>Z(N.debitAmount||N.creditAmount),null),r(se,(()=>{var O=z(()=>!!N.isReconciled);return()=>O()&&u(Ae,{variant:"outline",size:"sm",onClick:ge=>{ge.stopPropagation(),C(N)},style:{"margin-top":"0.5rem"},get children(){return e("banking.unreconcile")}})})(),null),T(O=>{var ge=G(l()?.id===N.id,N.isReconciled),pe=Y,B=le,V=de,Pe=me(N.debitAmount>0);return O.e=o(J,ge,O.e),O.t=o(fe,pe,O.t),O.a=o(he,B,O.a),O.o=o(ee,V,O.o),O.i=o(K,Pe,O.i),O},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),J})())),F.style.setProperty("margin","0 0 1rem 0"),r(F,()=>e("banking.entryBookRecords"),null),r(F,(()=>{var N=z(()=>!!(l()&&!l().isReconciled));return()=>N()&&(()=>{var J=Md(),fe=J.firstChild,he=fe.nextSibling;return he.nextSibling,J.style.setProperty("font-weight","400"),J.style.setProperty("color","var(--text-muted)"),J.style.setProperty("margin-left","0.5rem"),r(J,()=>e("banking.clickToReconcile"),he),J})()})(),null),r(ae,(()=>{var N=z(()=>!!(l()&&!l().isReconciled));return()=>N()?[z(()=>z(()=>d().length>0)()&&(()=>{var J=Rd(),fe=J.firstChild,he=fe.firstChild;return fe.nextSibling,J.style.setProperty("margin-bottom","1rem"),J.style.setProperty("padding","0.75rem"),J.style.setProperty("background","#fff3cd"),J.style.setProperty("border-radius","var(--border-radius-sm)"),r(fe,()=>e("banking.potentialMatchesFound"),he),r(J,()=>e("banking.clickRecordToReconcile"),null),J})()),z(()=>E().map(J=>(d().includes(J),(()=>{var fe=Ao(),he=fe.firstChild,ee=he.firstChild,Q=ee.nextSibling,se=Q.firstChild,K=he.nextSibling;return fe.$$click=()=>{J.isReconciled||S(J)},r(ee,()=>J.description,null),r(ee,()=>p(J),null),r(Q,()=>X(J.date),se),r(Q,()=>J.reference,null),r(Q,(()=>{var O=z(()=>!!J.isReconciled);return()=>O()&&(()=>{var ge=kn();return ge.firstChild,ge.style.setProperty("color","#4caf50"),ge.style.setProperty("margin-left","0.5rem"),r(ge,()=>e("banking.reconciled"),null),ge})()})(),null),r(K,()=>J.debitAmount>0?"+":"-",null),r(K,()=>Z(J.debitAmount||J.creditAmount),null),T(O=>{var ge={...G(!1,J.isReconciled),opacity:J.isReconciled?.6:1,cursor:J.isReconciled?"not-allowed":"pointer"},pe=Y,B=le,V=de,Pe=me(J.debitAmount>0);return O.e=o(fe,ge,O.e),O.t=o(he,pe,O.t),O.a=o(ee,B,O.a),O.o=o(Q,V,O.o),O.i=o(K,Pe,O.i),O},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),fe})())))]:E().map(J=>(()=>{var fe=Ao(),he=fe.firstChild,ee=he.firstChild,Q=ee.nextSibling,se=Q.firstChild,K=he.nextSibling;return r(ee,()=>J.description),r(Q,()=>X(J.date),se),r(Q,()=>J.reference,null),r(Q,(()=>{var O=z(()=>!!J.isReconciled);return()=>O()&&(()=>{var ge=kn();return ge.firstChild,ge.style.setProperty("color","#4caf50"),ge.style.setProperty("margin-left","0.5rem"),r(ge,()=>e("banking.reconciled"),null),ge})()})(),null),r(K,()=>J.debitAmount>0?"+":"-",null),r(K,()=>Z(J.debitAmount||J.creditAmount),null),T(O=>{var ge=G(!1,J.isReconciled),pe=Y,B=le,V=de,Pe=me(J.debitAmount>0);return O.e=o(fe,ge,O.e),O.t=o(he,pe,O.t),O.a=o(ee,B,O.a),O.o=o(Q,V,O.o),O.i=o(K,Pe,O.i),O},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),fe})())})()),r(m,(()=>{var N=z(()=>!!(l()&&!l().isReconciled));return()=>N()&&(()=>{var J=Od(),fe=J.firstChild,he=fe.firstChild,ee=fe.nextSibling,Q=ee.nextSibling;return J.style.setProperty("position","fixed"),J.style.setProperty("bottom","2rem"),J.style.setProperty("right","2rem"),J.style.setProperty("background","var(--surface-color)"),J.style.setProperty("padding","1rem"),J.style.setProperty("border-radius","var(--border-radius)"),J.style.setProperty("box-shadow","var(--shadow-lg)"),J.style.setProperty("border","1px solid var(--border-color)"),J.style.setProperty("max-width","300px"),fe.style.setProperty("font-weight","500"),fe.style.setProperty("margin-bottom","0.5rem"),r(fe,()=>e("banking.selected"),he),ee.style.setProperty("font-size","0.875rem"),ee.style.setProperty("margin-bottom","0.5rem"),r(ee,()=>l().description),Q.style.setProperty("font-weight","600"),Q.style.setProperty("color","var(--primary-color)"),r(Q,()=>Z(l().debitAmount||l().creditAmount)),r(J,u(Ae,{variant:"secondary",size:"sm",onClick:()=>{c(null),y([])},style:{"margin-top":"0.5rem"},get children(){return e("banking.clearSelection")}}),null),J})()})(),null),T(N=>{var J=R(g()==="all"),fe=R(g()==="unreconciled"),he=R(g()==="reconciled"),ee=M,Q=M;return N.e=o(h,J,N.e),N.t=o(w,fe,N.t),N.a=o(ie,he,N.a),N.o=o(re,ee,N.o),N.i=o(ae,Q,N.i),N},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),m})()};vt(["click"]);var zd=k("<div><div><h2></h2><p></p></div><div>"),Fd=k("<div><div><label></label></div><div><label></label><input type=date></div><div><label></label><input type=date>"),qd=k("<div><button></button><button>"),Ud=k("<div><br>"),Mr=k("<div>"),Vd=k("<div><div></div><div> â€¢ </div><div>"),Yd=k("<div>: "),Wd=k("<div> <!> â€¢ <!> "),Hd=k("<div>%"),Gd=k("<div> of <!> transactions");const Jd=()=>{const{t}=Qe(),[e,n]=te(null),[i,a]=te({start:new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),[s,l]=te(!1),[c,d]=te("overview");lr(()=>{!e()&&At.bankAccounts.length>0&&n(At.bankAccounts[0])});const y={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"2rem"},g={display:"flex",gap:"1rem","align-items":"center","margin-bottom":"2rem",padding:"1.5rem",background:"var(--surface-color)","border-radius":"var(--border-radius)",border:"1px solid var(--border-color)"},I={display:"flex","border-bottom":"1px solid var(--border-color)","margin-bottom":"2rem"},L=H=>({padding:"1rem 2rem",background:"none",border:"none",cursor:"pointer","font-weight":"500",color:H?"var(--primary-color)":"var(--text-muted)","border-bottom":H?"2px solid var(--primary-color)":"2px solid transparent",transition:"all 0.2s ease"}),E={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"},$=H=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(H),S=H=>new Date(H).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),C=()=>At.bankAccounts.map(H=>({value:H.id,label:`${H.bankName} - ${H.accountNumber} (${H.accountType})`})),M=(()=>{if(!e())return null;const H=At.getBankStatementsByAccount(e().accountId).filter(Y=>Y.date>=i().start&&Y.date<=i().end),R=At.getEntryBookRecordsByAccount(e().accountId).filter(Y=>Y.date>=i().start&&Y.date<=i().end),G=H.filter(Y=>Y.isReconciled).length;return R.filter(Y=>Y.isReconciled).length,{totalBankTransactions:H.length,totalEntryBookRecords:R.length,reconciledTransactions:G,unreconciledTransactions:H.length-G,reconciliationRate:H.length>0?G/H.length*100:0}})();return u(Yt,{get title(){return t("banking.title")},get children(){return[(()=>{var H=zd(),R=H.firstChild,G=R.firstChild,Y=G.nextSibling,le=R.nextSibling;return o(H,y),G.style.setProperty("margin","0 0 0.5rem 0"),G.style.setProperty("font-size","1.5rem"),r(G,()=>t("banking.reconciliation")),Y.style.setProperty("margin","0"),Y.style.setProperty("color","var(--text-muted)"),r(Y,()=>t("banking.compareStatements")),le.style.setProperty("display","flex"),le.style.setProperty("gap","1rem"),r(le,u(Ae,{variant:"secondary",onClick:()=>l(!0),get disabled(){return!e()},get children(){return t("banking.importCSV")}}),null),r(le,u(Ae,{variant:"primary",get children(){return t("banking.startNewReconciliation")}}),null),H})(),(()=>{var H=Fd(),R=H.firstChild,G=R.firstChild,Y=R.nextSibling,le=Y.firstChild,de=le.nextSibling,me=Y.nextSibling,ne=me.firstChild,Z=ne.nextSibling;return o(H,g),R.style.setProperty("flex","1"),G.style.setProperty("display","block"),G.style.setProperty("margin-bottom","0.5rem"),G.style.setProperty("font-weight","500"),r(G,()=>t("banking.bankAccount")),r(R,u(Lt,{label:"",get value(){return e()?.id||""},onChange:X=>{const p=At.getBankAccountById(X);n(p||null)},get options(){return C()}}),null),le.style.setProperty("display","block"),le.style.setProperty("margin-bottom","0.5rem"),le.style.setProperty("font-weight","500"),r(le,()=>t("entryBooks.startDate")),de.addEventListener("change",X=>a(p=>({...p,start:X.target.value}))),de.style.setProperty("padding","0.75rem"),de.style.setProperty("border","1px solid var(--border-color)"),de.style.setProperty("border-radius","var(--border-radius-sm)"),de.style.setProperty("font-family","inherit"),ne.style.setProperty("display","block"),ne.style.setProperty("margin-bottom","0.5rem"),ne.style.setProperty("font-weight","500"),r(ne,()=>t("entryBooks.endDate")),Z.addEventListener("change",X=>a(p=>({...p,end:X.target.value}))),Z.style.setProperty("padding","0.75rem"),Z.style.setProperty("border","1px solid var(--border-color)"),Z.style.setProperty("border-radius","var(--border-radius-sm)"),Z.style.setProperty("font-family","inherit"),T(()=>de.value=i().start),T(()=>Z.value=i().end),H})(),(()=>{var H=qd(),R=H.firstChild,G=R.nextSibling;return o(H,I),R.$$click=()=>d("overview"),r(R,()=>t("common.overview")),G.$$click=()=>d("reconciliation"),r(G,()=>t("banking.reconciliation")),T(Y=>{var le=L(c()==="overview"),de=L(c()==="reconciliation");return Y.e=o(R,le,Y.e),Y.t=o(G,de,Y.t),Y},{e:void 0,t:void 0}),H})(),z(()=>z(()=>c()==="overview")()&&(()=>{var H=Mr();return r(H,(()=>{var R=z(()=>!!e());return()=>R()&&(()=>{var G=Mr();return o(G,E),r(G,u(je,{get title(){return t("banking.bankAccountInfo")},get subtitle(){return t("banking.currentAccountDetails")},get children(){return[(()=>{var Y=Vd(),le=Y.firstChild,de=le.nextSibling,me=de.firstChild,ne=de.nextSibling;return Y.style.setProperty("margin-bottom","1rem"),le.style.setProperty("font-weight","600"),le.style.setProperty("margin-bottom","0.5rem"),r(le,()=>e().bankName),de.style.setProperty("color","var(--text-muted)"),de.style.setProperty("margin-bottom","0.5rem"),r(de,()=>e().accountNumber,me),r(de,()=>e().accountType,null),ne.style.setProperty("font-size","1.25rem"),ne.style.setProperty("font-weight","600"),ne.style.setProperty("color","var(--primary-color)"),r(ne,()=>$(e().currentBalance)),Y})(),z(()=>z(()=>!!e().lastReconciledDate)()&&(()=>{var Y=Yd(),le=Y.firstChild;return Y.style.setProperty("font-size","0.875rem"),Y.style.setProperty("color","var(--text-muted)"),r(Y,()=>t("banking.lastReconciled"),le),r(Y,()=>S(e().lastReconciledDate),null),Y})())]}}),null),r(G,M&&[u(je,{get title(){return t("banking.bankTransactions")},get subtitle(){return t("banking.selectedPeriod")},get children(){return[(()=>{var Y=Mr();return Y.style.setProperty("font-size","1.5rem"),Y.style.setProperty("font-weight","600"),Y.style.setProperty("color","var(--primary-color)"),Y.style.setProperty("margin-bottom","0.5rem"),r(Y,()=>M.totalBankTransactions),Y})(),(()=>{var Y=Wd(),le=Y.firstChild,de=le.nextSibling,me=de.nextSibling,ne=me.nextSibling;return ne.nextSibling,Y.style.setProperty("font-size","0.875rem"),Y.style.setProperty("color","var(--text-muted)"),r(Y,()=>M.reconciledTransactions,le),r(Y,()=>t("banking.reconciled"),de),r(Y,()=>M.unreconciledTransactions,ne),r(Y,()=>t("banking.pending"),null),Y})()]}}),u(je,{get title(){return t("entryBooks.entryBookRecords")},get subtitle(){return t("banking.selectedPeriod")},get children(){return[(()=>{var Y=Mr();return Y.style.setProperty("font-size","1.5rem"),Y.style.setProperty("font-weight","600"),Y.style.setProperty("color","var(--primary-color)"),Y.style.setProperty("margin-bottom","0.5rem"),r(Y,()=>M.totalEntryBookRecords),Y})(),(()=>{var Y=Mr();return Y.style.setProperty("font-size","0.875rem"),Y.style.setProperty("color","var(--text-muted)"),r(Y,()=>t("banking.bookEntriesForComparison")),Y})()]}}),u(je,{get title(){return t("banking.reconciliationRate")},get subtitle(){return t("banking.completionStatus")},get children(){return[(()=>{var Y=Hd(),le=Y.firstChild;return Y.style.setProperty("font-size","1.5rem"),Y.style.setProperty("font-weight","600"),Y.style.setProperty("margin-bottom","0.5rem"),r(Y,()=>Math.round(M.reconciliationRate),le),T(de=>(de=M.reconciliationRate>80?"#4caf50":M.reconciliationRate>50?"#ff9800":"#f44336")!=null?Y.style.setProperty("color",de):Y.style.removeProperty("color")),Y})(),(()=>{var Y=Gd(),le=Y.firstChild,de=le.nextSibling;return de.nextSibling,Y.style.setProperty("font-size","0.875rem"),Y.style.setProperty("color","var(--text-muted)"),r(Y,()=>M.reconciledTransactions,le),r(Y,()=>M.totalBankTransactions,de),Y})()]}})],null),G})()})(),null),r(H,u(je,{get title(){return t("banking.recentReconciliationSessions")},get subtitle(){return t("banking.latestActivity")},get children(){var R=Ud(),G=R.firstChild;return R.style.setProperty("text-align","center"),R.style.setProperty("color","var(--text-muted)"),R.style.setProperty("padding","2rem"),r(R,()=>t("banking.noRecentSessions"),G),r(R,u(Ae,{variant:"primary",style:{"margin-top":"1rem"},onClick:()=>d("reconciliation"),get children(){return t("banking.startFirstReconciliation")}}),null),R}}),null),H})()),z(()=>z(()=>!!(c()==="reconciliation"&&e()))()&&u(jd,{get bankAccountId(){return e().id},get selectedPeriod(){return i()}})),u(Nd,{get isOpen(){return s()},onClose:()=>l(!1),get bankAccount(){return e()}})]}})};vt(["click"]);var Qd=k("<div><div></div><div>"),An=k("<div>"),Kd=k("<div> â€¢ <!> â€¢ <!> "),Zd=k("<div><div><div></div><div></div></div><div><div></div><div>"),Xd=k("<div><div>:"),eu=k("<div>âš ï¸ <!>: <!> <!>, <!> "),tu=k("<div><div><div></div><div></div></div><div>"),Io=k("<div> "),ru=k("<div>âœ“ ");const nu=t=>{const{t:e}=Qe(),n={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"1rem"},i={"font-size":"0.875rem","font-weight":"600",color:"var(--text-muted)","text-transform":"uppercase"},a={padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500","text-transform":"uppercase","letter-spacing":"0.5px"},s={"font-size":"1.1rem","font-weight":"600",color:"var(--text-primary)","margin-bottom":"0.5rem"},l={"font-size":"0.875rem",color:"var(--text-muted)","margin-bottom":"1rem"},c={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"1rem"},d={"font-size":"1.25rem","font-weight":"600",color:"var(--primary-color)"},y={"max-height":"100px","overflow-y":"auto","border-top":"1px solid var(--border-color)","padding-top":"1rem"},g={display:"flex","justify-content":"space-between","align-items":"center","font-size":"0.875rem","margin-bottom":"0.5rem"},I={display:"flex","justify-content":"flex-end","margin-top":"1rem","padding-top":"1rem","border-top":"1px solid var(--border-color)"},L=b=>({draft:{bg:"#fff3cd",color:"#856404"},posted:{bg:"#d4edda",color:"#155724"},void:{bg:"#f8d7da",color:"#721c24"}})[b],E=b=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(b),$=b=>new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),S=L(t.entry.status),C=Math.abs(t.entry.totalDebit-t.entry.totalCredit)<.01;return u(je,{get children(){return[(()=>{var b=Qd(),M=b.firstChild,H=M.nextSibling;return o(b,n),o(M,i),r(M,()=>t.entry.entryNumber),r(H,()=>t.entry.status),T(R=>o(H,{...a,background:S.bg,color:S.color},R)),b})(),(()=>{var b=An();return o(b,s),r(b,()=>t.entry.description),b})(),(()=>{var b=Kd(),M=b.firstChild,H=M.nextSibling,R=H.nextSibling,G=R.nextSibling;return G.nextSibling,o(b,l),r(b,()=>$(t.entry.date),M),r(b,()=>t.entry.reference||e("journal.noReference","No reference"),H),r(b,()=>e("journal.createdBy","By"),G),r(b,()=>t.entry.createdBy,null),b})(),(()=>{var b=Zd(),M=b.firstChild,H=M.firstChild,R=H.nextSibling,G=M.nextSibling,Y=G.firstChild,le=Y.nextSibling;return o(b,c),H.style.setProperty("font-size","0.875rem"),H.style.setProperty("color","var(--text-muted)"),r(H,()=>e("journal.totalAmount","Total Amount")),o(R,d),r(R,()=>E(t.entry.totalDebit)),G.style.setProperty("text-align","right"),Y.style.setProperty("font-size","0.875rem"),Y.style.setProperty("color","var(--text-muted)"),r(Y,()=>e("journal.lines","Lines")),le.style.setProperty("font-weight","600"),r(le,()=>t.entry.lines.length),b})(),z(()=>!C&&(()=>{var b=eu(),M=b.firstChild,H=M.nextSibling,R=H.nextSibling,G=R.nextSibling,Y=G.nextSibling,le=Y.nextSibling,de=le.nextSibling,me=de.nextSibling;return me.nextSibling,b.style.setProperty("padding","0.5rem"),b.style.setProperty("border-radius","var(--border-radius-sm)"),b.style.setProperty("background","#f8d7da"),b.style.setProperty("color","#721c24"),b.style.setProperty("font-size","0.875rem"),b.style.setProperty("margin-bottom","1rem"),r(b,()=>e("journal.entryNotBalancedShort","Entry is not balanced"),H),r(b,()=>e("journal.debit"),G),r(b,()=>E(t.entry.totalDebit),le),r(b,()=>e("journal.credit"),me),r(b,()=>E(t.entry.totalCredit),null),b})()),(()=>{var b=Xd(),M=b.firstChild,H=M.firstChild;return o(b,y),M.style.setProperty("font-weight","500"),M.style.setProperty("margin-bottom","0.5rem"),M.style.setProperty("font-size","0.875rem"),r(M,()=>e("journal.accountLines","Account Lines"),H),r(b,()=>t.entry.lines.slice(0,3).map(R=>(()=>{var G=tu(),Y=G.firstChild,le=Y.firstChild,de=le.nextSibling,me=Y.nextSibling;return o(G,g),Y.style.setProperty("flex","1"),le.style.setProperty("font-weight","500"),r(le,()=>R.accountName),de.style.setProperty("font-size","0.75rem"),de.style.setProperty("color","var(--text-muted)"),r(de,()=>R.description||e("journal.noDescription","No description")),me.style.setProperty("text-align","right"),r(me,(()=>{var ne=z(()=>R.debitAmount>0);return()=>ne()&&(()=>{var Z=Io(),X=Z.firstChild;return Z.style.setProperty("color","#4caf50"),Z.style.setProperty("font-weight","500"),r(Z,()=>e("journal.debitShort","Dr."),X),r(Z,()=>E(R.debitAmount),null),Z})()})(),null),r(me,(()=>{var ne=z(()=>R.creditAmount>0);return()=>ne()&&(()=>{var Z=Io(),X=Z.firstChild;return Z.style.setProperty("color","#f44336"),Z.style.setProperty("font-weight","500"),r(Z,()=>e("journal.creditShort","Cr."),X),r(Z,()=>E(R.creditAmount),null),Z})()})(),null),r(me,(()=>{var ne=z(()=>!!R.reconciled);return()=>ne()&&(()=>{var Z=ru();return Z.firstChild,Z.style.setProperty("font-size","0.75rem"),Z.style.setProperty("color","#4caf50"),r(Z,()=>e("banking.reconciled","Reconciled"),null),Z})()})(),null),G})()),null),r(b,(()=>{var R=z(()=>t.entry.lines.length>3);return()=>R()&&(()=>{var G=An();return G.style.setProperty("text-align","center"),G.style.setProperty("color","var(--text-muted)"),G.style.setProperty("font-size","0.875rem"),r(G,()=>e("journal.andMoreLines","... and {count} more lines").replace("{count}",(t.entry.lines.length-3).toString())),G})()})(),null),b})(),(()=>{var b=An();return o(b,I),r(b,u(Ae,{variant:"primary",size:"sm",onClick:()=>t.onViewDetails?.(t.entry),get children(){return e("journal.viewDetails","View Details")}})),b})()]}})},ou=[{id:"je1",entryNumber:"JE-2024-001",date:"2024-01-15",description:"Customer Payment Received - ABC Corp",reference:"INV-2024-001",status:"posted",createdBy:"John Doe",createdAt:"2024-01-15T09:00:00Z",postedAt:"2024-01-15T09:05:00Z",totalDebit:5e3,totalCredit:5e3,lines:[{id:"jel1",accountId:"1002",accountName:"Bank - Checking Account",description:"Payment from ABC Corp",debitAmount:5e3,creditAmount:0,reconciled:!0,reconciledWith:"eb1"},{id:"jel2",accountId:"2001",accountName:"Trade Receivables",description:"Payment received for INV-2024-001",debitAmount:0,creditAmount:5e3}]},{id:"je2",entryNumber:"JE-2024-002",date:"2024-01-14",description:"Office Supplies Purchase",reference:"PO-2024-001",status:"posted",createdBy:"Jane Smith",createdAt:"2024-01-14T10:00:00Z",postedAt:"2024-01-14T10:15:00Z",totalDebit:250,totalCredit:250,lines:[{id:"jel3",accountId:"5200",accountName:"Office Expenses",description:"Office supplies from Staples",debitAmount:250,creditAmount:0},{id:"jel4",accountId:"1002",accountName:"Bank - Checking Account",description:"Payment to Staples",debitAmount:0,creditAmount:250,reconciled:!0,reconciledWith:"eb2"}]},{id:"je3",entryNumber:"JE-2024-003",date:"2024-01-13",description:"Monthly Rent Payment",reference:"RENT-2024-01",status:"posted",createdBy:"John Doe",createdAt:"2024-01-13T08:00:00Z",postedAt:"2024-01-13T08:30:00Z",totalDebit:2e3,totalCredit:2e3,lines:[{id:"jel5",accountId:"5200",accountName:"Rent Expense",description:"January office rent",debitAmount:2e3,creditAmount:0},{id:"jel6",accountId:"1002",accountName:"Bank - Checking Account",description:"Rent payment",debitAmount:0,creditAmount:2e3,reconciled:!1}]},{id:"je4",entryNumber:"JE-2024-004",date:"2024-01-12",description:"Wire Transfer - Capital Investment",reference:"WIRE-001",status:"posted",createdBy:"Admin",createdAt:"2024-01-12T14:00:00Z",postedAt:"2024-01-12T14:30:00Z",totalDebit:1e4,totalCredit:1e4,lines:[{id:"jel7",accountId:"1002",accountName:"Bank - Checking Account",description:"Wire transfer received",debitAmount:1e4,creditAmount:0,reconciled:!1},{id:"jel8",accountId:"8",accountName:"Owner's Equity",description:"Capital investment",debitAmount:0,creditAmount:1e4}]},{id:"je5",entryNumber:"JE-2024-005",date:"2024-01-11",description:"Salary Payment - John Doe",reference:"PAY-2024-001",status:"posted",createdBy:"HR Manager",createdAt:"2024-01-11T16:00:00Z",postedAt:"2024-01-11T16:30:00Z",totalDebit:3500,totalCredit:3500,lines:[{id:"jel9",accountId:"13",accountName:"Salaries Expense",description:"Monthly salary - John Doe",debitAmount:3500,creditAmount:0},{id:"jel10",accountId:"1002",accountName:"Bank - Checking Account",description:"Salary payment",debitAmount:0,creditAmount:3500,reconciled:!1}]},{id:"je6",entryNumber:"JE-2024-006",date:"2024-01-10",description:"Product Sales - Multiple Customers",reference:"SALES-2024-010",status:"posted",createdBy:"Sales Manager",createdAt:"2024-01-10T11:00:00Z",postedAt:"2024-01-10T11:30:00Z",totalDebit:8500,totalCredit:8500,lines:[{id:"jel11",accountId:"1001",accountName:"Petty Cash",description:"Cash sales",debitAmount:1500,creditAmount:0},{id:"jel12",accountId:"2001",accountName:"Trade Receivables",description:"Credit sales",debitAmount:7e3,creditAmount:0},{id:"jel13",accountId:"10",accountName:"Sales Revenue",description:"Product sales revenue",debitAmount:0,creditAmount:8500}]},{id:"je7",entryNumber:"JE-2024-007",date:"2024-01-09",description:"Inventory Purchase",reference:"PO-2024-002",status:"draft",createdBy:"Warehouse Manager",createdAt:"2024-01-09T15:00:00Z",totalDebit:15e3,totalCredit:15e3,lines:[{id:"jel14",accountId:"3",accountName:"Inventory",description:"Product inventory purchase",debitAmount:15e3,creditAmount:0},{id:"jel15",accountId:"5",accountName:"Accounts Payable",description:"Amount owed to supplier",debitAmount:0,creditAmount:15e3}]},{id:"je8",entryNumber:"JE-2024-008",date:"2024-01-08",description:"Utility Bills Payment",reference:"UTIL-2024-01",status:"posted",createdBy:"Admin",createdAt:"2024-01-08T09:00:00Z",postedAt:"2024-01-08T09:30:00Z",totalDebit:450,totalCredit:450,lines:[{id:"jel16",accountId:"14",accountName:"Operating Expenses",description:"Electricity and water bills",debitAmount:450,creditAmount:0},{id:"jel17",accountId:"1003",accountName:"Bank - Savings Account",description:"Utility payment",debitAmount:0,creditAmount:450}]}],[Mt,In]=te(ou),Eo=()=>Mt().filter(e=>e.status==="posted").flatMap(e=>e.lines.filter(n=>["1001","1002","1003"].includes(n.accountId))).map(e=>{const n=Mt().find(i=>i.lines.some(a=>a.id===e.id));return n?{id:`eb_${e.id}`,accountId:e.accountId,date:n.date,description:n.description,reference:n.reference,debitAmount:e.debitAmount,creditAmount:e.creditAmount,category:e.accountName,isReconciled:e.reconciled||!1,reconciledWith:e.reconciledWith,createdAt:n.createdAt}:null}).filter(e=>e!==null),Qt={get journalEntries(){return Mt()},addJournalEntry(t){const e={...t,id:Date.now().toString()};return In([...Mt(),e]),e},updateJournalEntry(t,e){In(Mt().map(n=>n.id===t?{...n,...e}:n))},deleteJournalEntry(t){const e=Mt().find(n=>n.id===t);if(e&&e.status==="posted")throw new Error("Cannot delete posted journal entries. Void them instead.");In(Mt().filter(n=>n.id!==t))},voidJournalEntry(t){this.updateJournalEntry(t,{status:"void"})},postJournalEntry(t){const e=Mt().find(n=>n.id===t);if(!e)throw new Error("Journal entry not found");if(Math.abs(e.totalDebit-e.totalCredit)>.01)throw new Error("Journal entry is not balanced. Debits must equal credits.");this.updateJournalEntry(t,{status:"posted",postedAt:new Date().toISOString()}),Eo()},getJournalEntryById(t){return Mt().find(e=>e.id===t)},getJournalEntriesByStatus(t){return Mt().filter(e=>e.status===t)},getJournalEntriesByDateRange(t,e){return Mt().filter(n=>n.date>=t&&n.date<=e)},getJournalEntriesByAccount(t){return Mt().filter(e=>e.lines.some(n=>n.accountId===t))},getNextEntryNumber(){const t=new Date().getFullYear(),n=Mt().filter(i=>i.entryNumber.includes(t.toString())).reduce((i,a)=>{const s=parseInt(a.entryNumber.split("-").pop()||"0");return s>i?s:i},0);return`JE-${t}-${String(n+1).padStart(3,"0")}`},validateJournalEntry(t){const e=[];if(t.date||e.push("Date is required"),t.description||e.push("Description is required"),(!t.lines||t.lines.length===0)&&e.push("At least one line item is required"),t.lines){const n=t.lines.reduce((a,s)=>a+(s.debitAmount||0),0),i=t.lines.reduce((a,s)=>a+(s.creditAmount||0),0);Math.abs(n-i)>.01&&e.push(`Entry is not balanced. Debit: ${n}, Credit: ${i}`),t.lines.forEach((a,s)=>{a.accountId||e.push(`Line ${s+1}: Account is required`),a.debitAmount===0&&a.creditAmount===0&&e.push(`Line ${s+1}: Either debit or credit amount must be provided`),a.debitAmount>0&&a.creditAmount>0&&e.push(`Line ${s+1}: Cannot have both debit and credit amounts`)})}return{isValid:e.length===0,errors:e}},getBankRelatedEntries(){return Eo()}};var iu=k("<form><div></div><div><div><h4></h4></div><div><div><div><strong></strong></div><div><strong></strong></div><div><strong></strong></div><div><strong></strong></div><div><strong></strong></div></div></div><div><div><strong>: </strong></div><div><strong>: </strong></div><div></div></div></div><div>"),Lo=k("<div>");const ei=t=>{const{t:e}=Qe(),[n,i]=te({entryNumber:"",date:new Date().toISOString().split("T")[0],description:"",reference:"",createdBy:"Current User"}),[a,s]=te([{tempId:`line_${Date.now()}_0`,accountId:"",accountName:"",description:"",debitAmount:0,creditAmount:0},{tempId:`line_${Date.now()}_1`,accountId:"",accountName:"",description:"",debitAmount:0,creditAmount:0}]),[l,c]=te(null);lr(()=>{if(t.isOpen){if(t.editEntry)i({entryNumber:t.editEntry.entryNumber,date:t.editEntry.date,description:t.editEntry.description,reference:t.editEntry.reference,createdBy:t.editEntry.createdBy}),s(t.editEntry.lines.map((R,G)=>({...R,tempId:`line_${Date.now()}_${G}`})));else{const R=Qt.getNextEntryNumber();i({entryNumber:R,date:new Date().toISOString().split("T")[0],description:"",reference:"",createdBy:"Current User"}),s([{tempId:`line_${Date.now()}_0`,accountId:"",accountName:"",description:"",debitAmount:0,creditAmount:0},{tempId:`line_${Date.now()}_1`,accountId:"",accountName:"",description:"",debitAmount:0,creditAmount:0}])}c(null)}});const d={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},y={display:"grid","grid-template-columns":"2fr 2fr 1fr 1fr 1fr",gap:"1rem","align-items":"end","margin-bottom":"1rem",padding:"1rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)",background:"var(--background-color)"},g={display:"flex","justify-content":"space-between","align-items":"center",padding:"1rem",background:"var(--surface-color)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","margin-top":"1rem"},I=()=>nt.accounts.map(R=>({value:R.id,label:`${R.accountNumber} - ${R.name}`})),L=(R,G)=>{i(Y=>({...Y,[R]:G}))},E=(R,G,Y)=>{s(le=>le.map(de=>{if(de.tempId===R){const me={...de,[G]:Y};if(G==="accountId"&&typeof Y=="string"){const ne=nt.getAccountById(Y);ne&&(me.accountName=ne.name)}return me}return de}))},$=()=>{s(R=>[...R,{tempId:`line_${Date.now()}_${R.length}`,accountId:"",accountName:"",description:"",debitAmount:0,creditAmount:0}])},S=R=>{a().length>2&&s(G=>G.filter(Y=>Y.tempId!==R))},C=()=>{const R=a().reduce((Y,le)=>Y+(le.debitAmount||0),0),G=a().reduce((Y,le)=>Y+(le.creditAmount||0),0);return{totalDebit:R,totalCredit:G,isBalanced:Math.abs(R-G)<.01}},b=R=>{R.preventDefault(),c(null);const G=n(),Y=a(),{totalDebit:le,totalCredit:de,isBalanced:me}=C();if(!G.description){c(e("forms.descriptionRequired","Description is required"));return}if(Y.length<2){c(e("journal.minTwoLinesRequired","At least 2 line items are required"));return}if(!me){c(e("journal.entryNotBalanced","Entry is not balanced. Debit: ${debit}, Credit: ${credit}").replace("${debit}",`$${le.toFixed(2)}`).replace("${credit}",`$${de.toFixed(2)}`));return}for(let Z=0;Z<Y.length;Z++){const X=Y[Z];if(!X.accountId){c(e("journal.lineAccountRequired","Line {lineNumber}: Account is required").replace("{lineNumber}",(Z+1).toString()));return}if(X.debitAmount===0&&X.creditAmount===0){c(e("journal.lineAmountRequired","Line {lineNumber}: Either debit or credit amount must be provided").replace("{lineNumber}",(Z+1).toString()));return}if((X.debitAmount||0)>0&&(X.creditAmount||0)>0){c(e("journal.lineBothAmounts","Line {lineNumber}: Cannot have both debit and credit amounts").replace("{lineNumber}",(Z+1).toString()));return}}const ne={entryNumber:G.entryNumber,date:G.date,description:G.description,reference:G.reference,status:"draft",createdBy:G.createdBy,createdAt:new Date().toISOString(),totalDebit:le,totalCredit:de,lines:Y.map((Z,X)=>{const{tempId:p,...oe}=Z;return{id:`jel_${Date.now()}_${X}`,...oe}})};try{t.editEntry?Qt.updateJournalEntry(t.editEntry.id,ne):Qt.addJournalEntry(ne),i({entryNumber:Qt.getNextEntryNumber(),date:new Date().toISOString().split("T")[0],description:"",reference:"",createdBy:"Current User"}),s([{tempId:`line_${Date.now()}_0`,accountId:"",accountName:"",description:"",debitAmount:0,creditAmount:0},{tempId:`line_${Date.now()}_1`,accountId:"",accountName:"",description:"",debitAmount:0,creditAmount:0}]),t.onClose()}catch(Z){c(Z instanceof Error?Z.message:e("forms.errorOccurred","An error occurred"))}},M=R=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(R),H=C();return u(It,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return z(()=>!!t.editEntry)()?e("journal.editEntry"):e("journal.addEntry","Add Journal Entry")},get children(){var R=iu(),G=R.firstChild,Y=G.nextSibling,le=Y.firstChild,de=le.firstChild,me=le.nextSibling,ne=me.firstChild,Z=ne.firstChild,X=Z.firstChild,p=Z.nextSibling,oe=p.firstChild,_=p.nextSibling,m=_.firstChild,D=_.nextSibling,v=D.firstChild,x=D.nextSibling,h=x.firstChild,w=me.nextSibling,ie=w.firstChild,P=ie.firstChild,A=P.firstChild,j=ie.nextSibling,q=j.firstChild,re=q.firstChild,W=j.nextSibling,F=Y.nextSibling;return R.addEventListener("submit",b),G.style.setProperty("display","grid"),G.style.setProperty("grid-template-columns","1fr 1fr"),G.style.setProperty("gap","1rem"),r(G,u(st,{get label(){return e("journal.entryNumber")},get value(){return n().entryNumber},onChange:ae=>L("entryNumber",ae),get disabled(){return!!t.editEntry},required:!0}),null),r(G,u(st,{get label(){return e("common.date")},type:"date",get value(){return n().date},onChange:ae=>L("date",ae),required:!0}),null),r(R,u(st,{get label(){return e("common.description")},get value(){return n().description},onChange:ae=>L("description",ae),get placeholder(){return e("journal.enterEntryDescription","Enter journal entry description")},required:!0}),Y),r(R,u(st,{get label(){return e("journal.reference")},get value(){return n().reference},onChange:ae=>L("reference",ae),get placeholder(){return e("journal.enterReferenceNumber","Enter reference number")}}),Y),Y.style.setProperty("margin-top","2rem"),le.style.setProperty("display","flex"),le.style.setProperty("justify-content","space-between"),le.style.setProperty("align-items","center"),le.style.setProperty("margin-bottom","1rem"),de.style.setProperty("margin","0"),r(de,()=>e("journal.entryLines","Journal Entry Lines")),r(le,u(Ae,{type:"button",variant:"secondary",size:"sm",onClick:$,get children(){return e("journal.addLine","Add Line")}}),null),me.style.setProperty("margin-bottom","1rem"),me.style.setProperty("font-size","0.875rem"),me.style.setProperty("color","var(--text-muted)"),ne.style.setProperty("display","grid"),ne.style.setProperty("grid-template-columns","2fr 2fr 1fr 1fr 1fr"),ne.style.setProperty("gap","1rem"),r(X,()=>e("journal.account")),r(oe,()=>e("common.description")),r(m,()=>e("journal.debit")),r(v,()=>e("journal.credit")),r(h,()=>e("common.actions")),r(Y,u(mt,{get each(){return a()},children:ae=>(()=>{var N=Lo();return o(N,y),r(N,u(Lt,{label:"",get value(){return ae.accountId||""},onChange:J=>E(ae.tempId,"accountId",J),get options(){return I()}}),null),r(N,u(st,{label:"",get value(){return ae.description||""},onChange:J=>E(ae.tempId,"description",J),get placeholder(){return e("journal.lineDescription","Line description")}}),null),r(N,u(st,{label:"",type:"number",get value(){return ae.debitAmount?.toString()||"0"},onChange:J=>{E(ae.tempId,"debitAmount",parseFloat(J)||0),parseFloat(J)>0&&E(ae.tempId,"creditAmount",0)},placeholder:"0.00"}),null),r(N,u(st,{label:"",type:"number",get value(){return ae.creditAmount?.toString()||"0"},onChange:J=>{E(ae.tempId,"creditAmount",parseFloat(J)||0),parseFloat(J)>0&&E(ae.tempId,"debitAmount",0)},placeholder:"0.00"}),null),r(N,u(Ae,{type:"button",variant:"outline",size:"sm",onClick:()=>S(ae.tempId),get disabled(){return a().length<=2},get children(){return e("common.remove","Remove")}}),null),N})()}),w),o(w,g),r(P,()=>e("journal.totalDebit","Total Debit"),A),r(P,()=>M(H.totalDebit),null),r(q,()=>e("journal.totalCredit","Total Credit"),re),r(q,()=>M(H.totalCredit),null),W.style.setProperty("font-weight","600"),r(W,(()=>{var ae=z(()=>!!H.isBalanced);return()=>ae()?`âœ“ ${e("journal.balanced")}`:`âš ï¸ ${e("journal.notBalanced","Not Balanced")}`})()),r(R,(()=>{var ae=z(()=>!!l());return()=>ae()&&(()=>{var N=Lo();return N.style.setProperty("padding","1rem"),N.style.setProperty("border-radius","var(--border-radius-sm)"),N.style.setProperty("margin-top","1rem"),N.style.setProperty("background","#f8d7da"),N.style.setProperty("color","#721c24"),N.style.setProperty("border","1px solid #f5c6cb"),r(N,l),N})()})(),F),o(F,d),r(F,u(Ae,{variant:"secondary",type:"button",get onClick(){return t.onClose},get children(){return e("common.cancel")}}),null),r(F,u(Ae,{variant:"primary",type:"submit",get disabled(){return!H.isBalanced},get children(){return z(()=>!!t.editEntry)()?e("journal.updateEntry","Update Entry"):e("journal.saveAsDraft","Save as Draft")}}),null),T(ae=>(ae=H.isBalanced?"#4caf50":"#f44336")!=null?W.style.setProperty("color",ae):W.style.removeProperty("color")),R}})};var au=k("<div><div>âš ï¸</div><div></div><div></div><div>"),lu=k("<div><div></div><div></div><div></div><div></div><div>"),su=k("<div><button></button><button> (<!>)</button><button> (<!>/<!>)"),Do=k("<div>"),cu=k("<div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><div><h4></h4><div></div></div><div>"),En=k("<div><span></span><span>"),Ln=k("<div><strong>:</strong> "),du=k("<div><div><div></div><div></div><div></div><div></div><div></div></div><div><div><strong>:</strong> </div><div><strong>:</strong> </div><div></div></div><div><div><strong>ðŸ”— Reconciliation Summary</strong></div><div><div><div><strong>Total Lines:</strong> </div><div><strong>Reconciled:</strong> </div><div><strong>Unreconciled:</strong> </div></div><div><div><strong>Bank Accounts:</strong> </div><div><strong>Bank Reconciled:</strong> "),uu=k("<div><div><div></div><div></div></div><div></div><div></div><div></div><div>"),yu=k("<div><span>âœ“ "),mu=k("<span>(<!>)"),vu=k("<div><strong>Bank Pending:</strong> "),gu=k("<div><div>Reconciled Lines:"),pu=k("<div><div>âš ï¸ Pending Bank Reconciliation:</div><div>Visit Bank Consolidations to reconcile these transactions"),fu=k("<div><div><div><span></span><h3></h3></div><div><div><div></div><div>Total Lines</div></div><div><div></div><div>Reconciled</div></div><div><div></div><div>Pending"),bu=k("<div><h4>âœ… Reconciled Lines (<!>)"),hu=k("<div><div><div></div><div></div></div><div></div><div></div><div></div><div><div>âœ“ Matched"),Su=k("<div>â†’ "),Pu=k("<div><h4>â³ Unreconciled Lines (<!>)"),$u=k("<div><div><div></div><div></div></div><div></div><div></div><div></div><div><div>â³ Pending"),xu=k("<div>Bank account"),Cu=k("<div><div>ðŸ’¡ Reconciliation Tip</div><div>This entry has unreconciled bank account transactions. Visit <strong>Bank Consolidations</strong> to match these with bank statements.");const _u=t=>{const{t:e}=Qe(),[n,i]=te("details"),[a,s]=te(!1),l=qe(()=>t.entryId?Qt.getJournalEntryById(t.entryId):null),c={"text-align":"center","margin-bottom":"2rem",position:"relative"},d={position:"absolute",top:"0",right:"0",display:"flex",gap:"0.5rem"},y={"font-size":"0.875rem","font-weight":"600",color:"var(--text-muted)","text-transform":"uppercase","margin-bottom":"0.5rem"},g={"font-size":"1.5rem","font-weight":"600",color:"var(--text-primary)",margin:"0.5rem 0"},I={"font-size":"2rem","font-weight":"700",color:"var(--primary-color)","margin-bottom":"0.5rem"},L={padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500","text-transform":"uppercase","letter-spacing":"0.5px","margin-bottom":"1rem",display:"inline-block"},E={display:"flex","justify-content":"space-between","align-items":"center",padding:"0.75rem 0","border-bottom":"1px solid var(--border-color)"},$={"font-weight":"500",color:"var(--text-muted)","font-size":"0.875rem"},S={"font-weight":"600",color:"var(--text-primary)"},C={display:"flex","border-bottom":"1px solid var(--border-color)","margin-bottom":"1.5rem"},b=p=>({padding:"0.75rem 1rem",background:"none",border:"none",cursor:"pointer","font-weight":"500",color:p?"var(--primary-color)":"var(--text-muted)","border-bottom":p?"2px solid var(--primary-color)":"2px solid transparent",transition:"all 0.2s ease"}),M={display:"grid","grid-template-columns":"2fr 2.5fr 1fr 1fr 1.5fr",gap:"1rem",padding:"1rem 0","border-bottom":"1px solid var(--border-color)","align-items":"center"},H={...M,"font-weight":"600","font-size":"0.875rem",color:"var(--text-muted)","border-bottom":"2px solid var(--border-color)"},R={display:"flex","justify-content":"space-between","align-items":"center",padding:"1rem",background:"var(--surface-color)","border-radius":"var(--border-radius-sm)","margin-top":"1rem"},G={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},Y=p=>({draft:{bg:"#fff3cd",color:"#856404"},posted:{bg:"#d4edda",color:"#155724"},void:{bg:"#f8d7da",color:"#721c24"}})[p],le=p=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(p),de=p=>new Date(p).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),me=p=>new Date(p).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),ne=()=>{entry.status==="posted"&&!confirm(e("journal.confirmEditPosted","This entry has been posted. Editing will create a new draft copy. Continue?"))||s(!0)},Z=()=>{if(l()&&confirm(e("journal.confirmPost","Are you sure you want to post this journal entry? This action cannot be undone.")))try{Qt.postJournalEntry(l().id)}catch(p){alert(p instanceof Error?p.message:e("forms.errorPostingEntry","An error occurred while posting the entry"))}},X=()=>{l()&&confirm(e("journal.confirmVoid","Are you sure you want to void this journal entry?"))&&Qt.voidJournalEntry(l().id)};return[u(It,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return e("journal.entryDetails","Journal Entry Details")},get children(){return z(()=>!l())()?(()=>{var p=au(),oe=p.firstChild,_=oe.nextSibling,m=_.nextSibling,D=m.nextSibling;return p.style.setProperty("text-align","center"),p.style.setProperty("padding","3rem"),p.style.setProperty("color","var(--text-muted)"),oe.style.setProperty("font-size","1.5rem"),oe.style.setProperty("margin-bottom","1rem"),_.style.setProperty("font-size","1.1rem"),_.style.setProperty("margin-bottom","0.5rem"),r(_,()=>e("journal.entryNotFound","Entry Not Found")),m.style.setProperty("font-size","0.875rem"),r(m,()=>e("journal.entryNotFoundMessage","The journal entry you're looking for could not be found or may have been deleted.")),D.style.setProperty("margin-top","2rem"),r(D,u(Ae,{variant:"primary",get onClick(){return t.onClose},get children(){return e("common.close")}})),p})():(()=>{const p=l(),oe=Y(p.status),_=Math.abs(p.totalDebit-p.totalCredit)<.01;return[(()=>{var m=lu(),D=m.firstChild,v=D.nextSibling,x=v.nextSibling,h=x.nextSibling,w=h.nextSibling;return o(m,c),r(D,u(Ae,{variant:"outline",size:"sm",onClick:ne,get title(){return e("journal.editEntryTooltip","Edit this journal entry")},get children(){return e("common.edit")}}),null),r(D,(()=>{var ie=z(()=>p.status==="draft");return()=>ie()&&u(Ae,{variant:"primary",size:"sm",onClick:Z,disabled:!_,get title(){return _?e("journal.postEntryTooltip","Post this journal entry"):e("journal.entryMustBeBalanced","Entry must be balanced to post")},get children(){return e("journal.post","Post")}})})(),null),r(D,(()=>{var ie=z(()=>p.status==="posted");return()=>ie()&&u(Ae,{variant:"outline",size:"sm",onClick:X,style:{color:"#dc3545","border-color":"#dc3545"},get title(){return e("journal.voidEntryTooltip","Void this journal entry")},get children(){return e("entryBooks.void","Void")}})})(),null),o(v,y),r(v,()=>p.entryNumber),o(x,g),r(x,()=>p.description),o(h,I),r(h,()=>le(p.totalDebit)),r(w,()=>p.status),T(ie=>{var P=d,A={...L,background:oe.bg,color:oe.color};return ie.e=o(D,P,ie.e),ie.t=o(w,A,ie.t),ie},{e:void 0,t:void 0}),m})(),(()=>{var m=su(),D=m.firstChild,v=D.nextSibling,x=v.firstChild,h=x.nextSibling;h.nextSibling;var w=v.nextSibling,ie=w.firstChild,P=ie.nextSibling,A=P.nextSibling,j=A.nextSibling;return j.nextSibling,o(m,C),D.$$click=()=>i("details"),r(D,()=>e("common.details")),v.$$click=()=>i("lines"),r(v,()=>e("journal.journalLines","Journal Lines"),x),r(v,()=>p.lines.length,h),w.$$click=()=>i("reconciliation"),r(w,()=>e("banking.reconciliation","Reconciliation"),ie),r(w,()=>p.lines.filter(q=>q.reconciled).length,P),r(w,()=>p.lines.length,j),T(q=>{var re=b(n()==="details"),W=b(n()==="lines"),F=b(n()==="reconciliation");return q.e=o(D,re,q.e),q.t=o(v,W,q.t),q.a=o(w,F,q.a),q},{e:void 0,t:void 0,a:void 0}),m})(),z(()=>z(()=>n()==="details")()&&(()=>{var m=cu(),D=m.firstChild,v=D.firstChild,x=v.nextSibling,h=D.nextSibling,w=h.firstChild,ie=w.nextSibling,P=h.nextSibling,A=P.firstChild,j=A.nextSibling,q=P.nextSibling,re=q.firstChild,W=re.nextSibling,F=q.nextSibling,ae=F.firstChild,N=ae.nextSibling,J=F.nextSibling,fe=J.firstChild,he=fe.nextSibling,ee=J.nextSibling,Q=ee.firstChild,se=Q.nextSibling,K=ee.nextSibling,O=K.firstChild,ge=O.firstChild,pe=ge.nextSibling,B=O.nextSibling;return r(v,()=>e("common.date")),r(x,()=>de(p.date)),r(w,()=>e("journal.reference")),r(ie,()=>p.reference||e("common.notAvailable","N/A")),r(A,()=>e("journal.totalDebit")),r(j,()=>le(p.totalDebit)),r(re,()=>e("journal.totalCredit")),r(W,()=>le(p.totalCredit)),r(ae,()=>e("journal.balanceStatus","Balance Status")),r(N,()=>_?`${e("journal.balanced")} âœ“`:`${e("journal.unbalanced","Unbalanced")} (${le(Math.abs(p.totalDebit-p.totalCredit))} ${e("journal.difference","difference")})`),r(fe,()=>e("journal.createdBy")),r(he,()=>p.createdBy),r(Q,()=>e("journal.createdAt","Created At")),r(se,()=>me(p.createdAt)),r(m,(()=>{var V=z(()=>!!p.postedAt);return()=>V()&&(()=>{var Pe=En(),ye=Pe.firstChild,ce=ye.nextSibling;return r(ye,()=>e("journal.postedAt","Posted At")),r(ce,()=>me(p.postedAt)),T(U=>{var f=E,ue=$,_e=S;return U.e=o(Pe,f,U.e),U.t=o(ye,ue,U.t),U.a=o(ce,_e,U.a),U},{e:void 0,t:void 0,a:void 0}),Pe})()})(),K),K.style.setProperty("margin-top","2rem"),K.style.setProperty("padding-top","1rem"),K.style.setProperty("border-top","2px solid var(--border-color)"),O.style.setProperty("display","flex"),O.style.setProperty("justify-content","space-between"),O.style.setProperty("align-items","center"),O.style.setProperty("margin-bottom","1rem"),ge.style.setProperty("margin","0"),ge.style.setProperty("font-size","1rem"),r(ge,()=>e("journal.quickActions","Quick Actions")),pe.style.setProperty("display","flex"),pe.style.setProperty("gap","0.5rem"),r(pe,u(Ae,{variant:"primary",size:"sm",onClick:ne,get children(){return["âœï¸ ",z(()=>e("journal.editEntry"))]}}),null),r(pe,(()=>{var V=z(()=>p.status==="draft");return()=>V()&&u(Ae,{variant:"outline",size:"sm",onClick:Z,disabled:!_,style:{"border-color":_?"#4caf50":"#f44336",color:_?"#4caf50":"#f44336"},get children(){return _?`âœ“ ${e("journal.postEntry","Post Entry")}`:`âš ï¸ ${e("journal.fixBalance","Fix Balance")}`}})})(),null),r(pe,(()=>{var V=z(()=>p.status==="posted");return()=>V()&&u(Ae,{variant:"outline",size:"sm",onClick:X,style:{color:"#dc3545","border-color":"#dc3545"},get children(){return["ðŸ—‘ï¸ ",z(()=>e("journal.voidEntry","Void Entry"))]}})})(),null),B.style.setProperty("padding","1rem"),B.style.setProperty("border-radius","var(--border-radius-sm)"),B.style.setProperty("font-size","0.875rem"),r(B,(()=>{var V=z(()=>p.status==="draft");return()=>V()&&(()=>{var Pe=Ln(),ye=Pe.firstChild,ce=ye.firstChild;return ye.nextSibling,r(ye,()=>e("journal.draftEntry","Draft Entry"),ce),r(Pe,()=>e("journal.draftEntryDescription","This entry can be edited and posted."),null),r(Pe,()=>!_&&` âš ï¸ ${e("journal.entryMustBeBalancedBeforePosting","Entry must be balanced before posting.")}`,null),Pe})()})(),null),r(B,(()=>{var V=z(()=>p.status==="posted");return()=>V()&&(()=>{var Pe=Ln(),ye=Pe.firstChild,ce=ye.firstChild;return ye.nextSibling,r(ye,()=>e("journal.postedEntry","Posted Entry"),ce),r(Pe,()=>e("journal.postedEntryDescription","This entry has been posted to the general ledger. Editing will create a new draft copy."),null),Pe})()})(),null),r(B,(()=>{var V=z(()=>p.status==="void");return()=>V()&&(()=>{var Pe=Ln(),ye=Pe.firstChild,ce=ye.firstChild;return ye.nextSibling,r(ye,()=>e("journal.voidEntry"),ce),r(Pe,()=>e("journal.voidEntryDescription","This entry has been voided and cannot be modified."),null),Pe})()})(),null),T(V=>{var Pe=E,ye=$,ce=S,U=E,f=$,ue=S,_e=E,$e=$,xe=S,we=E,Re=$,Ie=S,ve=E,ke=$,Ne={...S,color:_?"#4caf50":"#f44336"},Be=E,Me=$,Se=S,Fe=E,Oe=$,Je=S,be=p.status==="draft"?"#fff3cd":p.status==="posted"?"#d4edda":"#f8d7da";return V.e=o(D,Pe,V.e),V.t=o(v,ye,V.t),V.a=o(x,ce,V.a),V.o=o(h,U,V.o),V.i=o(w,f,V.i),V.n=o(ie,ue,V.n),V.s=o(P,_e,V.s),V.h=o(A,$e,V.h),V.r=o(j,xe,V.r),V.d=o(q,we,V.d),V.l=o(re,Re,V.l),V.u=o(W,Ie,V.u),V.c=o(F,ve,V.c),V.w=o(ae,ke,V.w),V.m=o(N,Ne,V.m),V.f=o(J,Be,V.f),V.y=o(fe,Me,V.y),V.g=o(he,Se,V.g),V.p=o(ee,Fe,V.p),V.b=o(Q,Oe,V.b),V.T=o(se,Je,V.T),be!==V.A&&((V.A=be)!=null?B.style.setProperty("background",be):B.style.removeProperty("background")),V},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0}),m})()),z(()=>z(()=>n()==="lines")()&&(()=>{var m=du(),D=m.firstChild,v=D.firstChild,x=v.nextSibling,h=x.nextSibling,w=h.nextSibling,ie=w.nextSibling,P=D.nextSibling,A=P.firstChild,j=A.firstChild,q=j.firstChild;j.nextSibling;var re=A.nextSibling,W=re.firstChild,F=W.firstChild;W.nextSibling;var ae=re.nextSibling,N=P.nextSibling,J=N.firstChild,fe=J.nextSibling,he=fe.firstChild,ee=he.firstChild,Q=ee.firstChild;Q.nextSibling;var se=ee.nextSibling,K=se.firstChild;K.nextSibling;var O=se.nextSibling,ge=O.firstChild;ge.nextSibling;var pe=he.nextSibling,B=pe.firstChild,V=B.firstChild;V.nextSibling;var Pe=B.nextSibling,ye=Pe.firstChild;return ye.nextSibling,r(v,()=>e("journal.account")),r(x,()=>e("common.description")),r(h,()=>e("journal.debit")),r(w,()=>e("journal.credit")),r(ie,()=>e("banking.reconciliation")),r(m,u(mt,{get each(){return p.lines},children:ce=>(()=>{var U=uu(),f=U.firstChild,ue=f.firstChild,_e=ue.nextSibling,$e=f.nextSibling,xe=$e.nextSibling,we=xe.nextSibling,Re=we.nextSibling;return ue.style.setProperty("font-weight","500"),r(ue,()=>ce.accountName),_e.style.setProperty("font-size","0.75rem"),_e.style.setProperty("color","var(--text-muted)"),r(_e,()=>nt.getAccountById(ce.accountId)?.accountNumber||ce.accountId),$e.style.setProperty("font-size","0.875rem"),r($e,()=>ce.description||"-"),xe.style.setProperty("font-weight","600"),r(xe,(()=>{var Ie=z(()=>ce.debitAmount>0);return()=>Ie()?le(ce.debitAmount):"-"})()),we.style.setProperty("font-weight","600"),r(we,(()=>{var Ie=z(()=>ce.creditAmount>0);return()=>Ie()?le(ce.creditAmount):"-"})()),r(Re,(()=>{var Ie=z(()=>!!ce.reconciled);return()=>Ie()?(()=>{var ve=yu(),ke=ve.firstChild;return ke.firstChild,ve.style.setProperty("display","flex"),ve.style.setProperty("align-items","center"),ve.style.setProperty("gap","0.5rem"),ve.style.setProperty("color","#4caf50"),ve.style.setProperty("font-size","0.875rem"),ke.style.setProperty("font-weight","600"),r(ke,()=>e("banking.reconciled"),null),r(ve,(()=>{var Ne=z(()=>!!ce.reconciledWith);return()=>Ne()&&(()=>{var Be=mu(),Me=Be.firstChild,Se=Me.nextSibling;return Se.nextSibling,Be.style.setProperty("font-size","0.75rem"),Be.style.setProperty("color","var(--text-muted)"),Be.style.setProperty("font-style","italic"),r(Be,()=>ce.reconciledWith,Se),Be})()})(),null),ve})():(()=>{var ve=Do();return ve.style.setProperty("color","var(--text-muted)"),ve.style.setProperty("font-size","0.875rem"),r(ve,()=>e("banking.notReconciled","Not Reconciled")),ve})()})()),T(Ie=>{var ve=M,ke=ce.debitAmount>0?"#4caf50":"var(--text-muted)",Ne=ce.creditAmount>0?"#f44336":"var(--text-muted)";return Ie.e=o(U,ve,Ie.e),ke!==Ie.t&&((Ie.t=ke)!=null?xe.style.setProperty("color",ke):xe.style.removeProperty("color")),Ne!==Ie.a&&((Ie.a=Ne)!=null?we.style.setProperty("color",Ne):we.style.removeProperty("color")),Ie},{e:void 0,t:void 0,a:void 0}),U})()}),P),o(P,R),r(j,()=>e("journal.totalDebit"),q),r(A,()=>le(p.totalDebit),null),r(W,()=>e("journal.totalCredit"),F),r(re,()=>le(p.totalCredit),null),(_?"#4caf50":"#f44336")!=null?ae.style.setProperty("color",_?"#4caf50":"#f44336"):ae.style.removeProperty("color"),ae.style.setProperty("font-weight","600"),r(ae,()=>_?`âœ“ ${e("journal.balanced")}`:`âš ï¸ ${e("journal.notBalanced","Not Balanced")}`),N.style.setProperty("margin-top","1rem"),N.style.setProperty("padding","1rem"),N.style.setProperty("border-radius","var(--border-radius-sm)"),N.style.setProperty("font-size","0.875rem"),J.style.setProperty("margin-bottom","0.5rem"),fe.style.setProperty("display","grid"),fe.style.setProperty("grid-template-columns","1fr 1fr"),fe.style.setProperty("gap","1rem"),ee.style.setProperty("margin-bottom","0.25rem"),r(ee,()=>p.lines.length,null),se.style.setProperty("margin-bottom","0.25rem"),se.style.setProperty("color","#4caf50"),r(se,()=>p.lines.filter(ce=>ce.reconciled).length,null),O.style.setProperty("color","#f44336"),r(O,()=>p.lines.filter(ce=>!ce.reconciled).length,null),B.style.setProperty("margin-bottom","0.25rem"),r(B,()=>p.lines.filter(ce=>["1001","1002","1003"].includes(ce.accountId)).length,null),Pe.style.setProperty("margin-bottom","0.25rem"),Pe.style.setProperty("color","#4caf50"),r(Pe,()=>p.lines.filter(ce=>["1001","1002","1003"].includes(ce.accountId)&&ce.reconciled).length,null),r(pe,(()=>{var ce=z(()=>p.lines.filter(U=>["1001","1002","1003"].includes(U.accountId)&&!U.reconciled).length>0);return()=>ce()&&(()=>{var U=vu(),f=U.firstChild;return f.nextSibling,U.style.setProperty("color","#f44336"),r(U,()=>p.lines.filter(ue=>["1001","1002","1003"].includes(ue.accountId)&&!ue.reconciled).length,null),U})()})(),null),r(N,(()=>{var ce=z(()=>p.lines.filter(U=>U.reconciled).length>0);return()=>ce()&&(()=>{var U=gu(),f=U.firstChild;return U.style.setProperty("margin-top","0.75rem"),U.style.setProperty("padding-top","0.75rem"),U.style.setProperty("border-top","1px solid var(--border-color)"),f.style.setProperty("margin-bottom","0.5rem"),f.style.setProperty("font-weight","500"),r(U,()=>p.lines.filter(ue=>ue.reconciled).map(ue=>(()=>{var _e=En(),$e=_e.firstChild,xe=$e.nextSibling;return _e.style.setProperty("display","flex"),_e.style.setProperty("justify-content","space-between"),_e.style.setProperty("margin-bottom","0.25rem"),_e.style.setProperty("font-size","0.8rem"),r($e,()=>ue.accountName),xe.style.setProperty("color","var(--text-muted)"),r(xe,()=>ue.reconciledWith?`â†’ ${ue.reconciledWith}`:"Manual"),_e})()),null),U})()})(),null),r(N,(()=>{var ce=z(()=>p.lines.filter(U=>!U.reconciled&&["1001","1002","1003"].includes(U.accountId)).length>0);return()=>ce()&&(()=>{var U=pu(),f=U.firstChild,ue=f.nextSibling;return U.style.setProperty("margin-top","0.75rem"),U.style.setProperty("padding-top","0.75rem"),U.style.setProperty("border-top","1px solid var(--border-color)"),f.style.setProperty("margin-bottom","0.5rem"),f.style.setProperty("font-weight","500"),f.style.setProperty("color","#f44336"),r(U,()=>p.lines.filter(_e=>!_e.reconciled&&["1001","1002","1003"].includes(_e.accountId)).map(_e=>(()=>{var $e=En(),xe=$e.firstChild,we=xe.nextSibling;return $e.style.setProperty("display","flex"),$e.style.setProperty("justify-content","space-between"),$e.style.setProperty("margin-bottom","0.25rem"),$e.style.setProperty("font-size","0.8rem"),$e.style.setProperty("color","#f44336"),r(xe,()=>_e.accountName),r(we,()=>le(_e.debitAmount||_e.creditAmount)),$e})()),ue),ue.style.setProperty("margin-top","0.5rem"),ue.style.setProperty("font-size","0.75rem"),ue.style.setProperty("color","var(--text-muted)"),ue.style.setProperty("font-style","italic"),U})()})(),null),T(ce=>{var U=H,f=p.lines.some(ue=>ue.reconciled)?"#e8f5e8":"#fff3cd";return ce.e=o(D,U,ce.e),f!==ce.t&&((ce.t=f)!=null?N.style.setProperty("background",f):N.style.removeProperty("background")),ce},{e:void 0,t:void 0}),m})()),z(()=>z(()=>n()==="reconciliation")()&&(()=>{var m=fu(),D=m.firstChild,v=D.firstChild,x=v.firstChild,h=x.nextSibling,w=v.nextSibling,ie=w.firstChild,P=ie.firstChild,A=P.nextSibling,j=ie.nextSibling,q=j.firstChild,re=q.nextSibling,W=j.nextSibling,F=W.firstChild,ae=F.nextSibling;return D.style.setProperty("margin-bottom","1.5rem"),D.style.setProperty("padding","1rem"),D.style.setProperty("border-radius","var(--border-radius)"),D.style.setProperty("border","1px solid var(--border-color)"),v.style.setProperty("display","flex"),v.style.setProperty("align-items","center"),v.style.setProperty("gap","0.5rem"),v.style.setProperty("margin-bottom","1rem"),x.style.setProperty("font-size","1.5rem"),r(x,(()=>{var N=z(()=>!!p.lines.every(J=>J.reconciled));return()=>N()?"âœ…":p.lines.some(J=>J.reconciled)?"ðŸ”„":"â³"})()),h.style.setProperty("margin","0"),h.style.setProperty("font-size","1.2rem"),r(h,(()=>{var N=z(()=>!!p.lines.every(J=>J.reconciled));return()=>N()?"Fully Reconciled":p.lines.some(J=>J.reconciled)?"Partially Reconciled":"Unreconciled"})()),w.style.setProperty("display","grid"),w.style.setProperty("grid-template-columns","1fr 1fr 1fr"),w.style.setProperty("gap","1rem"),ie.style.setProperty("text-align","center"),P.style.setProperty("font-size","2rem"),P.style.setProperty("font-weight","700"),P.style.setProperty("color","var(--primary-color)"),r(P,()=>p.lines.length),A.style.setProperty("font-size","0.875rem"),A.style.setProperty("color","var(--text-muted)"),j.style.setProperty("text-align","center"),q.style.setProperty("font-size","2rem"),q.style.setProperty("font-weight","700"),q.style.setProperty("color","#4caf50"),r(q,()=>p.lines.filter(N=>N.reconciled).length),re.style.setProperty("font-size","0.875rem"),re.style.setProperty("color","var(--text-muted)"),W.style.setProperty("text-align","center"),F.style.setProperty("font-size","2rem"),F.style.setProperty("font-weight","700"),F.style.setProperty("color","#f44336"),r(F,()=>p.lines.filter(N=>!N.reconciled).length),ae.style.setProperty("font-size","0.875rem"),ae.style.setProperty("color","var(--text-muted)"),r(m,(()=>{var N=z(()=>p.lines.filter(J=>J.reconciled).length>0);return()=>N()&&(()=>{var J=bu(),fe=J.firstChild,he=fe.firstChild,ee=he.nextSibling;return ee.nextSibling,J.style.setProperty("margin-bottom","1.5rem"),fe.style.setProperty("margin","0 0 1rem 0"),fe.style.setProperty("font-size","1.1rem"),fe.style.setProperty("color","#4caf50"),fe.style.setProperty("display","flex"),fe.style.setProperty("align-items","center"),fe.style.setProperty("gap","0.5rem"),r(fe,()=>p.lines.filter(Q=>Q.reconciled).length,ee),r(J,()=>p.lines.filter(Q=>Q.reconciled).map(Q=>(()=>{var se=hu(),K=se.firstChild,O=K.firstChild,ge=O.nextSibling,pe=K.nextSibling,B=pe.nextSibling,V=B.nextSibling,Pe=V.nextSibling,ye=Pe.firstChild;return se.style.setProperty("display","grid"),se.style.setProperty("grid-template-columns","2fr 2fr 1fr 1fr 1.5fr"),se.style.setProperty("gap","1rem"),se.style.setProperty("padding","0.75rem"),se.style.setProperty("margin-bottom","0.5rem"),se.style.setProperty("background","#f0f9f0"),se.style.setProperty("border-radius","var(--border-radius-sm)"),se.style.setProperty("align-items","center"),se.style.setProperty("font-size","0.875rem"),O.style.setProperty("font-weight","500"),r(O,()=>Q.accountName),ge.style.setProperty("font-size","0.75rem"),ge.style.setProperty("color","var(--text-muted)"),r(ge,()=>nt.getAccountById(Q.accountId)?.accountNumber),pe.style.setProperty("color","var(--text-muted)"),r(pe,()=>Q.description||"No description"),B.style.setProperty("font-weight","600"),r(B,(()=>{var ce=z(()=>Q.debitAmount>0);return()=>ce()?le(Q.debitAmount):"-"})()),V.style.setProperty("font-weight","600"),r(V,(()=>{var ce=z(()=>Q.creditAmount>0);return()=>ce()?le(Q.creditAmount):"-"})()),Pe.style.setProperty("color","#4caf50"),ye.style.setProperty("font-weight","500"),r(Pe,(()=>{var ce=z(()=>!!Q.reconciledWith);return()=>ce()&&(()=>{var U=Su();return U.firstChild,U.style.setProperty("font-size","0.75rem"),U.style.setProperty("font-style","italic"),r(U,()=>Q.reconciledWith,null),U})()})(),null),T(ce=>{var U=Q.debitAmount>0?"#4caf50":"var(--text-muted)",f=Q.creditAmount>0?"#f44336":"var(--text-muted)";return U!==ce.e&&((ce.e=U)!=null?B.style.setProperty("color",U):B.style.removeProperty("color")),f!==ce.t&&((ce.t=f)!=null?V.style.setProperty("color",f):V.style.removeProperty("color")),ce},{e:void 0,t:void 0}),se})()),null),J})()})(),null),r(m,(()=>{var N=z(()=>p.lines.filter(J=>!J.reconciled).length>0);return()=>N()&&(()=>{var J=Pu(),fe=J.firstChild,he=fe.firstChild,ee=he.nextSibling;return ee.nextSibling,J.style.setProperty("margin-bottom","1.5rem"),fe.style.setProperty("margin","0 0 1rem 0"),fe.style.setProperty("font-size","1.1rem"),fe.style.setProperty("color","#f44336"),fe.style.setProperty("display","flex"),fe.style.setProperty("align-items","center"),fe.style.setProperty("gap","0.5rem"),r(fe,()=>p.lines.filter(Q=>!Q.reconciled).length,ee),r(J,()=>p.lines.filter(Q=>!Q.reconciled).map(Q=>(()=>{var se=$u(),K=se.firstChild,O=K.firstChild,ge=O.nextSibling,pe=K.nextSibling,B=pe.nextSibling,V=B.nextSibling,Pe=V.nextSibling,ye=Pe.firstChild;return se.style.setProperty("display","grid"),se.style.setProperty("grid-template-columns","2fr 2fr 1fr 1fr 1.5fr"),se.style.setProperty("gap","1rem"),se.style.setProperty("padding","0.75rem"),se.style.setProperty("margin-bottom","0.5rem"),se.style.setProperty("background","#fff9f0"),se.style.setProperty("border-radius","var(--border-radius-sm)"),se.style.setProperty("align-items","center"),se.style.setProperty("font-size","0.875rem"),se.style.setProperty("border","1px solid #ffe0b3"),O.style.setProperty("font-weight","500"),r(O,()=>Q.accountName),ge.style.setProperty("font-size","0.75rem"),ge.style.setProperty("color","var(--text-muted)"),r(ge,()=>nt.getAccountById(Q.accountId)?.accountNumber),pe.style.setProperty("color","var(--text-muted)"),r(pe,()=>Q.description||"No description"),B.style.setProperty("font-weight","600"),r(B,(()=>{var ce=z(()=>Q.debitAmount>0);return()=>ce()?le(Q.debitAmount):"-"})()),V.style.setProperty("font-weight","600"),r(V,(()=>{var ce=z(()=>Q.creditAmount>0);return()=>ce()?le(Q.creditAmount):"-"})()),Pe.style.setProperty("color","#f44336"),ye.style.setProperty("font-weight","500"),r(Pe,(()=>{var ce=z(()=>!!["1001","1002","1003"].includes(Q.accountId));return()=>ce()&&(()=>{var U=xu();return U.style.setProperty("font-size","0.75rem"),U.style.setProperty("font-style","italic"),U})()})(),null),T(ce=>{var U=Q.debitAmount>0?"#4caf50":"var(--text-muted)",f=Q.creditAmount>0?"#f44336":"var(--text-muted)";return U!==ce.e&&((ce.e=U)!=null?B.style.setProperty("color",U):B.style.removeProperty("color")),f!==ce.t&&((ce.t=f)!=null?V.style.setProperty("color",f):V.style.removeProperty("color")),ce},{e:void 0,t:void 0}),se})()),null),r(J,(()=>{var Q=z(()=>p.lines.filter(se=>!se.reconciled&&["1001","1002","1003"].includes(se.accountId)).length>0);return()=>Q()&&(()=>{var se=Cu(),K=se.firstChild,O=K.nextSibling;return se.style.setProperty("padding","0.75rem"),se.style.setProperty("background","#ffebee"),se.style.setProperty("border-radius","var(--border-radius-sm)"),se.style.setProperty("margin-top","1rem"),se.style.setProperty("border","1px solid #ffcdd2"),K.style.setProperty("font-weight","500"),K.style.setProperty("margin-bottom","0.5rem"),K.style.setProperty("color","#f44336"),O.style.setProperty("font-size","0.875rem"),O.style.setProperty("color","var(--text-muted)"),se})()})(),null),J})()})(),null),T(N=>(N=p.lines.every(J=>J.reconciled)?"#e8f5e8":p.lines.some(J=>J.reconciled)?"#fff3cd":"#ffebee")!=null?D.style.setProperty("background",N):D.style.removeProperty("background")),m})()),(()=>{var m=Do();return o(m,G),r(m,u(Ae,{variant:"secondary",get onClick(){return t.onClose},get children(){return e("common.close")}}),null),r(m,u(Ae,{variant:"primary",onClick:ne,get children(){return e("journal.editEntry")}}),null),r(m,(()=>{var D=z(()=>p.status==="draft");return()=>D()&&u(Ae,{variant:"outline",onClick:Z,disabled:!_,style:{"border-color":"#4caf50",color:_?"#4caf50":"var(--text-muted)"},get children(){return _?e("journal.postEntry","Post Entry"):e("journal.entryNotBalanced","Entry Not Balanced")}})})(),null),r(m,(()=>{var D=z(()=>p.status==="posted");return()=>D()&&u(Ae,{variant:"outline",onClick:X,style:{color:"#dc3545","border-color":"#dc3545"},get children(){return e("journal.voidEntry","Void Entry")}})})(),null),m})()]})()}}),z(()=>z(()=>!!l())()&&u(ei,{get isOpen(){return a()},onClose:()=>{s(!1)},get editEntry(){return l()}}))]};vt(["click"]);var wu=k("<div><div><h2></h2><p></p></div><div>"),Jt=k("<div>"),ku=k("<div> <!> â€¢ <!> "),Au=k("<div><div><label></label></div><div><label></label></div><div><label></label></div><div><label></label><input type=date></div><div><label></label><input type=date></div><div><label></label></div><div>"),Iu=k("<div><span>:</span><span> "),tn=k("<span>: "),Eu=k("<div><br>");const Lu=()=>{const{t}=Qe(),[e,n]=te(!1),[i,a]=te(null),[s,l]=te(!1),[c,d]=te(null),[y,g]=te("all"),[I,L]=te("all"),[E,$]=te(""),[S,C]=te(""),[b,M]=te("date"),[H,R]=te("desc"),G={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"2rem"},Y={display:"flex",gap:"1rem","align-items":"center","margin-bottom":"2rem",padding:"1.5rem",background:"var(--surface-color)","border-radius":"var(--border-radius)",border:"1px solid var(--border-color)","flex-wrap":"wrap"},le={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem","margin-bottom":"2rem"},de={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(400px, 1fr))",gap:"1.5rem"},me=()=>[{value:"all",label:t("journal.allEntries","All Entries")},{value:"draft",label:t("journal.draft")},{value:"posted",label:t("journal.posted")},{value:"void",label:t("entryBooks.void","Void")}],ne=()=>[{value:"all",label:t("accounts.allAccounts","All Accounts")},...nt.accounts.map(h=>({value:h.id,label:`${h.accountNumber} - ${h.name}`}))],Z=()=>[{value:"date",label:t("common.date")},{value:"entryNumber",label:t("journal.entryNumber")},{value:"amount",label:t("common.amount")}],X=()=>{let h=Qt.journalEntries;return y()!=="all"&&(h=h.filter(w=>w.status===y())),I()!=="all"&&(h=h.filter(w=>w.lines.some(ie=>ie.accountId===I()))),E()&&(h=h.filter(w=>w.date>=E())),S()&&(h=h.filter(w=>w.date<=S())),h=[...h].sort((w,ie)=>{let P=0;switch(b()){case"date":P=new Date(w.date).getTime()-new Date(ie.date).getTime();break;case"entryNumber":P=w.entryNumber.localeCompare(ie.entryNumber);break;case"amount":P=w.totalDebit-ie.totalDebit;break}return H()==="asc"?P:-P}),h},p=()=>{const h=Qt.journalEntries,w=h.filter(re=>re.status==="draft"),ie=h.filter(re=>re.status==="posted"),P=h.filter(re=>re.status==="void"),A=ie.reduce((re,W)=>re+W.totalDebit,0),j=ie.reduce((re,W)=>re+W.totalCredit,0),q=h.filter(re=>re.lines.some(W=>["1001","1002","1003"].includes(W.accountId)&&!W.reconciled)).length;return{totalEntries:h.length,draftEntries:w.length,postedEntries:ie.length,voidEntries:P.length,totalDebit:A,totalCredit:j,unreconciledEntries:q}},oe=h=>{d(h.id),l(!0)},_=()=>{a(null),n(!0)},m=()=>{n(!1),a(null)},D=h=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(h),v=p(),x=X();return u(Yt,{get title(){return t("entryBooks.title")},get children(){return[(()=>{var h=wu(),w=h.firstChild,ie=w.firstChild,P=ie.nextSibling,A=w.nextSibling;return o(h,G),ie.style.setProperty("margin","0 0 0.5rem 0"),ie.style.setProperty("font-size","1.5rem"),r(ie,()=>t("journal.title")),P.style.setProperty("margin","0"),P.style.setProperty("color","var(--text-muted)"),r(P,()=>t("entryBooks.subtitle","Manage accounting entries and general ledger records")),A.style.setProperty("display","flex"),A.style.setProperty("gap","1rem"),r(A,u(Ae,{variant:"secondary",onClick:()=>window.location.href="/bank-consolidations",get children(){return t("entryBooks.viewReconciliation","View Reconciliation")}}),null),r(A,u(Ae,{variant:"primary",onClick:_,get children(){return t("journal.addEntry","Add Journal Entry")}}),null),h})(),(()=>{var h=Jt();return o(h,le),r(h,u(je,{get title(){return t("entryBooks.totalEntries","Total Entries")},get subtitle(){return t("entryBooks.allJournalEntries","All journal entries")},get children(){return[(()=>{var w=Jt();return w.style.setProperty("font-size","1.5rem"),w.style.setProperty("font-weight","600"),w.style.setProperty("color","var(--primary-color)"),w.style.setProperty("margin-bottom","0.5rem"),r(w,()=>v.totalEntries),w})(),(()=>{var w=ku(),ie=w.firstChild,P=ie.nextSibling,A=P.nextSibling,j=A.nextSibling;return j.nextSibling,w.style.setProperty("font-size","0.875rem"),w.style.setProperty("color","var(--text-muted)"),r(w,()=>v.postedEntries,ie),r(w,()=>t("journal.posted").toLowerCase(),P),r(w,()=>v.draftEntries,j),r(w,()=>t("journal.draft").toLowerCase(),null),r(w,(()=>{var q=z(()=>v.voidEntries>0);return()=>q()&&` â€¢ ${v.voidEntries} ${t("entryBooks.void","void").toLowerCase()}`})(),null),w})()]}}),null),r(h,u(je,{get title(){return t("journal.totalDebits")},get subtitle(){return t("entryBooks.postedEntriesOnly","Posted entries only")},get children(){return[(()=>{var w=Jt();return w.style.setProperty("font-size","1.5rem"),w.style.setProperty("font-weight","600"),w.style.setProperty("color","#4caf50"),w.style.setProperty("margin-bottom","0.5rem"),r(w,()=>D(v.totalDebit)),w})(),(()=>{var w=Jt();return w.style.setProperty("font-size","0.875rem"),w.style.setProperty("color","var(--text-muted)"),r(w,()=>t("entryBooks.fromPostedEntries","From {count} posted entries").replace("{count}",v.postedEntries.toString())),w})()]}}),null),r(h,u(je,{get title(){return t("journal.totalCredits")},get subtitle(){return t("entryBooks.postedEntriesOnly","Posted entries only")},get children(){return[(()=>{var w=Jt();return w.style.setProperty("font-size","1.5rem"),w.style.setProperty("font-weight","600"),w.style.setProperty("color","#f44336"),w.style.setProperty("margin-bottom","0.5rem"),r(w,()=>D(v.totalCredit)),w})(),(()=>{var w=Jt();return w.style.setProperty("font-size","0.875rem"),w.style.setProperty("color","var(--text-muted)"),r(w,()=>t("entryBooks.fromPostedEntries","From {count} posted entries").replace("{count}",v.postedEntries.toString())),w})()]}}),null),r(h,u(je,{get title(){return t("banking.unreconciled","Unreconciled")},get subtitle(){return t("banking.title")},get children(){return[(()=>{var w=Jt();return w.style.setProperty("font-size","1.5rem"),w.style.setProperty("font-weight","600"),w.style.setProperty("margin-bottom","0.5rem"),r(w,()=>v.unreconciledEntries),T(ie=>(ie=v.unreconciledEntries>0?"#ff9800":"#4caf50")!=null?w.style.setProperty("color",ie):w.style.removeProperty("color")),w})(),(()=>{var w=Jt();return w.style.setProperty("font-size","0.875rem"),w.style.setProperty("color","var(--text-muted)"),r(w,(()=>{var ie=z(()=>v.unreconciledEntries>0);return()=>ie()?t("entryBooks.needBankReconciliation","Need bank reconciliation"):t("entryBooks.allReconciled","All reconciled")})()),w})()]}}),null),h})(),(()=>{var h=Au(),w=h.firstChild,ie=w.firstChild,P=w.nextSibling,A=P.firstChild,j=P.nextSibling,q=j.firstChild,re=j.nextSibling,W=re.firstChild,F=W.nextSibling,ae=re.nextSibling,N=ae.firstChild,J=N.nextSibling,fe=ae.nextSibling,he=fe.firstChild,ee=fe.nextSibling;return o(h,Y),w.style.setProperty("min-width","150px"),ie.style.setProperty("display","block"),ie.style.setProperty("margin-bottom","0.5rem"),ie.style.setProperty("font-weight","500"),ie.style.setProperty("font-size","0.875rem"),r(ie,()=>t("common.status")),r(w,u(Lt,{label:"",get value(){return y()},onChange:g,get options(){return me()}}),null),P.style.setProperty("min-width","200px"),A.style.setProperty("display","block"),A.style.setProperty("margin-bottom","0.5rem"),A.style.setProperty("font-weight","500"),A.style.setProperty("font-size","0.875rem"),r(A,()=>t("journal.account")),r(P,u(Lt,{label:"",get value(){return I()},onChange:L,get options(){return ne()}}),null),j.style.setProperty("min-width","120px"),q.style.setProperty("display","block"),q.style.setProperty("margin-bottom","0.5rem"),q.style.setProperty("font-weight","500"),q.style.setProperty("font-size","0.875rem"),r(q,()=>t("entryBooks.sortBy","Sort By")),r(j,u(Lt,{label:"",get value(){return b()},onChange:M,get options(){return Z()}}),null),re.style.setProperty("min-width","130px"),W.style.setProperty("display","block"),W.style.setProperty("margin-bottom","0.5rem"),W.style.setProperty("font-weight","500"),W.style.setProperty("font-size","0.875rem"),r(W,()=>t("entryBooks.fromDate","From Date")),F.addEventListener("change",Q=>$(Q.target.value)),F.style.setProperty("padding","0.75rem"),F.style.setProperty("border","1px solid var(--border-color)"),F.style.setProperty("border-radius","var(--border-radius-sm)"),F.style.setProperty("font-family","inherit"),F.style.setProperty("width","100%"),ae.style.setProperty("min-width","130px"),N.style.setProperty("display","block"),N.style.setProperty("margin-bottom","0.5rem"),N.style.setProperty("font-weight","500"),N.style.setProperty("font-size","0.875rem"),r(N,()=>t("entryBooks.toDate","To Date")),J.addEventListener("change",Q=>C(Q.target.value)),J.style.setProperty("padding","0.75rem"),J.style.setProperty("border","1px solid var(--border-color)"),J.style.setProperty("border-radius","var(--border-radius-sm)"),J.style.setProperty("font-family","inherit"),J.style.setProperty("width","100%"),fe.style.setProperty("min-width","100px"),he.style.setProperty("display","block"),he.style.setProperty("margin-bottom","0.5rem"),he.style.setProperty("font-weight","500"),he.style.setProperty("font-size","0.875rem"),r(he,()=>t("entryBooks.order","Order")),r(fe,u(Lt,{label:"",get value(){return H()},onChange:R,get options(){return[{value:"desc",label:t("entryBooks.newest","Newest")},{value:"asc",label:t("entryBooks.oldest","Oldest")}]}}),null),ee.style.setProperty("display","flex"),ee.style.setProperty("align-items","end"),ee.style.setProperty("gap","0.5rem"),r(ee,u(Ae,{variant:"outline",size:"sm",onClick:()=>{g("all"),L("all"),$(""),C(""),M("date"),R("desc")},get children(){return t("entryBooks.resetFilters","Reset Filters")}})),T(()=>F.value=E()),T(()=>J.value=S()),h})(),z(()=>z(()=>!!(y()!=="all"||I()!=="all"||E()||S()))()&&(()=>{var h=Iu(),w=h.firstChild,ie=w.firstChild,P=w.nextSibling,A=P.firstChild;return h.style.setProperty("display","flex"),h.style.setProperty("gap","0.5rem"),h.style.setProperty("align-items","center"),h.style.setProperty("margin-bottom","1rem"),h.style.setProperty("padding","0.75rem"),h.style.setProperty("background","var(--surface-color)"),h.style.setProperty("border-radius","var(--border-radius-sm)"),h.style.setProperty("border","1px solid var(--border-color)"),w.style.setProperty("font-size","0.875rem"),w.style.setProperty("font-weight","500"),r(w,()=>t("entryBooks.activeFilters","Active filters"),ie),r(h,(()=>{var j=z(()=>y()!=="all");return()=>j()&&(()=>{var q=tn(),re=q.firstChild;return q.style.setProperty("padding","0.25rem 0.5rem"),q.style.setProperty("background","var(--primary-color)"),q.style.setProperty("color","white"),q.style.setProperty("border-radius","12px"),q.style.setProperty("font-size","0.75rem"),r(q,()=>t("common.status"),re),r(q,y,null),q})()})(),P),r(h,(()=>{var j=z(()=>I()!=="all");return()=>j()&&(()=>{var q=tn(),re=q.firstChild;return q.style.setProperty("padding","0.25rem 0.5rem"),q.style.setProperty("background","var(--primary-color)"),q.style.setProperty("color","white"),q.style.setProperty("border-radius","12px"),q.style.setProperty("font-size","0.75rem"),r(q,()=>t("journal.account"),re),r(q,()=>nt.getAccountById(I())?.name||t("common.unknown","Unknown"),null),q})()})(),P),r(h,(()=>{var j=z(()=>!!E());return()=>j()&&(()=>{var q=tn(),re=q.firstChild;return q.style.setProperty("padding","0.25rem 0.5rem"),q.style.setProperty("background","var(--primary-color)"),q.style.setProperty("color","white"),q.style.setProperty("border-radius","12px"),q.style.setProperty("font-size","0.75rem"),r(q,()=>t("entryBooks.from","From"),re),r(q,E,null),q})()})(),P),r(h,(()=>{var j=z(()=>!!S());return()=>j()&&(()=>{var q=tn(),re=q.firstChild;return q.style.setProperty("padding","0.25rem 0.5rem"),q.style.setProperty("background","var(--primary-color)"),q.style.setProperty("color","white"),q.style.setProperty("border-radius","12px"),q.style.setProperty("font-size","0.75rem"),r(q,()=>t("entryBooks.to","To"),re),r(q,S,null),q})()})(),P),P.style.setProperty("margin-left","auto"),P.style.setProperty("font-size","0.875rem"),P.style.setProperty("color","var(--text-muted)"),r(P,()=>x.length,A),r(P,()=>t("entryBooks.entriesFound","{count} entries found").replace("{count}",x.length.toString()),null),h})()),z(()=>z(()=>x.length===0)()?u(je,{get title(){return t("entryBooks.noJournalEntries","No Journal Entries")},get subtitle(){return t("entryBooks.startByCreating","Start by creating your first entry")},get children(){var h=Eu(),w=h.firstChild;return h.style.setProperty("text-align","center"),h.style.setProperty("color","var(--text-muted)"),h.style.setProperty("padding","2rem"),r(h,()=>t("entryBooks.noEntriesMatch","No journal entries match your current filters."),w),r(h,u(Ae,{variant:"primary",style:{"margin-top":"1rem"},onClick:_,get children(){return t("entryBooks.createFirstEntry","Create First Entry")}}),null),h}}):(()=>{var h=Jt();return o(h,de),r(h,u(mt,{each:x,children:w=>u(nu,{entry:w,onViewDetails:oe})})),h})()),u(ei,{get isOpen(){return e()},onClose:m,get editEntry(){return i()}}),u(_u,{get isOpen(){return s()},onClose:()=>{l(!1),d(null)},get entryId(){return c()}})]}})};var No=k("<div>"),Du=k("<div>$23,450"),Nu=k("<div>$87,230"),Tu=k("<div>$5,670"),Bu=k("<div><div><div><div>INV-2024-001</div><div>Acme Corporation</div></div><div>$5,250.00</div><div></div></div><div><div><div>INV-2024-002</div><div>Tech Solutions Inc.</div></div><div>$3,750.00</div><div></div></div><div><div><div>INV-2024-003</div><div>Global Services Ltd.</div></div><div>$8,900.00</div><div></div></div><div><div><div>INV-2024-004</div><div>StartUp Co.</div></div><div>$2,100.00</div><div>");const Mu=()=>{const{t}=Qe(),e={display:"flex","flex-direction":"column",gap:"1rem"},n={display:"flex","justify-content":"space-between","align-items":"center",padding:"1rem",background:"var(--surface-color)","border-radius":"var(--border-radius)",border:"1px solid var(--border-color)"},i={flex:"1"},a={"font-weight":"600","margin-bottom":"0.25rem"},s={color:"var(--text-muted)","font-size":"0.875rem"},l={"font-size":"1.25rem","font-weight":"600",color:"var(--primary-color)"},c=y=>({padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500","text-transform":"uppercase","letter-spacing":"0.5px",background:y==="paid"?"#d4edda":y==="pending"?"#fff3cd":"#f8d7da",color:y==="paid"?"#155724":y==="pending"?"#856404":"#721c24"}),d={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"};return u(Yt,{get title(){return t("invoices.title","Invoices")},get children(){return[(()=>{var y=No();return y.style.setProperty("margin-bottom","2rem"),r(y,u(Ae,{variant:"primary",get children(){return t("invoices.createNew","Create New Invoice")}})),y})(),(()=>{var y=No();return o(y,d),r(y,u(je,{get title(){return t("invoices.totalOutstanding","Total Outstanding")},get subtitle(){return t("invoices.unpaidInvoices","Unpaid invoices")},get children(){var g=Du();return g.style.setProperty("font-size","1.5rem"),g.style.setProperty("font-weight","600"),g.style.setProperty("color","var(--primary-color)"),g}}),null),r(y,u(je,{get title(){return t("invoices.thisMonth","This Month")},get subtitle(){return t("invoices.revenueCollected","Revenue collected")},get children(){var g=Nu();return g.style.setProperty("font-size","1.5rem"),g.style.setProperty("font-weight","600"),g.style.setProperty("color","var(--primary-color)"),g}}),null),r(y,u(je,{get title(){return t("invoices.overdue","Overdue")},get subtitle(){return t("invoices.pastDueInvoices","Past due invoices")},get children(){var g=Tu();return g.style.setProperty("font-size","1.5rem"),g.style.setProperty("font-weight","600"),g.style.setProperty("color","var(--primary-color)"),g}}),null),y})(),u(je,{get title(){return t("invoices.recentInvoices","Recent Invoices")},get subtitle(){return t("invoices.latestBillingActivity","Latest billing activity")},get children(){var y=Bu(),g=y.firstChild,I=g.firstChild,L=I.firstChild,E=L.nextSibling,$=I.nextSibling,S=$.nextSibling,C=g.nextSibling,b=C.firstChild,M=b.firstChild,H=M.nextSibling,R=b.nextSibling,G=R.nextSibling,Y=C.nextSibling,le=Y.firstChild,de=le.firstChild,me=de.nextSibling,ne=le.nextSibling,Z=ne.nextSibling,X=Y.nextSibling,p=X.firstChild,oe=p.firstChild,_=oe.nextSibling,m=p.nextSibling,D=m.nextSibling;return o(y,e),r(S,()=>t("invoices.paid","Paid")),r(G,()=>t("invoices.pending","Pending")),r(Z,()=>t("invoices.overdue","Overdue")),r(D,()=>t("invoices.paid","Paid")),T(v=>{var x=n,h=i,w=a,ie=s,P=l,A=c("paid"),j=n,q=i,re=a,W=s,F=l,ae=c("pending"),N=n,J=i,fe=a,he=s,ee=l,Q=c("overdue"),se=n,K=i,O=a,ge=s,pe=l,B=c("paid");return v.e=o(g,x,v.e),v.t=o(I,h,v.t),v.a=o(L,w,v.a),v.o=o(E,ie,v.o),v.i=o($,P,v.i),v.n=o(S,A,v.n),v.s=o(C,j,v.s),v.h=o(b,q,v.h),v.r=o(M,re,v.r),v.d=o(H,W,v.d),v.l=o(R,F,v.l),v.u=o(G,ae,v.u),v.c=o(Y,N,v.c),v.w=o(le,J,v.w),v.m=o(de,fe,v.m),v.f=o(me,he,v.f),v.y=o(ne,ee,v.y),v.g=o(Z,Q,v.g),v.p=o(X,se,v.p),v.b=o(p,K,v.b),v.T=o(oe,O,v.T),v.A=o(_,ge,v.A),v.O=o(m,pe,v.O),v.I=o(D,B,v.I),v},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0,O:void 0,I:void 0}),y}})]}})};var Ru=k("<div><main>");const Ou=t=>[u(Ra,{}),z(()=>t.children)],ju=()=>(()=>{var t=Ru(),e=t.firstChild;return r(e,u(ma,{root:Ou,get children(){return[u(Wt,{path:"/",component:Xa}),u(Wt,{path:"/accounts",component:zl}),u(Wt,{path:"/accounts/:id",component:Hl}),u(Wt,{path:"/entry-books",component:Lu}),u(Wt,{path:"/employees",component:Pd}),u(Wt,{path:"/bank-consolidations",component:Jd}),u(Wt,{path:"/balance-sheet",component:Xl}),u(Wt,{path:"/invoices",component:Mu}),u(Wt,{path:"/inventory",component:Hc}),u(Wt,{path:"/products",component:yd})]}})),r(t,(()=>{var n=z(()=>!1);return()=>n()&&u(Wa,{})})(),null),t})(),zu=document.getElementById("root");Ai(()=>u(ju,{}),zu);
