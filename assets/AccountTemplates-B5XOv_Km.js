import{c as M,$ as te,t as y,i as t,a as n,S as p,F as Y,j as ce,w as A,M as ie,b as re,B as D,az as H,d as ue}from"./index-W3yYPV3L.js";var ye=y("<div><div>"),pe=y("<div>"),de=y("<div><span>ğŸ“‹</span><p>No hay plantillas disponibles"),me=y("<div>Analizando compatibilidad..."),be=y("<div><h4>âš ï¸ Conflictos detectados</h4><ul>"),ge=y("<div><h4>Cuentas a crear (<!>)</h4><div><table><thead><tr><th>CÃ³digo</th><th>Nombre</th><th>Tipo</th></tr></thead><tbody>"),Pe=y("<p>â±ï¸ Tiempo estimado: "),ve=y("<div> "),fe=y("<div><div><p></p><div><span><strong>Industria:</strong> </span><span><strong>Cuentas:</strong> </span></div></div><div>"),he=y("<div><div><h2>Plantillas de Cuentas</h2><p>Selecciona una plantilla para configurar rÃ¡pidamente tu plan de cuentas"),Ne=y("<div><div><span></span><div><h3></h3><p></p><div><span> cuentas</span><span>"),xe=y('<li>Cuenta <!>: "<!>" ya existe'),$e=y("<tr><td></td><td></td><td><span>");const _e=se=>{const[b,B]=M(null),[J,I]=M(!1),[K,Q]=M(!1),[v,f]=M(null),U=[{id:"retail-basic",name:"Comercio Minorista",description:"Plan de cuentas bÃ¡sico para tiendas y comercios",industry:"retail",accounts:[{accountNumber:"1000",accountName:"Caja",accountType:"asset"},{accountNumber:"1100",accountName:"Bancos",accountType:"asset"},{accountNumber:"1200",accountName:"Cuentas por Cobrar",accountType:"asset"},{accountNumber:"1300",accountName:"Inventario",accountType:"asset"},{accountNumber:"2000",accountName:"Cuentas por Pagar",accountType:"liability"},{accountNumber:"2100",accountName:"Impuestos por Pagar",accountType:"liability"},{accountNumber:"3000",accountName:"Capital Social",accountType:"equity"},{accountNumber:"4000",accountName:"Ventas",accountType:"revenue"},{accountNumber:"5000",accountName:"Costo de Ventas",accountType:"expense"},{accountNumber:"6000",accountName:"Gastos de OperaciÃ³n",accountType:"expense"},{accountNumber:"6100",accountName:"Salarios",accountType:"expense"},{accountNumber:"6200",accountName:"Renta",accountType:"expense"}]},{id:"services-basic",name:"Servicios Profesionales",description:"Ideal para consultores, abogados, contadores",industry:"services",accounts:[{accountNumber:"1000",accountName:"Efectivo",accountType:"asset"},{accountNumber:"1100",accountName:"Banco Operativo",accountType:"asset"},{accountNumber:"1200",accountName:"Clientes",accountType:"asset"},{accountNumber:"2000",accountName:"Proveedores",accountType:"liability"},{accountNumber:"3000",accountName:"Capital",accountType:"equity"},{accountNumber:"4000",accountName:"Ingresos por Servicios",accountType:"revenue"},{accountNumber:"5000",accountName:"Gastos Profesionales",accountType:"expense"},{accountNumber:"5100",accountName:"Honorarios",accountType:"expense"}]},{id:"restaurant-basic",name:"Restaurante",description:"Para restaurantes, cafeterÃ­as y servicios de comida",industry:"restaurant",accounts:[{accountNumber:"1000",accountName:"Caja Registradora",accountType:"asset"},{accountNumber:"1100",accountName:"Banco",accountType:"asset"},{accountNumber:"1300",accountName:"Inventario Alimentos",accountType:"asset"},{accountNumber:"1310",accountName:"Inventario Bebidas",accountType:"asset"},{accountNumber:"2000",accountName:"Proveedores",accountType:"liability"},{accountNumber:"3000",accountName:"Capital",accountType:"equity"},{accountNumber:"4000",accountName:"Ventas Comida",accountType:"revenue"},{accountNumber:"4100",accountName:"Ventas Bebidas",accountType:"revenue"},{accountNumber:"5000",accountName:"Costo Alimentos",accountType:"expense"},{accountNumber:"5100",accountName:"Costo Bebidas",accountType:"expense"},{accountNumber:"6000",accountName:"Salarios Cocina",accountType:"expense"},{accountNumber:"6100",accountName:"Salarios Servicio",accountType:"expense"}]},{id:"transport-basic",name:"Transporte y LogÃ­stica",description:"Para empresas de transporte y envÃ­os",industry:"transport",accounts:[{accountNumber:"1000",accountName:"Efectivo",accountType:"asset"},{accountNumber:"1100",accountName:"Bancos",accountType:"asset"},{accountNumber:"1500",accountName:"VehÃ­culos",accountType:"asset"},{accountNumber:"1510",accountName:"DepreciaciÃ³n Acumulada",accountType:"asset"},{accountNumber:"2000",accountName:"PrÃ©stamos VehÃ­culos",accountType:"liability"},{accountNumber:"3000",accountName:"Capital",accountType:"equity"},{accountNumber:"4000",accountName:"Ingresos por Fletes",accountType:"revenue"},{accountNumber:"5000",accountName:"Combustible",accountType:"expense"},{accountNumber:"5100",accountName:"Mantenimiento VehÃ­culos",accountType:"expense"},{accountNumber:"5200",accountName:"Seguros",accountType:"expense"}]}],[x]=te(async()=>{try{const a=await H.templates.getAll();return a&&a.length>0?a:U}catch{return U}}),[g]=te(()=>b()?.id,async a=>a?H.templates.preview(a):null),oe=a=>{B(a),I(!0),f(null)},ae=async()=>{const a=b();if(a){Q(!0),f(null);try{const h=await H.templates.apply(a.id,{skipConflicts:!0});h.success?(f({success:!0,message:`Se crearon ${h.accountsCreated} cuentas exitosamente`}),se.onTemplateApplied?.()):f({success:!1,message:h.errors?.join(", ")||"Error al aplicar la plantilla"})}catch(h){f({success:!1,message:h.message||"Error al aplicar la plantilla"})}finally{Q(!1)}}},W={retail:"ğŸª",services:"ğŸ’¼",manufacturing:"ğŸ­",technology:"ğŸ’»",healthcare:"ğŸ¥",restaurant:"ğŸ½ï¸",construction:"ğŸ—ï¸",transport:"ğŸšš",general:"ğŸ“Š"},X={asset:{bg:"#dbeafe",color:"#1d4ed8"},liability:{bg:"#fee2e2",color:"#dc2626"},equity:{bg:"#d1fae5",color:"#059669"},revenue:{bg:"#fef3c7",color:"#d97706"},expense:{bg:"#f3e8ff",color:"#7c3aed"}},ne={background:"var(--surface-color)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-md)",padding:"1rem",cursor:"pointer",transition:"all 0.2s ease"};return(()=>{var a=he(),h=a.firstChild,E=h.firstChild,Z=E.nextSibling;return h.style.setProperty("margin-bottom","1.5rem"),E.style.setProperty("font-size","1.25rem"),E.style.setProperty("font-weight","600"),E.style.setProperty("margin-bottom","0.5rem"),Z.style.setProperty("color","var(--text-muted)"),Z.style.setProperty("font-size","0.875rem"),t(a,n(p,{get when(){return x.loading},get children(){var r=ye(),s=r.firstChild;return r.style.setProperty("display","flex"),r.style.setProperty("justify-content","center"),r.style.setProperty("padding","2rem"),s.style.setProperty("width","2rem"),s.style.setProperty("height","2rem"),s.style.setProperty("border","3px solid var(--border-color)"),s.style.setProperty("border-top-color","var(--primary-color)"),s.style.setProperty("border-radius","50%"),s.style.setProperty("animation","spin 1s linear infinite"),r}}),null),t(a,n(p,{get when(){return A(()=>!x.loading)()&&x()},get children(){var r=pe();return r.style.setProperty("display","grid"),r.style.setProperty("grid-template-columns","repeat(auto-fill, minmax(280px, 1fr))"),r.style.setProperty("gap","1rem"),t(r,n(Y,{get each(){return x()},children:s=>(()=>{var d=Ne(),P=d.firstChild,$=P.firstChild,R=$.nextSibling,C=R.firstChild,_=C.nextSibling,l=_.nextSibling,e=l.firstChild,u=e.firstChild,o=e.nextSibling;return d.addEventListener("mouseleave",c=>{c.currentTarget.style.borderColor="var(--border-color)",c.currentTarget.style.transform="translateY(0)"}),d.addEventListener("mouseenter",c=>{c.currentTarget.style.borderColor="var(--primary-color)",c.currentTarget.style.transform="translateY(-2px)"}),d.$$click=()=>oe(s),ce(d,ne),P.style.setProperty("display","flex"),P.style.setProperty("align-items","flex-start"),P.style.setProperty("gap","0.75rem"),$.style.setProperty("font-size","2rem"),t($,()=>W[s.industry]||W.general),R.style.setProperty("flex","1"),C.style.setProperty("font-weight","600"),C.style.setProperty("margin-bottom","0.25rem"),t(C,()=>s.name),_.style.setProperty("font-size","0.75rem"),_.style.setProperty("color","var(--text-muted)"),_.style.setProperty("margin-bottom","0.5rem"),t(_,()=>s.description),l.style.setProperty("display","flex"),l.style.setProperty("gap","0.5rem"),l.style.setProperty("flex-wrap","wrap"),e.style.setProperty("font-size","0.7rem"),e.style.setProperty("padding","0.125rem 0.5rem"),e.style.setProperty("background","var(--surface-secondary)"),e.style.setProperty("border-radius","9999px"),e.style.setProperty("color","var(--text-muted)"),t(e,()=>s.accounts.length,u),o.style.setProperty("font-size","0.7rem"),o.style.setProperty("padding","0.125rem 0.5rem"),o.style.setProperty("background","var(--surface-secondary)"),o.style.setProperty("border-radius","9999px"),o.style.setProperty("color","var(--text-muted)"),t(o,()=>s.industry),d})()})),r}}),null),t(a,n(p,{get when(){return A(()=>!x.loading)()&&(!x()||x()?.length===0)},get children(){var r=de(),s=r.firstChild;return r.style.setProperty("text-align","center"),r.style.setProperty("padding","3rem"),r.style.setProperty("color","var(--text-muted)"),s.style.setProperty("font-size","3rem"),s.style.setProperty("display","block"),s.style.setProperty("margin-bottom","1rem"),r}}),null),t(a,n(p,{get when(){return A(()=>!!J())()&&b()},get children(){return n(ie,{get isOpen(){return J()},onClose:()=>{I(!1),B(null),f(null)},get title(){return`Plantilla: ${b()?.name}`},get children(){var r=fe(),s=r.firstChild,d=s.firstChild,P=d.nextSibling,$=P.firstChild,R=$.firstChild;R.nextSibling;var C=$.nextSibling,_=C.firstChild;_.nextSibling;var l=s.nextSibling;return r.style.setProperty("max-height","60vh"),r.style.setProperty("overflow","auto"),s.style.setProperty("padding","1rem"),s.style.setProperty("background","var(--surface-secondary)"),s.style.setProperty("border-radius","var(--border-radius-md)"),s.style.setProperty("margin-bottom","1rem"),d.style.setProperty("margin-bottom","0.5rem"),t(d,()=>b()?.description),P.style.setProperty("display","flex"),P.style.setProperty("gap","1rem"),P.style.setProperty("font-size","0.875rem"),t($,()=>b()?.industry,null),t(C,()=>b()?.accounts.length,null),t(r,n(p,{get when(){return g.loading},get children(){var e=me();return e.style.setProperty("text-align","center"),e.style.setProperty("padding","1rem"),e}}),l),t(r,n(p,{get when(){return A(()=>!g.loading)()&&g()},get children(){return[n(p,{get when(){return A(()=>!!g()?.existingConflicts)()&&g().existingConflicts.length>0},get children(){var e=be(),u=e.firstChild,o=u.nextSibling;return e.style.setProperty("padding","1rem"),e.style.setProperty("background","#fef3c7"),e.style.setProperty("border","1px solid #f59e0b"),e.style.setProperty("border-radius","var(--border-radius-md)"),e.style.setProperty("margin-bottom","1rem"),u.style.setProperty("font-weight","600"),u.style.setProperty("margin-bottom","0.5rem"),u.style.setProperty("color","#92400e"),o.style.setProperty("font-size","0.875rem"),o.style.setProperty("padding-left","1rem"),t(o,n(Y,{get each(){return g()?.existingConflicts},children:c=>(()=>{var i=xe(),m=i.firstChild,S=m.nextSibling,V=S.nextSibling,T=V.nextSibling;return T.nextSibling,i.style.setProperty("margin-bottom","0.25rem"),t(i,()=>c.accountNumber,S),t(i,()=>c.existingName,T),i})()})),e}}),(()=>{var e=ge(),u=e.firstChild,o=u.firstChild,c=o.nextSibling;c.nextSibling;var i=u.nextSibling,m=i.firstChild,S=m.firstChild,V=S.firstChild,T=V.firstChild,j=T.nextSibling,F=j.nextSibling,le=S.nextSibling;return e.style.setProperty("margin-bottom","1rem"),u.style.setProperty("font-weight","600"),u.style.setProperty("margin-bottom","0.75rem"),t(u,()=>g()?.accountsToCreate||b()?.accounts.length,c),i.style.setProperty("max-height","300px"),i.style.setProperty("overflow","auto"),i.style.setProperty("border","1px solid var(--border-color)"),i.style.setProperty("border-radius","var(--border-radius-sm)"),m.style.setProperty("width","100%"),m.style.setProperty("border-collapse","collapse"),m.style.setProperty("font-size","0.875rem"),V.style.setProperty("background","var(--surface-secondary)"),T.style.setProperty("padding","0.5rem"),T.style.setProperty("text-align","left"),T.style.setProperty("border-bottom","1px solid var(--border-color)"),j.style.setProperty("padding","0.5rem"),j.style.setProperty("text-align","left"),j.style.setProperty("border-bottom","1px solid var(--border-color)"),F.style.setProperty("padding","0.5rem"),F.style.setProperty("text-align","left"),F.style.setProperty("border-bottom","1px solid var(--border-color)"),t(le,n(Y,{get each(){return b()?.accounts},children:w=>(()=>{var ee=$e(),k=ee.firstChild,q=k.nextSibling,L=q.nextSibling,N=L.firstChild;return k.style.setProperty("padding","0.5rem"),k.style.setProperty("border-bottom","1px solid var(--border-color)"),k.style.setProperty("font-family","monospace"),t(k,()=>w.accountNumber),q.style.setProperty("padding","0.5rem"),q.style.setProperty("border-bottom","1px solid var(--border-color)"),t(q,()=>w.accountName),L.style.setProperty("padding","0.5rem"),L.style.setProperty("border-bottom","1px solid var(--border-color)"),N.style.setProperty("padding","0.125rem 0.5rem"),N.style.setProperty("border-radius","9999px"),N.style.setProperty("font-size","0.75rem"),t(N,()=>w.accountType),re(z=>{var O=X[w.accountType]?.bg||"#e5e7eb",G=X[w.accountType]?.color||"#374151";return O!==z.e&&((z.e=O)!=null?N.style.setProperty("background",O):N.style.removeProperty("background")),G!==z.t&&((z.t=G)!=null?N.style.setProperty("color",G):N.style.removeProperty("color")),z},{e:void 0,t:void 0}),ee})()})),e})(),n(p,{get when(){return g()?.estimatedSetupTime},get children(){var e=Pe();return e.firstChild,e.style.setProperty("font-size","0.875rem"),e.style.setProperty("color","var(--text-muted)"),e.style.setProperty("margin-bottom","1rem"),t(e,()=>g()?.estimatedSetupTime,null),e}})]}}),l),t(r,n(p,{get when(){return v()},get children(){var e=ve(),u=e.firstChild;return e.style.setProperty("padding","1rem"),e.style.setProperty("border-radius","var(--border-radius-md)"),e.style.setProperty("margin-bottom","1rem"),t(e,()=>v()?.success?"âœ…":"âŒ",u),t(e,()=>v()?.message,null),re(o=>{var c=v()?.success?"#d1fae5":"#fee2e2",i=`1px solid ${v()?.success?"#10b981":"#ef4444"}`,m=v()?.success?"#065f46":"#991b1b";return c!==o.e&&((o.e=c)!=null?e.style.setProperty("background",c):e.style.removeProperty("background")),i!==o.t&&((o.t=i)!=null?e.style.setProperty("border",i):e.style.removeProperty("border")),m!==o.a&&((o.a=m)!=null?e.style.setProperty("color",m):e.style.removeProperty("color")),o},{e:void 0,t:void 0,a:void 0}),e}}),l),l.style.setProperty("display","flex"),l.style.setProperty("justify-content","flex-end"),l.style.setProperty("gap","0.75rem"),l.style.setProperty("margin-top","1rem"),t(l,n(D,{variant:"secondary",onClick:()=>{I(!1),B(null),f(null)},children:"Cancelar"}),null),t(l,n(p,{get when(){return!v()?.success},get children(){return n(D,{variant:"primary",onClick:ae,get disabled(){return K()},get children(){return K()?"Aplicando...":"Aplicar Plantilla"}})}}),null),t(l,n(p,{get when(){return v()?.success},get children(){return n(D,{variant:"primary",onClick:()=>{I(!1),B(null),f(null)},children:"Cerrar"})}}),null),r}})}}),null),a})()};ue(["click"]);export{_e as default};
