const e=new Map;async function l(s){const t=s.replace(/\D/g,"").slice(0,5);if(t.length!==5)return null;if(e.has(t))return e.get(t)||null;try{const n=await fetch(`https://api.zippopotam.us/us/${t}`,{method:"GET",headers:{Accept:"application/json"}});if(!n.ok)return e.set(t,null),null;const a=await n.json();if(!a.places||a.places.length===0)return e.set(t,null),null;const o=a.places[0],r={city:o["place name"]||"",state:o.state||"",stateAbbreviation:o["state abbreviation"]||"",country:a.country||"United States"};return e.set(t,r),r}catch(n){return console.error("ZIP code lookup error:",n),null}}export{l};
