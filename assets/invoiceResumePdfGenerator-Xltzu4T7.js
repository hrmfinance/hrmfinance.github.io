import{E as x,b as h}from"./index-DQ10lGog.js";const F=async(l,u="invoice-resume-report.pdf")=>{const e=new x("p","mm","a4"),c=e.internal.pageSize.width,y=e.internal.pageSize.height,s=15;let o=s;const n=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(t),T=t=>t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"All",b=()=>{e.setFillColor(44,62,80),e.rect(0,0,c,40,"F"),e.setTextColor(255,255,255),e.setFontSize(24),e.setFont("helvetica","bold"),e.text("Invoice Resume Report",c/2,20,{align:"center"}),e.setFontSize(12),e.setFont("helvetica","normal"),e.text("Comprehensive Financial Summary",c/2,30,{align:"center"}),o=50,e.setFillColor(236,240,241),e.rect(s,o-5,c-2*s,30,"F"),e.setTextColor(44,62,80),e.setFontSize(10),e.setFont("helvetica","normal"),e.text(`Report Date: ${new Date().toLocaleDateString()}`,s+5,o+5),e.text(`Date Range: ${T(l.dateRange.from)} - ${T(l.dateRange.to)}`,s+5,o+12),e.text(`Total Invoices: ${l.totalInvoices}`,s+5,o+19);const t=c/2+10;e.text(`Store: ${l.store==="all"?"All Stores":l.store}`,t,o+5);const a=l.shippingType==="all"?"All Types":l.shippingType==="SEA"?"ðŸš¢ Maritimo":l.shippingType==="AEREO"?"âœˆï¸ Aereo":"Not Set";e.text(`Shipping Type: ${a}`,t,o+12),o+=35},d=t=>{e.setFillColor(52,152,219),e.rect(s,o,c-2*s,8,"F"),e.setTextColor(255,255,255),e.setFontSize(12),e.setFont("helvetica","bold"),e.text(t,s+3,o+5.5),o+=12},f=t=>o+t>y-s?(e.addPage(),o=s,!0):!1;b(),d("Payment Methods Summary");const g=[["Cash",n(l.paymentMethods.cash)],["Zelle",n(l.paymentMethods.zelle)],["Other",n(l.paymentMethods.other)],["TOTAL",n(l.paymentMethods.total)]];if(h(e,{startY:o,head:[["Payment Method","Amount"]],body:g,theme:"grid",headStyles:{fillColor:[44,62,80],fontSize:10,fontStyle:"bold"},bodyStyles:{fontSize:10},footStyles:{fillColor:[236,240,241],textColor:[44,62,80],fontStyle:"bold"},columnStyles:{0:{cellWidth:100},1:{halign:"right"}},didParseCell:function(t){t.row.index===g.length-1&&(t.cell.styles.fontStyle="bold",t.cell.styles.fillColor=[236,240,241])}}),o=e.lastAutoTable.finalY+10,l.productsByType.size>0){f(50),d("Products Summary");const t=Array.from(l.productsByType.entries()).sort((r,i)=>i[1].total-r[1].total).map(([r,i])=>[r,i.qty.toString(),n(i.total)]),a=Array.from(l.productsByType.values()).reduce((r,i)=>r+i.total,0);h(e,{startY:o,head:[["Product","Quantity","Total"]],body:t,foot:[["TOTAL","",n(a)]],theme:"striped",headStyles:{fillColor:[44,62,80],fontSize:10},bodyStyles:{fontSize:9},footStyles:{fillColor:[236,240,241],textColor:[44,62,80],fontStyle:"bold",fontSize:10},columnStyles:{0:{cellWidth:"auto"},1:{halign:"center",cellWidth:30},2:{halign:"right",cellWidth:40}}}),o=e.lastAutoTable.finalY+10}if(l.reservasByTypeAndPrice.size>0){f(50),d("Reservas Summary (Grouped by Price)");const t=[];Array.from(l.reservasByTypeAndPrice.entries()).sort((r,i)=>i[1].total-r[1].total).forEach(([r,i])=>{t.push([{content:r,styles:{fontStyle:"bold"}},{content:`${i.qty} lbs`,styles:{halign:"center",fontStyle:"bold"}},{content:"",styles:{fillColor:[236,240,241]}},{content:n(i.total),styles:{halign:"right",fontStyle:"bold"}}]),Array.from(i.priceGroups.entries()).sort((S,m)=>S[0]-m[0]).forEach(([S,m])=>{t.push([{content:"",styles:{fillColor:[255,255,255]}},{content:"",styles:{fillColor:[255,255,255]}},{content:`${n(S)} X ${m} lbs`,styles:{fontSize:8,textColor:[127,140,141]}},{content:"",styles:{fillColor:[255,255,255]}}])})});const a=Array.from(l.reservasByTypeAndPrice.values()).reduce((r,i)=>r+i.total,0);h(e,{startY:o,head:[["Type","Total Qty","Price Groups","Total"]],body:t,foot:[["TOTAL","","",n(a)]],theme:"grid",headStyles:{fillColor:[44,62,80],fontSize:10},bodyStyles:{fontSize:9},footStyles:{fillColor:[236,240,241],textColor:[44,62,80],fontStyle:"bold",fontSize:10},columnStyles:{0:{cellWidth:60},1:{halign:"center",cellWidth:30},2:{cellWidth:"auto"},3:{halign:"right",cellWidth:40}}}),o=e.lastAutoTable.finalY+10}if(l.otherServicesByType.size>0){f(50),d("Other Services & Charges");const t=Array.from(l.otherServicesByType.entries()).sort((a,r)=>r[1].total-a[1].total).map(([a,r])=>[`${a}`,n(r.total)]);h(e,{startY:o,head:[["Service Type","Total"]],body:t,foot:[["TOTAL OTHER SERVICES",n(l.transportTotal)]],theme:"striped",headStyles:{fillColor:[44,62,80],fontSize:10},bodyStyles:{fontSize:10},footStyles:{fillColor:[236,240,241],textColor:[44,62,80],fontStyle:"bold",fontSize:10},columnStyles:{0:{cellWidth:"auto"},1:{halign:"right",cellWidth:50}}}),o=e.lastAutoTable.finalY+10}f(60),d("Financial Summary");const v=Array.from(l.productsByType.values()).reduce((t,a)=>t+a.total,0),A=Array.from(l.reservasByTypeAndPrice.values()).reduce((t,a)=>t+a.total,0),p=[["Products Total",n(v)],["Reservas Total",n(A)],["Transport & Services",n(l.transportTotal)],["Aranceles",n(l.arancelesTotal)],["Tax",n(l.taxTotal)],["GRAND TOTAL",n(l.paymentMethods.total)]];h(e,{startY:o,body:p,theme:"plain",bodyStyles:{fontSize:11},columnStyles:{0:{cellWidth:120,fontStyle:"normal"},1:{halign:"right",cellWidth:60,fontStyle:"normal"}},didParseCell:function(t){t.row.index===p.length-1&&(t.cell.styles.fontStyle="bold",t.cell.styles.fontSize=14,t.cell.styles.fillColor=[231,76,60],t.cell.styles.textColor=[255,255,255])}});const C=e.getNumberOfPages();for(let t=1;t<=C;t++)e.setPage(t),e.setDrawColor(200,200,200),e.line(s,y-15,c-s,y-15),e.setFontSize(8),e.setTextColor(127,140,141),e.setFont("helvetica","normal"),e.text(`Generated on: ${new Date().toLocaleString()}`,s,y-10),e.text(`Page ${t} of ${C}`,c-s,y-10,{align:"right"}),e.setTextColor(200,200,200),e.setFontSize(60),e.setFont("helvetica","bold"),e.text("CONFIDENTIAL",c/2,y/2,{align:"center",angle:-45});return e.save(u),u};export{F as generateInvoiceResumePDF};
