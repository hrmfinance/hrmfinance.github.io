import{aa as On,c as E,D as jn,e as ve,t as R,j as n,i as e,a as x,b as p,S as _,w as N,F as Wt,W as Xe,Z as Jt,d as Vn}from"./index-BRw9R-ST.js";import{q as Yn,i as Gn,a as Wn,r as Jn,f as Kn,t as et,v as Zn,w as Qn}from"./taxPortalApi-C8L3S_z5.js";import{p as Xn}from"./taxDocumentApi-DgD3_eWB.js";import{V as ei}from"./drakeTypes-DGPIb3y3.js";import{l as ti}from"./zipCodeLookup-Bhswoe-K.js";var ri=R("<div><div><div></div><p>"),ni=R("<div><div><div>X</div><h2></h2><p></p><p>"),tt=R("<div><span>OK</span><span>"),ii=R("<div><div><span>:</span></div><div>"),oi=R("<div><div><div>, <!>!</div><div><span> <!>: </span><span>|</span><span></span></div></div><div><div><div><div></div></div><div></div></div><div><span></span></div><div>"),ai=R("<div><div>OK</div><div><strong></strong><div>"),si=R("<div><div><span></span></div><div><p><strong></strong> </p><p><strong></strong></p><ul><li></li><li></li><li></li><li>"),li=R(`<div><style>
        @keyframes spin {
          to { transform: rotate(360deg); }
        }
        @media (max-width: 640px) {
          .document-item {
            flex-direction: column;
            align-items: stretch !important;
          }
          .document-info {
            margin-bottom: 0.5rem;
          }
          .upload-btn {
            width: 100%;
            justify-content: center;
          }
        }
      </style><div><button></button><div><div></div><p></p></div><div><p></p><p> `),rt=R("<div><div></div><div>"),nt=R("<p>"),di=R('<div><div><label> *</label><input type=text></div><div><label> *</label><select><option value></option><option value=single></option><option value=married_jointly></option><option value=married_separate></option><option value=head_household></option></select></div><div><label></label><input type=tel placeholder="(555) 123-4567"></div><div><label></label><input type=text placeholder="123 Main St"></div><div><div><label></label><input type=text placeholder=Miami></div><div><label></label><input type=text placeholder=FL></div></div><div><label></label><input type=text placeholder=33101 maxlength=10></div><button>'),Fe=R("<div>"),ui=R('<div><div><label></label><input type=text></div><div><label> *</label><select><option value></option><option value=checking></option><option value=savings></option></select></div><div><label> *</label><input type=text placeholder=123456789 maxlength=9></div><div><label> *</label><input type=text placeholder=123456789012></div><div><label> *</label><input type=text placeholder=123456789012></div><div><label></label><input type=text placeholder="John Doe"></div><button>'),ci=R("<div><div><div><label> *</label><input type=text></div><div><label> *</label><input type=text></div></div><div><label> *</label><select><option value></option><option value=child></option><option value=stepchild></option><option value=parent></option><option value=sibling></option><option value=other></option></select></div><div><div><label></label><input type=text placeholder=123-45-6789></div><div><label></label><input type=date></div></div><div><button></button><button>"),pi=R("<div><button>+ </button><button>"),gi=R("<div><span>OK</span><span> (<!>)"),mi=R("<div><div></div><div><input type=checkbox id=agreeToTerms><label for=agreeToTerms> *</label></div><div><label> *</label><div><canvas width=500 height=150></canvas><div></div><div>✕</div></div><div><span></span><button type=button></button></div></div><div><label> *</label><input type=text></div><div><label></label><input type=date></div><button>"),fi=R("<div><span>:</span><span>***-**-"),yi=R("<div><span>:</span><span>"),vi=R("<div><div><h4></h4><div><div><span>:</span><span></span></div><div><span>:</span><span> / </span></div></div></div><div><input type=checkbox id=confirmReview><label for=confirmReview> *</label></div><button>"),gt=R("<span>"),bi=R("<div><div><strong>IRS Form 8879</strong> - </div><div><div><label> *</label><input type=text inputmode=numeric maxlength=5></div><div><label> *</label><input type=text inputmode=numeric maxlength=5></div></div><div><label> *</label><div><canvas width=500 height=150></canvas><div></div><div>✕</div></div><div><span></span><button type=button></button></div></div><div><label> *</label><input type=text></div><button>"),it=R("<span>REQUIRED"),hi=R("<div><div><div> </div><div></div></div><button>X"),Si=R("<div><div><div>"),Pi=R("<div><button type=button>"),xi=R("<div class=document-item><input type=file accept=.pdf,.jpg,.jpeg,.png><div class=document-info><div></div><div><div></div></div></div><button class=upload-btn type=button>"),$i=R("<span>OK"),Ci=R("<span>*");const _i=["application/pdf","image/jpeg","image/png"],wi=25*1024*1024,Cr=["JPMorgan Chase","Bank of America","Wells Fargo","Citibank","U.S. Bank","PNC Bank","Truist Bank","Goldman Sachs","Capital One","TD Bank","Fifth Third Bank","Citizens Bank","KeyBank","Huntington Bank","M&T Bank","Regions Bank","BMO Harris Bank","HSBC Bank USA","Santander Bank","Ally Bank","Synchrony Bank","Discover Bank","Charles Schwab Bank","American Express National Bank","First Republic Bank","Silicon Valley Bank","Signature Bank","First Citizens Bank","Comerica Bank","Zions Bank","Western Alliance Bank","Valley National Bank","Pinnacle Bank","Webster Bank","Atlantic Union Bank","Glacier Bank","First Interstate Bank","Columbia Bank","Banner Bank","HomeStreet Bank","Pacific Premier Bank","Customers Bank","Independent Bank","Prosperity Bank","Veritex Community Bank","Texas Capital Bank","Frost Bank","International Bank of Commerce","Plains Capital Bank","Southside Bank","Spirit of Texas Bank","Republic Bank & Trust Company","Navy Federal Credit Union","State Employees Credit Union","Pentagon Federal Credit Union","SchoolsFirst Federal Credit Union","Alliant Credit Union","Golden 1 Credit Union","Suncoast Credit Union","America First Credit Union","Security Service Federal Credit Union","Boeing Employees Credit Union","Alaska USA Federal Credit Union","Randolph-Brooks Federal Credit Union","San Diego County Credit Union","Mountain America Credit Union","USAA Federal Savings Bank","First Tech Federal Credit Union","Space Coast Credit Union","Connexus Credit Union","Lake Michigan Credit Union","Delta Community Credit Union","Chime","Varo Bank","Current","SoFi","Marcus by Goldman Sachs","Aspiration","Axos Bank","CIT Bank","Barclays Bank Delaware","TIAA Bank","Popular Bank","BankUnited","First National Bank of Omaha","BOK Financial","First Horizon Bank","Synovus Bank","Wintrust Bank","Old National Bank","Associated Bank","Fulton Bank","NBT Bank","United Bank","Washington Federal","Simmons Bank","Cadence Bank","Renasant Bank","Hancock Whitney Bank","Glacier Bancorp","First Merchants Bank","Berkshire Bank","Eastern Bank","Brookline Bank","Rockland Trust","Enterprise Bank","Cambridge Savings Bank","Middlesex Savings Bank","DCU (Digital Federal Credit Union)","Affinity Federal Credit Union"].sort(),_r=be=>ei.includes(be),wr={en:{pageTitle:"Tax Document Upload",pageSubtitle:"Securely upload your tax documents",TaxYear:"Tax Year",Hello:"Hello",RequestedDocuments:"Requested Documents",IfyPrep:"Instructions from your tax preparer",loadingRequest:"Loading your document request...",errorTitle:"Unable to Load Request",errorContact:"If you believe this is an error, please contact your tax preparer.",allDocsUploaded:"All documents uploaded!",completed:"complete",docRequired:"required document",remaining:"remaining",uploaded:"Uploaded",uploading:"Uploading...",processing:"Processing...",upload:"Upload",tryAgain:"Try again",REQUIRED:"REQUIRED",completionTitle:"All documents uploaded!",completionMessage:"Your tax preparer will be notified and will contact you if anything else is needed.",needHelp:"Need Help?",acceptedFiles:"Accepted file types:",acceptedFilesDesc:"PDF, JPG, PNG (max 25MB each)",tipsTitle:"Tips for best results:",tip1:"Make sure the entire document is visible and readable",tip2:"Avoid blurry or dark images",tip3:"For multi-page documents, upload a single PDF if possible",tip4:"You can re-upload a document to replace a previous version",secureTransmission:"Your documents are transmitted securely and encrypted.",linkExpires:"This link expires on",verifyInfoTitle:"Verify Personal Information",verifyInfoDescription:"Please confirm your personal details",ssnLabel:"Social Security Number",ssnPlaceholder:"123-45-6789",filingStatusLabel:"Filing Status",filingStatusSingle:"Single",filingStatusMarried:"Married Filing Jointly",filingStatusMarriedSeparate:"Married Filing Separately",filingStatusHeadHousehold:"Head of Household",phoneLabel:"Phone Number",addressLabel:"Street Address",cityLabel:"City",stateLabel:"State",zipLabel:"ZIP Code",submitVerification:"Submit Information",verificationComplete:"Information submitted",bankInfoTitle:"Bank Account Information",bankInfoDescription:"For direct deposit of your refund",bankNameLabel:"Bank Name",bankNamePlaceholder:"Search or type bank name...",accountTypeLabel:"Account Type",accountTypeChecking:"Checking",accountTypeSavings:"Savings",routingNumberLabel:"Routing Number",accountNumberLabel:"Account Number",confirmAccountLabel:"Confirm Account Number",accountHolderLabel:"Account Holder Name",submitBankInfo:"Save Bank Info",bankInfoComplete:"Bank info saved",dependentTitle:"Dependent Information",dependentDescription:"Add dependents you will claim on your return",addDependent:"Add Dependent",noDependents:"No dependents added",skipDependents:"I have no dependents",dependentFirstName:"First Name",dependentLastName:"Last Name",dependentRelationship:"Relationship",dependentSSN:"SSN",dependentDOB:"Date of Birth",saveDependent:"Save Dependent",cancelDependent:"Cancel",relationshipChild:"Child",relationshipStepchild:"Stepchild",relationshipParent:"Parent",relationshipSibling:"Sibling",relationshipOther:"Other",dependentsComplete:"Dependents saved",statusPending:"Pending",statusComplete:"Complete",required:"Required",optional:"Optional",select:"-- Select --",signLetterTitle:"Sign Engagement Letter",signLetterDescription:"Please review and sign the tax preparation engagement letter",engagementLetterText:"I hereby authorize and engage this tax preparation service to prepare my federal and state income tax returns for the tax year indicated. I understand that the accuracy of my returns depends on the information I provide, and I agree to provide complete and accurate information. I agree to review my completed return before filing and understand that I am ultimately responsible for the contents of my tax return. I understand that this engagement letter is a binding agreement.",agreeToTermsLabel:"I have read and agree to the terms above",signatureBoxLabel:"Your Signature",signatureInstructions:"Draw your signature above",clearSignature:"Clear",signatureNameLabel:"Print Full Legal Name",signatureNamePlaceholder:"Enter your full legal name",signatureDateLabel:"Date",submitSignature:"Sign Engagement Letter",signatureComplete:"Engagement letter signed",reviewSummaryTitle:"Review Tax Summary",reviewSummaryDescription:"Please review your tax information summary before submission",clientInfoSummary:"Client Information Summary",clientNameLabel:"Client Name",ssnLast4Label:"SSN (Last 4 digits)",filingStatusSummaryLabel:"Filing Status",documentsUploadedLabel:"Documents Uploaded",confirmReviewLabel:"I confirm that I have reviewed the information above and it is accurate",submitReview:"Confirm Review",reviewComplete:"Review confirmed",signingPinTitle:"Set E-Filing PIN",signingPinDescription:"Create a 5-digit PIN to authorize e-filing your tax return. This PIN will be used to sign your electronic return.",pinLabel:"Enter 5-Digit PIN",pinPlaceholder:"12345",confirmPinLabel:"Confirm PIN",confirmPinPlaceholder:"Re-enter PIN",pinMismatch:"PINs do not match",pinInvalid:"PIN must be exactly 5 digits",submitPin:"Set PIN",pinComplete:"E-Filing PIN set"},es:{pageTitle:"Subir Documentos de Impuestos",pageSubtitle:"Suba sus documentos de impuestos de forma segura",TaxYear:"Año Fiscal",Hello:"Hola",RequestedDocuments:"Documentos Solicitados",IfyPrep:"Instrucciones de su preparador de impuestos",loadingRequest:"Cargando su solicitud de documentos...",errorTitle:"No se pudo cargar la solicitud",errorContact:"Si cree que esto es un error, contacte a su preparador de impuestos.",allDocsUploaded:"Todos los documentos han sido subidos!",completed:"completado",docRequired:"documento requerido",remaining:"faltante",uploaded:"Subido",uploading:"Subiendo...",processing:"Procesando...",upload:"Subir",tryAgain:"Intentar de nuevo",REQUIRED:"REQUERIDO",completionTitle:"Todos los documentos han sido subidos!",completionMessage:"Su preparador de impuestos sera notificado y lo contactara si necesita algo mas.",needHelp:"Necesita Ayuda?",acceptedFiles:"Tipos de archivo aceptados:",acceptedFilesDesc:"PDF, JPG, PNG (maximo 25MB cada uno)",tipsTitle:"Consejos para mejores resultados:",tip1:"Asegurese de que todo el documento sea visible y legible",tip2:"Evite imagenes borrosas u oscuras",tip3:"Para documentos de varias paginas, suba un solo PDF si es posible",tip4:"Puede volver a subir un documento para reemplazar una version anterior",secureTransmission:"Sus documentos se transmiten de forma segura y encriptada.",linkExpires:"Este enlace expira el",verifyInfoTitle:"Verificar Informacion Personal",verifyInfoDescription:"Por favor confirme sus datos personales",ssnLabel:"Numero de Seguro Social",ssnPlaceholder:"123-45-6789",filingStatusLabel:"Estado Civil para Impuestos",filingStatusSingle:"Soltero",filingStatusMarried:"Casado Declarando Juntos",filingStatusMarriedSeparate:"Casado Declarando por Separado",filingStatusHeadHousehold:"Jefe de Familia",phoneLabel:"Numero de Telefono",addressLabel:"Direccion",cityLabel:"Ciudad",stateLabel:"Estado",zipLabel:"Codigo Postal",submitVerification:"Enviar Informacion",verificationComplete:"Informacion enviada",bankInfoTitle:"Informacion de Cuenta Bancaria",bankInfoDescription:"Para deposito directo de su reembolso",bankNameLabel:"Nombre del Banco",bankNamePlaceholder:"Buscar o escribir nombre del banco...",accountTypeLabel:"Tipo de Cuenta",accountTypeChecking:"Cheques",accountTypeSavings:"Ahorros",routingNumberLabel:"Numero de Ruta",accountNumberLabel:"Numero de Cuenta",confirmAccountLabel:"Confirmar Numero de Cuenta",accountHolderLabel:"Nombre del Titular",submitBankInfo:"Guardar Informacion Bancaria",bankInfoComplete:"Informacion bancaria guardada",dependentTitle:"Informacion de Dependientes",dependentDescription:"Agregue los dependientes que reclamara en su declaracion",addDependent:"Agregar Dependiente",noDependents:"No hay dependientes agregados",skipDependents:"No tengo dependientes",dependentFirstName:"Nombre",dependentLastName:"Apellido",dependentRelationship:"Relacion",dependentSSN:"SSN",dependentDOB:"Fecha de Nacimiento",saveDependent:"Guardar Dependiente",cancelDependent:"Cancelar",relationshipChild:"Hijo/a",relationshipStepchild:"Hijastro/a",relationshipParent:"Padre/Madre",relationshipSibling:"Hermano/a",relationshipOther:"Otro",dependentsComplete:"Dependientes guardados",statusPending:"Pendiente",statusComplete:"Completado",required:"Requerido",optional:"Opcional",select:"-- Seleccionar --",signLetterTitle:"Firmar Carta de Compromiso",signLetterDescription:"Por favor revise y firme la carta de compromiso para la preparacion de impuestos",engagementLetterText:"Por la presente autorizo y contrato este servicio de preparacion de impuestos para preparar mis declaraciones de impuestos federales y estatales para el ano fiscal indicado. Entiendo que la precision de mis declaraciones depende de la informacion que proporcione, y acepto proporcionar informacion completa y precisa. Acepto revisar mi declaracion completada antes de presentarla y entiendo que soy el responsable final del contenido de mi declaracion de impuestos. Entiendo que esta carta de compromiso es un acuerdo vinculante.",agreeToTermsLabel:"He leido y acepto los terminos anteriores",signatureBoxLabel:"Su Firma",signatureInstructions:"Dibuje su firma arriba",clearSignature:"Borrar",signatureNameLabel:"Nombre Legal Completo (Letra de Imprenta)",signatureNamePlaceholder:"Ingrese su nombre legal completo",signatureDateLabel:"Fecha",submitSignature:"Firmar Carta de Compromiso",signatureComplete:"Carta de compromiso firmada",reviewSummaryTitle:"Revisar Resumen de Impuestos",reviewSummaryDescription:"Por favor revise el resumen de su informacion fiscal antes de enviar",clientInfoSummary:"Resumen de Informacion del Cliente",clientNameLabel:"Nombre del Cliente",ssnLast4Label:"SSN (Ultimos 4 digitos)",filingStatusSummaryLabel:"Estado Civil para Impuestos",documentsUploadedLabel:"Documentos Subidos",confirmReviewLabel:"Confirmo que he revisado la informacion anterior y es correcta",submitReview:"Confirmar Revision",reviewComplete:"Revision confirmada",signingPinTitle:"Establecer PIN de Firma Electronica",signingPinDescription:"Cree un PIN de 5 digitos para autorizar la presentacion electronica de su declaracion de impuestos. Este PIN se usara para firmar su declaracion electronica.",pinLabel:"Ingrese PIN de 5 Digitos",pinPlaceholder:"12345",confirmPinLabel:"Confirmar PIN",confirmPinPlaceholder:"Vuelva a ingresar el PIN",pinMismatch:"Los PIN no coinciden",pinInvalid:"El PIN debe tener exactamente 5 digitos",submitPin:"Establecer PIN",pinComplete:"PIN de firma electronica establecido"}},Bi=()=>{const be=On(),[wt,qe]=E(!0),[kt,Ue]=E(null),[$,Kt]=E(null),[kr,Zt]=E(new Map),[Qt,se]=E(null),[ee,Tr]=E("en"),[ie,Xt]=E({ssn:"",filingStatus:"",phone:"",address:"",city:"",state:"",zipCode:""}),[Tt,Dr]=E(!1),[$e,er]=E({bankName:"",accountType:"",routingNumber:"",accountNumber:"",confirmAccountNumber:"",accountHolderName:""}),[Dt,Ir]=E(!1),[tr,mt]=E([]),[Nr,ot]=E(!1),[Me,rr]=E([]),[It,Br]=E(!1),[Nt,Bt]=E(!1),[He,nr]=E({firstName:"",lastName:"",relationship:"",ssn:"",dateOfBirth:""}),[he,Lr]=E({name:"",date:new Date().toISOString().split("T")[0],agreedToTerms:!1}),[Lt,Er]=E(!1);let le=null;const[ir,or]=E(!1),[Oe,ar]=E(!1);let ft=null,Et=0;const[sr,Rr]=E({confirmed:!1}),[Rt,zr]=E(!1),[oe,Ar]=E(""),[pe,Fr]=E(""),[zt,qr]=E(!1),[lr,ke]=E(null),[at,Ur]=E("");let de=null;const[dr,ur]=E(!1),[je,cr]=E(!1);let yt=null,At=0;const Mr=t=>{const l=[{name:"Chrome",regex:/Chrome\/(\d+)/},{name:"Safari",regex:/Safari\/(\d+)/},{name:"Firefox",regex:/Firefox\/(\d+)/},{name:"Edge",regex:/Edg\/(\d+)/},{name:"Opera",regex:/OPR\/(\d+)/}];for(const d of l){const y=t.match(d.regex);if(y)return{name:d.name,version:y[1]}}return{name:"Unknown",version:"0"}},pr=(t,l,d)=>{const y=Mr(navigator.userAgent);return{userAgent:navigator.userAgent,browserName:y.name,browserVersion:y.version,platform:navigator.platform,screenWidth:window.screen.width,screenHeight:window.screen.height,devicePixelRatio:window.devicePixelRatio||1,touchEnabled:"ontouchstart"in window||navigator.maxTouchPoints>0,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,language:navigator.language,pageUrl:window.location.href,referrer:document.referrer||void 0,clientTimestamp:Date.now(),timezoneOffset:new Date().getTimezoneOffset(),canvasWidth:t?.width,canvasHeight:t?.height,strokeCount:d,signatureDuration:l?Date.now()-l:void 0}},gr=new Map,r=t=>wr[ee()]?.[t]||wr.en?.[t]||t,Hr=()=>{Tr(ee()==="en"?"es":"en")},Ne=(t,l)=>{Xt(d=>({...d,[t]:l}))},Ve=(t,l)=>{if(er(d=>({...d,[t]:l})),t==="bankName")if(l.length>=1){const d=Cr.filter(y=>y.toLowerCase().includes(l.toLowerCase())).slice(0,8);mt(d),ot(d.length>0)}else mt([]),ot(!1)},Or=t=>{er(l=>({...l,bankName:t})),ot(!1),mt([])},st=(t,l)=>{nr(d=>({...d,[t]:l}))},vt=(t,l)=>{Lr(d=>({...d,[t]:l}))},jr=t=>{le=t;const l=t.getContext("2d");l&&(l.strokeStyle="#1e3a5f",l.lineWidth=2,l.lineCap="round",l.lineJoin="round")},bt=(t,l)=>{const d=l.getBoundingClientRect(),y=l.width/d.width,W=l.height/d.height;return"touches"in t?{x:(t.touches[0].clientX-d.left)*y,y:(t.touches[0].clientY-d.top)*W}:{x:(t.clientX-d.left)*y,y:(t.clientY-d.top)*W}},mr=t=>{if(!le)return;t.preventDefault(),or(!0),ft||(ft=Date.now());const l=le.getContext("2d");if(l){const{x:d,y}=bt(t,le);l.beginPath(),l.moveTo(d,y)}},fr=t=>{if(!ir()||!le)return;t.preventDefault();const l=le.getContext("2d");if(l){const{x:d,y}=bt(t,le);l.lineTo(d,y),l.stroke(),ar(!0)}},Ft=()=>{ir()&&Et++,or(!1)},Vr=()=>{if(!le)return;const t=le.getContext("2d");t&&(t.clearRect(0,0,le.width,le.height),ar(!1),vt("signatureImage",""),ft=null,Et=0)},Yr=()=>!le||!Oe()?"":le.toDataURL("image/png"),Gr=t=>{de=t;const l=t.getContext("2d");l&&(l.strokeStyle="#1e3a5f",l.lineWidth=2,l.lineCap="round",l.lineJoin="round")},yr=t=>{if(!de)return;t.preventDefault(),ur(!0),yt||(yt=Date.now());const l=de.getContext("2d");if(l){const{x:d,y}=bt(t,de);l.beginPath(),l.moveTo(d,y)}},vr=t=>{if(!dr()||!de)return;t.preventDefault();const l=de.getContext("2d");if(l){const{x:d,y}=bt(t,de);l.lineTo(d,y),l.stroke(),cr(!0)}},qt=()=>{dr()&&At++,ur(!1)},Wr=()=>{if(!de)return;const t=de.getContext("2d");t&&(t.clearRect(0,0,de.width,de.height),cr(!1),yt=null,At=0)},Jr=()=>!de||!je()?"":de.toDataURL("image/png"),Kr=(t,l)=>{Rr(d=>({...d,[t]:l}))},Zr=async()=>{const t=ie();if(!t.ssn||!t.filingStatus){alert(ee()==="es"?"Por favor complete el SSN y el estado civil":"Please complete SSN and filing status");return}try{const l=$();if(!l)return;const d=await et(l.id,be.accessToken,{clientVerification:{ssn:t.ssn,filingStatus:t.filingStatus,phone:t.phone,address:t.address,city:t.city,state:t.state,zipCode:t.zipCode,submittedAt:Date.now()},markDocumentUploaded:"verify_info"},l.businessId);d.success?(Dr(!0),se(r("verificationComplete")),setTimeout(()=>se(null),5e3)):alert(d.error||"Error saving verification info")}catch(l){ve("Error submitting verification:",l),alert(ee()==="es"?"Error al guardar la informacion":"Error saving information")}},Qr=async()=>{const t=$e();if(!t.accountType||!t.routingNumber||!t.accountNumber){alert(ee()==="es"?"Por favor complete todos los campos bancarios requeridos":"Please complete all required bank fields");return}if(t.accountNumber!==t.confirmAccountNumber){alert(ee()==="es"?"Los numeros de cuenta no coinciden":"Account numbers do not match");return}try{const l=$();if(!l)return;const d=await et(l.id,be.accessToken,{clientBankInfo:{bankName:t.bankName||void 0,accountType:t.accountType,routingNumber:t.routingNumber,accountNumber:t.accountNumber,accountHolderName:t.accountHolderName,submittedAt:Date.now()},markDocumentUploaded:"verify_bank_info"},l.businessId);d.success?(Ir(!0),se(r("bankInfoComplete")),setTimeout(()=>se(null),5e3)):alert(d.error||"Error saving bank info")}catch(l){ve("Error submitting bank info:",l),alert(ee()==="es"?"Error al guardar la informacion bancaria":"Error saving bank information")}},Xr=()=>{const t=He();if(!t.firstName||!t.lastName||!t.relationship){alert(ee()==="es"?"Por favor complete nombre, apellido y relacion":"Please complete first name, last name, and relationship");return}rr(l=>[...l,{...t}]),nr({firstName:"",lastName:"",relationship:"",ssn:"",dateOfBirth:""}),Bt(!1)},en=async()=>{try{const t=$();if(!t)return;const l=await et(t.id,be.accessToken,{clientDependents:Me(),markDocumentUploaded:"provide_dependent_info"},t.businessId);l.success?(Br(!0),se(r("dependentsComplete")),setTimeout(()=>se(null),5e3)):alert(l.error||"Error saving dependents info")}catch(t){ve("Error submitting dependents:",t),alert(ee()==="es"?"Error al guardar los dependientes":"Error saving dependents")}},tn=async()=>{const t=he();if(!t.name||!t.agreedToTerms){alert(ee()==="es"?"Por favor ingrese su nombre y acepte los términos":"Please enter your name and agree to the terms");return}if(!Oe()){alert(ee()==="es"?"Por favor firme en el recuadro de firma":"Please sign in the signature box");return}try{const l=$();if(!l)return;const d=Yr(),y=pr(le,ft,Et),W=await et(l.id,be.accessToken,{clientSignature:{name:t.name,date:t.date,agreedToTerms:t.agreedToTerms,signedAt:Date.now(),signatureImage:d,metadata:y},markDocumentUploaded:"sign_letter",status:"completed"},l.businessId);W.success?(Er(!0),se(r("signatureComplete")),setTimeout(()=>se(null),5e3)):alert(W.error||"Error saving signature")}catch(l){ve("Error submitting signature:",l),alert(ee()==="es"?"Error al guardar la firma":"Error saving signature")}},rn=async()=>{const t=sr();if(!t.confirmed){alert(ee()==="es"?"Por favor confirme que ha revisado el resumen":"Please confirm that you have reviewed the summary");return}try{const l=$();if(!l)return;const d=await et(l.id,be.accessToken,{clientReviewConfirmation:{confirmed:t.confirmed,reviewedAt:Date.now()},markDocumentUploaded:"review_summary"},l.businessId);d.success?(zr(!0),se(r("reviewComplete")),setTimeout(()=>se(null),5e3)):alert(d.error||"Error saving review confirmation")}catch(l){ve("Error submitting review:",l),alert(ee()==="es"?"Error al guardar la confirmacion":"Error saving confirmation")}},nn=async()=>{const t=oe(),l=pe(),d=at();if(!/^\d{5}$/.test(t)){ke(r("pinInvalid"));return}if(t!==l){ke(r("pinMismatch"));return}if(!je()){ke(ee()==="es"?"Se requiere firma":"Signature is required");return}if(!d.trim()){ke(ee()==="es"?"Se requiere el nombre completo":"Full name is required");return}ke(null);try{const y=$();if(!y)return;const W=Jr(),Se=pr(de,yt,At),Ce=await et(y.id,be.accessToken,{clientSigningPin:{pin:t,setAt:Date.now(),signerName:d.trim(),signatureImage:W,metadata:Se},markDocumentUploaded:"signing_pin",status:"completed"},y.businessId);Ce.success?(qr(!0),se(r("pinComplete")),setTimeout(()=>se(null),5e3)):alert(Ce.error||"Error saving PIN")}catch(y){ve("Error submitting signing PIN:",y),alert(ee()==="es"?"Error al guardar el PIN":"Error saving PIN")}};jn(async()=>{const t=be.accessToken,l=be.id;if(!t){Ue("Invalid access link. Please check your URL."),qe(!1);return}try{qe(!0),Ue(null);const d=await Yn(l,t);if(!d){Ue("This document request was not found. The link may be invalid or expired."),qe(!1);return}if(d.status==="expired"||Gn(d)){Ue("This document request has expired. Please contact your tax preparer for a new link."),qe(!1);return}if(d.status==="cancelled"){Ue("This document request has been cancelled. Please contact your tax preparer."),qe(!1);return}Kt(d),ve(d);const y=new Map;d.requestedDocuments.forEach(W=>{y.set(W.type,{docType:W.type,status:W.uploaded?"success":"idle",progress:W.uploaded?100:0,fileName:void 0})}),Zt(y)}catch(d){ve("Error loading document request:",d),Ue("Unable to load document request. Please try again later.")}finally{qe(!1)}});const on=async(t,l)=>{const d=l.target,y=d.files?.[0];if(y){if(!_i.includes(y.type)){Te(t,{status:"error",progress:0,errorMessage:"Invalid file type. Please upload a PDF, JPG, or PNG file."});return}if(y.size>wi){Te(t,{status:"error",progress:0,errorMessage:"File is too large. Maximum size is 25MB."});return}await an(t,y),d.value=""}},Te=(t,l)=>{Zt(d=>{const y=new Map(d),W=y.get(t)||{docType:t,status:"idle",progress:0};return y.set(t,{...W,...l}),y})},an=async(t,l)=>{if($()){Te(t,{status:"uploading",progress:10,fileName:l.name,errorMessage:void 0});try{Te(t,{progress:30});const d=$();if(!d)throw new Error("No request found");const y=await Zn(l,d.taxPortalId,d.taxYear,{documentType:t,businessId:d.businessId});if(!y.success||!y.documentId)throw new Error(y.error||"Upload failed");Te(t,{status:"processing",progress:60});const W=await Xn(y.documentId);W.success||ve("Document processing failed, but upload succeeded:",W.error),Te(t,{progress:90}),await Qn(d.id,d.businessId,t,y.documentId),Kt(Se=>Se?{...Se,requestedDocuments:Se.requestedDocuments.map(Ce=>Ce.type===t?{...Ce,uploaded:!0,documentId:y.documentId}:Ce),uploadedDocuments:[...Se.uploadedDocuments,y.documentId]}:null),Te(t,{status:"success",progress:100}),se(`Successfully uploaded ${l.name}!`),setTimeout(()=>se(null),5e3)}catch(d){ve("Upload error:",d),Te(t,{status:"error",progress:0,errorMessage:d.message||"Upload failed. Please try again."})}}},br=t=>{const l=gr.get(t);l&&l.click()},sn=t=>t.label||t.type.replace(/_/g,"-").toUpperCase(),ln={"min-height":"100vh",background:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 50%, #f0fdf4 100%)",padding:"1rem"},dn={"max-width":"800px",margin:"0 auto",padding:"1rem"},un={"text-align":"center","margin-bottom":"2rem"},cn={"font-size":"2.5rem","margin-bottom":"1rem"},pn={color:"#64748b","font-size":"1rem"},ht={background:"white","border-radius":"16px","box-shadow":"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)",padding:"0",overflow:"hidden","margin-bottom":"1.5rem"},gn={background:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",padding:"1.5rem",color:"white"},mn={"font-size":"1.5rem","font-weight":"600","margin-bottom":"0.5rem"},fn={display:"flex","flex-wrap":"wrap",gap:"1rem","font-size":"0.875rem",opacity:"0.9"},yn={padding:"1.5rem"},vn={background:"#f1f5f9","border-radius":"9999px",height:"12px",overflow:"hidden","margin-bottom":"0.5rem"},bn=t=>({background:t===100?"linear-gradient(90deg, #22c55e 0%, #16a34a 100%)":"linear-gradient(90deg, #3b82f6 0%, #1d4ed8 100%)",height:"100%",width:`${t}%`,transition:"width 0.3s ease","border-radius":"9999px"}),hn={"text-align":"center","font-size":"0.875rem",color:"#64748b"},hr={"font-size":"1.125rem","font-weight":"600",color:"#1e293b","margin-bottom":"1rem",display:"flex","align-items":"center",gap:"0.5rem"},Sn={display:"flex","flex-direction":"column",gap:"0.75rem"},Pn=(t,l)=>({display:"flex","align-items":"center","justify-content":"space-between",padding:"1rem",background:l?"#fef2f2":t?"#f0fdf4":"#f8fafc","border-radius":"12px",border:`1px solid ${l?"#fecaca":t?"#bbf7d0":"#e2e8f0"}`,"flex-wrap":"wrap",gap:"0.75rem"}),xn={display:"flex","align-items":"center",gap:"0.75rem",flex:"1","min-width":"200px"},$n=(t,l)=>({width:"24px",height:"24px","border-radius":"6px",border:`2px solid ${t?"#22c55e":l?"#3b82f6":"#cbd5e1"}`,background:t?"#22c55e":"white",display:"flex","align-items":"center","justify-content":"center",color:"white","font-size":"0.75rem","flex-shrink":"0"}),Cn={"font-weight":"500",color:"#1e293b"},Be={background:"#dbeafe",color:"#1d4ed8",padding:"0.125rem 0.5rem","border-radius":"4px","font-size":"0.7rem","font-weight":"600"},_n=(t,l)=>({padding:"0.5rem 1rem","border-radius":"8px",border:"none",background:t?"#dcfce7":l?"#e0e7ff":"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",color:t?"#16a34a":l?"#4f46e5":"white",cursor:t||l?"default":"pointer","font-weight":"500","font-size":"0.875rem",display:"flex","align-items":"center",gap:"0.5rem","white-space":"nowrap",transition:"all 0.2s ease"}),wn={color:"#dc2626","font-size":"0.8rem","margin-top":"0.25rem",width:"100%"},kn={width:"100%",height:"4px",background:"#e2e8f0","border-radius":"2px",overflow:"hidden","margin-top":"0.5rem"},Tn={background:"white","border-radius":"12px",border:"1px solid #e2e8f0",padding:"1.5rem","margin-bottom":"0.75rem"},Ye={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"0.5rem"},Ge={"font-size":"1.125rem","font-weight":"600",color:"#1e293b"},We={color:"#64748b","font-size":"0.875rem","margin-bottom":"1rem"},lt={display:"flex","flex-direction":"column",gap:"0.75rem"},F={display:"block","font-size":"0.875rem","font-weight":"500",color:"#475569","margin-bottom":"0.375rem"},G={width:"100%",padding:"0.75rem 1rem","border-radius":"8px",border:"1px solid #e2e8f0","font-size":"1rem",background:"white","box-sizing":"border-box"},Ut={...G,appearance:"none","background-image":`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e")`,"background-position":"right 0.75rem center","background-repeat":"no-repeat","background-size":"1.25rem 1.25rem","padding-right":"2.5rem"},Mt={display:"grid","grid-template-columns":"1fr 1fr",gap:"0.75rem"},Le={width:"100%",padding:"0.875rem 1.5rem","border-radius":"8px",border:"none",background:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",color:"white","font-size":"1rem","font-weight":"600",cursor:"pointer","margin-top":"0.5rem"},Ht={padding:"0.75rem 1.5rem","border-radius":"8px",border:"1px solid #e2e8f0",background:"white",color:"#475569","font-size":"1rem","font-weight":"500",cursor:"pointer"},Je={display:"flex","align-items":"center","justify-content":"center",gap:"0.75rem",padding:"1rem",color:"#16a34a","font-weight":"500"},Ke=t=>({padding:"0.375rem 0.75rem","border-radius":"9999px","font-size":"0.875rem","font-weight":"600",background:t?"#dcfce7":"#f1f5f9",color:t?"#16a34a":"#64748b"}),Dn={padding:"0.75rem 1rem",background:"#f8fafc","border-radius":"8px","margin-bottom":"0.5rem",display:"flex","justify-content":"space-between","align-items":"center"},Sr=t=>{const l={success:{bg:"#f0fdf4",border:"#bbf7d0",color:"#16a34a"},error:{bg:"#fef2f2",border:"#fecaca",color:"#dc2626"},info:{bg:"#eff6ff",border:"#bfdbfe",color:"#2563eb"}};return{padding:"1rem",background:l[t].bg,border:`1px solid ${l[t].border}`,"border-radius":"12px",color:l[t].color,display:"flex","align-items":"center",gap:"0.75rem","margin-bottom":"1rem"}},In={background:"#fffbeb",border:"1px solid #fde68a","border-radius":"12px",padding:"1rem","margin-bottom":"1rem"},Nn={"font-weight":"600",color:"#92400e","margin-bottom":"0.5rem",display:"flex","align-items":"center",gap:"0.5rem"},Bn={color:"#a16207","font-size":"0.9rem","line-height":"1.5"},Ln={"text-align":"center",padding:"2rem 1rem",color:"#94a3b8","font-size":"0.875rem"},En={display:"flex","flex-direction":"column","align-items":"center","justify-content":"center","min-height":"400px",gap:"1rem"},Rn={width:"48px",height:"48px",border:"4px solid #e2e8f0","border-top-color":"#3b82f6","border-radius":"50%",animation:"spin 1s linear infinite"},St=$(),Pt=St?Wn(St):0,Pr=St?Jn(St):[];return(()=>{var t=li(),l=t.firstChild,d=l.nextSibling,y=d.firstChild,W=y.nextSibling,Se=W.firstChild,Ce=Se.nextSibling,dt=W.nextSibling,xr=dt.firstChild,ut=xr.nextSibling,zn=ut.firstChild;return n(t,ln),n(d,dn),y.$$click=Hr,y.style.setProperty("position","absolute"),y.style.setProperty("top","1rem"),y.style.setProperty("right","1rem"),y.style.setProperty("padding","0.5rem 1rem"),y.style.setProperty("background","#f1f5f9"),y.style.setProperty("border","1px solid #e2e8f0"),y.style.setProperty("border-radius","8px"),y.style.setProperty("cursor","pointer"),y.style.setProperty("font-size","0.875rem"),y.style.setProperty("color","#475569"),e(y,()=>ee()==="en"?"Espanol":"English"),n(Se,cn),e(Se,()=>r("pageTitle")),n(Ce,pn),e(Ce,()=>r("pageSubtitle")),e(d,x(_,{get when(){return wt()},get children(){var D=ri(),j=D.firstChild,K=j.firstChild,Z=K.nextSibling;return n(K,Rn),Z.style.setProperty("color","#64748b"),e(Z,()=>r("loadingRequest")),p(V=>{var ce={...ht,padding:"3rem"},ge=En;return V.e=n(D,ce,V.e),V.t=n(j,ge,V.t),V},{e:void 0,t:void 0}),D}}),dt),e(d,x(_,{get when(){return N(()=>!wt())()&&kt()},get children(){var D=ni(),j=D.firstChild,K=j.firstChild,Z=K.nextSibling,V=Z.nextSibling,ce=V.nextSibling;return j.style.setProperty("padding","3rem"),j.style.setProperty("text-align","center"),K.style.setProperty("font-size","4rem"),K.style.setProperty("margin-bottom","1rem"),Z.style.setProperty("color","#dc2626"),Z.style.setProperty("margin-bottom","0.5rem"),e(Z,()=>r("errorTitle")),V.style.setProperty("color","#64748b"),V.style.setProperty("margin-bottom","1.5rem"),e(V,kt),ce.style.setProperty("color","#94a3b8"),ce.style.setProperty("font-size","0.875rem"),e(ce,()=>r("errorContact")),p(ge=>n(D,ht,ge)),D}}),dt),e(d,x(_,{get when(){return N(()=>!wt()&&!kt())()&&$()},get children(){return[x(_,{get when(){return Qt()},get children(){var D=tt(),j=D.firstChild,K=j.nextSibling;return j.style.setProperty("font-size","1.25rem"),e(K,Qt),p(Z=>n(D,Sr("success"),Z)),D}}),(()=>{var D=oi(),j=D.firstChild,K=j.firstChild,Z=K.firstChild,V=Z.nextSibling;V.nextSibling;var ce=K.nextSibling,ge=ce.firstChild,Ot=ge.firstChild,Ze=Ot.nextSibling;Ze.nextSibling;var xt=ge.nextSibling,$t=xt.nextSibling,Qe=j.nextSibling,ct=Qe.firstChild,_e=ct.firstChild,jt=_e.firstChild,Ct=_e.nextSibling,_t=ct.nextSibling,An=_t.firstChild,$r=_t.nextSibling;return n(j,gn),n(K,mn),e(K,()=>r("Hello"),Z),e(K,()=>$()?.clientName||$()?.recipientName,V),e(ge,()=>r("TaxYear"),Ze),e(ge,()=>$()?.taxYear,null),e($t,()=>Kn($()?.expiresAt||0)),n(Qe,yn),ct.style.setProperty("margin-bottom","1.5rem"),n(_e,vn),e(Ct,()=>Pt===100?r("allDocsUploaded"):`${Pt}% ${r("completed")} - ${Pr.length} ${r("docRequired")}${Pr.length!==1?"s":""} ${r("remaining")}`),e(Qe,x(_,{get when(){return $()?.instructions},get children(){var b=ii(),ne=b.firstChild,me=ne.firstChild,Pe=me.firstChild,Ee=ne.nextSibling;return n(b,In),n(ne,Nn),e(me,()=>r("IfyPrep"),Pe),n(Ee,Bn),e(Ee,()=>$()?.instructions),b}}),_t),e(An,()=>r("RequestedDocuments")),e($r,x(Wt,{get each(){return $()?.requestedDocuments},children:b=>{ve("Document:",b.type,"Label:",b.label,"Is verification form?",_r(b.type));const ne=kr().get(b.type),me=b.uploaded||ne?.status==="success",Pe=ne?.status==="uploading"||ne?.status==="processing",Ee=ne?.status==="error",Vt=_r(b.type),ue=()=>{const Y=$();return b.type==="verify_ssn"||b.type==="verify_info"?Tt()||!!Y?.clientVerification?.submittedAt:b.type==="verify_bank_info"?Dt()||!!Y?.clientBankInfo?.submittedAt:b.type==="provide_dependent_info"?It()||Y?.clientDependents&&Y.clientDependents.length>0:b.type==="sign_letter"?Lt()||!!Y?.clientSignature?.signedAt:b.type==="review_summary"?Rt()||!!Y?.clientReviewConfirmation?.reviewedAt:b.type==="set_signing_pin"?zt()||!!Y?.clientSigningPin?.setAt:!1};return Vt?(()=>{var Y=Fe();return n(Y,Tn),e(Y,x(_,{get when(){return b.type==="verify_ssn"||b.type==="verify_info"},get children(){return[(()=>{var a=rt(),s=a.firstChild,c=s.nextSibling;return e(s,()=>r("verifyInfoTitle"),null),e(s,(()=>{var i=N(()=>!!b.required);return()=>i()&&(()=>{var g=it();return p(m=>n(g,{...Be,"margin-left":"0.5rem"},m)),g})()})(),null),e(c,(()=>{var i=N(()=>!!ue());return()=>i()?r("statusComplete"):r("statusPending")})()),p(i=>{var g=Ye,m=Ge,u=Ke(ue());return i.e=n(a,g,i.e),i.t=n(s,m,i.t),i.a=n(c,u,i.a),i},{e:void 0,t:void 0,a:void 0}),a})(),(()=>{var a=nt();return e(a,()=>r("verifyInfoDescription")),p(s=>n(a,We,s)),a})(),x(_,{get when(){return N(()=>!Tt())()&&!$()?.clientVerification?.submittedAt},get children(){var a=di(),s=a.firstChild,c=s.firstChild,i=c.firstChild,g=c.nextSibling,m=s.nextSibling,u=m.firstChild,h=u.firstChild,w=u.nextSibling,C=w.firstChild,z=C.nextSibling,T=z.nextSibling,J=T.nextSibling,q=J.nextSibling,M=m.nextSibling,k=M.firstChild,B=k.nextSibling,U=M.nextSibling,P=U.firstChild,I=P.nextSibling,A=U.nextSibling,L=A.firstChild,Q=L.firstChild,X=Q.nextSibling,S=L.nextSibling,re=S.firstChild,te=re.nextSibling,o=A.nextSibling,H=o.firstChild,O=H.nextSibling,v=o.nextSibling;return e(c,()=>r("ssnLabel"),i),g.$$input=f=>Ne("ssn",f.currentTarget.value),e(u,()=>r("filingStatusLabel"),h),w.addEventListener("change",f=>Ne("filingStatus",f.currentTarget.value)),e(C,()=>r("select")),e(z,()=>r("filingStatusSingle")),e(T,()=>r("filingStatusMarried")),e(J,()=>r("filingStatusMarriedSeparate")),e(q,()=>r("filingStatusHeadHousehold")),e(k,()=>r("phoneLabel")),B.$$input=f=>Ne("phone",f.currentTarget.value),e(P,()=>r("addressLabel")),I.$$input=f=>Ne("address",f.currentTarget.value),e(Q,()=>r("cityLabel")),X.$$input=f=>Ne("city",f.currentTarget.value),e(re,()=>r("stateLabel")),te.$$input=f=>Ne("state",f.currentTarget.value),e(H,()=>r("zipLabel")),O.$$input=async f=>{const fe=f.currentTarget.value;Ne("zipCode",fe);const ye=fe.replace(/\D/g,"");if(ye.length===5){const ae=await ti(ye);ae&&Xt(xe=>({...xe,city:ae.city,state:ae.stateAbbreviation}))}},v.$$click=Zr,e(v,()=>r("submitVerification")),p(f=>{var fe=lt,ye=F,ae=G,xe=r("ssnPlaceholder"),we=F,Re=Ut,ze=F,De=G,Ae=F,Ie=G,pt=Mt,Yt=F,Gt=G,Fn=F,qn=G,Un=F,Mn=G,Hn=Le;return f.e=n(a,fe,f.e),f.t=n(c,ye,f.t),f.a=n(g,ae,f.a),xe!==f.o&&Xe(g,"placeholder",f.o=xe),f.i=n(u,we,f.i),f.n=n(w,Re,f.n),f.s=n(k,ze,f.s),f.h=n(B,De,f.h),f.r=n(P,Ae,f.r),f.d=n(I,Ie,f.d),f.l=n(A,pt,f.l),f.u=n(Q,Yt,f.u),f.c=n(X,Gt,f.c),f.w=n(re,Fn,f.w),f.m=n(te,qn,f.m),f.f=n(H,Un,f.f),f.y=n(O,Mn,f.y),f.g=n(v,Hn,f.g),f},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0}),p(()=>g.value=ie().ssn),p(()=>w.value=ie().filingStatus),p(()=>B.value=ie().phone),p(()=>I.value=ie().address),p(()=>X.value=ie().city),p(()=>te.value=ie().state),p(()=>O.value=ie().zipCode),a}}),x(_,{get when(){return Tt()||$()?.clientVerification?.submittedAt},get children(){var a=tt(),s=a.firstChild,c=s.nextSibling;return s.style.setProperty("font-size","1.5rem"),e(c,()=>r("verificationComplete")),p(i=>n(a,Je,i)),a}})]}}),null),e(Y,x(_,{get when(){return b.type==="verify_bank_info"},get children(){return[(()=>{var a=rt(),s=a.firstChild,c=s.nextSibling;return e(s,()=>r("bankInfoTitle"),null),e(s,(()=>{var i=N(()=>!!b.required);return()=>i()&&(()=>{var g=it();return p(m=>n(g,{...Be,"margin-left":"0.5rem"},m)),g})()})(),null),e(c,(()=>{var i=N(()=>!!ue());return()=>i()?r("statusComplete"):r("statusPending")})()),p(i=>{var g=Ye,m=Ge,u=Ke(ue());return i.e=n(a,g,i.e),i.t=n(s,m,i.t),i.a=n(c,u,i.a),i},{e:void 0,t:void 0,a:void 0}),a})(),(()=>{var a=nt();return e(a,()=>r("bankInfoDescription")),p(s=>n(a,We,s)),a})(),x(_,{get when(){return N(()=>!Dt())()&&!$()?.clientBankInfo?.submittedAt},get children(){var a=ui(),s=a.firstChild,c=s.firstChild,i=c.nextSibling,g=s.nextSibling,m=g.firstChild,u=m.firstChild,h=m.nextSibling,w=h.firstChild,C=w.nextSibling,z=C.nextSibling,T=g.nextSibling,J=T.firstChild,q=J.firstChild,M=J.nextSibling,k=T.nextSibling,B=k.firstChild,U=B.firstChild,P=B.nextSibling,I=k.nextSibling,A=I.firstChild,L=A.firstChild,Q=A.nextSibling,X=I.nextSibling,S=X.firstChild,re=S.nextSibling,te=X.nextSibling;return s.style.setProperty("position","relative"),e(c,()=>r("bankNameLabel")),i.addEventListener("blur",()=>{setTimeout(()=>ot(!1),200)}),i.addEventListener("focus",()=>{if($e().bankName.length>=1){const o=Cr.filter(H=>H.toLowerCase().includes($e().bankName.toLowerCase())).slice(0,8);mt(o),ot(o.length>0)}}),i.$$input=o=>Ve("bankName",o.currentTarget.value),e(s,x(_,{get when(){return N(()=>!!Nr())()&&tr().length>0},get children(){var o=Fe();return o.style.setProperty("position","absolute"),o.style.setProperty("top","100%"),o.style.setProperty("left","0"),o.style.setProperty("right","0"),o.style.setProperty("background","white"),o.style.setProperty("border","1px solid var(--border-color)"),o.style.setProperty("border-radius","8px"),o.style.setProperty("box-shadow","0 4px 12px rgba(0,0,0,0.15)"),o.style.setProperty("z-index","1000"),o.style.setProperty("max-height","200px"),o.style.setProperty("overflow","auto"),e(o,x(Wt,{get each(){return tr()},children:H=>(()=>{var O=Fe();return O.$$mousedown=v=>{v.preventDefault(),Or(H)},O.addEventListener("mouseleave",v=>v.currentTarget.style.background="white"),O.addEventListener("mouseenter",v=>v.currentTarget.style.background="var(--hover-color, #f5f5f5)"),O.style.setProperty("padding","0.75rem 1rem"),O.style.setProperty("cursor","pointer"),O.style.setProperty("border-bottom","1px solid var(--border-color)"),O.style.setProperty("transition","background 0.15s"),e(O,H),O})()})),o}}),null),e(m,()=>r("accountTypeLabel"),u),h.addEventListener("change",o=>Ve("accountType",o.currentTarget.value)),e(w,()=>r("select")),e(C,()=>r("accountTypeChecking")),e(z,()=>r("accountTypeSavings")),e(J,()=>r("routingNumberLabel"),q),M.$$input=o=>Ve("routingNumber",o.currentTarget.value),e(B,()=>r("accountNumberLabel"),U),P.$$input=o=>Ve("accountNumber",o.currentTarget.value),e(A,()=>r("confirmAccountLabel"),L),Q.$$input=o=>Ve("confirmAccountNumber",o.currentTarget.value),e(S,()=>r("accountHolderLabel")),re.$$input=o=>Ve("accountHolderName",o.currentTarget.value),te.$$click=Qr,e(te,()=>r("submitBankInfo")),p(o=>{var H=lt,O=F,v=G,f=r("bankNamePlaceholder"),fe=F,ye=Ut,ae=F,xe=G,we=F,Re=G,ze=F,De=G,Ae=F,Ie=G,pt=Le;return o.e=n(a,H,o.e),o.t=n(c,O,o.t),o.a=n(i,v,o.a),f!==o.o&&Xe(i,"placeholder",o.o=f),o.i=n(m,fe,o.i),o.n=n(h,ye,o.n),o.s=n(J,ae,o.s),o.h=n(M,xe,o.h),o.r=n(B,we,o.r),o.d=n(P,Re,o.d),o.l=n(A,ze,o.l),o.u=n(Q,De,o.u),o.c=n(S,Ae,o.c),o.w=n(re,Ie,o.w),o.m=n(te,pt,o.m),o},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0}),p(()=>i.value=$e().bankName),p(()=>h.value=$e().accountType),p(()=>M.value=$e().routingNumber),p(()=>P.value=$e().accountNumber),p(()=>Q.value=$e().confirmAccountNumber),p(()=>re.value=$e().accountHolderName),a}}),x(_,{get when(){return Dt()||$()?.clientBankInfo?.submittedAt},get children(){var a=tt(),s=a.firstChild,c=s.nextSibling;return s.style.setProperty("font-size","1.5rem"),e(c,()=>r("bankInfoComplete")),p(i=>n(a,Je,i)),a}})]}}),null),e(Y,x(_,{get when(){return b.type==="provide_dependent_info"},get children(){return[(()=>{var a=rt(),s=a.firstChild,c=s.nextSibling;return e(s,()=>r("dependentTitle"),null),e(s,(()=>{var i=N(()=>!!b.required);return()=>i()&&(()=>{var g=it();return p(m=>n(g,{...Be,"margin-left":"0.5rem"},m)),g})()})(),null),e(c,(()=>{var i=N(()=>!!ue());return()=>i()?r("statusComplete"):r("statusPending")})()),p(i=>{var g=Ye,m=Ge,u=Ke(ue());return i.e=n(a,g,i.e),i.t=n(s,m,i.t),i.a=n(c,u,i.a),i},{e:void 0,t:void 0,a:void 0}),a})(),(()=>{var a=nt();return e(a,()=>r("dependentDescription")),p(s=>n(a,We,s)),a})(),x(_,{get when(){return N(()=>!It())()&&!($()?.clientDependents&&$().clientDependents.length>0)},get children(){return[x(_,{get when(){return Me().length>0},get children(){var a=Fe();return a.style.setProperty("margin-bottom","1rem"),e(a,x(Wt,{get each(){return Me()},children:(s,c)=>(()=>{var i=hi(),g=i.firstChild,m=g.firstChild,u=m.firstChild,h=m.nextSibling,w=g.nextSibling;return n(i,Dn),m.style.setProperty("font-weight","500"),e(m,()=>s.firstName,u),e(m,()=>s.lastName,null),h.style.setProperty("font-size","0.875rem"),h.style.setProperty("color","#64748b"),e(h,()=>s.relationship),w.$$click=()=>rr(C=>C.filter((z,T)=>T!==c())),p(C=>n(w,{...Ht,padding:"0.375rem 0.75rem","font-size":"0.875rem"},C)),i})()})),a}}),x(_,{get when(){return N(()=>Me().length===0)()&&!Nt()},get children(){var a=Fe();return a.style.setProperty("text-align","center"),a.style.setProperty("padding","1rem"),a.style.setProperty("color","#64748b"),e(a,()=>r("noDependents")),a}}),x(_,{get when(){return Nt()},get children(){var a=ci(),s=a.firstChild,c=s.firstChild,i=c.firstChild,g=i.firstChild,m=i.nextSibling,u=c.nextSibling,h=u.firstChild,w=h.firstChild,C=h.nextSibling,z=s.nextSibling,T=z.firstChild,J=T.firstChild,q=T.nextSibling,M=q.firstChild,k=M.nextSibling,B=k.nextSibling,U=B.nextSibling,P=U.nextSibling,I=P.nextSibling,A=z.nextSibling,L=A.firstChild,Q=L.firstChild,X=Q.nextSibling,S=L.nextSibling,re=S.firstChild,te=re.nextSibling,o=A.nextSibling,H=o.firstChild,O=H.nextSibling;return a.style.setProperty("padding","1rem"),a.style.setProperty("background","#f8fafc"),a.style.setProperty("border-radius","8px"),a.style.setProperty("margin-bottom","1rem"),e(i,()=>r("dependentFirstName"),g),m.$$input=v=>st("firstName",v.currentTarget.value),e(h,()=>r("dependentLastName"),w),C.$$input=v=>st("lastName",v.currentTarget.value),e(T,()=>r("dependentRelationship"),J),q.addEventListener("change",v=>st("relationship",v.currentTarget.value)),e(M,()=>r("select")),e(k,()=>r("relationshipChild")),e(B,()=>r("relationshipStepchild")),e(U,()=>r("relationshipParent")),e(P,()=>r("relationshipSibling")),e(I,()=>r("relationshipOther")),e(Q,()=>r("dependentSSN")),X.$$input=v=>st("ssn",v.currentTarget.value),e(re,()=>r("dependentDOB")),te.$$input=v=>st("dateOfBirth",v.currentTarget.value),o.style.setProperty("display","flex"),o.style.setProperty("gap","0.75rem"),o.style.setProperty("margin-top","0.5rem"),H.$$click=()=>Bt(!1),e(H,()=>r("cancelDependent")),O.$$click=Xr,e(O,()=>r("saveDependent")),p(v=>{var f=Mt,fe=F,ye=G,ae=F,xe=G,we=F,Re=Ut,ze=Mt,De=F,Ae=G,Ie=F,pt=G,Yt=Ht,Gt=Le;return v.e=n(s,f,v.e),v.t=n(i,fe,v.t),v.a=n(m,ye,v.a),v.o=n(h,ae,v.o),v.i=n(C,xe,v.i),v.n=n(T,we,v.n),v.s=n(q,Re,v.s),v.h=n(A,ze,v.h),v.r=n(Q,De,v.r),v.d=n(X,Ae,v.d),v.l=n(re,Ie,v.l),v.u=n(te,pt,v.u),v.c=n(H,Yt,v.c),v.w=n(O,Gt,v.w),v},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0}),p(()=>m.value=He().firstName),p(()=>C.value=He().lastName),p(()=>q.value=He().relationship),p(()=>X.value=He().ssn),p(()=>te.value=He().dateOfBirth),a}}),x(_,{get when(){return!Nt()},get children(){var a=pi(),s=a.firstChild;s.firstChild;var c=s.nextSibling;return a.style.setProperty("display","flex"),a.style.setProperty("gap","0.75rem"),s.$$click=()=>Bt(!0),e(s,()=>r("addDependent"),null),c.$$click=en,e(c,(()=>{var i=N(()=>Me().length===0);return()=>i()?r("skipDependents"):r("dependentsComplete")})()),p(i=>{var g=Ht,m=Le;return i.e=n(s,g,i.e),i.t=n(c,m,i.t),i},{e:void 0,t:void 0}),a}})]}}),x(_,{get when(){return It()||$()?.clientDependents&&$().clientDependents.length>0},get children(){var a=gi(),s=a.firstChild,c=s.nextSibling,i=c.firstChild,g=i.nextSibling;return g.nextSibling,s.style.setProperty("font-size","1.5rem"),e(c,()=>r("dependentsComplete"),i),e(c,()=>Me().length,g),p(m=>n(a,Je,m)),a}})]}}),null),e(Y,x(_,{get when(){return b.type==="sign_letter"},get children(){return[(()=>{var a=rt(),s=a.firstChild,c=s.nextSibling;return e(s,()=>r("signLetterTitle"),null),e(s,(()=>{var i=N(()=>!!b.required);return()=>i()&&(()=>{var g=it();return p(m=>n(g,{...Be,"margin-left":"0.5rem"},m)),g})()})(),null),e(c,(()=>{var i=N(()=>!!ue());return()=>i()?r("statusComplete"):r("statusPending")})()),p(i=>{var g=Ye,m=Ge,u=Ke(ue());return i.e=n(a,g,i.e),i.t=n(s,m,i.t),i.a=n(c,u,i.a),i},{e:void 0,t:void 0,a:void 0}),a})(),(()=>{var a=nt();return e(a,()=>r("signLetterDescription")),p(s=>n(a,We,s)),a})(),x(_,{get when(){return N(()=>!Lt())()&&!$()?.clientSignature?.signedAt},get children(){var a=mi(),s=a.firstChild,c=s.nextSibling,i=c.firstChild,g=i.nextSibling,m=g.firstChild,u=c.nextSibling,h=u.firstChild,w=h.firstChild,C=h.nextSibling,z=C.firstChild,T=z.nextSibling,J=T.nextSibling,q=C.nextSibling,M=q.firstChild,k=M.nextSibling,B=u.nextSibling,U=B.firstChild,P=U.firstChild,I=U.nextSibling,A=B.nextSibling,L=A.firstChild,Q=L.nextSibling,X=A.nextSibling;return s.style.setProperty("padding","1rem"),s.style.setProperty("background","#f8fafc"),s.style.setProperty("border-radius","8px"),s.style.setProperty("border","1px solid #e2e8f0"),s.style.setProperty("font-size","0.9rem"),s.style.setProperty("line-height","1.6"),s.style.setProperty("color","#475569"),s.style.setProperty("max-height","200px"),s.style.setProperty("overflow-y","auto"),e(s,()=>r("engagementLetterText")),c.style.setProperty("display","flex"),c.style.setProperty("align-items","flex-start"),c.style.setProperty("gap","0.75rem"),i.addEventListener("change",S=>vt("agreedToTerms",S.currentTarget.checked)),i.style.setProperty("width","20px"),i.style.setProperty("height","20px"),i.style.setProperty("margin-top","2px"),i.style.setProperty("cursor","pointer"),g.style.setProperty("font-size","0.9rem"),g.style.setProperty("color","#1e293b"),g.style.setProperty("cursor","pointer"),e(g,()=>r("agreeToTermsLabel"),m),e(h,()=>r("signatureBoxLabel"),w),C.style.setProperty("position","relative"),C.style.setProperty("border-radius","8px"),C.style.setProperty("background","#ffffff"),C.style.setProperty("overflow","hidden"),z.$$touchend=Ft,z.$$touchmove=S=>fr(S),z.$$touchstart=S=>mr(S),z.addEventListener("mouseleave",Ft),z.$$mouseup=Ft,z.$$mousemove=S=>fr(S),z.$$mousedown=S=>mr(S),Jt(S=>jr(S),z),z.style.setProperty("width","100%"),z.style.setProperty("height","150px"),z.style.setProperty("cursor","crosshair"),z.style.setProperty("touch-action","none"),T.style.setProperty("position","absolute"),T.style.setProperty("bottom","30px"),T.style.setProperty("left","20px"),T.style.setProperty("right","20px"),T.style.setProperty("height","1px"),T.style.setProperty("background","#94a3b8"),T.style.setProperty("pointer-events","none"),J.style.setProperty("position","absolute"),J.style.setProperty("bottom","35px"),J.style.setProperty("left","15px"),J.style.setProperty("color","#94a3b8"),J.style.setProperty("font-size","1rem"),J.style.setProperty("pointer-events","none"),q.style.setProperty("display","flex"),q.style.setProperty("justify-content","space-between"),q.style.setProperty("align-items","center"),q.style.setProperty("margin-top","0.5rem"),M.style.setProperty("font-size","0.8rem"),M.style.setProperty("color","#64748b"),e(M,()=>r("signatureInstructions")),k.$$click=Vr,k.style.setProperty("padding","0.4rem 0.75rem"),k.style.setProperty("font-size","0.8rem"),k.style.setProperty("background","#f1f5f9"),k.style.setProperty("border","1px solid #e2e8f0"),k.style.setProperty("border-radius","6px"),k.style.setProperty("color","#64748b"),k.style.setProperty("cursor","pointer"),e(k,()=>r("clearSignature")),e(U,()=>r("signatureNameLabel"),P),I.$$input=S=>vt("name",S.currentTarget.value),e(L,()=>r("signatureDateLabel")),Q.$$input=S=>vt("date",S.currentTarget.value),X.$$click=tn,e(X,()=>r("submitSignature")),p(S=>{var re=lt,te=F,o=Oe()?"2px solid #22c55e":"2px dashed #cbd5e1",H=F,O=G,v=r("signatureNamePlaceholder"),f=F,fe=G,ye={...Le,opacity:!he().agreedToTerms||!Oe()||!he().name?.5:1,cursor:!he().agreedToTerms||!Oe()||!he().name?"not-allowed":"pointer"},ae=!he().agreedToTerms||!Oe()||!he().name;return S.e=n(a,re,S.e),S.t=n(h,te,S.t),o!==S.a&&((S.a=o)!=null?C.style.setProperty("border",o):C.style.removeProperty("border")),S.o=n(U,H,S.o),S.i=n(I,O,S.i),v!==S.n&&Xe(I,"placeholder",S.n=v),S.s=n(L,f,S.s),S.h=n(Q,fe,S.h),S.r=n(X,ye,S.r),ae!==S.d&&(X.disabled=S.d=ae),S},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0}),p(()=>i.checked=he().agreedToTerms),p(()=>I.value=he().name),p(()=>Q.value=he().date),a}}),x(_,{get when(){return Lt()||$()?.clientSignature?.signedAt},get children(){var a=tt(),s=a.firstChild,c=s.nextSibling;return s.style.setProperty("font-size","1.5rem"),e(c,()=>r("signatureComplete")),p(i=>n(a,Je,i)),a}})]}}),null),e(Y,x(_,{get when(){return b.type==="review_summary"},get children(){return[(()=>{var a=rt(),s=a.firstChild,c=s.nextSibling;return e(s,()=>r("reviewSummaryTitle"),null),e(s,(()=>{var i=N(()=>!!b.required);return()=>i()&&(()=>{var g=it();return p(m=>n(g,{...Be,"margin-left":"0.5rem"},m)),g})()})(),null),e(c,(()=>{var i=N(()=>!!ue());return()=>i()?r("statusComplete"):r("statusPending")})()),p(i=>{var g=Ye,m=Ge,u=Ke(ue());return i.e=n(a,g,i.e),i.t=n(s,m,i.t),i.a=n(c,u,i.a),i},{e:void 0,t:void 0,a:void 0}),a})(),(()=>{var a=nt();return e(a,()=>r("reviewSummaryDescription")),p(s=>n(a,We,s)),a})(),x(_,{get when(){return N(()=>!Rt())()&&!$()?.clientReviewConfirmation?.reviewedAt},get children(){var a=vi(),s=a.firstChild,c=s.firstChild,i=c.nextSibling,g=i.firstChild,m=g.firstChild,u=m.firstChild,h=m.nextSibling,w=g.nextSibling,C=w.firstChild,z=C.firstChild,T=C.nextSibling,J=T.firstChild,q=s.nextSibling,M=q.firstChild,k=M.nextSibling,B=k.firstChild,U=q.nextSibling;return s.style.setProperty("padding","1rem"),s.style.setProperty("background","#f0f9ff"),s.style.setProperty("border-radius","8px"),s.style.setProperty("border","1px solid #bfdbfe"),c.style.setProperty("font-size","1rem"),c.style.setProperty("font-weight","600"),c.style.setProperty("color","#1e40af"),c.style.setProperty("margin-bottom","0.75rem"),e(c,()=>r("clientInfoSummary")),i.style.setProperty("display","flex"),i.style.setProperty("flex-direction","column"),i.style.setProperty("gap","0.5rem"),g.style.setProperty("display","flex"),g.style.setProperty("justify-content","space-between"),g.style.setProperty("font-size","0.9rem"),m.style.setProperty("color","#64748b"),e(m,()=>r("clientNameLabel"),u),h.style.setProperty("color","#1e293b"),h.style.setProperty("font-weight","500"),e(h,()=>$()?.clientName||"-"),e(i,x(_,{get when(){return ie().ssn},get children(){var P=fi(),I=P.firstChild,A=I.firstChild,L=I.nextSibling;return L.firstChild,P.style.setProperty("display","flex"),P.style.setProperty("justify-content","space-between"),P.style.setProperty("font-size","0.9rem"),I.style.setProperty("color","#64748b"),e(I,()=>r("ssnLast4Label"),A),L.style.setProperty("color","#1e293b"),L.style.setProperty("font-weight","500"),e(L,()=>ie().ssn.slice(-4),null),P}}),w),e(i,x(_,{get when(){return ie().filingStatus},get children(){var P=yi(),I=P.firstChild,A=I.firstChild,L=I.nextSibling;return P.style.setProperty("display","flex"),P.style.setProperty("justify-content","space-between"),P.style.setProperty("font-size","0.9rem"),I.style.setProperty("color","#64748b"),e(I,()=>r("filingStatusSummaryLabel"),A),L.style.setProperty("color","#1e293b"),L.style.setProperty("font-weight","500"),e(L,(()=>{var Q=N(()=>ie().filingStatus==="single");return()=>Q()?r("filingStatusSingle"):N(()=>ie().filingStatus==="married_jointly")()?r("filingStatusMarried"):N(()=>ie().filingStatus==="married_separate")()?r("filingStatusMarriedSeparate"):N(()=>ie().filingStatus==="head_household")()?r("filingStatusHeadHousehold"):ie().filingStatus})()),P}}),w),w.style.setProperty("display","flex"),w.style.setProperty("justify-content","space-between"),w.style.setProperty("font-size","0.9rem"),C.style.setProperty("color","#64748b"),e(C,()=>r("documentsUploadedLabel"),z),T.style.setProperty("color","#1e293b"),T.style.setProperty("font-weight","500"),e(T,()=>$()?.requestedDocuments.filter(P=>P.uploaded).length||0,J),e(T,()=>$()?.requestedDocuments.length||0,null),q.style.setProperty("display","flex"),q.style.setProperty("align-items","flex-start"),q.style.setProperty("gap","0.75rem"),M.addEventListener("change",P=>Kr("confirmed",P.currentTarget.checked)),M.style.setProperty("width","20px"),M.style.setProperty("height","20px"),M.style.setProperty("margin-top","2px"),M.style.setProperty("cursor","pointer"),k.style.setProperty("font-size","0.9rem"),k.style.setProperty("color","#1e293b"),k.style.setProperty("cursor","pointer"),e(k,()=>r("confirmReviewLabel"),B),U.$$click=rn,e(U,()=>r("submitReview")),p(P=>{var I=lt,A=Le;return P.e=n(a,I,P.e),P.t=n(U,A,P.t),P},{e:void 0,t:void 0}),p(()=>M.checked=sr().confirmed),a}}),x(_,{get when(){return Rt()||$()?.clientReviewConfirmation?.reviewedAt},get children(){var a=tt(),s=a.firstChild,c=s.nextSibling;return s.style.setProperty("font-size","1.5rem"),e(c,()=>r("reviewComplete")),p(i=>n(a,Je,i)),a}})]}}),null),e(Y,x(_,{get when(){return b.type==="set_signing_pin"},get children(){return[(()=>{var a=rt(),s=a.firstChild,c=s.nextSibling;return e(s,()=>r("signingPinTitle"),null),e(s,(()=>{var i=N(()=>!!b.required);return()=>i()&&(()=>{var g=it();return p(m=>n(g,{...Be,"margin-left":"0.5rem"},m)),g})()})(),null),e(c,(()=>{var i=N(()=>!!ue());return()=>i()?r("statusComplete"):r("statusPending")})()),p(i=>{var g=Ye,m=Ge,u=Ke(ue());return i.e=n(a,g,i.e),i.t=n(s,m,i.t),i.a=n(c,u,i.a),i},{e:void 0,t:void 0,a:void 0}),a})(),(()=>{var a=nt();return e(a,()=>r("signingPinDescription")),p(s=>n(a,We,s)),a})(),x(_,{get when(){return N(()=>!zt())()&&!$()?.clientSigningPin?.setAt},get children(){var a=bi(),s=a.firstChild,c=s.firstChild;c.nextSibling;var i=s.nextSibling,g=i.firstChild,m=g.firstChild,u=m.firstChild,h=m.nextSibling,w=g.nextSibling,C=w.firstChild,z=C.firstChild,T=C.nextSibling,J=i.nextSibling,q=J.firstChild,M=q.firstChild,k=q.nextSibling,B=k.firstChild,U=B.nextSibling,P=U.nextSibling,I=k.nextSibling,A=I.firstChild,L=A.nextSibling,Q=J.nextSibling,X=Q.firstChild,S=X.firstChild,re=X.nextSibling,te=Q.nextSibling;return s.style.setProperty("padding","1rem"),s.style.setProperty("background","#fef3c7"),s.style.setProperty("border-radius","8px"),s.style.setProperty("border","1px solid #fcd34d"),s.style.setProperty("font-size","0.875rem"),s.style.setProperty("line-height","1.5"),s.style.setProperty("color","#92400e"),e(s,()=>ee()==="es"?"Autorizacion de firma electronica para declaracion de impuestos. Su PIN de 5 digitos y firma autorizan la presentacion electronica de su declaracion.":"E-file Signature Authorization. Your 5-digit PIN and signature authorize electronic filing of your tax return.",null),i.style.setProperty("display","grid"),i.style.setProperty("grid-template-columns","1fr 1fr"),i.style.setProperty("gap","1rem"),e(m,()=>r("pinLabel"),u),h.$$input=o=>{const H=o.currentTarget.value.replace(/\D/g,"").slice(0,5);Ar(H),ke(null)},e(C,()=>r("confirmPinLabel"),z),T.$$input=o=>{const H=o.currentTarget.value.replace(/\D/g,"").slice(0,5);Fr(H),ke(null)},e(w,x(_,{get when(){return N(()=>!!(pe()&&oe()))()&&pe()!==oe()},get children(){var o=gt();return o.style.setProperty("color","#dc2626"),o.style.setProperty("font-size","0.75rem"),o.style.setProperty("margin-top","0.25rem"),o.style.setProperty("display","block"),e(o,()=>r("pinMismatch")),o}}),null),e(q,()=>r("signatureBoxLabel"),M),k.style.setProperty("position","relative"),k.style.setProperty("border-radius","8px"),k.style.setProperty("background","#ffffff"),k.style.setProperty("overflow","hidden"),B.$$touchend=qt,B.$$touchmove=o=>vr(o),B.$$touchstart=o=>yr(o),B.addEventListener("mouseleave",qt),B.$$mouseup=qt,B.$$mousemove=o=>vr(o),B.$$mousedown=o=>yr(o),Jt(o=>Gr(o),B),B.style.setProperty("width","100%"),B.style.setProperty("height","150px"),B.style.setProperty("cursor","crosshair"),B.style.setProperty("touch-action","none"),U.style.setProperty("position","absolute"),U.style.setProperty("bottom","30px"),U.style.setProperty("left","20px"),U.style.setProperty("right","20px"),U.style.setProperty("height","1px"),U.style.setProperty("background","#94a3b8"),U.style.setProperty("pointer-events","none"),P.style.setProperty("position","absolute"),P.style.setProperty("bottom","35px"),P.style.setProperty("left","15px"),P.style.setProperty("color","#94a3b8"),P.style.setProperty("font-size","1rem"),P.style.setProperty("pointer-events","none"),I.style.setProperty("display","flex"),I.style.setProperty("justify-content","space-between"),I.style.setProperty("align-items","center"),I.style.setProperty("margin-top","0.5rem"),A.style.setProperty("font-size","0.8rem"),A.style.setProperty("color","#64748b"),e(A,()=>r("signatureInstructions")),L.$$click=Wr,L.style.setProperty("padding","0.4rem 0.75rem"),L.style.setProperty("font-size","0.8rem"),L.style.setProperty("background","#f1f5f9"),L.style.setProperty("border","1px solid #e2e8f0"),L.style.setProperty("border-radius","6px"),L.style.setProperty("color","#64748b"),L.style.setProperty("cursor","pointer"),e(L,()=>r("clearSignature")),e(X,()=>r("signatureNameLabel"),S),re.$$input=o=>{Ur(o.currentTarget.value),ke(null)},e(a,x(_,{get when(){return lr()},get children(){var o=Fe();return o.style.setProperty("padding","0.75rem"),o.style.setProperty("background","#fef2f2"),o.style.setProperty("border","1px solid #fecaca"),o.style.setProperty("border-radius","6px"),o.style.setProperty("color","#dc2626"),o.style.setProperty("font-size","0.875rem"),e(o,lr),o}}),te),te.$$click=nn,e(te,()=>r("submitPin")),p(o=>{var H=lt,O=F,v={...G,"font-size":"1.5rem","text-align":"center","letter-spacing":"0.5rem","font-weight":"bold"},f=r("pinPlaceholder"),fe=F,ye={...G,"font-size":"1.5rem","text-align":"center","letter-spacing":"0.5rem","font-weight":"bold","border-color":pe()&&oe()&&pe()!==oe()?"#dc2626":void 0},ae=r("confirmPinPlaceholder"),xe=F,we=je()?"2px solid #22c55e":"2px dashed #cbd5e1",Re=F,ze=G,De=r("signatureNamePlaceholder"),Ae={...Le,opacity:!oe()||!pe()||oe().length!==5||oe()!==pe()||!je()||!at()?.5:1,cursor:!oe()||!pe()||oe().length!==5||oe()!==pe()||!je()||!at()?"not-allowed":"pointer"},Ie=!oe()||!pe()||oe().length!==5||oe()!==pe()||!je()||!at();return o.e=n(a,H,o.e),o.t=n(m,O,o.t),o.a=n(h,v,o.a),f!==o.o&&Xe(h,"placeholder",o.o=f),o.i=n(C,fe,o.i),o.n=n(T,ye,o.n),ae!==o.s&&Xe(T,"placeholder",o.s=ae),o.h=n(q,xe,o.h),we!==o.r&&((o.r=we)!=null?k.style.setProperty("border",we):k.style.removeProperty("border")),o.d=n(X,Re,o.d),o.l=n(re,ze,o.l),De!==o.u&&Xe(re,"placeholder",o.u=De),o.c=n(te,Ae,o.c),Ie!==o.w&&(te.disabled=o.w=Ie),o},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0}),p(()=>h.value=oe()),p(()=>T.value=pe()),p(()=>re.value=at()),a}}),x(_,{get when(){return zt()||$()?.clientSigningPin?.setAt},get children(){var a=tt(),s=a.firstChild,c=s.nextSibling;return s.style.setProperty("font-size","1.5rem"),e(c,()=>r("pinComplete")),p(i=>n(a,Je,i)),a}})]}}),null),Y})():(()=>{var Y=xi(),a=Y.firstChild,s=a.nextSibling,c=s.firstChild,i=c.nextSibling,g=i.firstChild,m=s.nextSibling;return a.addEventListener("change",u=>on(b.type,u)),Jt(u=>gr.set(b.type,u),a),a.style.setProperty("display","none"),n(s,xn),e(c,me&&$i()),n(g,Cn),e(g,()=>sn(b),null),e(g,(()=>{var u=N(()=>!!b.required);return()=>u()&&(()=>{var h=gt();return e(h,()=>r("REQUIRED")),p(w=>n(h,{...Be,"margin-left":"0.5rem"},w)),h})()})(),null),e(i,x(_,{get when(){return ne?.fileName&&Pe},get children(){var u=Fe();return u.style.setProperty("font-size","0.8rem"),u.style.setProperty("color","#64748b"),u.style.setProperty("margin-top","0.25rem"),e(u,()=>ne?.fileName),u}}),null),m.$$click=()=>!me&&!Pe&&br(b.type),m.disabled=me||Pe,e(m,me?(()=>{var u=gt();return e(u,()=>r("uploaded")),u})():Pe?[(()=>{var u=Ci();return u.style.setProperty("animation","spin 1s linear infinite"),u.style.setProperty("display","inline-block"),u})(),(()=>{var u=gt();return e(u,(()=>{var h=N(()=>ne?.status==="processing");return()=>h()?r("processing"):r("uploading")})()),u})()]:(()=>{var u=gt();return e(u,()=>r("upload")),u})()),e(Y,x(_,{get when(){return Pe&&ne?.progress},get children(){var u=Si(),h=u.firstChild,w=h.firstChild;return u.style.setProperty("width","100%"),n(h,kn),w.style.setProperty("height","100%"),w.style.setProperty("background","linear-gradient(90deg, #3b82f6 0%, #1d4ed8 100%)"),w.style.setProperty("transition","width 0.3s ease"),p(C=>(C=`${ne?.progress}%`)!=null?w.style.setProperty("width",C):w.style.removeProperty("width")),u}}),null),e(Y,x(_,{get when(){return Ee&&ne?.errorMessage},get children(){var u=Pi(),h=u.firstChild;return n(u,wn),e(u,()=>ne?.errorMessage,h),h.$$click=()=>br(b.type),h.style.setProperty("margin-left","0.5rem"),h.style.setProperty("background","none"),h.style.setProperty("border","none"),h.style.setProperty("color","#2563eb"),h.style.setProperty("cursor","pointer"),h.style.setProperty("text-decoration","underline"),h.style.setProperty("font-size","0.8rem"),e(h,()=>r("tryAgain")),u}}),null),p(u=>{var h=Pn(me,Ee),w=$n(me,b.required),C=_n(me,Pe);return u.e=n(Y,h,u.e),u.t=n(c,w,u.t),u.a=n(m,C,u.a),u},{e:void 0,t:void 0,a:void 0}),Y})()}})),p(b=>{var ne=ht,me=fn,Pe=bn(Pt),Ee=hn,Vt=hr,ue=Sn;return b.e=n(D,ne,b.e),b.t=n(ce,me,b.t),b.a=n(jt,Pe,b.a),b.o=n(Ct,Ee,b.o),b.i=n(_t,Vt,b.i),b.n=n($r,ue,b.n),b},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),D})(),x(_,{when:Pt===100,get children(){var D=ai(),j=D.firstChild,K=j.nextSibling,Z=K.firstChild,V=Z.nextSibling;return j.style.setProperty("font-size","2rem"),e(Z,()=>r("completionTitle")),V.style.setProperty("font-size","0.875rem"),V.style.setProperty("margin-top","0.25rem"),e(V,()=>r("completionMessage")),p(ce=>n(D,Sr("success"),ce)),D}}),(()=>{var D=si(),j=D.firstChild,K=j.firstChild,Z=j.nextSibling,V=Z.firstChild,ce=V.firstChild;ce.nextSibling;var ge=V.nextSibling,Ot=ge.firstChild,Ze=ge.nextSibling,xt=Ze.firstChild,$t=xt.nextSibling,Qe=$t.nextSibling,ct=Qe.nextSibling;return e(K,()=>r("needHelp")),Z.style.setProperty("color","#64748b"),Z.style.setProperty("font-size","0.9rem"),Z.style.setProperty("line-height","1.6"),V.style.setProperty("margin-bottom","0.75rem"),e(ce,()=>r("acceptedFiles")),e(V,()=>r("acceptedFilesDesc"),null),ge.style.setProperty("margin-bottom","0.75rem"),e(Ot,()=>r("tipsTitle")),Ze.style.setProperty("padding-left","1.5rem"),Ze.style.setProperty("margin","0"),e(xt,()=>r("tip1")),e($t,()=>r("tip2")),e(Qe,()=>r("tip3")),e(ct,()=>r("tip4")),p(_e=>{var jt={...ht,padding:"1.5rem"},Ct=hr;return _e.e=n(D,jt,_e.e),_e.t=n(j,Ct,_e.t),_e},{e:void 0,t:void 0}),D})()]}}),dt),e(xr,()=>r("secureTransmission")),ut.style.setProperty("margin-top","0.5rem"),ut.style.setProperty("font-size","0.8rem"),e(ut,()=>r("linkExpires"),zn),e(ut,(()=>{var D=N(()=>!!$()?.expiresAt);return()=>D()?new Date($().expiresAt).toLocaleDateString():"--"})(),null),p(D=>{var j=un,K=Ln;return D.e=n(W,j,D.e),D.t=n(dt,K,D.t),D},{e:void 0,t:void 0}),t})()};Vn(["click","input","mousedown","mousemove","mouseup","touchstart","touchmove","touchend"]);export{Bi as default};
