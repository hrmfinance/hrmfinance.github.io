import{t as g,i as o,a as c,h as r,b as y,S as N,c as ge,o as vt,f as _e,F as Pe,H as ht,d as yt}from"./index-KRdAjQWA.js";import{s as S}from"./supervisionStore-CQB6jIwg.js";import{L as mt}from"./LockStatusBadge-DBkY7iN4.js";import{L as Y}from"./ActionButton-DwcfjLml.js";var ft=g("<div><div>"),bt=g("<div><span>%");const pt=u=>{const m=()=>u.showBar??!1,v=()=>{const a=u.confidence;return a>=80?{level:"high",color:"#10B981",bgColor:"rgba(16, 185, 129, 0.1)",label:"High"}:a>=60?{level:"medium",color:"#F59E0B",bgColor:"rgba(245, 158, 11, 0.1)",label:"Medium"}:{level:"low",color:"#EF4444",bgColor:"rgba(239, 68, 68, 0.1)",label:"Low"}},i=()=>v(),s=()=>Math.round(u.confidence),C=()=>({display:"inline-flex","flex-direction":m()?"column":"row","align-items":m()?"stretch":"center",gap:m()?"0.25rem":"0"}),k=()=>({display:"inline-flex","align-items":"center","justify-content":"center",padding:"0.25rem 0.5rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"600",color:i().color,background:i().bgColor,border:`1px solid ${i().color}`,"min-width":"3rem"}),x={width:"100%",height:"4px",background:"rgba(0, 0, 0, 0.1)","border-radius":"2px",overflow:"hidden"},R=()=>({width:`${s()}%`,height:"100%",background:i().color,"border-radius":"2px",transition:"width 0.3s ease"});return(()=>{var a=bt(),w=a.firstChild,A=w.firstChild;return o(w,s,A),o(a,c(N,{get when(){return m()},get children(){var h=ft(),_=h.firstChild;return r(h,x),y(M=>r(_,R(),M)),h}}),null),y(h=>{var _=C(),M=k();return h.e=r(a,_,h.e),h.t=r(w,M,h.t),h},{e:void 0,t:void 0}),a})()};var xt=g("<span> processed"),wt=g("<div><div><span>%</span></div><div><div>");const St=u=>{const m=()=>Math.round(Math.min(100,Math.max(0,u.rate))),v=()=>{const a=m();return a>=80?"#10B981":a>=60?"#F59E0B":"#EF4444"},i={display:"flex","flex-direction":"column",gap:"0.375rem",width:"100%"},s={display:"flex","justify-content":"space-between","align-items":"center","font-size":"0.75rem"},C=()=>({"font-weight":"600",color:v()}),k={color:"var(--text-muted, #6B7280)","font-weight":"400"},x={width:"100%",height:"8px",background:"rgba(0, 0, 0, 0.1)","border-radius":"4px",overflow:"hidden"},R=()=>({width:`${m()}%`,height:"100%",background:v(),"border-radius":"4px",transition:"width 0.3s ease, background-color 0.3s ease"});return(()=>{var a=wt(),w=a.firstChild,A=w.firstChild,h=A.firstChild,_=w.nextSibling,M=_.firstChild;return r(a,i),r(w,s),o(A,m,h),o(w,c(N,{get when(){return u.count!==void 0},get children(){var f=xt(),V=f.firstChild;return r(f,k),o(f,()=>u.count,V),f}}),null),r(_,x),y(f=>{var V=C(),J=R();return f.e=r(A,V,f.e),f.t=r(M,J,f.t),f},{e:void 0,t:void 0}),a})()};var Ct=g("<span>"),kt=g("<div><p>Loading adapters..."),$t=g("<div>"),_t=g('<div><div><h1>ADAPTERS</h1><div><button><svg width=16 height=16 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1=12 y1=3 x2=12 y2=15></line></svg>Import</button><button><svg width=16 height=16 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2><line x1=12 y1=5 x2=12 y2=19></line><line x1=5 y1=12 x2=19 y2=12></line></svg>Create Adapter</button></div></div><div><input type=text placeholder="Search adapters by name..."><select><option value=all>All Sources</option></select><select><option value=all>All Status</option><option value=locked>Locked</option><option value=unlocked>Unlocked</option><option value=low_confidence>Low Confidence'),Pt=g("<option>"),Lt=g('<div><div><svg width=64 height=64 viewBox="0 0 24 24"fill=none stroke=#9ca3af stroke-width=1.5><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1=12 y1=18 x2=12 y2=12></line><line x1=9 y1=15 x2=15 y2=15></line></svg></div><h3>No Adapters Found</h3><p></p><button><svg width=16 height=16 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2><line x1=12 y1=5 x2=12 y2=19></line><line x1=5 y1=12 x2=19 y2=12></line></svg>Create Adapter'),Bt=g('<button><svg width=14 height=14 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx=12 cy=12 r=3></circle></svg>View'),At=g('<button><svg width=14 height=14 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2><rect x=3 y=11 width=18 height=11 rx=2 ry=2></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>Lock All'),Mt=g('<div><div><div><div><span></span></div><div><span>v</span></div></div><div></div></div><div><div><span>Success Rate</span></div><div><span>Processed</span><span></span></div><div><span>Success</span><span></span></div><div><span>Failed</span><span></span></div><div><span>Field Mappings</span><span><span>(<!> locked)</span></span></div><div><span>Pending Suggestions</span><span></span></div><div><span>Last Used</span><span></span></div></div><div><button><svg width=14 height=14 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg>Edit</button><button><svg width=14 height=14 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>Test</button><button><svg width=14 height=14 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2><circle cx=12 cy=12 r=10></circle><polyline points="12 6 12 12 16 14"></polyline></svg>History</button><button><svg width=14 height=14 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path></svg>Delete'),zt=g('<button><svg width=14 height=14 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2><rect x=3 y=11 width=18 height=11 rx=2 ry=2></rect><path d="M7 11V7a5 5 0 0 1 9.9-1"></path></svg>Unlock');const Tt=u=>{const m=()=>{const i=u?.source?.toLowerCase();switch(i){case"stripe":return{label:"stripe",color:"#635bff",bgColor:"rgba(99, 91, 255, 0.1)"};case"shopify":return{label:"shopify",color:"#96bf48",bgColor:"rgba(150, 191, 72, 0.1)"};case"square":return{label:"square",color:"#006aff",bgColor:"rgba(0, 106, 255, 0.1)"};case"quickbooks":return{label:"quickbooks",color:"#2ca01c",bgColor:"rgba(44, 160, 28, 0.1)"};case"xero":return{label:"xero",color:"#13B5EA",bgColor:"rgba(19, 181, 234, 0.1)"};case"csv":case"manual":return{label:"manual",color:"#6B7280",bgColor:"rgba(107, 114, 128, 0.1)"};default:return{label:i,color:"#8B5CF6",bgColor:"rgba(139, 92, 246, 0.1)"}}},v=()=>m();return(()=>{var i=Ct();return i.style.setProperty("display","inline-flex"),i.style.setProperty("align-items","center"),i.style.setProperty("padding","0.25rem 0.625rem"),i.style.setProperty("border-radius","9999px"),i.style.setProperty("font-size","0.75rem"),i.style.setProperty("font-weight","600"),i.style.setProperty("text-transform","lowercase"),o(i,()=>v().label),y(s=>{var C=v().color,k=v().bgColor,x=`1px solid ${v().color}`;return C!==s.e&&((s.e=C)!=null?i.style.setProperty("color",C):i.style.removeProperty("color")),k!==s.t&&((s.t=k)!=null?i.style.setProperty("background",k):i.style.removeProperty("background")),x!==s.a&&((s.a=x)!=null?i.style.setProperty("border",x):i.style.removeProperty("border")),s},{e:void 0,t:void 0,a:void 0}),i})()},Nt=()=>{const[u,m]=ge(""),[v,i]=ge("all"),[s,C]=ge("all");vt(()=>{S.loadAdapters()});const k=_e(()=>{const n=new Set;return S.adapters().forEach(d=>{n.add(d.sourceSystem)}),Array.from(n).sort()}),x=_e(()=>{let n=S.adapters();const d=u().toLowerCase().trim();d&&(n=n.filter(l=>l.name.toLowerCase().includes(d)||l.displayName.toLowerCase().includes(d)||l.description.toLowerCase().includes(d)));const U=v();U!=="all"&&(n=n.filter(l=>l.sourceSystem.toLowerCase()===U.toLowerCase()));const $=s();return $!=="all"&&(n=n.filter(l=>$==="locked"?l?.globalLock?.status!==Y.UNLOCKED:$==="unlocked"?l?.globalLock?.status===Y.UNLOCKED:$==="low_confidence"?l.confidence<.6:!0)),n}),R=n=>{if(!n)return"Never";const d=new Date(n),$=new Date().getTime()-d.getTime(),l=Math.floor($/6e4),q=Math.floor(l/60),K=Math.floor(q/24);return l<1?"Just now":l<60?`${l}m ago`:q<24?`${q}h ago`:K<7?`${K}d ago`:d.toLocaleDateString()},a=async n=>{await S.lockAdapter(n,"Locked by user from list view")},w=async n=>{await S.unlockAdapter(n)},A=async n=>{try{await S.testAdapter(n,{}),alert("Test completed successfully")}catch(d){alert("Test failed: "+(d instanceof Error?d.message:"Unknown error"))}},h=async n=>{confirm("Are you sure you want to delete this adapter? This action cannot be undone.")&&alert("Delete functionality would be implemented here")},_={padding:"1.5rem","min-height":"100vh",background:"var(--bg-primary, #f8fafc)"},M={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"1.5rem"},f={"font-size":"1.75rem","font-weight":"700",color:"var(--text-primary, #1e293b)",margin:"0"},V={display:"flex",gap:"0.75rem"},J={display:"inline-flex","align-items":"center",gap:"0.5rem",padding:"0.625rem 1.25rem",background:"var(--primary-color, #3b82f6)",color:"white",border:"none","border-radius":"0.5rem","font-weight":"500","font-size":"0.875rem",cursor:"pointer"},Le={display:"inline-flex","align-items":"center",gap:"0.5rem",padding:"0.625rem 1.25rem",background:"white",color:"var(--text-primary, #374151)",border:"1px solid var(--border-color, #e5e7eb)","border-radius":"0.5rem","font-weight":"500","font-size":"0.875rem",cursor:"pointer"},Be={display:"flex",gap:"1rem","margin-bottom":"1.5rem","flex-wrap":"wrap"},Ae={flex:"1","min-width":"250px",padding:"0.625rem 1rem",border:"1px solid var(--border-color, #e5e7eb)","border-radius":"0.5rem","font-size":"0.875rem",background:"white"},ue={padding:"0.625rem 1rem",border:"1px solid var(--border-color, #e5e7eb)","border-radius":"0.5rem","font-size":"0.875rem",background:"white","min-width":"150px",cursor:"pointer"},Me={background:"white","border-radius":"0.75rem",border:"1px solid var(--border-color, #e5e7eb)",padding:"1.25rem","margin-bottom":"1rem","box-shadow":"0 1px 3px rgba(0, 0, 0, 0.05)"},ze={display:"flex","justify-content":"space-between","align-items":"flex-start","margin-bottom":"1rem"},Te={display:"flex","align-items":"center",gap:"0.5rem","font-size":"1.125rem","font-weight":"600",color:"var(--text-primary, #1e293b)"},Ee={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(120px, 1fr))",gap:"1rem","margin-bottom":"1rem"},z={display:"flex","flex-direction":"column",gap:"0.25rem"},T={"font-size":"0.75rem",color:"var(--text-muted, #6b7280)","text-transform":"uppercase","letter-spacing":"0.025em"},j={"font-size":"1rem","font-weight":"600",color:"var(--text-primary, #1e293b)"},Fe={display:"flex",gap:"0.5rem","flex-wrap":"wrap","padding-top":"1rem","border-top":"1px solid var(--border-color, #e5e7eb)"},E={display:"inline-flex","align-items":"center",gap:"0.25rem",padding:"0.375rem 0.75rem","font-size":"0.75rem","font-weight":"500","border-radius":"0.375rem",border:"1px solid var(--border-color, #e5e7eb)",background:"white",color:"var(--text-primary, #374151)",cursor:"pointer"},De={...E,background:"var(--primary-color, #3b82f6)",color:"white",border:"none"},He={...E,color:"#ef4444","border-color":"rgba(239, 68, 68, 0.3)"},Ne={"text-align":"center",padding:"4rem 2rem",background:"white","border-radius":"0.75rem",border:"1px solid var(--border-color, #e5e7eb)"},Ue={"font-size":"3rem","margin-bottom":"1rem"},Ie={"font-size":"1.25rem","font-weight":"600",color:"var(--text-primary, #1e293b)","margin-bottom":"0.5rem"},Oe={color:"var(--text-muted, #6b7280)","margin-bottom":"1.5rem"};return(()=>{var n=_t(),d=n.firstChild,U=d.firstChild,$=U.nextSibling,l=$.firstChild,q=l.nextSibling,K=d.nextSibling,Q=K.firstChild,I=Q.nextSibling;I.firstChild;var Z=I.nextSibling;return r(n,_),r(d,M),r(U,f),r($,V),r(l,Le),Q.$$input=t=>m(t.currentTarget.value),r(Q,Ae),I.addEventListener("change",t=>i(t.currentTarget.value)),o(I,c(Pe,{get each(){return k()},children:t=>(()=>{var b=Pt();return b.value=t,o(b,t),b})()}),null),Z.addEventListener("change",t=>C(t.currentTarget.value)),o(n,c(N,{get when(){return S.isLoading()},get children(){var t=kt();return t.style.setProperty("text-align","center"),t.style.setProperty("padding","2rem"),t}}),null),o(n,c(N,{get when(){return S.error()},get children(){var t=$t();return t.style.setProperty("padding","1rem"),t.style.setProperty("background","rgba(239, 68, 68, 0.1)"),t.style.setProperty("border","1px solid #ef4444"),t.style.setProperty("border-radius","0.5rem"),t.style.setProperty("color","#ef4444"),t.style.setProperty("margin-bottom","1rem"),o(t,()=>S.error()),t}}),null),o(n,c(N,{get when(){return x().length>0},get fallback(){return c(N,{get when(){return!S.isLoading()},get children(){var t=Lt(),b=t.firstChild,P=b.nextSibling,p=P.nextSibling,L=p.nextSibling;return r(b,Ue),r(P,Ie),r(p,Oe),o(p,()=>u()||v()!=="all"||s()!=="all"?"Try adjusting your search or filter criteria.":"Get started by creating your first adapter."),y(B=>{var F=Ne,D=J;return B.e=r(t,F,B.e),B.t=r(L,D,B.t),B},{e:void 0,t:void 0}),t}})},get children(){return c(Pe,{get each(){return x()},children:t=>(()=>{var b=Mt(),P=b.firstChild,p=P.firstChild,L=p.firstChild,B=L.firstChild,F=L.nextSibling,D=F.firstChild;D.firstChild;var G=p.nextSibling,ee=P.nextSibling,W=ee.firstChild,Re=W.firstChild,te=W.nextSibling,ve=te.firstChild,he=ve.nextSibling,re=te.nextSibling,ye=re.firstChild,me=ye.nextSibling,oe=re.nextSibling,fe=oe.firstChild,be=fe.nextSibling,ie=oe.nextSibling,pe=ie.firstChild,ne=pe.nextSibling,O=ne.firstChild,Ve=O.firstChild,xe=Ve.nextSibling;xe.nextSibling;var le=ie.nextSibling,we=le.firstChild,Se=we.nextSibling,Ce=le.nextSibling,ke=Ce.firstChild,se=ke.nextSibling,X=ee.nextSibling,ae=X.firstChild,de=ae.nextSibling,ce=de.nextSibling,$e=ce.nextSibling;return r(b,Me),r(P,ze),p.style.setProperty("display","flex"),p.style.setProperty("flex-direction","column"),p.style.setProperty("gap","0.5rem"),r(L,Te),o(L,c(mt,{get status(){return t?.globalLock?.status},size:"sm"}),B),o(B,()=>t.displayName),F.style.setProperty("display","flex"),F.style.setProperty("gap","0.5rem"),F.style.setProperty("align-items","center"),o(F,c(Tt,{get source(){return t?.sourceSystem}}),D),D.style.setProperty("font-size","0.75rem"),D.style.setProperty("color","var(--text-muted, #6b7280)"),o(D,()=>t.version,null),G.style.setProperty("display","flex"),G.style.setProperty("flex-direction","column"),G.style.setProperty("gap","0.5rem"),G.style.setProperty("align-items","flex-end"),o(G,c(pt,{get confidence(){return t.confidence*100},showBar:!0})),r(ee,Ee),o(W,c(St,{get rate(){return t.successRate},get count(){return t.processedCount}}),null),o(he,()=>t?.processedCount?.toLocaleString()),o(me,()=>t?.successCount?.toLocaleString()),o(be,()=>t?.failureCount?.toLocaleString()),o(ne,()=>t?.fieldMappings?.length,O),O.style.setProperty("font-size","0.75rem"),O.style.setProperty("color","var(--text-muted, #6b7280)"),O.style.setProperty("margin-left","0.25rem"),o(O,()=>t?.fieldMappings?.filter(e=>e.lock.status!==Y.UNLOCKED).length,xe),o(Se,()=>t?.pendingSuggestions?.length),se.style.setProperty("font-size","0.875rem"),se.style.setProperty("color","var(--text-secondary, #4b5563)"),o(se,()=>R(t?.timestamps?.lastProcessedAt)),o(X,c(ht,{get href(){return`/supervision/adapters/${t.id}`},style:{"text-decoration":"none"},get children(){var e=Bt();return y(H=>r(e,De,H)),e}}),ae),de.$$click=()=>A(t.id),o(X,c(N,{get when(){return t?.globalLock?.status===Y.UNLOCKED},get fallback(){return(()=>{var e=zt();return e.$$click=()=>w(t.id),y(H=>r(e,E,H)),e})()},get children(){var e=At();return e.$$click=()=>a(t.id),y(H=>r(e,E,H)),e}}),ce),$e.$$click=()=>h(t.id),y(e=>{var H=z,je=T,qe=z,Ke=T,Ge=j,Je=z,Qe=T,We={...j,color:"#10b981"},Xe=z,Ye=T,Ze={...j,color:t?.failureCount>0?"#ef4444":"inherit"},et=z,tt=T,rt=j,ot=z,it=T,nt={...j,color:t?.pendingSuggestions?.length>0?"#f59e0b":"inherit"},lt=z,st=T,at=Fe,dt=E,ct=E,gt=E,ut=He;return e.e=r(W,H,e.e),e.t=r(Re,je,e.t),e.a=r(te,qe,e.a),e.o=r(ve,Ke,e.o),e.i=r(he,Ge,e.i),e.n=r(re,Je,e.n),e.s=r(ye,Qe,e.s),e.h=r(me,We,e.h),e.r=r(oe,Xe,e.r),e.d=r(fe,Ye,e.d),e.l=r(be,Ze,e.l),e.u=r(ie,et,e.u),e.c=r(pe,tt,e.c),e.w=r(ne,rt,e.w),e.m=r(le,ot,e.m),e.f=r(we,it,e.f),e.y=r(Se,nt,e.y),e.g=r(Ce,lt,e.g),e.p=r(ke,st,e.p),e.b=r(X,at,e.b),e.T=r(ae,dt,e.T),e.A=r(de,ct,e.A),e.O=r(ce,gt,e.O),e.I=r($e,ut,e.I),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0,O:void 0,I:void 0}),b})()})}}),null),y(t=>{var b=J,P=Be,p=ue,L=ue;return t.e=r(q,b,t.e),t.t=r(K,P,t.t),t.a=r(I,p,t.a),t.o=r(Z,L,t.o),t},{e:void 0,t:void 0,a:void 0,o:void 0}),y(()=>Q.value=u()),y(()=>I.value=v()),y(()=>Z.value=s()),n})()};yt(["input","click"]);export{Nt as default};
