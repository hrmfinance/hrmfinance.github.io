const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DpZwwdrP.js","assets/index-DQu6NdnP.css"])))=>i.map(i=>d[i]);
import{_ as z}from"./index-DpZwwdrP.js";const E=async(s,I)=>{try{console.log("Starting working PDF generation...");const $=(await z(()=>import("./index-DpZwwdrP.js").then(n=>n.j),__vite__mapDeps([0,1]))).default;console.log("jsPDF imported successfully");const e=new $;console.log("PDF document created");let t=20;const o=20,d=210;e.setFontSize(20),e.text("HRM FINANCE",o,t),e.setFontSize(16);const p="INVOICE",f=e.getTextWidth(p);e.text(p,d-o-f,t),t+=15,e.setFontSize(12);const S=`Invoice: ${s.invoice||"N/A"}`,T=e.getTextWidth(S);e.text(S,d-o-T,t),t+=8,e.setFontSize(10);const g=`Date: ${s.createDate?new Date(s.createDate).toLocaleDateString():"N/A"}`,m=e.getTextWidth(g);e.text(g,d-o-m,t),t=40,e.setFontSize(10),e.text(`Store: ${s.storeName||s.store||"N/A"}`,o,t),t+=6,e.text(`Order ID: ${s.ssg_sorder_key||"N/A"}`,o,t),t+=10,e.setDrawColor(200),e.line(o,t,d-o,t),t+=15,e.setFontSize(14),e.setFont(void 0,"bold"),e.text("CUSTOMER INFORMATION",o,t),e.setFont(void 0,"normal"),t+=10,e.setFontSize(10);const r=s.shipper_consignee||{};e.text(`Name: ${r.name||"N/A"}`,o,t),t+=6;const b=[r.firstName,r.middleName,r.lastName,r.lastName2].filter(Boolean).join(" ")||"N/A";e.text(`Full Name: ${b}`,o,t),t+=6,e.text(`Phone: ${r.phoneNumber||"N/A"}`,o,t),t+=6,e.text(`ID: ${r.cid||"N/A"}`,o,t),t+=6,r.passport&&(e.text(`Passport: ${r.passport}`,o,t),t+=6),t+=10,s.products&&s.products.length>0&&(e.setFontSize(14),e.setFont(void 0,"bold"),e.text("PRODUCTS",o,t),e.setFont(void 0,"normal"),t+=10,e.setFontSize(10),e.text("Code",o,t),e.text("Description",o+30,t),e.text("Qty",o+100,t),e.text("Price",o+120,t),e.text("Total",o+145,t),t+=2,e.line(o,t,d-o,t),t+=6,e.setFontSize(9),s.products.forEach(n=>{t>260&&(e.addPage(),t=20);const F=n.product?.code||"N/A",c=n.product?.label||"N/A",i=Math.abs(n.qty||0),x=parseFloat(n.salePrice||0),u=i*x;e.text(F,o,t);const A=60;let P=c;e.getTextWidth(c)>A&&(P=c.substring(0,25)+"..."),e.text(P,o+30,t),e.text(i.toString(),o+100,t),e.text(`$${x.toFixed(2)}`,o+120,t),e.text(`$${u.toFixed(2)}`,o+145,t),t+=6}),t+=10),s.reservas&&s.reservas.length>0&&(t>200&&(e.addPage(),t=20),e.setFontSize(14),e.setFont(void 0,"bold"),e.text("RESERVATIONS",o,t),e.setFont(void 0,"normal"),t+=10,e.setFontSize(10),e.text("Type",o,t),e.text("Qty",o+50,t),e.text("Price",o+80,t),e.text("Arancel",o+110,t),e.text("Total",o+145,t),t+=2,e.line(o,t,d-o,t),t+=6,e.setFontSize(9),s.reservas.forEach(n=>{t>260&&(e.addPage(),t=20);const F=n.type||"N/A",c=parseInt(n.qty||0),i=parseFloat(n.price||0),x=parseFloat(n.arancel||0),u=c*i+x;e.text(F,o,t),e.text(c.toString(),o+50,t),e.text(`$${i.toFixed(2)}`,o+80,t),e.text(n.arancel||"-",o+110,t),e.text(`$${u.toFixed(2)}`,o+145,t),t+=6}),t+=10),t>220&&(e.addPage(),t=20),t+=10,e.setFontSize(12);const l=120;s.productSubtotal!==void 0&&s.productSubtotal>0&&(e.text("Products Subtotal:",l,t),e.text(`$${s.productSubtotal.toFixed(2)}`,l+50,t),t+=8),s.reservaSubtotal!==void 0&&s.reservaSubtotal>0&&(e.text("Reservations Subtotal:",l,t),e.text(`$${s.reservaSubtotal.toFixed(2)}`,l+50,t),t+=8),t+=5,e.setFont(void 0,"bold"),e.setFontSize(14),e.text("TOTAL:",l,t),e.text(`$${(s.total||0).toFixed(2)}`,l+50,t),t=270,e.setFont(void 0,"normal"),e.setFontSize(10),e.setTextColor(100);const N="Thank you for your business!",y=e.getTextWidth(N);e.text(N,(d-y)/2,t),console.log("Saving PDF...");const h=`invoice-${s.invoice||"unknown"}.pdf`;e.save(h),console.log("PDF saved successfully:",h)}catch(a){throw console.error("Error in generateWorkingInvoicePDF:",a),console.error("Error details:",a),a}};export{E as generateWorkingInvoicePDF};
