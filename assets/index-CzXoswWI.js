(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const s of c.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();const ni=!1,oi=(t,e)=>t===e,tn=Symbol("solid-proxy"),No=typeof Proxy=="function",ii=Symbol("solid-track"),rn={equals:oi};let To=Fo;const or=1,nn=2,Bo={owned:null,cleanups:null,context:null,owner:null};var st=null;let yn=null,li=null,mt=null,kt=null,Gt=null,cn=0;function Rr(t,e){const n=mt,i=st,l=t.length===0,c=e===void 0?i:e,s=l?Bo:{owned:null,cleanups:null,context:c?c.context:null,owner:c},a=l?t:()=>t(()=>Ot(()=>Or(s)));st=s,mt=null;try{return ir(a,!0)}finally{mt=n,st=i}}function ne(t,e){e=e?Object.assign({},rn,e):rn;const n={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},i=l=>(typeof l=="function"&&(l=l(n.value)),zo(n,l));return[jo.bind(n),i]}function j(t,e,n){const i=On(t,e,!1,or);Fr(i)}function pr(t,e,n){To=ui;const i=On(t,e,!1,or);i.user=!0,Gt?Gt.push(i):Fr(i)}function Fe(t,e,n){n=n?Object.assign({},rn,n):rn;const i=On(t,e,!0,0);return i.observers=null,i.observerSlots=null,i.comparator=n.equals||void 0,Fr(i),jo.bind(i)}function si(t){return ir(t,!1)}function Ot(t){if(mt===null)return t();const e=mt;mt=null;try{return t()}finally{mt=e}}function Bn(t,e,n){const i=Array.isArray(t);let l,c=n&&n.defer;return s=>{let a;if(i){a=Array(t.length);for(let v=0;v<t.length;v++)a[v]=t[v]()}else a=t();if(c)return c=!1,s;const d=Ot(()=>e(a,l,s));return l=a,d}}function _r(t){pr(()=>Ot(t))}function wr(t){return st===null||(st.cleanups===null?st.cleanups=[t]:st.cleanups.push(t)),t}function Mo(){return st}function Ro(t,e){const n=st,i=mt;st=t,mt=null;try{return ir(e,!0)}catch(l){jn(l)}finally{st=n,mt=i}}function ai(t){const e=mt,n=st;return Promise.resolve().then(()=>{mt=e,st=n;let i;return ir(t,!1),mt=st=null,i?i.done:void 0})}const[Ou,ju]=ne(!1);function Oo(t,e){const n=Symbol("context");return{id:n,Provider:mi(n),defaultValue:t}}function Mn(t){let e;return st&&st.context&&(e=st.context[t.id])!==void 0?e:t.defaultValue}function Rn(t){const e=Fe(t),n=Fe(()=>En(e()));return n.toArray=()=>{const i=n();return Array.isArray(i)?i:i!=null?[i]:[]},n}function jo(){if(this.sources&&this.state)if(this.state===or)Fr(this);else{const t=kt;kt=null,ir(()=>ln(this),!1),kt=t}if(mt){const t=this.observers?this.observers.length:0;mt.sources?(mt.sources.push(this),mt.sourceSlots.push(t)):(mt.sources=[this],mt.sourceSlots=[t]),this.observers?(this.observers.push(mt),this.observerSlots.push(mt.sources.length-1)):(this.observers=[mt],this.observerSlots=[mt.sources.length-1])}return this.value}function zo(t,e,n){let i=t.value;return(!t.comparator||!t.comparator(i,e))&&(t.value=e,t.observers&&t.observers.length&&ir(()=>{for(let l=0;l<t.observers.length;l+=1){const c=t.observers[l],s=yn&&yn.running;s&&yn.disposed.has(c),(s?!c.tState:!c.state)&&(c.pure?kt.push(c):Gt.push(c),c.observers&&qo(c)),s||(c.state=or)}if(kt.length>1e6)throw kt=[],new Error},!1)),e}function Fr(t){if(!t.fn)return;Or(t);const e=cn;ci(t,t.value,e)}function ci(t,e,n){let i;const l=st,c=mt;mt=st=t;try{i=t.fn(e)}catch(s){return t.pure&&(t.state=or,t.owned&&t.owned.forEach(Or),t.owned=null),t.updatedAt=n+1,jn(s)}finally{mt=c,st=l}(!t.updatedAt||t.updatedAt<=n)&&(t.updatedAt!=null&&"observers"in t?zo(t,i):t.value=i,t.updatedAt=n)}function On(t,e,n,i=or,l){const c={fn:t,state:i,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:st,context:st?st.context:null,pure:n};return st===null||st!==Bo&&(st.owned?st.owned.push(c):st.owned=[c]),c}function on(t){if(t.state===0)return;if(t.state===nn)return ln(t);if(t.suspense&&Ot(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<cn);)t.state&&e.push(t);for(let n=e.length-1;n>=0;n--)if(t=e[n],t.state===or)Fr(t);else if(t.state===nn){const i=kt;kt=null,ir(()=>ln(t,e[0]),!1),kt=i}}function ir(t,e){if(kt)return t();let n=!1;e||(kt=[]),Gt?n=!0:Gt=[],cn++;try{const i=t();return di(n),i}catch(i){n||(Gt=null),kt=null,jn(i)}}function di(t){if(kt&&(Fo(kt),kt=null),t)return;const e=Gt;Gt=null,e.length&&ir(()=>To(e),!1)}function Fo(t){for(let e=0;e<t.length;e++)on(t[e])}function ui(t){let e,n=0;for(e=0;e<t.length;e++){const i=t[e];i.user?t[n++]=i:on(i)}for(e=0;e<n;e++)on(t[e])}function ln(t,e){t.state=0;for(let n=0;n<t.sources.length;n+=1){const i=t.sources[n];if(i.sources){const l=i.state;l===or?i!==e&&(!i.updatedAt||i.updatedAt<cn)&&on(i):l===nn&&ln(i,e)}}}function qo(t){for(let e=0;e<t.observers.length;e+=1){const n=t.observers[e];n.state||(n.state=nn,n.pure?kt.push(n):Gt.push(n),n.observers&&qo(n))}}function Or(t){let e;if(t.sources)for(;t.sources.length;){const n=t.sources.pop(),i=t.sourceSlots.pop(),l=n.observers;if(l&&l.length){const c=l.pop(),s=n.observerSlots.pop();i<l.length&&(c.sourceSlots[s]=i,l[i]=c,n.observerSlots[i]=s)}}if(t.tOwned){for(e=t.tOwned.length-1;e>=0;e--)Or(t.tOwned[e]);delete t.tOwned}if(t.owned){for(e=t.owned.length-1;e>=0;e--)Or(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function yi(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function jn(t,e=st){throw yi(t)}function En(t){if(typeof t=="function"&&!t.length)return En(t());if(Array.isArray(t)){const e=[];for(let n=0;n<t.length;n++){const i=En(t[n]);Array.isArray(i)?e.push.apply(e,i):e.push(i)}return e}return t}function mi(t,e){return function(i){let l;return j(()=>l=Ot(()=>(st.context={...st.context,[t]:i.value},Rn(()=>i.children))),void 0),l}}const vi=Symbol("fallback");function Yn(t){for(let e=0;e<t.length;e++)t[e]()}function gi(t,e,n={}){let i=[],l=[],c=[],s=0,a=e.length>1?[]:null;return wr(()=>Yn(c)),()=>{let d=t()||[],v=d.length,f,T;return d[ii],Ot(()=>{let D,C,$,x,b,O,oe,q,ce;if(v===0)s!==0&&(Yn(c),c=[],i=[],l=[],s=0,a&&(a=[])),n.fallback&&(i=[vi],l[0]=Rr(Z=>(c[0]=Z,n.fallback())),s=1);else if(s===0){for(l=new Array(v),T=0;T<v;T++)i[T]=d[T],l[T]=Rr(L);s=v}else{for($=new Array(v),x=new Array(v),a&&(b=new Array(v)),O=0,oe=Math.min(s,v);O<oe&&i[O]===d[O];O++);for(oe=s-1,q=v-1;oe>=O&&q>=O&&i[oe]===d[q];oe--,q--)$[q]=l[oe],x[q]=c[oe],a&&(b[q]=a[oe]);for(D=new Map,C=new Array(q+1),T=q;T>=O;T--)ce=d[T],f=D.get(ce),C[T]=f===void 0?-1:f,D.set(ce,T);for(f=O;f<=oe;f++)ce=i[f],T=D.get(ce),T!==void 0&&T!==-1?($[T]=l[f],x[T]=c[f],a&&(b[T]=a[f]),T=C[T],D.set(ce,T)):c[f]();for(T=O;T<v;T++)T in $?(l[T]=$[T],c[T]=x[T],a&&(a[T]=b[T],a[T](T))):l[T]=Rr(L);l=l.slice(0,s=v),i=d.slice(0)}return l});function L(D){if(c[T]=D,a){const[C,$]=ne(T);return a[T]=$,e(d[T],C)}return e(d[T])}}}function y(t,e){return Ot(()=>t(e||{}))}function Ur(){return!0}const Ln={get(t,e,n){return e===tn?n:t.get(e)},has(t,e){return e===tn?!0:t.has(e)},set:Ur,deleteProperty:Ur,getOwnPropertyDescriptor(t,e){return{configurable:!0,enumerable:!0,get(){return t.get(e)},set:Ur,deleteProperty:Ur}},ownKeys(t){return t.keys()}};function mn(t){return(t=typeof t=="function"?t():t)?t:{}}function pi(){for(let t=0,e=this.length;t<e;++t){const n=this[t]();if(n!==void 0)return n}}function Dn(...t){let e=!1;for(let s=0;s<t.length;s++){const a=t[s];e=e||!!a&&tn in a,t[s]=typeof a=="function"?(e=!0,Fe(a)):a}if(No&&e)return new Proxy({get(s){for(let a=t.length-1;a>=0;a--){const d=mn(t[a])[s];if(d!==void 0)return d}},has(s){for(let a=t.length-1;a>=0;a--)if(s in mn(t[a]))return!0;return!1},keys(){const s=[];for(let a=0;a<t.length;a++)s.push(...Object.keys(mn(t[a])));return[...new Set(s)]}},Ln);const n={},i=Object.create(null);for(let s=t.length-1;s>=0;s--){const a=t[s];if(!a)continue;const d=Object.getOwnPropertyNames(a);for(let v=d.length-1;v>=0;v--){const f=d[v];if(f==="__proto__"||f==="constructor")continue;const T=Object.getOwnPropertyDescriptor(a,f);if(!i[f])i[f]=T.get?{enumerable:!0,configurable:!0,get:pi.bind(n[f]=[T.get.bind(a)])}:T.value!==void 0?T:void 0;else{const L=n[f];L&&(T.get?L.push(T.get.bind(a)):T.value!==void 0&&L.push(()=>T.value))}}}const l={},c=Object.keys(i);for(let s=c.length-1;s>=0;s--){const a=c[s],d=i[a];d&&d.get?Object.defineProperty(l,a,d):l[a]=d?d.value:void 0}return l}function fi(t,...e){if(No&&tn in t){const l=new Set(e.length>1?e.flat():e[0]),c=e.map(s=>new Proxy({get(a){return s.includes(a)?t[a]:void 0},has(a){return s.includes(a)&&a in t},keys(){return s.filter(a=>a in t)}},Ln));return c.push(new Proxy({get(s){return l.has(s)?void 0:t[s]},has(s){return l.has(s)?!1:s in t},keys(){return Object.keys(t).filter(s=>!l.has(s))}},Ln)),c}const n={},i=e.map(()=>({}));for(const l of Object.getOwnPropertyNames(t)){const c=Object.getOwnPropertyDescriptor(t,l),s=!c.get&&!c.set&&c.enumerable&&c.writable&&c.configurable;let a=!1,d=0;for(const v of e)v.includes(l)&&(a=!0,s?i[d][l]=c.value:Object.defineProperty(i[d],l,c)),++d;a||(s?n[l]=c.value:Object.defineProperty(n,l,c))}return[...i,n]}const bi=t=>`Stale read from <${t}>.`;function ct(t){const e="fallback"in t&&{fallback:()=>t.fallback};return Fe(gi(()=>t.each,t.children,e||void 0))}function Ue(t){const e=t.keyed,n=Fe(()=>t.when,void 0,void 0),i=e?n:Fe(n,void 0,{equals:(l,c)=>!l==!c});return Fe(()=>{const l=i();if(l){const c=t.children;return typeof c=="function"&&c.length>0?Ot(()=>c(e?l:()=>{if(!Ot(i))throw bi("Show");return n()})):c}return t.fallback},void 0,void 0)}const hi=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Si=new Set(["className","value","readOnly","noValidate","formNoValidate","isMap","noModule","playsInline",...hi]),Pi=new Set(["innerHTML","textContent","innerText","children"]),$i=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),xi=Object.assign(Object.create(null),{class:"className",novalidate:{$:"noValidate",FORM:1},formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function Ci(t,e){const n=xi[t];return typeof n=="object"?n[e]?n.$:void 0:n}const _i=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),U=t=>Fe(()=>t());function wi(t,e,n){let i=n.length,l=e.length,c=i,s=0,a=0,d=e[l-1].nextSibling,v=null;for(;s<l||a<c;){if(e[s]===n[a]){s++,a++;continue}for(;e[l-1]===n[c-1];)l--,c--;if(l===s){const f=c<i?a?n[a-1].nextSibling:n[c-a]:d;for(;a<c;)t.insertBefore(n[a++],f)}else if(c===a)for(;s<l;)(!v||!v.has(e[s]))&&e[s].remove(),s++;else if(e[s]===n[c-1]&&n[a]===e[l-1]){const f=e[--l].nextSibling;t.insertBefore(n[a++],e[s++].nextSibling),t.insertBefore(n[--c],f),e[l]=n[c]}else{if(!v){v=new Map;let T=a;for(;T<c;)v.set(n[T],T++)}const f=v.get(e[s]);if(f!=null)if(a<f&&f<c){let T=s,L=1,D;for(;++T<l&&T<c&&!((D=v.get(e[T]))==null||D!==f+L);)L++;if(L>f-a){const C=e[s];for(;a<f;)t.insertBefore(n[a++],C)}else t.replaceChild(n[a++],e[s++])}else s++;else e[s++].remove()}}}const Wn="_$DX_DELEGATE";function ki(t,e,n,i={}){let l;return Rr(c=>{l=c,e===document?t():r(e,t(),e.firstChild?null:void 0,n)},i.owner),()=>{l(),e.textContent=""}}function _(t,e,n,i){let l;const c=()=>{const a=document.createElement("template");return a.innerHTML=t,a.content.firstChild},s=()=>(l||(l=c())).cloneNode(!0);return s.cloneNode=s,s}function ut(t,e=window.document){const n=e[Wn]||(e[Wn]=new Set);for(let i=0,l=t.length;i<l;i++){const c=t[i];n.has(c)||(n.add(c),e.addEventListener(c,Ti))}}function Ze(t,e,n){n==null?t.removeAttribute(e):t.setAttribute(e,n)}function Ai(t,e,n){n?t.setAttribute(e,""):t.removeAttribute(e)}function dn(t,e){e==null?t.removeAttribute("class"):t.className=e}function lr(t,e,n,i){if(i)Array.isArray(n)?(t[`$$${e}`]=n[0],t[`$$${e}Data`]=n[1]):t[`$$${e}`]=n;else if(Array.isArray(n)){const l=n[0];t.addEventListener(e,n[0]=c=>l.call(t,n[1],c))}else t.addEventListener(e,n,typeof n!="function"&&n)}function Ii(t,e,n={}){const i=Object.keys(e||{}),l=Object.keys(n);let c,s;for(c=0,s=l.length;c<s;c++){const a=l[c];!a||a==="undefined"||e[a]||(Hn(t,a,!1),delete n[a])}for(c=0,s=i.length;c<s;c++){const a=i[c],d=!!e[a];!a||a==="undefined"||n[a]===d||!d||(Hn(t,a,!0),n[a]=d)}return n}function o(t,e,n){if(!e)return n?Ze(t,"style"):e;const i=t.style;if(typeof e=="string")return i.cssText=e;typeof n=="string"&&(i.cssText=n=void 0),n||(n={}),e||(e={});let l,c;for(c in n)e[c]==null&&i.removeProperty(c),delete n[c];for(c in e)l=e[c],l!==n[c]&&(i.setProperty(c,l),n[c]=l);return n}function Ei(t,e={},n,i){const l={};return j(()=>l.children=jr(t,e.children,l.children)),j(()=>typeof e.ref=="function"&&Li(e.ref,t)),j(()=>Di(t,e,n,!0,l,!0)),l}function Li(t,e,n){return Ot(()=>t(e,n))}function r(t,e,n,i){if(n!==void 0&&!i&&(i=[]),typeof e!="function")return jr(t,e,i,n);j(l=>jr(t,e(),l,n),i)}function Di(t,e,n,i,l={},c=!1){e||(e={});for(const s in l)if(!(s in e)){if(s==="children")continue;l[s]=Gn(t,s,null,l[s],n,c,e)}for(const s in e){if(s==="children")continue;const a=e[s];l[s]=Gn(t,s,a,l[s],n,c,e)}}function Ni(t){return t.toLowerCase().replace(/-([a-z])/g,(e,n)=>n.toUpperCase())}function Hn(t,e,n){const i=e.trim().split(/\s+/);for(let l=0,c=i.length;l<c;l++)t.classList.toggle(i[l],n)}function Gn(t,e,n,i,l,c,s){let a,d,v,f,T;if(e==="style")return o(t,n,i);if(e==="classList")return Ii(t,n,i);if(n===i)return i;if(e==="ref")c||n(t);else if(e.slice(0,3)==="on:"){const L=e.slice(3);i&&t.removeEventListener(L,i,typeof i!="function"&&i),n&&t.addEventListener(L,n,typeof n!="function"&&n)}else if(e.slice(0,10)==="oncapture:"){const L=e.slice(10);i&&t.removeEventListener(L,i,!0),n&&t.addEventListener(L,n,!0)}else if(e.slice(0,2)==="on"){const L=e.slice(2).toLowerCase(),D=_i.has(L);if(!D&&i){const C=Array.isArray(i)?i[0]:i;t.removeEventListener(L,C)}(D||n)&&(lr(t,L,n,D),D&&ut([L]))}else e.slice(0,5)==="attr:"?Ze(t,e.slice(5),n):e.slice(0,5)==="bool:"?Ai(t,e.slice(5),n):(T=e.slice(0,5)==="prop:")||(v=Pi.has(e))||(f=Ci(e,t.tagName))||(d=Si.has(e))||(a=t.nodeName.includes("-")||"is"in s)?(T&&(e=e.slice(5),d=!0),e==="class"||e==="className"?dn(t,n):a&&!d&&!v?t[Ni(e)]=n:t[f||e]=n):Ze(t,$i[e]||e,n);return n}function Ti(t){let e=t.target;const n=`$$${t.type}`,i=t.target,l=t.currentTarget,c=d=>Object.defineProperty(t,"target",{configurable:!0,value:d}),s=()=>{const d=e[n];if(d&&!e.disabled){const v=e[`${n}Data`];if(v!==void 0?d.call(e,v,t):d.call(e,t),t.cancelBubble)return}return e.host&&typeof e.host!="string"&&!e.host._$host&&e.contains(t.target)&&c(e.host),!0},a=()=>{for(;s()&&(e=e._$host||e.parentNode||e.host););};if(Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return e||document}}),t.composedPath){const d=t.composedPath();c(d[0]);for(let v=0;v<d.length-2&&(e=d[v],!!s());v++){if(e._$host){e=e._$host,a();break}if(e.parentNode===l)break}}else a();c(i)}function jr(t,e,n,i,l){for(;typeof n=="function";)n=n();if(e===n)return n;const c=typeof e,s=i!==void 0;if(t=s&&n[0]&&n[0].parentNode||t,c==="string"||c==="number"){if(c==="number"&&(e=e.toString(),e===n))return n;if(s){let a=n[0];a&&a.nodeType===3?a.data!==e&&(a.data=e):a=document.createTextNode(e),n=Pr(t,n,i,a)}else n!==""&&typeof n=="string"?n=t.firstChild.data=e:n=t.textContent=e}else if(e==null||c==="boolean")n=Pr(t,n,i);else{if(c==="function")return j(()=>{let a=e();for(;typeof a=="function";)a=a();n=jr(t,a,n,i)}),()=>n;if(Array.isArray(e)){const a=[],d=n&&Array.isArray(n);if(Nn(a,e,n,l))return j(()=>n=jr(t,a,n,i,!0)),()=>n;if(a.length===0){if(n=Pr(t,n,i),s)return n}else d?n.length===0?Jn(t,a,i):wi(t,n,a):(n&&Pr(t),Jn(t,a));n=a}else if(e.nodeType){if(Array.isArray(n)){if(s)return n=Pr(t,n,i,e);Pr(t,n,null,e)}else n==null||n===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);n=e}}return n}function Nn(t,e,n,i){let l=!1;for(let c=0,s=e.length;c<s;c++){let a=e[c],d=n&&n[t.length],v;if(!(a==null||a===!0||a===!1))if((v=typeof a)=="object"&&a.nodeType)t.push(a);else if(Array.isArray(a))l=Nn(t,a,d)||l;else if(v==="function")if(i){for(;typeof a=="function";)a=a();l=Nn(t,Array.isArray(a)?a:[a],Array.isArray(d)?d:[d])||l}else t.push(a),l=!0;else{const f=String(a);d&&d.nodeType===3&&d.data===f?t.push(d):t.push(document.createTextNode(f))}}return l}function Jn(t,e,n=null){for(let i=0,l=e.length;i<l;i++)t.insertBefore(e[i],n)}function Pr(t,e,n,i){if(n===void 0)return t.textContent="";const l=i||document.createTextNode("");if(e.length){let c=!1;for(let s=e.length-1;s>=0;s--){const a=e[s];if(l!==a){const d=a.parentNode===t;!c&&!s?d?t.replaceChild(l,a):t.insertBefore(l,n):d&&a.remove()}else c=!0}}else t.insertBefore(l,n);return[l]}const Bi=!1;function Uo(){let t=new Set;function e(l){return t.add(l),()=>t.delete(l)}let n=!1;function i(l,c){if(n)return!(n=!1);const s={to:l,options:c,defaultPrevented:!1,preventDefault:()=>s.defaultPrevented=!0};for(const a of t)a.listener({...s,from:a.location,retry:d=>{d&&(n=!0),a.navigate(l,{...c,resolve:!1})}});return!s.defaultPrevented}return{subscribe:e,confirm:i}}let Tn;function zn(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),Tn=window.history.state._depth}zn();function Mi(t){return{...t,_depth:window.history.state&&window.history.state._depth}}function Ri(t,e){let n=!1;return()=>{const i=Tn;zn();const l=i==null?null:Tn-i;if(n){n=!1;return}l&&e(l)?(n=!0,window.history.go(-l)):t()}}const Oi=/^(?:[a-z0-9]+:)?\/\//i,ji=/^\/+|(\/)\/+$/g,Vo="http://sr";function gr(t,e=!1){const n=t.replace(ji,"$1");return n?e||/^[?#]/.test(n)?n:"/"+n:""}function en(t,e,n){if(Oi.test(e))return;const i=gr(t),l=n&&gr(n);let c="";return!l||e.startsWith("/")?c=i:l.toLowerCase().indexOf(i.toLowerCase())!==0?c=i+l:c=l,(c||"/")+gr(e,!c)}function zi(t,e){if(t==null)throw new Error(e);return t}function Fi(t,e){return gr(t).replace(/\/*(\*.*)?$/g,"")+gr(e)}function Yo(t){const e={};return t.searchParams.forEach((n,i)=>{i in e?Array.isArray(e[i])?e[i].push(n):e[i]=[e[i],n]:e[i]=n}),e}function qi(t,e,n){const[i,l]=t.split("/*",2),c=i.split("/").filter(Boolean),s=c.length;return a=>{const d=a.split("/").filter(Boolean),v=d.length-s;if(v<0||v>0&&l===void 0&&!e)return null;const f={path:s?"":"/",params:{}},T=L=>n===void 0?void 0:n[L];for(let L=0;L<s;L++){const D=c[L],C=D[0]===":",$=C?d[L]:d[L].toLowerCase(),x=C?D.slice(1):D.toLowerCase();if(C&&vn($,T(x)))f.params[x]=$;else if(C||!vn($,x))return null;f.path+=`/${$}`}if(l){const L=v?d.slice(-v).join("/"):"";if(vn(L,T(l)))f.params[l]=L;else return null}return f}}function vn(t,e){const n=i=>i===t;return e===void 0?!0:typeof e=="string"?n(e):typeof e=="function"?e(t):Array.isArray(e)?e.some(n):e instanceof RegExp?e.test(t):!1}function Ui(t){const[e,n]=t.pattern.split("/*",2),i=e.split("/").filter(Boolean);return i.reduce((l,c)=>l+(c.startsWith(":")?2:3),i.length-(n===void 0?0:1))}function Wo(t){const e=new Map,n=Mo();return new Proxy({},{get(i,l){return e.has(l)||Ro(n,()=>e.set(l,Fe(()=>t()[l]))),e.get(l)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(t())}})}function Ho(t){let e=/(\/?\:[^\/]+)\?/.exec(t);if(!e)return[t];let n=t.slice(0,e.index),i=t.slice(e.index+e[0].length);const l=[n,n+=e[1]];for(;e=/^(\/\:[^\/]+)\?/.exec(i);)l.push(n+=e[1]),i=i.slice(e[0].length);return Ho(i).reduce((c,s)=>[...c,...l.map(a=>a+s)],[])}const Vi=100,Go=Oo(),Fn=Oo(),qr=()=>zi(Mn(Go),"<A> and 'use' router primitives can be only used inside a Route."),Yi=()=>Mn(Fn)||qr().base,Wi=t=>{const e=Yi();return Fe(()=>e.resolvePath(t()))},Hi=t=>{const e=qr();return Fe(()=>{const n=t();return n!==void 0?e.renderPath(n):n})},qn=()=>qr().navigatorFactory(),Gi=()=>qr().location,Ji=()=>qr().params;function Qi(t,e=""){const{component:n,preload:i,load:l,children:c,info:s}=t,a=!c||Array.isArray(c)&&!c.length,d={key:t,component:n,preload:i||l,info:s};return Jo(t.path).reduce((v,f)=>{for(const T of Ho(f)){const L=Fi(e,T);let D=a?L:L.split("/*",1)[0];D=D.split("/").map(C=>C.startsWith(":")||C.startsWith("*")?C:encodeURIComponent(C)).join("/"),v.push({...d,originalPath:f,pattern:D,matcher:qi(D,!a,t.matchFilters)})}return v},[])}function Ki(t,e=0){return{routes:t,score:Ui(t[t.length-1])*1e4-e,matcher(n){const i=[];for(let l=t.length-1;l>=0;l--){const c=t[l],s=c.matcher(n);if(!s)return null;i.unshift({...s,route:c})}return i}}}function Jo(t){return Array.isArray(t)?t:[t]}function Qo(t,e="",n=[],i=[]){const l=Jo(t);for(let c=0,s=l.length;c<s;c++){const a=l[c];if(a&&typeof a=="object"){a.hasOwnProperty("path")||(a.path="");const d=Qi(a,e);for(const v of d){n.push(v);const f=Array.isArray(a.children)&&a.children.length===0;if(a.children&&!f)Qo(a.children,v.pattern,n,i);else{const T=Ki([...n],i.length);i.push(T)}n.pop()}}}return n.length?i:i.sort((c,s)=>s.score-c.score)}function gn(t,e){for(let n=0,i=t.length;n<i;n++){const l=t[n].matcher(e);if(l)return l}return[]}function Zi(t,e,n){const i=new URL(Vo),l=Fe(f=>{const T=t();try{return new URL(T,i)}catch{return console.error(`Invalid path ${T}`),f}},i,{equals:(f,T)=>f.href===T.href}),c=Fe(()=>l().pathname),s=Fe(()=>l().search,!0),a=Fe(()=>l().hash),d=()=>"",v=Bn(s,()=>Yo(l()));return{get pathname(){return c()},get search(){return s()},get hash(){return a()},get state(){return e()},get key(){return d()},query:n?n(v):Wo(v)}}let mr;function Xi(){return mr}function el(t,e,n,i={}){const{signal:[l,c],utils:s={}}=t,a=s.parsePath||(I=>I),d=s.renderPath||(I=>I),v=s.beforeLeave||Uo(),f=en("",i.base||"");if(f===void 0)throw new Error(`${f} is not a valid base path`);f&&!l().value&&c({value:f,replace:!0,scroll:!1});const[T,L]=ne(!1);let D;const C=(I,h)=>{h.value===$()&&h.state===b()||(D===void 0&&L(!0),mr=I,D=h,ai(()=>{D===h&&(x(D.value),O(D.state),ce[1](u=>u.filter(A=>A.pending)))}).finally(()=>{D===h&&si(()=>{mr=void 0,I==="navigate"&&J(D),L(!1),D=void 0})}))},[$,x]=ne(l().value),[b,O]=ne(l().state),oe=Zi($,b,s.queryWrapper),q=[],ce=ne([]),Z=Fe(()=>typeof i.transformUrl=="function"?gn(e(),i.transformUrl(oe.pathname)):gn(e(),oe.pathname)),ue=()=>{const I=Z(),h={};for(let u=0;u<I.length;u++)Object.assign(h,I[u].params);return h},ye=s.paramsWrapper?s.paramsWrapper(ue,e):Wo(ue),X={pattern:f,path:()=>f,outlet:()=>null,resolvePath(I){return en(f,I)}};return j(Bn(l,I=>C("native",I),{defer:!0})),{base:X,location:oe,params:ye,isRouting:T,renderPath:d,parsePath:a,navigatorFactory:W,matches:Z,beforeLeave:v,preloadRoute:m,singleFlight:i.singleFlight===void 0?!0:i.singleFlight,submissions:ce};function Y(I,h,u){Ot(()=>{if(typeof h=="number"){h&&(s.go?s.go(h):console.warn("Router integration does not support relative routing"));return}const A=!h||h[0]==="?",{replace:S,resolve:w,scroll:k,state:E}={replace:!1,resolve:!A,scroll:!0,...u},de=w?I.resolvePath(h):en(A&&oe.pathname||"",h);if(de===void 0)throw new Error(`Path '${h}' is not a routable path`);if(q.length>=Vi)throw new Error("Too many redirects");const P=$();(de!==P||E!==b())&&(Bi||v.confirm(de,u)&&(q.push({value:P,replace:S,scroll:k,state:b()}),C("navigate",{value:de,state:E})))})}function W(I){return I=I||Mn(Fn)||X,(h,u)=>Y(I,h,u)}function J(I){const h=q[0];h&&(c({...I,replace:h.replace,scroll:h.scroll}),q.length=0)}function m(I,h){const u=gn(e(),I.pathname),A=mr;mr="preload";for(let S in u){const{route:w,params:k}=u[S];w.component&&w.component.preload&&w.component.preload();const{preload:E}=w;h&&E&&Ro(n(),()=>E({params:k,location:{pathname:I.pathname,search:I.search,hash:I.hash,query:Yo(I),state:null,key:""},intent:"preload"}))}mr=A}}function tl(t,e,n,i){const{base:l,location:c,params:s}=t,{pattern:a,component:d,preload:v}=i().route,f=Fe(()=>i().path);d&&d.preload&&d.preload();const T=v?v({params:s,location:c,intent:mr||"initial"}):void 0;return{parent:e,pattern:a,path:f,outlet:()=>d?y(d,{params:s,location:c,data:T,get children(){return n()}}):n(),resolvePath(D){return en(l.path(),D,f())}}}const rl=t=>e=>{const{base:n}=e,i=Rn(()=>e.children),l=Fe(()=>Qo(i(),e.base||""));let c;const s=el(t,l,()=>c,{base:n,singleFlight:e.singleFlight,transformUrl:e.transformUrl});return t.create&&t.create(s),y(Go.Provider,{value:s,get children(){return y(nl,{routerState:s,get root(){return e.root},get preload(){return e.rootPreload||e.rootLoad},get children(){return[U(()=>(c=Mo())&&null),y(ol,{routerState:s,get branches(){return l()}})]}})}})};function nl(t){const e=t.routerState.location,n=t.routerState.params,i=Fe(()=>t.preload&&Ot(()=>{t.preload({params:n,location:e,intent:Xi()||"initial"})}));return y(Ue,{get when(){return t.root},keyed:!0,get fallback(){return t.children},children:l=>y(l,{params:n,location:e,get data(){return i()},get children(){return t.children}})})}function ol(t){const e=[];let n;const i=Fe(Bn(t.routerState.matches,(l,c,s)=>{let a=c&&l.length===c.length;const d=[];for(let v=0,f=l.length;v<f;v++){const T=c&&c[v],L=l[v];s&&T&&L.route.key===T.route.key?d[v]=s[v]:(a=!1,e[v]&&e[v](),Rr(D=>{e[v]=D,d[v]=tl(t.routerState,d[v-1]||t.routerState.base,Qn(()=>i()[v+1]),()=>t.routerState.matches()[v])}))}return e.splice(l.length).forEach(v=>v()),s&&a?s:(n=d[0],d)}));return Qn(()=>i()&&n)()}const Qn=t=>()=>y(Ue,{get when(){return t()},keyed:!0,children:e=>y(Fn.Provider,{value:e,get children(){return e.outlet()}})}),qt=t=>{const e=Rn(()=>t.children);return Dn(t,{get children(){return e()}})};function il([t,e],n,i){return[t,i?l=>e(i(l)):e]}function ll(t){let e=!1;const n=l=>typeof l=="string"?{value:l}:l,i=il(ne(n(t.get()),{equals:(l,c)=>l.value===c.value&&l.state===c.state}),void 0,l=>(!e&&t.set(l),l));return t.init&&wr(t.init((l=t.get())=>{e=!0,i[1](n(l)),e=!1})),rl({signal:i,create:t.create,utils:t.utils})}function sl(t,e,n){return t.addEventListener(e,n),()=>t.removeEventListener(e,n)}function al(t,e){const n=t&&document.getElementById(t);n?n.scrollIntoView():e&&window.scrollTo(0,0)}const cl=new Map;function dl(t=!0,e=!1,n="/_server",i){return l=>{const c=l.base.path(),s=l.navigatorFactory(l.base);let a,d;function v($){return $.namespaceURI==="http://www.w3.org/2000/svg"}function f($){if($.defaultPrevented||$.button!==0||$.metaKey||$.altKey||$.ctrlKey||$.shiftKey)return;const x=$.composedPath().find(Z=>Z instanceof Node&&Z.nodeName.toUpperCase()==="A");if(!x||e&&!x.hasAttribute("link"))return;const b=v(x),O=b?x.href.baseVal:x.href;if((b?x.target.baseVal:x.target)||!O&&!x.hasAttribute("state"))return;const q=(x.getAttribute("rel")||"").split(/\s+/);if(x.hasAttribute("download")||q&&q.includes("external"))return;const ce=b?new URL(O,document.baseURI):new URL(O);if(!(ce.origin!==window.location.origin||c&&ce.pathname&&!ce.pathname.toLowerCase().startsWith(c.toLowerCase())))return[x,ce]}function T($){const x=f($);if(!x)return;const[b,O]=x,oe=l.parsePath(O.pathname+O.search+O.hash),q=b.getAttribute("state");$.preventDefault(),s(oe,{resolve:!1,replace:b.hasAttribute("replace"),scroll:!b.hasAttribute("noscroll"),state:q?JSON.parse(q):void 0})}function L($){const x=f($);if(!x)return;const[b,O]=x;l.preloadRoute(O,b.getAttribute("preload")!=="false")}function D($){clearTimeout(a);const x=f($);if(!x)return d=null;const[b,O]=x;d!==b&&(a=setTimeout(()=>{l.preloadRoute(O,b.getAttribute("preload")!=="false"),d=b},20))}function C($){if($.defaultPrevented)return;let x=$.submitter&&$.submitter.hasAttribute("formaction")?$.submitter.getAttribute("formaction"):$.target.getAttribute("action");if(!x)return;if(!x.startsWith("https://action/")){const O=new URL(x,Vo);if(x=l.parsePath(O.pathname+O.search),!x.startsWith(n))return}if($.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const b=cl.get(x);if(b){$.preventDefault();const O=new FormData($.target,$.submitter);b.call({r:l,f:$.target},$.target.enctype==="multipart/form-data"?O:new URLSearchParams(O))}}ut(["click","submit"]),document.addEventListener("click",T),t&&(document.addEventListener("mousemove",D,{passive:!0}),document.addEventListener("focusin",L,{passive:!0}),document.addEventListener("touchstart",L,{passive:!0})),document.addEventListener("submit",C),wr(()=>{document.removeEventListener("click",T),t&&(document.removeEventListener("mousemove",D),document.removeEventListener("focusin",L),document.removeEventListener("touchstart",L)),document.removeEventListener("submit",C)})}}function ul(t){const e=t.replace(/^.*?#/,"");if(!e.startsWith("/")){const[,n="/"]=window.location.hash.split("#",2);return`${n}#${e}`}return e}function yl(t){const e=()=>window.location.hash.slice(1),n=Uo();return ll({get:e,set({value:i,replace:l,scroll:c,state:s}){l?window.history.replaceState(Mi(s),"","#"+i):window.history.pushState(s,"","#"+i);const a=i.indexOf("#"),d=a>=0?i.slice(a+1):"";al(d,c),zn()},init:i=>sl(window,"hashchange",Ri(i,l=>!n.confirm(l&&l<0?l:e()))),create:dl(t.preload,t.explicitLinks,t.actionBase),utils:{go:i=>window.history.go(i),renderPath:i=>`#${i}`,parsePath:ul,beforeLeave:n}})(t)}var ml=_("<a>");function Xt(t){t=Dn({inactiveClass:"inactive",activeClass:"active"},t);const[,e]=fi(t,["href","state","class","activeClass","inactiveClass","end"]),n=Wi(()=>t.href),i=Hi(n),l=Gi(),c=Fe(()=>{const s=n();if(s===void 0)return[!1,!1];const a=gr(s.split(/[?#]/,1)[0]).toLowerCase(),d=decodeURI(gr(l.pathname).toLowerCase());return[t.end?a===d:d.startsWith(a+"/")||d===a,a===d]});return(()=>{var s=ml();return Ei(s,Dn(e,{get href(){return i()||t.href},get state(){return JSON.stringify(t.state)},get classList(){return{...t.class&&{[t.class]:!0},[t.inactiveClass]:!c()[0],[t.activeClass]:c()[0],...e.classList}},link:"",get"aria-current"(){return c()[1]?"page":void 0}}),!1),s})()}const lt=(t=300+Math.random()*700)=>new Promise(e=>setTimeout(e,t)),cr=(t="")=>`${t}${Date.now()}-${Math.random().toString(36).substr(2,9)}`;let Ne={products:[{id:"prod-001",name:"Wireless Headphones",sku:"WH-001",productCode:"WH-001",productName:"Wireless Headphones",description:"High-quality wireless bluetooth headphones",category:"Electronics",unitOfMeasure:"pcs",unitCost:45,sellingPrice:89.99,minStockLevel:10,maxStockLevel:100,isActive:!0,createdDate:"2024-01-15T10:00:00Z",lastModified:"2024-01-15T10:00:00Z",businessId:"YB100423253156428"},{id:"prod-002",name:"USB-C Cable",sku:"USB-001",description:"3ft USB-C charging cable",category:"Accessories",unitOfMeasure:"pcs",unitCost:8.5,sellingPrice:19.99,minStockLevel:25,maxStockLevel:200,isActive:!0,createdDate:"2024-01-16T10:00:00Z",lastModified:"2024-01-16T10:00:00Z",businessId:"YB100423253156428"},{id:"prod-003",name:"Laptop Stand",sku:"LS-001",description:"Adjustable aluminum laptop stand",category:"Office",unitOfMeasure:"pcs",unitCost:25,sellingPrice:49.99,minStockLevel:5,maxStockLevel:50,isActive:!0,createdDate:"2024-01-17T10:00:00Z",lastModified:"2024-01-17T10:00:00Z",businessId:"YB100423253156428"}],locations:[{id:"loc-001",name:"Main Warehouse",code:"WH-001",type:"warehouse",address:"123 Industrial Dr, City, State 12345",isActive:!0,createdDate:"2024-01-01T10:00:00Z"},{id:"loc-002",name:"Retail Store - Downtown",code:"ST-001",type:"store",address:"456 Main St, City, State 12345",isActive:!0,createdDate:"2024-01-01T10:00:00Z"},{id:"loc-003",name:"Retail Store - Mall",code:"ST-002",type:"store",address:"789 Mall Blvd, City, State 12345",isActive:!0,createdDate:"2024-01-01T10:00:00Z"}],movements:[{id:"mov-001",productId:"prod-001",productName:"Wireless Headphones",productSku:"WH-001",locationId:"loc-001",locationName:"Main Warehouse",movementType:"in",quantity:50,unitCost:45,totalCost:2250,referenceNumber:"PO-001",notes:"Initial stock purchase",createdBy:"admin",createdDate:"2024-01-15T10:00:00Z",invoiceId:"INV-1000001"},{id:"mov-002",productId:"prod-002",productName:"USB-C Cable",productSku:"USB-001",locationId:"loc-001",locationName:"Main Warehouse",movementType:"in",quantity:100,unitCost:8.5,totalCost:850,referenceNumber:"PO-001",notes:"Bulk purchase",createdBy:"admin",createdDate:"2024-01-15T10:05:00Z",invoiceId:"INV-1000001"}],accounts:[{id:"acc-001",accountNumber:"1000",accountName:"Cash",accountType:"asset",category:"currentAssets",balance:5e4,parentAccountId:null,description:"Cash and cash equivalents",isActive:!0,createdDate:"2024-01-01T10:00:00Z",lastModified:"2024-01-01T10:00:00Z"},{id:"acc-002",accountNumber:"1100",accountName:"Accounts Receivable",accountType:"asset",category:"currentAssets",balance:25e3,parentAccountId:null,description:"Money owed by customers",isActive:!0,createdDate:"2024-01-01T10:00:00Z",lastModified:"2024-01-01T10:00:00Z"}],journalEntries:[{id:"je-001",entryNumber:"JE-001",date:"2024-01-15",description:"Initial cash deposit",reference:"DEP-001",status:"posted",createdBy:"admin",createdAt:"2024-01-15T10:00:00Z",postedAt:"2024-01-15T10:05:00Z",lines:[{id:"jel-001",accountId:"acc-001",accountName:"Cash",description:"Initial deposit",debitAmount:5e4,creditAmount:0},{id:"jel-002",accountId:"acc-003",accountName:"Owner Equity",description:"Initial capital",debitAmount:0,creditAmount:5e4}]}]};const ft=(t=.05)=>Math.random()<t,bt=()=>{const t=["Network timeout","Connection refused","Server temporarily unavailable","Invalid request"];throw new Error(t[Math.floor(Math.random()*t.length)])},Tt={products:{async getAll(t,e){await lt(),ft()&&bt();let n=[...Ne.products];if(t&&t.trim()){const i=t.toLowerCase();n=n.filter(l=>l.name.toLowerCase().includes(i)||l.sku.toLowerCase().includes(i)||l.category.toLowerCase().includes(i)||l.description.toLowerCase().includes(i))}return e?.category&&(n=n.filter(i=>i.category===e.category)),e?.isActive!==void 0&&(n=n.filter(i=>i.isActive===e.isActive)),n},async getById(t){return await lt(),ft()&&bt(),Ne.products.find(e=>e.id===t)||null},async create(t){if(await lt(),ft()&&bt(),Ne.products.some(n=>n.sku===t.sku))throw new Error("SKU already exists");const e={...t,id:cr("prod-"),createdDate:new Date().toISOString(),lastModified:new Date().toISOString()};return Ne.products.push(e),e},async update(t,e){await lt(),ft()&&bt();const n=Ne.products.findIndex(l=>l.id===t);if(n===-1)throw new Error("Product not found");if(e.sku&&Ne.products.some(l=>l.id!==t&&l.sku===e.sku))throw new Error("SKU already exists");const i={...Ne.products[n],...e,lastModified:new Date().toISOString()};return Ne.products[n]=i,i},async delete(t){await lt(),ft()&&bt();const e=Ne.products.findIndex(i=>i.id===t);if(e===-1)throw new Error("Product not found");return Ne.movements.some(i=>i.productId===t)?{success:!1,message:"Cannot delete product with existing movements"}:(Ne.products.splice(e,1),{success:!0,message:"Product deleted successfully"})}},locations:{async getAll(t){await lt(),ft()&&bt();let e=[...Ne.locations];return t?.type&&(e=e.filter(n=>n.type===t.type)),t?.isActive!==void 0&&(e=e.filter(n=>n.isActive===t.isActive)),e},async getById(t){return await lt(),Ne.locations.find(e=>e.id===t)||null},async create(t){if(await lt(),ft()&&bt(),Ne.locations.some(n=>n.code===t.code))throw new Error("Location code already exists");const e={...t,id:cr("loc-"),createdDate:new Date().toISOString()};return Ne.locations.push(e),e},async update(t,e){await lt(),ft()&&bt();const n=Ne.locations.findIndex(i=>i.id===t);if(n===-1)throw new Error("Location not found");if(e.code&&Ne.locations.some(i=>i.id!==t&&i.code===e.code))throw new Error("Location code already exists");return Ne.locations[n]={...Ne.locations[n],...e},Ne.locations[n]}},movements:{async getAll(t){await lt(),ft()&&bt();let e=[...Ne.movements];if(t?.productId&&(e=e.filter(n=>n.productId===t.productId)),t?.locationId&&(e=e.filter(n=>n.locationId===t.locationId)),t?.movementType&&(e=e.filter(n=>n.movementType===t.movementType)),t?.dateFrom&&(e=e.filter(n=>n.createdDate>=t.dateFrom)),t?.dateTo&&(e=e.filter(n=>n.createdDate<=t.dateTo)),t?.search){const n=t.search.toLowerCase();e=e.filter(i=>i.productName.toLowerCase().includes(n)||i.productSku.toLowerCase().includes(n)||i.referenceNumber.toLowerCase().includes(n)||i.notes.toLowerCase().includes(n))}return e.sort((n,i)=>new Date(i.createdDate).getTime()-new Date(n.createdDate).getTime()),e},async getById(t){return await lt(),Ne.movements.find(e=>e.id===t)||null},async create(t){if(await lt(),ft()&&bt(),!Ne.products.find(l=>l.id===t.productId))throw new Error("Product not found");if(!Ne.locations.find(l=>l.id===t.locationId))throw new Error("Location not found");if(t.movementType==="out"){const l=await this.getStockLevel(t.productId,t.locationId);if(l<t.quantity)throw new Error(`Insufficient stock. Available: ${l}, Requested: ${t.quantity}`)}const i={...t,id:cr("mov-"),createdDate:new Date().toISOString()};return Ne.movements.push(i),i},async update(t,e){await lt(),ft()&&bt();const n=Ne.movements.findIndex(l=>l.id===t);if(n===-1)throw new Error("Movement not found");const i={...Ne.movements[n],...e,lastModified:new Date().toISOString()};return Ne.movements[n]=i,i},async delete(t){await lt(),ft()&&bt();const e=Ne.movements.findIndex(n=>n.id===t);if(e===-1)throw new Error("Movement not found");return Ne.movements.splice(e,1),{success:!0,message:"Movement deleted successfully"}},async createBulk(t){await lt(),ft()&&bt();const e=[],n=[],i=new Date().toISOString(),l=Ne.locations.find(c=>c.id===t.locationId);if(!l)return{success:!1,movements:[],errors:["Invalid location"]};for(let c=0;c<t.items.length;c++){const s=t.items[c],a=Ne.products.find(f=>f.id===s.productId);if(!a){e.push(`Item ${c+1}: Product not found`);continue}if(s.quantity<=0){e.push(`Item ${c+1}: Quantity must be greater than 0`);continue}if(t.movementType==="out"){const f=await this.getStockLevel(s.productId,t.locationId);if(s.quantity>f){e.push(`Item ${c+1}: Insufficient stock. Available: ${f}, Requested: ${s.quantity}`);continue}}const d=s.unitCost||a.unitCost,v={id:cr("mov-"),productId:a.id,productName:a.name,productSku:a.sku,locationId:t.locationId,locationName:l.name,movementType:t.movementType,quantity:s.quantity,unitCost:d,totalCost:s.quantity*d,referenceNumber:t.referenceNumber,notes:s.notes||t.generalNotes||"",createdBy:t.createdBy,createdDate:i,invoiceId:t.invoiceId,fromLocationId:t.fromLocationId,fromLocationName:t.fromLocationId?Ne.locations.find(f=>f.id===t.fromLocationId)?.name:void 0};n.push(v)}return e.length>0?{success:!1,movements:[],errors:e}:(Ne.movements.push(...n),{success:!0,movements:n,errors:[]})},async getStockLevel(t,e){return await lt(50),Ne.movements.filter(n=>n.productId===t&&n.locationId===e).reduce((n,i)=>{switch(i.movementType){case"in":case"adjustment":return n+i.quantity;case"out":return n-i.quantity;case"transfer":return i.locationId===e?n+i.quantity:n;default:return n}},0)},async getStockLevels(){await lt();const t=new Map;for(const e of Ne.movements){const n=`${e.productId}-${e.locationId}`;let i=t.get(n);switch(i||(i={id:n,productId:e.productId,locationId:e.locationId,quantity:0,reservedQuantity:0,availableQuantity:0,averageCost:0,lastMovementDate:e.createdDate,lastMovementType:e.movementType},t.set(n,i)),e.movementType){case"in":case"adjustment":i.quantity+=e.quantity;break;case"out":i.quantity-=e.quantity;break;case"transfer":e.locationId===e.locationId&&(i.quantity+=e.quantity);break}new Date(e.createdDate)>new Date(i.lastMovementDate)&&(i.lastMovementDate=e.createdDate,i.lastMovementType=e.movementType),i.averageCost=e.unitCost,i.availableQuantity=i.quantity-i.reservedQuantity}return Array.from(t.values())}},accounts:{async getAll(t){await lt(),ft()&&bt();let e=[...Ne.accounts];return t?.accountType&&(e=e.filter(n=>n.accountType===t.accountType)),t?.category&&(e=e.filter(n=>n.category===t.category)),t?.isActive!==void 0&&(e=e.filter(n=>n.isActive===t.isActive)),e},async getById(t){return await lt(),Ne.accounts.find(e=>e.id===t)||null},async create(t){if(await lt(),ft()&&bt(),Ne.accounts.some(n=>n.accountNumber===t.accountNumber))throw new Error("Account number already exists");const e={...t,id:cr("acc-"),createdDate:new Date().toISOString(),lastModified:new Date().toISOString()};return Ne.accounts.push(e),e},async update(t,e){await lt(),ft()&&bt();const n=Ne.accounts.findIndex(i=>i.id===t);if(n===-1)throw new Error("Account not found");if(e.accountNumber&&Ne.accounts.some(i=>i.id!==t&&i.accountNumber===e.accountNumber))throw new Error("Account number already exists");return Ne.accounts[n]={...Ne.accounts[n],...e,lastModified:new Date().toISOString()},Ne.accounts[n]}},journal:{async getAll(t){await lt(),ft()&&bt();let e=[...Ne.journalEntries];return t?.status&&(e=e.filter(n=>n.status===t.status)),t?.accountId&&(e=e.filter(n=>n.lines.some(i=>i.accountId===t.accountId))),t?.dateFrom&&(e=e.filter(n=>n.date>=t.dateFrom)),t?.dateTo&&(e=e.filter(n=>n.date<=t.dateTo)),e.sort((n,i)=>new Date(i.createdAt).getTime()-new Date(n.createdAt).getTime())},async getById(t){return await lt(),Ne.journalEntries.find(e=>e.id===t)||null},async create(t){await lt(),ft()&&bt();const e=t.lines.reduce((a,d)=>a+(d.debitAmount||0),0),n=t.lines.reduce((a,d)=>a+(d.creditAmount||0),0);if(Math.abs(e-n)>.01)throw new Error(`Entry is not balanced. Debit: ${e}, Credit: ${n}`);const i=Ne.journalEntries.sort((a,d)=>d.entryNumber.localeCompare(a.entryNumber))[0],c=`JE-${((i?parseInt(i.entryNumber.split("-")[1]):0)+1).toString().padStart(3,"0")}`,s={...t,id:cr("je-"),entryNumber:c,createdAt:new Date().toISOString(),lines:t.lines.map(a=>({...a,id:cr("jel-")}))};return Ne.journalEntries.push(s),s},async update(t,e){await lt(),ft()&&bt();const n=Ne.journalEntries.findIndex(i=>i.id===t);if(n===-1)throw new Error("Journal entry not found");if(Ne.journalEntries[n].status==="posted")throw new Error("Cannot modify posted entries");return Ne.journalEntries[n]={...Ne.journalEntries[n],...e},Ne.journalEntries[n]},async post(t){await lt(),ft()&&bt();const e=Ne.journalEntries.findIndex(c=>c.id===t);if(e===-1)throw new Error("Journal entry not found");const n=Ne.journalEntries[e];if(n.status==="posted")throw new Error("Entry is already posted");const i=n.lines.reduce((c,s)=>c+(s.debitAmount||0),0),l=n.lines.reduce((c,s)=>c+(s.creditAmount||0),0);if(Math.abs(i-l)>.01)throw new Error("Entry must be balanced before posting");return Ne.journalEntries[e]={...n,status:"posted",postedAt:new Date().toISOString()},n.lines.forEach(c=>{const s=Ne.accounts.findIndex(a=>a.id===c.accountId);if(s!==-1){const a=Ne.accounts[s],d=c.debitAmount||0,v=c.creditAmount||0;["asset","expense"].includes(a.accountType)?a.balance+=d-v:a.balance+=v-d}}),Ne.journalEntries[e]}},utils:{async getNextEntryNumber(){await lt(100);const t=Ne.journalEntries.sort((n,i)=>i.entryNumber.localeCompare(n.entryNumber))[0];return`JE-${((t?parseInt(t.entryNumber.split("-")[1]):0)+1).toString().padStart(3,"0")}`},async getNextProductCode(t){await lt(100);const e=t.toUpperCase().slice(0,3),n=Ne.products.filter(l=>l.productCode?.startsWith(e)).sort((l,c)=>(c.productCode||"").localeCompare(l.productCode||""));if(n.length===0)return`${e}001`;const i=parseInt(n[0].productCode?.slice(-3)||"0");return`${e}${(i+1).toString().padStart(3,"0")}`},async healthCheck(){return await lt(50),{status:"healthy",timestamp:new Date().toISOString(),version:"1.0.0"}},async resetDatabase(){return await lt(200),Ne={products:[...Ne.products.slice(0,3)],locations:[...Ne.locations.slice(0,3)],movements:[...Ne.movements.slice(0,2)],accounts:[...Ne.accounts.slice(0,2)],journalEntries:[...Ne.journalEntries.slice(0,1)]},{success:!0,message:"Database reset to initial state"}},async getStats(){return await lt(100),{products:Ne.products.length,locations:Ne.locations.length,movements:Ne.movements.length,accounts:Ne.accounts.length,journalEntries:Ne.journalEntries.length,totalStockValue:Ne.movements.reduce((t,e)=>e.movementType==="in"?t+e.totalCost:e.movementType==="out"?t-e.totalCost:t,0)}}}},sn=async t=>{const i=await fetch("https://qvamarkets.com/gql_api",{method:"POST",headers:{"Content-Type":"application/json","Accept-Encoding":"gzip, deflate, br",Authorization:"eyJhbGciOiJSUzI1NiIsImtpZCI6IjhlOGZjOGU1NTZmN2E3NmQwOGQzNTgyOWQ2ZjkwYWUyZTEyY2ZkMGQiLCJ0eXAiOiJKV1QifQ"},body:JSON.stringify(t)});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const l=await i.json();if(l.errors)throw new Error(l.errors[0]?.message||"GraphQL error");return l.data},vl=t=>({ENTRY:"in",in:"in",TRANSFER:"transfer",transfer:"transfer",SALES:"out",out:"out",adjustment:"adjustment"})[t],Kn=t=>({ENTRY:"ENTRY",in:"ENTRY",TRANSFER:"TRANSFER",transfer:"TRANSFER",SALES:"SALES",out:"SALES",adjustment:"adjustment"})[t];function gl(t){var e=[];return t&&Object.keys(t).map(n=>{e.push(t[n])}),e}const pl=()=>(typeof window<"u"&&localStorage.getItem("hrmfinance-api-mode"),"real");let vr=pl();const zr={getMode(){return vr},setMode(t){vr=t,typeof window<"u"&&localStorage.setItem("hrmfinance-api-mode",t)},isFakeMode(){return vr==="fake"},isRealMode(){return vr==="real"},isHybridMode(){return vr==="hybrid"}},Rt=async(t,e,n=!0)=>{if(vr==="fake")return e();if(vr==="real")return t();try{return await t()}catch(i){if(console.warn("Real API failed, falling back to fake server:",i),n)return e();throw i}},Zn={async getAll(t,e){const n=await sn({query:"getScanYabaProducts",queryString:"!* contain :search0 AND !* contain :search1 AND !* contain :search2 AND !* contain :search3 AND !* contain :search4",params:{businessId:"YB100423253156428",":search0":"produ"}});return gl(n)},async getById(t){return Rt(async()=>(await this.getAll()).find(n=>n.id===t)||null,()=>Tt.products.getById(t))},async create(t){return Rt(async()=>{throw console.log("Creating product via real API:",t),new Error("Real API not implemented yet")},()=>Tt.products.create(t))},async update(t,e){return Rt(async()=>{throw console.log("Updating product via real API:",t,e),new Error("Real API not implemented yet")},()=>Tt.products.update(t,e))},async delete(t){return Rt(async()=>{throw console.log("Deleting product via real API:",t),new Error("Real API not implemented yet")},()=>Tt.products.delete(t))}},kr={async getInventory(t,e){if(console.log(t),!(t&&t?.trim()))return[];let n={businessId:"YB100423253156428"};return t&&t.split(" ").map((c,s)=>{c&&(n[":search"+s]=c.trim())}),await sn({query:"getScanYabaInventory",queryString:"!* contain :search0 AND !* contain :search1 AND !* contain :search2 AND !* contain :search3 AND !* contain :search4",params:n})},async getProducts(t){if(!(t&&t?.trim()))return[];let e={businessId:"YB100423253156428"};t&&t.split(" ").map((l,c)=>{l&&(e[":search"+c]=l.trim())});let n={query:"getScanYabaProducts",queryString:"!* contain :search0 AND !* contain :search1 AND !* contain :search2 AND !* contain :search3 AND !* contain :search4",params:e};return console.log("getProducts:",t,n),await sn(n)}},Xn={async getAll(t){return Rt(async()=>{throw console.log("Getting accounts via real API:",t),new Error("Real API not implemented yet")},()=>Tt.accounts.getAll(t))},async getById(t){return Rt(async()=>{throw console.log("Getting account by ID via real API:",t),new Error("Real API not implemented yet")},()=>Tt.accounts.getById(t))},async create(t){return Rt(async()=>{throw console.log("Creating account via real API:",t),new Error("Real API not implemented yet")},()=>Tt.accounts.create(t))},async update(t,e){return Rt(async()=>{throw console.log("Updating account via real API:",t,e),new Error("Real API not implemented yet")},()=>Tt.accounts.update(t,e))}},eo={async getNextEntryNumber(){return Rt(async()=>{throw console.log("Getting next entry number via real API"),new Error("Real API not implemented yet")},()=>Tt.utils.getNextEntryNumber())},async getNextProductCode(t){return Rt(async()=>{throw console.log("Getting next product code via real API:",t),new Error("Real API not implemented yet")},()=>Tt.utils.getNextProductCode(t))},async healthCheck(){return Rt(async()=>{const t=await fetch("/api/health");if(!t.ok)throw new Error("Health check failed");return t.json()},()=>Tt.utils.healthCheck())},async getStats(){return Rt(async()=>{throw console.log("Getting stats via real API"),new Error("Real API not implemented yet")},()=>Tt.utils.getStats())}},fl=()=>{zr.setMode("real"),console.log("🚀 HRM Finance initialized in REAL API mode for production")};fl();var bl=_("<button>");const Ae=t=>{const e=()=>{const n={"font-family":"inherit",cursor:t.disabled?"not-allowed":"pointer",border:"none","border-radius":"var(--border-radius-sm)","font-weight":"500",transition:"all 0.2s ease","text-decoration":"none",display:"inline-flex","align-items":"center","justify-content":"center",gap:"0.5rem",opacity:t.disabled?"0.6":"1"},i={sm:{padding:"0.5rem 1rem","font-size":"0.875rem"},md:{padding:"0.75rem 1.5rem","font-size":"1rem"},lg:{padding:"1rem 2rem","font-size":"1.125rem"}},l={primary:{background:"linear-gradient(135deg, var(--primary-color), var(--primary-dark))",color:"white","box-shadow":"var(--shadow-sm)"},secondary:{background:"var(--surface-color)",color:"var(--text-primary)",border:"1px solid var(--border-color)"},outline:{background:"transparent",color:"var(--primary-color)",border:"1px solid var(--primary-color)"}};return{...n,...i[t.size||"md"],...l[t.variant||"primary"]}};return(()=>{var n=bl();return lr(n,"click",t.onClick,!0),r(n,()=>t.children),j(i=>{var l=e(),c=t.disabled,s=t.type||"button",a=`btn btn-${t.variant||"primary"} ${t.className||""}`;return i.e=o(n,l,i.e),c!==i.t&&(n.disabled=i.t=c),s!==i.a&&Ze(n,"type",i.a=s),a!==i.o&&dn(n,i.o=a),i},{e:void 0,t:void 0,a:void 0,o:void 0}),n})()};ut(["click"]);var hl=_("<div><div><div><h2></h2><button>×</button></div><div>");const $t=t=>{const e={position:"fixed",top:"0",left:"0",right:"0",bottom:"0","background-color":"rgba(0, 0, 0, 0.5)",display:"flex","align-items":"center","justify-content":"center","z-index":"1000"},n={background:"var(--surface-color)","border-radius":"var(--border-radius)","box-shadow":"var(--shadow-lg)","max-width":"920px",width:"90%","max-height":"80vh",overflow:"auto",position:"relative"},i={padding:"1.5rem","border-bottom":"1px solid var(--border-color)",display:"flex","justify-content":"space-between","align-items":"center"},l={"font-size":"1.25rem","font-weight":"600",color:"var(--text-primary)",margin:"0"},c={background:"none",border:"none","font-size":"1.5rem",cursor:"pointer",color:"var(--text-muted)",padding:"0.5rem","border-radius":"var(--border-radius-sm)"},s={padding:"1.5rem"},a=d=>{d.target===d.currentTarget&&t.onClose()};return y(Ue,{get when(){return t.isOpen},get children(){var d=hl(),v=d.firstChild,f=v.firstChild,T=f.firstChild,L=T.nextSibling,D=f.nextSibling;return d.$$click=a,o(f,i),o(T,l),r(T,()=>t.title),L.addEventListener("mouseleave",C=>C.target.style.background="none"),L.addEventListener("mouseenter",C=>C.target.style.background="var(--background-color)"),lr(L,"click",t.onClose,!0),o(L,c),o(D,s),r(D,()=>t.children),j(C=>{var $=e,x=n;return C.e=o(d,$,C.e),C.t=o(v,x,C.t),C},{e:void 0,t:void 0}),d}})};ut(["click"]);var to=_("<div>"),Sl=_("<h3>"),Pl=_("<p>");const ze=t=>{const e={background:"var(--surface-color)","border-radius":"var(--border-radius)",padding:"1.5rem","box-shadow":"var(--shadow-sm)",border:"1px solid var(--border-color)",transition:"all 0.2s ease",cursor:t.onClick?"pointer":"default"},n={"margin-bottom":"1rem"},i={"font-size":"1.25rem","font-weight":"600",color:"var(--text-primary)",margin:"0 0 0.5rem 0"},l={"font-size":"0.875rem",color:"var(--text-muted)",margin:"0"};return(()=>{var c=to();return lr(c,"click",t.onClick,!0),r(c,(()=>{var s=U(()=>!!(t.title||t.subtitle));return()=>s()&&(()=>{var a=to();return o(a,n),r(a,(()=>{var d=U(()=>!!t.title);return()=>d()&&(()=>{var v=Sl();return o(v,i),r(v,()=>t.title),v})()})(),null),r(a,(()=>{var d=U(()=>!!t.subtitle);return()=>d()&&(()=>{var v=Pl();return o(v,l),r(v,()=>t.subtitle),v})()})(),null),a})()})(),null),r(c,()=>t.children,null),j(s=>{var a=e,d=`card ${t.className||""}`;return s.e=o(c,a,s.e),d!==s.t&&dn(c,s.t=d),s},{e:void 0,t:void 0}),c})()};ut(["click"]);var $l=_("<div><label></label><input>"),xl=_("<span>*");const it=t=>{const e={display:"block","font-weight":"500","margin-bottom":"0.5rem",color:"var(--text-primary)"},n={width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem","font-family":"inherit",background:"var(--surface-color)",color:"var(--text-primary)",transition:"border-color 0.2s ease"},i={"margin-bottom":"1rem"};return(()=>{var l=$l(),c=l.firstChild,s=c.nextSibling;return o(l,i),o(c,e),r(c,()=>t.label,null),r(c,(()=>{var a=U(()=>!!t.required);return()=>a()&&(()=>{var d=xl();return d.style.setProperty("color","var(--primary-color)"),d})()})(),null),s.addEventListener("blur",a=>a.target.style.borderColor="var(--border-color)"),s.addEventListener("focus",a=>a.target.style.borderColor="var(--primary-color)"),s.$$input=a=>t.onChange(a.target.value),o(s,n),j(a=>{var d=t.type||"text",v=t.placeholder,f=t.required,T=t.disabled;return d!==a.e&&Ze(s,"type",a.e=d),v!==a.t&&Ze(s,"placeholder",a.t=v),f!==a.a&&(s.required=a.a=f),T!==a.o&&(s.disabled=a.o=T),a},{e:void 0,t:void 0,a:void 0,o:void 0}),j(()=>s.value=t.value),l})()};ut(["input"]);const Cl={en:{common:{save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",add:"Add",close:"Close",search:"Search",filter:"Filter",reset:"Reset",back:"Back",next:"Next",previous:"Previous",yes:"Yes",no:"No",loading:"Loading...",error:"Error",success:"Success",warning:"Warning",info:"Information",confirm:"Confirm",actions:"Actions",status:"Status",active:"Active",inactive:"Inactive",date:"Date",time:"Time",description:"Description",notes:"Notes",amount:"Amount",total:"Total",subtotal:"Subtotal",currency:"USD",language:"Language",english:"English",spanish:"Spanish",noDataFound:"No data found",required:"Required",optional:"Optional",all:"All",none:"None",select:"Select",clear:"Clear",searching:"Searching...",refresh:"Refresh",showAll:"Show All",products:"products",filtered:"Filtered",view:"View",suggested:"Suggested",clearFilters:"Clear Filters",enhanced:"Enhanced",legacy:"Legacy",email:"Email",phone:"Phone",address:"Address",name:"Name",code:"Code",category:"Category",type:"Type",quantity:"Quantity",price:"Price",cost:"Cost",value:"Value",balance:"Balance",created:"Created",modified:"Modified",details:"Details",summary:"Summary",history:"History",new:"New",addNew:"Add New",unknown:"Unknown",notAvailable:"N/A",remove:"Remove",startDate:"Start Date",endDate:"End Date",from:"From",invoice:"Invoice",reference:"Reference",createdBy:"Created By",units:"units"},navigation:{dashboard:"Dashboard",accounts:"Chart of Accounts",balanceSheet:"Balance Sheet",inventory:"Inventory",employees:"Employees",entryBooks:"Entry Books",consolidate:"Bank Consolidation",reports:"Reports",settings:"Settings"},dashboard:{title:"Dashboard",welcome:"Welcome to HRM Finance",totalRevenue:"Total Revenue",overview:"Overview",recentActivity:"Recent Activity",quickActions:"Quick Actions",employeeCount:"Employee Count",pendingInvoices:"Pending Invoices",cashBalance:"Cash Balance",totalAssets:"Total Assets",totalLiabilities:"Total Liabilities",totalExpenses:"Total Expenses",netIncome:"Net Income",netLoss:"Net Loss",monthlyPayroll:"Monthly Payroll",current:"Current",newHires:"+3 new hires",outstanding:"Outstanding",totalOutstanding:"$23,450 total",lastUpdatedToday:"Last updated today",commonTasks:"Common tasks",generateReport:"Generate Report",latestUpdates:"Latest updates",invoicePaid:"Invoice #1234 paid",hoursAgo:"2 hours ago",newEmployeeOnboarded:"New employee onboarded",dayAgo:"1 day ago",monthlyReportGenerated:"Monthly report generated",daysAgo:"2 days ago"},accounts:{title:"Chart of Accounts",accountNumber:"Account Number",accountName:"Account Name",accountType:"Account Type",category:"Category",balance:"Balance",parentAccount:"Parent Account",subAccounts:"Sub-accounts",addAccount:"Add Account",editAccount:"Edit Account",deleteAccount:"Delete Account",accountDetails:"Account Details",transactions:"Transactions",accountHistory:"Account History",backToAccounts:"Back to Accounts",accountNotFound:"Account not found",accountInformation:"Account Information",accountPurpose:"Account purpose",transactionHistory:"Transaction History",noTransactions:"No transactions found for this account",createdDate:"Created Date",lastModified:"Last Modified",noDescription:"No description provided.",totalCount:"Total count",basicDetails:"Basic details",currentBalance:"Current balance",classification:"Classification",allTransactions:"All account transactions",reference:"Reference",allAccounts:"All Accounts",types:{asset:"Asset",liability:"Liability",equity:"Equity",revenue:"Revenue",expense:"Expense"},categories:{currentAssets:"Current Assets",fixedAssets:"Fixed Assets",currentLiabilities:"Current Liabilities",longTermLiabilities:"Long-term Liabilities",ownersEquity:"Owner's Equity",operatingRevenue:"Operating Revenue",operatingExpenses:"Operating Expenses"}},inventory:{title:"Inventory Management",overview:"Overview",products:"Products & Stock",movements:"Movements",locations:"Locations",bulkMovement:"Bulk Movement",addMovement:"Add Movement",addProduct:"Add Product",addLocation:"Add Location",singleMovement:"Add Single Movement",addNewItem:"Add New Item",activeProducts:"Active Products",lowStockAlert:"Low Stock Items",totalValue:"Total Stock Value",activeLocations:"Active Locations",productsNeedRestocking:"products need restocking",recentMovements:"Recent Movements",noProducts:"No products at this location",productName:"Product Name",productCode:"Product Code",sku:"SKU",unitOfMeasure:"Unit of Measure",unitCost:"Unit Cost",minStockLevel:"Min Stock Level",maxStockLevel:"Max Stock Level",locationName:"Location Name",locationType:"Location Type",locationCode:"Location Code",movementType:"Movement Type",referenceNumber:"Reference Number",invoiceNumber:"Invoice Number",fromLocation:"From Location",toLocation:"To Location",stockIn:"Stock In",stockOut:"Stock Out",transfer:"Transfer",adjustment:"Adjustment",inStock:"In Stock",lowStock:"Low Stock",outOfStock:"Out of Stock",stockLevels:"Stock Levels",stockByLocation:"Stock by Location",searchProducts:"Search products by name, SKU, or category...",searchProductsStock:"Search products and check stock levels...",searchResult:"Search Result",searchResults:"Search Results",searchFallback:"Showing local results",tryDifferentTerm:"Try a different search term or check spelling.",showingTopResults:"Showing top {{count}} results",searchLocations:"Search locations...",noMovements:"No movements found",productDetails:"Product Details",locationDetails:"Location Details",movementDetails:"Movement Details",totalProducts:"Total Products",totalLocations:"Total Locations",lastSeen:"Last seen",warehouseType:"Warehouse",storeType:"Store",supplierType:"Supplier",customerType:"Customer",currentlyManaged:"Currently managed",needAttention:"Need attention",currentWorth:"Current worth",warehousesStores:"Warehouses & stores",thisMonth:"This Month",latestActivities:"Latest inventory activities",searchMovements:"Search Movements",countingSheet:"Counting Sheet",physicalCount:"Physical Count",physicalInventoryCount:"Physical Inventory Count",setupPhysicalCount:"Setup Physical Inventory Count",setupDescription:"Configure your physical inventory count settings and begin the counting process.",countWillInclude:"This count will include {{count}} products from {{location}} in {{category}} category.",startCounting:"Start Physical Count",counted:"Counted",remaining:"Remaining",variances:"Variances",complete:"Complete",systemQty:"System Qty",variance:"Variance",addNotes:"Add notes...",reviewAndConfirm:"Review and Confirm Adjustments",reviewDescription:"Review the inventory adjustments below and confirm to update your system.",stockIncreases:"Stock Increases",stockDecreases:"Stock Decreases",totalAdjustments:"Total Adjustments",confirmAdjustments:"Confirm Adjustments",adjustment:"Adjustment",perfectCount:"Perfect Count!",noVariances:"No variances found. Your physical count matches the system exactly.",physicalCountAdjustment:"Physical count adjustment",inventoryCountingSheetTitle:"INVENTORY COUNTING SHEET",location:"Location",allCategories:"All Categories",countedBy:"Counted by",verifiedBy:"Verified by",instructions:"Instructions",countInstructions:["Count all items physically present at this location",'Write the actual count in the "Physical Count" column',"Leave blank if item is not found",'Note any discrepancies in the "Notes" column',"Sign and date when complete"],productName:"Product Name",unit:"Unit",totalProductsListed:"Total Products Listed",itemsCounted:"Items Counted",discrepanciesFound:"Discrepancies Found",counterSignature:"Counter Signature",supervisorSignature:"Supervisor Signature",sortBy:"Sort By",allLocations:"All Locations",searchByProduct:"Search by product, location, reference, notes, invoice...",allProducts:"All Products",allTypes:"All Types",startDate:"Start Date",endDate:"End Date",totalMovements:"Total Movements",totalItems:"Total Items",adjustMovements:"Try adjusting your filters or check back later.",inventoryMovements:"Inventory Movements",createdBy:"Created By",view:"View",enhanced:"Enhanced",legacy:"Legacy",addSingleMovement:"Add Single Movement",inStockSubtitle:"In stock",itemsBelowThreshold:"Items below threshold",inventoryWorth:"Inventory worth",quantity:"Quantity",units:"units",normal:"Normal",productsAndStock:"Products & Stock",lowStockItems:"Low Stock Items",totalStockValue:"Total Stock Value",warehousesAndStores:"Warehouses & stores",andMore:"...and {count} more",latestInventoryActivities:"Latest inventory activities",min:"Min",max:"Max",cost:"Cost",noProductsFound:"No products found matching your search.",noProductsAvailable:"No products available.",noLocationsFound:"No locations found matching your search.",noLocationsAvailable:"No locations available.",searchPlaceholder:"Search by product, location, reference, notes, invoice...",noMovementsFound:"No movements found",tryAdjustingFilters:"Try adjusting your filters or check back later.",transfers:"Transfers",adjustments:"Adjustments",bulk:"Bulk",product:"Product",location:"Location",store:"Store",supplier:"Supplier",warehouse:"Warehouse",movement:"Movement",editMovement:"Edit Movement",updateMovement:"Update Movement",movementInformation:"Movement Information",locationInformation:"Location Information"},employees:{title:"Employee Management",employeeList:"Employee List",addEmployee:"Add Employee",editEmployee:"Edit Employee",employeeDetails:"Employee Details",personalInfo:"Personal Information",employmentInfo:"Employment Information",payrollInfo:"Payroll Information",firstName:"First Name",lastName:"Last Name",fullName:"Full Name",email:"Email",phone:"Phone",address:"Address",dateOfBirth:"Date of Birth",employeeId:"Employee ID",department:"Department",position:"Position",hireDate:"Hire Date",employmentStatus:"Employment Status",salary:"Salary",payFrequency:"Pay Frequency",taxId:"Tax ID",bankAccount:"Bank Account",emergencyContact:"Emergency Contact",activeEmployees:"Active Employees",inactiveEmployees:"Inactive Employees",totalPayroll:"Total Payroll",searchEmployees:"Search employees...",enterFullName:"Enter employee's full name",enterPosition:"Enter job position",enterEmail:"Enter email address",enterPhone:"Enter phone number",enterSalary:"Enter annual salary",departments:{engineering:"Engineering",product:"Product",design:"Design",marketing:"Marketing",sales:"Sales",humanResources:"Human Resources",finance:"Finance",operations:"Operations",analytics:"Analytics"}},entryBooks:{title:"Entry Books",bookName:"Book Name",bookType:"Book Type",createBook:"Create Book",editBook:"Edit Book",salesBook:"Sales Book",purchaseBook:"Purchase Book",cashBook:"Cash Book",generalBook:"General Book",entries:"Entries",addEntry:"Add Entry",period:"Period",startDate:"Start Date",endDate:"End Date",bookBalance:"Book Balance",reconciledBalance:"Reconciled Balance",difference:"Difference",reconcile:"Reconcile",isReconciled:"Is Reconciled",noBooks:"No entry books found",createFirst:"Create your first entry book to get started",bookDetails:"Book Details",entriesCount:"entries",bookOverview:"Book overview and details",bookEntries:"Book Entries",allEntries:"All entries in this book",noEntries:"No entries found",addFirst:"Add your first entry to this book",entryDate:"Entry Date",entryDescription:"Entry Description",entryAmount:"Entry Amount",entryReference:"Entry Reference",subtitle:"Manage accounting entries and general ledger records",viewReconciliation:"View Reconciliation",totalEntries:"Total Entries",allJournalEntries:"All journal entries",postedEntriesOnly:"Posted entries only",fromPostedEntries:"From {count} posted entries",needBankReconciliation:"Need bank reconciliation",allReconciled:"All reconciled",sortBy:"Sort By",fromDate:"From Date",toDate:"To Date",order:"Order",newest:"Newest",oldest:"Oldest",resetFilters:"Reset Filters",activeFilters:"Active filters",from:"From",to:"To",entriesFound:"{count} entries found",noJournalEntries:"No Journal Entries",startByCreating:"Start by creating your first entry",noEntriesMatch:"No journal entries match your current filters.",createFirstEntry:"Create First Entry",void:"Void",confirmVoid:"Are you sure you want to void this journal entry?",entryBookRecords:"Entry Book Records"},banking:{title:"Bank Consolidation",bankAccount:"Bank Account",statementDate:"Statement Date",beginningBalance:"Beginning Balance",endingBalance:"Ending Balance",deposits:"Deposits",withdrawals:"Withdrawals",bankCharges:"Bank Charges",interest:"Interest",reconcile:"Reconcile",matched:"Matched",unmatched:"Unmatched",importStatement:"Import Statement",manualEntry:"Manual Entry",autoMatch:"Auto Match",clearAll:"Clear All",reconciliationStatus:"Reconciliation Status",difference:"Difference",bookBalance:"Book Balance",statementBalance:"Statement Balance",outstandingChecks:"Outstanding Checks",depositsInTransit:"Deposits in Transit",reconciled:"Reconciled",notReconciled:"Not Reconciled",unreconciled:"Unreconciled",reconciliation:"Reconciliation",compareStatements:"Compare bank statements with entry book records",importCSV:"Import CSV",startNewReconciliation:"Start New Reconciliation",bankAccountInfo:"Bank Account Info",currentAccountDetails:"Current account details",lastReconciled:"Last reconciled",bankTransactions:"Bank Transactions",selectedPeriod:"Selected period",pending:"pending",bookEntriesForComparison:"Book entries for comparison",reconciliationRate:"Reconciliation Rate",completionStatus:"Completion status",recentReconciliationSessions:"Recent Reconciliation Sessions",latestActivity:"Latest activity",noRecentSessions:"No recent reconciliation sessions found.",startFirstReconciliation:"Start First Reconciliation",entryBookRecords:"Entry Book Records",pleaseUploadCSV:"Please upload a CSV file",csvRequiresHeaderAndData:"CSV file must have at least a header and one data row",successfullyParsed:"Successfully parsed {count} rows",errorParsingCSV:"Error parsing CSV file. Please check the format.",dateDescriptionRequired:"Date and Description columns are required",importedTransaction:"Imported transaction",successfullyImported:"Successfully imported {count} bank transactions",errorImportingTransactions:"Error importing transactions. Please check your data.",importBankStatementCSV:"Import Bank Statement CSV",dropCSVHere:"Drop CSV file here",clickToUploadCSV:"Click to upload or drag and drop CSV file",supportedFormat:"Supported format: CSV with Date, Description, and Amount columns",mapCSVColumns:"Map CSV Columns",dateColumn:"Date Column",selectColumn:"Select column...",descriptionColumn:"Description Column",referenceColumn:"Reference Column",amountDebitColumn:"Amount/Debit Column",creditColumn:"Credit Column",balanceColumn:"Balance Column",andMoreRows:"... and {count} more rows",importing:"Importing...",importTransactions:"Import {count} Transactions",reconciliationComparison:"Reconciliation Comparison",bankStatements:"Bank Statements",totalTransactions:"Total transactions",totalEntries:"Total entries",unreconciledBank:"Unreconciled Bank",unreconciledBooks:"Unreconciled Books",needAttention:"Need attention",unreconcile:"Unreconcile",clickToReconcile:"Click to reconcile",potentialMatchesFound:"Potential Matches Found",clickRecordToReconcile:"Click on a record below to reconcile",exactMatch:"Exact Match",possibleMatch:"Possible Match",selected:"Selected",clearSelection:"Clear Selection"},journal:{title:"Journal Entries",entryNumber:"Entry Number",entryDate:"Entry Date",debit:"Debit",credit:"Credit",account:"Account",memo:"Memo",reference:"Reference",createEntry:"Create Entry",editEntry:"Edit Entry",deleteEntry:"Delete Entry",posted:"Posted",draft:"Draft",reversed:"Reversed",recurringEntry:"Recurring Entry",attachments:"Attachments",totalDebits:"Total Debits",totalCredits:"Total Credits",outOfBalance:"Out of Balance",balanced:"Balanced",addEntry:"Add Journal Entry",allEntries:"All Entries",totalDebit:"Total Debit",totalCredit:"Total Credit",debitShort:"Dr.",creditShort:"Cr.",noReference:"No reference",createdBy:"By",totalAmount:"Total Amount",lines:"Lines",entryNotBalancedShort:"Entry is not balanced",accountLines:"Account Lines",noDescription:"No description",andMoreLines:"... and {count} more lines",viewDetails:"View Details",entryLines:"Journal Entry Lines",addLine:"Add Line",lineDescription:"Line description",notBalanced:"Not Balanced",updateEntry:"Update Entry",saveAsDraft:"Save as Draft",entryDetails:"Journal Entry Details",entryNotFound:"Entry Not Found",entryNotFoundMessage:"The journal entry you're looking for could not be found or may have been deleted.",editEntryTooltip:"Edit this journal entry",post:"Post",entryMustBeBalanced:"Entry must be balanced to post",postEntryTooltip:"Post this journal entry",voidEntryTooltip:"Void this journal entry",journalLines:"Journal Lines",balanceStatus:"Balance Status",unbalanced:"Unbalanced",difference:"difference",createdAt:"Created At",postedAt:"Posted At",quickActions:"Quick Actions",postEntry:"Post Entry",fixBalance:"Fix Balance",voidEntry:"Void Entry",draftEntry:"Draft Entry",draftEntryDescription:"This entry can be edited and posted.",entryMustBeBalancedBeforePosting:"Entry must be balanced before posting.",postedEntry:"Posted Entry",postedEntryDescription:"This entry has been posted to the general ledger. Editing will create a new draft copy.",voidEntryDescription:"This entry has been voided and cannot be modified.",confirmEditPosted:"This entry has been posted. Editing will create a new draft copy. Continue?",confirmPost:"Are you sure you want to post this journal entry? This action cannot be undone.",confirmVoid:"Are you sure you want to void this journal entry?",minTwoLinesRequired:"At least 2 line items are required",entryNotBalanced:"Entry is not balanced. Debit: ${debit}, Credit: ${credit}",lineAccountRequired:"Line {lineNumber}: Account is required",lineAmountRequired:"Line {lineNumber}: Either debit or credit amount must be provided",lineBothAmounts:"Line {lineNumber}: Cannot have both debit and credit amounts",enterEntryDescription:"Enter journal entry description",enterReferenceNumber:"Enter reference number"},forms:{requiredField:"This field is required",invalidEmail:"Invalid email address",invalidNumber:"Invalid number",invalidDate:"Invalid date",selectOption:"Please select an option",enterValue:"Please enter a value",confirmDelete:"Are you sure you want to delete this item?",unsavedChanges:"You have unsaved changes. Do you want to continue?",saveSuccess:"Saved successfully",saveError:"Error saving data",deleteSuccess:"Deleted successfully",deleteError:"Error deleting item",duplicateAccountNumber:"Account number already exists",descriptionRequired:"Description is required",errorOccurred:"An error occurred",errorPostingEntry:"An error occurred while posting the entry"},modals:{addInventory:"Add Inventory Movement",bulkMovement:"Bulk Inventory Movement",addProduct:"Add New Product",addLocation:"Add New Location",inventoryDetail:"Inventory Item Details",quickAdd:"Quick Add",selectProduct:"Select Product",selectLocation:"Select Location",enterQuantity:"Enter quantity",enterCost:"Enter unit cost",enterReference:"Enter reference number",addNotes:"Add notes (optional)",generalInformation:"General Information",stockInformation:"Stock Information",locationInformation:"Location Information",movementInformation:"Movement Information",addToInventory:"Add to Inventory",createProduct:"Create Product",createLocation:"Create Location",processing:"Processing...",addingMovement:"Adding movement...",creatingProduct:"Creating product...",creatingLocation:"Creating location..."},products:{title:"Products",addNew:"Add New Product",totalProducts:"Total Products",inCatalog:"In catalog",activeProducts:"Active Products",currentlyAvailable:"Currently available",outOfStock:"Out of Stock",needsRestock:"Needs restock",productCatalog:"Product Catalog",manageYourProducts:"Manage your products and pricing",inStock:"In Stock",furniture:"Furniture",electronics:"Electronics",supplies:"Supplies",lighting:"Lighting",searchPlaceholder:"Search products by name, SKU, or category...",allCategories:"All Categories",clearFilters:"Clear filters",noResults:"No products found matching your criteria.",noProducts:"No products available.",showing:"Showing",filtered:"Filtered results",allProducts:"All products",searchResult:"Search Result",stock:"Stock",lowStock:"Low Stock"},invoices:{title:"Invoices",createNew:"Create New Invoice",totalOutstanding:"Total Outstanding",unpaidInvoices:"Unpaid invoices",thisMonth:"This Month",revenueCollected:"Revenue collected",overdue:"Overdue",pastDueInvoices:"Past due invoices",recentInvoices:"Recent Invoices",latestBillingActivity:"Latest billing activity",paid:"Paid",pending:"Pending"}},es:{common:{save:"Guardar",cancel:"Cancelar",delete:"Eliminar",edit:"Editar",add:"Agregar",close:"Cerrar",search:"Buscar",filter:"Filtrar",reset:"Restablecer",back:"Atrás",next:"Siguiente",previous:"Anterior",yes:"Sí",no:"No",loading:"Cargando...",error:"Error",success:"Éxito",warning:"Advertencia",info:"Información",confirm:"Confirmar",actions:"Acciones",status:"Estado",active:"Activo",inactive:"Inactivo",date:"Fecha",time:"Hora",description:"Descripción",notes:"Notas",amount:"Monto",total:"Total",subtotal:"Subtotal",currency:"USD",language:"Idioma",english:"Inglés",spanish:"Español",noDataFound:"No se encontraron datos",required:"Requerido",optional:"Opcional",all:"Todos",none:"Ninguno",select:"Seleccionar",clear:"Limpiar",view:"Ver",suggested:"Sugerido",clearFilters:"Limpiar Filtros",enhanced:"Mejorado",legacy:"Clásico",email:"Correo Electrónico",phone:"Teléfono",address:"Dirección",name:"Nombre",code:"Código",category:"Categoría",type:"Tipo",quantity:"Cantidad",price:"Precio",cost:"Costo",value:"Valor",balance:"Saldo",created:"Creado",modified:"Modificado",details:"Detalles",summary:"Resumen",history:"Historial",new:"Nuevo",addNew:"Agregar Nuevo",unknown:"Desconocido",notAvailable:"N/A",remove:"Remover",startDate:"Fecha de Inicio",endDate:"Fecha de Fin",from:"De",invoice:"Factura",reference:"Referencia",createdBy:"Creado Por",units:"unidades"},navigation:{dashboard:"Panel de Control",accounts:"Plan de Cuentas",balanceSheet:"Balance General",inventory:"Inventario",employees:"Empleados",entryBooks:"Libros de Entrada",consolidate:"Consolidación Bancaria",reports:"Reportes",settings:"Configuración"},dashboard:{title:"Panel de Control",welcome:"Bienvenido a HRM Finance",totalRevenue:"Ingresos Totales",overview:"Resumen",recentActivity:"Actividad Reciente",quickActions:"Acciones Rápidas",employeeCount:"Número de Empleados",pendingInvoices:"Facturas Pendientes",cashBalance:"Saldo en Efectivo",totalAssets:"Activos Totales",totalLiabilities:"Pasivos Totales",totalExpenses:"Gastos Totales",netIncome:"Ingreso Neto",netLoss:"Pérdida Neta",monthlyPayroll:"Nómina Mensual",current:"Actual",newHires:"+3 nuevas contrataciones",outstanding:"Pendiente",totalOutstanding:"$23,450 total",lastUpdatedToday:"Última actualización hoy",commonTasks:"Tareas comunes",generateReport:"Generar Reporte",latestUpdates:"Últimas actualizaciones",invoicePaid:"Factura #1234 pagada",hoursAgo:"hace 2 horas",newEmployeeOnboarded:"Nuevo empleado incorporado",dayAgo:"hace 1 día",monthlyReportGenerated:"Reporte mensual generado",daysAgo:"hace 2 días"},accounts:{title:"Plan de Cuentas",accountNumber:"Número de Cuenta",accountName:"Nombre de Cuenta",accountType:"Tipo de Cuenta",category:"Categoría",balance:"Saldo",parentAccount:"Cuenta Padre",subAccounts:"Subcuentas",addAccount:"Agregar Cuenta",editAccount:"Editar Cuenta",deleteAccount:"Eliminar Cuenta",accountDetails:"Detalles de Cuenta",transactions:"Transacciones",accountHistory:"Historial de Cuenta",backToAccounts:"Volver a Cuentas",accountNotFound:"Cuenta no encontrada",accountInformation:"Información de Cuenta",accountPurpose:"Propósito de la cuenta",transactionHistory:"Historial de Transacciones",noTransactions:"No se encontraron transacciones para esta cuenta",createdDate:"Fecha de Creación",lastModified:"Última Modificación",noDescription:"No se proporcionó descripción.",totalCount:"Conteo total",basicDetails:"Detalles básicos",currentBalance:"Saldo actual",classification:"Clasificación",allTransactions:"Todas las transacciones de la cuenta",reference:"Referencia",types:{asset:"Activo",liability:"Pasivo",equity:"Patrimonio",revenue:"Ingreso",expense:"Gasto"},categories:{currentAssets:"Activos Corrientes",fixedAssets:"Activos Fijos",currentLiabilities:"Pasivos Corrientes",longTermLiabilities:"Pasivos a Largo Plazo",ownersEquity:"Patrimonio del Propietario",operatingRevenue:"Ingresos Operacionales",operatingExpenses:"Gastos Operacionales"}},inventory:{title:"Gestión de Inventario",overview:"Resumen",products:"Productos y Stock",movements:"Movimientos",locations:"Ubicaciones",bulkMovement:"Movimiento Masivo",addMovement:"Agregar Movimiento",addProduct:"Agregar Producto",addLocation:"Agregar Ubicación",singleMovement:"Agregar Movimiento Individual",addNewItem:"Agregar Nuevo Artículo",activeProducts:"Productos Activos",lowStockAlert:"Artículos con Stock Bajo",totalValue:"Valor Total del Stock",activeLocations:"Ubicaciones Activas",productsNeedRestocking:"productos necesitan reabastecimiento",recentMovements:"Movimientos Recientes",noProducts:"No hay productos en esta ubicación",productName:"Nombre del Producto",productCode:"Código del Producto",sku:"SKU",unitOfMeasure:"Unidad de Medida",unitCost:"Costo Unitario",minStockLevel:"Nivel Mínimo de Stock",maxStockLevel:"Nivel Máximo de Stock",locationName:"Nombre de Ubicación",locationType:"Tipo de Ubicación",locationCode:"Código de Ubicación",movementType:"Tipo de Movimiento",referenceNumber:"Número de Referencia",invoiceNumber:"Número de Factura",fromLocation:"Desde Ubicación",toLocation:"Hacia Ubicación",stockIn:"Entrada de Stock",stockOut:"Salida de Stock",transfer:"Transferencia",adjustment:"Ajuste",inStock:"En Stock",lowStock:"Stock Bajo",outOfStock:"Sin Stock",stockLevels:"Niveles de Stock",stockByLocation:"Stock por Ubicación",searchProducts:"Buscar productos...",searchLocations:"Buscar ubicaciones...",noMovements:"No se encontraron movimientos",productDetails:"Detalles del Producto",locationDetails:"Detalles de Ubicación",movementDetails:"Detalles del Movimiento",totalProducts:"Total de Productos",totalLocations:"Total de Ubicaciones",lastSeen:"Visto por última vez",warehouseType:"Almacén",storeType:"Tienda",supplierType:"Proveedor",customerType:"Cliente",currentlyManaged:"Gestionados actualmente",needAttention:"Necesitan atención",currentWorth:"Valor actual",warehousesStores:"Almacenes y tiendas",thisMonth:"Este Mes",latestActivities:"Últimas actividades de inventario",searchMovements:"Buscar Movimientos",countingSheet:"Hoja de Conteo",physicalCount:"Conteo Físico",physicalInventoryCount:"Conteo Físico de Inventario",setupPhysicalCount:"Configurar Conteo Físico de Inventario",setupDescription:"Configure los ajustes de su conteo físico de inventario y comience el proceso de conteo.",countWillInclude:"Este conteo incluirá {{count}} productos de {{location}} en la categoría {{category}}.",startCounting:"Iniciar Conteo Físico",counted:"Contado",remaining:"Restante",variances:"Variaciones",complete:"Completo",systemQty:"Cant. Sistema",variance:"Variación",addNotes:"Agregar notas...",reviewAndConfirm:"Revisar y Confirmar Ajustes",reviewDescription:"Revise los ajustes de inventario a continuación y confirme para actualizar su sistema.",stockIncreases:"Aumentos de Stock",stockDecreases:"Disminuciones de Stock",totalAdjustments:"Ajustes Totales",confirmAdjustments:"Confirmar Ajustes",adjustment:"Ajuste",perfectCount:"¡Conteo Perfecto!",noVariances:"No se encontraron variaciones. Su conteo físico coincide exactamente con el sistema.",physicalCountAdjustment:"Ajuste de conteo físico",inventoryCountingSheetTitle:"HOJA DE CONTEO DE INVENTARIO",location:"Ubicación",allCategories:"Todas las Categorías",countedBy:"Contado por",verifiedBy:"Verificado por",instructions:"Instrucciones",countInstructions:["Contar todos los artículos físicamente presentes en esta ubicación",'Escribir el conteo real en la columna "Conteo Físico"',"Dejar en blanco si el artículo no se encuentra",'Anotar cualquier discrepancia en la columna "Notas"',"Firmar y fechar cuando esté completo"],productName:"Nombre del Producto",unit:"Unidad",totalProductsListed:"Total de Productos Listados",itemsCounted:"Artículos Contados",discrepanciesFound:"Discrepancias Encontradas",counterSignature:"Firma del Contador",supervisorSignature:"Firma del Supervisor",sortBy:"Ordenar Por",allLocations:"Todas las Ubicaciones",searchByProduct:"Buscar por producto, ubicación, referencia, notas, factura...",allProducts:"Todos los Productos",allTypes:"Todos los Tipos",startDate:"Fecha de Inicio",endDate:"Fecha de Fin",totalMovements:"Movimientos Totales",totalItems:"Artículos Totales",adjustMovements:"Intenta ajustar tus filtros o revisa más tarde.",inventoryMovements:"Movimientos de Inventario",createdBy:"Creado Por",view:"Ver",enhanced:"Mejorado",legacy:"Clásico",addSingleMovement:"Agregar Movimiento Individual",inStockSubtitle:"En stock",itemsBelowThreshold:"Artículos bajo el umbral",inventoryWorth:"Valor del inventario",quantity:"Cantidad",units:"unidades",normal:"Normal",productsAndStock:"Productos y Stock",lowStockItems:"Artículos con Stock Bajo",totalStockValue:"Valor Total del Stock",warehousesAndStores:"Almacenes y tiendas",andMore:"...y {count} más",latestInventoryActivities:"Últimas actividades de inventario",min:"Mín",max:"Máx",cost:"Costo",noProductsFound:"No se encontraron productos que coincidan con su búsqueda.",noProductsAvailable:"No hay productos disponibles.",noLocationsFound:"No se encontraron ubicaciones que coincidan con su búsqueda.",noLocationsAvailable:"No hay ubicaciones disponibles.",searchPlaceholder:"Buscar por producto, ubicación, referencia, notas, factura...",noMovementsFound:"No se encontraron movimientos",tryAdjustingFilters:"Intenta ajustar tus filtros o revisa más tarde.",transfers:"Transferencias",adjustments:"Ajustes",bulk:"Masivo",product:"Producto",location:"Ubicación",store:"Tienda",supplier:"Proveedor",warehouse:"Almacén",movement:"Movimiento",editMovement:"Editar Movimiento",updateMovement:"Actualizar Movimiento",movementInformation:"Información del Movimiento",locationInformation:"Información de Ubicación"},employees:{title:"Gestión de Empleados",employeeList:"Lista de Empleados",addEmployee:"Agregar Empleado",editEmployee:"Editar Empleado",employeeDetails:"Detalles del Empleado",personalInfo:"Información Personal",employmentInfo:"Información Laboral",payrollInfo:"Información de Nómina",firstName:"Nombre",lastName:"Apellido",fullName:"Nombre Completo",email:"Correo Electrónico",phone:"Teléfono",address:"Dirección",dateOfBirth:"Fecha de Nacimiento",employeeId:"ID de Empleado",department:"Departamento",position:"Puesto",hireDate:"Fecha de Contratación",employmentStatus:"Estado Laboral",salary:"Salario",payFrequency:"Frecuencia de Pago",taxId:"ID Fiscal",bankAccount:"Cuenta Bancaria",emergencyContact:"Contacto de Emergencia",activeEmployees:"Empleados Activos",inactiveEmployees:"Empleados Inactivos",totalPayroll:"Nómina Total",searchEmployees:"Buscar empleados...",enterFullName:"Ingrese el nombre completo del empleado",enterPosition:"Ingrese el puesto de trabajo",enterEmail:"Ingrese la dirección de correo electrónico",enterPhone:"Ingrese el número de teléfono",enterSalary:"Ingrese el salario anual",departments:{engineering:"Ingeniería",product:"Producto",design:"Diseño",marketing:"Marketing",sales:"Ventas",humanResources:"Recursos Humanos",finance:"Finanzas",operations:"Operaciones",analytics:"Analítica"}},entryBooks:{title:"Libros de Entrada",bookName:"Nombre del Libro",bookType:"Tipo de Libro",createBook:"Crear Libro",editBook:"Editar Libro",salesBook:"Libro de Ventas",purchaseBook:"Libro de Compras",cashBook:"Libro de Caja",generalBook:"Libro General",entries:"Entradas",addEntry:"Agregar Entrada",period:"Período",startDate:"Fecha de Inicio",endDate:"Fecha de Fin",bookBalance:"Saldo del Libro",reconciledBalance:"Saldo Conciliado",difference:"Diferencia",reconcile:"Conciliar",isReconciled:"Está Conciliado",noBooks:"No se encontraron libros de entrada",createFirst:"Crea tu primer libro de entrada para comenzar",bookDetails:"Detalles del Libro",entriesCount:"entradas",bookOverview:"Resumen y detalles del libro",bookEntries:"Entradas del Libro",allEntries:"Todas las entradas en este libro",noEntries:"No se encontraron entradas",addFirst:"Agrega tu primera entrada a este libro",entryDate:"Fecha de Entrada",entryDescription:"Descripción de Entrada",entryAmount:"Monto de Entrada",entryReference:"Referencia de Entrada"},banking:{title:"Consolidación Bancaria",bankAccount:"Cuenta Bancaria",statementDate:"Fecha del Estado",beginningBalance:"Saldo Inicial",endingBalance:"Saldo Final",deposits:"Depósitos",withdrawals:"Retiros",bankCharges:"Cargos Bancarios",interest:"Intereses",reconcile:"Conciliar",matched:"Conciliado",unmatched:"No Conciliado",importStatement:"Importar Estado",manualEntry:"Entrada Manual",autoMatch:"Coincidencia Automática",clearAll:"Limpiar Todo",reconciliationStatus:"Estado de Conciliación",difference:"Diferencia",bookBalance:"Saldo en Libros",statementBalance:"Saldo del Estado",outstandingChecks:"Cheques Pendientes",depositsInTransit:"Depósitos en Tránsito",reconciled:"Conciliado",notReconciled:"No Conciliado",unreconciled:"No Conciliado",reconciliation:"Conciliación",compareStatements:"Comparar estados bancarios con registros de libros de entrada",importCSV:"Importar CSV",startNewReconciliation:"Iniciar Nueva Conciliación",bankAccountInfo:"Información de Cuenta Bancaria",currentAccountDetails:"Detalles de cuenta actual",lastReconciled:"Última conciliación",bankTransactions:"Transacciones Bancarias",selectedPeriod:"Período seleccionado",pending:"pendiente",bookEntriesForComparison:"Entradas de libros para comparación",reconciliationRate:"Tasa de Conciliación",completionStatus:"Estado de finalización",recentReconciliationSessions:"Sesiones de Conciliación Recientes",latestActivity:"Actividad reciente",noRecentSessions:"No se encontraron sesiones de conciliación recientes.",startFirstReconciliation:"Iniciar Primera Conciliación",entryBookRecords:"Registros de Libros de Entrada",pleaseUploadCSV:"Por favor suba un archivo CSV",csvRequiresHeaderAndData:"El archivo CSV debe tener al menos un encabezado y una fila de datos",successfullyParsed:"Se analizaron exitosamente {count} filas",errorParsingCSV:"Error al analizar el archivo CSV. Verifique el formato.",dateDescriptionRequired:"Las columnas de Fecha y Descripción son requeridas",importedTransaction:"Transacción importada",successfullyImported:"Se importaron exitosamente {count} transacciones bancarias",errorImportingTransactions:"Error al importar transacciones. Verifique sus datos.",importBankStatementCSV:"Importar CSV de Estado Bancario",dropCSVHere:"Suelte el archivo CSV aquí",clickToUploadCSV:"Haga clic para cargar o arrastre y suelte el archivo CSV",supportedFormat:"Formato soportado: CSV con columnas de Fecha, Descripción y Monto",mapCSVColumns:"Mapear Columnas CSV",dateColumn:"Columna de Fecha",selectColumn:"Seleccionar columna...",descriptionColumn:"Columna de Descripción",referenceColumn:"Columna de Referencia",amountDebitColumn:"Columna de Monto/Débito",creditColumn:"Columna de Crédito",balanceColumn:"Columna de Saldo",andMoreRows:"... y {count} filas más",importing:"Importando...",importTransactions:"Importar {count} Transacciones",reconciliationComparison:"Comparación de Conciliación",bankStatements:"Estados Bancarios",totalTransactions:"Transacciones totales",totalEntries:"Entradas totales",unreconciledBank:"Banco No Conciliado",unreconciledBooks:"Libros No Conciliados",needAttention:"Necesitan atención",unreconcile:"Desconciliar",clickToReconcile:"Hacer clic para conciliar",potentialMatchesFound:"Coincidencias Potenciales Encontradas",clickRecordToReconcile:"Haga clic en un registro a continuación para conciliar",exactMatch:"Coincidencia Exacta",possibleMatch:"Posible Coincidencia",selected:"Seleccionado",clearSelection:"Limpiar Selección"},journal:{title:"Asientos Contables",entryNumber:"Número de Asiento",entryDate:"Fecha del Asiento",debit:"Débito",credit:"Crédito",account:"Cuenta",memo:"Memo",reference:"Referencia",createEntry:"Crear Asiento",editEntry:"Editar Asiento",deleteEntry:"Eliminar Asiento",posted:"Registrado",draft:"Borrador",reversed:"Revertido",recurringEntry:"Asiento Recurrente",attachments:"Adjuntos",totalDebits:"Débitos Totales",totalCredits:"Créditos Totales",outOfBalance:"Desbalanceado",balanced:"Balanceado"},forms:{requiredField:"Este campo es requerido",invalidEmail:"Dirección de correo inválida",invalidNumber:"Número inválido",invalidDate:"Fecha inválida",selectOption:"Por favor seleccione una opción",enterValue:"Por favor ingrese un valor",confirmDelete:"¿Está seguro de que desea eliminar este elemento?",unsavedChanges:"Tiene cambios sin guardar. ¿Desea continuar?",saveSuccess:"Guardado exitosamente",saveError:"Error al guardar datos",deleteSuccess:"Eliminado exitosamente",deleteError:"Error al eliminar elemento",duplicateAccountNumber:"El número de cuenta ya existe"},modals:{addInventory:"Agregar Movimiento de Inventario",bulkMovement:"Movimiento Masivo de Inventario",addProduct:"Agregar Nuevo Producto",addLocation:"Agregar Nueva Ubicación",inventoryDetail:"Detalles del Artículo de Inventario",quickAdd:"Agregar Rápido",selectProduct:"Seleccionar Producto",selectLocation:"Seleccionar Ubicación",enterQuantity:"Ingresar cantidad",enterCost:"Ingresar costo unitario",enterReference:"Ingresar número de referencia",addNotes:"Agregar notas (opcional)",generalInformation:"Información General",stockInformation:"Información de Stock",locationInformation:"Información de Ubicación",movementInformation:"Información de Movimiento",addToInventory:"Agregar al Inventario",createProduct:"Crear Producto",createLocation:"Crear Ubicación",processing:"Procesando...",addingMovement:"Agregando movimiento...",creatingProduct:"Creando producto...",creatingLocation:"Creando ubicación..."},products:{title:"Productos",addNew:"Agregar Nuevo Producto",totalProducts:"Total de Productos",inCatalog:"En catálogo",activeProducts:"Productos Activos",currentlyAvailable:"Actualmente disponibles",outOfStock:"Sin Stock",needsRestock:"Necesita reabastecimiento",productCatalog:"Catálogo de Productos",manageYourProducts:"Gestiona tus productos y precios",inStock:"En Stock",furniture:"Muebles",electronics:"Electrónicos",supplies:"Suministros",lighting:"Iluminación"},invoices:{title:"Facturas",createNew:"Crear Nueva Factura",totalOutstanding:"Total Pendiente",unpaidInvoices:"Facturas no pagadas",thisMonth:"Este Mes",revenueCollected:"Ingresos recaudados",overdue:"Vencidas",pastDueInvoices:"Facturas vencidas",recentInvoices:"Facturas Recientes",latestBillingActivity:"Actividad de facturación reciente",paid:"Pagado",pending:"Pendiente"}}},_l=()=>{if(typeof window<"u"){const t=localStorage.getItem("hrmfinance-language");if(t&&["en","es"].includes(t))return t}return"en"},[ro,wl]=ne(_l()),We=()=>({t:(i,l,c)=>{const s=ro(),a=i.split(".");let d=Cl[s];for(const f of a)if(d&&typeof d=="object"&&f in d)d=d[f];else return l||i;let v=typeof d=="string"?d:l||i;return c&&typeof v=="string"&&Object.keys(c).forEach(f=>{const T=c[f],L=`{{${f}}}`;v=v.replace(new RegExp(L,"g"),String(T))}),v},language:()=>ro(),setLanguage:i=>{wl(i),typeof window<"u"&&localStorage.setItem("hrmfinance-language",i)}});var kl=_("<div><label></label><select><option value>"),Al=_("<span>*"),Il=_("<option>");const _t=t=>{const{t:e}=We(),n={display:"block","font-weight":"500","margin-bottom":"0.5rem",color:"var(--text-primary)"},i={width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem","font-family":"inherit",background:"var(--surface-color)",color:"var(--text-primary)",transition:"border-color 0.2s ease"},l={"margin-bottom":"1rem"};return(()=>{var c=kl(),s=c.firstChild,a=s.nextSibling,d=a.firstChild;return o(c,l),o(s,n),r(s,()=>t.label,null),r(s,(()=>{var v=U(()=>!!t.required);return()=>v()&&(()=>{var f=Al();return f.style.setProperty("color","var(--primary-color)"),f})()})(),null),a.addEventListener("blur",v=>v.target.style.borderColor="var(--border-color)"),a.addEventListener("focus",v=>v.target.style.borderColor="var(--primary-color)"),a.addEventListener("change",v=>t.onChange(v.target.value)),o(a,i),r(d,()=>e("forms.selectOption")),r(a,()=>t.options.map(v=>(()=>{var f=Il();return r(f,()=>v.label),j(()=>f.value=v.value),f})()),null),j(v=>{var f=t.required,T=t.disabled;return f!==v.e&&(a.required=v.e=f),T!==v.t&&(a.disabled=v.t=T),v},{e:void 0,t:void 0}),j(()=>a.value=t.value),c})()};var El=_("<div><span>:</span><select><option value=en>🇺🇸 </option><option value=es>🇪🇸 ");const Ll=()=>{const{t,language:e,setLanguage:n}=We(),i={display:"flex","align-items":"center",gap:"0.5rem","margin-left":"auto"},l={padding:"0.5rem 1rem","border-radius":"var(--border-radius-sm)",border:"1px solid var(--border-color)",background:"var(--surface-color)",color:"var(--text-primary)",cursor:"pointer","font-size":"0.875rem","font-weight":"500",transition:"all 0.2s ease","min-width":"120px"},c={"font-weight":"500",color:"var(--text-muted)","font-size":"0.875rem"},s=a=>{const d=a.target;n(d.value)};return(()=>{var a=El(),d=a.firstChild,v=d.firstChild,f=d.nextSibling,T=f.firstChild;T.firstChild;var L=T.nextSibling;return L.firstChild,o(a,i),o(d,c),r(d,()=>t("common.language"),v),f.addEventListener("change",s),o(f,l),r(T,()=>t("common.english"),null),r(L,()=>t("common.spanish"),null),j(()=>f.value=e()),a})()};var Dl=_("<main><div>"),Nl=_("<header><h1>");const zt=t=>{const e={"min-height":"100vh",background:"var(--background-color)"},n={"max-width":"1200px",margin:"0 auto",padding:"2rem"},i={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"2rem"},l={"font-size":"2rem","font-weight":"700",color:"var(--text-primary)",margin:"0"};return(()=>{var c=Dl(),s=c.firstChild;return o(c,e),o(s,n),r(s,(()=>{var a=U(()=>!!t.title);return()=>a()&&(()=>{var d=Nl(),v=d.firstChild;return o(d,i),o(v,l),r(v,()=>t.title),r(d,y(Ll,{}),null),d})()})(),null),r(s,()=>t.children,null),c})()};var Tl=_(`<nav><div><div></div></div><style>
        .nav-active {
          background: linear-gradient(135deg, var(--primary-color), var(--primary-dark)) !important;
          color: white !important;
          box-shadow: var(--shadow-sm);
        }
        
        nav a:hover:not(.nav-active) {
          background: var(--background-color);
          color: var(--text-primary);
        }
        
        @media (max-width: 768px) {
          nav div:first-child {
            flex-direction: column;
            gap: 1rem;
            padding: 1rem;
          }
          
          nav div:last-child {
            flex-wrap: wrap;
            justify-content: center;
          }
        }
      `);const Bl=()=>{const{t}=We(),e={background:"var(--surface-color)","border-bottom":"1px solid var(--border-color)","box-shadow":"var(--shadow-sm)","backdrop-filter":"blur(10px)",position:"sticky",top:"0","z-index":"100"},n={display:"flex","align-items":"center","justify-content":"space-between",padding:"1rem 2rem","max-width":"1200px",margin:"0 auto"},i={"font-size":"1.5rem","font-weight":"700",color:"var(--primary-color)","text-decoration":"none","margin-right":"2rem"},l={display:"flex",gap:"0.5rem","align-items":"center"},c={"text-decoration":"none",color:"var(--text-secondary)",padding:"0.5rem 1rem","border-radius":"var(--border-radius-sm)","font-weight":"500","font-size":"0.875rem",transition:"all 0.2s ease","white-space":"nowrap"};return(()=>{var s=Tl(),a=s.firstChild,d=a.firstChild;return o(a,n),r(a,y(Xt,{href:"/",style:i,children:"HRM Finance"}),d),o(d,l),r(d,y(Xt,{href:"/",style:c,activeClass:"nav-active",get children(){return t("navigation.dashboard")}}),null),r(d,y(Xt,{href:"/accounts",style:c,activeClass:"nav-active",get children(){return t("navigation.accounts")}}),null),r(d,y(Xt,{href:"/entry-books",style:c,activeClass:"nav-active",get children(){return t("navigation.entryBooks")}}),null),r(d,y(Xt,{href:"/employees",style:c,activeClass:"nav-active",get children(){return t("navigation.employees")}}),null),r(d,y(Xt,{href:"/bank-consolidations",style:c,activeClass:"nav-active",get children(){return t("navigation.consolidate")}}),null),r(d,y(Xt,{href:"/balance-sheet",style:c,activeClass:"nav-active",get children(){return t("navigation.balanceSheet")}}),null),r(d,y(Xt,{href:"/inventory",style:c,activeClass:"nav-active",get children(){return t("navigation.inventory")}}),null),j(v=>o(s,e,v)),s})()};var Ml=_('<button title="Open Dev Tools">🛠️'),Rl=_("<span>(<!>)"),Ol=_("<div><span></span><span>"),no=_("<div>"),jl=_("<div>Database reset only available in fake mode"),zl=_("<div><div>Loading..."),Fl=_("<div><div><h3>🛠️ Dev Tools</h3><button>✕</button></div><div><div>API Mode</div><div><button>Fake Server</button><button>Real API</button><button>Hybrid</button></div><div>Current: <strong></strong></div></div><div><div>Health Status</div></div><div><div>Database Stats</div></div><div><div>Actions</div><div><button>🔄 Refresh Stats</button><button>💊 Health Check</button></div><div><button>🗑️ Reset DB</button></div></div><div><div>Info</div><div>• <strong>Fake Server:</strong> Uses local mock data<br>• <strong>Real API:</strong> Connects to actual backend<br>• <strong>Hybrid:</strong> Real API with fake fallback<br>• Settings are saved in localStorage"),ql=_("<div>Loading..."),Ul=_("<div><span>:</span><span>");const Vl=()=>{const[t,e]=ne(!1),[n,i]=ne(zr.getMode()),[l,c]=ne({}),[s,a]=ne(null),[d,v]=ne(!1);_r(async()=>{await f(),await T()});const f=async()=>{try{const ue=await eo.getStats();c(ue)}catch(ue){console.error("Failed to load stats:",ue)}},T=async()=>{try{const ue=await eo.healthCheck();a(ue)}catch(ue){console.error("Health check failed:",ue),a({status:"error",error:ue.message})}},L=async ue=>{v(!0);try{zr.setMode(ue),i(ue),await f(),await T()}catch(ye){console.error("Failed to change API mode:",ye)}finally{v(!1)}},D=async()=>{if(confirm("Are you sure you want to reset the fake database to its initial state?")){v(!0);try{const ue=await Tt.utils.resetDatabase();alert(ue.message),await f()}catch(ue){console.error("Failed to reset database:",ue),alert("Failed to reset database")}finally{v(!1)}}},C={position:"fixed",bottom:"20px",right:"20px","z-index":"10000","font-family":"monospace"},$={background:"#1a1a1a",color:"#fff",border:"1px solid #333","border-radius":"8px",padding:"16px","min-width":"300px","max-width":"400px","box-shadow":"0 4px 20px rgba(0,0,0,0.3)"},x={background:"#007acc",color:"#fff",border:"none","border-radius":"50%",width:"50px",height:"50px",cursor:"pointer","font-size":"20px","box-shadow":"0 2px 10px rgba(0,0,0,0.2)",display:"flex","align-items":"center","justify-content":"center"},b={background:"#333",color:"#fff",border:"1px solid #555","border-radius":"4px",padding:"6px 12px",cursor:"pointer","font-size":"12px","margin-right":"8px","margin-bottom":"8px"},O={...b,background:"#007acc","border-color":"#007acc"},oe={"margin-bottom":"16px","padding-bottom":"12px","border-bottom":"1px solid #333"},q={"font-size":"14px","font-weight":"bold","margin-bottom":"8px",color:"#007acc"},ce={display:"flex","justify-content":"space-between","font-size":"12px","margin-bottom":"4px"},Z=ue=>({display:"inline-block",width:"8px",height:"8px","border-radius":"50%","margin-right":"8px",background:ue==="healthy"?"#00ff00":ue==="error"?"#ff0000":"#ffff00"});return(()=>{var ue=no();return r(ue,y(Ue,{get when(){return!t()},get children(){var ye=Ml();return ye.$$click=()=>e(!0),o(ye,x),ye}}),null),r(ue,y(Ue,{get when(){return t()},get children(){var ye=Fl(),X=ye.firstChild,Y=X.firstChild,W=Y.nextSibling,J=X.nextSibling,m=J.firstChild,I=m.nextSibling,h=I.firstChild,u=h.nextSibling,A=u.nextSibling,S=I.nextSibling,w=S.firstChild,k=w.nextSibling,E=J.nextSibling,de=E.firstChild,P=E.nextSibling,z=P.firstChild,te=P.nextSibling,H=te.firstChild,Q=H.nextSibling,ee=Q.firstChild,ie=ee.nextSibling,le=Q.nextSibling,R=le.firstChild,K=te.nextSibling,pe=K.firstChild,fe=pe.nextSibling;return o(ye,$),X.style.setProperty("display","flex"),X.style.setProperty("justify-content","space-between"),X.style.setProperty("align-items","center"),X.style.setProperty("margin-bottom","16px"),Y.style.setProperty("margin","0"),Y.style.setProperty("color","#007acc"),Y.style.setProperty("font-size","16px"),W.$$click=()=>e(!1),h.$$click=()=>L("fake"),u.$$click=()=>L("real"),A.$$click=()=>L("hybrid"),S.style.setProperty("font-size","11px"),S.style.setProperty("color","#888"),S.style.setProperty("margin-top","4px"),r(k,n),r(S,()=>n()==="fake"&&" (Using fake server)",null),r(S,()=>n()==="real"&&" (Using real API)",null),r(S,()=>n()==="hybrid"&&" (Real API with fallback)",null),r(E,y(Ue,{get when(){return s()},get fallback(){return(()=>{var M=ql();return M.style.setProperty("font-size","12px"),M})()},get children(){return[(()=>{var M=Ol(),F=M.firstChild,N=F.nextSibling;return M.style.setProperty("display","flex"),M.style.setProperty("align-items","center"),M.style.setProperty("font-size","12px"),r(N,()=>s()?.status||"Unknown"),r(M,y(Ue,{get when(){return s()?.timestamp},get children(){var ae=Rl(),re=ae.firstChild,ve=re.nextSibling;return ve.nextSibling,ae.style.setProperty("margin-left","8px"),ae.style.setProperty("color","#888"),r(ae,()=>new Date(s().timestamp).toLocaleTimeString(),ve),ae}}),null),j(ae=>o(F,Z(s()?.status||"unknown"),ae)),M})(),y(Ue,{get when(){return s()?.error},get children(){var M=no();return M.style.setProperty("font-size","11px"),M.style.setProperty("color","#ff6666"),M.style.setProperty("margin-top","4px"),r(M,()=>s().error),M}})]}}),null),r(P,y(ct,{get each(){return Object.entries(l())},children:([M,F])=>(()=>{var N=Ul(),ae=N.firstChild,re=ae.firstChild,ve=ae.nextSibling;return o(N,ce),ae.style.setProperty("text-transform","capitalize"),r(ae,M,re),ve.style.setProperty("color","#00ff00"),r(ve,F),N})()}),null),ee.$$click=f,ie.$$click=T,le.style.setProperty("margin-top","8px"),R.$$click=D,r(te,y(Ue,{get when(){return n()!=="fake"},get children(){var M=jl();return M.style.setProperty("font-size","11px"),M.style.setProperty("color","#888"),M.style.setProperty("margin-top","4px"),M}}),null),fe.style.setProperty("font-size","11px"),fe.style.setProperty("color","#888"),fe.style.setProperty("line-height","1.4"),r(ye,y(Ue,{get when(){return d()},get children(){var M=zl(),F=M.firstChild;return M.style.setProperty("position","absolute"),M.style.setProperty("top","0"),M.style.setProperty("left","0"),M.style.setProperty("right","0"),M.style.setProperty("bottom","0"),M.style.setProperty("background","rgba(0,0,0,0.7)"),M.style.setProperty("display","flex"),M.style.setProperty("align-items","center"),M.style.setProperty("justify-content","center"),M.style.setProperty("border-radius","8px"),F.style.setProperty("color","#fff"),F.style.setProperty("font-size","14px"),M}}),null),j(M=>{var F={...b,padding:"4px 8px"},N=oe,ae=q,re=n()==="fake"?O:b,ve=d(),ge=n()==="real"?O:b,g=d(),p=n()==="hybrid"?O:b,G=d(),me=oe,V=q,se=oe,B=q,be=oe,xe=q,Se=b,_e=d(),Ee=b,Me=d(),$e={...b,background:"#cc4400","border-color":"#cc4400"},Ce=d()||n()!=="fake",De=q;return M.e=o(W,F,M.e),M.t=o(J,N,M.t),M.a=o(m,ae,M.a),M.o=o(h,re,M.o),ve!==M.i&&(h.disabled=M.i=ve),M.n=o(u,ge,M.n),g!==M.s&&(u.disabled=M.s=g),M.h=o(A,p,M.h),G!==M.r&&(A.disabled=M.r=G),M.d=o(E,me,M.d),M.l=o(de,V,M.l),M.u=o(P,se,M.u),M.c=o(z,B,M.c),M.w=o(te,be,M.w),M.m=o(H,xe,M.m),M.f=o(ee,Se,M.f),_e!==M.y&&(ee.disabled=M.y=_e),M.g=o(ie,Ee,M.g),Me!==M.p&&(ie.disabled=M.p=Me),M.b=o(R,$e,M.b),Ce!==M.T&&(R.disabled=M.T=Ce),M.A=o(pe,De,M.A),M},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0}),ye}}),null),j(ye=>o(ue,C,ye)),ue})()};ut(["click"]);var Yl=_("<div>$124,350"),Wl=_("<div>+12% from last month"),Hl=_("<div>247"),$r=_("<div>"),Gl=_("<div>18"),Jl=_("<div>$89,250"),Ql=_("<div><div><div></div><div></div></div><div><div></div><div></div></div><div><div></div><div>");const Kl=()=>{const{t}=We(),e={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"},n={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem"},i={"font-size":"2rem","font-weight":"700",color:"var(--primary-color)",margin:"0.5rem 0"},l={"font-size":"0.875rem",color:"var(--text-muted)","text-transform":"uppercase","letter-spacing":"0.5px"};return y(zt,{get title(){return t("dashboard.title")},get children(){return[(()=>{var c=$r();return o(c,e),r(c,y(ze,{get title(){return t("dashboard.totalRevenue")},get subtitle(){return t("dashboard.overview")},get children(){return[(()=>{var s=Yl();return j(a=>o(s,i,a)),s})(),(()=>{var s=Wl();return j(a=>o(s,l,a)),s})()]}}),null),r(c,y(ze,{get title(){return t("dashboard.employeeCount")},get subtitle(){return t("dashboard.current")},get children(){return[(()=>{var s=Hl();return j(a=>o(s,i,a)),s})(),(()=>{var s=$r();return r(s,()=>t("dashboard.newHires")),j(a=>o(s,l,a)),s})()]}}),null),r(c,y(ze,{get title(){return t("dashboard.pendingInvoices")},get subtitle(){return t("dashboard.outstanding")},get children(){return[(()=>{var s=Gl();return j(a=>o(s,i,a)),s})(),(()=>{var s=$r();return r(s,()=>t("dashboard.totalOutstanding")),j(a=>o(s,l,a)),s})()]}}),null),r(c,y(ze,{get title(){return t("dashboard.cashBalance")},get subtitle(){return t("accounts.title")},get children(){return[(()=>{var s=Jl();return j(a=>o(s,i,a)),s})(),(()=>{var s=$r();return r(s,()=>t("dashboard.lastUpdatedToday")),j(a=>o(s,l,a)),s})()]}}),null),c})(),(()=>{var c=$r();return o(c,n),r(c,y(ze,{get title(){return t("dashboard.quickActions")},get subtitle(){return t("dashboard.commonTasks")},get children(){var s=$r();return s.style.setProperty("display","flex"),s.style.setProperty("flex-direction","column"),s.style.setProperty("gap","1rem"),r(s,y(Ae,{variant:"primary",get children(){return t("invoices.createNew")}}),null),r(s,y(Ae,{variant:"secondary",get children(){return t("employees.addEmployee")}}),null),r(s,y(Ae,{variant:"outline",get children(){return t("dashboard.generateReport")}}),null),s}}),null),r(c,y(ze,{get title(){return t("dashboard.recentActivity")},get subtitle(){return t("dashboard.latestUpdates")},get children(){var s=Ql(),a=s.firstChild,d=a.firstChild,v=d.nextSibling,f=a.nextSibling,T=f.firstChild,L=T.nextSibling,D=f.nextSibling,C=D.firstChild,$=C.nextSibling;return s.style.setProperty("display","flex"),s.style.setProperty("flex-direction","column"),s.style.setProperty("gap","0.75rem"),a.style.setProperty("border-bottom","1px solid var(--border-color)"),a.style.setProperty("padding-bottom","0.5rem"),d.style.setProperty("font-weight","500"),r(d,()=>t("dashboard.invoicePaid")),v.style.setProperty("font-size","0.875rem"),v.style.setProperty("color","var(--text-muted)"),r(v,()=>t("dashboard.hoursAgo")),f.style.setProperty("border-bottom","1px solid var(--border-color)"),f.style.setProperty("padding-bottom","0.5rem"),T.style.setProperty("font-weight","500"),r(T,()=>t("dashboard.newEmployeeOnboarded")),L.style.setProperty("font-size","0.875rem"),L.style.setProperty("color","var(--text-muted)"),r(L,()=>t("dashboard.dayAgo")),C.style.setProperty("font-weight","500"),r(C,()=>t("dashboard.monthlyReportGenerated")),$.style.setProperty("font-size","0.875rem"),$.style.setProperty("color","var(--text-muted)"),r($,()=>t("dashboard.daysAgo")),s}}),null),c})()]}})},Zl=[{id:"1",accountNumber:"1000",name:"Cash and Cash Equivalents",type:"Asset",category:"Current Assets",description:"Cash on hand and in bank accounts",balance:45230.5,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-15"},{id:"1001",accountNumber:"1001",name:"Petty Cash",type:"Asset",category:"Current Assets",description:"Small amounts of cash for minor expenses",balance:500,isActive:!0,parentAccountId:"1",createdDate:"2024-01-01",lastModified:"2024-01-15"},{id:"1002",accountNumber:"1002",name:"Bank - Checking Account",type:"Asset",category:"Current Assets",description:"Main operating checking account",balance:32730.5,isActive:!0,parentAccountId:"1",createdDate:"2024-01-01",lastModified:"2024-01-15"},{id:"1003",accountNumber:"1003",name:"Bank - Savings Account",type:"Asset",category:"Current Assets",description:"Interest-bearing savings account",balance:12e3,isActive:!0,parentAccountId:"1",createdDate:"2024-01-01",lastModified:"2024-01-15"},{id:"2",accountNumber:"1100",name:"Accounts Receivable",type:"Asset",category:"Current Assets",description:"Money owed by customers",balance:23450.75,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-14"},{id:"2001",accountNumber:"1101",name:"Trade Receivables",type:"Asset",category:"Current Assets",description:"Receivables from regular customers",balance:18450.75,isActive:!0,parentAccountId:"2",createdDate:"2024-01-01",lastModified:"2024-01-14"},{id:"2002",accountNumber:"1102",name:"Employee Advances",type:"Asset",category:"Current Assets",description:"Money advanced to employees",balance:5e3,isActive:!0,parentAccountId:"2",createdDate:"2024-01-01",lastModified:"2024-01-14"},{id:"3",accountNumber:"1200",name:"Inventory",type:"Asset",category:"Current Assets",description:"Products held for sale",balance:78920.25,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-13"},{id:"4",accountNumber:"1500",name:"Equipment",type:"Asset",category:"Fixed Assets",description:"Office equipment and machinery",balance:125e3,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-12"},{id:"5",accountNumber:"2000",name:"Accounts Payable",type:"Liability",category:"Current Liabilities",description:"Money owed to suppliers",balance:15670.3,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-11"},{id:"6",accountNumber:"2100",name:"Accrued Expenses",type:"Liability",category:"Current Liabilities",description:"Expenses incurred but not yet paid",balance:8945.6,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-10"},{id:"7",accountNumber:"2500",name:"Long-term Debt",type:"Liability",category:"Long-term Liabilities",description:"Long-term loans and mortgages",balance:85e3,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-09"},{id:"8",accountNumber:"3000",name:"Owner's Equity",type:"Equity",category:"Owner's Equity",description:"Owner's investment in the business",balance:15e4,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-08"},{id:"9",accountNumber:"3100",name:"Retained Earnings",type:"Equity",category:"Owner's Equity",description:"Accumulated profits retained in business",balance:32450.8,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-07"},{id:"10",accountNumber:"4000",name:"Sales Revenue",type:"Revenue",category:"Operating Revenue",description:"Revenue from product sales",balance:245678.9,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-06"},{id:"11",accountNumber:"4100",name:"Service Revenue",type:"Revenue",category:"Operating Revenue",description:"Revenue from services provided",balance:89432.15,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-05"},{id:"12",accountNumber:"5000",name:"Cost of Goods Sold",type:"Expense",category:"Operating Expenses",description:"Direct costs of producing goods",balance:125678.45,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-04"},{id:"13",accountNumber:"5100",name:"Salaries Expense",type:"Expense",category:"Operating Expenses",description:"Employee salary expenses",balance:98765.32,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-03"},{id:"14",accountNumber:"5200",name:"Rent Expense",type:"Expense",category:"Operating Expenses",description:"Office rent expenses",balance:24e3,isActive:!0,createdDate:"2024-01-01",lastModified:"2024-01-02"}],Xl=[{id:"1",accountId:"1",date:"2024-01-15",description:"Customer payment received",debitAmount:5e3,creditAmount:0,reference:"INV-2024-001",type:"debit"},{id:"2",accountId:"2",date:"2024-01-15",description:"Customer payment received",debitAmount:0,creditAmount:5e3,reference:"INV-2024-001",type:"credit"},{id:"3",accountId:"5",date:"2024-01-14",description:"Office supplies purchased",debitAmount:0,creditAmount:1250,reference:"PO-2024-001",type:"credit"}],[Ut,Vr]=ne(Zl),[pn,es]=ne(Xl),et={get accounts(){return Ut()},get transactions(){return pn()},fetchAllAccount(t){const e={...t,id:Date.now().toString(),createdDate:new Date().toISOString().split("T")[0],lastModified:new Date().toISOString().split("T")[0]};return Vr([...Ut(),e]),e},addAccount(t){const e={...t,id:Date.now().toString(),createdDate:new Date().toISOString().split("T")[0],lastModified:new Date().toISOString().split("T")[0]};return Vr([...Ut(),e]),e},updateAccount(t,e){Vr(Ut().map(n=>n.id===t?{...n,...e,lastModified:new Date().toISOString().split("T")[0]}:n))},deleteAccount(t){Vr(Ut().filter(e=>e.id!==t))},getAccountById(t){return Ut().find(e=>e.id===t)},getAccountsByType(t){return Ut().filter(e=>e.type===t)},getAccountTransactions(t){return pn().filter(e=>e.accountId===t)},addTransaction(t){const e={...t,id:Date.now().toString()};es([...pn(),e]);const n=this.getAccountById(t.accountId);if(n){const i=t.type==="debit"?t.debitAmount:-t.creditAmount;this.updateAccount(t.accountId,{balance:n.balance+i})}return e},getTotalByType(t){return Ut().filter(e=>e.type===t&&e.isActive).reduce((e,n)=>e+n.balance,0)},getAccountCategories(t){const e=this.getAccountsByType(t);return[...new Set(e.map(n=>n.category))]},getSubAccounts(t){return Ut().filter(e=>e.parentAccountId===t)},getParentAccounts(){return Ut().filter(t=>!t.parentAccountId)},getAccountHierarchy(){return this.getParentAccounts().map(e=>({...e,subAccounts:this.getSubAccounts(e.id)}))},getAccountWithSubAccounts(t){const e=this.getAccountById(t);return e?{...e,subAccounts:this.getSubAccounts(t),parentAccount:e.parentAccountId?this.getAccountById(e.parentAccountId):null}:null},getAccountPath(t){const e=this.getAccountById(t);if(!e)return[];const n=[e];let i=e;for(;i.parentAccountId;){const l=this.getAccountById(i.parentAccountId);if(l)n.unshift(l),i=l;else break}return n},getTotalBalanceWithSubAccounts(t){const e=this.getAccountById(t);if(!e)return 0;const i=this.getSubAccounts(t).reduce((l,c)=>l+this.getTotalBalanceWithSubAccounts(c.id),0);return e.balance+i},canDeleteAccount(t){const e=this.getSubAccounts(t);if(e.length>0)return{canDelete:!1,reason:`Account has ${e.length} sub-account(s). Delete or move sub-accounts first.`};const n=this.getAccountTransactions(t);return n.length>0?{canDelete:!1,reason:`Account has ${n.length} transaction(s). Cannot delete account with transaction history.`}:{canDelete:!0}}};var er=_("<div>"),Lr=_("<div> ");const ts=()=>{const{t}=We(),e={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"},n={"font-size":"1.5rem","font-weight":"600",color:"var(--primary-color)","margin-bottom":"0.5rem"},i={"font-size":"0.875rem",color:"var(--text-muted)"},l=$=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format($),c=et.getTotalByType("Asset"),s=et.getTotalByType("Liability"),a=et.getTotalByType("Equity"),d=et.getTotalByType("Revenue"),v=et.getTotalByType("Expense"),f=et.getAccountsByType("Asset").length,T=et.getAccountsByType("Liability").length,L=et.getAccountsByType("Equity").length,D=et.getAccountsByType("Revenue").length,C=et.getAccountsByType("Expense").length;return(()=>{var $=er();return o($,e),r($,y(ze,{get title(){return t("dashboard.totalAssets")},get subtitle(){return t("dashboard.overview")},get children(){return[(()=>{var x=er();return r(x,()=>l(c)),j(b=>o(x,n,b)),x})(),(()=>{var x=Lr(),b=x.firstChild;return r(x,f,b),r(x,()=>t("navigation.accounts"),null),j(O=>o(x,i,O)),x})()]}}),null),r($,y(ze,{get title(){return t("dashboard.totalLiabilities")},get subtitle(){return t("dashboard.overview")},get children(){return[(()=>{var x=er();return r(x,()=>l(s)),j(b=>o(x,n,b)),x})(),(()=>{var x=Lr(),b=x.firstChild;return r(x,T,b),r(x,()=>t("navigation.accounts"),null),j(O=>o(x,i,O)),x})()]}}),null),r($,y(ze,{get title(){return t("dashboard.totalEquity")},get subtitle(){return t("accounts.categories.ownersEquity")},get children(){return[(()=>{var x=er();return r(x,()=>l(a)),j(b=>o(x,n,b)),x})(),(()=>{var x=Lr(),b=x.firstChild;return r(x,L,b),r(x,()=>t("navigation.accounts"),null),j(O=>o(x,i,O)),x})()]}}),null),r($,y(ze,{get title(){return t("dashboard.totalRevenue")},get subtitle(){return t("accounts.categories.operatingRevenue")},get children(){return[(()=>{var x=er();return r(x,()=>l(d)),j(b=>o(x,n,b)),x})(),(()=>{var x=Lr(),b=x.firstChild;return r(x,D,b),r(x,()=>t("navigation.accounts"),null),j(O=>o(x,i,O)),x})()]}}),null),r($,y(ze,{get title(){return t("dashboard.totalExpenses")},get subtitle(){return t("accounts.categories.operatingExpenses")},get children(){return[(()=>{var x=er();return r(x,()=>l(v)),j(b=>o(x,n,b)),x})(),(()=>{var x=Lr(),b=x.firstChild;return r(x,C,b),r(x,()=>t("navigation.accounts"),null),j(O=>o(x,i,O)),x})()]}}),null),r($,y(ze,{get title(){return t("dashboard.netIncome")},get subtitle(){return`${t("dashboard.totalRevenue")} - ${t("dashboard.totalExpenses")}`},get children(){return[(()=>{var x=er();return r(x,()=>l(d-v)),j(b=>o(x,{...n,color:d-v>=0?"#4caf50":"#f44336"},b)),x})(),(()=>{var x=er();return r(x,()=>d-v>=0?t("dashboard.netIncome"):t("dashboard.netLoss")),j(b=>o(x,i,b)),x})()]}}),null),$})()};var rs=_("<div><div></div><div>"),ns=_("<h3>"),Dr=_("<div>");const os=t=>{const{t:e}=We();qn();const n={display:"flex","justify-content":"flex-end","margin-top":"1rem","padding-top":"1rem","border-top":"1px solid var(--border-color)"},i={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"1rem"},l={"font-size":"0.875rem","font-weight":"600",color:"var(--text-muted)","text-transform":"uppercase","letter-spacing":"0.5px"},c={padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500","text-transform":"uppercase","letter-spacing":"0.5px"},s={"font-size":"1.5rem","font-weight":"600",color:"var(--primary-color)","margin-bottom":"0.5rem"},a={"font-size":"0.875rem",color:"var(--text-muted)","margin-bottom":"0.5rem"},d={"font-size":"0.875rem",color:"var(--text-secondary)","line-height":"1.4"},v=L=>({Asset:{bg:"#e8f5e8",color:"#2d7d32"},Liability:{bg:"#fff3e0",color:"#f57c00"},Equity:{bg:"#e3f2fd",color:"#1976d2"},Revenue:{bg:"#e8f5e8",color:"#388e3c"},Expense:{bg:"#ffebee",color:"#d32f2f"}})[L]||{bg:"#f5f5f5",color:"#666"},f=L=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(L),T=v(t.account.type);return y(ze,{get children(){return[(()=>{var L=rs(),D=L.firstChild,C=D.nextSibling;return o(L,i),o(D,l),r(D,()=>t.account.accountNumber),r(C,()=>e(`accounts.types.${t.account.type.toLowerCase()}`)),j($=>o(C,{...c,background:T.bg,color:T.color},$)),L})(),(()=>{var L=ns();return L.style.setProperty("margin","0 0 0.5rem 0"),L.style.setProperty("font-size","1.1rem"),r(L,()=>t.account.name),L})(),(()=>{var L=Dr();return o(L,a),r(L,()=>t.account.category),L})(),(()=>{var L=Dr();return o(L,s),r(L,()=>f(t.account.balance)),L})(),(()=>{var L=Dr();return o(L,d),r(L,()=>t.account.description),L})(),U(()=>U(()=>!t.account.isActive)()&&(()=>{var L=Dr();return L.style.setProperty("margin-top","0.5rem"),L.style.setProperty("padding","0.25rem 0.75rem"),L.style.setProperty("border-radius","9999px"),L.style.setProperty("font-size","0.75rem"),L.style.setProperty("font-weight","500"),L.style.setProperty("background","#ffebee"),L.style.setProperty("color","#d32f2f"),L.style.setProperty("text-align","center"),r(L,()=>e("common.inactive")),L})()),(()=>{var L=Dr();return o(L,n),r(L,y(Ae,{variant:"primary",size:"sm",onClick:()=>t.onViewDetails?.(t.account),get children(){return[U(()=>e("common.view"))," ",U(()=>e("accounts.accountDetails"))]}})),L})()]}})};var is=_("<div><div><div><div></div><h3></h3></div></div><div><div></div><div>"),ls=_("<div>"),ss=_("<button>"),as=_("<div><h4> (<!>)"),cs=_("<div><div><div></div><div> • </div></div><div>");const ds=t=>{const{t:e}=We(),n=qn(),[i,l]=ne(!0),c={"margin-bottom":"1rem"},s={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"1rem"},a={display:"flex","align-items":"center",gap:"1rem"},d={background:"none",border:"none",cursor:"pointer","font-size":"1.2rem",color:"var(--text-muted)",padding:"0.25rem","border-radius":"var(--border-radius-sm)",transition:"all 0.2s ease"},v={"font-size":"0.875rem","font-weight":"600",color:"var(--text-muted)","text-transform":"uppercase"},f={"font-size":"1.1rem","font-weight":"600",color:"var(--text-primary)",margin:"0"},T={"font-size":"1.25rem","font-weight":"600",color:"var(--primary-color)"},L={padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500","text-transform":"uppercase","letter-spacing":"0.5px"},D={"margin-left":"1rem","border-left":"2px solid var(--border-color)","padding-left":"1rem","margin-top":"1rem"},C={display:"flex","justify-content":"space-between","align-items":"center",padding:"0.75rem","margin-bottom":"0.5rem",background:"var(--background-color)","border-radius":"var(--border-radius-sm)",border:"1px solid var(--border-color)",cursor:"pointer",transition:"all 0.2s ease"},$={flex:"1"},x={"font-weight":"500","margin-bottom":"0.25rem"},b={"font-size":"0.875rem",color:"var(--text-muted)"},O={"font-weight":"600",color:"var(--primary-color)"},oe={display:"flex",gap:"0.5rem"},q=Y=>({Asset:{bg:"#e8f5e8",color:"#2d7d32"},Liability:{bg:"#fff3e0",color:"#f57c00"},Equity:{bg:"#e3f2fd",color:"#1976d2"},Revenue:{bg:"#e8f5e8",color:"#388e3c"},Expense:{bg:"#ffebee",color:"#d32f2f"}})[Y]||{bg:"#f5f5f5",color:"#666"},ce=Y=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Y),Z=Y=>{t.onViewDetails?t.onViewDetails(Y):n(`/accounts/${Y.id}`)},ue=()=>{t.onAddSubAccount&&t.onAddSubAccount(t.account)},ye=t.account.balance+t.account.subAccounts.reduce((Y,W)=>Y+W.balance,0),X=q(t.account.type);return y(ze,{className:"account-hierarchy-card",style:c,get children(){return[(()=>{var Y=is(),W=Y.firstChild,J=W.firstChild,m=J.firstChild,I=m.nextSibling,h=W.nextSibling,u=h.firstChild,A=u.nextSibling;return o(Y,s),o(W,a),r(W,(()=>{var S=U(()=>t.account.subAccounts.length>0);return()=>S()&&(()=>{var w=ss();return w.addEventListener("mouseleave",k=>k.target.style.background="none"),w.addEventListener("mouseenter",k=>k.target.style.background="var(--background-color)"),w.$$click=()=>l(!i()),o(w,d),r(w,()=>i()?"▼":"▶"),w})()})(),J),J.$$click=()=>Z(t.account),J.style.setProperty("cursor","pointer"),o(m,v),r(m,()=>t.account.accountNumber),o(I,f),r(I,()=>t.account.name),h.style.setProperty("text-align","right"),o(u,T),r(u,()=>ce(ye)),r(A,()=>e(`accounts.types.${t.account.type.toLowerCase()}`)),j(S=>o(A,{...L,background:X.bg,color:X.color},S)),Y})(),(()=>{var Y=ls();return o(Y,oe),r(Y,y(Ae,{variant:"secondary",size:"sm",onClick:()=>Z(t.account),get children(){return[U(()=>e("common.view"))," ",U(()=>e("accounts.accountDetails"))]}}),null),r(Y,y(Ae,{variant:"outline",size:"sm",onClick:ue,get children(){return[U(()=>e("common.add"))," ",U(()=>e("accounts.subAccounts"))]}}),null),Y})(),U(()=>U(()=>!!(i()&&t.account.subAccounts.length>0))()&&(()=>{var Y=as(),W=Y.firstChild,J=W.firstChild,m=J.nextSibling;return m.nextSibling,o(Y,D),W.style.setProperty("margin","0 0 1rem 0"),W.style.setProperty("font-size","1rem"),W.style.setProperty("color","var(--text-muted)"),r(W,()=>e("accounts.subAccounts"),J),r(W,()=>t.account.subAccounts.length,m),r(Y,()=>t.account.subAccounts.map(I=>(()=>{var h=cs(),u=h.firstChild,A=u.firstChild,S=A.nextSibling,w=S.firstChild,k=u.nextSibling;return h.addEventListener("mouseleave",E=>{E.currentTarget.style.background="var(--background-color)",E.currentTarget.style.transform="translateY(0)"}),h.addEventListener("mouseenter",E=>{E.currentTarget.style.background="var(--surface-color)",E.currentTarget.style.transform="translateY(-1px)"}),h.$$click=()=>Z(I),o(h,C),o(u,$),o(A,x),r(A,()=>I.name),o(S,b),r(S,()=>I.accountNumber,w),r(S,()=>I.description,null),o(k,O),r(k,()=>ce(I.balance)),h})()),null),Y})())]}})};ut(["click"]);var us=_("<form><div>");const ys=t=>{const{t:e}=We(),[n,i]=ne({accountNumber:"",name:"",type:"",category:"",description:"",balance:"0",isActive:"true"}),l=[{value:"Asset",label:e("accounts.types.asset")},{value:"Liability",label:e("accounts.types.liability")},{value:"Equity",label:e("accounts.types.equity")},{value:"Revenue",label:e("accounts.types.revenue")},{value:"Expense",label:e("accounts.types.expense")}],c=()=>{const f=n().type;return f?{Asset:[{value:"Current Assets",label:e("accounts.categories.currentAssets")},{value:"Fixed Assets",label:e("accounts.categories.fixedAssets")}],Liability:[{value:"Current Liabilities",label:e("accounts.categories.currentLiabilities")},{value:"Long-term Liabilities",label:e("accounts.categories.longTermLiabilities")}],Equity:[{value:"Owner's Equity",label:e("accounts.categories.ownersEquity")}],Revenue:[{value:"Operating Revenue",label:e("accounts.categories.operatingRevenue")}],Expense:[{value:"Operating Expenses",label:e("accounts.categories.operatingExpenses")}]}[f]||[]:[]},s=[{value:"true",label:e("common.active")},{value:"false",label:e("common.inactive")}],a={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},d=f=>{f.preventDefault();const T=n();if(!T.accountNumber||!T.name||!T.type||!T.category){alert(e("forms.requiredField"));return}if(et.accounts.find(C=>C.accountNumber===T.accountNumber)){alert(e("forms.duplicateAccountNumber"));return}const D={accountNumber:T.accountNumber,name:T.name,type:T.type,category:T.category,description:T.description,balance:parseFloat(T.balance)||0,isActive:T.isActive==="true"};et.addAccount(D),i({accountNumber:"",name:"",type:"",category:"",description:"",balance:"0",isActive:"true"}),t.onClose()},v=(f,T)=>{i(L=>{const D={...L,[f]:T};return f==="type"&&(D.category=""),D})};return y($t,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return e("accounts.addAccount")},get children(){var f=us(),T=f.firstChild;return f.addEventListener("submit",d),r(f,y(it,{get label(){return e("accounts.accountNumber")},get value(){return n().accountNumber},onChange:L=>v("accountNumber",L),get placeholder(){return e("accounts.accountNumber")},required:!0}),T),r(f,y(it,{get label(){return e("accounts.accountName")},get value(){return n().name},onChange:L=>v("name",L),get placeholder(){return e("accounts.accountName")},required:!0}),T),r(f,y(_t,{get label(){return e("accounts.accountType")},get value(){return n().type},onChange:L=>v("type",L),options:l,required:!0}),T),r(f,y(_t,{get label(){return e("accounts.category")},get value(){return n().category},onChange:L=>v("category",L),get options(){return c()},required:!0}),T),r(f,y(it,{get label(){return e("common.description")},get value(){return n().description},onChange:L=>v("description",L),get placeholder(){return e("common.description")}}),T),r(f,y(it,{get label(){return e("accounts.balance")},type:"number",get value(){return n().balance},onChange:L=>v("balance",L),get placeholder(){return e("accounts.balance")}}),T),r(f,y(_t,{get label(){return e("common.status")},get value(){return n().isActive},onChange:L=>v("isActive",L),options:s,required:!0}),T),o(T,a),r(T,y(Ae,{variant:"secondary",type:"button",get onClick(){return t.onClose},get children(){return e("common.cancel")}}),null),r(T,y(Ae,{variant:"primary",type:"submit",get children(){return e("accounts.addAccount")}}),null),f}})};var ms=_("<form><div>"),vs=_("<div><div></div><div> - </div><div> • ");const gs=t=>{const{t:e}=We(),[n,i]=ne({accountNumber:"",name:"",category:"",description:"",balance:"0",isActive:"true"}),l=()=>t.parentAccount?{Asset:[{value:"Current Assets",label:e("accounts.categories.currentAssets")},{value:"Fixed Assets",label:e("accounts.categories.fixedAssets")}],Liability:[{value:"Current Liabilities",label:e("accounts.categories.currentLiabilities")},{value:"Long-term Liabilities",label:e("accounts.categories.longTermLiabilities")}],Equity:[{value:"Owner's Equity",label:e("accounts.categories.ownersEquity")}],Revenue:[{value:"Operating Revenue",label:e("accounts.categories.operatingRevenue")}],Expense:[{value:"Operating Expenses",label:e("accounts.categories.operatingExpenses")}]}[t.parentAccount.type]||[]:[],c=[{value:"true",label:e("common.active")},{value:"false",label:e("common.inactive")}],s={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},a={background:"var(--background-color)",padding:"1rem","border-radius":"var(--border-radius-sm)","margin-bottom":"1.5rem",border:"1px solid var(--border-color)"},d={"font-size":"0.875rem","font-weight":"500",color:"var(--text-muted)","margin-bottom":"0.5rem"},v={"font-weight":"600",color:"var(--text-primary)"},f={"font-size":"0.875rem",color:"var(--text-secondary)"},T=$=>{$.preventDefault();const x=n();if(!x.accountNumber||!x.name||!x.category||!t.parentAccount){alert(e("forms.requiredField"));return}if(et.accounts.find(oe=>oe.accountNumber===x.accountNumber)){alert(e("forms.duplicateAccountNumber"));return}const O={accountNumber:x.accountNumber,name:x.name,type:t.parentAccount.type,category:x.category,description:x.description,balance:parseFloat(x.balance)||0,isActive:x.isActive==="true",parentAccountId:t.parentAccount.id};et.addAccount(O),i({accountNumber:"",name:"",category:"",description:"",balance:"0",isActive:"true"}),t.onClose()},L=($,x)=>{i(b=>({...b,[$]:x}))},D=()=>{if(!t.parentAccount)return"";const $=t.parentAccount.accountNumber,b=et.getSubAccounts(t.parentAccount.id).length+1;return(parseInt($)+b).toString()},C=()=>n().accountNumber===""&&t.parentAccount?D():n().accountNumber;return y($t,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return`${e("common.add")} ${e("accounts.subAccounts")}`},get children(){return[U(()=>U(()=>!!t.parentAccount)()&&(()=>{var $=vs(),x=$.firstChild,b=x.nextSibling,O=b.firstChild,oe=b.nextSibling,q=oe.firstChild;return o($,a),o(x,d),r(x,()=>e("accounts.parentAccount")),o(b,v),r(b,()=>t.parentAccount.accountNumber,O),r(b,()=>t.parentAccount.name,null),o(oe,f),r(oe,()=>e(`accounts.types.${t.parentAccount.type.toLowerCase()}`),q),r(oe,()=>t.parentAccount.category,null),$})()),(()=>{var $=ms(),x=$.firstChild;return $.addEventListener("submit",T),r($,y(it,{get label(){return e("accounts.accountNumber")},get value(){return C()},onChange:b=>L("accountNumber",b),get placeholder(){return`${e("common.suggested")}: ${D()}`},required:!0}),x),r($,y(it,{get label(){return e("accounts.accountName")},get value(){return n().name},onChange:b=>L("name",b),get placeholder(){return e("accounts.accountName")},required:!0}),x),r($,y(_t,{get label(){return e("accounts.category")},get value(){return n().category},onChange:b=>L("category",b),get options(){return l()},required:!0}),x),r($,y(it,{get label(){return e("common.description")},get value(){return n().description},onChange:b=>L("description",b),get placeholder(){return e("common.description")}}),x),r($,y(it,{get label(){return e("accounts.balance")},type:"number",get value(){return n().balance},onChange:b=>L("balance",b),get placeholder(){return e("accounts.balance")}}),x),r($,y(_t,{get label(){return e("common.status")},get value(){return n().isActive},onChange:b=>L("isActive",b),options:c,required:!0}),x),o(x,s),r(x,y(Ae,{variant:"secondary",type:"button",get onClick(){return t.onClose},get children(){return e("common.cancel")}}),null),r(x,y(Ae,{variant:"primary",type:"submit",get children(){return[U(()=>e("common.add"))," ",U(()=>e("accounts.subAccounts"))]}}),null),$})()]}})};var ps=_("<form><div>"),fs=_("<div>");const bs=t=>{const{t:e}=We(),[n,i]=ne({accountNumber:"",name:"",type:"",category:"",description:"",balance:"0",isActive:"true"}),[l,c]=ne(null);pr(()=>{t.account&&(i({accountNumber:t.account.accountNumber,name:t.account.name,type:t.account.type,category:t.account.category,description:t.account.description,balance:t.account.balance.toString(),isActive:t.account.isActive.toString()}),c(null))});const s=[{value:"Asset",label:e("accounts.types.asset")},{value:"Liability",label:e("accounts.types.liability")},{value:"Equity",label:e("accounts.types.equity")},{value:"Revenue",label:e("accounts.types.revenue")},{value:"Expense",label:e("accounts.types.expense")}],a=()=>{const D=n().type;return D?{Asset:[{value:"Current Assets",label:e("accounts.categories.currentAssets")},{value:"Fixed Assets",label:e("accounts.categories.fixedAssets")}],Liability:[{value:"Current Liabilities",label:e("accounts.categories.currentLiabilities")},{value:"Long-term Liabilities",label:e("accounts.categories.longTermLiabilities")}],Equity:[{value:"Owner's Equity",label:e("accounts.categories.ownersEquity")}],Revenue:[{value:"Operating Revenue",label:e("accounts.categories.operatingRevenue")}],Expense:[{value:"Operating Expenses",label:e("accounts.categories.operatingExpenses")}]}[D]||[]:[]},d=[{value:"true",label:e("common.active")},{value:"false",label:e("common.inactive")}],v={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},f=D=>{if(D.preventDefault(),c(null),!t.account)return;const C=n();if(!C.accountNumber||!C.name||!C.type||!C.category){c(e("forms.requiredField"));return}if(et.accounts.find(b=>b.accountNumber===C.accountNumber&&b.id!==t.account.id)){c(e("forms.duplicateAccountNumber"));return}const x={accountNumber:C.accountNumber,name:C.name,type:C.type,category:C.category,description:C.description,balance:parseFloat(C.balance)||0,isActive:C.isActive==="true"};try{et.updateAccount(t.account.id,x),t.onClose()}catch(b){c(b instanceof Error?b.message:e("forms.saveError"))}},T=()=>{if(!t.account)return;const D=et.canDeleteAccount(t.account.id);if(!D.canDelete){c(D.reason||e("forms.deleteError"));return}const C=e("forms.confirmDelete");if(confirm(C))try{et.deleteAccount(t.account.id),t.onClose()}catch($){c($ instanceof Error?$.message:e("forms.deleteError"))}},L=(D,C)=>{i($=>{const x={...$,[D]:C};return D==="type"&&(x.category=""),x}),l()&&c(null)};return t.account?y($t,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return e("accounts.editAccount")},get children(){var D=ps(),C=D.firstChild;return D.addEventListener("submit",f),r(D,y(it,{get label(){return e("accounts.accountNumber")},get value(){return n().accountNumber},onChange:$=>L("accountNumber",$),get placeholder(){return e("accounts.accountNumber")},required:!0}),C),r(D,y(it,{get label(){return e("accounts.accountName")},get value(){return n().name},onChange:$=>L("name",$),get placeholder(){return e("accounts.accountName")},required:!0}),C),r(D,y(_t,{get label(){return e("accounts.accountType")},get value(){return n().type},onChange:$=>L("type",$),options:s,required:!0}),C),r(D,y(_t,{get label(){return e("accounts.category")},get value(){return n().category},onChange:$=>L("category",$),get options(){return a()},required:!0}),C),r(D,y(it,{get label(){return e("common.description")},get value(){return n().description},onChange:$=>L("description",$),get placeholder(){return e("common.description")}}),C),r(D,y(it,{get label(){return e("accounts.balance")},type:"number",get value(){return n().balance},onChange:$=>L("balance",$),get placeholder(){return e("accounts.balance")}}),C),r(D,y(_t,{get label(){return e("common.status")},get value(){return n().isActive},onChange:$=>L("isActive",$),options:d,required:!0}),C),r(D,(()=>{var $=U(()=>!!l());return()=>$()&&(()=>{var x=fs();return x.style.setProperty("padding","1rem"),x.style.setProperty("border-radius","var(--border-radius-sm)"),x.style.setProperty("margin-top","1rem"),x.style.setProperty("background","#f8d7da"),x.style.setProperty("color","#721c24"),x.style.setProperty("border","1px solid #f5c6cb"),r(x,l),x})()})(),C),o(C,v),r(C,y(Ae,{variant:"outline",type:"button",onClick:T,style:{color:"#dc3545","border-color":"#dc3545","margin-right":"auto"},get children(){return e("accounts.deleteAccount")}}),null),r(C,y(Ae,{variant:"secondary",type:"button",get onClick(){return t.onClose},get children(){return e("common.cancel")}}),null),r(C,y(Ae,{variant:"primary",type:"submit",get children(){return e("common.save")}}),null),D}}):null};var hs=_("<div><div>⚠️</div><div></div><div></div><div>"),Ss=_("<div><div></div><div></div><div>"),Ps=_("<div><button></button><button> (<!>)"),fn=_("<div>"),$s=_("<div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span>"),xs=_("<div><div><div></div><div> • </div></div><div>");const Cs=t=>{const{t:e}=We(),[n,i]=ne("details"),[l,c]=ne(!1),s=Fe(()=>t.account?et.getAccountById(t.account.id)||t.account:null),a={display:"flex","justify-content":"space-between","align-items":"center",padding:"0.75rem 0","border-bottom":"1px solid var(--border-color)"},d={"font-weight":"500",color:"var(--text-muted)","font-size":"0.875rem"},v={"font-weight":"600",color:"var(--text-primary)"},f={"text-align":"center","margin-bottom":"2rem"},T={"font-size":"1.5rem","font-weight":"600",color:"var(--text-primary)",margin:"0.5rem 0"},L={"font-size":"2rem","font-weight":"700",color:"var(--primary-color)","margin-bottom":"0.5rem"},D={padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500","text-transform":"uppercase","letter-spacing":"0.5px","margin-bottom":"1rem"},C={display:"flex","border-bottom":"1px solid var(--border-color)","margin-bottom":"1.5rem"},$=X=>({padding:"0.75rem 1rem",background:"none",border:"none",cursor:"pointer","font-weight":"500",color:X?"var(--primary-color)":"var(--text-muted)","border-bottom":X?"2px solid var(--primary-color)":"2px solid transparent",transition:"all 0.2s ease"}),x={display:"flex","justify-content":"space-between","align-items":"center",padding:"1rem 0","border-bottom":"1px solid var(--border-color)"},b={flex:"1"},O={"font-size":"0.875rem",color:"var(--text-muted)"},oe={"font-weight":"500","margin-bottom":"0.25rem"},q=X=>({"font-weight":"600",color:X==="debit"?"#4caf50":"#f44336"}),ce={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},Z=X=>({Asset:{bg:"#e8f5e8",color:"#2d7d32"},Liability:{bg:"#fff3e0",color:"#f57c00"},Equity:{bg:"#e3f2fd",color:"#1976d2"},Revenue:{bg:"#e8f5e8",color:"#388e3c"},Expense:{bg:"#ffebee",color:"#d32f2f"}})[X]||{bg:"#f5f5f5",color:"#666"},ue=X=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(X),ye=X=>new Date(X).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return y($t,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return e("accounts.accountDetails")},get children(){return[U(()=>U(()=>!s())()?(()=>{var X=hs(),Y=X.firstChild,W=Y.nextSibling,J=W.nextSibling,m=J.nextSibling;return X.style.setProperty("text-align","center"),X.style.setProperty("padding","3rem"),X.style.setProperty("color","var(--text-muted)"),Y.style.setProperty("font-size","1.5rem"),Y.style.setProperty("margin-bottom","1rem"),W.style.setProperty("font-size","1.1rem"),W.style.setProperty("margin-bottom","0.5rem"),r(W,()=>e("common.error")),J.style.setProperty("font-size","0.875rem"),r(J,()=>e("common.noDataFound")),m.style.setProperty("margin-top","2rem"),r(m,y(Ae,{variant:"primary",get onClick(){return t.onClose},get children(){return e("common.close")}})),X})():(()=>{const X=Fe(()=>Z(s().type)),Y=Fe(()=>et.getAccountTransactions(s().id));return[(()=>{var W=Ss(),J=W.firstChild,m=J.nextSibling,I=m.nextSibling;return o(W,f),o(J,T),r(J,()=>s().name),o(m,L),r(m,()=>ue(s().balance)),r(I,()=>e(`accounts.types.${s().type.toLowerCase()}`)),j(h=>o(I,{...D,background:X().bg,color:X().color},h)),W})(),(()=>{var W=Ps(),J=W.firstChild,m=J.nextSibling,I=m.firstChild,h=I.nextSibling;return h.nextSibling,o(W,C),J.$$click=()=>i("details"),r(J,()=>e("accounts.accountDetails")),m.$$click=()=>i("transactions"),r(m,()=>e("accounts.transactions"),I),r(m,()=>Y().length,h),j(u=>{var A=$(n()==="details"),S=$(n()==="transactions");return u.e=o(J,A,u.e),u.t=o(m,S,u.t),u},{e:void 0,t:void 0}),W})(),U(()=>U(()=>n()==="details")()&&(()=>{var W=$s(),J=W.firstChild,m=J.firstChild,I=m.nextSibling,h=J.nextSibling,u=h.firstChild,A=u.nextSibling,S=h.nextSibling,w=S.firstChild,k=w.nextSibling,E=S.nextSibling,de=E.firstChild,P=de.nextSibling,z=E.nextSibling,te=z.firstChild,H=te.nextSibling,Q=z.nextSibling,ee=Q.firstChild,ie=ee.nextSibling;return r(m,()=>e("accounts.accountNumber")),r(I,()=>s().accountNumber),r(u,()=>e("accounts.category")),r(A,()=>s().category),r(w,()=>e("common.description")),r(k,()=>s().description),r(de,()=>e("common.status")),r(P,(()=>{var le=U(()=>!!s().isActive);return()=>le()?e("common.active"):e("common.inactive")})()),r(te,()=>e("accounts.createdDate")),r(H,()=>ye(s().createdDate)),r(ee,()=>e("accounts.lastModified")),r(ie,()=>ye(s().lastModified)),j(le=>{var R=a,K=d,pe=v,fe=a,M=d,F=v,N=a,ae=d,re=v,ve=a,ge=d,g=v,p=a,G=d,me=v,V=a,se=d,B=v;return le.e=o(J,R,le.e),le.t=o(m,K,le.t),le.a=o(I,pe,le.a),le.o=o(h,fe,le.o),le.i=o(u,M,le.i),le.n=o(A,F,le.n),le.s=o(S,N,le.s),le.h=o(w,ae,le.h),le.r=o(k,re,le.r),le.d=o(E,ve,le.d),le.l=o(de,ge,le.l),le.u=o(P,g,le.u),le.c=o(z,p,le.c),le.w=o(te,G,le.w),le.m=o(H,me,le.m),le.f=o(Q,V,le.f),le.y=o(ee,se,le.y),le.g=o(ie,B,le.g),le},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0}),W})()),U(()=>U(()=>n()==="transactions")()&&(()=>{var W=fn();return r(W,(()=>{var J=U(()=>Y().length===0);return()=>J()?(()=>{var m=fn();return m.style.setProperty("text-align","center"),m.style.setProperty("color","var(--text-muted)"),m.style.setProperty("padding","2rem"),r(m,()=>e("common.noDataFound")),m})():Y().map(m=>(()=>{var I=xs(),h=I.firstChild,u=h.firstChild,A=u.nextSibling,S=A.firstChild,w=h.nextSibling;return o(I,x),o(h,b),o(u,oe),r(u,()=>m.description),o(A,O),r(A,()=>ye(m.date),S),r(A,()=>m.reference,null),r(w,()=>m.type==="debit"?"+":"-",null),r(w,()=>ue(m.type==="debit"?m.debitAmount:m.creditAmount),null),j(k=>o(w,q(m.type),k)),I})())})()),W})()),(()=>{var W=fn();return o(W,ce),r(W,y(Ae,{variant:"secondary",get onClick(){return t.onClose},get children(){return e("common.close")}}),null),r(W,y(Ae,{variant:"primary",onClick:()=>c(!0),get children(){return e("accounts.editAccount")}}),null),W})()]})()),U(()=>U(()=>!!s())()&&y(bs,{get isOpen(){return l()},onClose:()=>{c(!1)},get account(){return s()}}))]}})};ut(["click"]);const _s="https://qvamarkets.com/gql_api",[ws,oo]=ne(!1),[ks,bn]=ne(null);class As{baseUrl;constructor(e=_s){this.baseUrl=e}async request(e,n,i,l){oo(!0),bn(null);try{const c=n.startsWith("http")?n:`${this.baseUrl}${n}`,s={method:e,headers:{"Content-Type":"application/json",Accept:"application/json",...l}};i&&(e==="POST"||e==="PUT"||e==="PATCH")&&(s.body=JSON.stringify(i));const a=await fetch(c,s);if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const d=await a.json();if(d.errors&&d.errors.length>0)throw new Error(d.errors[0].message);return d.data||d}catch(c){const s=c instanceof Error?c.message:"Unknown error occurred";throw bn(s),c}finally{oo(!1)}}async graphql(e){return this.request("POST","",e)}async get(e,n){return this.request("GET",e,void 0,n)}async post(e,n,i){return this.request("POST",e,n,i)}async put(e,n,i){return this.request("PUT",e,n,i)}async patch(e,n,i){return this.request("PATCH",e,n,i)}async delete(e,n){return this.request("DELETE",e,void 0,n)}getLoadingState(){return ws()}getErrorState(){return ks()}clearError(){bn(null)}}const Yr=new As,Un=`
  fragment AccountFields on Account {
    id
    accountNumber
    name
    type
    category
    description
    balance
    isActive
    parentAccountId
    createdDate
    lastModified
  }
`,Is=`
  query GetAccountById($id: ID!) {
    account(id: $id) {
      ...AccountFields
    }
  }
  ${Un}
`,Es=`
  mutation CreateAccount($input: CreateAccountInput!) {
    createAccount(input: $input) {
      ...AccountFields
    }
  }
  ${Un}
`,Ls=`
  mutation UpdateAccount($id: ID!, $input: UpdateAccountInput!) {
    updateAccount(id: $id, input: $input) {
      ...AccountFields
    }
  }
  ${Un}
`,Ds=`
  mutation DeleteAccount($id: ID!) {
    deleteAccount(id: $id) {
      success
      message
    }
  }
`;class Ns{async getAccounts(e,n){try{if(zr.isFakeMode())return await Xn.getAll(e);const i=await sn({query:"getAllYabaProducts",params:{businessId:"YB100423253156428"}});return console.log("Real API accounts response:",i),i?.accounts||[]}catch(i){if(console.error("Error fetching accounts:",i),zr.isHybridMode())return console.warn("Falling back to fake API for accounts"),await Xn.getAll(e);throw i}}async getAccountById(e){try{return(await Yr.graphql({query:Is,variables:{id:e}})).account}catch(n){throw console.error("Error fetching account:",n),n}}async createAccount(e){try{return(await Yr.graphql({query:Es,variables:{input:e}})).createAccount}catch(n){throw console.error("Error creating account:",n),n}}async updateAccount(e,n){try{return(await Yr.graphql({query:Ls,variables:{id:e,input:n}})).updateAccount}catch(i){throw console.error("Error updating account:",i),i}}async deleteAccount(e){try{return(await Yr.graphql({query:Ds,variables:{id:e}})).deleteAccount}catch(n){throw console.error("Error deleting account:",n),n}}async getAccountsByType(e){return this.getAccounts({type:e})}async getAccountHierarchy(){const e=await this.getAccounts();return this.buildHierarchy(e)}buildHierarchy(e){const n=new Map,i=[];return e.forEach(l=>{n.set(l.id,{...l,subAccounts:[]})}),e.forEach(l=>{const c=n.get(l.id);if(l.parentAccountId){const s=n.get(l.parentAccountId);s&&(s.subAccounts=s.subAccounts||[],s.subAccounts.push(c))}else i.push(c)}),i}async getAccountBalance(e){const n=await this.getAccountById(e);return n?n.balance:0}async searchAccounts(e){return this.getAccounts({search:e})}}const Ts=new Ns;var Bs=_("<div><h2></h2><div><span>:</span><button></button><button>"),Ms=_("<div><span>:"),io=_("<div>"),Rs=_("<button>");const Os=()=>{const{t}=We(),[e,n]=ne(!1),[i,l]=ne(!1),[c,s]=ne(!1),[a,d]=ne(null),[v,f]=ne(null),[T,L]=ne("All"),[D,C]=ne("hierarchy"),$=ye=>{d(ye),s(!0)},x=ye=>{f(ye),l(!0)},b=()=>T()==="All"?D()==="hierarchy"?et.getAccountHierarchy():et.accounts:D()==="hierarchy"?et.getAccountHierarchy().filter(ye=>ye.type===T()):et.getAccountsByType(T()),O={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(350px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"},oe={display:"flex",gap:"1rem","margin-bottom":"2rem","align-items":"center"},q=ye=>({padding:"0.5rem 1rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)",background:ye?"var(--primary-color)":"var(--surface-color)",color:ye?"white":"var(--text-primary)",cursor:"pointer","font-weight":"500",transition:"all 0.2s ease"}),ce={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"2rem"},Z={display:"flex",gap:"0.5rem","align-items":"center","margin-left":"auto","margin-right":"1rem"},ue=ye=>({padding:"0.5rem 1rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)",background:ye?"var(--primary-color)":"var(--surface-color)",color:ye?"white":"var(--text-primary)",cursor:"pointer","font-weight":"500","font-size":"0.875rem",transition:"all 0.2s ease"});return y(zt,{get title(){return t("accounts.title")},get children(){return[y(ts,{}),(()=>{var ye=Bs(),X=ye.firstChild,Y=X.nextSibling,W=Y.firstChild,J=W.firstChild,m=W.nextSibling,I=m.nextSibling;return o(ye,ce),X.style.setProperty("margin","0"),X.style.setProperty("font-size","1.5rem"),r(X,()=>t("accounts.title")),o(Y,Z),W.style.setProperty("font-weight","500"),W.style.setProperty("color","var(--text-muted)"),W.style.setProperty("font-size","0.875rem"),r(W,()=>t("common.view"),J),m.$$click=()=>C("hierarchy"),r(m,()=>t("accounts.accountHierarchy")),I.$$click=()=>{C("flat"),Ts.getAccounts()},r(I,()=>t("common.all")),r(ye,y(Ae,{variant:"primary",onClick:()=>n(!0),get children(){return t("accounts.addAccount")}}),null),j(h=>{var u=ue(D()==="hierarchy"),A=ue(D()==="flat");return h.e=o(m,u,h.e),h.t=o(I,A,h.t),h},{e:void 0,t:void 0}),ye})(),(()=>{var ye=Ms(),X=ye.firstChild,Y=X.firstChild;return o(ye,oe),X.style.setProperty("font-weight","500"),X.style.setProperty("color","var(--text-muted)"),r(X,()=>t("common.filter"),Y),r(ye,()=>[t("common.all"),t("accounts.types.asset"),t("accounts.types.liability"),t("accounts.types.equity"),t("accounts.types.revenue"),t("accounts.types.expense")].map((W,J)=>{const I=["All","Asset","Liability","Equity","Revenue","Expense"][J];return(()=>{var h=Rs();return h.$$click=()=>L(I),r(h,W),j(u=>o(h,q(T()===I),u)),h})()}),null),ye})(),(()=>{var ye=io();return r(ye,(()=>{var X=U(()=>D()==="hierarchy");return()=>X()?b().map(Y=>y(ds,{account:Y,onAddSubAccount:x,onViewDetails:$})):b().map(Y=>y(os,{account:Y,onViewDetails:$}))})()),j(X=>o(ye,D()==="hierarchy"?{display:"flex","flex-direction":"column",gap:"1rem"}:O,X)),ye})(),U(()=>U(()=>b().length===0)()&&(()=>{var ye=io();return ye.style.setProperty("text-align","center"),ye.style.setProperty("color","var(--text-muted)"),ye.style.setProperty("padding","3rem"),ye.style.setProperty("font-size","1.1rem"),r(ye,()=>t("common.noDataFound")),ye})()),y(ys,{get isOpen(){return e()},onClose:()=>n(!1)}),y(gs,{get isOpen(){return i()},onClose:()=>l(!1),get parentAccount(){return v()}}),y(Cs,{get isOpen(){return c()},onClose:()=>s(!1),get account(){return a()}})]}})};ut(["click"]);var js=_("<div><h2>"),xr=_("<div>"),zs=_("<div><div><div></div><h1></h1><div></div></div><div>"),Fs=_("<div><button></button><button> (<!>)"),Wr=_("<div><span></span><span>"),qs=_("<p>"),Us=_("<div><div></div><div>"),Vs=_("<div><div><div></div><div> • </div></div><div>");const Ys=()=>{const{t}=We(),e=Ji(),n=qn(),[i,l]=ne(null),[c,s]=ne("overview");_r(()=>{const m=et.getAccountById(e.id);m?l(m):n("/accounts")});const a={display:"flex","align-items":"center",gap:"0.5rem","margin-bottom":"1rem"},d={display:"flex","align-items":"center",gap:"1rem","margin-bottom":"2rem"},v={"font-size":"1rem","font-weight":"600",color:"var(--text-muted)","text-transform":"uppercase"},f={"font-size":"2.5rem","font-weight":"700",color:"var(--primary-color)"},T={padding:"0.5rem 1rem","border-radius":"9999px","font-size":"0.875rem","font-weight":"500","text-transform":"uppercase","letter-spacing":"0.5px"},L={display:"flex","border-bottom":"1px solid var(--border-color)","margin-bottom":"2rem"},D=m=>({padding:"1rem 2rem",background:"none",border:"none",cursor:"pointer","font-weight":"500",color:m?"var(--primary-color)":"var(--text-muted)","border-bottom":m?"2px solid var(--primary-color)":"2px solid transparent",transition:"all 0.2s ease"}),C={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"},$={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem"},x={display:"flex","justify-content":"space-between","align-items":"center",padding:"0.75rem 0","border-bottom":"1px solid var(--border-color)"},b={"font-weight":"500",color:"var(--text-muted)"},O={"font-weight":"600",color:"var(--text-primary)"},oe={display:"flex","justify-content":"space-between","align-items":"center",padding:"1rem 0","border-bottom":"1px solid var(--border-color)"},q={flex:"1"},ce={"font-weight":"500","margin-bottom":"0.25rem"},Z={"font-size":"0.875rem",color:"var(--text-muted)"},ue=m=>({"font-weight":"600",color:m==="debit"?"#4caf50":"#f44336"});if(!i())return y(zt,{get title(){return t("accounts.accountDetails")},get children(){var m=js(),I=m.firstChild;return m.style.setProperty("text-align","center"),m.style.setProperty("padding","3rem"),r(I,()=>t("common.error")),r(m,y(Ae,{variant:"primary",onClick:()=>n("/accounts"),get children(){return[U(()=>t("common.back"))," ",U(()=>t("navigation.accounts"))]}}),null),m}});const ye=m=>({Asset:{bg:"#e8f5e8",color:"#2d7d32"},Liability:{bg:"#fff3e0",color:"#f57c00"},Equity:{bg:"#e3f2fd",color:"#1976d2"},Revenue:{bg:"#e8f5e8",color:"#388e3c"},Expense:{bg:"#ffebee",color:"#d32f2f"}})[m]||{bg:"#f5f5f5",color:"#666"},X=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(m),Y=m=>new Date(m).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),W=ye(i().type),J=et.getAccountTransactions(i().id);return y(zt,{get title(){return i().name},get children(){return[(()=>{var m=xr();return o(m,a),r(m,y(Ae,{variant:"secondary",onClick:()=>n("/accounts"),get children(){return["← ",U(()=>t("common.back"))," ",U(()=>t("navigation.accounts"))]}})),m})(),(()=>{var m=zs(),I=m.firstChild,h=I.firstChild,u=h.nextSibling,A=u.nextSibling,S=I.nextSibling;return o(m,d),o(h,v),r(h,()=>i().accountNumber),u.style.setProperty("margin","0.5rem 0"),u.style.setProperty("font-size","2rem"),r(u,()=>i().name),o(A,f),r(A,()=>X(i().balance)),r(S,()=>i().type),j(w=>o(S,{...T,background:W.bg,color:W.color},w)),m})(),(()=>{var m=Fs(),I=m.firstChild,h=I.nextSibling,u=h.firstChild,A=u.nextSibling;return A.nextSibling,o(m,L),I.$$click=()=>s("overview"),r(I,()=>t("dashboard.overview")),h.$$click=()=>s("transactions"),r(h,()=>t("accounts.transactions"),u),r(h,()=>J.length,A),j(S=>{var w=D(c()==="overview"),k=D(c()==="transactions");return S.e=o(I,w,S.e),S.t=o(h,k,S.t),S},{e:void 0,t:void 0}),m})(),U(()=>U(()=>c()==="overview")()&&(()=>{var m=Us(),I=m.firstChild,h=I.nextSibling;return o(I,C),r(I,y(ze,{get title(){return t("accounts.balance")},get subtitle(){return t("dashboard.overview")},get children(){var u=xr();return u.style.setProperty("font-size","1.5rem"),u.style.setProperty("font-weight","600"),u.style.setProperty("color","var(--primary-color)"),r(u,()=>X(i().balance)),u}}),null),r(I,y(ze,{get title(){return t("accounts.accountType")},get subtitle(){return t("accounts.category")},get children(){var u=xr();return u.style.setProperty("font-size","1.5rem"),u.style.setProperty("font-weight","600"),u.style.setProperty("color","var(--primary-color)"),r(u,()=>t(`accounts.types.${i().type.toLowerCase()}`)),u}}),null),r(I,y(ze,{get title(){return t("common.status")},get subtitle(){return t("accounts.accountDetails")},get children(){var u=xr();return u.style.setProperty("font-size","1.5rem"),u.style.setProperty("font-weight","600"),r(u,(()=>{var A=U(()=>!!i().isActive);return()=>A()?t("common.active"):t("common.inactive")})()),j(A=>(A=i().isActive?"#4caf50":"#f44336")!=null?u.style.setProperty("color",A):u.style.removeProperty("color")),u}}),null),r(I,y(ze,{get title(){return t("accounts.transactions")},get subtitle(){return t("common.total")},get children(){var u=xr();return u.style.setProperty("font-size","1.5rem"),u.style.setProperty("font-weight","600"),u.style.setProperty("color","var(--primary-color)"),r(u,()=>J.length),u}}),null),o(h,$),r(h,y(ze,{get title(){return t("accounts.accountDetails")},get subtitle(){return t("dashboard.overview")},get children(){return[(()=>{var u=Wr(),A=u.firstChild,S=A.nextSibling;return r(A,()=>t("accounts.accountNumber")),r(S,()=>i().accountNumber),j(w=>{var k=x,E=b,de=O;return w.e=o(u,k,w.e),w.t=o(A,E,w.t),w.a=o(S,de,w.a),w},{e:void 0,t:void 0,a:void 0}),u})(),(()=>{var u=Wr(),A=u.firstChild,S=A.nextSibling;return r(A,()=>t("accounts.category")),r(S,()=>i().category),j(w=>{var k=x,E=b,de=O;return w.e=o(u,k,w.e),w.t=o(A,E,w.t),w.a=o(S,de,w.a),w},{e:void 0,t:void 0,a:void 0}),u})(),(()=>{var u=Wr(),A=u.firstChild,S=A.nextSibling;return r(A,()=>t("common.date")),r(S,()=>Y(i().createdDate)),j(w=>{var k=x,E=b,de=O;return w.e=o(u,k,w.e),w.t=o(A,E,w.t),w.a=o(S,de,w.a),w},{e:void 0,t:void 0,a:void 0}),u})(),(()=>{var u=Wr(),A=u.firstChild,S=A.nextSibling;return r(A,()=>t("common.date")),r(S,()=>Y(i().lastModified)),j(w=>{var k=x,E=b,de=O;return w.e=o(u,k,w.e),w.t=o(A,E,w.t),w.a=o(S,de,w.a),w},{e:void 0,t:void 0,a:void 0}),u})()]}}),null),r(h,y(ze,{get title(){return t("common.description")},get subtitle(){return t("accounts.accountDetails")},get children(){var u=qs();return u.style.setProperty("margin","0"),u.style.setProperty("color","var(--text-secondary)"),r(u,()=>i().description||t("common.noDataFound")),u}}),null),m})()),U(()=>U(()=>c()==="transactions")()&&y(ze,{get title(){return t("accounts.accountHistory")},get subtitle(){return t("accounts.transactions")},get children(){return U(()=>J.length===0)()?(()=>{var m=xr();return m.style.setProperty("text-align","center"),m.style.setProperty("color","var(--text-muted)"),m.style.setProperty("padding","2rem"),r(m,()=>t("common.noDataFound")),m})():J.map(m=>(()=>{var I=Vs(),h=I.firstChild,u=h.firstChild,A=u.nextSibling,S=A.firstChild,w=h.nextSibling;return o(I,oe),o(h,q),o(u,ce),r(u,()=>m.description),o(A,Z),r(A,()=>Y(m.date),S),r(A,()=>m.reference,null),r(w,()=>m.type==="debit"?"+":"-",null),r(w,()=>X(m.type==="debit"?m.debitAmount:m.creditAmount),null),j(k=>o(w,ue(m.type),k)),I})())}}))]}})};ut(["click"]);var Ws=_("<div><div><h1></h1><p> </p></div><div><input type=date>"),Yt=_("<div><span></span><span>"),Hs=_("<div><div></div><div>"),Gs=_("<div><div><div></div><div></div></div><div><div></div><div></div></div><div><div></div><div>"),Js=_("<div><div> (<!> = <!> + <!>)</div><div> = "),Qs=_("<span>(<!>: <!>)");const Ks=()=>{const{t}=We(),[e,n]=ne(new Date().toISOString().split("T")[0]),[i,l]=ne(0),[c,s]=ne(0),[a,d]=ne(0);_r(()=>{v()});const v=()=>{const C=et.getAccountsByType("Asset"),$=et.getAccountsByType("Liability"),x=et.getAccountsByType("Equity"),b=C.reduce((q,ce)=>q+ce.balance,0),O=$.reduce((q,ce)=>q+ce.balance,0),oe=x.reduce((q,ce)=>q+ce.balance,0);l(b),s(O),d(oe)},f=C=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(C),T={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"2rem"},L={"margin-bottom":"2rem"},D={"font-weight":"bold","font-size":"1.1rem","border-top":"2px solid var(--border-color)","padding-top":"0.5rem","margin-top":"1rem"};return y(zt,{get title(){return t("balanceSheet.title")},get children(){return[(()=>{var C=Ws(),$=C.firstChild,x=$.firstChild,b=x.nextSibling,O=b.firstChild,oe=$.nextSibling,q=oe.firstChild;return o(C,T),x.style.setProperty("margin","0"),r(x,()=>t("balanceSheet.title")),b.style.setProperty("margin","0.5rem 0 0 0"),b.style.setProperty("color","var(--text-muted)"),r(b,()=>t("balanceSheet.asOf"),O),r(b,()=>new Date(e()).toLocaleDateString(),null),oe.style.setProperty("display","flex"),oe.style.setProperty("gap","1rem"),q.addEventListener("change",ce=>n(ce.target.value)),q.style.setProperty("padding","0.5rem"),q.style.setProperty("border","1px solid var(--border-color)"),q.style.setProperty("border-radius","var(--border-radius-sm)"),r(oe,y(Ae,{variant:"primary",onClick:v,get children(){return t("balanceSheet.generateReport")}}),null),j(()=>q.value=e()),C})(),(()=>{var C=Hs(),$=C.firstChild,x=$.nextSibling;return C.style.setProperty("display","grid"),C.style.setProperty("grid-template-columns","1fr 1fr"),C.style.setProperty("gap","2rem"),r($,y(ze,{get title(){return t("balanceSheet.assets")},style:L,get children(){return[(()=>{var b=Yt(),O=b.firstChild,oe=O.nextSibling;return b.style.setProperty("display","flex"),b.style.setProperty("justify-content","space-between"),b.style.setProperty("align-items","center"),r(O,()=>t("balanceSheet.currentAssets")),r(oe,()=>f(i()*.6)),b})(),(()=>{var b=Yt(),O=b.firstChild,oe=O.nextSibling;return b.style.setProperty("display","flex"),b.style.setProperty("justify-content","space-between"),b.style.setProperty("align-items","center"),r(O,()=>t("balanceSheet.nonCurrentAssets")),r(oe,()=>f(i()*.4)),b})(),(()=>{var b=Yt(),O=b.firstChild,oe=O.nextSibling;return r(O,()=>t("balanceSheet.totalAssets")),r(oe,()=>f(i())),j(q=>o(b,{...D,display:"flex","justify-content":"space-between"},q)),b})()]}})),r(x,y(ze,{get title(){return t("balanceSheet.liabilities")},style:L,get children(){return[(()=>{var b=Yt(),O=b.firstChild,oe=O.nextSibling;return b.style.setProperty("display","flex"),b.style.setProperty("justify-content","space-between"),b.style.setProperty("align-items","center"),r(O,()=>t("balanceSheet.currentLiabilities")),r(oe,()=>f(c()*.7)),b})(),(()=>{var b=Yt(),O=b.firstChild,oe=O.nextSibling;return b.style.setProperty("display","flex"),b.style.setProperty("justify-content","space-between"),b.style.setProperty("align-items","center"),r(O,()=>t("balanceSheet.nonCurrentLiabilities")),r(oe,()=>f(c()*.3)),b})(),(()=>{var b=Yt(),O=b.firstChild,oe=O.nextSibling;return r(O,()=>t("balanceSheet.totalLiabilities")),r(oe,()=>f(c())),j(q=>o(b,{...D,display:"flex","justify-content":"space-between"},q)),b})()]}}),null),r(x,y(ze,{get title(){return t("balanceSheet.equity")},get children(){return[(()=>{var b=Yt(),O=b.firstChild,oe=O.nextSibling;return b.style.setProperty("display","flex"),b.style.setProperty("justify-content","space-between"),b.style.setProperty("align-items","center"),r(O,()=>t("balanceSheet.commonStock")),r(oe,()=>f(a()*.8)),b})(),(()=>{var b=Yt(),O=b.firstChild,oe=O.nextSibling;return b.style.setProperty("display","flex"),b.style.setProperty("justify-content","space-between"),b.style.setProperty("align-items","center"),r(O,()=>t("balanceSheet.retainedEarnings")),r(oe,()=>f(a()*.2)),b})(),(()=>{var b=Yt(),O=b.firstChild,oe=O.nextSibling;return r(O,()=>t("balanceSheet.totalEquity")),r(oe,()=>f(a())),j(q=>o(b,{...D,display:"flex","justify-content":"space-between"},q)),b})()]}}),null),C})(),y(ze,{get title(){return t("dashboard.overview")},style:{"margin-top":"2rem"},get children(){return[(()=>{var C=Gs(),$=C.firstChild,x=$.firstChild,b=x.nextSibling,O=$.nextSibling,oe=O.firstChild,q=oe.nextSibling,ce=O.nextSibling,Z=ce.firstChild,ue=Z.nextSibling;return C.style.setProperty("display","grid"),C.style.setProperty("grid-template-columns","repeat(3, 1fr)"),C.style.setProperty("gap","2rem"),$.style.setProperty("text-align","center"),x.style.setProperty("font-size","0.875rem"),x.style.setProperty("color","var(--text-muted)"),x.style.setProperty("margin-bottom","0.5rem"),r(x,()=>t("balanceSheet.totalAssets")),b.style.setProperty("font-size","1.5rem"),b.style.setProperty("font-weight","bold"),b.style.setProperty("color","var(--primary-color)"),r(b,()=>f(i())),O.style.setProperty("text-align","center"),oe.style.setProperty("font-size","0.875rem"),oe.style.setProperty("color","var(--text-muted)"),oe.style.setProperty("margin-bottom","0.5rem"),r(oe,()=>t("balanceSheet.totalLiabilities")),q.style.setProperty("font-size","1.5rem"),q.style.setProperty("font-weight","bold"),q.style.setProperty("color","#f44336"),r(q,()=>f(c())),ce.style.setProperty("text-align","center"),Z.style.setProperty("font-size","0.875rem"),Z.style.setProperty("color","var(--text-muted)"),Z.style.setProperty("margin-bottom","0.5rem"),r(Z,()=>t("balanceSheet.totalEquity")),ue.style.setProperty("font-size","1.5rem"),ue.style.setProperty("font-weight","bold"),ue.style.setProperty("color","#4caf50"),r(ue,()=>f(a())),C})(),(()=>{var C=Js(),$=C.firstChild,x=$.firstChild,b=x.nextSibling,O=b.nextSibling,oe=O.nextSibling,q=oe.nextSibling,ce=q.nextSibling;ce.nextSibling;var Z=$.nextSibling,ue=Z.firstChild;return C.style.setProperty("margin-top","2rem"),C.style.setProperty("text-align","center"),$.style.setProperty("font-size","0.875rem"),$.style.setProperty("color","var(--text-muted)"),$.style.setProperty("margin-bottom","0.5rem"),r($,()=>t("common.total"),x),r($,()=>t("balanceSheet.totalAssets"),b),r($,()=>t("balanceSheet.totalLiabilities"),oe),r($,()=>t("balanceSheet.totalEquity"),ce),Z.style.setProperty("font-size","1.2rem"),Z.style.setProperty("font-weight","bold"),r(Z,()=>f(i()),ue),r(Z,()=>f(c()+a()),null),r(Z,(()=>{var ye=U(()=>Math.abs(i()-(c()+a()))>.01);return()=>ye()&&(()=>{var X=Qs(),Y=X.firstChild,W=Y.nextSibling,J=W.nextSibling,m=J.nextSibling;return m.nextSibling,X.style.setProperty("font-size","0.875rem"),X.style.setProperty("color","#f44336"),X.style.setProperty("display","block"),r(X,()=>t("common.error"),W),r(X,()=>f(i()-(c()+a())),m),X})()})(),null),j(ye=>(ye=Math.abs(i()-(c()+a()))<.01?"#4caf50":"#f44336")!=null?Z.style.setProperty("color",ye):Z.style.removeProperty("color")),C})()]}})]}})};ut(["click"]);const Zs=[{id:"YY_8801",code:"YY_8801",name:"YABA SUR",bussinesId:"YB100423253156428",type:"store",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8802",name:"CENTER",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8803",name:"BISONET",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8804",name:"IRVIN",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8805",name:"KATTY",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8814",name:"YABASUR OR",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8816",name:"YABA GLOBAL",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8818",name:"YABASURAUSTIN",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8844",name:"YABANEBRASKA",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8847",name:"YABAOFICINA AZ",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_3251",name:"YABA FASHION",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_32",name:"YABA MESQUITE",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_33",name:"YABASUR ARIZONA",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8635",name:"FASHION MESQUITE",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8665",name:"IRVIN FASHION",bussinesId:"YB100423253156428",address:"321 Supply Ave, City, State 12345",isActive:!0,createdDate:"2024-01-01"},{id:"YY_8901",name:"ALMACEN CENTRAL YABA",bussinesId:"YB100423253156428",type:"warehouse",address:"123 Industrial Dr, City, State 12345",isActive:!0,createdDate:"2024-01-01"}],Xs=[{id:"1",name:'MacBook Pro 16"',price:2399,quantity:75,category:"Electronics",description:"Apple MacBook Pro 16-inch with M2 Pro chip",sku:"MBP-16-M2P",supplier:"Apple Inc.",minStock:10,location:"Warehouse A",lastUpdated:"2024-01-15"},{id:"2",name:'Dell Monitor 27"',price:299,quantity:35,category:"Electronics",description:"Dell 27-inch 4K UHD Monitor",sku:"DELL-MON-27-4K",supplier:"Dell Technologies",minStock:15,location:"Warehouse B",lastUpdated:"2024-01-14"},{id:"3",name:"Wireless Mouse",price:49.99,quantity:12,category:"Accessories",description:"Ergonomic wireless mouse with precision tracking",sku:"MOUSE-WL-001",supplier:"Logitech",minStock:25,location:"Warehouse A",lastUpdated:"2024-01-13"}],Hr=()=>{const t=new Map;return Mt().forEach(e=>{const n=`${e.productId}-${e.locationId}`;let i=t.get(n);i||(i={id:n,productId:e.productId,locationId:e.locationId,quantity:0,reservedQuantity:0,availableQuantity:0,averageCost:0,lastMovementDate:e.createdDate,lastMovementType:e.movementType},t.set(n,i)),e.movementType==="in"||e.movementType==="transfer"?(e.locationId===e.toLocationId||e.movementType==="in")&&(i.quantity+=e.quantity*1):e.movementType==="out"?i.quantity-=e.quantity*1:e.movementType==="adjustment"&&(i.quantity=e.quantity*1),new Date(e.createdDate)>new Date(i.lastMovementDate)&&(i.lastMovementDate=e.createdDate,i.lastMovementType=e.movementType),i.averageCost=e.unitCost*1,i.availableQuantity=i.quantity*1-i.reservedQuantity*1}),Array.from(t.values())},[dr,lo]=ne([]),[ur,so]=ne(Zs),[Mt,Gr]=ne([]),[tr,Mr]=ne([]),ea=()=>{const t=new Map;return Mt().forEach(e=>{const n=`${e.productId}-${e.locationId}`;let i=t.get(n);i||(i={id:n,productId:e.productId,locationId:e.locationId,quantity:0,reservedQuantity:0,availableQuantity:0,averageCost:0,lastMovementDate:e.createdDate,lastMovementType:e.movementType},t.set(n,i)),e.movementType==="in"||e.movementType==="transfer"?(e.locationId===e.toLocationId||e.movementType==="in")&&(i.quantity+=e.quantity*1):e.movementType==="out"?i.quantity-=e.quantity*1:e.movementType==="adjustment"&&(i.quantity=e.quantity*1),new Date(e.createdDate)>new Date(i.lastMovementDate)&&(i.lastMovementDate=e.createdDate,i.lastMovementType=e.movementType),i.averageCost=e.unitCost*1,i.availableQuantity=i.quantity*1-i.reservedQuantity*1}),Array.from(t.values())};Mr(ea());const[Jr,hn]=ne(Xs),Le={get products(){return dr()},get locations(){return ur()},get movements(){return Mt()},get stockLevels(){return tr()},getProductById:t=>dr().find(e=>e.id===t),getProductsBySku:t=>dr().filter(e=>e.sku.toLowerCase().includes(t.toLowerCase())),getProductsByCategory:t=>dr().filter(e=>e.category===t),getActiveProducts:()=>dr().filter(t=>t.isActive),getLocationById:t=>ur().find(e=>e.id===t),getLocationsByType:t=>ur().filter(e=>e.type===t),getActiveLocations:()=>ur().filter(t=>t.isActive),getMovementsByProduct:t=>Mt().filter(e=>e.productId===t),updMovements:t=>{Gr([...t]),Mr(Hr())},getMovementsByLocation:t=>Mt().filter(e=>e.locationId===t),getMovementsByDateRange:(t,e)=>Mt().filter(n=>n.createdDate>=t&&n.createdDate<=e),getStockByProduct:t=>tr().filter(e=>e.productId===t),getStockByLocation:t=>tr().filter(e=>e.locationId===t),getStockByProductAndLocation:(t,e)=>tr().find(n=>n.productId===t&&n.locationId===e),getTotalStockByProduct:t=>tr().filter(e=>e.productId===t).reduce((e,n)=>e*1+n.quantity*1,0),getLastLocationByProduct:t=>{const e=Mt().filter(n=>n.productId===t).sort((n,i)=>new Date(i.createdDate).getTime()-new Date(n.createdDate).getTime());if(e.length>0)return ur().find(n=>n.id===e[0].locationId)},getLowStockProducts:()=>(dr()||[])?.map(t=>{const e=tr().filter(n=>n.productId===t.id).reduce((n,i)=>n+i.quantity,0);return{...t,currentStock:e}}).filter(t=>t.currentStock<=t.minStockLevel),addInventoryMovement:t=>{const e={...t,id:`mov-${Date.now()}`,createdDate:new Date().toISOString()};Gr(n=>[...n,e]),Mr(Hr())},addBulkInventoryMovements:t=>{const e=[],n=[],i=new Date().toISOString(),l=ur().find(s=>s.id===t.locationId);if(!l)return{success:!1,errors:["Invalid location"]};let c;if(t.movementType==="transfer"){if(!t.fromLocationId)return{success:!1,errors:["From location required for transfers"]};if(c=ur().find(s=>s.id===t.fromLocationId),!c)return{success:!1,errors:["Invalid from location"]};if(t.fromLocationId===t.locationId)return{success:!1,errors:["From and to locations cannot be the same"]}}return t.items.forEach((s,a)=>{const d=dr().find(L=>L.id===s.productId);if(!d){e.push(`Item ${a+1}: Product not found`);return}if(s.quantity<=0){e.push(`Item ${a+1}: Quantity must be greater than 0`);return}if(t.movementType==="out"){const L=tr().filter(D=>D.productId===s.productId&&D.locationId===t.locationId).reduce((D,C)=>D+C.quantity,0);if(s.quantity>L){e.push(`Item ${a+1}: Insufficient stock. Available: ${L}, Requested: ${s.quantity}`);return}}if(t.movementType==="transfer"){const L=tr().filter(D=>D.productId===s.productId&&D.locationId===t.fromLocationId).reduce((D,C)=>D+C.quantity,0);if(s.quantity>L){e.push(`Item ${a+1}: Insufficient stock at ${c?.name}. Available: ${L}, Requested: ${s.quantity}`);return}}const v=s.unitCost||d.unitCost,f=s.quantity*v,T={id:`mov-${Date.now()}-${a}`,productId:d.id,productName:d.name,productSku:d.sku,locationId:t.locationId,locationName:l.name,movementType:t.movementType,quantity:s.quantity,unitCost:v,totalCost:f,minStock:10,referenceNumber:t.referenceNumber,notes:s.notes||t.generalNotes||"",createdBy:t.createdBy,createdDate:i,invoiceId:t.invoiceId,fromLocationId:t.fromLocationId,fromLocationName:c?.name};if(n.push(T),t.movementType==="transfer"&&c){const L={id:`mov-${Date.now()}-${a}-out`,productId:d.id,productName:d.name,productSku:d.sku,locationId:t.fromLocationId,locationName:c.name,movementType:"out",quantity:s.quantity,unitCost:v,totalCost:f,minStock:10,referenceNumber:t.referenceNumber,notes:`Transfer to ${l.name}`+(s.notes?` - ${s.notes}`:""),createdBy:t.createdBy,createdDate:i,invoiceId:t.invoiceId,toLocationId:t.locationId,toLocationName:l.name};n.push(L)}}),e.length>0?{success:!1,errors:e}:(Gr(s=>[...s,...n]),Mr(Hr()),{success:!0,errors:[]})},getMovementsByInvoice:t=>Mt().filter(e=>e.invoiceId===t),getInvoiceSummary:t=>{const e=Mt().filter(c=>c.invoiceId===t);if(e.length===0)return null;const n=e.reduce((c,s)=>c+s.totalCost,0),i=new Set(e.map(c=>c.productId)).size,l=e[0];return{invoiceId:t,referenceNumber:l.referenceNumber,movementType:l.movementType,location:l.locationName,fromLocation:l.fromLocationName,productCount:i,totalItems:e.reduce((c,s)=>c+s.quantity,0),totalValue:n,createdDate:l.createdDate,createdBy:l.createdBy}},addProduct:t=>{const e={...t,id:`prod-${Date.now()}`,createdDate:new Date().toISOString(),lastModified:new Date().toISOString()};lo(n=>[...n,e])},addLocation:t=>{const e={...t,id:`loc-${Date.now()}`,createdDate:new Date().toISOString()};so(n=>[...n,e])},updateProduct:(t,e)=>{lo(n=>n.map(i=>i.id===t?{...i,...e,lastModified:new Date().toISOString()}:i))},updateLocation:(t,e)=>{so(n=>n.map(i=>i.id===t?{...i,...e}:i))},updateMovement:(t,e)=>{Gr(n=>n.map(i=>i.id===t?{...i,...e,lastModified:new Date().toISOString()}:i)),Mr(Hr())},get inventory(){return Jr()},addItem(t){const e={...t,id:Date.now().toString(),lastUpdated:new Date().toISOString().split("T")[0]};return hn([...Jr(),e]),e},updateItem(t,e){hn(Jr().map(n=>n.id===t?{...n,...e,lastUpdated:new Date().toISOString().split("T")[0]}:n))},deleteItem(t){hn(Jr().filter(e=>e.id!==t))},getItemById(t){return Mt().find(e=>e.id===t)},getLowStockItems(){return Mt().filter(t=>t.quantity*1<=t.minStock*1)},getTotalValue(){return Mt().reduce((t,e)=>t*1+e.unitCost*1*e.quantity*1,0)}};var ao=_("<div>"),ta=_("<div><div><input type=text autocomplete=off>"),ra=_("<button type=button>+"),na=_("<div><div><div><div></div><div><span>: </span><span>•</span><span></span><span>•</span><span></span></div></div><div><div> </div><div>");const Ko=t=>{const{t:e}=We(),[n,i]=ne(!1),[l,c]=ne(""),[s,a]=ne(-1),d=Fe(()=>t.value?Le.getProductById(t.value):null),v=Fe(()=>{const h=l().toLowerCase();return h?Le.getActiveProducts().filter(u=>u.name.toLowerCase().includes(h)||u.sku.toLowerCase().includes(h)||u.category.toLowerCase().includes(h)):Le.getActiveProducts()}),f=()=>{i(!0),c(""),a(-1)},T=h=>{const u=h.target;c(u.value),i(!0),a(-1)},L=h=>{t.onChange(h.id),i(!1),c(""),a(-1)},D=h=>{const u=v();switch(h.key){case"ArrowDown":h.preventDefault(),a(A=>Math.min(A+1,u.length-1));break;case"ArrowUp":h.preventDefault(),a(A=>Math.max(A-1,-1));break;case"Enter":h.preventDefault(),s()>=0&&u[s()]&&L(u[s()]);break;case"Escape":i(!1),c(""),a(-1);break}},C=h=>{setTimeout(()=>{i(!1),c(""),a(-1)},150)},$=h=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(h),x=h=>Le.stockLevels.filter(u=>u.productId===h).reduce((u,A)=>u+A.quantity,0),b={position:"relative",width:"100%",...t.style},O={width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)",cursor:t.disabled?"not-allowed":"text",opacity:t.disabled?"0.6":"1"},oe={position:"absolute",top:"100%",left:"0",right:"0","z-index":"1000","max-height":"300px","overflow-y":"auto",background:"var(--surface-color)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","box-shadow":"0 4px 12px rgba(0,0,0,0.15)","margin-top":"2px"},q=h=>({padding:"0.75rem",cursor:"pointer","border-bottom":"1px solid "+h?"var(--primary-color)":"var(--border-color)",background:h?"var(--strip-color)":"transparent",color:h?"var(--primary-color)":"var(--text-primary)",transition:"all 0.2s ease"}),ce={display:"flex","justify-content":"space-between","align-items":"center"},Z={flex:"1"},ue={"font-weight":"500","margin-bottom":"0.25rem"},ye={"font-size":"0.875rem",color:"var(--text-muted)",display:"flex",gap:"0.5rem"},X={"text-align":"right","font-size":"0.875rem"},Y={padding:"1rem","text-align":"center",color:"var(--text-muted)","font-style":"italic"},W=()=>n()&&l()?l():d()?`${d().name} (${d().sku})`:"",J={display:"flex","align-items":"stretch",width:"100%"},m={padding:"0.75rem",border:"1px solid var(--border-color)","border-left":"none","border-radius":"0 var(--border-radius-sm) var(--border-radius-sm) 0",background:"var(--surface-color)",cursor:"pointer",color:"var(--primary-color)","font-weight":"600","font-size":"1rem",transition:"all 0.2s ease","min-width":"40px",display:"flex","align-items":"center","justify-content":"center"},I={...O,"border-radius":t.onAddNew?"var(--border-radius-sm) 0 0 var(--border-radius-sm)":"var(--border-radius-sm)","border-right":t.onAddNew?"none":"1px solid var(--border-color)"};return(()=>{var h=ta(),u=h.firstChild,A=u.firstChild;return o(u,J),A.addEventListener("blur",C),A.$$keydown=D,A.$$click=f,A.$$input=T,r(u,(()=>{var S=U(()=>!!t.onAddNew);return()=>S()&&(()=>{var w=ra();return w.addEventListener("mouseleave",k=>{k.currentTarget.style.background="var(--surface-color)",k.currentTarget.style.color="var(--primary-color)"}),w.addEventListener("mouseenter",k=>{k.currentTarget.style.background="var(--primary-color)",k.currentTarget.style.color="white"}),lr(w,"click",t.onAddNew,!0),o(w,m),j(()=>Ze(w,"title",e("inventory.addProduct","Add new product"))),w})()})(),null),r(h,y(Ue,{get when(){return n()},get children(){var S=ao();return r(S,y(Ue,{get when(){return v().length>0},get fallback(){return(()=>{var w=ao();return o(w,Y),r(w,(()=>{var k=U(()=>!!l());return()=>k()?e("inventory.noProductsFound","No products found matching your search."):e("inventory.noProductsAvailable","No products available.")})()),w})()},get children(){return y(ct,{get each(){return v()},children:(w,k)=>{const E=x(w.id),de=E<=w.minStockLevel;return(()=>{var P=na(),z=P.firstChild,te=z.firstChild,H=te.firstChild,Q=H.nextSibling,ee=Q.firstChild,ie=ee.firstChild,le=ee.nextSibling,R=le.nextSibling,K=R.nextSibling,pe=K.nextSibling,fe=te.nextSibling,M=fe.firstChild,F=M.firstChild,N=M.nextSibling;return P.addEventListener("mouseenter",()=>a(k())),P.$$click=()=>L(w),o(z,ce),o(te,Z),o(H,ue),r(H,()=>w.name),o(Q,ye),r(ee,()=>e("inventory.sku","SKU"),ie),r(ee,()=>w.sku,null),r(R,()=>w.category),r(pe,()=>$(w.unitCost)),o(fe,X),M.style.setProperty("font-weight","600"),(de?"#f44336":"var(--text-primary)")!=null?M.style.setProperty("color",de?"#f44336":"var(--text-primary)"):M.style.removeProperty("color"),r(M,E,F),r(M,()=>w.unitOfMeasure,null),N.style.setProperty("color","var(--text-muted)"),r(N,()=>de?e("inventory.lowStock","Low Stock"):e("inventory.inStock","In Stock")),j(ae=>o(P,q(k()===s()),ae)),P})()}})}})),j(w=>o(S,oe,w)),S}}),null),j(S=>{var w=b,k=I,E=t.placeholder||e("inventory.searchProducts","Search products by name, SKU, or category..."),de=t.disabled,P=t.required;return S.e=o(h,w,S.e),S.t=o(A,k,S.t),E!==S.a&&Ze(A,"placeholder",S.a=E),de!==S.o&&(A.disabled=S.o=de),P!==S.i&&(A.required=S.i=P),S},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),j(()=>A.value=W()),h})()};ut(["input","click","keydown"]);var co=_("<div>"),oa=_("<div><div><input type=text autocomplete=off>"),ia=_("<button type=button>+"),la=_("<div><div><div><div> </div><div><span>: </span><span></span></div><div>");const an=t=>{const{t:e}=We(),[n,i]=ne(!1),[l,c]=ne(""),[s,a]=ne(-1),d=Fe(()=>t.value?Le.getLocationById(t.value):null),v=Fe(()=>{let h=Le.getActiveLocations();t.filterType&&(h=h.filter(A=>A.type===t.filterType));const u=l().toLowerCase();return u?h.filter(A=>A.name.toLowerCase().includes(u)||A.code.toLowerCase().includes(u)||A.type.toLowerCase().includes(u)||A.address.toLowerCase().includes(u)):h}),f=()=>{i(!0),c(""),a(-1)},T=h=>{const u=h.target;c(u.value),i(!0),a(-1)},L=h=>{t.onChange(h.id),i(!1),c(""),a(-1)},D=h=>{const u=v();switch(h.key){case"ArrowDown":h.preventDefault(),a(A=>Math.min(A+1,u.length-1));break;case"ArrowUp":h.preventDefault(),a(A=>Math.max(A-1,-1));break;case"Enter":h.preventDefault(),s()>=0&&u[s()]&&L(u[s()]);break;case"Escape":i(!1),c(""),a(-1);break}},C=h=>{setTimeout(()=>{i(!1),c(""),a(-1)},150)},$=h=>({warehouse:"🏭",store:"🏪",supplier:"🚚",customer:"👥"})[h]||"📍",x=h=>({warehouse:"#2196F3",store:"#4CAF50",supplier:"#FF9800",customer:"#9C27B0"})[h]||"#757575",b={position:"relative",width:"100%",...t.style},O={width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)",cursor:t.disabled?"not-allowed":"text",opacity:t.disabled?"0.6":"1"},oe={display:"flex","align-items":"stretch",width:"100%"},q={padding:"0.75rem",border:"1px solid var(--border-color)","border-left":"none","border-radius":"0 var(--border-radius-sm) var(--border-radius-sm) 0",background:"var(--surface-color)",cursor:"pointer",color:"var(--primary-color)","font-weight":"600","font-size":"1rem",transition:"all 0.2s ease","min-width":"40px",display:"flex","align-items":"center","justify-content":"center"},ce={...O,"border-radius":t.onAddNew?"var(--border-radius-sm) 0 0 var(--border-radius-sm)":"var(--border-radius-sm)","border-right":t.onAddNew?"none":"1px solid var(--border-color)"},Z={position:"absolute",top:"100%",left:"0",right:"0","z-index":"1000","max-height":"300px","overflow-y":"auto",background:"var(--surface-color)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","box-shadow":"0 4px 12px rgba(0,0,0,0.15)","margin-top":"2px"},ue=h=>({padding:"0.75rem",cursor:"pointer","border-bottom":"1px solid var(--border-color)",background:h?"var(--strip-color)":"transparent",color:h?"var(--primary-dark)":"var(--text-primary)",transition:"all 0.2s ease"}),ye={display:"flex","justify-content":"space-between","align-items":"center"},X={flex:"1"},Y={"font-weight":"500","margin-bottom":"0.25rem"},W={"font-size":"0.875rem",color:"var(--text-muted)",display:"flex",gap:"0.5rem","align-items":"center"},J=h=>({padding:"0.2rem 0.5rem","border-radius":"var(--border-radius-sm)","font-size":"0.7rem","font-weight":"500",background:x(h),color:"white","text-transform":"uppercase"}),m={padding:"1rem","text-align":"center",color:"var(--text-muted)","font-style":"italic"},I=()=>n()&&l()?l():d()?`${d().name} (${d().code})`:"";return(()=>{var h=oa(),u=h.firstChild,A=u.firstChild;return o(u,oe),A.addEventListener("blur",C),A.$$keydown=D,A.$$click=f,A.$$input=T,r(u,(()=>{var S=U(()=>!!t.onAddNew);return()=>S()&&(()=>{var w=ia();return w.addEventListener("mouseleave",k=>{k.currentTarget.style.background="var(--surface-color)",k.currentTarget.style.color="var(--primary-color)"}),w.addEventListener("mouseenter",k=>{k.currentTarget.style.background="var(--primary-color)",k.currentTarget.style.color="white"}),lr(w,"click",t.onAddNew,!0),o(w,q),j(()=>Ze(w,"title",e("inventory.addLocation","Add new location"))),w})()})(),null),r(h,y(Ue,{get when(){return n()},get children(){var S=co();return r(S,y(Ue,{get when(){return v().length>0},get fallback(){return(()=>{var w=co();return o(w,m),r(w,(()=>{var k=U(()=>!!l());return()=>k()?e("inventory.noLocationsFound","No locations found matching your search."):e("inventory.noLocationsAvailable","No locations available.")})()),w})()},get children(){return y(ct,{get each(){return v()},children:(w,k)=>(()=>{var E=la(),de=E.firstChild,P=de.firstChild,z=P.firstChild,te=z.firstChild,H=z.nextSibling,Q=H.firstChild,ee=Q.firstChild,ie=Q.nextSibling,le=H.nextSibling;return E.addEventListener("mouseenter",()=>a(k())),E.$$click=()=>L(w),o(de,ye),o(P,X),o(z,Y),r(z,()=>$(w.type),te),r(z,()=>w.name,null),o(H,W),r(Q,()=>e("inventory.locationCode","Code"),ee),r(Q,()=>w.code,null),r(ie,()=>w.type),le.style.setProperty("font-size","0.75rem"),le.style.setProperty("color","var(--text-muted)"),le.style.setProperty("margin-top","0.25rem"),r(le,()=>w.address),j(R=>{var K=ue(k()===s()),pe=J(w.type);return R.e=o(E,K,R.e),R.t=o(ie,pe,R.t),R},{e:void 0,t:void 0}),E})()})}})),j(w=>o(S,Z,w)),S}}),null),j(S=>{var w=b,k=ce,E=t.placeholder||e("inventory.searchLocations","Search locations by name, code, or type..."),de=t.disabled,P=t.required;return S.e=o(h,w,S.e),S.t=o(A,k,S.t),E!==S.a&&Ze(A,"placeholder",S.a=E),de!==S.o&&(A.disabled=S.o=de),P!==S.i&&(A.required=S.i=P),S},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),j(()=>A.value=I()),h})()};ut(["input","click","keydown"]);var sa=_("<form><div><label> *</label><input type=text required></div><div><div><label> *</label><input type=text required></div><div><label> *</label><input type=text list=categories required><datalist id=categories><option value=Electronics></option><option value=Accessories></option><option value=Office></option><option value=Furniture></option><option value=Software></option><option value=Hardware></option></datalist></div></div><div><label></label><textarea></textarea></div><div><div><label></label><select><option value=pcs></option><option value=kg></option><option value=lbs></option><option value=m></option><option value=ft></option><option value=l></option><option value=gal></option><option value=box></option><option value=pack></option></select></div><div><label></label><input type=number min=0 step=0.01 placeholder=0.00></div></div><div><div><label></label><input type=number min=0 step=0.01 placeholder=0.00></div><div></div></div><div><div><label></label><input type=number min=0 step=1></div><div><label></label><input type=number min=1 step=1></div></div><div>"),aa=_("<div>");const un=t=>{const{t:e}=We(),[n,i]=ne(""),[l,c]=ne(""),[s,a]=ne(""),[d,v]=ne(""),[f,T]=ne("pcs"),[L,D]=ne(0),[C,$]=ne(0),[x,b]=ne(10),[O,oe]=ne(100),[q,ce]=ne(""),Z=()=>{i(""),c(""),a(""),v(""),T("pcs"),D(0),$(0),b(10),oe(100),ce("")},ue=u=>{if(u.preventDefault(),ce(""),!n().trim()){ce(e("forms.productNameRequired"));return}if(!l().trim()){ce(e("forms.skuRequired"));return}if(!d().trim()){ce(e("forms.categoryRequired"));return}if(L()<0){ce(e("forms.unitCostNotNegative"));return}if(C()<0){ce(e("forms.sellingPriceNotNegative"));return}if(x()<0){ce(e("forms.minStockNotNegative"));return}if(O()<=x()){ce(e("forms.maxStockGreaterThanMin"));return}if(Le.getProductsBySku(l()).length>0){ce(e("forms.skuAlreadyExists"));return}const S={name:n().trim(),sku:l().trim().toUpperCase(),description:s().trim(),category:d().trim(),unitOfMeasure:f(),unitCost:L(),sellingPrice:C(),minStockLevel:x(),maxStockLevel:O(),isActive:!0,businessId:"default-business"};Le.addProduct(S);const w=`prod-${Date.now()}`;t.onProductAdded&&t.onProductAdded(w),Z(),t.onClose()},ye=()=>{Z(),t.onClose()},X={"margin-bottom":"1.5rem"},Y={display:"block","margin-bottom":"0.5rem","font-weight":"500",color:"var(--text-primary)"},W={width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)"},J={...W,cursor:"pointer"},m={color:"#f44336","font-size":"0.875rem","margin-bottom":"1rem"},I={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},h={display:"grid","grid-template-columns":"1fr 1fr",gap:"1rem"};return y($t,{get isOpen(){return t.isOpen},onClose:ye,get title(){return e("inventory.addNewProduct")},get children(){var u=sa(),A=u.firstChild,S=A.firstChild,w=S.firstChild,k=S.nextSibling,E=A.nextSibling,de=E.firstChild,P=de.firstChild,z=P.firstChild,te=P.nextSibling,H=de.nextSibling,Q=H.firstChild,ee=Q.firstChild,ie=Q.nextSibling,le=E.nextSibling,R=le.firstChild,K=R.nextSibling,pe=le.nextSibling,fe=pe.firstChild,M=fe.firstChild,F=M.nextSibling,N=F.firstChild,ae=N.nextSibling,re=ae.nextSibling,ve=re.nextSibling,ge=ve.nextSibling,g=ge.nextSibling,p=g.nextSibling,G=p.nextSibling,me=G.nextSibling,V=fe.nextSibling,se=V.firstChild,B=se.nextSibling,be=pe.nextSibling,xe=be.firstChild,Se=xe.firstChild,_e=Se.nextSibling,Ee=be.nextSibling,Me=Ee.firstChild,$e=Me.firstChild,Ce=$e.nextSibling,De=Me.nextSibling,Te=De.firstChild,Be=Te.nextSibling,Re=Ee.nextSibling;return u.addEventListener("submit",ue),r(S,()=>e("inventory.productName"),w),k.addEventListener("change",Pe=>i(Pe.target.value)),r(P,()=>e("inventory.sku"),z),te.addEventListener("change",Pe=>c(Pe.target.value)),r(Q,()=>e("inventory.category"),ee),ie.addEventListener("change",Pe=>v(Pe.target.value)),r(R,()=>e("common.description")),K.addEventListener("change",Pe=>a(Pe.target.value)),r(M,()=>e("inventory.unitOfMeasure")),F.addEventListener("change",Pe=>T(Pe.target.value)),r(N,()=>e("inventory.pieces")),r(ae,()=>e("inventory.kilograms")),r(re,()=>e("inventory.pounds")),r(ve,()=>e("inventory.meters")),r(ge,()=>e("inventory.feet")),r(g,()=>e("inventory.liters")),r(p,()=>e("inventory.gallons")),r(G,()=>e("inventory.boxes")),r(me,()=>e("inventory.packs")),r(se,()=>e("inventory.unitCost")),B.addEventListener("change",Pe=>D(Number(Pe.target.value))),r(Se,()=>e("inventory.sellingPrice")),_e.addEventListener("change",Pe=>$(Number(Pe.target.value))),r($e,()=>e("inventory.minimumStockLevel")),Ce.addEventListener("change",Pe=>b(Number(Pe.target.value))),r(Te,()=>e("inventory.maximumStockLevel")),Be.addEventListener("change",Pe=>oe(Number(Pe.target.value))),r(u,(()=>{var Pe=U(()=>!!q());return()=>Pe()&&(()=>{var qe=aa();return o(qe,m),r(qe,q),qe})()})(),Re),o(Re,I),r(Re,y(Ae,{variant:"secondary",type:"button",onClick:ye,get children(){return e("common.cancel")}}),null),r(Re,y(Ae,{variant:"primary",type:"submit",get children(){return e("inventory.addProduct")}}),null),j(Pe=>{var qe=X,Ke=Y,Ge=W,he=e("inventory.enterProductName"),He=h,rt=Y,tt=W,ot=e("inventory.enterSkuCode"),Qe=Y,at=W,yt=e("inventory.enterCategory"),ke=X,Ie=Y,Oe={...W,"min-height":"80px",resize:"vertical"},je=e("inventory.enterProductDescription"),Ye=h,Ve=Y,nt=J,we=Y,Xe=W,vt=h,wt=Y,ht=W,pt=h,xt=Y,St=W,Dt=Y,At=W;return Pe.e=o(A,qe,Pe.e),Pe.t=o(S,Ke,Pe.t),Pe.a=o(k,Ge,Pe.a),he!==Pe.o&&Ze(k,"placeholder",Pe.o=he),Pe.i=o(E,He,Pe.i),Pe.n=o(P,rt,Pe.n),Pe.s=o(te,tt,Pe.s),ot!==Pe.h&&Ze(te,"placeholder",Pe.h=ot),Pe.r=o(Q,Qe,Pe.r),Pe.d=o(ie,at,Pe.d),yt!==Pe.l&&Ze(ie,"placeholder",Pe.l=yt),Pe.u=o(le,ke,Pe.u),Pe.c=o(R,Ie,Pe.c),Pe.w=o(K,Oe,Pe.w),je!==Pe.m&&Ze(K,"placeholder",Pe.m=je),Pe.f=o(pe,Ye,Pe.f),Pe.y=o(M,Ve,Pe.y),Pe.g=o(F,nt,Pe.g),Pe.p=o(se,we,Pe.p),Pe.b=o(B,Xe,Pe.b),Pe.T=o(be,vt,Pe.T),Pe.A=o(Se,wt,Pe.A),Pe.O=o(_e,ht,Pe.O),Pe.I=o(Ee,pt,Pe.I),Pe.S=o($e,xt,Pe.S),Pe.W=o(Ce,St,Pe.W),Pe.C=o(Te,Dt,Pe.C),Pe.B=o(Be,At,Pe.B),Pe},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0,O:void 0,I:void 0,S:void 0,W:void 0,C:void 0,B:void 0}),j(()=>k.value=n()),j(()=>te.value=l()),j(()=>ie.value=d()),j(()=>K.value=s()),j(()=>F.value=f()),j(()=>B.value=L()),j(()=>_e.value=C()),j(()=>Ce.value=x()),j(()=>Be.value=O()),u}})};var ca=_('<form><div><label> *</label><input type=text required></div><div><div><label> *<button type=button title="Generate code automatically"></button></label><input type=text required><div></div></div><div><label> *</label><select required><option value=warehouse> </option><option value=store> </option><option value=supplier> </option><option value=customer> </option></select><div></div></div></div><div><label> *</label><textarea required></textarea></div><div>'),da=_("<div><div>:</div><div><span></span><div><div></div><div>"),ua=_("<div>");const Vn=t=>{const{t:e}=We(),[n,i]=ne(""),[l,c]=ne(""),[s,a]=ne("warehouse"),[d,v]=ne(""),[f,T]=ne(""),L=()=>{i(""),c(""),a("warehouse"),v(""),T("")},D=()=>{if(n()){const W=s()==="warehouse"?"WH":s()==="store"?"ST":s()==="supplier"?"SUP":"CUST",J=n().toUpperCase().replace(/[^A-Z0-9]/g,"").substring(0,3),m=String(Math.floor(Math.random()*1e3)).padStart(3,"0");c(`${W}-${J}-${m}`)}},C=W=>{if(W.preventDefault(),T(""),!n().trim()){T(e("forms.locationNameRequired"));return}if(!l().trim()){T(e("forms.locationCodeRequired"));return}if(!d().trim()){T(e("forms.addressRequired"));return}if(Le.locations.filter(h=>h.code.toLowerCase()===l().toLowerCase()).length>0){T(e("forms.locationCodeExists"));return}const m={name:n().trim(),code:l().trim().toUpperCase(),type:s(),address:d().trim(),isActive:!0};Le.addLocation(m);const I=`loc-${Date.now()}`;t.onLocationAdded&&t.onLocationAdded(I),L(),t.onClose()},$=()=>{L(),t.onClose()},x={"margin-bottom":"1.5rem"},b={display:"block","margin-bottom":"0.5rem","font-weight":"500",color:"var(--text-primary)"},O={width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)"},oe={...O,cursor:"pointer"},q={color:"#f44336","font-size":"0.875rem","margin-bottom":"1rem"},ce={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},Z={display:"grid","grid-template-columns":"2fr 1fr",gap:"1rem"},ue={"font-size":"0.875rem",color:"var(--text-muted)","margin-top":"0.25rem"},ye={padding:"0.25rem 0.5rem","font-size":"0.75rem","margin-left":"0.5rem",background:"var(--background-color)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)",cursor:"pointer",color:"var(--text-muted)"},X=W=>({warehouse:"🏭",store:"🏪",supplier:"🚚",customer:"👥"})[W]||"📍",Y=W=>({warehouse:e("inventory.warehouseDescription"),store:e("inventory.storeDescription"),supplier:e("inventory.supplierDescription"),customer:e("inventory.customerDescription")})[W]||"";return y($t,{get isOpen(){return t.isOpen},onClose:$,get title(){return e("inventory.addNewLocation")},get children(){var W=ca(),J=W.firstChild,m=J.firstChild,I=m.firstChild,h=m.nextSibling,u=J.nextSibling,A=u.firstChild,S=A.firstChild,w=S.firstChild,k=w.nextSibling,E=S.nextSibling,de=E.nextSibling,P=A.nextSibling,z=P.firstChild,te=z.firstChild,H=z.nextSibling,Q=H.firstChild,ee=Q.firstChild,ie=Q.nextSibling,le=ie.firstChild,R=ie.nextSibling,K=R.firstChild,pe=R.nextSibling,fe=pe.firstChild,M=H.nextSibling,F=u.nextSibling,N=F.firstChild,ae=N.firstChild,re=N.nextSibling,ve=F.nextSibling;return W.addEventListener("submit",C),r(m,()=>e("inventory.locationName"),I),h.addEventListener("change",ge=>i(ge.target.value)),o(u,Z),r(S,()=>e("inventory.locationCode"),w),k.$$click=D,o(k,ye),r(k,()=>e("common.generate")),E.addEventListener("change",ge=>c(ge.target.value)),r(de,()=>e("inventory.uniqueIdentifierHelp")),r(z,()=>e("inventory.locationType"),te),H.addEventListener("change",ge=>a(ge.target.value)),r(Q,()=>X("warehouse"),ee),r(Q,()=>e("inventory.warehouse"),null),r(ie,()=>X("store"),le),r(ie,()=>e("inventory.store"),null),r(R,()=>X("supplier"),K),r(R,()=>e("inventory.supplier"),null),r(pe,()=>X("customer"),fe),r(pe,()=>e("inventory.customer"),null),r(M,()=>Y(s())),r(N,()=>e("common.address"),ae),re.addEventListener("change",ge=>v(ge.target.value)),r(W,(()=>{var ge=U(()=>!!n());return()=>ge()&&(()=>{var g=da(),p=g.firstChild,G=p.firstChild,me=p.nextSibling,V=me.firstChild,se=V.nextSibling,B=se.firstChild,be=B.nextSibling;return g.style.setProperty("padding","1rem"),g.style.setProperty("background","var(--background-color)"),g.style.setProperty("border-radius","var(--border-radius-sm)"),g.style.setProperty("border","1px solid var(--border-color)"),g.style.setProperty("margin-bottom","1rem"),p.style.setProperty("font-weight","500"),p.style.setProperty("margin-bottom","0.5rem"),r(p,()=>e("common.preview"),G),me.style.setProperty("display","flex"),me.style.setProperty("align-items","center"),me.style.setProperty("gap","0.5rem"),V.style.setProperty("font-size","1.2rem"),r(V,()=>X(s())),B.style.setProperty("font-weight","600"),r(B,n),be.style.setProperty("font-size","0.875rem"),be.style.setProperty("color","var(--text-muted)"),r(be,(()=>{var xe=U(()=>!!l());return()=>xe()&&`${l()} • `})(),null),r(be,s,null),g})()})(),ve),r(W,(()=>{var ge=U(()=>!!f());return()=>ge()&&(()=>{var g=ua();return o(g,q),r(g,f),g})()})(),ve),o(ve,ce),r(ve,y(Ae,{variant:"secondary",type:"button",onClick:$,get children(){return e("common.cancel")}}),null),r(ve,y(Ae,{variant:"primary",type:"submit",get children(){return e("inventory.addLocation")}}),null),j(ge=>{var g=x,p=b,G=O,me=e("inventory.enterLocationName"),V=b,se=O,B=e("inventory.enterUniqueCode"),be=ue,xe=b,Se=oe,_e=ue,Ee=x,Me=b,$e={...O,"min-height":"100px",resize:"vertical"},Ce=e("inventory.enterCompleteAddress");return ge.e=o(J,g,ge.e),ge.t=o(m,p,ge.t),ge.a=o(h,G,ge.a),me!==ge.o&&Ze(h,"placeholder",ge.o=me),ge.i=o(S,V,ge.i),ge.n=o(E,se,ge.n),B!==ge.s&&Ze(E,"placeholder",ge.s=B),ge.h=o(de,be,ge.h),ge.r=o(z,xe,ge.r),ge.d=o(H,Se,ge.d),ge.l=o(M,_e,ge.l),ge.u=o(F,Ee,ge.u),ge.c=o(N,Me,ge.c),ge.w=o(re,$e,ge.w),Ce!==ge.m&&Ze(re,"placeholder",ge.m=Ce),ge},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0}),j(()=>h.value=n()),j(()=>E.value=l()),j(()=>H.value=s()),j(()=>re.value=d()),W}})};ut(["click"]);var ya=_("<form><div>"),uo=_("<div><label> *"),ma=_("<div><label> *</label><select required><option value=in></option><option value=out></option><option value=transfer></option><option value=adjustment>"),va=_("<div><label>"),ga=_("<div><label> *</label><input type=number min=0 step=1 required>"),pa=_("<div><label></label><input type=number min=0 step=0.01>"),fa=_("<div><label></label><input type=text>"),ba=_("<div><label></label><textarea>"),ha=_("<div><div><span>:</span><span> </span></div><div><span>:</span><span></span></div><div><span>:</span><span> "),Sa=_("<div><div><span>:</span><span>"),Pa=_("<div>");const $a=t=>{const{t:e}=We(),[n,i]=ne({name:"",price:"",quantity:"",category:"",description:"",sku:"",supplier:"",minStock:"",location:""}),[l,c]=ne(""),[s,a]=ne(""),[d,v]=ne("in"),[f,T]=ne(0),[L,D]=ne(0),[C,$]=ne(""),[x,b]=ne(""),[O,oe]=ne(""),[q,ce]=ne(""),[Z,ue]=ne(!1),[ye,X]=ne(!1),Y=()=>t.mode==="movement",W=Fe(()=>l()?Le.getProductById(l()):null),J=Fe(()=>s()?Le.getLocationById(s()):null),m=Fe(()=>O()?Le.getLocationById(O()):null),I=Fe(()=>f()*L()),h=Fe(()=>!l()||!s()?0:Le.getStockByProductAndLocation(l(),s())?.quantity||0),u=[{value:"Electronics",label:"Electronics"},{value:"Accessories",label:"Accessories"},{value:"Furniture",label:"Furniture"},{value:"Office Supplies",label:"Office Supplies"},{value:"Software",label:"Software"},{value:"Hardware",label:"Hardware"},{value:"Consumables",label:"Consumables"}],A=[{value:"Warehouse A",label:"Warehouse A"},{value:"Warehouse B",label:"Warehouse B"},{value:"Warehouse C",label:"Warehouse C"},{value:"Storage Room",label:"Storage Room"},{value:"Main Office",label:"Main Office"}],S={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},w=()=>{c(""),a(""),v("in"),T(0),D(0),$(""),b(""),oe(""),ce("")},k=()=>{i({name:"",price:"",quantity:"",category:"",description:"",sku:"",supplier:"",minStock:"",location:""})},E=pe=>{if(pe.preventDefault(),Y()){if(ce(""),!l()){ce(e("forms.selectProduct"));return}if(!s()){ce(e("forms.selectLocation"));return}if(f()<=0){ce(e("forms.quantityGreaterThanZero"));return}if(L()<0){ce(e("forms.unitCostNotNegative"));return}if(d()==="transfer"&&!O()){ce(e("forms.selectFromLocation"));return}if(d()==="transfer"&&O()===s()){ce(e("forms.sameLocationError"));return}if(d()==="out"&&f()>h()){ce(e("forms.insufficientStock",{currentStock:h()}));return}const fe=W(),M=J(),F={productId:fe.id,productName:fe.name,productSku:fe.sku,locationId:M.id,locationName:M.name,movementType:d(),quantity:f(),unitCost:L()||fe.unitCost,totalCost:I()||f()*fe.unitCost,referenceNumber:C()||`AUTO-${Date.now()}`,notes:x(),createdBy:"admin",fromLocationId:d()==="transfer"?O():void 0,fromLocationName:d()==="transfer"?m()?.name:void 0};Le.addInventoryMovement(F),w()}else{const fe=n();if(!fe.name||!fe.price||!fe.quantity||!fe.category||!fe.sku||!fe.supplier||!fe.minStock||!fe.location){alert(e("forms.fillAllRequired"));return}const M={name:fe.name,price:parseFloat(fe.price),quantity:parseInt(fe.quantity),category:fe.category,description:fe.description,sku:fe.sku,supplier:fe.supplier,minStock:parseInt(fe.minStock),location:fe.location};Le.addItem(M),k()}t.onClose()},de=(pe,fe)=>{i(M=>({...M,[pe]:fe}))},P=()=>{Y()?w():k(),t.onClose()},z=pe=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(pe),te={width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)"},H={...te,cursor:"pointer"},Q={color:"#f44336","font-size":"0.875rem","margin-top":"0.5rem"},ee={padding:"1rem",background:"var(--background-color)","border-radius":"var(--border-radius-sm)",border:"1px solid var(--border-color)","margin-bottom":"1rem"},ie={display:"flex","justify-content":"space-between","margin-bottom":"0.5rem"},le={"font-weight":"500",color:"var(--text-muted)"},R={"font-weight":"600",color:"var(--text-primary)"},K=()=>Y()?e("inventory.addMovement"):e("inventory.addNewItem");return y($t,{get isOpen(){return t.isOpen},onClose:P,get title(){return K()},get children(){return[(()=>{var pe=ya(),fe=pe.firstChild;return pe.addEventListener("submit",E),r(pe,(()=>{var M=U(()=>!!Y());return()=>M()?[(()=>{var F=uo(),N=F.firstChild,ae=N.firstChild;return F.style.setProperty("margin-bottom","1.5rem"),N.style.setProperty("display","block"),N.style.setProperty("margin-bottom","0.5rem"),N.style.setProperty("font-weight","500"),r(N,()=>e("inventory.product"),ae),r(F,y(Ko,{get value(){return l()},onChange:re=>{c(re);const ve=Le.getProductById(re);ve&&D(ve.unitCost)},get placeholder(){return e("inventory.searchProductsPlaceholder")},onAddNew:()=>ue(!0),required:!0}),null),F})(),(()=>{var F=ma(),N=F.firstChild,ae=N.firstChild,re=N.nextSibling,ve=re.firstChild,ge=ve.nextSibling,g=ge.nextSibling,p=g.nextSibling;return F.style.setProperty("margin-bottom","1.5rem"),N.style.setProperty("display","block"),N.style.setProperty("margin-bottom","0.5rem"),N.style.setProperty("font-weight","500"),r(N,()=>e("inventory.movementType"),ae),re.addEventListener("change",G=>v(G.target.value)),r(ve,()=>e("inventory.stockInPurchase")),r(ge,()=>e("inventory.stockOutSale")),r(g,()=>e("inventory.transferBetween")),r(p,()=>e("inventory.stockAdjustment")),j(G=>o(re,H,G)),j(()=>re.value=d()),F})(),U(()=>U(()=>d()==="transfer")()&&(()=>{var F=uo(),N=F.firstChild,ae=N.firstChild;return F.style.setProperty("margin-bottom","1.5rem"),N.style.setProperty("display","block"),N.style.setProperty("margin-bottom","0.5rem"),N.style.setProperty("font-weight","500"),r(N,()=>e("inventory.fromLocation"),ae),r(F,y(an,{get value(){return O()},onChange:re=>oe(re),get placeholder(){return e("inventory.searchSourceLocation")},onAddNew:()=>X(!0),required:!0}),null),F})()),(()=>{var F=va(),N=F.firstChild;return F.style.setProperty("margin-bottom","1.5rem"),N.style.setProperty("display","block"),N.style.setProperty("margin-bottom","0.5rem"),N.style.setProperty("font-weight","500"),r(N,(()=>{var ae=U(()=>d()==="transfer");return()=>ae()?e("inventory.toLocation")+" *":e("inventory.locationName")+" *"})()),r(F,y(an,{get value(){return s()},onChange:ae=>a(ae),get placeholder(){return U(()=>d()==="transfer")()?e("inventory.searchDestinationLocation"):e("inventory.searchLocation")},onAddNew:()=>X(!0),required:!0}),null),F})(),U(()=>U(()=>!!(W()&&J()))()&&(()=>{var F=ha(),N=F.firstChild,ae=N.firstChild,re=ae.firstChild,ve=ae.nextSibling,ge=ve.firstChild,g=N.nextSibling,p=g.firstChild,G=p.firstChild,me=p.nextSibling,V=g.nextSibling,se=V.firstChild,B=se.firstChild,be=se.nextSibling,xe=be.firstChild;return r(ae,()=>e("inventory.currentStockAt",{location:J()?.name}),re),r(ve,h,ge),r(ve,()=>W()?.unitOfMeasure,null),r(p,()=>e("inventory.productCost"),G),r(me,()=>z(W()?.unitCost||0)),r(se,()=>e("inventory.minStockLevel"),B),r(be,()=>W()?.minStockLevel,xe),r(be,()=>W()?.unitOfMeasure,null),j(Se=>{var _e=ee,Ee=ie,Me=le,$e=R,Ce=ie,De=le,Te=R,Be=ie,Re=le,Pe=R;return Se.e=o(F,_e,Se.e),Se.t=o(N,Ee,Se.t),Se.a=o(ae,Me,Se.a),Se.o=o(ve,$e,Se.o),Se.i=o(g,Ce,Se.i),Se.n=o(p,De,Se.n),Se.s=o(me,Te,Se.s),Se.h=o(V,Be,Se.h),Se.r=o(se,Re,Se.r),Se.d=o(be,Pe,Se.d),Se},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0}),F})()),(()=>{var F=ga(),N=F.firstChild,ae=N.firstChild,re=N.nextSibling;return F.style.setProperty("margin-bottom","1.5rem"),N.style.setProperty("display","block"),N.style.setProperty("margin-bottom","0.5rem"),N.style.setProperty("font-weight","500"),r(N,()=>e("inventory.quantity"),ae),re.addEventListener("change",ve=>T(Number(ve.target.value))),j(ve=>o(re,te,ve)),j(()=>re.value=f()),F})(),(()=>{var F=pa(),N=F.firstChild,ae=N.nextSibling;return F.style.setProperty("margin-bottom","1.5rem"),N.style.setProperty("display","block"),N.style.setProperty("margin-bottom","0.5rem"),N.style.setProperty("font-weight","500"),r(N,()=>e("inventory.unitCost")),ae.addEventListener("change",re=>D(Number(re.target.value))),j(re=>{var ve=te,ge=e("inventory.willUseDefaultCost");return re.e=o(ae,ve,re.e),ge!==re.t&&Ze(ae,"placeholder",re.t=ge),re},{e:void 0,t:void 0}),j(()=>ae.value=L()),F})(),U(()=>U(()=>f()>0&&L()>0)()&&(()=>{var F=Sa(),N=F.firstChild,ae=N.firstChild,re=ae.firstChild,ve=ae.nextSibling;return r(ae,()=>e("inventory.totalCost"),re),r(ve,()=>z(I())),j(ge=>{var g=ee,p=ie,G=le,me={...R,"font-size":"1.2rem",color:"var(--primary-color)"};return ge.e=o(F,g,ge.e),ge.t=o(N,p,ge.t),ge.a=o(ae,G,ge.a),ge.o=o(ve,me,ge.o),ge},{e:void 0,t:void 0,a:void 0,o:void 0}),F})()),(()=>{var F=fa(),N=F.firstChild,ae=N.nextSibling;return F.style.setProperty("margin-bottom","1.5rem"),N.style.setProperty("display","block"),N.style.setProperty("margin-bottom","0.5rem"),N.style.setProperty("font-weight","500"),r(N,()=>e("common.referenceNumber")),ae.addEventListener("change",re=>$(re.target.value)),j(re=>{var ve=te,ge=e("common.referenceNumberPlaceholder");return re.e=o(ae,ve,re.e),ge!==re.t&&Ze(ae,"placeholder",re.t=ge),re},{e:void 0,t:void 0}),j(()=>ae.value=C()),F})(),(()=>{var F=ba(),N=F.firstChild,ae=N.nextSibling;return F.style.setProperty("margin-bottom","1.5rem"),N.style.setProperty("display","block"),N.style.setProperty("margin-bottom","0.5rem"),N.style.setProperty("font-weight","500"),r(N,()=>e("common.notes")),ae.addEventListener("change",re=>b(re.target.value)),j(re=>{var ve={...te,"min-height":"100px",resize:"vertical"},ge=e("inventory.additionalNotesPlaceholder");return re.e=o(ae,ve,re.e),ge!==re.t&&Ze(ae,"placeholder",re.t=ge),re},{e:void 0,t:void 0}),j(()=>ae.value=x()),F})(),U(()=>U(()=>!!q())()&&(()=>{var F=Pa();return o(F,Q),r(F,q),F})())]:[y(it,{get label(){return e("inventory.itemName")},get value(){return n().name},onChange:F=>de("name",F),get placeholder(){return e("inventory.enterItemName")},required:!0}),y(it,{get label(){return e("inventory.sku")},get value(){return n().sku},onChange:F=>de("sku",F),get placeholder(){return e("inventory.enterSkuCode")},required:!0}),y(_t,{get label(){return e("inventory.category")},get value(){return n().category},onChange:F=>de("category",F),options:u,required:!0}),y(it,{get label(){return e("common.description")},get value(){return n().description},onChange:F=>de("description",F),get placeholder(){return e("inventory.enterItemDescription")}}),y(it,{get label(){return e("common.price")},type:"number",get value(){return n().price},onChange:F=>de("price",F),get placeholder(){return e("common.enterPrice")},required:!0}),y(it,{get label(){return e("inventory.quantity")},type:"number",get value(){return n().quantity},onChange:F=>de("quantity",F),get placeholder(){return e("inventory.enterQuantity")},required:!0}),y(it,{get label(){return e("inventory.minimumStock")},type:"number",get value(){return n().minStock},onChange:F=>de("minStock",F),get placeholder(){return e("inventory.enterMinStockLevel")},required:!0}),y(it,{get label(){return e("inventory.supplier")},get value(){return n().supplier},onChange:F=>de("supplier",F),get placeholder(){return e("inventory.enterSupplierName")},required:!0}),y(_t,{get label(){return e("inventory.location")},get value(){return n().location},onChange:F=>de("location",F),options:A,required:!0})]})(),fe),o(fe,S),r(fe,y(Ae,{variant:"secondary",type:"button",onClick:P,get children(){return e("common.cancel")}}),null),r(fe,y(Ae,{variant:"primary",type:"submit",get children(){return U(()=>!!Y())()?e("inventory.addMovement"):e("inventory.addItem")}}),null),pe})(),y(un,{get isOpen(){return Z()},onClose:()=>ue(!1),onProductAdded:pe=>{c(pe),ue(!1)}}),y(Vn,{get isOpen(){return ye()},onClose:()=>X(!1),onLocationAdded:pe=>{d()==="transfer"&&!O()?oe(pe):a(pe),X(!1)}})]}})};var xa=_("<form><div><div><label> *</label><input type=text required></div><div><label> *</label><input type=text required></div></div><div><label> *</label><select required><option value=in></option><option value=out></option><option value=transfer></option><option value=adjustment></option></select></div><div><div><label></label></div></div><div><div><h3></h3></div></div><div><label></label><textarea></textarea></div><div>"),Ca=_("<div><label> *"),_a=_("<div><div></div><div></div><div></div><div></div><div>"),Sn=_("<div>"),wa=_("<div><input type=number min=0 step=1 required><input type=number min=0 step=0.01><input type=text>"),ka=_("<div><h4></h4><div><span>:</span><span></span></div><div><span>:</span><span></span></div><div><span>:</span><span></span></div><div><span>:</span><span>"),Aa=_("<div>• ");const Ia=t=>{const{t:e}=We(),[n,i]=ne(`INV-${Date.now()}`),[l,c]=ne(""),[s,a]=ne("in"),[d,v]=ne(""),[f,T]=ne(""),[L,D]=ne(""),[C,$]=ne([]),[x,b]=ne([]),[O,oe]=ne(!1),[q,ce]=ne(!1),Z=()=>{$(Q=>[...Q,{productId:"",quantity:0,unitCost:0,notes:""}])},ue=Q=>{$(ee=>ee.filter((ie,le)=>le!==Q))},ye=(Q,ee,ie)=>{$(le=>le.map((R,K)=>K===Q?{...R,[ee]:ie}:R))},X=()=>{i(`INV-${Date.now()}`),c(""),a("in"),v(""),T(""),D(""),$([]),b([])},Y=Q=>{Q.preventDefault(),b([]);const ee=[];if(l()||ee.push(e("forms.referenceNumberRequired")),d()||ee.push(e("forms.locationRequired")),s()==="transfer"&&!f()&&ee.push(e("forms.fromLocationRequired")),C().length===0&&ee.push(e("forms.atLeastOneProduct")),C().forEach((R,K)=>{R.productId||ee.push(e("forms.itemProductRequired",{index:K+1})),R.quantity<=0&&ee.push(e("forms.itemQuantityRequired",{index:K+1}))}),ee.length>0){b(ee);return}const ie={invoiceId:n(),referenceNumber:l(),movementType:s(),locationId:d(),fromLocationId:s()==="transfer"?f():void 0,items:C(),generalNotes:L(),createdBy:"admin"},le=Le.addBulkInventoryMovements(ie);le.success?(X(),t.onClose()):b(le.errors)},W=()=>{X(),t.onClose()},J=Fe(()=>C().reduce((Q,ee)=>{const ie=Le.getProductById(ee.productId),le=ee.unitCost||ie?.unitCost||0;return Q+ee.quantity*le},0)),m=Fe(()=>C().reduce((Q,ee)=>Q+ee.quantity,0)),I={"margin-bottom":"1.5rem"},h={display:"block","margin-bottom":"0.5rem","font-weight":"500",color:"var(--text-primary)"},u={width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)"},A={...u,cursor:"pointer"},S={display:"grid",gap:"0.5rem","align-items":"end","margin-bottom":"0.5rem",padding:"0.75rem",background:"var(--background-color)","border-radius":"var(--border-radius-sm)",border:"1px solid var(--border-color)"},w={display:"grid","grid-template-columns":"2fr 1fr 1fr 2fr auto",gap:"0.5rem","align-items":"end","margin-bottom":"0.5rem",padding:"0.75rem",background:"var(--background-color)","border-radius":"var(--border-radius-sm)",border:"1px solid var(--border-color)"},k={display:"grid","grid-template-columns":"2fr 1fr 1fr 2fr auto",gap:"0.5rem","font-weight":"600","font-size":"0.875rem",color:"var(--text-muted)","margin-bottom":"0.5rem","padding-left":"0.75rem"},E={padding:"1rem",background:"var(--surface-color)","border-radius":"var(--border-radius-sm)",border:"1px solid var(--border-color)","margin-bottom":"1rem"},de={display:"flex","justify-content":"space-between","margin-bottom":"0.5rem"},P={color:"#f44336","font-size":"0.875rem","margin-bottom":"1rem"},z={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},te=Q=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Q),H=Q=>({in:e("inventory.purchaseReceive"),out:e("inventory.saleIssue"),transfer:e("inventory.transfer"),adjustment:e("inventory.adjustment")})[Q]||Q;return y($t,{get isOpen(){return t.isOpen},onClose:W,get title(){return e("inventory.bulkMovement")},get children(){return[(()=>{var Q=xa(),ee=Q.firstChild,ie=ee.firstChild,le=ie.firstChild,R=le.firstChild,K=le.nextSibling,pe=ie.nextSibling,fe=pe.firstChild,M=fe.firstChild,F=fe.nextSibling,N=ee.nextSibling,ae=N.firstChild,re=ae.firstChild,ve=ae.nextSibling,ge=ve.firstChild,g=ge.nextSibling,p=g.nextSibling,G=p.nextSibling,me=N.nextSibling,V=me.firstChild,se=V.firstChild,B=me.nextSibling,be=B.firstChild,xe=be.firstChild,Se=B.nextSibling,_e=Se.firstChild,Ee=_e.nextSibling,Me=Se.nextSibling;return Q.addEventListener("submit",Y),ee.style.setProperty("display","grid"),ee.style.setProperty("grid-template-columns","1fr 1fr"),ee.style.setProperty("gap","1rem"),ee.style.setProperty("margin-bottom","1.5rem"),r(le,()=>e("common.invoiceDocumentId"),R),K.addEventListener("change",$e=>i($e.target.value)),r(fe,()=>e("common.referenceNumber"),M),F.addEventListener("change",$e=>c($e.target.value)),r(ae,()=>e("inventory.movementType"),re),ve.addEventListener("change",$e=>a($e.target.value)),r(ge,()=>e("inventory.purchaseReceive")),r(g,()=>e("inventory.saleIssue")),r(p,()=>e("inventory.transfer")),r(G,()=>e("inventory.adjustment")),me.style.setProperty("display","grid"),me.style.setProperty("gap","1rem"),me.style.setProperty("margin-bottom","1.5rem"),r(me,(()=>{var $e=U(()=>s()==="transfer");return()=>$e()&&(()=>{var Ce=Ca(),De=Ce.firstChild,Te=De.firstChild;return r(De,()=>e("inventory.fromLocation"),Te),r(Ce,y(an,{get value(){return f()},onChange:Be=>T(Be),get placeholder(){return e("inventory.searchSourceLocation")},onAddNew:()=>ce(!0),required:!0}),null),j(Be=>o(De,h,Be)),Ce})()})(),V),r(se,(()=>{var $e=U(()=>s()==="transfer");return()=>$e()?e("inventory.toLocation")+" *":e("inventory.location")+" *"})()),r(V,y(an,{get value(){return d()},onChange:$e=>v($e),get placeholder(){return U(()=>s()==="transfer")()?e("inventory.searchDestinationLocation"):e("inventory.searchLocation")},onAddNew:()=>ce(!0),required:!0}),null),be.style.setProperty("display","flex"),be.style.setProperty("justify-content","space-between"),be.style.setProperty("align-items","center"),be.style.setProperty("margin-bottom","1rem"),xe.style.setProperty("margin","0"),xe.style.setProperty("font-size","1.1rem"),r(xe,()=>e("inventory.products")),r(be,y(Ae,{variant:"outline",type:"button",onClick:Z,get children(){return e("inventory.addProduct")}}),null),r(B,(()=>{var $e=U(()=>C().length>0);return()=>$e()&&[(()=>{var Ce=_a(),De=Ce.firstChild,Te=De.nextSibling,Be=Te.nextSibling,Re=Be.nextSibling;return o(Ce,k),r(De,()=>e("inventory.product")),r(Te,()=>e("inventory.quantity")),r(Be,()=>e("inventory.unitCost")),r(Re,()=>e("common.notes")),Ce})(),y(ct,{get each(){return C()},children:(Ce,De)=>[(()=>{var Te=Sn();return o(Te,S),r(Te,y(Ko,{get value(){return Ce.productId},onChange:Be=>{ye(De(),"productId",Be);const Re=Le.getProductById(Be);Re&&!Ce.unitCost&&ye(De(),"unitCost",Re.unitCost)},get placeholder(){return e("inventory.searchProduct")},onAddNew:()=>oe(!0),required:!0})),Te})(),(()=>{var Te=wa(),Be=Te.firstChild,Re=Be.nextSibling,Pe=Re.nextSibling;return o(Te,w),Be.addEventListener("change",qe=>ye(De(),"quantity",Number(qe.target.value))),Re.addEventListener("change",qe=>ye(De(),"unitCost",Number(qe.target.value))),Pe.addEventListener("change",qe=>ye(De(),"notes",qe.target.value)),r(Te,y(Ae,{variant:"outline",size:"sm",type:"button",onClick:()=>ue(De()),style:{color:"#f44336","border-color":"#f44336"},get children(){return e("common.remove")}}),null),j(qe=>{var Ke=u,Ge=u,he=e("common.auto"),He=u,rt=e("common.optionalNotes");return qe.e=o(Be,Ke,qe.e),qe.t=o(Re,Ge,qe.t),he!==qe.a&&Ze(Re,"placeholder",qe.a=he),qe.o=o(Pe,He,qe.o),rt!==qe.i&&Ze(Pe,"placeholder",qe.i=rt),qe},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),j(()=>Be.value=Ce.quantity),j(()=>Re.value=Ce.unitCost),j(()=>Pe.value=Ce.notes),Te})()]})]})(),null),r(B,(()=>{var $e=U(()=>C().length===0);return()=>$e()&&(()=>{var Ce=Sn();return Ce.style.setProperty("text-align","center"),Ce.style.setProperty("padding","2rem"),Ce.style.setProperty("background","var(--background-color)"),Ce.style.setProperty("border-radius","var(--border-radius-sm)"),Ce.style.setProperty("border","1px solid var(--border-color)"),Ce.style.setProperty("color","var(--text-muted)"),r(Ce,()=>e("inventory.noProductsAdded")),Ce})()})(),null),r(Q,(()=>{var $e=U(()=>C().length>0);return()=>$e()&&(()=>{var Ce=ka(),De=Ce.firstChild,Te=De.nextSibling,Be=Te.firstChild,Re=Be.firstChild,Pe=Be.nextSibling,qe=Te.nextSibling,Ke=qe.firstChild,Ge=Ke.firstChild,he=Ke.nextSibling,He=qe.nextSibling,rt=He.firstChild,tt=rt.firstChild,ot=rt.nextSibling,Qe=He.nextSibling,at=Qe.firstChild,yt=at.firstChild,ke=at.nextSibling;return o(Ce,E),De.style.setProperty("margin","0 0 1rem 0"),De.style.setProperty("font-size","1rem"),r(De,()=>e("common.summary")),r(Be,()=>e("inventory.totalProducts"),Re),Pe.style.setProperty("font-weight","600"),r(Pe,()=>C().length),r(Ke,()=>e("inventory.totalItems"),Ge),he.style.setProperty("font-weight","600"),r(he,m),r(rt,()=>e("inventory.totalValue"),tt),ot.style.setProperty("font-weight","600"),ot.style.setProperty("color","var(--primary-color)"),r(ot,()=>te(J())),r(at,()=>e("inventory.movementType"),yt),ke.style.setProperty("font-weight","600"),r(ke,()=>H(s())),j(Ie=>{var Oe=de,je=de,Ye=de,Ve=de;return Ie.e=o(Te,Oe,Ie.e),Ie.t=o(qe,je,Ie.t),Ie.a=o(He,Ye,Ie.a),Ie.o=o(Qe,Ve,Ie.o),Ie},{e:void 0,t:void 0,a:void 0,o:void 0}),Ce})()})(),Se),r(_e,()=>e("common.generalNotes")),Ee.addEventListener("change",$e=>D($e.target.value)),r(Q,(()=>{var $e=U(()=>x().length>0);return()=>$e()&&(()=>{var Ce=Sn();return o(Ce,P),r(Ce,y(ct,{get each(){return x()},children:De=>(()=>{var Te=Aa();return Te.firstChild,r(Te,De,null),Te})()})),Ce})()})(),Me),o(Me,z),r(Me,y(Ae,{variant:"secondary",type:"button",onClick:W,get children(){return e("common.cancel")}}),null),r(Me,y(Ae,{variant:"primary",type:"submit",get children(){return e("inventory.createMovement")}}),null),j($e=>{var Ce=h,De=u,Te=h,Be=u,Re=e("common.referenceNumberPlaceholder"),Pe=I,qe=h,Ke=A,Ge=s()==="transfer"?"1fr 1fr":"1fr",he=h,He=I,rt=I,tt=h,ot={...u,"min-height":"80px",resize:"vertical"},Qe=e("inventory.generalNotesPlaceholder");return $e.e=o(le,Ce,$e.e),$e.t=o(K,De,$e.t),$e.a=o(fe,Te,$e.a),$e.o=o(F,Be,$e.o),Re!==$e.i&&Ze(F,"placeholder",$e.i=Re),$e.n=o(N,Pe,$e.n),$e.s=o(ae,qe,$e.s),$e.h=o(ve,Ke,$e.h),Ge!==$e.r&&(($e.r=Ge)!=null?me.style.setProperty("grid-template-columns",Ge):me.style.removeProperty("grid-template-columns")),$e.d=o(se,he,$e.d),$e.l=o(B,He,$e.l),$e.u=o(Se,rt,$e.u),$e.c=o(_e,tt,$e.c),$e.w=o(Ee,ot,$e.w),Qe!==$e.m&&Ze(Ee,"placeholder",$e.m=Qe),$e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0}),j(()=>K.value=n()),j(()=>F.value=l()),j(()=>ve.value=s()),j(()=>Ee.value=L()),Q})(),y(un,{get isOpen(){return O()},onClose:()=>oe(!1),onProductAdded:Q=>{oe(!1)}}),y(Vn,{get isOpen(){return q()},onClose:()=>ce(!1),onLocationAdded:Q=>{s()==="transfer"&&!f()?T(Q):v(Q),ce(!1)}})]}})};var Ea=_("<div><div></div><div></div><div></div><div>"),La=_("<div><strong>:</strong> "),Da=_("<div><div><span></span><span></span></div><div><span></span><span> </span></div><div><span></span><span> </span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span>"),Na=_("<div>");const Ta=t=>{const{t:e}=We(),n={display:"flex","justify-content":"space-between","align-items":"center",padding:"0.75rem 0","border-bottom":"1px solid var(--border-color)"},i={"font-weight":"500",color:"var(--text-muted)","font-size":"0.875rem"},l={"font-weight":"600",color:"var(--text-primary)"},c={"text-align":"center","margin-bottom":"2rem"},s={"font-size":"1.5rem","font-weight":"600",color:"var(--text-primary)",margin:"0.5rem 0"},a={color:"var(--text-muted)","font-size":"1rem"},d={"font-size":"1.25rem","font-weight":"600",color:"var(--primary-color)","margin-bottom":"1rem"},v=($,x)=>({padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500","text-transform":"uppercase","letter-spacing":"0.5px",background:$>x?"#d4edda":"#f8d7da",color:$>x?"#155724":"#721c24"}),f={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},T={"margin-bottom":"1.5rem",padding:"1rem",background:"var(--background-color)","border-radius":"var(--border-radius-sm)",color:"var(--text-secondary)"};if(!t.item)return null;const L=$=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format($),D=$=>new Date($).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),C=t.item.price*t.item.quantity;return y($t,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return e("inventory.itemDetails")},get children(){return[(()=>{var $=Ea(),x=$.firstChild,b=x.nextSibling,O=b.nextSibling,oe=O.nextSibling;return o($,c),o(x,s),r(x,()=>t.item.name),o(b,a),r(b,()=>t.item.category),o(O,d),r(O,()=>L(t.item.price)),r(oe,(()=>{var q=U(()=>t.item.quantity>t.item.minStock);return()=>q()?e("inventory.inStock"):e("inventory.lowStockAlert")})()),j(q=>o(oe,v(t.item.quantity,t.item.minStock),q)),$})(),(()=>{var $=La(),x=$.firstChild,b=x.firstChild;return x.nextSibling,o($,T),r(x,()=>e("common.description"),b),r($,()=>t.item.description,null),$})(),(()=>{var $=Da(),x=$.firstChild,b=x.firstChild,O=b.nextSibling,oe=x.nextSibling,q=oe.firstChild,ce=q.nextSibling,Z=ce.firstChild,ue=oe.nextSibling,ye=ue.firstChild,X=ye.nextSibling,Y=X.firstChild,W=ue.nextSibling,J=W.firstChild,m=J.nextSibling,I=W.nextSibling,h=I.firstChild,u=h.nextSibling,A=I.nextSibling,S=A.firstChild,w=S.nextSibling,k=A.nextSibling,E=k.firstChild,de=E.nextSibling;return r(b,()=>e("inventory.sku")),r(O,()=>t.item.sku),r(q,()=>e("inventory.quantity")),r(ce,()=>t.item.quantity,Z),r(ce,()=>e("common.units"),null),r(ye,()=>e("inventory.minimumStock")),r(X,()=>t.item.minStock,Y),r(X,()=>e("common.units"),null),r(J,()=>e("inventory.totalValue")),r(m,()=>L(C)),r(h,()=>e("inventory.supplier")),r(u,()=>t.item.supplier),r(S,()=>e("inventory.location")),r(w,()=>t.item.location),r(E,()=>e("common.lastUpdated")),r(de,()=>D(t.item.lastUpdated)),j(P=>{var z=n,te=i,H=l,Q=n,ee=i,ie=l,le=n,R=i,K=l,pe=n,fe=i,M=l,F=n,N=i,ae=l,re=n,ve=i,ge=l,g=n,p=i,G=l;return P.e=o(x,z,P.e),P.t=o(b,te,P.t),P.a=o(O,H,P.a),P.o=o(oe,Q,P.o),P.i=o(q,ee,P.i),P.n=o(ce,ie,P.n),P.s=o(ue,le,P.s),P.h=o(ye,R,P.h),P.r=o(X,K,P.r),P.d=o(W,pe,P.d),P.l=o(J,fe,P.l),P.u=o(m,M,P.u),P.c=o(I,F,P.c),P.w=o(h,N,P.w),P.m=o(u,ae,P.m),P.f=o(A,re,P.f),P.y=o(S,ve,P.y),P.g=o(w,ge,P.g),P.p=o(k,g,P.p),P.b=o(E,p,P.b),P.T=o(de,G,P.T),P},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0}),$})(),(()=>{var $=Na();return o($,f),r($,y(Ae,{variant:"secondary",get onClick(){return t.onClose},get children(){return e("common.close")}}),null),r($,y(Ae,{variant:"primary",onClick:()=>{console.log("Edit item:",t.item.id)},get children(){return e("common.editItem")}}),null),$})()]}})};var Ba=_("<div>🔄"),Ma=_("<button type=button>×"),Ra=_("<div>⚠️ "),yo=_("<div>"),Oa=_("<div><div><input type=text autocomplete=off>"),ja=_("<div><div><div><div></div><div><span>: </span><span>•</span><span></span><span>•</span><span></span></div></div><div><div> </div><div>"),za=_("<span>⚠️ ");const Fa=t=>{const{t:e}=We(),[n,i]=ne(""),[l,c]=ne(!1),[s,a]=ne(null),[d,v]=ne([]),[f,T]=ne(!1),[L,D]=ne(-1),[C,$]=ne(null),x=t.searchDelay||300;t.maxResults;const b=async z=>{if(!z.trim()||z.trim().length<3){v([]),t.onSearchResults?.([]);return}try{c(!0),a(null);try{console.log("apiResults",z),t.onSearchResults?.(z)}catch(te){console.warn("API search failed, using local fallback:",te),a("API search failed, showing local results")}}catch(te){const H=te instanceof Error?te.message:"Search failed";a(H),v([]),t.onSearchResults?.([])}finally{c(!1)}},O=z=>{const H=z.target.value;i(H),a(null),console.log(),t.showResults,C()&&clearTimeout(C());const Q=setTimeout(()=>{b(H)},x);$(Q)},oe=z=>{i(z.name),T(!1),D(-1),t.onInventorySelect?.(z)},q=z=>{if(!(!f()||d().length===0))switch(z.key){case"ArrowDown":z.preventDefault(),D(te=>Math.min(te+1,d().length-1));break;case"ArrowUp":z.preventDefault(),D(te=>Math.max(te-1,-1));break;case"Enter":z.preventDefault(),L()>=0&&d()[L()]&&oe(d()[L()]);break;case"Escape":T(!1),D(-1);break}},ce=()=>{t.showResults!==!1&&d().length>0&&T(!0)},Z=()=>{setTimeout(()=>{T(!1),D(-1)},150)},ue=()=>{i(""),v([]),a(null),T(!1),D(-1),t.onSearchResults?.([]),C()&&(clearTimeout(C()),$(null))},ye=z=>Le.stockLevels.filter(te=>te.inventoryId===z).reduce((te,H)=>te+H.quantity,0),X=z=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(z),Y={position:"relative",width:"100%",...t.style},W={position:"relative",display:"flex","align-items":"center"},J={width:"100%",padding:"0.75rem","padding-right":n()?"2.5rem":"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)",cursor:t.disabled?"not-allowed":"text",opacity:t.disabled?"0.6":"1",outline:"none",transition:"border-color 0.2s ease"},m={position:"absolute",right:"0.5rem",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"var(--text-muted)","font-size":"1.2rem","line-height":"1",padding:"0.25rem","border-radius":"50%",transition:"all 0.2s ease"},I={position:"absolute",right:n()?"2.5rem":"0.75rem",top:"50%",transform:"translateY(-50%)","font-size":"0.875rem",color:"var(--text-muted)"},h={position:"absolute",top:"100%",left:"0",right:"0","z-index":"1000","max-height":"300px","overflow-y":"auto",background:"var(--surface-color)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","box-shadow":"0 4px 12px rgba(0,0,0,0.15)","margin-top":"2px"},u=z=>({padding:"0.75rem",cursor:"pointer","border-bottom":"1px solid var(--border-color)",background:z?"var(--strip-color)":"transparent",transition:"background-color 0.2s ease"}),A={display:"flex","justify-content":"space-between","align-items":"center"},S={flex:"1"},w={"font-weight":"500","margin-bottom":"0.25rem",color:"var(--text-primary)"},k={"font-size":"0.875rem",color:"var(--text-muted)",display:"flex",gap:"0.5rem"},E={"text-align":"right","font-size":"0.875rem"},de={padding:"1rem","text-align":"center",color:"var(--text-muted)","font-style":"italic"},P={padding:"0.5rem 1rem",background:"#fff3cd",color:"#856404","border-bottom":"1px solid var(--border-color)","font-size":"0.875rem"};return(()=>{var z=Oa(),te=z.firstChild,H=te.firstChild;return H.addEventListener("blur",Z),H.addEventListener("focus",ce),H.$$keydown=q,H.$$input=O,r(te,y(Ue,{get when(){return l()},get children(){var Q=Ba();return j(ee=>o(Q,I,ee)),Q}}),null),r(te,y(Ue,{get when(){return U(()=>!!n())()&&!l()},get children(){var Q=Ma();return Q.addEventListener("mouseleave",ee=>{ee.currentTarget.style.background="none",ee.currentTarget.style.color="var(--text-muted)"}),Q.addEventListener("mouseenter",ee=>{ee.currentTarget.style.background="var(--border-color)",ee.currentTarget.style.color="var(--text-primary)"}),Q.$$click=ue,j(ee=>{var ie=m,le=e("common.clear","Clear search");return ee.e=o(Q,ie,ee.e),le!==ee.t&&Ze(Q,"title",ee.t=le),ee},{e:void 0,t:void 0}),Q}}),null),r(z,y(Ue,{get when(){return f()&&t.showResults!==!1},get children(){var Q=yo();return r(Q,y(Ue,{get when(){return s()},get children(){var ee=Ra();return ee.firstChild,o(ee,P),r(ee,s,null),ee}}),null),r(Q,y(Ue,{get when(){return d().length>0},get fallback(){return U(()=>!!(n()&&!l()))()&&(()=>{var ee=yo();return o(ee,de),r(ee,()=>e("inventory.noInventorysFound","No inventorys found matching your search.")),ee})()},get children(){return y(ct,{get each(){return d()},children:(ee,ie)=>{const le=ye(ee.id),R=le<=ee.minStockLevel;return(()=>{var K=ja(),pe=K.firstChild,fe=pe.firstChild,M=fe.firstChild,F=M.nextSibling,N=F.firstChild,ae=N.firstChild,re=N.nextSibling,ve=re.nextSibling,ge=ve.nextSibling,g=ge.nextSibling,p=fe.nextSibling,G=p.firstChild,me=G.firstChild,V=G.nextSibling;return K.addEventListener("mouseenter",()=>D(ie())),K.$$click=()=>oe(ee),o(pe,A),o(fe,S),o(M,w),r(M,()=>ee.name),o(F,k),r(N,()=>e("inventory.sku","SKU"),ae),r(N,()=>ee.sku,null),r(ve,()=>ee.category),r(g,()=>X(ee.unitCost)),o(p,E),G.style.setProperty("font-weight","600"),(R?"#f44336":"var(--text-primary)")!=null?G.style.setProperty("color",R?"#f44336":"var(--text-primary)"):G.style.removeProperty("color"),r(G,le,me),r(G,()=>ee.unitOfMeasure,null),V.style.setProperty("color","var(--text-muted)"),r(V,()=>R?(()=>{var se=za();return se.firstChild,se.style.setProperty("color","#f44336"),r(se,()=>e("inventory.lowStock","Low Stock"),null),se})():e("inventory.inStock","In Stock")),j(se=>o(K,u(ie()===L()),se)),K})()}})}}),null),j(ee=>o(Q,h,ee)),Q}}),null),j(Q=>{var ee=Y,ie=W,le=J,R=t.placeholder||e("inventory.searchInventorys","Search inventorys by name, SKU, or category..."),K=t.disabled;return Q.e=o(z,ee,Q.e),Q.t=o(te,ie,Q.t),Q.a=o(H,le,Q.a),R!==Q.o&&Ze(H,"placeholder",Q.o=R),K!==Q.i&&(H.disabled=Q.i=K),Q},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),j(()=>H.value=n()),z})()};ut(["input","keydown","click"]);var qa=_("<div>"),Pn=_("<div><span>:</span><span>"),Ua=_("<div><button> "),Va=_("<div><div><div><h3></h3><div>: </div></div><div><span></span></div></div><div><h4></h4><div><span>:</span><span></span></div><div><span>:</span><span> </span></div><div><span>:</span><span></span></div><div><span> <!>:</span><span></span></div></div><div><h4></h4><div><span>:</span><span></span></div></div><div><h4></h4><div><span>:</span><span></span></div><div><span>:</span><span>");const Ya=t=>{const{t:e}=We(),n=D=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(D),i=D=>new Date(D).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),l=D=>({in:{bg:"#e8f5e8",color:"#2d7d32"},out:{bg:"#ffebee",color:"#d32f2f"},transfer:{bg:"#e3f2fd",color:"#1976d2"},adjustment:{bg:"#fff3e0",color:"#f57c00"}})[D]||{bg:"#f5f5f5",color:"#666"},c=D=>({in:"📦",out:"📤",transfer:"🔄",adjustment:"⚖️"})[D]||"📋",s=()=>t.movement,a={display:"flex","justify-content":"space-between","align-items":"center",padding:"0.75rem 0","border-bottom":"1px solid var(--border-color)"},d={"font-weight":"500",color:"var(--text-muted)","font-size":"0.875rem"},v={"font-weight":"600",color:"var(--text-primary)","text-align":"right"},f={"margin-bottom":"1.5rem"},T={"font-weight":"600","margin-bottom":"0.75rem","padding-bottom":"0.5rem","border-bottom":"2px solid var(--border-color)"},L=D=>({display:"inline-flex","align-items":"center",gap:"0.5rem",padding:"0.5rem 1rem","border-radius":"9999px","font-size":"0.875rem","font-weight":"600","text-transform":"uppercase","letter-spacing":"0.5px",background:l(D).bg,color:l(D).color});return y($t,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return e("inventory.movementDetails")},size:"lg",get children(){return y(Ue,{get when(){return s()},get fallback(){return(()=>{var D=qa();return r(D,()=>e("common.noDataFound")),D})()},children:D=>(()=>{var C=Va(),$=C.firstChild,x=$.firstChild,b=x.firstChild,O=b.nextSibling,oe=O.firstChild,q=x.nextSibling,ce=q.firstChild,Z=$.nextSibling,ue=Z.firstChild,ye=ue.nextSibling,X=ye.firstChild,Y=X.firstChild,W=X.nextSibling,J=ye.nextSibling,m=J.firstChild,I=m.firstChild,h=m.nextSibling,u=h.firstChild,A=J.nextSibling,S=A.firstChild,w=S.firstChild,k=S.nextSibling,E=A.nextSibling,de=E.firstChild,P=de.firstChild,z=P.nextSibling;z.nextSibling;var te=de.nextSibling,H=Z.nextSibling,Q=H.firstChild,ee=Q.nextSibling,ie=ee.firstChild,le=ie.firstChild,R=ie.nextSibling,K=H.nextSibling,pe=K.firstChild,fe=pe.nextSibling,M=fe.firstChild,F=M.firstChild,N=M.nextSibling,ae=fe.nextSibling,re=ae.firstChild,ve=re.firstChild,ge=re.nextSibling;return $.style.setProperty("display","flex"),$.style.setProperty("justify-content","space-between"),$.style.setProperty("align-items","center"),$.style.setProperty("margin-bottom","1.5rem"),$.style.setProperty("padding-bottom","1rem"),$.style.setProperty("border-bottom","2px solid var(--border-color)"),b.style.setProperty("margin","0 0 0.5rem 0"),b.style.setProperty("font-size","1.25rem"),r(b,()=>D().productName),O.style.setProperty("font-size","0.875rem"),O.style.setProperty("color","var(--text-muted)"),r(O,()=>e("inventory.sku"),oe),r(O,()=>D().productSku,null),ce.style.setProperty("font-size","1.2rem"),r(ce,()=>c(D().movementType)),r(q,()=>D().movementType,null),r(ue,()=>e("inventory.movementInformation")),r(X,()=>e("inventory.referenceNumber"),Y),r(W,()=>D().referenceNumber),r(m,()=>e("common.quantity"),I),r(h,()=>D().quantity,u),r(h,()=>e("common.units"),null),r(S,()=>e("inventory.unitCost"),w),r(k,()=>n(D().unitCost)),r(de,()=>e("common.total"),P),r(de,()=>e("common.value"),z),r(te,()=>n(D().totalCost)),r(Q,()=>e("inventory.locationInformation")),r(ie,()=>e("inventory.location"),le),r(R,()=>D().locationName),r(H,y(Ue,{get when(){return D().fromLocationName},get children(){var g=Pn(),p=g.firstChild,G=p.firstChild,me=p.nextSibling;return r(p,()=>e("common.from"),G),r(me,()=>D().fromLocationName),j(V=>{var se=a,B=d,be=v;return V.e=o(g,se,V.e),V.t=o(p,B,V.t),V.a=o(me,be,V.a),V},{e:void 0,t:void 0,a:void 0}),g}}),null),r(H,y(Ue,{get when(){return D().invoiceId},get children(){var g=Pn(),p=g.firstChild,G=p.firstChild,me=p.nextSibling;return r(p,()=>e("common.invoice"),G),r(me,()=>D().invoiceId),j(V=>{var se=a,B=d,be={...v,color:"var(--primary-color)"};return V.e=o(g,se,V.e),V.t=o(p,B,V.t),V.a=o(me,be,V.a),V},{e:void 0,t:void 0,a:void 0}),g}}),null),r(pe,()=>e("common.details")),r(M,()=>e("common.createdBy"),F),r(N,()=>D().createdBy),r(re,()=>e("common.created"),ve),r(ge,()=>i(D().createdDate)),r(K,y(Ue,{get when(){return D().notes},get children(){var g=Pn(),p=g.firstChild,G=p.firstChild,me=p.nextSibling;return r(p,()=>e("common.notes"),G),r(me,()=>D().notes),j(V=>{var se={...a,"border-bottom":"none"},B=d,be={...v,"font-style":"italic","max-width":"60%","white-space":"pre-wrap"};return V.e=o(g,se,V.e),V.t=o(p,B,V.t),V.a=o(me,be,V.a),V},{e:void 0,t:void 0,a:void 0}),g}}),null),r(C,y(Ue,{get when(){return t.onEdit},get children(){var g=Ua(),p=g.firstChild,G=p.firstChild;return g.style.setProperty("display","flex"),g.style.setProperty("justify-content","flex-end"),g.style.setProperty("margin-top","1.5rem"),g.style.setProperty("padding-top","1rem"),g.style.setProperty("border-top","1px solid var(--border-color)"),p.addEventListener("mouseleave",me=>{me.currentTarget.style.transform="translateY(0)",me.currentTarget.style.boxShadow="none"}),p.addEventListener("mouseenter",me=>{me.currentTarget.style.transform="translateY(-1px)",me.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.15)"}),p.$$click=()=>t.onEdit?.(D()),p.style.setProperty("padding","0.5rem 1.5rem"),p.style.setProperty("border-radius","var(--border-radius-sm)"),p.style.setProperty("border","1px solid var(--primary-color)"),p.style.setProperty("background","var(--primary-color)"),p.style.setProperty("color","white"),p.style.setProperty("cursor","pointer"),p.style.setProperty("font-weight","500"),p.style.setProperty("transition","all 0.2s ease"),r(p,()=>e("common.edit"),G),r(p,()=>e("inventory.movement"),null),g}}),null),j(g=>{var p=L(D().movementType),G=f,me=T,V=a,se=d,B=v,be=a,xe=d,Se={...v,"font-size":"1.1rem",color:"var(--primary-color)"},_e=a,Ee=d,Me=v,$e=a,Ce=d,De={...v,"font-size":"1.1rem",color:"var(--primary-color)"},Te=f,Be=T,Re=a,Pe=d,qe=v,Ke=f,Ge=T,he=a,He=d,rt=v,tt=a,ot=d,Qe=v;return g.e=o(q,p,g.e),g.t=o(Z,G,g.t),g.a=o(ue,me,g.a),g.o=o(ye,V,g.o),g.i=o(X,se,g.i),g.n=o(W,B,g.n),g.s=o(J,be,g.s),g.h=o(m,xe,g.h),g.r=o(h,Se,g.r),g.d=o(A,_e,g.d),g.l=o(S,Ee,g.l),g.u=o(k,Me,g.u),g.c=o(E,$e,g.c),g.w=o(de,Ce,g.w),g.m=o(te,De,g.m),g.f=o(H,Te,g.f),g.y=o(Q,Be,g.y),g.g=o(ee,Re,g.g),g.p=o(ie,Pe,g.p),g.b=o(R,qe,g.b),g.T=o(K,Ke,g.T),g.A=o(pe,Ge,g.A),g.O=o(fe,he,g.O),g.I=o(M,He,g.I),g.S=o(N,rt,g.S),g.W=o(ae,tt,g.W),g.C=o(re,ot,g.C),g.B=o(ge,Qe,g.B),g},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0,O:void 0,I:void 0,S:void 0,W:void 0,C:void 0,B:void 0}),C})()})}})};ut(["click"]);var yr=_("<div>"),Wa=_("<div><label></label><select><option value>"),Ha=_("<div><div><span>:</span><span>$"),Ga=_("<form><div><label></label><select><option value=in></option><option value=out></option><option value=transfer></option><option value=adjustment></option></select></div><div><label></label><select><option value></option></select></div><div><label></label><input type=number min=0.01 step=0.01></div><div><label></label><input type=number min=0 step=0.01></div><div><label></label><input type=text></div><div><label> (<!>)</label><input type=text></div><div><label> (<!>)</label><textarea></textarea></div><div><button type=button></button><button type=submit>"),mo=_("<option> (<!>)");const Ja=t=>{const{t:e}=We(),[n,i]=ne("in"),[l,c]=ne(""),[s,a]=ne(""),[d,v]=ne(""),[f,T]=ne(""),[L,D]=ne(""),[C,$]=ne(""),[x,b]=ne(""),[O,oe]=ne(!1),[q,ce]=ne({});pr(()=>{const I=t.movement;I&&t.isOpen&&(i(I.movementType),c(I.quantity.toString()),a(I.unitCost.toString()),v(I.referenceNumber),T(I.notes),$(I.locationId),D(I.fromLocationId||""),b(I.invoiceId||""),ce({}))});const Z=()=>{const I={};return(!l()||parseFloat(l())<=0)&&(I.quantity=e("forms.requiredField")),(!s()||parseFloat(s())<0)&&(I.unitCost=e("forms.requiredField")),d().trim()||(I.referenceNumber=e("forms.requiredField")),C()||(I.locationId=e("forms.requiredField")),n()==="transfer"&&!L()&&(I.fromLocationId=e("forms.requiredField")),ce(I),Object.keys(I).length===0},ue=async I=>{if(I.preventDefault(),!(!Z()||!t.movement)){oe(!0);try{const h=t.movement,u=Le.getProductById(h.productId),A=Le.getLocationById(C()),S=L()?Le.getLocationById(L()):null;if(!u||!A)throw new Error("Product or location not found");const w={...h,movementType:n(),quantity:parseFloat(l()),unitCost:parseFloat(s()),totalCost:parseFloat(l())*parseFloat(s()),referenceNumber:d().trim(),notes:f().trim(),locationId:C(),locationName:A.name,fromLocationId:L()||void 0,fromLocationName:S?.name,invoiceId:x().trim()||void 0,lastModified:new Date().toISOString()};Le.updateMovement(h.id,w),t.onMovementUpdated?.(),t.onClose(),ye()}catch(h){console.error("Error updating movement:",h),ce({submit:e("forms.saveError")})}finally{oe(!1)}}},ye=()=>{i("in"),c(""),a(""),v(""),T(""),D(""),$(""),b(""),ce({})},X=()=>{ye(),t.onClose()},Y={width:"100%",padding:"0.5rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",transition:"border-color 0.2s ease"},W={display:"block","margin-bottom":"0.25rem","font-weight":"500","font-size":"0.875rem"},J={color:"#d32f2f","font-size":"0.75rem","margin-top":"0.25rem"},m={"margin-bottom":"1rem"};return y($t,{get isOpen(){return t.isOpen},onClose:X,get title(){return e("inventory.editMovement","Edit Movement")},get children(){return y(Ue,{get when(){return t.movement},get fallback(){return(()=>{var I=yr();return r(I,()=>e("common.loading")),I})()},get children(){var I=Ga(),h=I.firstChild,u=h.firstChild,A=u.nextSibling,S=A.firstChild,w=S.nextSibling,k=w.nextSibling,E=k.nextSibling,de=h.nextSibling,P=de.firstChild,z=P.nextSibling,te=z.firstChild,H=de.nextSibling,Q=H.firstChild,ee=Q.nextSibling,ie=H.nextSibling,le=ie.firstChild,R=le.nextSibling,K=ie.nextSibling,pe=K.firstChild,fe=pe.nextSibling,M=K.nextSibling,F=M.firstChild,N=F.firstChild,ae=N.nextSibling;ae.nextSibling;var re=F.nextSibling,ve=M.nextSibling,ge=ve.firstChild,g=ge.firstChild,p=g.nextSibling;p.nextSibling;var G=ge.nextSibling,me=ve.nextSibling,V=me.firstChild,se=V.nextSibling;return I.addEventListener("submit",ue),r(u,()=>e("inventory.movementType")),A.addEventListener("change",B=>i(B.target.value)),r(S,()=>e("inventory.stockIn")),r(w,()=>e("inventory.stockOut")),r(k,()=>e("inventory.transfer")),r(E,()=>e("inventory.adjustment")),r(P,(()=>{var B=U(()=>n()==="transfer");return()=>B()?e("inventory.toLocation"):e("inventory.location")})()),z.addEventListener("change",B=>$(B.target.value)),r(te,()=>e("modals.selectLocation")),r(z,y(ct,{get each(){return Le.getActiveLocations()},children:B=>(()=>{var be=mo(),xe=be.firstChild,Se=xe.nextSibling;return Se.nextSibling,r(be,()=>B.name,xe),r(be,()=>B.type,Se),j(()=>be.value=B.id),be})()}),null),r(de,y(Ue,{get when(){return q().locationId},get children(){var B=yr();return r(B,()=>q().locationId),j(be=>o(B,J,be)),B}}),null),r(I,y(Ue,{get when(){return n()==="transfer"},get children(){var B=Wa(),be=B.firstChild,xe=be.nextSibling,Se=xe.firstChild;return r(be,()=>e("inventory.fromLocation")),xe.addEventListener("change",_e=>D(_e.target.value)),r(Se,()=>e("modals.selectLocation")),r(xe,y(ct,{get each(){return Le.getActiveLocations().filter(_e=>_e.id!==C())},children:_e=>(()=>{var Ee=mo(),Me=Ee.firstChild,$e=Me.nextSibling;return $e.nextSibling,r(Ee,()=>_e.name,Me),r(Ee,()=>_e.type,$e),j(()=>Ee.value=_e.id),Ee})()}),null),r(B,y(Ue,{get when(){return q().fromLocationId},get children(){var _e=yr();return r(_e,()=>q().fromLocationId),j(Ee=>o(_e,J,Ee)),_e}}),null),j(_e=>{var Ee=m,Me=W,$e={...Y,"border-color":q().fromLocationId?"#d32f2f":"var(--border-color)"},Ce=O();return _e.e=o(B,Ee,_e.e),_e.t=o(be,Me,_e.t),_e.a=o(xe,$e,_e.a),Ce!==_e.o&&(xe.disabled=_e.o=Ce),_e},{e:void 0,t:void 0,a:void 0,o:void 0}),j(()=>xe.value=L()),B}}),H),r(Q,()=>e("common.quantity")),ee.$$input=B=>c(B.target.value),r(H,y(Ue,{get when(){return q().quantity},get children(){var B=yr();return r(B,()=>q().quantity),j(be=>o(B,J,be)),B}}),null),r(le,()=>e("inventory.unitCost")),R.$$input=B=>a(B.target.value),r(ie,y(Ue,{get when(){return q().unitCost},get children(){var B=yr();return r(B,()=>q().unitCost),j(be=>o(B,J,be)),B}}),null),r(I,y(Ue,{get when(){return U(()=>!!l())()&&s()},get children(){var B=Ha(),be=B.firstChild,xe=be.firstChild,Se=xe.firstChild,_e=xe.nextSibling;return _e.firstChild,be.style.setProperty("display","flex"),be.style.setProperty("justify-content","space-between"),xe.style.setProperty("font-weight","500"),r(xe,()=>e("common.total"),Se),_e.style.setProperty("font-weight","600"),_e.style.setProperty("color","var(--primary-color)"),r(_e,()=>(parseFloat(l()||"0")*parseFloat(s()||"0")).toFixed(2),null),j(Ee=>o(B,{...m,padding:"0.75rem",background:"var(--surface-color)","border-radius":"var(--border-radius-sm)"},Ee)),B}}),K),r(pe,()=>e("inventory.referenceNumber")),fe.$$input=B=>v(B.target.value),r(K,y(Ue,{get when(){return q().referenceNumber},get children(){var B=yr();return r(B,()=>q().referenceNumber),j(be=>o(B,J,be)),B}}),null),r(F,()=>e("inventory.invoiceNumber"),N),r(F,()=>e("common.optional"),ae),re.$$input=B=>b(B.target.value),r(ge,()=>e("common.notes"),g),r(ge,()=>e("common.optional"),p),G.$$input=B=>T(B.target.value),r(I,y(Ue,{get when(){return q().submit},get children(){var B=yr();return r(B,()=>q().submit),j(be=>o(B,{...J,"margin-bottom":"1rem"},be)),B}}),me),me.style.setProperty("display","flex"),me.style.setProperty("gap","1rem"),me.style.setProperty("justify-content","flex-end"),V.$$click=X,V.style.setProperty("padding","0.5rem 1rem"),V.style.setProperty("border","1px solid var(--border-color)"),V.style.setProperty("border-radius","var(--border-radius-sm)"),V.style.setProperty("background","white"),V.style.setProperty("cursor","pointer"),r(V,()=>e("common.cancel")),se.style.setProperty("padding","0.5rem 1rem"),se.style.setProperty("border","none"),se.style.setProperty("border-radius","var(--border-radius-sm)"),se.style.setProperty("background","var(--primary-color)"),se.style.setProperty("color","white"),se.style.setProperty("cursor","pointer"),se.style.setProperty("font-weight","500"),r(se,(()=>{var B=U(()=>!!O());return()=>B()?e("modals.processing"):e("inventory.updateMovement","Update Movement")})()),j(B=>{var be=m,xe=W,Se=Y,_e=O(),Ee=m,Me=W,$e={...Y,"border-color":q().locationId?"#d32f2f":"var(--border-color)"},Ce=O(),De=m,Te=W,Be={...Y,"border-color":q().quantity?"#d32f2f":"var(--border-color)"},Re=e("modals.enterQuantity"),Pe=O(),qe=m,Ke=W,Ge={...Y,"border-color":q().unitCost?"#d32f2f":"var(--border-color)"},he=e("modals.enterCost"),He=O(),rt=m,tt=W,ot={...Y,"border-color":q().referenceNumber?"#d32f2f":"var(--border-color)"},Qe=e("modals.enterReference"),at=O(),yt=m,ke=W,Ie=Y,Oe=e("inventory.invoiceNumber"),je=O(),Ye=m,Ve=W,nt={...Y,resize:"vertical","min-height":"80px"},we=e("modals.addNotes"),Xe=O(),vt=O(),wt=O();return B.e=o(h,be,B.e),B.t=o(u,xe,B.t),B.a=o(A,Se,B.a),_e!==B.o&&(A.disabled=B.o=_e),B.i=o(de,Ee,B.i),B.n=o(P,Me,B.n),B.s=o(z,$e,B.s),Ce!==B.h&&(z.disabled=B.h=Ce),B.r=o(H,De,B.r),B.d=o(Q,Te,B.d),B.l=o(ee,Be,B.l),Re!==B.u&&Ze(ee,"placeholder",B.u=Re),Pe!==B.c&&(ee.disabled=B.c=Pe),B.w=o(ie,qe,B.w),B.m=o(le,Ke,B.m),B.f=o(R,Ge,B.f),he!==B.y&&Ze(R,"placeholder",B.y=he),He!==B.g&&(R.disabled=B.g=He),B.p=o(K,rt,B.p),B.b=o(pe,tt,B.b),B.T=o(fe,ot,B.T),Qe!==B.A&&Ze(fe,"placeholder",B.A=Qe),at!==B.O&&(fe.disabled=B.O=at),B.I=o(M,yt,B.I),B.S=o(F,ke,B.S),B.W=o(re,Ie,B.W),Oe!==B.C&&Ze(re,"placeholder",B.C=Oe),je!==B.B&&(re.disabled=B.B=je),B.v=o(ve,Ye,B.v),B.k=o(ge,Ve,B.k),B.x=o(G,nt,B.x),we!==B.j&&Ze(G,"placeholder",B.j=we),Xe!==B.q&&(G.disabled=B.q=Xe),vt!==B.z&&(V.disabled=B.z=vt),wt!==B.P&&(se.disabled=B.P=wt),B},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0,O:void 0,I:void 0,S:void 0,W:void 0,C:void 0,B:void 0,v:void 0,k:void 0,x:void 0,j:void 0,q:void 0,z:void 0,P:void 0}),j(()=>A.value=n()),j(()=>z.value=C()),j(()=>ee.value=l()),j(()=>R.value=s()),j(()=>fe.value=d()),j(()=>re.value=x()),j(()=>G.value=f()),I}})}})};ut(["input","click"]);var Qa=_("<div><div></div><div><div><label></label><select><option value=all></option><option value=in></option><option value=out></option><option value=transfer></option><option value=adjustment></option></select></div><div><label></label><input type=date></div><div><label></label><input type=date></div></div><div><div><div></div><div></div></div><div><div></div><div></div></div><div><div></div><div></div></div><div><div></div><div></div></div><div><div></div><div></div></div><div><div></div><div>"),Ka=_("<div><h2>"),vo=_("<div><label></label><select><option value>"),Za=_("<option> (<!>)"),Xa=_("<option>"),ec=_("<div><div>📦</div><div></div><div>"),tc=_("<div><div><div><div><span></span><h3></h3><span></span></div><div> • </div></div><div><div></div><div> <!> @ </div></div></div><div><div><div><span>:</span><span></span></div><div><span>:</span><span></span></div></div><div><div><span>:</span><span>"),rc=_("<span>"),nc=_("<span>• <!>: "),go=_("<div><span>:</span><span>"),oc=_("<div>"),ic=_("<button>");const lc=t=>{const{t:e}=We(),[n,i]=ne(""),[l,c]=ne(""),[s,a]=ne("all"),[d,v]=ne({start:"",end:""}),[f,T]=ne(""),[L,D]=ne(""),[C,$]=ne(1),x=25,[b,O]=ne(null),[oe,q]=ne(!1),[ce,Z]=ne(!1),ue=Fe(()=>{let N=Le.movements;if(t.filterBy==="product"&&t.filterId?N=N.filter(ae=>ae.productId===t.filterId):t.filterBy==="location"&&t.filterId&&(N=N.filter(ae=>ae.locationId===t.filterId)),n()&&(N=N.filter(ae=>ae.productId===n())),l()&&(N=N.filter(ae=>ae.locationId===l())),s()!=="all"&&(N=N.filter(ae=>ae.movementType===s())),d().start&&(N=N.filter(ae=>ae.createdDate>=d().start)),d().end&&(N=N.filter(ae=>ae.createdDate<=d().end+"T23:59:59Z")),f()){const ae=f().toLowerCase();N=N.filter(re=>re.productName.toLowerCase().includes(ae)||re.productSku.toLowerCase().includes(ae)||re.locationName.toLowerCase().includes(ae)||re.referenceNumber.toLowerCase().includes(ae)||re.notes.toLowerCase().includes(ae)||re.createdBy.toLowerCase().includes(ae)||re.invoiceId&&re.invoiceId.toLowerCase().includes(ae)||re.fromLocationName&&re.fromLocationName.toLowerCase().includes(ae)||re.movementType.toLowerCase().includes(ae))}return N.sort((ae,re)=>new Date(re.createdDate).getTime()-new Date(ae.createdDate).getTime())}),ye=Fe(()=>{const N=(C()-1)*x,ae=N+x;return ue().slice(N,ae)}),X=Fe(()=>Math.ceil(ue().length/x)),Y=Fe(()=>{const N=ue();return{total:N.length,stockIn:N.filter(ae=>ae.movementType==="in").length,stockOut:N.filter(ae=>ae.movementType==="out").length,transfers:N.filter(ae=>ae.movementType==="transfer").length,adjustments:N.filter(ae=>ae.movementType==="adjustment").length,totalValue:N.reduce((ae,re)=>ae+re.totalCost,0)}}),W={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"2rem"},J={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem","margin-bottom":"2rem",padding:"1.5rem",background:"var(--surface-color)","border-radius":"var(--border-radius)",border:"1px solid var(--border-color)"},m={width:"100%",padding:"0.5rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)",background:"var(--background-color)",cursor:"pointer"},I={width:"100%",padding:"0.5rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)",background:"var(--background-color)"},h={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem","margin-bottom":"2rem"},u={padding:"1rem",background:"var(--surface-color)","border-radius":"var(--border-radius-sm)",border:"1px solid var(--border-color)","text-align":"center"},A={"font-size":"1.5rem","font-weight":"700",color:"var(--primary-color)","margin-bottom":"0.5rem"},S={"font-size":"0.875rem",color:"var(--text-muted)","font-weight":"500"},w={padding:"1.5rem","margin-bottom":"1rem",background:"var(--surface-color)","border-radius":"var(--border-radius)",border:"1px solid var(--border-color)",transition:"all 0.2s ease"},k={display:"flex","justify-content":"space-between","align-items":"flex-start","margin-bottom":"1rem"},E=N=>({padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500","text-transform":"uppercase","letter-spacing":"0.5px",background:ee(N).bg,color:ee(N).color}),de={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem","margin-bottom":"1rem"},P={display:"flex","justify-content":"space-between","align-items":"center",padding:"0.5rem 0","border-bottom":"1px solid var(--border-color)"},z={"font-weight":"500",color:"var(--text-muted)","font-size":"0.875rem"},te={"font-weight":"600",color:"var(--text-primary)"},H={display:"flex","justify-content":"center","align-items":"center",gap:"1rem","margin-top":"2rem"},Q=N=>({padding:"0.5rem 1rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)",background:N?"var(--primary-color)":"var(--surface-color)",color:N?"white":"var(--text-primary)",cursor:"pointer","font-weight":"500",transition:"all 0.2s ease"});function ee(N){return{in:{bg:"#e8f5e8",color:"#2d7d32"},out:{bg:"#ffebee",color:"#d32f2f"},transfer:{bg:"#e3f2fd",color:"#1976d2"},adjustment:{bg:"#fff3e0",color:"#f57c00"}}[N]||{bg:"#f5f5f5",color:"#666"}}const ie=N=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(N),le=N=>new Date(N).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),R=N=>({in:"📦",out:"📤",transfer:"🔄",adjustment:"⚖️"})[N]||"📋",K=()=>{i(""),c(""),a("all"),v({start:"",end:""}),T(""),$(1)},pe=N=>{O(N),q(!0)},fe=N=>{O(N),q(!1),Z(!0)},M=()=>{Z(!1),O(null)},F=async N=>{l()&&(N+=" "+l()),Kn(s())&&(N+=" "+Kn(s()));const ae=await kr.getInventory(N);console.log("apiResults",N);const re=Object.keys(ae).slice(0,900),ve=[],ge=g=>{let p=ae;p[g]?.products&&p[g]?.products?.map(G=>{let me=vl(p[g]?.type),V={id:p[g]?.ssg_inventory_key,productId:G?.product?.id,productName:G?.product?.label,productSku:G?.product?.code,locationId:p[g]?.store,locationName:p[g]?.store,location:p[g]?.store,movementType:me,quantity:G?.qty,unitCost:G?.price,totalCost:G?.qty*1*G?.price,minStock:10,referenceNumber:"PO-001",notes:p[g]?.description||p[g]?.notes,createdBy:"admin",createdDate:p[g]?.createDate?new Date(p[g]?.createDate).toISOString():new Date().toISOString(),invoiceId:p[g]?.invoice};ve.push(V)})};re.map(ge),Le.updMovements(ve)};return(()=>{var N=Qa(),ae=N.firstChild,re=ae.nextSibling,ve=re.firstChild,ge=ve.firstChild,g=ge.nextSibling,p=g.firstChild,G=p.nextSibling,me=G.nextSibling,V=me.nextSibling,se=V.nextSibling,B=ve.nextSibling,be=B.firstChild,xe=be.nextSibling,Se=B.nextSibling,_e=Se.firstChild,Ee=_e.nextSibling,Me=re.nextSibling,$e=Me.firstChild,Ce=$e.firstChild,De=Ce.nextSibling,Te=$e.nextSibling,Be=Te.firstChild,Re=Be.nextSibling,Pe=Te.nextSibling,qe=Pe.firstChild,Ke=qe.nextSibling,Ge=Pe.nextSibling,he=Ge.firstChild,He=he.nextSibling,rt=Ge.nextSibling,tt=rt.firstChild,ot=tt.nextSibling,Qe=rt.nextSibling,at=Qe.firstChild,yt=at.nextSibling;return r(N,(()=>{var ke=U(()=>!t.filterBy);return()=>ke()&&(()=>{var Ie=Ka(),Oe=Ie.firstChild;return o(Ie,W),Oe.style.setProperty("margin","0"),Oe.style.setProperty("font-size","1.5rem"),r(Oe,()=>e("inventory.movements")),r(Ie,y(Ae,{variant:"outline",onClick:K,get children(){return e("common.clearFilters")}}),null),Ie})()})(),ae),r(N,y(Fa,{filters:{selectedLocation:l,movementType:s},onSearchResults:ke=>{D(ke),F(ke)},get placeholder(){return e("inventory.searchProductsStock","Search inventories...")},showResults:!1,maxResults:20}),ae),ae.style.setProperty("margin","20px"),o(re,J),r(re,(()=>{var ke=U(()=>!t.filterBy);return()=>ke()&&[(()=>{var Ie=vo(),Oe=Ie.firstChild,je=Oe.nextSibling,Ye=je.firstChild;return Oe.style.setProperty("display","block"),Oe.style.setProperty("margin-bottom","0.5rem"),Oe.style.setProperty("font-weight","500"),r(Oe,()=>e("inventory.product")),je.addEventListener("change",Ve=>i(Ve.target.value)),r(Ye,()=>e("inventory.allProducts")),r(je,y(ct,{get each(){return Le.products},children:Ve=>(()=>{var nt=Za(),we=nt.firstChild,Xe=we.nextSibling;return Xe.nextSibling,r(nt,()=>Ve.name,we),r(nt,()=>Ve.sku,Xe),j(()=>nt.value=Ve.id),nt})()}),null),j(Ve=>o(je,m,Ve)),j(()=>je.value=n()),Ie})(),(()=>{var Ie=vo(),Oe=Ie.firstChild,je=Oe.nextSibling,Ye=je.firstChild;return Oe.style.setProperty("display","block"),Oe.style.setProperty("margin-bottom","0.5rem"),Oe.style.setProperty("font-weight","500"),r(Oe,()=>e("inventory.location")),je.addEventListener("change",Ve=>c(Ve.target.value)),r(Ye,()=>e("inventory.allLocations")),r(je,y(ct,{get each(){return Le.locations},children:Ve=>(()=>{var nt=Xa();return r(nt,()=>Ve.name),j(()=>nt.value=Ve.id),nt})()}),null),j(Ve=>o(je,m,Ve)),j(()=>je.value=l()),Ie})()]})(),ve),ge.style.setProperty("display","block"),ge.style.setProperty("margin-bottom","0.5rem"),ge.style.setProperty("font-weight","500"),r(ge,()=>e("inventory.movementType")),g.addEventListener("change",ke=>{a(ke.target.value),F(L())}),r(p,()=>e("inventory.allTypes")),r(G,()=>e("inventory.stockIn")),r(me,()=>e("inventory.stockOut")),r(V,()=>e("inventory.transfer")),r(se,()=>e("inventory.adjustment")),be.style.setProperty("display","block"),be.style.setProperty("margin-bottom","0.5rem"),be.style.setProperty("font-weight","500"),r(be,()=>e("common.startDate")),xe.addEventListener("change",ke=>v(Ie=>({...Ie,start:ke.target.value}))),_e.style.setProperty("display","block"),_e.style.setProperty("margin-bottom","0.5rem"),_e.style.setProperty("font-weight","500"),r(_e,()=>e("common.endDate")),Ee.addEventListener("change",ke=>v(Ie=>({...Ie,end:ke.target.value}))),o(Me,h),r(Ce,()=>Y().total),r(De,()=>e("inventory.totalMovements")),r(Be,()=>Y().stockIn),r(Re,()=>e("inventory.stockIn")),r(qe,()=>Y().stockOut),r(Ke,()=>e("inventory.stockOut")),r(he,()=>Y().transfers),r(He,()=>e("inventory.transfers")),r(tt,()=>Y().adjustments),r(ot,()=>e("inventory.adjustments")),r(at,()=>ie(Y().totalValue)),r(yt,()=>e("inventory.totalValue")),r(N,(()=>{var ke=U(()=>ye().length===0);return()=>ke()?(()=>{var Ie=ec(),Oe=Ie.firstChild,je=Oe.nextSibling,Ye=je.nextSibling;return Ie.style.setProperty("text-align","center"),Ie.style.setProperty("padding","3rem"),Ie.style.setProperty("color","var(--text-muted)"),Ie.style.setProperty("background","var(--surface-color)"),Ie.style.setProperty("border-radius","var(--border-radius)"),Ie.style.setProperty("border","1px solid var(--border-color)"),Oe.style.setProperty("font-size","1.5rem"),Oe.style.setProperty("margin-bottom","1rem"),je.style.setProperty("font-size","1.1rem"),je.style.setProperty("margin-bottom","0.5rem"),r(je,()=>e("inventory.noMovementsFound")),Ye.style.setProperty("font-size","0.875rem"),r(Ye,()=>e("inventory.tryAdjustingFilters")),Ie})():[y(ct,{get each(){return ye()},children:Ie=>(()=>{var Oe=tc(),je=Oe.firstChild,Ye=je.firstChild,Ve=Ye.firstChild,nt=Ve.firstChild,we=nt.nextSibling,Xe=we.nextSibling,vt=Ve.nextSibling,wt=vt.firstChild,ht=Ye.nextSibling,pt=ht.firstChild,xt=pt.nextSibling,St=xt.firstChild,Dt=St.nextSibling;Dt.nextSibling;var At=je.nextSibling,It=At.firstChild,Et=It.firstChild,Ft=Et.firstChild,sr=Ft.firstChild,Jt=Ft.nextSibling,Qt=Et.nextSibling,Kt=Qt.firstChild,Ar=Kt.firstChild,fr=Kt.nextSibling,br=It.nextSibling,hr=br.firstChild,Zt=hr.firstChild,Ir=Zt.firstChild,Sr=Zt.nextSibling;return Oe.addEventListener("mouseleave",Je=>{Je.currentTarget.style.transform="translateY(0)",Je.currentTarget.style.boxShadow="none"}),Oe.addEventListener("mouseenter",Je=>{Je.currentTarget.style.transform="translateY(-2px)",Je.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)"}),Oe.$$click=()=>pe(Ie),o(je,k),Ve.style.setProperty("display","flex"),Ve.style.setProperty("align-items","center"),Ve.style.setProperty("gap","0.5rem"),Ve.style.setProperty("margin-bottom","0.5rem"),nt.style.setProperty("font-size","1.2rem"),r(nt,()=>R(Ie.movementType)),we.style.setProperty("margin","0"),we.style.setProperty("font-size","1.1rem"),r(we,()=>Ie.productName),r(Xe,()=>Ie.movementType),r(Ve,(()=>{var Je=U(()=>!!Ie.invoiceId);return()=>Je()&&(()=>{var dt=rc();return dt.style.setProperty("padding","0.2rem 0.5rem"),dt.style.setProperty("border-radius","var(--border-radius-sm)"),dt.style.setProperty("font-size","0.7rem"),dt.style.setProperty("font-weight","500"),dt.style.setProperty("background","var(--primary-color)"),dt.style.setProperty("color","white"),r(dt,()=>e("inventory.bulk")),dt})()})(),null),vt.style.setProperty("font-size","0.875rem"),vt.style.setProperty("color","var(--text-muted)"),r(vt,()=>Ie.productSku,wt),r(vt,()=>le(Ie.createdDate),null),r(vt,(()=>{var Je=U(()=>!!Ie.invoiceId);return()=>Je()&&(()=>{var dt=nc(),Ct=dt.firstChild,Bt=Ct.nextSibling;return Bt.nextSibling,dt.style.setProperty("margin-left","0.5rem"),dt.style.setProperty("font-weight","500"),r(dt,()=>e("common.invoice"),Bt),r(dt,()=>Ie.invoiceId,null),dt})()})(),null),ht.style.setProperty("text-align","right"),pt.style.setProperty("font-size","1.25rem"),pt.style.setProperty("font-weight","700"),pt.style.setProperty("color","var(--primary-color)"),r(pt,()=>ie(Ie.totalCost)),xt.style.setProperty("font-size","0.875rem"),xt.style.setProperty("color","var(--text-muted)"),r(xt,()=>Ie.quantity,St),r(xt,()=>e("common.units"),Dt),r(xt,()=>ie(Ie.unitCost),null),o(At,de),r(Ft,()=>e("inventory.location"),sr),r(Jt,()=>Ie.locationName),r(It,(()=>{var Je=U(()=>!!Ie.fromLocationName);return()=>Je()&&(()=>{var dt=go(),Ct=dt.firstChild,Bt=Ct.firstChild,jt=Ct.nextSibling;return r(Ct,()=>e("common.from"),Bt),r(jt,()=>Ie.fromLocationName),j(gt=>{var Vt=P,ar=z,Er=te;return gt.e=o(dt,Vt,gt.e),gt.t=o(Ct,ar,gt.t),gt.a=o(jt,Er,gt.a),gt},{e:void 0,t:void 0,a:void 0}),dt})()})(),Qt),r(Kt,()=>e("common.reference"),Ar),r(fr,()=>Ie.referenceNumber),r(Zt,()=>e("common.createdBy"),Ir),r(Sr,()=>Ie.createdBy),r(br,(()=>{var Je=U(()=>!!Ie.notes);return()=>Je()&&(()=>{var dt=go(),Ct=dt.firstChild,Bt=Ct.firstChild,jt=Ct.nextSibling;return r(Ct,()=>e("common.notes"),Bt),r(jt,()=>Ie.notes),j(gt=>{var Vt={...P,"border-bottom":"none"},ar=z,Er={...te,"max-width":"200px","text-align":"right","font-style":"italic"};return gt.e=o(dt,Vt,gt.e),gt.t=o(Ct,ar,gt.t),gt.a=o(jt,Er,gt.a),gt},{e:void 0,t:void 0,a:void 0}),dt})()})(),null),j(Je=>{var dt={...w,"border-left":Ie.invoiceId?"4px solid var(--primary-color)":"1px solid var(--border-color)",cursor:"pointer"},Ct=E(Ie.movementType),Bt=P,jt=z,gt=te,Vt=P,ar=z,Er=te,ei=P,ti=z,ri=te;return Je.e=o(Oe,dt,Je.e),Je.t=o(Xe,Ct,Je.t),Je.a=o(Et,Bt,Je.a),Je.o=o(Ft,jt,Je.o),Je.i=o(Jt,gt,Je.i),Je.n=o(Qt,Vt,Je.n),Je.s=o(Kt,ar,Je.s),Je.h=o(fr,Er,Je.h),Je.r=o(hr,ei,Je.r),Je.d=o(Zt,ti,Je.d),Je.l=o(Sr,ri,Je.l),Je},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0}),Oe})()}),U(()=>U(()=>X()>1)()&&(()=>{var Ie=oc();return o(Ie,H),r(Ie,y(Ae,{variant:"outline",size:"sm",onClick:()=>$(Oe=>Math.max(1,Oe-1)),get disabled(){return C()===1},get children(){return e("common.previous")}}),null),r(Ie,y(ct,{get each(){return Array.from({length:X()},(Oe,je)=>je+1)},children:Oe=>(()=>{var je=ic();return je.$$click=()=>$(Oe),r(je,Oe),j(Ye=>o(je,Q(Oe===C()),Ye)),je})()}),null),r(Ie,y(Ae,{variant:"outline",size:"sm",onClick:()=>$(Oe=>Math.min(X(),Oe+1)),get disabled(){return C()===X()},get children(){return e("common.next")}}),null),Ie})())]})(),null),r(N,y(Ya,{get isOpen(){return oe()},onClose:()=>{q(!1),O(null)},get movement(){return b()},onEdit:fe}),null),r(N,y(Ja,{get isOpen(){return ce()},onClose:()=>{Z(!1),O(null)},get movement(){return b()},onMovementUpdated:M}),null),j(ke=>{var Ie=m,Oe=I,je=I,Ye=u,Ve=A,nt=S,we=u,Xe={...A,color:"#2d7d32"},vt=S,wt=u,ht={...A,color:"#d32f2f"},pt=S,xt=u,St={...A,color:"#1976d2"},Dt=S,At=u,It={...A,color:"#f57c00"},Et=S,Ft=u,sr=A,Jt=S;return ke.e=o(g,Ie,ke.e),ke.t=o(xe,Oe,ke.t),ke.a=o(Ee,je,ke.a),ke.o=o($e,Ye,ke.o),ke.i=o(Ce,Ve,ke.i),ke.n=o(De,nt,ke.n),ke.s=o(Te,we,ke.s),ke.h=o(Be,Xe,ke.h),ke.r=o(Re,vt,ke.r),ke.d=o(Pe,wt,ke.d),ke.l=o(qe,ht,ke.l),ke.u=o(Ke,pt,ke.u),ke.c=o(Ge,xt,ke.c),ke.w=o(he,St,ke.w),ke.m=o(He,Dt,ke.m),ke.f=o(rt,At,ke.f),ke.y=o(tt,It,ke.y),ke.g=o(ot,Et,ke.g),ke.p=o(Qe,Ft,ke.p),ke.b=o(at,sr,ke.b),ke.T=o(yt,Jt,ke.T),ke},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0}),j(()=>g.value=s()),j(()=>xe.value=d().start),j(()=>Ee.value=d().end),N})()};ut(["click"]);var sc=_("<div>🔄"),ac=_("<button type=button>×"),cc=_("<div>⚠️ "),po=_("<div>"),dc=_("<div><div><input type=text autocomplete=off>"),uc=_("<div><div><div><div></div><div><span>: </span><span>•</span><span></span><span>•</span><span></span></div></div><div><div> </div><div>"),yc=_("<span>⚠️ ");const mc=t=>{const{t:e}=We(),[n,i]=ne(""),[l,c]=ne(!1),[s,a]=ne(null),[d,v]=ne([]),[f,T]=ne(!1),[L,D]=ne(-1),[C,$]=ne(null),x=t.searchDelay||300,b=t.maxResults||900,O=async te=>{if(!te.trim()||te.trim().length<3){v([]),t.onSearchResults?.([]);return}try{c(!0),a(null);try{const H=await kr.getProducts(te),Q=Object.keys(H);console.log(H);const ee=le=>{let R=H;return{id:le,name:R[le].name,businessId:R[le].businessId,sku:R[le].code,UPC:R[le].UPC,numCode:R[le].codeN,category:R[le].category,unitCost:R[le].unitCost||0,unitOfMeasure:R[le].unitOfMeasure,minStockLevel:R[le].minStockLevel,maxStockLevel:R[le].maxStockLevel,isActive:R[le].isActive,description:R[le].description||"",createdDate:R[le].createdAt||new Date().toISOString(),lastModified:R[le].updatedAt||new Date().toISOString()}},ie=Q.map(ee);v(ie),t.onSearchResults?.(ie)}catch(H){console.warn("API search failed, using local fallback:",H),a("API search failed, showing local results");const Q=Le.getActiveProducts().filter(ee=>ee.name.toLowerCase().includes(te.toLowerCase())||ee.sku.toLowerCase().includes(te.toLowerCase())||ee.category.toLowerCase().includes(te.toLowerCase())).slice(0,b);v(Q),t.onSearchResults?.(Q)}}catch(H){const Q=H instanceof Error?H.message:"Search failed";a(Q),v([]),t.onSearchResults?.([])}finally{c(!1)}},oe=te=>{const Q=te.target.value;i(Q),a(null),t.showResults!==!1&&T(!0),C()&&clearTimeout(C());const ee=setTimeout(()=>{O(Q)},x);$(ee)},q=te=>{i(te.name),T(!1),D(-1),t.onProductSelect?.(te)},ce=te=>{if(!(!f()||d().length===0))switch(te.key){case"ArrowDown":te.preventDefault(),D(H=>Math.min(H+1,d().length-1));break;case"ArrowUp":te.preventDefault(),D(H=>Math.max(H-1,-1));break;case"Enter":te.preventDefault(),L()>=0&&d()[L()]&&q(d()[L()]);break;case"Escape":T(!1),D(-1);break}},Z=()=>{t.showResults!==!1&&d().length>0&&T(!0)},ue=()=>{setTimeout(()=>{T(!1),D(-1)},150)},ye=()=>{i(""),v([]),a(null),T(!1),D(-1),t.onSearchResults?.([]),C()&&(clearTimeout(C()),$(null))},X=te=>Le.stockLevels.filter(H=>H.productId===te).reduce((H,Q)=>H+Q.quantity,0),Y=te=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(te),W={position:"relative",width:"100%",...t.style},J={position:"relative",display:"flex","align-items":"center"},m={width:"100%",padding:"0.75rem","padding-right":n()?"2.5rem":"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)",cursor:t.disabled?"not-allowed":"text",opacity:t.disabled?"0.6":"1",outline:"none",transition:"border-color 0.2s ease"},I={position:"absolute",right:"0.5rem",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"var(--text-muted)","font-size":"1.2rem","line-height":"1",padding:"0.25rem","border-radius":"50%",transition:"all 0.2s ease"},h={position:"absolute",right:n()?"2.5rem":"0.75rem",top:"50%",transform:"translateY(-50%)","font-size":"0.875rem",color:"var(--text-muted)"},u={position:"absolute",top:"100%",left:"0",right:"0","z-index":"1000","max-height":"300px","overflow-y":"auto",background:"var(--surface-color)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","box-shadow":"0 4px 12px rgba(0,0,0,0.15)","margin-top":"2px"},A=te=>({padding:"0.75rem",cursor:"pointer","border-bottom":"1px solid var(--border-color)",background:te?"var(--strip-color)":"transparent",transition:"background-color 0.2s ease"}),S={display:"flex","justify-content":"space-between","align-items":"center"},w={flex:"1"},k={"font-weight":"500","margin-bottom":"0.25rem",color:"var(--text-primary)"},E={"font-size":"0.875rem",color:"var(--text-muted)",display:"flex",gap:"0.5rem"},de={"text-align":"right","font-size":"0.875rem"},P={padding:"1rem","text-align":"center",color:"var(--text-muted)","font-style":"italic"},z={padding:"0.5rem 1rem",background:"#fff3cd",color:"#856404","border-bottom":"1px solid var(--border-color)","font-size":"0.875rem"};return(()=>{var te=dc(),H=te.firstChild,Q=H.firstChild;return Q.addEventListener("blur",ue),Q.addEventListener("focus",Z),Q.$$keydown=ce,Q.$$input=oe,r(H,y(Ue,{get when(){return l()},get children(){var ee=sc();return j(ie=>o(ee,h,ie)),ee}}),null),r(H,y(Ue,{get when(){return U(()=>!!n())()&&!l()},get children(){var ee=ac();return ee.addEventListener("mouseleave",ie=>{ie.currentTarget.style.background="none",ie.currentTarget.style.color="var(--text-muted)"}),ee.addEventListener("mouseenter",ie=>{ie.currentTarget.style.background="var(--border-color)",ie.currentTarget.style.color="var(--text-primary)"}),ee.$$click=ye,j(ie=>{var le=I,R=e("common.clear","Clear search");return ie.e=o(ee,le,ie.e),R!==ie.t&&Ze(ee,"title",ie.t=R),ie},{e:void 0,t:void 0}),ee}}),null),r(te,y(Ue,{get when(){return f()&&t.showResults!==!1},get children(){var ee=po();return r(ee,y(Ue,{get when(){return s()},get children(){var ie=cc();return ie.firstChild,o(ie,z),r(ie,s,null),ie}}),null),r(ee,y(Ue,{get when(){return d().length>0},get fallback(){return U(()=>!!(n()&&!l()))()&&(()=>{var ie=po();return o(ie,P),r(ie,()=>e("inventory.noProductsFound","No products found matching your search.")),ie})()},get children(){return y(ct,{get each(){return d()},children:(ie,le)=>{const R=X(ie.id),K=R<=ie.minStockLevel;return(()=>{var pe=uc(),fe=pe.firstChild,M=fe.firstChild,F=M.firstChild,N=F.nextSibling,ae=N.firstChild,re=ae.firstChild,ve=ae.nextSibling,ge=ve.nextSibling,g=ge.nextSibling,p=g.nextSibling,G=M.nextSibling,me=G.firstChild,V=me.firstChild,se=me.nextSibling;return pe.addEventListener("mouseenter",()=>D(le())),pe.$$click=()=>q(ie),o(fe,S),o(M,w),o(F,k),r(F,()=>ie.name),o(N,E),r(ae,()=>e("inventory.sku","SKU"),re),r(ae,()=>ie.sku,null),r(ge,()=>ie.category),r(p,()=>Y(ie.unitCost)),o(G,de),me.style.setProperty("font-weight","600"),(K?"#f44336":"var(--text-primary)")!=null?me.style.setProperty("color",K?"#f44336":"var(--text-primary)"):me.style.removeProperty("color"),r(me,R,V),r(me,()=>ie.unitOfMeasure,null),se.style.setProperty("color","var(--text-muted)"),r(se,()=>K?(()=>{var B=yc();return B.firstChild,B.style.setProperty("color","#f44336"),r(B,()=>e("inventory.lowStock","Low Stock"),null),B})():e("inventory.inStock","In Stock")),j(B=>o(pe,A(le()===L()),B)),pe})()}})}}),null),j(ie=>o(ee,u,ie)),ee}}),null),j(ee=>{var ie=W,le=J,R=m,K=t.placeholder||e("inventory.searchProducts","Search products by name, SKU, or category..."),pe=t.disabled;return ee.e=o(te,ie,ee.e),ee.t=o(H,le,ee.t),ee.a=o(Q,R,ee.a),K!==ee.o&&Ze(Q,"placeholder",ee.o=K),pe!==ee.i&&(Q.disabled=ee.i=pe),ee},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),j(()=>Q.value=n()),te})()};ut(["input","keydown","click"]);var vc=_("<div><h3></h3><div><div><div>:</div><div></div></div><div><div>:</div><div></div></div><div><div>:</div><div></div></div><div><div>:</div><div></div></div></div><div><p>💡 "),gc=_("<div><div><div><div><h2></h2><button>×</button></div><div><div><label>:</label><select><option value=all></option></select></div><div><label>:</label><select><option value=all></option></select></div><div><label>:</label><select><option value=name></option><option value=sku></option><option value=category></option></select></div><div></div></div></div><div>"),fo=_("<option>"),pc=_("<div>Loading products...");const fc=t=>{const{t:e}=We(),[n,i]=ne([]),[l,c]=ne(!1),[s,a]=ne("all"),[d,v]=ne("all"),[f,T]=ne("name"),[L,D]=ne(!1);console.log("InventoryCountingSheet rendered, isOpen:",t.isOpen),_r(async()=>{await x(),t.selectedLocationId&&a(t.selectedLocationId)});const C=X=>{a(X)},$=X=>{v(X)},x=async()=>{try{c(!0),console.log("Loading products for counting sheet...");let X="";s()&&s(),d()&&d()!=="all"&&(X+=" "+d()),X.trim()||(X="prod");const Y=await kr.getProducts(X);if(console.log("API Results:",X,Y),!Y||typeof Y!="object"){console.warn("No API results, using local store"),i(Le.products);return}const W=Object.keys(Y);console.log("Products count:",W.length);const J=I=>{let u=Y[I];return{id:I,name:u.name||"Unknown Product",businessId:u.businessId||"",sku:u.code||u.sku||"",UPC:u.UPC||"",numCode:u.codeN||"",category:u.category||"General",unitCost:u.unitCost||0,unitOfMeasure:u.unitOfMeasure||"pcs",minStockLevel:u.minStockLevel||0,maxStockLevel:u.maxStockLevel||100,isActive:u.isActive!==!1,description:u.description||"",createdDate:u.createdAt||new Date().toISOString(),lastModified:u.updatedAt||new Date().toISOString(),sellingPrice:parseFloat(u.sellingPrice||u.price||"0")}},m=W.map(J);console.log("Parsed products:",m.length),i(m)}catch(X){console.error("Failed to load products from API:",X),console.log("Using local store as fallback"),i(Le.products)}finally{c(!1)}},b=Fe(()=>[...new Set(n().map(Y=>Y.category).filter(Y=>Y))].sort()),O=Fe(()=>{let X=n().filter(Y=>Y.isActive);return d()!=="all"&&(X=X.filter(Y=>Y.category===d())),X.sort((Y,W)=>{switch(f()){case"name":return Y.name.localeCompare(W.name);case"sku":return Y.sku.localeCompare(W.sku);case"category":return Y.category.localeCompare(W.category)||Y.name.localeCompare(W.name);default:return 0}}),X}),oe=Fe(()=>Le.getActiveLocations()),q=(X,Y)=>Y&&Y!=="all"?Le.getStockByProductAndLocation(X,Y)?.quantity||0:Le.getTotalStockByProduct(X),ce=()=>{const X=window.open("","_blank");if(!X){alert("Please allow pop-ups to print the counting sheet");return}const Y=Z();X.document.write(Y),X.document.close(),X.onload=()=>{X.print(),X.onafterprint=()=>{X.close()}}},Z=()=>{const X=O().map((W,J)=>{const m=q(W.id,s()!=="all"?s():void 0);return`
        <tr>
          <td style="border: 1px solid #000; padding: 8px; text-align: center;">${J+1}</td>
          <td style="border: 1px solid #000; padding: 8px; font-family: monospace;">${W.sku}</td>
          <td style="border: 1px solid #000; padding: 8px;">
            <div style="font-weight: 500;">${W.name}</div>
            ${W.UPC?`<div style="font-size: 0.8em; color: #666;">UPC: ${W.UPC}</div>`:""}
          </td>
          <td style="border: 1px solid #000; padding: 8px;">${W.category}</td>
          <td style="border: 1px solid #000; padding: 8px; text-align: center;">${W.unitOfMeasure}</td>
          <td style="border: 1px solid #000; padding: 8px; text-align: center; font-weight: bold;">${m}</td>
          <td style="border: 1px solid #000; padding: 8px; text-align: center; background-color: #f9f9f9;">________</td>
          <td style="border: 1px solid #000; padding: 8px;">_______________</td>
        </tr>
      `}).join(""),Y=e("inventory.countInstructions",["Count all items physically present at this location",'Write the actual count in the "Physical Count" column',"Leave blank if item is not found",'Note any discrepancies in the "Notes" column',"Sign and date when complete"]);return`
      <!DOCTYPE html>
      <html>
      <head>
        <title>${e("inventory.countingSheet","Inventory Counting Sheet")} - ${ue()}</title>
        <style>
          @page {
            size: letter;
            margin: 0.5in;
          }
          body {
            font-family: Arial, sans-serif;
            font-size: 12px;
            margin: 0;
            padding: 0;
          }
          h1 {
            text-align: center;
            margin: 0 0 10px 0;
            font-size: 24px;
          }
          .header-info {
            text-align: center;
            margin-bottom: 20px;
          }
          .instructions {
            background-color: #f0f0f0;
            padding: 10px;
            margin-bottom: 20px;
            border: 1px solid #ccc;
          }
          table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
          }
          th {
            background-color: #333;
            color: white;
            padding: 8px;
            text-align: left;
            font-weight: bold;
            border: 1px solid #000;
          }
          .summary-table {
            width: 50%;
            margin: 20px auto;
          }
          .signature-section {
            margin-top: 40px;
            display: flex;
            justify-content: space-between;
          }
          .signature-box {
            width: 45%;
            text-align: center;
          }
          .signature-line {
            border-bottom: 1px solid #000;
            margin-bottom: 5px;
            height: 30px;
          }
          @media print {
            tr { page-break-inside: avoid; }
          }
        </style>
      </head>
      <body>
        <h1>${e("inventory.inventoryCountingSheetTitle","INVENTORY COUNTING SHEET")}</h1>
        <div class="header-info">
          <p><strong>${e("inventory.location","Location")}:</strong> ${ye()}</p>
          <p><strong>${e("inventory.category","Category")}:</strong> ${d()==="all"?e("inventory.allCategories","All Categories"):d()}</p>
          <p><strong>${e("common.date","Date")}:</strong> ${ue()}</p>
          <p style="margin-top: 10px;">
            <span style="margin-right: 30px;">${e("inventory.countedBy","Counted by")}: _________________________</span>
            <span>${e("inventory.verifiedBy","Verified by")}: _________________________</span>
          </p>
        </div>
        
        <div class="instructions">
          <h3 style="margin: 0 0 10px 0;">${e("inventory.instructions","Instructions")}:</h3>
          <ul style="margin: 0; padding-left: 20px;">
            ${Array.isArray(Y)?Y.map(W=>`<li>${W}</li>`).join(""):`<li>${e("inventory.countInstructions[0]","Count all items physically present at this location")}</li>
               <li>${e("inventory.countInstructions[1]",'Write the actual count in the "Physical Count" column')}</li>
               <li>${e("inventory.countInstructions[2]","Leave blank if item is not found")}</li>
               <li>${e("inventory.countInstructions[3]",'Note any discrepancies in the "Notes" column')}</li>
               <li>${e("inventory.countInstructions[4]","Sign and date when complete")}</li>`}
          </ul>
        </div>
        
        <table>
          <thead>
            <tr>
              <th style="width: 5%; text-align: center;">#</th>
              <th style="width: 12%;">${e("inventory.sku","SKU")}</th>
              <th style="width: 25%;">${e("inventory.productName","Product Name")}</th>
              <th style="width: 12%;">${e("inventory.category","Category")}</th>
              <th style="width: 8%; text-align: center;">${e("inventory.unit","Unit")}</th>
              <th style="width: 10%; text-align: center;">${e("inventory.systemQty","System Qty")}</th>
              <th style="width: 12%; text-align: center; background-color: #f0f0f0;">${e("inventory.physicalCount","Physical Count")}</th>
              <th style="width: 16%;">${e("common.notes","Notes")}</th>
            </tr>
          </thead>
          <tbody>
            ${X}
          </tbody>
        </table>
        
        <table class="summary-table">
          <tr>
            <td style="border: 1px solid #000; padding: 8px; font-weight: bold; background-color: #f0f0f0;">
              ${e("inventory.totalProductsListed","Total Products Listed")}:
            </td>
            <td style="border: 1px solid #000; padding: 8px; text-align: center; font-weight: bold;">
              ${O().length}
            </td>
          </tr>
          <tr>
            <td style="border: 1px solid #000; padding: 8px; font-weight: bold; background-color: #f0f0f0;">
              ${e("inventory.itemsCounted","Items Counted")}:
            </td>
            <td style="border: 1px solid #000; padding: 8px; text-align: center;">
              ___________
            </td>
          </tr>
          <tr>
            <td style="border: 1px solid #000; padding: 8px; font-weight: bold; background-color: #f0f0f0;">
              ${e("inventory.discrepanciesFound","Discrepancies Found")}:
            </td>
            <td style="border: 1px solid #000; padding: 8px; text-align: center;">
              ___________
            </td>
          </tr>
        </table>
        
        <div class="signature-section">
          <div class="signature-box">
            <div class="signature-line"></div>
            <p>${e("inventory.counterSignature","Counter Signature")}</p>
            <p>${e("common.date","Date")}: _______________</p>
          </div>
          <div class="signature-box">
            <div class="signature-line"></div>
            <p>${e("inventory.supervisorSignature","Supervisor Signature")}</p>
            <p>${e("common.date","Date")}: _______________</p>
          </div>
        </div>
      </body>
      </html>
    `},ue=()=>new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),ye=Fe(()=>s()==="all"?"All Locations":oe().find(Y=>Y.id===s())?.name||"Unknown Location");return y(Ue,{get when(){return t.isOpen},get children(){var X=gc(),Y=X.firstChild,W=Y.firstChild,J=W.firstChild,m=J.firstChild,I=m.nextSibling,h=J.nextSibling,u=h.firstChild,A=u.firstChild,S=A.firstChild,w=A.nextSibling,k=w.firstChild,E=u.nextSibling,de=E.firstChild,P=de.firstChild,z=de.nextSibling,te=z.firstChild,H=E.nextSibling,Q=H.firstChild,ee=Q.firstChild,ie=Q.nextSibling,le=ie.firstChild,R=le.nextSibling,K=R.nextSibling,pe=H.nextSibling,fe=W.nextSibling;return X.style.setProperty("position","fixed"),X.style.setProperty("top","0"),X.style.setProperty("left","0"),X.style.setProperty("right","0"),X.style.setProperty("bottom","0"),X.style.setProperty("background","rgba(0, 0, 0, 0.5)"),X.style.setProperty("z-index","1000"),X.style.setProperty("display","flex"),X.style.setProperty("align-items","center"),X.style.setProperty("justify-content","center"),Y.style.setProperty("background","white"),Y.style.setProperty("border-radius","var(--border-radius)"),Y.style.setProperty("overflow-y","auto"),Y.style.setProperty("position","relative"),J.style.setProperty("display","flex"),J.style.setProperty("justify-content","space-between"),J.style.setProperty("align-items","center"),J.style.setProperty("margin-bottom","2rem"),J.style.setProperty("border-bottom","1px solid var(--border-color)"),J.style.setProperty("padding-bottom","1rem"),m.style.setProperty("margin","0"),m.style.setProperty("font-size","1.5rem"),r(m,()=>e("inventory.countingSheet","Inventory Counting Sheet")),lr(I,"click",t.onClose,!0),I.style.setProperty("background","none"),I.style.setProperty("border","none"),I.style.setProperty("font-size","1.5rem"),I.style.setProperty("cursor","pointer"),I.style.setProperty("padding","0.5rem"),h.style.setProperty("display","grid"),h.style.setProperty("grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))"),h.style.setProperty("gap","1rem"),h.style.setProperty("margin-bottom","2rem"),h.style.setProperty("padding","1rem"),h.style.setProperty("background","var(--surface-color)"),h.style.setProperty("border-radius","var(--border-radius)"),A.style.setProperty("display","block"),A.style.setProperty("margin-bottom","0.5rem"),A.style.setProperty("font-weight","500"),r(A,()=>e("inventory.location","Location"),S),w.addEventListener("change",M=>C(M.target.value)),w.style.setProperty("width","100%"),w.style.setProperty("padding","0.5rem"),w.style.setProperty("border","1px solid var(--border-color)"),w.style.setProperty("border-radius","var(--border-radius-sm)"),r(k,()=>e("inventory.allLocations","All Locations")),r(w,y(ct,{get each(){return oe()},children:M=>(()=>{var F=fo();return r(F,()=>M.name),j(()=>F.value=M.id),F})()}),null),de.style.setProperty("display","block"),de.style.setProperty("margin-bottom","0.5rem"),de.style.setProperty("font-weight","500"),r(de,()=>e("inventory.category","Category"),P),z.addEventListener("change",M=>$(M.target.value)),z.style.setProperty("width","100%"),z.style.setProperty("padding","0.5rem"),z.style.setProperty("border","1px solid var(--border-color)"),z.style.setProperty("border-radius","var(--border-radius-sm)"),r(te,()=>e("products.allCategories","All Categories")),r(z,y(ct,{get each(){return b()},children:M=>(()=>{var F=fo();return F.value=M,r(F,M),F})()}),null),Q.style.setProperty("display","block"),Q.style.setProperty("margin-bottom","0.5rem"),Q.style.setProperty("font-weight","500"),r(Q,()=>e("inventory.sortBy","Sort By"),ee),ie.addEventListener("change",M=>T(M.target.value)),ie.style.setProperty("width","100%"),ie.style.setProperty("padding","0.5rem"),ie.style.setProperty("border","1px solid var(--border-color)"),ie.style.setProperty("border-radius","var(--border-radius-sm)"),r(le,()=>e("inventory.productName","Product Name")),r(R,()=>e("inventory.sku","SKU")),r(K,()=>e("inventory.category","Category")),pe.style.setProperty("display","flex"),pe.style.setProperty("align-items","end"),pe.style.setProperty("gap","1rem"),r(pe,y(Ae,{variant:"primary",onClick:ce,get disabled(){return l()},get children(){return["🖨️ ",U(()=>e("common.print","Print"))]}}),null),r(pe,y(Ae,{variant:"outline",onClick:x,get disabled(){return l()},get children(){return["🔄 ",U(()=>e("common.refresh","Refresh"))]}}),null),fe.style.setProperty("padding","1rem"),r(fe,y(Ue,{get when(){return!l()},get fallback(){return(()=>{var M=pc();return M.style.setProperty("text-align","center"),M.style.setProperty("padding","2rem"),M})()},get children(){var M=vc(),F=M.firstChild,N=F.nextSibling,ae=N.firstChild,re=ae.firstChild,ve=re.firstChild,ge=re.nextSibling,g=ae.nextSibling,p=g.firstChild,G=p.firstChild,me=p.nextSibling,V=g.nextSibling,se=V.firstChild,B=se.firstChild,be=se.nextSibling,xe=V.nextSibling,Se=xe.firstChild,_e=Se.firstChild,Ee=Se.nextSibling,Me=N.nextSibling,$e=Me.firstChild;return $e.firstChild,M.style.setProperty("background","var(--surface-color)"),M.style.setProperty("padding","2rem"),M.style.setProperty("border-radius","var(--border-radius)"),M.style.setProperty("text-align","center"),F.style.setProperty("margin-bottom","1rem"),r(F,()=>e("inventory.countingSheetReady","Counting Sheet Ready")),N.style.setProperty("display","grid"),N.style.setProperty("grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))"),N.style.setProperty("gap","1rem"),N.style.setProperty("margin-bottom","2rem"),N.style.setProperty("text-align","left"),ae.style.setProperty("padding","1rem"),ae.style.setProperty("background","var(--background-color)"),ae.style.setProperty("border-radius","var(--border-radius-sm)"),re.style.setProperty("font-weight","600"),re.style.setProperty("margin-bottom","0.5rem"),r(re,()=>e("inventory.location","Location"),ve),r(ge,ye),g.style.setProperty("padding","1rem"),g.style.setProperty("background","var(--background-color)"),g.style.setProperty("border-radius","var(--border-radius-sm)"),p.style.setProperty("font-weight","600"),p.style.setProperty("margin-bottom","0.5rem"),r(p,()=>e("inventory.category","Category"),G),r(me,(()=>{var Ce=U(()=>d()==="all");return()=>Ce()?e("products.allCategories","All Categories"):d()})()),V.style.setProperty("padding","1rem"),V.style.setProperty("background","var(--background-color)"),V.style.setProperty("border-radius","var(--border-radius-sm)"),se.style.setProperty("font-weight","600"),se.style.setProperty("margin-bottom","0.5rem"),r(se,()=>e("inventory.sortedBy","Sorted By"),B),r(be,(()=>{var Ce=U(()=>f()==="name");return()=>Ce()&&e("inventory.productName","Product Name")})(),null),r(be,(()=>{var Ce=U(()=>f()==="sku");return()=>Ce()&&e("inventory.sku","SKU")})(),null),r(be,(()=>{var Ce=U(()=>f()==="category");return()=>Ce()&&e("inventory.category","Category")})(),null),xe.style.setProperty("padding","1rem"),xe.style.setProperty("background","var(--background-color)"),xe.style.setProperty("border-radius","var(--border-radius-sm)"),Se.style.setProperty("font-weight","600"),Se.style.setProperty("margin-bottom","0.5rem"),r(Se,()=>e("inventory.totalProducts","Total Products"),_e),Ee.style.setProperty("font-size","1.25rem"),Ee.style.setProperty("font-weight","700"),Ee.style.setProperty("color","var(--primary-color)"),r(Ee,()=>O().length),Me.style.setProperty("padding","1rem"),Me.style.setProperty("background","#fff3cd"),Me.style.setProperty("border-radius","var(--border-radius-sm)"),Me.style.setProperty("margin-bottom","2rem"),$e.style.setProperty("margin","0"),$e.style.setProperty("color","#856404"),r($e,()=>e("inventory.printTip","Click the Print button to generate a PDF counting sheet. Make sure pop-ups are enabled for this site."),null),r(M,y(Ae,{variant:"primary",size:"large",onClick:ce,get disabled(){return l()||O().length===0},get children(){return["🖨️ ",U(()=>e("inventory.generatePDF","Generate PDF Counting Sheet"))]}}),null),M}})),j(M=>{var F=L()?"0":"2rem",N=L()?"100%":"90%",ae=L()?"100%":"90%",re=L()?"none":"1200px",ve=L()?"none":"90vh",ge=L()?"no-print":"";return F!==M.e&&((M.e=F)!=null?Y.style.setProperty("padding",F):Y.style.removeProperty("padding")),N!==M.t&&((M.t=N)!=null?Y.style.setProperty("width",N):Y.style.removeProperty("width")),ae!==M.a&&((M.a=ae)!=null?Y.style.setProperty("height",ae):Y.style.removeProperty("height")),re!==M.o&&((M.o=re)!=null?Y.style.setProperty("max-width",re):Y.style.removeProperty("max-width")),ve!==M.i&&((M.i=ve)!=null?Y.style.setProperty("max-height",ve):Y.style.removeProperty("max-height")),ge!==M.n&&dn(W,M.n=ge),M},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),j(()=>w.value=s()),j(()=>z.value=d()),j(()=>ie.value=f()),X}})};ut(["click"]);var bc=_("<div><p>📋 "),hc=_("<div><div>📊</div><h3></h3><p></p><div><div><label>:</label><select><option value=all></option></select></div><div><label>:</label><select><option value=all></option></select></div><div><label>:</label><select><option value=name></option><option value=sku></option><option value=category>"),Sc=_("<div><div><div><div></div><div></div></div><div><div></div><div></div></div><div><div></div><div></div></div><div><div>%</div><div></div></div></div><div></div><div><table><thead><tr><th></th><th></th><th></th><th></th><th></th></tr></thead><tbody>"),Pc=_("<div><table><thead><tr><th></th><th></th><th></th><th></th><th></th></tr></thead><tbody>"),$c=_("<div><div>✅</div><h3></h3><p>"),xc=_("<div><div><h3>📋 </h3><p></p></div><div><div><div></div><div></div></div><div><div></div><div></div></div><div><div></div><div></div></div></div><div>"),Cc=_("<div><div><div><h2>📋 </h2><button>×"),bo=_("<option>"),_c=_("<div>..."),wc=_("<tr><td><div></div><div> • <!> • </div></td><td><div></div></td><td><input type=number placeholder=0 min=0 step=0.01></td><td><div></div></td><td><input type=text>"),kc=_("<tr><td><div></div><div> • </div></td><td><div></div></td><td><div></div></td><td><div></div></td><td><div>");const Ac=t=>{const{t:e}=We(),[n,i]=ne([]),[l,c]=ne(!1),[s,a]=ne(!1),[d,v]=ne("all"),[f,T]=ne("all"),[L,D]=ne("name"),[C,$]=ne([]),[x,b]=ne("setup");_r(async()=>{await O(),t.selectedLocationId&&v(t.selectedLocationId)});const O=async()=>{try{c(!0);const m=await kr.getProducts("prod");if(!m||typeof m!="object"){console.warn("No API results, using local store"),i(Le.products);return}const I=Object.keys(m),h=A=>{let w=m[A];return{id:A,name:w.name||"Unknown Product",businessId:w.businessId||"",sku:w.code||w.sku||"",UPC:w.UPC||"",numCode:w.codeN||"",category:w.category||"General",unitCost:w.unitCost||0,unitOfMeasure:w.unitOfMeasure||"pcs",minStockLevel:w.minStockLevel||0,maxStockLevel:w.maxStockLevel||100,isActive:w.isActive!==!1,description:w.description||"",createdDate:w.createdAt||new Date().toISOString(),lastModified:w.updatedAt||new Date().toISOString(),sellingPrice:parseFloat(w.sellingPrice||w.price||"0")}},u=I.map(h);i(u)}catch(m){console.error("Failed to load products from API:",m),i(Le.products)}finally{c(!1)}},oe=Fe(()=>[...new Set(n().map(I=>I.category).filter(I=>I))].sort()),q=Fe(()=>{let m=n().filter(I=>I.isActive);return f()!=="all"&&(m=m.filter(I=>I.category===f())),m.sort((I,h)=>{switch(L()){case"name":return I.name.localeCompare(h.name);case"sku":return I.sku.localeCompare(h.sku);case"category":return I.category.localeCompare(h.category)||I.name.localeCompare(h.name);default:return 0}}),m}),ce=Fe(()=>Le.getActiveLocations()),Z=(m,I)=>I&&I!=="all"?Le.getStockByProductAndLocation(m,I)?.quantity||0:Le.getTotalStockByProduct(m),ue=()=>{const m=q().map(I=>{const h=Z(I.id,d()!=="all"?d():void 0);return{productId:I.id,systemQuantity:h,physicalCount:null,notes:"",variance:0,product:I}});$(m),b("counting")},ye=(m,I)=>{$(h=>h.map(u=>{if(u.productId===m){const A=I,S=A!==null?A-u.systemQuantity:0;return{...u,physicalCount:A,variance:S}}return u}))},X=(m,I)=>{$(h=>h.map(u=>u.productId===m?{...u,notes:I}:u))},Y=Fe(()=>{const m=C(),I=m.length,h=m.filter(w=>w.physicalCount!==null).length,u=m.filter(w=>w.variance!==0).length,A=m.filter(w=>w.variance>0).length,S=m.filter(w=>w.variance<0).length;return{totalProducts:I,countedProducts:h,remainingProducts:I-h,variances:u,positiveVariances:A,negativeVariances:S,isComplete:h===I}}),W=async()=>{try{a(!0);const m=C().filter(I=>I.physicalCount!==null&&I.variance!==0).map(I=>({productId:I.productId,locationId:d()!=="all"?d():"main",systemQuantity:I.systemQuantity,physicalCount:I.physicalCount,variance:I.variance,notes:I.notes||"Physical inventory adjustment",movementType:I.variance>0?"in":"out",quantity:Math.abs(I.variance),reason:"Physical Count Adjustment"}));console.log("Saving inventory adjustments:",m),await new Promise(I=>setTimeout(I,1e3)),t.onClose()}catch(m){console.error("Failed to save inventory adjustments:",m)}finally{a(!1)}},J=Fe(()=>d()==="all"?"All Locations":ce().find(I=>I.id===d())?.name||"Unknown Location");return y(Ue,{get when(){return t.isOpen},get children(){var m=Cc(),I=m.firstChild,h=I.firstChild,u=h.firstChild;u.firstChild;var A=u.nextSibling;return m.style.setProperty("position","fixed"),m.style.setProperty("top","0"),m.style.setProperty("left","0"),m.style.setProperty("right","0"),m.style.setProperty("bottom","0"),m.style.setProperty("background","rgba(0, 0, 0, 0.5)"),m.style.setProperty("z-index","1000"),m.style.setProperty("display","flex"),m.style.setProperty("align-items","center"),m.style.setProperty("justify-content","center"),I.style.setProperty("background","white"),I.style.setProperty("border-radius","var(--border-radius)"),I.style.setProperty("padding","2rem"),I.style.setProperty("width","95%"),I.style.setProperty("height","95%"),I.style.setProperty("max-width","1400px"),I.style.setProperty("overflow-y","auto"),I.style.setProperty("position","relative"),h.style.setProperty("display","flex"),h.style.setProperty("justify-content","space-between"),h.style.setProperty("align-items","center"),h.style.setProperty("margin-bottom","2rem"),h.style.setProperty("border-bottom","1px solid var(--border-color)"),h.style.setProperty("padding-bottom","1rem"),u.style.setProperty("margin","0"),u.style.setProperty("font-size","1.5rem"),r(u,()=>e("inventory.physicalInventoryCount","Physical Inventory Count"),null),lr(A,"click",t.onClose,!0),A.style.setProperty("background","none"),A.style.setProperty("border","none"),A.style.setProperty("font-size","1.5rem"),A.style.setProperty("cursor","pointer"),A.style.setProperty("padding","0.5rem"),r(I,y(Ue,{get when(){return x()==="setup"},get children(){var S=hc(),w=S.firstChild,k=w.nextSibling,E=k.nextSibling,de=E.nextSibling,P=de.firstChild,z=P.firstChild,te=z.firstChild,H=z.nextSibling,Q=H.firstChild,ee=P.nextSibling,ie=ee.firstChild,le=ie.firstChild,R=ie.nextSibling,K=R.firstChild,pe=ee.nextSibling,fe=pe.firstChild,M=fe.firstChild,F=fe.nextSibling,N=F.firstChild,ae=N.nextSibling,re=ae.nextSibling;return S.style.setProperty("text-align","center"),S.style.setProperty("padding","2rem"),S.style.setProperty("max-width","600px"),S.style.setProperty("margin","0 auto"),w.style.setProperty("font-size","3rem"),w.style.setProperty("margin-bottom","1rem"),k.style.setProperty("margin-bottom","1rem"),r(k,()=>e("inventory.setupPhysicalCount","Setup Physical Inventory Count")),E.style.setProperty("margin-bottom","2rem"),E.style.setProperty("color","var(--text-muted)"),r(E,()=>e("inventory.setupDescription","Configure your physical inventory count settings and begin the counting process.")),de.style.setProperty("display","grid"),de.style.setProperty("grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))"),de.style.setProperty("gap","1rem"),de.style.setProperty("margin-bottom","2rem"),de.style.setProperty("padding","1rem"),de.style.setProperty("background","var(--surface-color)"),de.style.setProperty("border-radius","var(--border-radius)"),de.style.setProperty("text-align","left"),z.style.setProperty("display","block"),z.style.setProperty("margin-bottom","0.5rem"),z.style.setProperty("font-weight","500"),r(z,()=>e("inventory.location","Location"),te),H.addEventListener("change",ve=>v(ve.target.value)),H.style.setProperty("width","100%"),H.style.setProperty("padding","0.5rem"),H.style.setProperty("border","1px solid var(--border-color)"),H.style.setProperty("border-radius","var(--border-radius-sm)"),r(Q,()=>e("inventory.allLocations","All Locations")),r(H,y(ct,{get each(){return ce()},children:ve=>(()=>{var ge=bo();return r(ge,()=>ve.name),j(()=>ge.value=ve.id),ge})()}),null),ie.style.setProperty("display","block"),ie.style.setProperty("margin-bottom","0.5rem"),ie.style.setProperty("font-weight","500"),r(ie,()=>e("inventory.category","Category"),le),R.addEventListener("change",ve=>T(ve.target.value)),R.style.setProperty("width","100%"),R.style.setProperty("padding","0.5rem"),R.style.setProperty("border","1px solid var(--border-color)"),R.style.setProperty("border-radius","var(--border-radius-sm)"),r(K,()=>e("products.allCategories","All Categories")),r(R,y(ct,{get each(){return oe()},children:ve=>(()=>{var ge=bo();return ge.value=ve,r(ge,ve),ge})()}),null),fe.style.setProperty("display","block"),fe.style.setProperty("margin-bottom","0.5rem"),fe.style.setProperty("font-weight","500"),r(fe,()=>e("inventory.sortBy","Sort By"),M),F.addEventListener("change",ve=>D(ve.target.value)),F.style.setProperty("width","100%"),F.style.setProperty("padding","0.5rem"),F.style.setProperty("border","1px solid var(--border-color)"),F.style.setProperty("border-radius","var(--border-radius-sm)"),r(N,()=>e("inventory.productName","Product Name")),r(ae,()=>e("inventory.sku","SKU")),r(re,()=>e("inventory.category","Category")),r(S,y(Ue,{get when(){return!l()},get fallback(){return(()=>{var ve=_c(),ge=ve.firstChild;return ve.style.setProperty("padding","2rem"),r(ve,()=>e("common.loading","Loading"),ge),ve})()},get children(){return[(()=>{var ve=bc(),ge=ve.firstChild;return ge.firstChild,ve.style.setProperty("padding","1rem"),ve.style.setProperty("background","#fff3cd"),ve.style.setProperty("border-radius","var(--border-radius-sm)"),ve.style.setProperty("margin-bottom","2rem"),ge.style.setProperty("margin","0"),ge.style.setProperty("color","#856404"),r(ge,()=>e("inventory.countWillInclude","This count will include {{count}} products from {{location}} in {{category}} category.",{count:q().length,location:J(),category:f()==="all"?e("inventory.allCategories","all categories"):f()}),null),ve})(),y(Ae,{variant:"primary",size:"large",onClick:ue,get disabled(){return l()||q().length===0},get children(){return["🚀 ",U(()=>e("inventory.startCounting","Start Physical Count"))]}})]}}),null),j(()=>H.value=d()),j(()=>R.value=f()),j(()=>F.value=L()),S}}),null),r(I,y(Ue,{get when(){return x()==="counting"},get children(){var S=Sc(),w=S.firstChild,k=w.firstChild,E=k.firstChild,de=E.nextSibling,P=k.nextSibling,z=P.firstChild,te=z.nextSibling,H=P.nextSibling,Q=H.firstChild,ee=Q.nextSibling,ie=H.nextSibling,le=ie.firstChild,R=le.firstChild,K=le.nextSibling,pe=w.nextSibling,fe=pe.nextSibling,M=fe.firstChild,F=M.firstChild,N=F.firstChild,ae=N.firstChild,re=ae.nextSibling,ve=re.nextSibling,ge=ve.nextSibling,g=ge.nextSibling,p=F.nextSibling;return w.style.setProperty("display","grid"),w.style.setProperty("grid-template-columns","repeat(auto-fit, minmax(150px, 1fr))"),w.style.setProperty("gap","1rem"),w.style.setProperty("margin-bottom","2rem"),w.style.setProperty("padding","1rem"),w.style.setProperty("background","var(--surface-color)"),w.style.setProperty("border-radius","var(--border-radius)"),k.style.setProperty("text-align","center"),E.style.setProperty("font-size","1.5rem"),E.style.setProperty("font-weight","700"),E.style.setProperty("color","var(--primary-color)"),r(E,()=>Y().countedProducts),de.style.setProperty("font-size","0.875rem"),de.style.setProperty("color","var(--text-muted)"),r(de,()=>e("inventory.counted","Counted")),P.style.setProperty("text-align","center"),z.style.setProperty("font-size","1.5rem"),z.style.setProperty("font-weight","700"),z.style.setProperty("color","#ff9800"),r(z,()=>Y().remainingProducts),te.style.setProperty("font-size","0.875rem"),te.style.setProperty("color","var(--text-muted)"),r(te,()=>e("inventory.remaining","Remaining")),H.style.setProperty("text-align","center"),Q.style.setProperty("font-size","1.5rem"),Q.style.setProperty("font-weight","700"),Q.style.setProperty("color","#f44336"),r(Q,()=>Y().variances),ee.style.setProperty("font-size","0.875rem"),ee.style.setProperty("color","var(--text-muted)"),r(ee,()=>e("inventory.variances","Variances")),ie.style.setProperty("text-align","center"),le.style.setProperty("font-size","1.5rem"),le.style.setProperty("font-weight","700"),r(le,()=>Math.round(Y().countedProducts/Y().totalProducts*100),R),K.style.setProperty("font-size","0.875rem"),K.style.setProperty("color","var(--text-muted)"),r(K,()=>e("inventory.complete","Complete")),pe.style.setProperty("display","flex"),pe.style.setProperty("gap","1rem"),pe.style.setProperty("margin-bottom","2rem"),pe.style.setProperty("justify-content","center"),r(pe,y(Ae,{variant:"outline",onClick:()=>b("setup"),get children(){return["⬅️ ",U(()=>e("common.back","Back to Setup"))]}}),null),r(pe,y(Ae,{variant:"primary",onClick:()=>b("review"),get disabled(){return!Y().isComplete},get children(){return["📋 ",U(()=>e("inventory.reviewAdjustments","Review Adjustments"))]}}),null),fe.style.setProperty("border","1px solid var(--border-color)"),fe.style.setProperty("border-radius","var(--border-radius)"),fe.style.setProperty("overflow-x","auto"),M.style.setProperty("width","100%"),M.style.setProperty("border-collapse","collapse"),N.style.setProperty("background","var(--surface-color)"),ae.style.setProperty("padding","1rem"),ae.style.setProperty("text-align","left"),ae.style.setProperty("border-bottom","1px solid var(--border-color)"),r(ae,()=>e("inventory.product","Product")),re.style.setProperty("padding","1rem"),re.style.setProperty("text-align","center"),re.style.setProperty("border-bottom","1px solid var(--border-color)"),r(re,()=>e("inventory.systemQty","System Qty")),ve.style.setProperty("padding","1rem"),ve.style.setProperty("text-align","center"),ve.style.setProperty("border-bottom","1px solid var(--border-color)"),r(ve,()=>e("inventory.physicalCount","Physical Count")),ge.style.setProperty("padding","1rem"),ge.style.setProperty("text-align","center"),ge.style.setProperty("border-bottom","1px solid var(--border-color)"),r(ge,()=>e("inventory.variance","Variance")),g.style.setProperty("padding","1rem"),g.style.setProperty("text-align","left"),g.style.setProperty("border-bottom","1px solid var(--border-color)"),r(g,()=>e("common.notes","Notes")),r(p,y(ct,{get each(){return C()},children:(G,me)=>(()=>{var V=wc(),se=V.firstChild,B=se.firstChild,be=B.nextSibling,xe=be.firstChild,Se=xe.nextSibling;Se.nextSibling;var _e=se.nextSibling,Ee=_e.firstChild,Me=_e.nextSibling,$e=Me.firstChild,Ce=Me.nextSibling,De=Ce.firstChild,Te=Ce.nextSibling,Be=Te.firstChild;return V.style.setProperty("border-bottom","1px solid var(--border-color)"),se.style.setProperty("padding","1rem"),B.style.setProperty("font-weight","500"),r(B,()=>G.product.name),be.style.setProperty("font-size","0.875rem"),be.style.setProperty("color","var(--text-muted)"),r(be,()=>G.product.sku,xe),r(be,()=>G.product.category,Se),r(be,()=>G.product.unitOfMeasure,null),_e.style.setProperty("padding","1rem"),_e.style.setProperty("text-align","center"),Ee.style.setProperty("font-weight","600"),r(Ee,()=>G.systemQuantity),Me.style.setProperty("padding","1rem"),Me.style.setProperty("text-align","center"),$e.$$input=Re=>{const Pe=Re.target.value;ye(G.productId,Pe===""?null:parseFloat(Pe))},$e.style.setProperty("width","100px"),$e.style.setProperty("padding","0.5rem"),$e.style.setProperty("border","1px solid var(--border-color)"),$e.style.setProperty("border-radius","var(--border-radius-sm)"),$e.style.setProperty("text-align","center"),Ce.style.setProperty("padding","1rem"),Ce.style.setProperty("text-align","center"),De.style.setProperty("font-weight","600"),r(De,()=>G.variance>0?"+":"",null),r(De,()=>G.variance||"—",null),Te.style.setProperty("padding","1rem"),Be.$$input=Re=>X(G.productId,Re.target.value),Be.style.setProperty("width","200px"),Be.style.setProperty("padding","0.5rem"),Be.style.setProperty("border","1px solid var(--border-color)"),Be.style.setProperty("border-radius","var(--border-radius-sm)"),j(Re=>{var Pe=G.physicalCount!==null?G.variance!==0?"#fff3cd":"#d4edda":"transparent",qe=G.variance>0?"#4caf50":G.variance<0?"#f44336":"var(--text-muted)",Ke=e("inventory.addNotes","Add notes...");return Pe!==Re.e&&((Re.e=Pe)!=null?V.style.setProperty("background",Pe):V.style.removeProperty("background")),qe!==Re.t&&((Re.t=qe)!=null?De.style.setProperty("color",qe):De.style.removeProperty("color")),Ke!==Re.a&&Ze(Be,"placeholder",Re.a=Ke),Re},{e:void 0,t:void 0,a:void 0}),j(()=>$e.value=G.physicalCount||""),j(()=>Be.value=G.notes),V})()})),j(G=>(G=Y().isComplete?"#4caf50":"#ff9800")!=null?le.style.setProperty("color",G):le.style.removeProperty("color")),S}}),null),r(I,y(Ue,{get when(){return x()==="review"},get children(){var S=xc(),w=S.firstChild,k=w.firstChild;k.firstChild;var E=k.nextSibling,de=w.nextSibling,P=de.firstChild,z=P.firstChild,te=z.nextSibling,H=P.nextSibling,Q=H.firstChild,ee=Q.nextSibling,ie=H.nextSibling,le=ie.firstChild,R=le.nextSibling,K=de.nextSibling;return w.style.setProperty("text-align","center"),w.style.setProperty("margin-bottom","2rem"),k.style.setProperty("margin-bottom","1rem"),r(k,()=>e("inventory.reviewAndConfirm","Review and Confirm Adjustments"),null),E.style.setProperty("color","var(--text-muted)"),r(E,()=>e("inventory.reviewDescription","Review the inventory adjustments below and confirm to update your system.")),de.style.setProperty("display","grid"),de.style.setProperty("grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))"),de.style.setProperty("gap","1rem"),de.style.setProperty("margin-bottom","2rem"),de.style.setProperty("padding","1rem"),de.style.setProperty("background","var(--surface-color)"),de.style.setProperty("border-radius","var(--border-radius)"),P.style.setProperty("text-align","center"),z.style.setProperty("font-size","1.5rem"),z.style.setProperty("font-weight","700"),z.style.setProperty("color","#4caf50"),r(z,()=>Y().positiveVariances),te.style.setProperty("font-size","0.875rem"),te.style.setProperty("color","var(--text-muted)"),r(te,()=>e("inventory.stockIncreases","Stock Increases")),H.style.setProperty("text-align","center"),Q.style.setProperty("font-size","1.5rem"),Q.style.setProperty("font-weight","700"),Q.style.setProperty("color","#f44336"),r(Q,()=>Y().negativeVariances),ee.style.setProperty("font-size","0.875rem"),ee.style.setProperty("color","var(--text-muted)"),r(ee,()=>e("inventory.stockDecreases","Stock Decreases")),ie.style.setProperty("text-align","center"),le.style.setProperty("font-size","1.5rem"),le.style.setProperty("font-weight","700"),le.style.setProperty("color","var(--primary-color)"),r(le,()=>Y().variances),R.style.setProperty("font-size","0.875rem"),R.style.setProperty("color","var(--text-muted)"),r(R,()=>e("inventory.totalAdjustments","Total Adjustments")),K.style.setProperty("display","flex"),K.style.setProperty("gap","1rem"),K.style.setProperty("margin-bottom","2rem"),K.style.setProperty("justify-content","center"),r(K,y(Ae,{variant:"outline",onClick:()=>b("counting"),get children(){return["⬅️ ",U(()=>e("common.back","Back to Counting"))]}}),null),r(K,y(Ae,{variant:"primary",onClick:W,get disabled(){return s()||Y().variances===0},get children(){return U(()=>!!s())()?"💾 "+e("common.saving","Saving")+"...":"✅ "+e("inventory.confirmAdjustments","Confirm Adjustments")}}),null),r(S,y(Ue,{get when(){return Y().variances>0},get children(){var pe=Pc(),fe=pe.firstChild,M=fe.firstChild,F=M.firstChild,N=F.firstChild,ae=N.nextSibling,re=ae.nextSibling,ve=re.nextSibling,ge=ve.nextSibling,g=M.nextSibling;return pe.style.setProperty("border","1px solid var(--border-color)"),pe.style.setProperty("border-radius","var(--border-radius)"),pe.style.setProperty("overflow-x","auto"),fe.style.setProperty("width","100%"),fe.style.setProperty("border-collapse","collapse"),F.style.setProperty("background","var(--surface-color)"),N.style.setProperty("padding","1rem"),N.style.setProperty("text-align","left"),N.style.setProperty("border-bottom","1px solid var(--border-color)"),r(N,()=>e("inventory.product","Product")),ae.style.setProperty("padding","1rem"),ae.style.setProperty("text-align","center"),ae.style.setProperty("border-bottom","1px solid var(--border-color)"),r(ae,()=>e("inventory.systemQty","System Qty")),re.style.setProperty("padding","1rem"),re.style.setProperty("text-align","center"),re.style.setProperty("border-bottom","1px solid var(--border-color)"),r(re,()=>e("inventory.physicalCount","Physical Count")),ve.style.setProperty("padding","1rem"),ve.style.setProperty("text-align","center"),ve.style.setProperty("border-bottom","1px solid var(--border-color)"),r(ve,()=>e("inventory.adjustment","Adjustment")),ge.style.setProperty("padding","1rem"),ge.style.setProperty("text-align","left"),ge.style.setProperty("border-bottom","1px solid var(--border-color)"),r(ge,()=>e("common.notes","Notes")),r(g,y(ct,{get each(){return C().filter(p=>p.variance!==0)},children:p=>(()=>{var G=kc(),me=G.firstChild,V=me.firstChild,se=V.nextSibling,B=se.firstChild,be=me.nextSibling,xe=be.firstChild,Se=be.nextSibling,_e=Se.firstChild,Ee=Se.nextSibling,Me=Ee.firstChild,$e=Ee.nextSibling,Ce=$e.firstChild;return G.style.setProperty("border-bottom","1px solid var(--border-color)"),me.style.setProperty("padding","1rem"),V.style.setProperty("font-weight","500"),r(V,()=>p.product.name),se.style.setProperty("font-size","0.875rem"),se.style.setProperty("color","var(--text-muted)"),r(se,()=>p.product.sku,B),r(se,()=>p.product.category,null),be.style.setProperty("padding","1rem"),be.style.setProperty("text-align","center"),xe.style.setProperty("font-weight","600"),r(xe,()=>p.systemQuantity),Se.style.setProperty("padding","1rem"),Se.style.setProperty("text-align","center"),_e.style.setProperty("font-weight","600"),r(_e,()=>p.physicalCount),Ee.style.setProperty("padding","1rem"),Ee.style.setProperty("text-align","center"),Me.style.setProperty("font-weight","700"),r(Me,()=>p.variance>0?"+":"",null),r(Me,()=>p.variance,null),$e.style.setProperty("padding","1rem"),Ce.style.setProperty("font-size","0.875rem"),r(Ce,()=>p.notes||e("inventory.physicalCountAdjustment","Physical count adjustment")),j(De=>{var Te=p.variance>0?"#d4edda":"#f8d7da",Be=p.variance>0?"#4caf50":"#f44336";return Te!==De.e&&((De.e=Te)!=null?G.style.setProperty("background",Te):G.style.removeProperty("background")),Be!==De.t&&((De.t=Be)!=null?Me.style.setProperty("color",Be):Me.style.removeProperty("color")),De},{e:void 0,t:void 0}),G})()})),pe}}),null),r(S,y(Ue,{get when(){return Y().variances===0},get children(){var pe=$c(),fe=pe.firstChild,M=fe.nextSibling,F=M.nextSibling;return pe.style.setProperty("text-align","center"),pe.style.setProperty("padding","3rem"),pe.style.setProperty("background","var(--surface-color)"),pe.style.setProperty("border-radius","var(--border-radius)"),fe.style.setProperty("font-size","3rem"),fe.style.setProperty("margin-bottom","1rem"),M.style.setProperty("margin-bottom","0.5rem"),r(M,()=>e("inventory.perfectCount","Perfect Count!")),F.style.setProperty("color","var(--text-muted)"),r(F,()=>e("inventory.noVariances","No variances found. Your physical count matches the system exactly.")),pe}}),null),S}}),null),m}})};ut(["click","input"]);var Ic=_("<div><h1></h1><div><div><span>View:</span><button> 1</button><button> 2"),Lt=_("<div>"),Ec=_("<div><h3></h3><div>"),Lc=_("<div>: <!> "),Dc=_("<div><button></button><button></button><button></button><button>"),Nc=_("<div><div>"),Tc=_("<div><span> (<!>)</span><span> / <!> "),Bc=_("<div><div><div><h2></h2><div><div></div></div></div></div><div><span>"),Mc=_("<span>🔍 "),Rc=_("<div><div><div><div><h3></h3><span></span></div><div></div><div>: </div></div><div><div> </div><div>: <!> • <!>: </div><div>: "),Oc=_("<div><div>:</div><div>"),jc=_("<div>: "),zc=_("<div><div><h2></h2></div><div>"),Fc=_("<div><div><div><span></span><h3></h3></div><div> • </div><div></div></div><div><div><span>:</span><span></span></div><div><span>:</span><span></span></div><div><span>:</span><span></span></div></div><div><div>:"),qc=_("<div><div><div><div></div><div></div></div><div><div> </div><div></div><div>Min: "),Uc=_("<span>⚠️ LOW");const Vc=()=>{const{t}=We(),[e,n]=ne(!1),[i,l]=ne(!1),[c,s]=ne(!1),[a,d]=ne(null),[v,f]=ne("overview"),[T,L]=ne("new"),[D,C]=ne(""),[$,x]=ne(""),[b,O]=ne([]),[oe,q]=ne(!1),[ce,Z]=ne(!1),[ue,ye]=ne(!1),[X,Y]=ne(!1),[W,J]=ne(!1),[m,I]=ne(!1),h=g=>{d(g),s(!0)},u=Fe(()=>{const g=Le.products||[],p=Le.movements||[],G=Le.stockLevels||[],me=Le.getLowStockProducts(),V=g?.length||0,se=g?.filter(xe=>xe.isActive).length,B=G.reduce((xe,Se)=>xe*1+Se.quantity*1*Se.averageCost*1,0),be=p?.filter(xe=>{const Se=new Date(xe.createdDate),_e=new Date;return Se.getMonth()===_e.getMonth()&&Se.getFullYear()===_e.getFullYear()}).length;return{totalProducts:V,activeProducts:se,lowStockProducts:me.length,totalStockValue:B,totalMovementsThisMonth:be,totalLocations:Le.locations.length,activeLocations:Le.getActiveLocations().length}}),A=Fe(()=>Le.products.map(g=>{const p=Le.getStockByProduct(g.id),G=Le.getTotalStockByProduct(g.id),me=Le.getLastLocationByProduct(g.id);return{...g,totalStock:G,stockByLocation:p,lastLocation:me,isLowStock:G<=g.minStockLevel}})),S=Fe(()=>b().map(g=>{const p=Le.getStockByProduct(g.id),G=Le.getTotalStockByProduct(g.id),me=Le.getLastLocationByProduct(g.id);return console.log(g),{...g,totalStock:G,stockByLocation:p,lastLocation:me,isLowStock:G<=g.minStockLevel}})),w=Fe(()=>ce()?S():A()),k=(g,p)=>g<=p?t("inventory.lowStockAlert"):g<=p*2?t("inventory.normalStock"):t("inventory.inStock"),E=g=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(g),de=g=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(g),P=g=>{switch(g){case"warehouse":return t("inventory.warehouse");case"store":return t("inventory.store");case"supplier":return t("inventory.supplier");case"customer":return t("inventory.customer");default:return g}},z={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"},te={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"1rem"},H=g=>({padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500",background:g>50?"#d4edda":g>20?"#fff3cd":"#f8d7da",color:g>50?"#155724":g>20?"#856404":"#721c24"}),Q={"font-size":"1.25rem","font-weight":"600",color:"var(--primary-color)","margin-bottom":"0.5rem"},ee={color:"var(--text-muted)","font-size":"0.875rem"},ie={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"},le={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"2rem"},R={display:"flex","border-bottom":"1px solid var(--border-color)","margin-bottom":"1.5rem"},K=g=>({padding:"0.75rem 1rem",background:"none",border:"none",cursor:"pointer","font-weight":"500",color:g?"var(--primary-color)":"var(--text-muted)","border-bottom":g?"2px solid var(--primary-color)":"2px solid transparent",transition:"all 0.2s ease"}),pe={padding:"1.5rem","margin-bottom":"1rem",background:"var(--surface-color)","border-radius":"var(--border-radius)",border:"1px solid var(--border-color)",cursor:"pointer",transition:"all 0.2s ease"},fe={display:"flex","justify-content":"space-between","align-items":"flex-start","margin-bottom":"1rem"},M=g=>({padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500","text-transform":"uppercase","letter-spacing":"0.5px",background:g?"#ffebee":"#e8f5e8",color:g?"#d32f2f":"#2d7d32"}),F={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem","margin-bottom":"2rem"},N={padding:"1rem",background:"var(--surface-color)","border-radius":"var(--border-radius-sm)",border:"1px solid var(--border-color)"},ae={display:"flex",gap:"0.5rem","align-items":"center","margin-left":"auto","margin-right":"1rem"},re=g=>({padding:"0.5rem 1rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)",background:g?"var(--primary-color)":"var(--surface-color)",color:g?"white":"var(--text-primary)",cursor:"pointer","font-weight":"500","font-size":"0.875rem",transition:"all 0.2s ease"}),ve=Fe(()=>{const g=Le.movements;return{total:g.length,stockIn:g.filter(p=>p.movementType==="in").length,stockOut:g.filter(p=>p.movementType==="out").length,transfers:g.filter(p=>p.movementType==="transfer").length,adjustments:g.filter(p=>p.movementType==="adjustment").length,totalValue:g.reduce((p,G)=>p+G.totalCost,0)}}),ge=async()=>{try{try{const g=await kr.getProducts("prod"),p=Object.keys(g),G=me=>{let se=g[me];return console.log(se),{id:me,name:se.name,businessId:se.businessId,sku:se.code,UPC:se.UPC,numCode:se.codeN,category:se.category,unitCost:se.unitCost||0,unitOfMeasure:se.unitOfMeasure,minStockLevel:se.minStockLevel,maxStockLevel:se.maxStockLevel,isActive:se.isActive,description:se.description||"",createdDate:se.createdAt||new Date().toISOString(),lastModified:se.updatedAt||new Date().toISOString(),sellingPrice:parseFloat(se.sellingPrice||se.price||"0")}};O(p.map(G))}catch(g){console.warn("API failed, using local store:",g),O(Le.products)}}catch{}finally{}};return y(zt,{get title(){return t("inventory.title")},get children(){return[(()=>{var g=Ic(),p=g.firstChild,G=p.nextSibling,me=G.firstChild,V=me.firstChild,se=V.nextSibling,B=se.firstChild,be=se.nextSibling,xe=be.firstChild;return o(g,le),p.style.setProperty("margin","0"),p.style.setProperty("font-size","1.75rem"),r(p,()=>t("inventory.title")),G.style.setProperty("display","flex"),G.style.setProperty("align-items","center"),G.style.setProperty("gap","1rem"),o(me,ae),V.style.setProperty("font-weight","500"),V.style.setProperty("color","var(--text-muted)"),V.style.setProperty("font-size","0.875rem"),se.$$click=()=>L("new"),r(se,()=>t("common.view"),B),be.$$click=()=>L("legacy"),r(be,()=>t("common.view"),xe),r(G,(()=>{var Se=U(()=>T()==="new");return()=>Se()&&[y(Ae,{variant:"outline",onClick:()=>l(!0),get children(){return["📋 ",U(()=>t("inventory.bulkMovement"))]}}),y(Ae,{variant:"outline",onClick:()=>{console.log("Counting sheet button clicked"),J(!0),console.log("isCountingSheetOpen:",W())},get children(){return["📊 ",U(()=>t("inventory.countingSheet","Counting Sheet"))]}}),y(Ae,{variant:"outline",onClick:()=>I(!0),get children(){return["🔢 ",U(()=>t("inventory.physicalCount","Physical Count"))]}})]})(),null),r(G,y(Ae,{variant:"primary",onClick:()=>n(!0),get children(){return U(()=>T()==="new")()?t("inventory.addMovement"):t("common.add")}}),null),j(Se=>{var _e=re(T()==="new"),Ee=re(T()==="legacy");return Se.e=o(se,_e,Se.e),Se.t=o(be,Ee,Se.t),Se},{e:void 0,t:void 0}),g})(),U(()=>U(()=>T()==="legacy")()?[(()=>{var g=Lt();return r(g,y(ze,{get title(){return t("inventory.totalItems")},get subtitle(){return t("inventory.inStock")},get children(){var p=Lt();return p.style.setProperty("font-size","1.5rem"),p.style.setProperty("font-weight","600"),p.style.setProperty("color","var(--primary-color)"),r(p,()=>Le.inventory.length),p}}),null),r(g,y(ze,{get title(){return t("inventory.lowStockAlert")},get subtitle(){return t("inventory.itemsBelowThreshold")},get children(){var p=Lt();return p.style.setProperty("font-size","1.5rem"),p.style.setProperty("font-weight","600"),p.style.setProperty("color","var(--primary-color)"),r(p,()=>Le.getLowStockItems().length),p}}),null),r(g,y(ze,{get title(){return t("inventory.totalValue")},get subtitle(){return t("inventory.inventoryWorth")},get children(){var p=Lt();return p.style.setProperty("font-size","1.5rem"),p.style.setProperty("font-weight","600"),p.style.setProperty("color","var(--primary-color)"),r(p,()=>E(Le.getTotalValue())),p}}),null),j(p=>o(g,ie,p)),g})(),(()=>{var g=Lt();return o(g,z),r(g,y(ct,{get each(){return Le.inventory},children:p=>{const G=k(p.quantity,p.minStock),me=p.quantity<=p.minStock?8:p.quantity<=p.minStock*2?35:75;return y(ze,{onClick:()=>h(p),get children(){return[(()=>{var V=Ec(),se=V.firstChild,B=se.nextSibling;return o(V,te),se.style.setProperty("margin","0"),se.style.setProperty("font-size","1.1rem"),r(se,()=>p.name),r(B,G),j(be=>o(B,H(me),be)),V})(),(()=>{var V=Lt();return o(V,Q),r(V,()=>E(p.price)),V})(),(()=>{var V=Lc(),se=V.firstChild,B=se.nextSibling;return B.nextSibling,o(V,ee),r(V,()=>t("inventory.quantity"),se),r(V,()=>p.quantity,B),r(V,()=>t("common.units"),null),V})()]}})}})),g})()]:[(()=>{var g=Dc(),p=g.firstChild,G=p.nextSibling,me=G.nextSibling,V=me.nextSibling;return o(g,R),p.$$click=()=>f("overview"),r(p,()=>t("inventory.overview")),G.$$click=()=>f("products"),r(G,()=>t("inventory.products")),me.$$click=()=>f("movements"),r(me,()=>t("inventory.movements")),V.$$click=()=>f("locations"),r(V,()=>t("inventory.locations")),j(se=>{var B=K(v()==="overview"),be=K(v()==="products"),xe=K(v()==="movements"),Se=K(v()==="locations");return se.e=o(p,B,se.e),se.t=o(G,be,se.t),se.a=o(me,xe,se.a),se.o=o(V,Se,se.o),se},{e:void 0,t:void 0,a:void 0,o:void 0}),g})(),U(()=>U(()=>v()==="overview")()&&(()=>{var g=Nc(),p=g.firstChild;return r(p,y(ze,{get title(){return t("inventory.activeProducts")},get subtitle(){return t("inventory.currentlyManaged")},get children(){var G=Lt();return G.style.setProperty("font-size","1.5rem"),G.style.setProperty("font-weight","600"),G.style.setProperty("color","var(--primary-color)"),r(G,()=>u().activeProducts),G}}),null),r(p,y(ze,{get title(){return t("inventory.lowStockAlert")},get subtitle(){return t("inventory.needAttention")},get children(){var G=Lt();return G.style.setProperty("font-size","1.5rem"),G.style.setProperty("font-weight","600"),G.style.setProperty("color","#d32f2f"),r(G,()=>u().lowStockProducts),G}}),null),r(p,y(ze,{get title(){return t("inventory.totalValue")},get subtitle(){return t("inventory.currentWorth")},get children(){var G=Lt();return G.style.setProperty("font-size","1.5rem"),G.style.setProperty("font-weight","600"),G.style.setProperty("color","var(--primary-color)"),r(G,()=>de(ve().totalValue)),G}}),null),r(p,y(ze,{get title(){return t("inventory.movements")},get subtitle(){return t("inventory.thisMonth")},get children(){var G=Lt();return G.style.setProperty("font-size","1.5rem"),G.style.setProperty("font-weight","600"),G.style.setProperty("color","var(--primary-color)"),r(G,()=>u().totalMovementsThisMonth),G}}),null),r(p,y(ze,{get title(){return t("inventory.activeLocations")},get subtitle(){return t("inventory.warehousesStores")},get children(){var G=Lt();return G.style.setProperty("font-size","1.5rem"),G.style.setProperty("font-weight","600"),G.style.setProperty("color","var(--primary-color)"),r(G,()=>u().activeLocations),G}}),null),r(g,(()=>{var G=U(()=>u().lowStockProducts>0);return()=>G()&&y(ze,{get title(){return`⚠️ ${t("inventory.lowStockAlert")}`},get subtitle(){return`${u().lowStockProducts} ${t("inventory.productsNeedRestocking")}`},style:{"margin-bottom":"2rem","border-color":"#ffcdd2",background:"#ffebee"},get children(){var me=Lt();return me.style.setProperty("margin-top","1rem"),r(me,y(ct,{get each(){return Le.getLowStockProducts().slice(0,9)},children:V=>(()=>{var se=Tc(),B=se.firstChild,be=B.firstChild,xe=be.nextSibling;xe.nextSibling;var Se=B.nextSibling,_e=Se.firstChild,Ee=_e.nextSibling;return Ee.nextSibling,se.style.setProperty("display","flex"),se.style.setProperty("justify-content","space-between"),se.style.setProperty("margin-bottom","0.5rem"),se.style.setProperty("font-size","0.875rem"),r(B,()=>V.name,be),r(B,()=>V?.sku,xe),Se.style.setProperty("color","#d32f2f"),Se.style.setProperty("font-weight","600"),r(Se,()=>V.currentStock,_e),r(Se,()=>V.minStockLevel,Ee),r(Se,()=>t("inventory.min"),null),se})()}),null),r(me,(()=>{var V=U(()=>Le.getLowStockProducts().length>5);return()=>V()&&(()=>{var se=Lt();return se.style.setProperty("font-size","0.875rem"),se.style.setProperty("color","var(--text-muted)"),se.style.setProperty("font-style","italic"),r(se,()=>t("common.andMore",{count:Le.getLowStockProducts().length-9})),se})()})(),null),me}})})(),null),j(G=>o(p,ie,G)),g})()),U(()=>U(()=>v()==="products")()&&(()=>{var g=Bc(),p=g.firstChild,G=p.firstChild,me=G.firstChild,V=me.nextSibling,se=V.firstChild,B=p.nextSibling,be=B.firstChild;return p.style.setProperty("display","flex"),p.style.setProperty("justify-content","space-between"),p.style.setProperty("align-items","flex-start"),p.style.setProperty("margin-bottom","1.5rem"),p.style.setProperty("flex-wrap","wrap"),p.style.setProperty("gap","1rem"),G.style.setProperty("flex","1"),G.style.setProperty("min-width","300px"),me.style.setProperty("margin","0 0 1rem 0"),me.style.setProperty("font-size","1.5rem"),r(me,()=>t("inventory.products")),V.style.setProperty("display","flex"),V.style.setProperty("gap","1rem"),V.style.setProperty("align-items","center"),V.style.setProperty("flex-wrap","wrap"),se.style.setProperty("flex","1"),se.style.setProperty("min-width","250px"),r(se,y(mc,{onSearchResults:xe=>{O(xe),Z(xe.length>0)},get placeholder(){return t("inventory.searchProductsStock","Search products and check stock levels...")},showResults:!1,maxResults:20})),r(V,y(Ae,{variant:"outline",onClick:()=>{ge(),Z(!1)},get children(){return["🔄 ",U(()=>t("common.showAll","Show All"))]}}),null),r(p,y(Ae,{variant:"primary",onClick:()=>ye(!0),get children(){return["➕ ",U(()=>t("inventory.addProduct"))]}}),null),B.style.setProperty("margin-bottom","1rem"),B.style.setProperty("font-size","0.875rem"),B.style.setProperty("color","var(--text-muted)"),B.style.setProperty("display","flex"),B.style.setProperty("justify-content","space-between"),B.style.setProperty("align-items","center"),r(be,(()=>{var xe=U(()=>!!ce());return()=>xe()?`${t("inventory.searchResults","Search Results")}: ${b().length} ${t("common.products","products")}`:`${t("inventory.totalProducts","Total Products")}: ${A().length} ${t("common.products","products")}`})()),r(B,(()=>{var xe=U(()=>!!ce());return()=>xe()&&(()=>{var Se=Mc();return Se.firstChild,Se.style.setProperty("color","var(--primary-color)"),r(Se,()=>t("inventory.filtered","Filtered view"),null),Se})()})(),null),r(g,y(ct,{get each(){return w()},children:xe=>(()=>{var Se=Rc(),_e=Se.firstChild,Ee=_e.firstChild,Me=Ee.firstChild,$e=Me.firstChild,Ce=$e.nextSibling,De=Me.nextSibling,Te=De.nextSibling,Be=Te.firstChild,Re=Ee.nextSibling,Pe=Re.firstChild,qe=Pe.firstChild,Ke=Pe.nextSibling,Ge=Ke.firstChild,he=Ge.nextSibling,He=he.nextSibling,rt=He.nextSibling;rt.nextSibling;var tt=Ke.nextSibling,ot=tt.firstChild;return Se.addEventListener("mouseleave",Qe=>{Qe.currentTarget.style.transform="translateY(0)",Qe.currentTarget.style.boxShadow="none"}),Se.addEventListener("mouseenter",Qe=>{Qe.currentTarget.style.transform="translateY(-2px)",Qe.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)"}),o(Se,pe),o(_e,fe),Me.style.setProperty("display","flex"),Me.style.setProperty("align-items","center"),Me.style.setProperty("gap","0.5rem"),Me.style.setProperty("margin-bottom","0.5rem"),$e.style.setProperty("margin","0"),$e.style.setProperty("font-size","1.1rem"),r($e,()=>xe.name),r(Ce,(()=>{var Qe=U(()=>!!xe.isLowStock);return()=>Qe()?t("inventory.lowStockAlert"):t("inventory.inStock")})()),De.style.setProperty("font-size","0.875rem"),De.style.setProperty("color","var(--text-muted)"),r(De,()=>xe.sku,null),r(De,()=>xe.UPC?" • "+xe.UPC:"",null),r(De,()=>xe.category?" • "+xe.category:"",null),Te.style.setProperty("font-size","0.875rem"),Te.style.setProperty("color","var(--text-muted)"),r(Te,()=>t("inventory.lastSeen"),Be),r(Te,()=>xe.lastLocation?.name||t("inventory.noMovements"),null),Re.style.setProperty("text-align","right"),Pe.style.setProperty("font-size","1.25rem"),Pe.style.setProperty("font-weight","700"),Pe.style.setProperty("color","var(--primary-color)"),r(Pe,()=>xe.totalStock,qe),r(Pe,()=>xe.unitOfMeasure,null),Ke.style.setProperty("font-size","0.875rem"),Ke.style.setProperty("color","var(--text-muted)"),r(Ke,()=>t("inventory.min"),Ge),r(Ke,()=>xe.minStockLevel,he),r(Ke,()=>t("inventory.max"),rt),r(Ke,()=>xe.maxStockLevel,null),tt.style.setProperty("font-size","0.875rem"),tt.style.setProperty("color","var(--text-muted)"),r(tt,()=>t("inventory.cost"),ot),r(tt,()=>de(xe.unitCost),null),r(Se,(()=>{var Qe=U(()=>xe.stockByLocation.length>0);return()=>Qe()&&(()=>{var at=Oc(),yt=at.firstChild,ke=yt.firstChild,Ie=yt.nextSibling;return at.style.setProperty("margin-top","1rem"),yt.style.setProperty("font-weight","500"),yt.style.setProperty("margin-bottom","0.5rem"),yt.style.setProperty("font-size","0.875rem"),r(yt,()=>t("inventory.stockByLocation"),ke),Ie.style.setProperty("display","flex"),Ie.style.setProperty("flex-wrap","wrap"),Ie.style.setProperty("gap","0.5rem"),r(Ie,y(ct,{get each(){return xe.stockByLocation},children:Oe=>{const je=Le.getLocationById(Oe.locationId);return console.log("location",Oe,je),(()=>{var Ye=jc(),Ve=Ye.firstChild;return Ye.style.setProperty("padding","0.25rem 0.5rem"),Ye.style.setProperty("background","var(--background-color)"),Ye.style.setProperty("border-radius","var(--border-radius-sm)"),Ye.style.setProperty("font-size","0.75rem"),Ye.style.setProperty("border","1px solid var(--border-color)"),r(Ye,()=>je?.name,Ve),r(Ye,()=>Oe.quantity,null),Ye})()}})),at})()})(),null),j(Qe=>o(Ce,M(xe.isLowStock),Qe)),Se})()}),null),g})()),U(()=>U(()=>v()==="movements")()&&y(lc,{})),U(()=>U(()=>v()==="locations")()&&(()=>{var g=zc(),p=g.firstChild,G=p.firstChild,me=p.nextSibling;return p.style.setProperty("display","flex"),p.style.setProperty("justify-content","space-between"),p.style.setProperty("align-items","center"),p.style.setProperty("margin-bottom","1.5rem"),G.style.setProperty("margin","0"),G.style.setProperty("font-size","1.5rem"),r(G,()=>t("inventory.locations")),r(p,y(Ae,{variant:"primary",onClick:()=>Y(!0),get children(){return["🏭 ",U(()=>t("inventory.addLocation"))]}}),null),o(me,F),r(me,y(ct,{get each(){return Le.getActiveLocations()},children:V=>{const se=Le.getStockByLocation(V.id),B=se.length,be=se.reduce((Se,_e)=>Se*1+_e.quantity*1,0),xe=se.reduce((Se,_e)=>{const Ee=Le.getProductById(_e.productId);return Se+_e.quantity*1*(Ee?.unitCost||0)},0);return(()=>{var Se=Fc(),_e=Se.firstChild,Ee=_e.firstChild,Me=Ee.firstChild,$e=Me.nextSibling,Ce=Ee.nextSibling,De=Ce.firstChild,Te=Ce.nextSibling,Be=_e.nextSibling,Re=Be.firstChild,Pe=Re.firstChild,qe=Pe.firstChild,Ke=Pe.nextSibling,Ge=Re.nextSibling,he=Ge.firstChild,He=he.firstChild,rt=he.nextSibling,tt=Ge.nextSibling,ot=tt.firstChild,Qe=ot.firstChild,at=ot.nextSibling,yt=Be.nextSibling,ke=yt.firstChild,Ie=ke.firstChild;return _e.style.setProperty("margin-bottom","1rem"),_e.style.setProperty("padding-bottom","1rem"),_e.style.setProperty("border-bottom","1px solid var(--border-color)"),Ee.style.setProperty("display","flex"),Ee.style.setProperty("align-items","center"),Ee.style.setProperty("gap","0.5rem"),Ee.style.setProperty("margin-bottom","0.5rem"),Me.style.setProperty("font-size","1.2rem"),r(Me,()=>V.type==="warehouse"?"🏭":V.type==="store"?"🏪":V.type==="supplier"?"🚚":"👥"),$e.style.setProperty("margin","0"),$e.style.setProperty("font-size","1.1rem"),r($e,()=>V.name),Ce.style.setProperty("font-size","0.875rem"),Ce.style.setProperty("color","var(--text-muted)"),r(Ce,()=>V.code,De),r(Ce,()=>P(V.type),null),Te.style.setProperty("font-size","0.75rem"),Te.style.setProperty("color","var(--text-muted)"),Te.style.setProperty("margin-top","0.25rem"),r(Te,()=>V.address),Be.style.setProperty("margin-bottom","1rem"),Re.style.setProperty("display","flex"),Re.style.setProperty("justify-content","space-between"),Re.style.setProperty("margin-bottom","0.5rem"),Pe.style.setProperty("font-size","0.875rem"),Pe.style.setProperty("font-weight","500"),r(Pe,()=>t("inventory.products"),qe),Ke.style.setProperty("font-weight","600"),r(Ke,B),Ge.style.setProperty("display","flex"),Ge.style.setProperty("justify-content","space-between"),Ge.style.setProperty("margin-bottom","0.5rem"),he.style.setProperty("font-size","0.875rem"),he.style.setProperty("font-weight","500"),r(he,()=>t("inventory.totalItems"),He),rt.style.setProperty("font-weight","600"),rt.style.setProperty("color","var(--primary-color)"),r(rt,be),tt.style.setProperty("display","flex"),tt.style.setProperty("justify-content","space-between"),tt.style.setProperty("margin-bottom","1rem"),ot.style.setProperty("font-size","0.875rem"),ot.style.setProperty("font-weight","500"),r(ot,()=>t("inventory.totalValue"),Qe),at.style.setProperty("font-weight","600"),at.style.setProperty("color","var(--primary-color)"),r(at,()=>de(xe)),ke.style.setProperty("font-weight","600"),ke.style.setProperty("margin-bottom","0.75rem"),ke.style.setProperty("font-size","0.875rem"),ke.style.setProperty("color","var(--text-primary)"),ke.style.setProperty("border-bottom","1px solid var(--border-color)"),ke.style.setProperty("padding-bottom","0.5rem"),r(ke,()=>t("inventory.productDetails"),Ie),r(yt,(()=>{var Oe=U(()=>se.length===0);return()=>Oe()?(()=>{var je=Lt();return je.style.setProperty("text-align","center"),je.style.setProperty("color","var(--text-muted)"),je.style.setProperty("font-style","italic"),je.style.setProperty("padding","1rem"),r(je,()=>t("inventory.noProducts")),je})():(()=>{var je=Lt();return je.style.setProperty("max-height","200px"),je.style.setProperty("overflow-y","auto"),je.style.setProperty("border","1px solid var(--border-color)"),je.style.setProperty("border-radius","var(--border-radius-sm)"),r(je,y(ct,{each:se,children:Ye=>{const Ve=Le.getProductById(Ye.productId);if(!Ve)return null;const nt=Ye.quantity<=Ve.minStockLevel,we=Ye.quantity*Ve.unitCost;return(()=>{var Xe=qc(),vt=Xe.firstChild,wt=vt.firstChild,ht=wt.firstChild,pt=ht.nextSibling,xt=wt.nextSibling,St=xt.firstChild,Dt=St.firstChild,At=St.nextSibling,It=At.nextSibling;return It.firstChild,Xe.style.setProperty("padding","0.75rem"),Xe.style.setProperty("border-bottom","1px solid var(--border-color)"),(nt?"#fff5f5":"transparent")!=null?Xe.style.setProperty("background",nt?"#fff5f5":"transparent"):Xe.style.removeProperty("background"),Xe.style.setProperty("transition","background-color 0.2s ease"),vt.style.setProperty("display","flex"),vt.style.setProperty("justify-content","space-between"),vt.style.setProperty("align-items","flex-start"),vt.style.setProperty("margin-bottom","0.25rem"),wt.style.setProperty("flex","1"),ht.style.setProperty("font-weight","500"),ht.style.setProperty("font-size","0.875rem"),(nt?"#d32f2f":"var(--text-primary)")!=null?ht.style.setProperty("color",nt?"#d32f2f":"var(--text-primary)"):ht.style.removeProperty("color"),r(ht,()=>Ve.name,null),r(ht,nt&&(()=>{var Et=Uc();return Et.style.setProperty("margin-left","0.5rem"),Et.style.setProperty("font-size","0.7rem"),Et.style.setProperty("color","#d32f2f"),Et})(),null),pt.style.setProperty("font-size","0.75rem"),pt.style.setProperty("color","var(--text-muted)"),pt.style.setProperty("margin-top","0.1rem"),r(pt,()=>Ve.sku,null),r(pt,()=>Ve.UPC?" • "+Ve.UPC:"",null),r(pt,()=>Ve.category?" • "+Ve.category:"",null),xt.style.setProperty("text-align","right"),St.style.setProperty("font-weight","600"),St.style.setProperty("font-size","0.875rem"),(nt?"#d32f2f":"var(--primary-color)")!=null?St.style.setProperty("color",nt?"#d32f2f":"var(--primary-color)"):St.style.removeProperty("color"),r(St,()=>Ye.quantity,Dt),r(St,()=>Ve.unitOfMeasure,null),At.style.setProperty("font-size","0.75rem"),At.style.setProperty("color","var(--text-muted)"),r(At,()=>de(we)),It.style.setProperty("font-size","0.7rem"),It.style.setProperty("color","var(--text-muted)"),It.style.setProperty("margin-top","0.1rem"),r(It,()=>Ve.minStockLevel,null),Xe})()}})),je})()})(),null),j(Oe=>o(Se,{...N,"min-height":"400px"},Oe)),Se})()}})),g})())]),y($a,{get isOpen(){return e()},onClose:()=>n(!1),get mode(){return T()==="new"?"movement":"legacy"}}),y(Ia,{get isOpen(){return i()},onClose:()=>l(!1)}),y(Ta,{get isOpen(){return c()},onClose:()=>s(!1),get item(){return a()}}),y(un,{get isOpen(){return ue()},onClose:()=>ye(!1),onProductAdded:()=>{ye(!1)}}),y(Vn,{get isOpen(){return X()},onClose:()=>Y(!1),onLocationAdded:()=>{Y(!1)}}),y(fc,{get isOpen(){return W()},onClose:()=>J(!1)}),y(Ac,{get isOpen(){return m()},onClose:()=>I(!1)})]}})};ut(["click"]);function Yc(t,e=300,n=!1){let i,l;const c=()=>{i!==void 0&&(clearTimeout(i),i=void 0),l=void 0},s=()=>{i!==void 0&&l!==void 0&&(clearTimeout(i),i=void 0,t(...l),l=void 0)},a=(...d)=>{l=d,i!==void 0&&clearTimeout(i),n&&i===void 0&&t(...d),i=window.setTimeout(()=>{n||t(...d),i=void 0,l=void 0},e)};return wr(()=>{c()}),{debounced:a,cancel:c,flush:s}}function Wc(t,e=300){const[n,i]=ne(!1);let l;const c=async v=>{if(l&&l.abort(),!v.trim()){i(!1);return}l=new AbortController,i(!0);try{await t(v)}catch(f){f instanceof Error&&f.name!=="AbortError"&&console.error("Search error:",f)}finally{l.signal.aborted||i(!1)}},{debounced:s,cancel:a}=Yc(c,e,!1),d=()=>{a(),l&&l.abort(),i(!1)};return wr(()=>{d()}),{search:s,isSearching:n,cancel:d}}var Hc=_("<div>"),Gc=_("<div><h4>"),Jc=_("<div><div><div><h2></h2><div>SKU: <!> • </div></div><div></div></div><div><h3></h3><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div></div><div><h3></h3><div><div><div><span></span><span></span></div><div><span></span><span></span></div></div><div><div><span></span><span></span></div><div><span></span><span>%</span></div></div></div></div><div><h3></h3><div><div><div><span></span><span> </span></div><div><span></span><span> </span></div></div><div><div><span></span><span> </span></div><div><span></span><span></span></div></div></div></div><div><h3></h3><div><span></span><span></span></div><div><span></span><span></span></div></div><div>"),Qc=_("<span>✓ "),Kc=_("<span>✗ "),Zc=_("<div><div><span></span><span> </span></div><div>: <!> • <!>: ");const Xc=t=>{const{t:e}=We(),n=Fe(()=>{if(!t.product)return null;const C=Le.getTotalStockByProduct(t.product.id),$=Le.getStockByProduct(t.product.id),x=C<=t.product.minStockLevel,b=C===0,O=C>=t.product.maxStockLevel;return{total:C,byLocation:$,status:b?"out":x?"low":O?"over":"good",statusText:b?e("products.outOfStock","Out of Stock"):x?e("products.lowStock","Low Stock"):O?e("products.overStock","Over Stock"):e("products.inStock","In Stock")}}),i=C=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(C),l=C=>new Date(C).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),c=Fe(()=>!t.product||t.product.unitCost===0?0:((t.product.sellingPrice-t.product.unitCost)/t.product.unitCost*100).toFixed(2)),s={"margin-bottom":"2rem"},a={display:"flex","justify-content":"space-between","align-items":"center",padding:"0.75rem 0","border-bottom":"1px solid var(--border-color)"},d={"font-weight":"500",color:"var(--text-muted)","font-size":"0.875rem"},v={"font-weight":"400",color:"var(--text-primary)","font-size":"1rem"},f=C=>{const $={good:{background:"#d4edda",color:"#155724"},low:{background:"#fff3cd",color:"#856404"},out:{background:"#f8d7da",color:"#721c24"},over:{background:"#cce5ff",color:"#004085"}};return{display:"inline-block",padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.875rem","font-weight":"500",...$[C]||$.good}},T={display:"grid","grid-template-columns":"1fr 1fr",gap:"1rem"},L={background:"var(--surface-color)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)",padding:"1rem","margin-bottom":"0.75rem"},D={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"1.5rem","padding-bottom":"1rem","border-bottom":"2px solid var(--border-color)"};return y($t,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return e("products.productDetails","Product Details")},size:"large",get children(){return y(Ue,{get when(){return t.product},get fallback(){return(()=>{var C=Hc();return C.style.setProperty("text-align","center"),C.style.setProperty("padding","2rem"),C.style.setProperty("color","var(--text-muted)"),r(C,()=>e("products.noProductSelected","No product selected")),C})()},children:C=>(()=>{var $=Jc(),x=$.firstChild,b=x.firstChild,O=b.firstChild,oe=O.nextSibling,q=oe.firstChild,ce=q.nextSibling;ce.nextSibling;var Z=b.nextSibling,ue=x.nextSibling,ye=ue.firstChild,X=ye.nextSibling,Y=X.firstChild,W=Y.nextSibling,J=X.nextSibling,m=J.firstChild,I=m.nextSibling,h=J.nextSibling,u=h.firstChild,A=u.nextSibling,S=ue.nextSibling,w=S.firstChild,k=w.nextSibling,E=k.firstChild,de=E.firstChild,P=de.firstChild,z=P.nextSibling,te=de.nextSibling,H=te.firstChild,Q=H.nextSibling,ee=E.nextSibling,ie=ee.firstChild,le=ie.firstChild,R=le.nextSibling,K=ie.nextSibling,pe=K.firstChild,fe=pe.nextSibling,M=fe.firstChild,F=S.nextSibling,N=F.firstChild,ae=N.nextSibling,re=ae.firstChild,ve=re.firstChild,ge=ve.firstChild,g=ge.nextSibling,p=g.firstChild,G=ve.nextSibling,me=G.firstChild,V=me.nextSibling,se=V.firstChild,B=re.nextSibling,be=B.firstChild,xe=be.firstChild,Se=xe.nextSibling,_e=Se.firstChild,Ee=be.nextSibling,Me=Ee.firstChild,$e=Me.nextSibling,Ce=F.nextSibling,De=Ce.firstChild,Te=De.nextSibling,Be=Te.firstChild,Re=Be.nextSibling,Pe=Te.nextSibling,qe=Pe.firstChild,Ke=qe.nextSibling,Ge=Ce.nextSibling;return o(x,D),O.style.setProperty("margin","0"),O.style.setProperty("font-size","1.5rem"),O.style.setProperty("margin-bottom","0.25rem"),r(O,()=>C().name),oe.style.setProperty("color","var(--text-muted)"),r(oe,()=>C().sku,ce),r(oe,()=>C().category,null),r(Z,()=>n()?.statusText),ye.style.setProperty("margin-bottom","1rem"),ye.style.setProperty("font-size","1.1rem"),r(ye,()=>e("products.basicInformation","Basic Information")),r(Y,()=>e("products.description","Description")),r(W,()=>C().description||e("common.notAvailable","N/A")),r(m,()=>e("products.unitOfMeasure","Unit of Measure")),r(I,()=>C().unitOfMeasure),r(u,()=>e("products.status","Status")),r(A,(()=>{var he=U(()=>!!C().isActive);return()=>he()?(()=>{var He=Qc();return He.firstChild,He.style.setProperty("color","#2e7d32"),r(He,()=>e("common.active","Active"),null),He})():(()=>{var He=Kc();return He.firstChild,He.style.setProperty("color","#d32f2f"),r(He,()=>e("common.inactive","Inactive"),null),He})()})()),w.style.setProperty("margin-bottom","1rem"),w.style.setProperty("font-size","1.1rem"),r(w,()=>e("products.pricingInformation","Pricing Information")),r(P,()=>e("products.unitCost","Unit Cost")),r(z,()=>i(C().unitCost)),r(H,()=>e("products.sellingPrice","Selling Price")),r(Q,()=>i(C().sellingPrice)),r(le,()=>e("products.profit","Profit")),r(R,()=>i(C().sellingPrice-C().unitCost)),r(pe,()=>e("products.profitMargin","Profit Margin")),r(fe,c,M),N.style.setProperty("margin-bottom","1rem"),N.style.setProperty("font-size","1.1rem"),r(N,()=>e("products.stockInformation","Stock Information")),r(ge,()=>e("products.totalStock","Total Stock")),r(g,()=>n()?.total||0,p),r(g,()=>C().unitOfMeasure,null),r(me,()=>e("products.minStockLevel","Min Stock Level")),r(V,()=>C().minStockLevel,se),r(V,()=>C().unitOfMeasure,null),r(xe,()=>e("products.maxStockLevel","Max Stock Level")),r(Se,()=>C().maxStockLevel,_e),r(Se,()=>C().unitOfMeasure,null),r(Me,()=>e("products.stockValue","Stock Value")),r($e,()=>i((n()?.total||0)*C().unitCost)),r(F,y(Ue,{get when(){return U(()=>!!n()?.byLocation)()&&n().byLocation.length>0},get children(){var he=Gc(),He=he.firstChild;return he.style.setProperty("margin-top","1.5rem"),He.style.setProperty("margin-bottom","1rem"),He.style.setProperty("font-size","1rem"),r(He,()=>e("products.stockByLocation","Stock by Location")),r(he,()=>n().byLocation.map(rt=>(()=>{var tt=Zc(),ot=tt.firstChild,Qe=ot.firstChild,at=Qe.nextSibling,yt=at.firstChild,ke=ot.nextSibling,Ie=ke.firstChild,Oe=Ie.nextSibling,je=Oe.nextSibling,Ye=je.nextSibling;return Ye.nextSibling,o(tt,L),ot.style.setProperty("display","flex"),ot.style.setProperty("justify-content","space-between"),ot.style.setProperty("align-items","center"),Qe.style.setProperty("font-weight","500"),r(Qe,()=>rt.locationName),at.style.setProperty("font-weight","600"),at.style.setProperty("color","var(--primary-color)"),r(at,()=>rt.quantity,yt),r(at,()=>C().unitOfMeasure,null),ke.style.setProperty("margin-top","0.5rem"),ke.style.setProperty("font-size","0.875rem"),ke.style.setProperty("color","var(--text-muted)"),r(ke,()=>e("products.available","Available"),Ie),r(ke,()=>rt.availableQuantity,Oe),r(ke,()=>e("products.reserved","Reserved"),Ye),r(ke,()=>rt.reservedQuantity,null),tt})()),null),he}}),null),De.style.setProperty("margin-bottom","1rem"),De.style.setProperty("font-size","1.1rem"),r(De,()=>e("products.timestamps","Timestamps")),r(Be,()=>e("common.createdDate","Created Date")),r(Re,()=>l(C().createdDate)),r(qe,()=>e("common.lastModified","Last Modified")),r(Ke,()=>l(C().lastModified)),Ge.style.setProperty("display","flex"),Ge.style.setProperty("gap","1rem"),Ge.style.setProperty("justify-content","flex-end"),Ge.style.setProperty("margin-top","2rem"),r(Ge,y(Ae,{variant:"secondary",get onClick(){return t.onClose},get children(){return e("common.close","Close")}}),null),r(Ge,y(Ue,{get when(){return t.onEdit},get children(){return y(Ae,{variant:"primary",get onClick(){return t.onEdit},get children(){return e("common.edit","Edit")}})}}),null),j(he=>{var He=f(n()?.status||"good"),rt=s,tt=a,ot=d,Qe=v,at=a,yt=d,ke=v,Ie=a,Oe=d,je=v,Ye=s,Ve=T,nt=a,we=d,Xe=v,vt=a,wt=d,ht=v,pt=a,xt=d,St=v,Dt=a,At=d,It=v,Et=s,Ft=T,sr=a,Jt=d,Qt=v,Kt=a,Ar=d,fr=v,br=a,hr=d,Zt=v,Ir=a,Sr=d,Je=v,dt=s,Ct=a,Bt=d,jt=v,gt=a,Vt=d,ar=v;return he.e=o(Z,He,he.e),he.t=o(ue,rt,he.t),he.a=o(X,tt,he.a),he.o=o(Y,ot,he.o),he.i=o(W,Qe,he.i),he.n=o(J,at,he.n),he.s=o(m,yt,he.s),he.h=o(I,ke,he.h),he.r=o(h,Ie,he.r),he.d=o(u,Oe,he.d),he.l=o(A,je,he.l),he.u=o(S,Ye,he.u),he.c=o(k,Ve,he.c),he.w=o(de,nt,he.w),he.m=o(P,we,he.m),he.f=o(z,Xe,he.f),he.y=o(te,vt,he.y),he.g=o(H,wt,he.g),he.p=o(Q,ht,he.p),he.b=o(ie,pt,he.b),he.T=o(le,xt,he.T),he.A=o(R,St,he.A),he.O=o(K,Dt,he.O),he.I=o(pe,At,he.I),he.S=o(fe,It,he.S),he.W=o(F,Et,he.W),he.C=o(ae,Ft,he.C),he.B=o(ve,sr,he.B),he.v=o(ge,Jt,he.v),he.k=o(g,Qt,he.k),he.x=o(G,Kt,he.x),he.j=o(me,Ar,he.j),he.q=o(V,fr,he.q),he.z=o(be,br,he.z),he.P=o(xe,hr,he.P),he.H=o(Se,Zt,he.H),he.F=o(Ee,Ir,he.F),he.M=o(Me,Sr,he.M),he.D=o($e,Je,he.D),he.R=o(Ce,dt,he.R),he.E=o(Te,Ct,he.E),he.L=o(Be,Bt,he.L),he.N=o(Re,jt,he.N),he.G=o(Pe,gt,he.G),he.U=o(qe,Vt,he.U),he.K=o(Ke,ar,he.K),he},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0,O:void 0,I:void 0,S:void 0,W:void 0,C:void 0,B:void 0,v:void 0,k:void 0,x:void 0,j:void 0,q:void 0,z:void 0,P:void 0,H:void 0,F:void 0,M:void 0,D:void 0,R:void 0,E:void 0,L:void 0,N:void 0,G:void 0,U:void 0,K:void 0}),$})()})}})};var ed=_("<form><div><label> *</label><input type=text required></div><div><div><label> *</label><input type=text required></div><div><label> *</label><input type=text list=categories required><datalist id=categories><option value=Electronics></option><option value=Accessories></option><option value=Office></option><option value=Furniture></option><option value=Software></option><option value=Hardware></option></datalist></div></div><div><label></label><textarea></textarea></div><div><label></label><div><input type=checkbox id=activeStatus><label for=activeStatus></label></div></div><div><div><label></label><select><option value=pcs></option><option value=kg></option><option value=lbs></option><option value=m></option><option value=ft></option><option value=l></option><option value=gal></option><option value=box></option><option value=pack></option></select></div><div><label></label><input type=number min=0 step=0.01 placeholder=0.00></div></div><div><div><label></label><input type=number min=0 step=0.01 placeholder=0.00></div><div></div></div><div><div><span>:</span><span>$</span></div><div><span>:</span><span>%</span></div></div><div><div><label></label><input type=number min=0 step=1></div><div><label></label><input type=number min=1 step=1></div></div><div>"),ho=_("<div>"),td=_("<span>✓ "),rd=_("<span>✗ ");const nd=t=>{const{t:e}=We(),[n,i]=ne(""),[l,c]=ne(""),[s,a]=ne(""),[d,v]=ne(""),[f,T]=ne("pcs"),[L,D]=ne(0),[C,$]=ne(0),[x,b]=ne(10),[O,oe]=ne(100),[q,ce]=ne(!0),[Z,ue]=ne("");pr(()=>{t.product&&(i(t.product.name),c(t.product.sku),a(t.product.description||""),v(t.product.category),T(t.product.unitOfMeasure),D(t.product.unitCost),$(t.product.sellingPrice),b(t.product.minStockLevel),oe(t.product.maxStockLevel),ce(t.product.isActive),ue(""))});const ye=k=>{if(k.preventDefault(),ue(""),!t.product)return;if(!n().trim()){ue(e("forms.productNameRequired","Product name is required"));return}if(!l().trim()){ue(e("forms.skuRequired","SKU is required"));return}if(!d().trim()){ue(e("forms.categoryRequired","Category is required"));return}if(L()<0){ue(e("forms.unitCostNotNegative","Unit cost cannot be negative"));return}if(C()<0){ue(e("forms.sellingPriceNotNegative","Selling price cannot be negative"));return}if(x()<0){ue(e("forms.minStockNotNegative","Min stock level cannot be negative"));return}if(O()<=x()){ue(e("forms.maxStockGreaterThanMin","Max stock level must be greater than min stock level"));return}const E=Le.getProductsBySku(l());if(E.length>0&&E[0].id!==t.product.id){ue(e("forms.skuAlreadyExists","SKU already exists"));return}const de={...t.product,name:n().trim(),sku:l().trim().toUpperCase(),description:s().trim(),category:d().trim(),unitOfMeasure:f(),unitCost:L(),sellingPrice:C(),minStockLevel:x(),maxStockLevel:O(),isActive:q(),lastModified:new Date().toISOString()};Le.updateProduct(t.product.id,de),t.onProductUpdated&&t.onProductUpdated(t.product.id),t.onClose()},X=()=>{ue(""),t.onClose()},Y=()=>L()===0?0:((C()-L())/L()*100).toFixed(2),W={"margin-bottom":"1.5rem"},J={display:"block","margin-bottom":"0.5rem","font-weight":"500",color:"var(--text-primary)"},m={width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)"},I={...m,cursor:"pointer"},h={color:"#f44336","font-size":"0.875rem","margin-bottom":"1rem"},u={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},A={display:"grid","grid-template-columns":"1fr 1fr",gap:"1rem"},S={padding:"1rem",background:"var(--surface-color)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","margin-bottom":"1.5rem",display:"flex","justify-content":"space-between","align-items":"center"},w={display:"flex","align-items":"center",gap:"0.5rem",cursor:"pointer"};return y($t,{get isOpen(){return t.isOpen},onClose:X,get title(){return e("products.updateProduct","Update Product")},size:"large",get children(){return y(Ue,{get when(){return t.product},get fallback(){return(()=>{var k=ho();return k.style.setProperty("text-align","center"),k.style.setProperty("padding","2rem"),k.style.setProperty("color","var(--text-muted)"),r(k,()=>e("products.noProductSelected","No product selected")),k})()},get children(){var k=ed(),E=k.firstChild,de=E.firstChild,P=de.firstChild,z=de.nextSibling,te=E.nextSibling,H=te.firstChild,Q=H.firstChild,ee=Q.firstChild,ie=Q.nextSibling,le=H.nextSibling,R=le.firstChild,K=R.firstChild,pe=R.nextSibling,fe=te.nextSibling,M=fe.firstChild,F=M.nextSibling,N=fe.nextSibling,ae=N.firstChild,re=ae.nextSibling,ve=re.firstChild,ge=ve.nextSibling,g=N.nextSibling,p=g.firstChild,G=p.firstChild,me=G.nextSibling,V=me.firstChild,se=V.nextSibling,B=se.nextSibling,be=B.nextSibling,xe=be.nextSibling,Se=xe.nextSibling,_e=Se.nextSibling,Ee=_e.nextSibling,Me=Ee.nextSibling,$e=p.nextSibling,Ce=$e.firstChild,De=Ce.nextSibling,Te=g.nextSibling,Be=Te.firstChild,Re=Be.firstChild,Pe=Re.nextSibling,qe=Te.nextSibling,Ke=qe.firstChild,Ge=Ke.firstChild,he=Ge.firstChild,He=Ge.nextSibling;He.firstChild;var rt=Ke.nextSibling,tt=rt.firstChild,ot=tt.firstChild,Qe=tt.nextSibling,at=Qe.firstChild,yt=qe.nextSibling,ke=yt.firstChild,Ie=ke.firstChild,Oe=Ie.nextSibling,je=ke.nextSibling,Ye=je.firstChild,Ve=Ye.nextSibling,nt=yt.nextSibling;return k.addEventListener("submit",ye),r(de,()=>e("inventory.productName","Product Name"),P),z.addEventListener("change",we=>i(we.target.value)),r(Q,()=>e("inventory.sku","SKU"),ee),ie.addEventListener("change",we=>c(we.target.value)),r(R,()=>e("inventory.category","Category"),K),pe.addEventListener("change",we=>v(we.target.value)),r(M,()=>e("common.description","Description")),F.addEventListener("change",we=>a(we.target.value)),r(ae,()=>e("products.status","Status")),o(re,w),ve.addEventListener("change",we=>ce(we.target.checked)),ve.style.setProperty("cursor","pointer"),ge.style.setProperty("cursor","pointer"),r(ge,(()=>{var we=U(()=>!!q());return()=>we()?(()=>{var Xe=td();return Xe.firstChild,Xe.style.setProperty("color","#2e7d32"),r(Xe,()=>e("common.active","Active"),null),Xe})():(()=>{var Xe=rd();return Xe.firstChild,Xe.style.setProperty("color","#d32f2f"),r(Xe,()=>e("common.inactive","Inactive"),null),Xe})()})()),r(G,()=>e("inventory.unitOfMeasure","Unit of Measure")),me.addEventListener("change",we=>T(we.target.value)),r(V,()=>e("inventory.pieces","Pieces")),r(se,()=>e("inventory.kilograms","Kilograms")),r(B,()=>e("inventory.pounds","Pounds")),r(be,()=>e("inventory.meters","Meters")),r(xe,()=>e("inventory.feet","Feet")),r(Se,()=>e("inventory.liters","Liters")),r(_e,()=>e("inventory.gallons","Gallons")),r(Ee,()=>e("inventory.boxes","Boxes")),r(Me,()=>e("inventory.packs","Packs")),r(Ce,()=>e("inventory.unitCost","Unit Cost")),De.addEventListener("change",we=>D(Number(we.target.value))),r(Re,()=>e("inventory.sellingPrice","Selling Price")),Pe.addEventListener("change",we=>$(Number(we.target.value))),o(qe,S),Ge.style.setProperty("color","var(--text-muted)"),Ge.style.setProperty("font-size","0.875rem"),r(Ge,()=>e("products.profit","Profit"),he),He.style.setProperty("margin-left","0.5rem"),He.style.setProperty("font-weight","600"),r(He,()=>(C()-L()).toFixed(2),null),tt.style.setProperty("color","var(--text-muted)"),tt.style.setProperty("font-size","0.875rem"),r(tt,()=>e("products.profitMargin","Profit Margin"),ot),Qe.style.setProperty("margin-left","0.5rem"),Qe.style.setProperty("font-weight","600"),r(Qe,Y,at),r(Ie,()=>e("inventory.minimumStockLevel","Minimum Stock Level")),Oe.addEventListener("change",we=>b(Number(we.target.value))),r(Ye,()=>e("inventory.maximumStockLevel","Maximum Stock Level")),Ve.addEventListener("change",we=>oe(Number(we.target.value))),r(k,(()=>{var we=U(()=>!!Z());return()=>we()&&(()=>{var Xe=ho();return o(Xe,h),r(Xe,Z),Xe})()})(),nt),o(nt,u),r(nt,y(Ae,{variant:"secondary",type:"button",onClick:X,get children(){return e("common.cancel","Cancel")}}),null),r(nt,y(Ae,{variant:"primary",type:"submit",get children(){return e("common.update","Update")}}),null),j(we=>{var Xe=W,vt=J,wt=m,ht=e("inventory.enterProductName","Enter product name"),pt=A,xt=J,St=m,Dt=e("inventory.enterSkuCode","Enter SKU code"),At=J,It=m,Et=e("inventory.enterCategory","Enter category"),Ft=W,sr=J,Jt={...m,"min-height":"80px",resize:"vertical"},Qt=e("inventory.enterProductDescription","Enter product description"),Kt=W,Ar=J,fr=A,br=J,hr=I,Zt=J,Ir=m,Sr=A,Je=J,dt=m,Ct=A,Bt=J,jt=m,gt=J,Vt=m;return we.e=o(E,Xe,we.e),we.t=o(de,vt,we.t),we.a=o(z,wt,we.a),ht!==we.o&&Ze(z,"placeholder",we.o=ht),we.i=o(te,pt,we.i),we.n=o(Q,xt,we.n),we.s=o(ie,St,we.s),Dt!==we.h&&Ze(ie,"placeholder",we.h=Dt),we.r=o(R,At,we.r),we.d=o(pe,It,we.d),Et!==we.l&&Ze(pe,"placeholder",we.l=Et),we.u=o(fe,Ft,we.u),we.c=o(M,sr,we.c),we.w=o(F,Jt,we.w),Qt!==we.m&&Ze(F,"placeholder",we.m=Qt),we.f=o(N,Kt,we.f),we.y=o(ae,Ar,we.y),we.g=o(g,fr,we.g),we.p=o(G,br,we.p),we.b=o(me,hr,we.b),we.T=o(Ce,Zt,we.T),we.A=o(De,Ir,we.A),we.O=o(Te,Sr,we.O),we.I=o(Re,Je,we.I),we.S=o(Pe,dt,we.S),we.W=o(yt,Ct,we.W),we.C=o(Ie,Bt,we.C),we.B=o(Oe,jt,we.B),we.v=o(Ye,gt,we.v),we.k=o(Ve,Vt,we.k),we},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0,O:void 0,I:void 0,S:void 0,W:void 0,C:void 0,B:void 0,v:void 0,k:void 0}),j(()=>z.value=n()),j(()=>ie.value=l()),j(()=>pe.value=d()),j(()=>F.value=s()),j(()=>ve.checked=q()),j(()=>me.value=f()),j(()=>De.value=L()),j(()=>Pe.value=C()),j(()=>Oe.value=x()),j(()=>Ve.value=O()),k}})}})};var So=_("<div>🔄 "),od=_("<div><div><div><input type=text></div><select><option value>"),id=_("<div>⚠️ "),rr=_("<div>"),ld=_("<option>"),sd=_("<div>🔍 <br><button>"),ad=_("<div><div><h3></h3><div></div></div><div></div><div>SKU: <!> • UPC: <!> • </div><div><span>: <!> </span><span></span></div><div><button></button><button>");const cd=()=>{const{t}=We(),[e,n]=ne(""),[i,l]=ne(""),[c,s]=ne([]),[a,d]=ne(!1),[v,f]=ne(null),[T,L]=ne(!1),[D,C]=ne(!1),[$,x]=ne(!1),[b,O]=ne(null);_r(async()=>{await oe()});const oe=async()=>{try{d(!0),f(null);try{const P=await Zn.getAll();console.log({apiProducts:P}),s(P.map(z=>({id:z.id||`prod-${Date.now()}-${Math.random()}`,name:z.productName||z.name||"Unknown Product",sku:z.sku||z.productCode||"",description:z.description||"",category:z.category||"General",unitOfMeasure:z.unitOfMeasure||"pcs",unitCost:parseFloat(z.unitCost||z.cost||"0"),sellingPrice:parseFloat(z.sellingPrice||z.price||"0"),minStockLevel:parseInt(z.minStockLevel||"0"),maxStockLevel:parseInt(z.maxStockLevel||"100"),isActive:z.isActive!==!1,createdDate:z.createdDate||new Date().toISOString(),lastModified:z.lastModified||new Date().toISOString(),businessId:z.businessId||"YB100423253156428"})))}catch(P){console.warn("API failed, using local store:",P),s(Le.products)}}catch(P){f(P instanceof Error?P.message:"Failed to load products")}finally{d(!1)}},q=async()=>{try{d(!0),f(null);try{console.log("loadAllProducts inventoryApi");const P=await kr.getProducts("prod");console.log({apiResults:P});const z=Object.keys(P),te=Q=>{let ie=P[Q];return{id:ie.id,name:ie.name,businessId:ie.businessId,sku:ie.code,numCode:ie.codeN,category:ie.category,unitCost:ie.unitCost||0,unitOfMeasure:ie.unitOfMeasure,minStockLevel:ie.minStockLevel,maxStockLevel:ie.maxStockLevel,isActive:ie.isActive,description:ie.description||"",createdDate:ie.createdAt||new Date().toISOString(),lastModified:ie.updatedAt||new Date().toISOString(),sellingPrice:parseFloat(ie.sellingPrice||ie.price||"0")}},H=z.map(te);s(H)}catch(P){console.warn("API failed, using local store:",P),s(Le.products)}}catch(P){f(P instanceof Error?P.message:"Failed to load products")}finally{d(!1)}},{search:ce,isSearching:Z,cancel:ue}=Wc(async P=>{if(!P.trim()){await oe();return}try{f(null);const z=await Zn.getAll(P);s(z.map(te=>({id:te.id||`prod-${Date.now()}-${Math.random()}`,name:te.productName||te.name||"Unknown Product",sku:te.sku||te.productCode||"",description:te.description||"",category:te.category||"General",unitOfMeasure:te.unitOfMeasure||"pcs",unitCost:parseFloat(te.unitCost||te.cost||"0"),sellingPrice:parseFloat(te.sellingPrice||te.price||"0"),minStockLevel:parseInt(te.minStockLevel||"0"),maxStockLevel:parseInt(te.maxStockLevel||"100"),isActive:te.isActive!==!1,createdDate:te.createdDate||new Date().toISOString(),lastModified:te.lastModified||new Date().toISOString(),businessId:te.businessId||"YB100423253156428"})))}catch(z){f(z instanceof Error?z.message:"Search failed");const te=Le.products.filter(H=>H.name.toLowerCase().includes(P.toLowerCase())||H.sku.toLowerCase().includes(P.toLowerCase())||H.category.toLowerCase().includes(P.toLowerCase()));s(te)}},300),ye=P=>{const te=P.target.value;n(te),ce(te)};wr(()=>{ue()});const X=Fe(()=>{let P=c();return i()&&(P=P.filter(z=>z.category===i())),P}),Y=Fe(()=>[...new Set(c().map(z=>z.category))].sort()),W=Fe(()=>{const P=c().filter(H=>H.isActive),z=c().length,te=c().filter(H=>Le.getTotalStockByProduct(H.id)===0);return{total:z,active:P.length,outOfStock:te.length}}),J=P=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(P),m=P=>{const z=Le.getTotalStockByProduct(P),te=c().find(ee=>ee.id===P);if(!te)return{quantity:0,status:"unknown"};const H=z<=te.minStockLevel;return{quantity:z,status:z===0?"out":H?"low":"good"}},I={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"},h={padding:"1.5rem",background:"var(--surface-color)","border-radius":"var(--border-radius)",border:"1px solid var(--border-color)",cursor:"pointer",transition:"all 0.2s ease"},u={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"1rem"},A={"font-size":"1.25rem","font-weight":"600",color:"var(--primary-color)"},S=P=>({padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500",background:P?"#d4edda":"#f8d7da",color:P?"#155724":"#721c24"}),w={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"},k={display:"flex",gap:"1rem","align-items":"center","margin-bottom":"2rem","flex-wrap":"wrap"},E={flex:"1","min-width":"300px",padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)"},de={padding:"0.75rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-size":"1rem",background:"var(--surface-color)","min-width":"150px"};return y(zt,{get title(){return t("products.title","Products")},get children(){return[(()=>{var P=od(),z=P.firstChild,te=z.firstChild,H=te.firstChild,Q=te.nextSibling,ee=Q.firstChild;return P.style.setProperty("display","flex"),P.style.setProperty("justify-content","space-between"),P.style.setProperty("align-items","flex-start"),P.style.setProperty("margin-bottom","2rem"),P.style.setProperty("flex-wrap","wrap"),P.style.setProperty("gap","1rem"),o(z,k),te.style.setProperty("position","relative"),te.style.setProperty("flex","1"),te.style.setProperty("min-width","300px"),H.$$input=ye,o(H,E),r(te,y(Ue,{get when(){return Z()},get children(){var ie=So();return ie.firstChild,ie.style.setProperty("position","absolute"),ie.style.setProperty("right","0.75rem"),ie.style.setProperty("top","50%"),ie.style.setProperty("transform","translateY(-50%)"),ie.style.setProperty("font-size","0.875rem"),ie.style.setProperty("color","var(--text-muted)"),r(ie,()=>t("common.searching","Searching..."),null),ie}}),null),Q.addEventListener("change",ie=>l(ie.target.value)),o(Q,de),r(ee,()=>t("products.allCategories","All Categories")),r(Q,y(ct,{get each(){return Y()},children:ie=>(()=>{var le=ld();return le.value=ie,r(le,ie),le})()}),null),r(z,y(Ae,{variant:"outline",onClick:()=>{n(""),l(""),console.log("loadAllProducts"),q()},get children(){return["🔄 ",U(()=>t("common.refresh","Refresh"))]}}),null),r(P,y(Ae,{variant:"primary",onClick:()=>L(!0),get children(){return["➕ ",U(()=>t("products.addNew","Add New Product"))]}}),null),j(()=>Ze(H,"placeholder",t("products.searchPlaceholder","Search products by name, SKU, or category..."))),j(()=>H.value=e()),j(()=>Q.value=i()),P})(),y(Ue,{get when(){return v()},get children(){var P=id();return P.firstChild,P.style.setProperty("padding","1rem"),P.style.setProperty("margin-bottom","1rem"),P.style.setProperty("background","#ffebee"),P.style.setProperty("border","1px solid #ffcdd2"),P.style.setProperty("border-radius","var(--border-radius)"),P.style.setProperty("color","#d32f2f"),r(P,v,null),P}}),(()=>{var P=rr();return o(P,w),r(P,y(ze,{get title(){return t("products.totalProducts","Total Products")},get subtitle(){return t("products.inCatalog","In catalog")},get children(){var z=rr();return z.style.setProperty("font-size","1.5rem"),z.style.setProperty("font-weight","600"),z.style.setProperty("color","var(--primary-color)"),r(z,()=>W().total),z}}),null),r(P,y(ze,{get title(){return t("products.activeProducts","Active Products")},get subtitle(){return t("products.currentlyAvailable","Currently available")},get children(){var z=rr();return z.style.setProperty("font-size","1.5rem"),z.style.setProperty("font-weight","600"),z.style.setProperty("color","var(--primary-color)"),r(z,()=>W().active),z}}),null),r(P,y(ze,{get title(){return t("products.outOfStock","Out of Stock")},get subtitle(){return t("products.needsRestock","Needs restock")},get children(){var z=rr();return z.style.setProperty("font-size","1.5rem"),z.style.setProperty("font-weight","600"),r(z,()=>W().outOfStock),j(te=>(te=W().outOfStock>0?"#f44336":"var(--primary-color)")!=null?z.style.setProperty("color",te):z.style.removeProperty("color")),z}}),null),r(P,y(ze,{get title(){return t("products.showing","Showing")},get subtitle(){return U(()=>!!(e()||i()))()?t("products.filtered","Filtered results"):t("products.allProducts","All products")},get children(){var z=rr();return z.style.setProperty("font-size","1.5rem"),z.style.setProperty("font-weight","600"),z.style.setProperty("color","var(--primary-color)"),r(z,()=>X().length),z}}),null),P})(),y(ze,{get title(){return t("products.productCatalog","Product Catalog")},get subtitle(){return t("products.manageYourProducts","Manage your products and pricing")},get children(){return y(Ue,{get when(){return U(()=>!a())()&&!Z()},get fallback(){return(()=>{var P=So();return P.firstChild,P.style.setProperty("text-align","center"),P.style.setProperty("padding","3rem"),P.style.setProperty("color","var(--text-muted)"),r(P,()=>t("common.loading","Loading products..."),null),P})()},get children(){return y(Ue,{get when(){return X().length>0},get fallback(){return(()=>{var P=rr();return P.style.setProperty("text-align","center"),P.style.setProperty("padding","3rem"),P.style.setProperty("color","var(--text-muted)"),r(P,(()=>{var z=U(()=>!!(e()||i()));return()=>z()?(()=>{var te=sd(),H=te.firstChild,Q=H.nextSibling,ee=Q.nextSibling;return r(te,()=>t("products.noResults","No products found matching your criteria."),Q),ee.$$click=()=>{n(""),l(""),oe()},ee.style.setProperty("margin-top","1rem"),ee.style.setProperty("padding","0.5rem 1rem"),ee.style.setProperty("background","none"),ee.style.setProperty("border","1px solid var(--primary-color)"),ee.style.setProperty("border-radius","var(--border-radius-sm)"),ee.style.setProperty("color","var(--primary-color)"),ee.style.setProperty("cursor","pointer"),r(ee,()=>t("products.clearFilters","Clear filters")),te})():t("products.noProducts","No products available.")})()),P})()},get children(){var P=rr();return o(P,I),r(P,y(ct,{get each(){return X()},children:z=>{const te=m(z.id),H={good:{background:"#d4edda",color:"#155724"},low:{background:"#fff3cd",color:"#856404"},out:{background:"#f8d7da",color:"#721c24"}}[te.status];return(()=>{var Q=ad(),ee=Q.firstChild,ie=ee.firstChild,le=ie.nextSibling,R=ee.nextSibling,K=R.nextSibling,pe=K.firstChild,fe=pe.nextSibling,M=fe.nextSibling,F=M.nextSibling;F.nextSibling;var N=K.nextSibling,ae=N.firstChild,re=ae.firstChild,ve=re.nextSibling;ve.nextSibling;var ge=ae.nextSibling,g=N.nextSibling,p=g.firstChild,G=p.nextSibling;return Q.addEventListener("mouseleave",me=>{me.currentTarget.style.transform="translateY(0)",me.currentTarget.style.boxShadow="none"}),Q.addEventListener("mouseenter",me=>{me.currentTarget.style.transform="translateY(-2px)",me.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)"}),Q.$$click=()=>{O(z),C(!0)},o(ee,u),ie.style.setProperty("margin","0"),ie.style.setProperty("font-size","1.1rem"),r(ie,()=>z.name),r(le,(()=>{var me=U(()=>te.status==="out");return()=>me()?t("products.outOfStock","Out of Stock"):U(()=>te.status==="low")()?t("products.lowStock","Low Stock"):t("products.inStock","In Stock")})()),o(R,A),r(R,()=>J(z.unitCost)),K.style.setProperty("color","var(--text-muted)"),K.style.setProperty("font-size","0.875rem"),K.style.setProperty("margin-bottom","0.5rem"),r(K,()=>z.sku,fe),r(K,()=>z.UPC,F),r(K,()=>z.category,null),N.style.setProperty("display","flex"),N.style.setProperty("justify-content","space-between"),N.style.setProperty("align-items","center"),N.style.setProperty("font-size","0.875rem"),N.style.setProperty("color","var(--text-muted)"),r(ae,()=>t("products.stock","Stock"),re),r(ae,()=>te.quantity,ve),r(ae,()=>z.unitOfMeasure,null),ge.style.setProperty("font-weight","600"),r(ge,()=>te.status==="out"?"⚠️":te.status==="low"?"⚡":"✅"),r(Q,(()=>{var me=U(()=>!!z.description);return()=>me()&&(()=>{var V=rr();return V.style.setProperty("margin-top","0.5rem"),V.style.setProperty("font-size","0.75rem"),V.style.setProperty("color","var(--text-muted)"),V.style.setProperty("font-style","italic"),V.style.setProperty("white-space","nowrap"),V.style.setProperty("overflow","hidden"),V.style.setProperty("text-overflow","ellipsis"),r(V,()=>z.description),V})()})(),g),g.style.setProperty("display","flex"),g.style.setProperty("gap","0.5rem"),g.style.setProperty("margin-top","1rem"),g.style.setProperty("padding-top","1rem"),g.style.setProperty("border-top","1px solid var(--border-color)"),p.addEventListener("mouseleave",me=>me.currentTarget.style.opacity="1"),p.addEventListener("mouseenter",me=>me.currentTarget.style.opacity="0.8"),p.$$click=me=>{me.stopPropagation(),O(z),C(!0)},p.style.setProperty("flex","1"),p.style.setProperty("padding","0.5rem"),p.style.setProperty("background","var(--primary-color)"),p.style.setProperty("color","white"),p.style.setProperty("border","none"),p.style.setProperty("border-radius","var(--border-radius-sm)"),p.style.setProperty("cursor","pointer"),p.style.setProperty("font-size","0.875rem"),p.style.setProperty("transition","opacity 0.2s"),r(p,()=>t("common.view","View")),G.addEventListener("mouseleave",me=>{me.currentTarget.style.background="transparent",me.currentTarget.style.color="var(--primary-color)"}),G.addEventListener("mouseenter",me=>{me.currentTarget.style.background="var(--primary-color)",me.currentTarget.style.color="white"}),G.$$click=me=>{me.stopPropagation(),O(z),x(!0)},G.style.setProperty("flex","1"),G.style.setProperty("padding","0.5rem"),G.style.setProperty("background","transparent"),G.style.setProperty("color","var(--primary-color)"),G.style.setProperty("border","1px solid var(--primary-color)"),G.style.setProperty("border-radius","var(--border-radius-sm)"),G.style.setProperty("cursor","pointer"),G.style.setProperty("font-size","0.875rem"),G.style.setProperty("transition","all 0.2s"),r(G,()=>t("common.edit","Edit")),j(me=>{var V={...h,cursor:"pointer",transition:"all 0.2s ease"},se={...S(te.status==="good"),...H},B=te.status==="good"?"#2e7d32":te.status==="low"?"#f57f17":"#d32f2f";return me.e=o(Q,V,me.e),me.t=o(le,se,me.t),B!==me.a&&((me.a=B)!=null?ge.style.setProperty("color",B):ge.style.removeProperty("color")),me},{e:void 0,t:void 0,a:void 0}),Q})()}})),P}})}})}}),y(un,{get isOpen(){return T()},onClose:()=>L(!1),onProductAdded:()=>{oe()}}),y(Xc,{get isOpen(){return D()},onClose:()=>{C(!1),O(null)},get product(){return b()},onEdit:()=>{C(!1),x(!0)}}),y(nd,{get isOpen(){return $()},onClose:()=>{x(!1),O(null)},get product(){return b()},onProductUpdated:()=>{oe()}})]}})};ut(["input","click"]);const dd=[{id:"1",name:"John Doe",position:"Software Engineer",salary:85e3,email:"john.doe@company.com",phone:"+1 (555) 123-4567",department:"Engineering",startDate:"2023-01-15"},{id:"2",name:"Jane Smith",position:"Product Manager",salary:95e3,email:"jane.smith@company.com",phone:"+1 (555) 234-5678",department:"Product",startDate:"2022-08-20"},{id:"3",name:"Mike Brown",position:"Designer",salary:7e4,email:"mike.brown@company.com",phone:"+1 (555) 345-6789",department:"Design",startDate:"2023-03-10"},{id:"4",name:"Sarah Kim",position:"HR Manager",salary:78e3,email:"sarah.kim@company.com",phone:"+1 (555) 456-7890",department:"Human Resources",startDate:"2022-11-05"},{id:"5",name:"Alex Lee",position:"Data Analyst",salary:72e3,email:"alex.lee@company.com",phone:"+1 (555) 567-8901",department:"Analytics",startDate:"2023-02-28"},{id:"6",name:"Emma Wilson",position:"Marketing Manager",salary:82e3,email:"emma.wilson@company.com",phone:"+1 (555) 678-9012",department:"Marketing",startDate:"2022-09-15"}],[Nr,$n]=ne(dd),Zo={get employees(){return Nr()},addEmployee(t){const e={...t,id:Date.now().toString()};return $n([...Nr(),e]),e},updateEmployee(t,e){$n(Nr().map(n=>n.id===t?{...n,...e}:n))},deleteEmployee(t){$n(Nr().filter(e=>e.id!==t))},getEmployeeById(t){return Nr().find(e=>e.id===t)}};var ud=_("<form><div>");const yd=t=>{const{t:e}=We(),[n,i]=ne({name:"",position:"",salary:"",email:"",phone:"",department:"",startDate:""}),l=[{value:"Engineering",label:e("employees.departments.engineering","Engineering")},{value:"Product",label:e("employees.departments.product","Product")},{value:"Design",label:e("employees.departments.design","Design")},{value:"Marketing",label:e("employees.departments.marketing","Marketing")},{value:"Sales",label:e("employees.departments.sales","Sales")},{value:"Human Resources",label:e("employees.departments.humanResources","Human Resources")},{value:"Finance",label:e("employees.departments.finance","Finance")},{value:"Operations",label:e("employees.departments.operations","Operations")},{value:"Analytics",label:e("employees.departments.analytics","Analytics")}],c={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},s=d=>{d.preventDefault();const v=n();if(!v.name||!v.position||!v.salary||!v.email||!v.department||!v.startDate){alert(e("forms.requiredField"));return}const f={name:v.name,position:v.position,salary:parseFloat(v.salary),email:v.email,phone:v.phone,department:v.department,startDate:v.startDate};Zo.addEmployee(f),i({name:"",position:"",salary:"",email:"",phone:"",department:"",startDate:""}),t.onClose()},a=(d,v)=>{i(f=>({...f,[d]:v}))};return y($t,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return e("employees.addEmployee")},get children(){var d=ud(),v=d.firstChild;return d.addEventListener("submit",s),r(d,y(it,{get label(){return e("employees.fullName")},get value(){return n().name},onChange:f=>a("name",f),get placeholder(){return e("employees.enterFullName","Enter employee's full name")},required:!0}),v),r(d,y(it,{get label(){return e("employees.position")},get value(){return n().position},onChange:f=>a("position",f),get placeholder(){return e("employees.enterPosition","Enter job position")},required:!0}),v),r(d,y(_t,{get label(){return e("employees.department")},get value(){return n().department},onChange:f=>a("department",f),options:l,required:!0}),v),r(d,y(it,{get label(){return e("employees.email")},type:"email",get value(){return n().email},onChange:f=>a("email",f),get placeholder(){return e("employees.enterEmail","Enter email address")},required:!0}),v),r(d,y(it,{get label(){return e("employees.phone")},type:"tel",get value(){return n().phone},onChange:f=>a("phone",f),get placeholder(){return e("employees.enterPhone","Enter phone number")}}),v),r(d,y(it,{get label(){return e("employees.salary")},type:"number",get value(){return n().salary},onChange:f=>a("salary",f),get placeholder(){return e("employees.enterSalary","Enter annual salary")},required:!0}),v),r(d,y(it,{get label(){return e("employees.hireDate")},type:"date",get value(){return n().startDate},onChange:f=>a("startDate",f),required:!0}),v),o(v,c),r(v,y(Ae,{variant:"secondary",type:"button",get onClick(){return t.onClose},get children(){return e("common.cancel")}}),null),r(v,y(Ae,{variant:"primary",type:"submit",get children(){return e("employees.addEmployee")}}),null),d}})};var md=_("<div><div></div><div></div><div>"),vd=_("<div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span>"),gd=_("<div>");const pd=t=>{const{t:e}=We(),n={display:"flex","justify-content":"space-between","align-items":"center",padding:"0.75rem 0","border-bottom":"1px solid var(--border-color)"},i={"font-weight":"500",color:"var(--text-muted)","font-size":"0.875rem"},l={"font-weight":"600",color:"var(--text-primary)"},c={width:"80px",height:"80px","border-radius":"50%",background:"linear-gradient(135deg, var(--primary-color), var(--secondary-color))",display:"flex","align-items":"center","justify-content":"center",color:"white","font-weight":"600","font-size":"1.5rem",margin:"0 auto 1.5rem auto"},s={"text-align":"center","margin-bottom":"2rem"},a={"font-size":"1.5rem","font-weight":"600",color:"var(--text-primary)",margin:"0.5rem 0"},d={color:"var(--text-muted)","font-size":"1rem"},v={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"};if(!t.employee)return null;const f=D=>D.split(" ").map(C=>C[0]).join("").toUpperCase(),T=D=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(D),L=D=>new Date(D).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return y($t,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return e("employees.employeeDetails")},get children(){return[(()=>{var D=md(),C=D.firstChild,$=C.nextSibling,x=$.nextSibling;return o(D,s),o(C,c),r(C,()=>f(t.employee.name)),o($,a),r($,()=>t.employee.name),o(x,d),r(x,()=>t.employee.position),D})(),(()=>{var D=vd(),C=D.firstChild,$=C.firstChild,x=$.nextSibling,b=C.nextSibling,O=b.firstChild,oe=O.nextSibling,q=b.nextSibling,ce=q.firstChild,Z=ce.nextSibling,ue=q.nextSibling,ye=ue.firstChild,X=ye.nextSibling,Y=ue.nextSibling,W=Y.firstChild,J=W.nextSibling,m=Y.nextSibling,I=m.firstChild,h=I.nextSibling;return r($,()=>e("employees.employeeId")),r(x,()=>t.employee.id),r(O,()=>e("employees.department")),r(oe,()=>t.employee.department),r(ce,()=>e("employees.email")),r(Z,()=>t.employee.email),r(ye,()=>e("employees.phone")),r(X,()=>t.employee.phone),r(W,()=>e("employees.salary")),r(J,()=>T(t.employee.salary)),r(I,()=>e("employees.hireDate")),r(h,()=>L(t.employee.startDate)),j(u=>{var A=n,S=i,w=l,k=n,E=i,de=l,P=n,z=i,te=l,H=n,Q=i,ee=l,ie=n,le=i,R=l,K=n,pe=i,fe=l;return u.e=o(C,A,u.e),u.t=o($,S,u.t),u.a=o(x,w,u.a),u.o=o(b,k,u.o),u.i=o(O,E,u.i),u.n=o(oe,de,u.n),u.s=o(q,P,u.s),u.h=o(ce,z,u.h),u.r=o(Z,te,u.r),u.d=o(ue,H,u.d),u.l=o(ye,Q,u.l),u.u=o(X,ee,u.u),u.c=o(Y,ie,u.c),u.w=o(W,le,u.w),u.m=o(J,R,u.m),u.f=o(m,K,u.f),u.y=o(I,pe,u.y),u.g=o(h,fe,u.g),u},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0}),D})(),(()=>{var D=gd();return o(D,v),r(D,y(Ae,{variant:"secondary",get onClick(){return t.onClose},get children(){return e("common.close")}}),null),r(D,y(Ae,{variant:"primary",onClick:()=>{console.log("Edit employee:",t.employee.id)},get children(){return e("employees.editEmployee")}}),null),D})()]}})};var Po=_("<div>"),fd=_("<div><div></div><div><div></div><div></div><div>/year");const bd=()=>{const{t}=We(),[e,n]=ne(!1),[i,l]=ne(!1),[c,s]=ne(null),a=$=>{s($),l(!0)},d={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"},v={display:"flex","align-items":"center",gap:"1rem"},f={width:"60px",height:"60px","border-radius":"50%",background:"linear-gradient(135deg, var(--primary-color), var(--secondary-color))",display:"flex","align-items":"center","justify-content":"center",color:"white","font-weight":"600","font-size":"1.2rem"},T={flex:"1"},L={"font-weight":"600","margin-bottom":"0.25rem"},D={color:"var(--text-muted)","font-size":"0.875rem","margin-bottom":"0.5rem"},C={color:"var(--primary-color)","font-weight":"500"};return y(zt,{get title(){return t("employees.title")},get children(){return[(()=>{var $=Po();return $.style.setProperty("margin-bottom","2rem"),r($,y(Ae,{variant:"primary",onClick:()=>n(!0),get children(){return t("employees.addEmployee")}})),$})(),(()=>{var $=Po();return o($,d),r($,()=>Zo.employees.map(x=>{const b=oe=>oe.split(" ").map(q=>q[0]).join("").toUpperCase(),O=oe=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(oe);return y(ze,{onClick:()=>a(x),get children(){var oe=fd(),q=oe.firstChild,ce=q.nextSibling,Z=ce.firstChild,ue=Z.nextSibling,ye=ue.nextSibling,X=ye.firstChild;return o(oe,v),o(q,f),r(q,()=>b(x.name)),o(ce,T),o(Z,L),r(Z,()=>x.name),o(ue,D),r(ue,()=>x.position),o(ye,C),r(ye,()=>O(x.salary),X),oe}})})),$})(),y(yd,{get isOpen(){return e()},onClose:()=>n(!1)}),y(pd,{get isOpen(){return i()},onClose:()=>l(!1),get employee(){return c()}})]}})},hd=[{id:"1",accountId:"1002",bankName:"First National Bank",accountNumber:"****1234",accountType:"checking",currency:"USD",currentBalance:32730.5,lastReconciledDate:"2024-01-01",lastReconciledBalance:3e4,isActive:!0},{id:"2",accountId:"1003",bankName:"First National Bank",accountNumber:"****5678",accountType:"savings",currency:"USD",currentBalance:12e3,lastReconciledDate:"2024-01-01",lastReconciledBalance:1e4,isActive:!0}],Sd=[{id:"1",accountId:"1002",date:"2024-01-15",description:"Customer Payment - ABC Corp",reference:"CHK001234",debitAmount:5e3,creditAmount:0,balance:35730.5,category:"Customer Payment",isReconciled:!0,reconciledWith:"eb1",importedAt:"2024-01-16",source:"csv_import"},{id:"2",accountId:"1002",date:"2024-01-14",description:"Office Supplies - Staples",reference:"CHK001235",debitAmount:0,creditAmount:250,balance:30730.5,category:"Office Expenses",isReconciled:!0,reconciledWith:"eb2",importedAt:"2024-01-16",source:"csv_import"},{id:"3",accountId:"1002",date:"2024-01-13",description:"Monthly Rent Payment",reference:"CHK001236",debitAmount:0,creditAmount:2e3,balance:28730.5,category:"Rent",isReconciled:!1,importedAt:"2024-01-16",source:"csv_import"},{id:"4",accountId:"1002",date:"2024-01-12",description:"Wire Transfer In",reference:"WIRE001",debitAmount:1e4,creditAmount:0,balance:38730.5,category:"Wire Transfer",isReconciled:!1,importedAt:"2024-01-16",source:"csv_import"}],Pd=[{id:"eb1",accountId:"1002",date:"2024-01-15",description:"Customer Payment Received - ABC Corp",reference:"INV-2024-001",debitAmount:5e3,creditAmount:0,category:"Accounts Receivable",isReconciled:!0,reconciledWith:"1",createdAt:"2024-01-15"},{id:"eb2",accountId:"1002",date:"2024-01-14",description:"Office Supplies Purchase",reference:"PO-2024-001",debitAmount:0,creditAmount:250,category:"Office Expenses",isReconciled:!0,reconciledWith:"2",createdAt:"2024-01-14"},{id:"eb3",accountId:"1002",date:"2024-01-11",description:"Salary Payment - John Doe",reference:"PAY-2024-001",debitAmount:0,creditAmount:3500,category:"Salary Expense",isReconciled:!1,createdAt:"2024-01-11"}],$d=[{id:"1",bankAccountId:"1",periodStart:"2024-01-01",periodEnd:"2024-01-15",startingBalance:3e4,endingBalance:35730.5,status:"in_progress",totalBankTransactions:4,totalEntryBookRecords:3,reconciledTransactions:2,unreconciledTransactions:2,discrepancyAmount:1500,createdAt:"2024-01-16",notes:"Wire transfer and rent payment need investigation"}],[Qr,$o]=ne(hd),[nr,xn]=ne(Sd),[Tr,xo]=ne(Pd),[Kr,Co]=ne($d),Pt={get bankAccounts(){return Qr()},addBankAccount(t){const e={...t,id:Date.now().toString()};return $o([...Qr(),e]),e},updateBankAccount(t,e){$o(Qr().map(n=>n.id===t?{...n,...e}:n))},getBankAccountById(t){return Qr().find(e=>e.id===t)},get bankStatements(){return nr()},addBankStatement(t){const e={...t,id:Date.now().toString(),importedAt:new Date().toISOString()};return xn([...nr(),e]),e},addBankStatementsFromCSV(t){const e=t.map(n=>({...n,id:`csv_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,importedAt:new Date().toISOString(),source:"csv_import",isReconciled:!1}));return xn([...nr(),...e]),e},updateBankStatement(t,e){xn(nr().map(n=>n.id===t?{...n,...e}:n))},getBankStatementsByAccount(t){return nr().filter(e=>e.accountId===t)},getUnreconciledBankStatements(t){return(t?this.getBankStatementsByAccount(t):nr()).filter(n=>!n.isReconciled)},get entryBookRecords(){return Tr()},addEntryBookRecord(t){const e={...t,id:Date.now().toString(),createdAt:new Date().toISOString()};return xo([...Tr(),e]),e},updateEntryBookRecord(t,e){xo(Tr().map(n=>n.id===t?{...n,...e}:n))},getEntryBookRecordsByAccount(t){return Tr().filter(e=>e.accountId===t)},getUnreconciledEntryBookRecords(t){return(t?this.getEntryBookRecordsByAccount(t):Tr()).filter(n=>!n.isReconciled)},reconcileTransaction(t,e){this.updateBankStatement(t,{isReconciled:!0,reconciledWith:e}),this.updateEntryBookRecord(e,{isReconciled:!0,reconciledWith:t})},unreconciledTransaction(t){const e=nr().find(n=>n.id===t);e?.reconciledWith&&this.updateEntryBookRecord(e.reconciledWith,{isReconciled:!1,reconciledWith:void 0}),this.updateBankStatement(t,{isReconciled:!1,reconciledWith:void 0})},findPotentialMatches(t){const e=nr().find(i=>i.id===t);return e?this.getUnreconciledEntryBookRecords(e.accountId).filter(i=>{const l=Math.abs(e.debitAmount-i.debitAmount)<.01||Math.abs(e.creditAmount-i.creditAmount)<.01,c=new Date(e.date),s=new Date(i.date),d=Math.abs((c.getTime()-s.getTime())/(1e3*60*60*24))<=3,v=e.reference===i.reference||e.description.toLowerCase().includes(i.description.toLowerCase())||i.description.toLowerCase().includes(e.description.toLowerCase());return l&&(d||v)}).sort((i,l)=>{const c=(i.date===e.date?2:0)+(i.reference===e.reference?1:0);return(l.date===e.date?2:0)+(l.reference===e.reference?1:0)-c}):[]},get reconciliationSessions(){return Kr()},startReconciliationSession(t,e,n){const i=this.getBankStatementsByAccount(t).filter(v=>v.date>=e&&v.date<=n),l=this.getEntryBookRecordsByAccount(t).filter(v=>v.date>=e&&v.date<=n),c=i.filter(v=>v.isReconciled).length,s=this.getBankAccountById(t)?.lastReconciledBalance||0,a=this.getBankAccountById(t)?.currentBalance||0,d={id:Date.now().toString(),bankAccountId:t,periodStart:e,periodEnd:n,startingBalance:s,endingBalance:a,status:"in_progress",totalBankTransactions:i.length,totalEntryBookRecords:l.length,reconciledTransactions:c,unreconciledTransactions:i.length-c,discrepancyAmount:0,createdAt:new Date().toISOString()};return Co([...Kr(),d]),d},updateReconciliationSession(t,e){Co(Kr().map(n=>n.id===t?{...n,...e}:n))},getReconciliationSessionsByAccount(t){return Kr().filter(e=>e.bankAccountId===t)}};var Cn=_("<div>"),xd=_("<div><strong>:</strong> <!> - "),Cd=_("<div><div><div>📄</div><div></div><div></div></div><input id=csvFileInput type=file accept=.csv>"),_d=_("<div><h4></h4><div><div><label> *</label><select><option value></option></select></div><div><label> *</label><select><option value></option></select></div><div><label></label><select><option value></option></select></div><div><label> *</label><select><option value></option></select></div><div><label></label><select><option value></option></select></div><div><label></label><select><option value>"),Cr=_("<option>"),wd=_("<div><table><thead><tr></tr></thead><tbody>"),kd=_("<th>"),Ad=_("<tr>"),Id=_("<td>");const Ed=t=>{const{t:e}=We(),[n,i]=ne(!1),[l,c]=ne(!1),[s,a]=ne(null),[d,v]=ne([]),[f,T]=ne({date:"",description:"",reference:"",debit:"",credit:"",balance:""}),L={border:`2px dashed ${n()?"var(--primary-color)":"var(--border-color)"}`,"border-radius":"var(--border-radius)",padding:"2rem","text-align":"center","background-color":n()?"var(--background-color)":"transparent",transition:"all 0.2s ease",cursor:"pointer"},D={display:"grid","grid-template-columns":"1fr 1fr",gap:"1rem","margin-top":"1.5rem"},C={width:"100%",padding:"0.5rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","font-family":"inherit"},$={"max-height":"200px","overflow-y":"auto",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","margin-top":"1rem"},x={width:"100%","border-collapse":"collapse","font-size":"0.875rem"},b={padding:"0.5rem","border-bottom":"1px solid var(--border-color)","text-align":"left"},O={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},oe=J=>{J.preventDefault(),i(!0)},q=J=>{J.preventDefault(),i(!1)},ce=J=>{J.preventDefault(),i(!1);const m=J.dataTransfer?.files;m&&m.length>0&&ue(m[0])},Z=J=>{const m=J.target;m.files&&m.files.length>0&&ue(m.files[0])},ue=J=>{if(!J.name.toLowerCase().endsWith(".csv")){a({success:!1,message:e("banking.pleaseUploadCSV")});return}c(!0);const m=new FileReader;m.onload=I=>{try{const u=(I.target?.result).split(`
`).filter(k=>k.trim());if(u.length<2){a({success:!1,message:e("banking.csvRequiresHeaderAndData")}),c(!1);return}const A=u[0].split(",").map(k=>k.trim().replace(/[\"\']/g,"")),S=u.slice(1).map(k=>{const E=k.split(",").map(P=>P.trim().replace(/[\"\']/g,"")),de={};return A.forEach((P,z)=>{de[P]=E[z]||""}),de});v(S),a({success:!0,message:e("banking.successfullyParsed").replace("{count}",S.length.toString()),count:S.length});const w={...f()};A.forEach(k=>{const E=k.toLowerCase();E.includes("date")&&(w.date=k),(E.includes("description")||E.includes("memo"))&&(w.description=k),(E.includes("reference")||E.includes("check")||E.includes("ref"))&&(w.reference=k),(E.includes("debit")||E.includes("deposit"))&&(w.debit=k),(E.includes("credit")||E.includes("withdrawal")||E.includes("amount"))&&(w.debit?w.credit=k:w.debit=k),E.includes("balance")&&(w.balance=k)}),T(w)}catch{a({success:!1,message:e("banking.errorParsingCSV")})}c(!1)},m.readAsText(J)},ye=(J,m)=>{T(I=>({...I,[J]:m}))},X=()=>d().length===0?[]:Object.keys(d()[0]),Y=()=>{if(!t.bankAccount||d().length===0)return;const J=f();if(!J.date||!J.description){a({success:!1,message:e("banking.dateDescriptionRequired")});return}c(!0);try{const m=d().map(h=>{const u=k=>k&&parseFloat(k.replace(/[^0-9.-]/g,""))||0,A=k=>{const E=new Date(k);if(isNaN(E.getTime())){const de=k.split("/");if(de.length===3)return new Date(parseInt(de[2]),parseInt(de[0])-1,parseInt(de[1])).toISOString().split("T")[0]}return E.toISOString().split("T")[0]};let S=0,w=0;if(J.debit&&J.credit)S=u(h[J.debit]),w=u(h[J.credit]);else if(J.debit){const k=u(h[J.debit]);k>0?S=k:w=Math.abs(k)}return{accountId:t.bankAccount.accountId,date:A(h[J.date]),description:h[J.description]||e("banking.importedTransaction"),reference:h[J.reference]||"",debitAmount:S,creditAmount:w,balance:J.balance?u(h[J.balance]):0,isReconciled:!1}}),I=Pt.addBankStatementsFromCSV(m);a({success:!0,message:e("banking.successfullyImported").replace("{count}",I.length.toString()),count:I.length}),v([]),T({date:"",description:"",reference:"",debit:"",credit:"",balance:""})}catch{a({success:!1,message:e("banking.errorImportingTransactions")})}c(!1)},W=()=>{v([]),a(null),T({date:"",description:"",reference:"",debit:"",credit:"",balance:""})};return y($t,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return e("banking.importBankStatementCSV")},get children(){return[U(()=>U(()=>!!t.bankAccount)()&&(()=>{var J=xd(),m=J.firstChild,I=m.firstChild,h=m.nextSibling,u=h.nextSibling;return u.nextSibling,J.style.setProperty("margin-bottom","1.5rem"),J.style.setProperty("padding","1rem"),J.style.setProperty("background","var(--background-color)"),J.style.setProperty("border-radius","var(--border-radius-sm)"),J.style.setProperty("border","1px solid var(--border-color)"),r(m,()=>e("banking.bankAccount"),I),r(J,()=>t.bankAccount.bankName,u),r(J,()=>t.bankAccount.accountNumber,null),J})()),U(()=>U(()=>d().length===0)()?(()=>{var J=Cd(),m=J.firstChild,I=m.firstChild,h=I.nextSibling,u=h.nextSibling,A=m.nextSibling;return m.$$click=()=>document.getElementById("csvFileInput")?.click(),m.addEventListener("drop",ce),m.addEventListener("dragleave",q),m.addEventListener("dragover",oe),I.style.setProperty("font-size","2rem"),I.style.setProperty("margin-bottom","1rem"),h.style.setProperty("font-weight","500"),h.style.setProperty("margin-bottom","0.5rem"),r(h,(()=>{var S=U(()=>!!n());return()=>S()?e("banking.dropCSVHere"):e("banking.clickToUploadCSV")})()),u.style.setProperty("font-size","0.875rem"),u.style.setProperty("color","var(--text-muted)"),r(u,()=>e("banking.supportedFormat")),A.addEventListener("change",Z),A.style.setProperty("display","none"),j(S=>o(m,L,S)),J})():(()=>{var J=_d(),m=J.firstChild,I=m.nextSibling,h=I.firstChild,u=h.firstChild,A=u.firstChild,S=u.nextSibling,w=S.firstChild,k=h.nextSibling,E=k.firstChild,de=E.firstChild,P=E.nextSibling,z=P.firstChild,te=k.nextSibling,H=te.firstChild,Q=H.nextSibling,ee=Q.firstChild,ie=te.nextSibling,le=ie.firstChild,R=le.firstChild,K=le.nextSibling,pe=K.firstChild,fe=ie.nextSibling,M=fe.firstChild,F=M.nextSibling,N=F.firstChild,ae=fe.nextSibling,re=ae.firstChild,ve=re.nextSibling,ge=ve.firstChild;return m.style.setProperty("margin","0 0 1rem 0"),r(m,()=>e("banking.mapCSVColumns")),o(I,D),u.style.setProperty("display","block"),u.style.setProperty("margin-bottom","0.5rem"),u.style.setProperty("font-weight","500"),r(u,()=>e("banking.dateColumn"),A),S.addEventListener("change",g=>ye("date",g.target.value)),r(w,()=>e("banking.selectColumn")),r(S,()=>X().map(g=>(()=>{var p=Cr();return p.value=g,r(p,g),p})()),null),E.style.setProperty("display","block"),E.style.setProperty("margin-bottom","0.5rem"),E.style.setProperty("font-weight","500"),r(E,()=>e("banking.descriptionColumn"),de),P.addEventListener("change",g=>ye("description",g.target.value)),r(z,()=>e("banking.selectColumn")),r(P,()=>X().map(g=>(()=>{var p=Cr();return p.value=g,r(p,g),p})()),null),H.style.setProperty("display","block"),H.style.setProperty("margin-bottom","0.5rem"),H.style.setProperty("font-weight","500"),r(H,()=>e("banking.referenceColumn")),Q.addEventListener("change",g=>ye("reference",g.target.value)),r(ee,()=>e("banking.selectColumn")),r(Q,()=>X().map(g=>(()=>{var p=Cr();return p.value=g,r(p,g),p})()),null),le.style.setProperty("display","block"),le.style.setProperty("margin-bottom","0.5rem"),le.style.setProperty("font-weight","500"),r(le,()=>e("banking.amountDebitColumn"),R),K.addEventListener("change",g=>ye("debit",g.target.value)),r(pe,()=>e("banking.selectColumn")),r(K,()=>X().map(g=>(()=>{var p=Cr();return p.value=g,r(p,g),p})()),null),M.style.setProperty("display","block"),M.style.setProperty("margin-bottom","0.5rem"),M.style.setProperty("font-weight","500"),r(M,()=>e("banking.creditColumn")),F.addEventListener("change",g=>ye("credit",g.target.value)),r(N,()=>e("banking.selectColumn")),r(F,()=>X().map(g=>(()=>{var p=Cr();return p.value=g,r(p,g),p})()),null),re.style.setProperty("display","block"),re.style.setProperty("margin-bottom","0.5rem"),re.style.setProperty("font-weight","500"),r(re,()=>e("banking.balanceColumn")),ve.addEventListener("change",g=>ye("balance",g.target.value)),r(ge,()=>e("banking.selectColumn")),r(ve,()=>X().map(g=>(()=>{var p=Cr();return p.value=g,r(p,g),p})()),null),r(J,(()=>{var g=U(()=>d().length>0);return()=>g()&&(()=>{var p=wd(),G=p.firstChild,me=G.firstChild,V=me.firstChild,se=me.nextSibling;return o(p,$),V.style.setProperty("background-color","var(--background-color)"),r(V,()=>X().slice(0,6).map(B=>(()=>{var be=kd();return r(be,B),j(xe=>o(be,b,xe)),be})())),r(se,()=>d().slice(0,3).map(B=>(()=>{var be=Ad();return r(be,()=>X().slice(0,6).map(xe=>(()=>{var Se=Id();return r(Se,()=>B[xe]),j(_e=>o(Se,b,_e)),Se})())),be})())),r(p,(()=>{var B=U(()=>d().length>3);return()=>B()&&(()=>{var be=Cn();return be.style.setProperty("padding","0.5rem"),be.style.setProperty("text-align","center"),be.style.setProperty("color","var(--text-muted)"),r(be,()=>e("banking.andMoreRows").replace("{count}",(d().length-3).toString())),be})()})(),null),j(B=>o(G,x,B)),p})()})(),null),j(g=>{var p=C,G=C,me=C,V=C,se=C,B=C;return g.e=o(S,p,g.e),g.t=o(P,G,g.t),g.a=o(Q,me,g.a),g.o=o(K,V,g.o),g.i=o(F,se,g.i),g.n=o(ve,B,g.n),g},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),j(()=>S.value=f().date),j(()=>P.value=f().description),j(()=>Q.value=f().reference),j(()=>K.value=f().debit),j(()=>F.value=f().credit),j(()=>ve.value=f().balance),J})()),U(()=>U(()=>!!s())()&&(()=>{var J=Cn();return J.style.setProperty("padding","1rem"),J.style.setProperty("border-radius","var(--border-radius-sm)"),J.style.setProperty("margin-top","1rem"),r(J,()=>s().message),j(m=>{var I=s().success?"#d4edda":"#f8d7da",h=s().success?"#155724":"#721c24",u=`1px solid ${s().success?"#c3e6cb":"#f5c6cb"}`;return I!==m.e&&((m.e=I)!=null?J.style.setProperty("background",I):J.style.removeProperty("background")),h!==m.t&&((m.t=h)!=null?J.style.setProperty("color",h):J.style.removeProperty("color")),u!==m.a&&((m.a=u)!=null?J.style.setProperty("border",u):J.style.removeProperty("border")),m},{e:void 0,t:void 0,a:void 0}),J})()),(()=>{var J=Cn();return o(J,O),r(J,y(Ae,{variant:"secondary",onClick:()=>{W(),t.onClose()},get children(){return e("common.cancel")}}),null),r(J,(()=>{var m=U(()=>d().length>0);return()=>m()&&y(Ae,{variant:"outline",onClick:W,get children(){return e("common.reset")}})})(),null),r(J,(()=>{var m=U(()=>d().length>0);return()=>m()&&y(Ae,{variant:"primary",onClick:Y,get disabled(){return l()||!f().date||!f().description},get children(){return U(()=>!!l())()?e("banking.importing"):e("banking.importTransactions").replace("{count}",d().length.toString())}})})(),null),J})()]}})};ut(["click"]);var _o=_("<span>"),Zr=_("<div>"),wo=_("<div> "),Ld=_("<div><div><h3></h3><div><button></button><button></button><button></button></div></div><div></div><div><div><h4></h4><div></div></div><div><h4></h4><div>"),Dd=_("<div><div><div></div><div> • </div></div><div><div>"),_n=_("<span>✓ "),Nd=_("<span>(<!>)"),Td=_("<div><strong>:</strong> "),ko=_("<div><div><div></div><div> • </div></div><div>"),Bd=_("<div><div>:</div><div></div><div>");const Md=t=>{const{t:e}=We(),[n,i]=ne([]),[l,c]=ne([]),[s,a]=ne(null),[d,v]=ne([]),[f,T]=ne("unreconciled");pr(()=>{const u=Pt.getBankAccountById(t.bankAccountId);if(u){const A=Pt.getBankStatementsByAccount(u.accountId).filter(w=>w.date>=t.selectedPeriod.start&&w.date<=t.selectedPeriod.end),S=Pt.getEntryBookRecordsByAccount(u.accountId).filter(w=>w.date>=t.selectedPeriod.start&&w.date<=t.selectedPeriod.end);i(A),c(S)}});const L=()=>{const u=n();switch(f()){case"reconciled":return u.filter(A=>A.isReconciled);case"unreconciled":return u.filter(A=>!A.isReconciled);default:return u}},D=()=>{const u=l();switch(f()){case"reconciled":return u.filter(A=>A.isReconciled);case"unreconciled":return u.filter(A=>!A.isReconciled);default:return u}},C=u=>{if(a(u),u.isReconciled)v([]);else{const A=Pt.findPotentialMatches(u.id);v(A)}},$=u=>{const A=s();if(A){Pt.reconcileTransaction(A.id,u.id);const S=Pt.getBankAccountById(t.bankAccountId);if(S){const w=Pt.getBankStatementsByAccount(S.accountId).filter(E=>E.date>=t.selectedPeriod.start&&E.date<=t.selectedPeriod.end),k=Pt.getEntryBookRecordsByAccount(S.accountId).filter(E=>E.date>=t.selectedPeriod.start&&E.date<=t.selectedPeriod.end);i(w),c(k)}a(null),v([])}},x=u=>{Pt.unreconciledTransaction(u.id);const A=Pt.getBankAccountById(t.bankAccountId);if(A){const S=Pt.getBankStatementsByAccount(A.accountId).filter(k=>k.date>=t.selectedPeriod.start&&k.date<=t.selectedPeriod.end),w=Pt.getEntryBookRecordsByAccount(A.accountId).filter(k=>k.date>=t.selectedPeriod.start&&k.date<=t.selectedPeriod.end);i(S),c(w)}},b={display:"grid","grid-template-columns":"1fr 1fr",gap:"2rem","margin-top":"2rem"},O={height:"600px","overflow-y":"auto"},oe={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"1rem"},q=u=>({padding:"0.5rem 1rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)",background:u?"var(--primary-color)":"var(--surface-color)",color:u?"white":"var(--text-primary)",cursor:"pointer","font-weight":"500","font-size":"0.875rem",transition:"all 0.2s ease"}),ce=(u,A)=>({display:"flex","justify-content":"space-between","align-items":"center",padding:"1rem","margin-bottom":"0.5rem",background:u?"var(--primary-color)":A?"#e8f5e8":"var(--surface-color)",color:u?"white":"var(--text-primary)","border-radius":"var(--border-radius-sm)",border:`1px solid ${u?"var(--primary-color)":A?"#c3e6cb":"var(--border-color)"}`,cursor:"pointer",transition:"all 0.2s ease"}),Z={flex:"1"},ue={"font-weight":"500","margin-bottom":"0.25rem"},ye={"font-size":"0.875rem",opacity:"0.8"},X=u=>({"font-weight":"600",color:u?"#4caf50":"#f44336"}),Y={padding:"0.25rem 0.5rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500","margin-left":"0.5rem"},W=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(u),J=u=>new Date(u).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),m=u=>{if(!s())return null;const A=s();return(Math.abs(A.debitAmount-u.debitAmount)<.01||Math.abs(A.creditAmount-u.creditAmount)<.01)&&A.date===u.date?(()=>{var k=_o();return r(k,()=>e("banking.exactMatch")),j(E=>o(k,{...Y,background:"#d4edda",color:"#155724"},E)),k})():d().includes(u)?(()=>{var k=_o();return r(k,()=>e("banking.possibleMatch")),j(E=>o(k,{...Y,background:"#fff3cd",color:"#856404"},E)),k})():null},h=(()=>{const u=n(),A=l(),S=u.filter(k=>k.isReconciled).length,w=A.filter(k=>k.isReconciled).length;return{totalStatements:u.length,totalRecords:A.length,reconciledStatements:S,reconciledRecords:w,unreconciledStatements:u.length-S,unreconciledRecords:A.length-w}})();return(()=>{var u=Ld(),A=u.firstChild,S=A.firstChild,w=S.nextSibling,k=w.firstChild,E=k.nextSibling,de=E.nextSibling,P=A.nextSibling,z=P.nextSibling,te=z.firstChild,H=te.firstChild,Q=H.nextSibling,ee=te.nextSibling,ie=ee.firstChild,le=ie.nextSibling;return o(A,oe),S.style.setProperty("margin","0"),S.style.setProperty("font-size","1.25rem"),r(S,()=>e("banking.reconciliationComparison")),w.style.setProperty("display","flex"),w.style.setProperty("gap","0.5rem"),k.$$click=()=>T("all"),r(k,()=>e("common.all")),E.$$click=()=>T("unreconciled"),r(E,()=>e("banking.unreconciled")),de.$$click=()=>T("reconciled"),r(de,()=>e("banking.reconciled")),P.style.setProperty("display","grid"),P.style.setProperty("grid-template-columns","repeat(4, 1fr)"),P.style.setProperty("gap","1rem"),P.style.setProperty("margin-bottom","2rem"),r(P,y(ze,{get title(){return e("banking.bankStatements")},get subtitle(){return e("banking.totalTransactions")},get children(){return[(()=>{var R=Zr();return R.style.setProperty("font-size","1.5rem"),R.style.setProperty("font-weight","600"),R.style.setProperty("color","var(--primary-color)"),r(R,()=>h.totalStatements),R})(),(()=>{var R=wo(),K=R.firstChild;return R.style.setProperty("font-size","0.875rem"),R.style.setProperty("color","var(--text-muted)"),r(R,()=>h.reconciledStatements,K),r(R,()=>e("banking.reconciled"),null),R})()]}}),null),r(P,y(ze,{get title(){return e("banking.entryBookRecords")},get subtitle(){return e("banking.totalEntries")},get children(){return[(()=>{var R=Zr();return R.style.setProperty("font-size","1.5rem"),R.style.setProperty("font-weight","600"),R.style.setProperty("color","var(--primary-color)"),r(R,()=>h.totalRecords),R})(),(()=>{var R=wo(),K=R.firstChild;return R.style.setProperty("font-size","0.875rem"),R.style.setProperty("color","var(--text-muted)"),r(R,()=>h.reconciledRecords,K),r(R,()=>e("banking.reconciled"),null),R})()]}}),null),r(P,y(ze,{get title(){return e("banking.unreconciledBank")},get subtitle(){return e("banking.needAttention")},get children(){var R=Zr();return R.style.setProperty("font-size","1.5rem"),R.style.setProperty("font-weight","600"),R.style.setProperty("color","#f44336"),r(R,()=>h.unreconciledStatements),R}}),null),r(P,y(ze,{get title(){return e("banking.unreconciledBooks")},get subtitle(){return e("banking.needAttention")},get children(){var R=Zr();return R.style.setProperty("font-size","1.5rem"),R.style.setProperty("font-weight","600"),R.style.setProperty("color","#f44336"),r(R,()=>h.unreconciledRecords),R}}),null),o(z,b),H.style.setProperty("margin","0 0 1rem 0"),r(H,()=>e("banking.bankStatements")),r(Q,()=>L().map(R=>(()=>{var K=Dd(),pe=K.firstChild,fe=pe.firstChild,M=fe.nextSibling,F=M.firstChild,N=pe.nextSibling,ae=N.firstChild;return K.$$click=()=>C(R),r(fe,()=>R.description),r(M,()=>J(R.date),F),r(M,()=>R.reference,null),r(M,(()=>{var re=U(()=>!!R.isReconciled);return()=>re()&&(()=>{var ve=_n();return ve.firstChild,ve.style.setProperty("color","#4caf50"),ve.style.setProperty("margin-left","0.5rem"),r(ve,()=>e("banking.reconciled"),null),ve})()})(),null),r(ae,()=>R.debitAmount>0?"+":"-",null),r(ae,()=>W(R.debitAmount||R.creditAmount),null),r(N,(()=>{var re=U(()=>!!R.isReconciled);return()=>re()&&y(Ae,{variant:"outline",size:"sm",onClick:ve=>{ve.stopPropagation(),x(R)},style:{"margin-top":"0.5rem"},get children(){return e("banking.unreconcile")}})})(),null),j(re=>{var ve=ce(s()?.id===R.id,R.isReconciled),ge=Z,g=ue,p=ye,G=X(R.debitAmount>0);return re.e=o(K,ve,re.e),re.t=o(pe,ge,re.t),re.a=o(fe,g,re.a),re.o=o(M,p,re.o),re.i=o(ae,G,re.i),re},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),K})())),ie.style.setProperty("margin","0 0 1rem 0"),r(ie,()=>e("banking.entryBookRecords"),null),r(ie,(()=>{var R=U(()=>!!(s()&&!s().isReconciled));return()=>R()&&(()=>{var K=Nd(),pe=K.firstChild,fe=pe.nextSibling;return fe.nextSibling,K.style.setProperty("font-weight","400"),K.style.setProperty("color","var(--text-muted)"),K.style.setProperty("margin-left","0.5rem"),r(K,()=>e("banking.clickToReconcile"),fe),K})()})(),null),r(le,(()=>{var R=U(()=>!!(s()&&!s().isReconciled));return()=>R()?[U(()=>U(()=>d().length>0)()&&(()=>{var K=Td(),pe=K.firstChild,fe=pe.firstChild;return pe.nextSibling,K.style.setProperty("margin-bottom","1rem"),K.style.setProperty("padding","0.75rem"),K.style.setProperty("background","#fff3cd"),K.style.setProperty("border-radius","var(--border-radius-sm)"),r(pe,()=>e("banking.potentialMatchesFound"),fe),r(K,()=>e("banking.clickRecordToReconcile"),null),K})()),U(()=>D().map(K=>(d().includes(K),(()=>{var pe=ko(),fe=pe.firstChild,M=fe.firstChild,F=M.nextSibling,N=F.firstChild,ae=fe.nextSibling;return pe.$$click=()=>{K.isReconciled||$(K)},r(M,()=>K.description,null),r(M,()=>m(K),null),r(F,()=>J(K.date),N),r(F,()=>K.reference,null),r(F,(()=>{var re=U(()=>!!K.isReconciled);return()=>re()&&(()=>{var ve=_n();return ve.firstChild,ve.style.setProperty("color","#4caf50"),ve.style.setProperty("margin-left","0.5rem"),r(ve,()=>e("banking.reconciled"),null),ve})()})(),null),r(ae,()=>K.debitAmount>0?"+":"-",null),r(ae,()=>W(K.debitAmount||K.creditAmount),null),j(re=>{var ve={...ce(!1,K.isReconciled),opacity:K.isReconciled?.6:1,cursor:K.isReconciled?"not-allowed":"pointer"},ge=Z,g=ue,p=ye,G=X(K.debitAmount>0);return re.e=o(pe,ve,re.e),re.t=o(fe,ge,re.t),re.a=o(M,g,re.a),re.o=o(F,p,re.o),re.i=o(ae,G,re.i),re},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),pe})())))]:D().map(K=>(()=>{var pe=ko(),fe=pe.firstChild,M=fe.firstChild,F=M.nextSibling,N=F.firstChild,ae=fe.nextSibling;return r(M,()=>K.description),r(F,()=>J(K.date),N),r(F,()=>K.reference,null),r(F,(()=>{var re=U(()=>!!K.isReconciled);return()=>re()&&(()=>{var ve=_n();return ve.firstChild,ve.style.setProperty("color","#4caf50"),ve.style.setProperty("margin-left","0.5rem"),r(ve,()=>e("banking.reconciled"),null),ve})()})(),null),r(ae,()=>K.debitAmount>0?"+":"-",null),r(ae,()=>W(K.debitAmount||K.creditAmount),null),j(re=>{var ve=ce(!1,K.isReconciled),ge=Z,g=ue,p=ye,G=X(K.debitAmount>0);return re.e=o(pe,ve,re.e),re.t=o(fe,ge,re.t),re.a=o(M,g,re.a),re.o=o(F,p,re.o),re.i=o(ae,G,re.i),re},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),pe})())})()),r(u,(()=>{var R=U(()=>!!(s()&&!s().isReconciled));return()=>R()&&(()=>{var K=Bd(),pe=K.firstChild,fe=pe.firstChild,M=pe.nextSibling,F=M.nextSibling;return K.style.setProperty("position","fixed"),K.style.setProperty("bottom","2rem"),K.style.setProperty("right","2rem"),K.style.setProperty("background","var(--surface-color)"),K.style.setProperty("padding","1rem"),K.style.setProperty("border-radius","var(--border-radius)"),K.style.setProperty("box-shadow","var(--shadow-lg)"),K.style.setProperty("border","1px solid var(--border-color)"),K.style.setProperty("max-width","300px"),pe.style.setProperty("font-weight","500"),pe.style.setProperty("margin-bottom","0.5rem"),r(pe,()=>e("banking.selected"),fe),M.style.setProperty("font-size","0.875rem"),M.style.setProperty("margin-bottom","0.5rem"),r(M,()=>s().description),F.style.setProperty("font-weight","600"),F.style.setProperty("color","var(--primary-color)"),r(F,()=>W(s().debitAmount||s().creditAmount)),r(K,y(Ae,{variant:"secondary",size:"sm",onClick:()=>{a(null),v([])},style:{"margin-top":"0.5rem"},get children(){return e("banking.clearSelection")}}),null),K})()})(),null),j(R=>{var K=q(f()==="all"),pe=q(f()==="unreconciled"),fe=q(f()==="reconciled"),M=O,F=O;return R.e=o(k,K,R.e),R.t=o(E,pe,R.t),R.a=o(de,fe,R.a),R.o=o(Q,M,R.o),R.i=o(le,F,R.i),R},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),u})()};ut(["click"]);var Rd=_("<div><div><h2></h2><p></p></div><div>"),Od=_("<div><div><label></label></div><div><label></label><input type=date></div><div><label></label><input type=date>"),jd=_("<div><button></button><button>"),zd=_("<div><br>"),Br=_("<div>"),Fd=_("<div><div></div><div> • </div><div>"),qd=_("<div>: "),Ud=_("<div> <!> • <!> "),Vd=_("<div>%"),Yd=_("<div> of <!> transactions");const Wd=()=>{const{t}=We(),[e,n]=ne(null),[i,l]=ne({start:new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),[c,s]=ne(!1),[a,d]=ne("overview");pr(()=>{!e()&&Pt.bankAccounts.length>0&&n(Pt.bankAccounts[0])});const v={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"2rem"},f={display:"flex",gap:"1rem","align-items":"center","margin-bottom":"2rem",padding:"1.5rem",background:"var(--surface-color)","border-radius":"var(--border-radius)",border:"1px solid var(--border-color)"},T={display:"flex","border-bottom":"1px solid var(--border-color)","margin-bottom":"2rem"},L=oe=>({padding:"1rem 2rem",background:"none",border:"none",cursor:"pointer","font-weight":"500",color:oe?"var(--primary-color)":"var(--text-muted)","border-bottom":oe?"2px solid var(--primary-color)":"2px solid transparent",transition:"all 0.2s ease"}),D={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"},C=oe=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(oe),$=oe=>new Date(oe).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),x=()=>Pt.bankAccounts.map(oe=>({value:oe.id,label:`${oe.bankName} - ${oe.accountNumber} (${oe.accountType})`})),O=(()=>{if(!e())return null;const oe=Pt.getBankStatementsByAccount(e().accountId).filter(Z=>Z.date>=i().start&&Z.date<=i().end),q=Pt.getEntryBookRecordsByAccount(e().accountId).filter(Z=>Z.date>=i().start&&Z.date<=i().end),ce=oe.filter(Z=>Z.isReconciled).length;return q.filter(Z=>Z.isReconciled).length,{totalBankTransactions:oe.length,totalEntryBookRecords:q.length,reconciledTransactions:ce,unreconciledTransactions:oe.length-ce,reconciliationRate:oe.length>0?ce/oe.length*100:0}})();return y(zt,{get title(){return t("banking.title")},get children(){return[(()=>{var oe=Rd(),q=oe.firstChild,ce=q.firstChild,Z=ce.nextSibling,ue=q.nextSibling;return o(oe,v),ce.style.setProperty("margin","0 0 0.5rem 0"),ce.style.setProperty("font-size","1.5rem"),r(ce,()=>t("banking.reconciliation")),Z.style.setProperty("margin","0"),Z.style.setProperty("color","var(--text-muted)"),r(Z,()=>t("banking.compareStatements")),ue.style.setProperty("display","flex"),ue.style.setProperty("gap","1rem"),r(ue,y(Ae,{variant:"secondary",onClick:()=>s(!0),get disabled(){return!e()},get children(){return t("banking.importCSV")}}),null),r(ue,y(Ae,{variant:"primary",get children(){return t("banking.startNewReconciliation")}}),null),oe})(),(()=>{var oe=Od(),q=oe.firstChild,ce=q.firstChild,Z=q.nextSibling,ue=Z.firstChild,ye=ue.nextSibling,X=Z.nextSibling,Y=X.firstChild,W=Y.nextSibling;return o(oe,f),q.style.setProperty("flex","1"),ce.style.setProperty("display","block"),ce.style.setProperty("margin-bottom","0.5rem"),ce.style.setProperty("font-weight","500"),r(ce,()=>t("banking.bankAccount")),r(q,y(_t,{label:"",get value(){return e()?.id||""},onChange:J=>{const m=Pt.getBankAccountById(J);n(m||null)},get options(){return x()}}),null),ue.style.setProperty("display","block"),ue.style.setProperty("margin-bottom","0.5rem"),ue.style.setProperty("font-weight","500"),r(ue,()=>t("entryBooks.startDate")),ye.addEventListener("change",J=>l(m=>({...m,start:J.target.value}))),ye.style.setProperty("padding","0.75rem"),ye.style.setProperty("border","1px solid var(--border-color)"),ye.style.setProperty("border-radius","var(--border-radius-sm)"),ye.style.setProperty("font-family","inherit"),Y.style.setProperty("display","block"),Y.style.setProperty("margin-bottom","0.5rem"),Y.style.setProperty("font-weight","500"),r(Y,()=>t("entryBooks.endDate")),W.addEventListener("change",J=>l(m=>({...m,end:J.target.value}))),W.style.setProperty("padding","0.75rem"),W.style.setProperty("border","1px solid var(--border-color)"),W.style.setProperty("border-radius","var(--border-radius-sm)"),W.style.setProperty("font-family","inherit"),j(()=>ye.value=i().start),j(()=>W.value=i().end),oe})(),(()=>{var oe=jd(),q=oe.firstChild,ce=q.nextSibling;return o(oe,T),q.$$click=()=>d("overview"),r(q,()=>t("common.overview")),ce.$$click=()=>d("reconciliation"),r(ce,()=>t("banking.reconciliation")),j(Z=>{var ue=L(a()==="overview"),ye=L(a()==="reconciliation");return Z.e=o(q,ue,Z.e),Z.t=o(ce,ye,Z.t),Z},{e:void 0,t:void 0}),oe})(),U(()=>U(()=>a()==="overview")()&&(()=>{var oe=Br();return r(oe,(()=>{var q=U(()=>!!e());return()=>q()&&(()=>{var ce=Br();return o(ce,D),r(ce,y(ze,{get title(){return t("banking.bankAccountInfo")},get subtitle(){return t("banking.currentAccountDetails")},get children(){return[(()=>{var Z=Fd(),ue=Z.firstChild,ye=ue.nextSibling,X=ye.firstChild,Y=ye.nextSibling;return Z.style.setProperty("margin-bottom","1rem"),ue.style.setProperty("font-weight","600"),ue.style.setProperty("margin-bottom","0.5rem"),r(ue,()=>e().bankName),ye.style.setProperty("color","var(--text-muted)"),ye.style.setProperty("margin-bottom","0.5rem"),r(ye,()=>e().accountNumber,X),r(ye,()=>e().accountType,null),Y.style.setProperty("font-size","1.25rem"),Y.style.setProperty("font-weight","600"),Y.style.setProperty("color","var(--primary-color)"),r(Y,()=>C(e().currentBalance)),Z})(),U(()=>U(()=>!!e().lastReconciledDate)()&&(()=>{var Z=qd(),ue=Z.firstChild;return Z.style.setProperty("font-size","0.875rem"),Z.style.setProperty("color","var(--text-muted)"),r(Z,()=>t("banking.lastReconciled"),ue),r(Z,()=>$(e().lastReconciledDate),null),Z})())]}}),null),r(ce,O&&[y(ze,{get title(){return t("banking.bankTransactions")},get subtitle(){return t("banking.selectedPeriod")},get children(){return[(()=>{var Z=Br();return Z.style.setProperty("font-size","1.5rem"),Z.style.setProperty("font-weight","600"),Z.style.setProperty("color","var(--primary-color)"),Z.style.setProperty("margin-bottom","0.5rem"),r(Z,()=>O.totalBankTransactions),Z})(),(()=>{var Z=Ud(),ue=Z.firstChild,ye=ue.nextSibling,X=ye.nextSibling,Y=X.nextSibling;return Y.nextSibling,Z.style.setProperty("font-size","0.875rem"),Z.style.setProperty("color","var(--text-muted)"),r(Z,()=>O.reconciledTransactions,ue),r(Z,()=>t("banking.reconciled"),ye),r(Z,()=>O.unreconciledTransactions,Y),r(Z,()=>t("banking.pending"),null),Z})()]}}),y(ze,{get title(){return t("entryBooks.entryBookRecords")},get subtitle(){return t("banking.selectedPeriod")},get children(){return[(()=>{var Z=Br();return Z.style.setProperty("font-size","1.5rem"),Z.style.setProperty("font-weight","600"),Z.style.setProperty("color","var(--primary-color)"),Z.style.setProperty("margin-bottom","0.5rem"),r(Z,()=>O.totalEntryBookRecords),Z})(),(()=>{var Z=Br();return Z.style.setProperty("font-size","0.875rem"),Z.style.setProperty("color","var(--text-muted)"),r(Z,()=>t("banking.bookEntriesForComparison")),Z})()]}}),y(ze,{get title(){return t("banking.reconciliationRate")},get subtitle(){return t("banking.completionStatus")},get children(){return[(()=>{var Z=Vd(),ue=Z.firstChild;return Z.style.setProperty("font-size","1.5rem"),Z.style.setProperty("font-weight","600"),Z.style.setProperty("margin-bottom","0.5rem"),r(Z,()=>Math.round(O.reconciliationRate),ue),j(ye=>(ye=O.reconciliationRate>80?"#4caf50":O.reconciliationRate>50?"#ff9800":"#f44336")!=null?Z.style.setProperty("color",ye):Z.style.removeProperty("color")),Z})(),(()=>{var Z=Yd(),ue=Z.firstChild,ye=ue.nextSibling;return ye.nextSibling,Z.style.setProperty("font-size","0.875rem"),Z.style.setProperty("color","var(--text-muted)"),r(Z,()=>O.reconciledTransactions,ue),r(Z,()=>O.totalBankTransactions,ye),Z})()]}})],null),ce})()})(),null),r(oe,y(ze,{get title(){return t("banking.recentReconciliationSessions")},get subtitle(){return t("banking.latestActivity")},get children(){var q=zd(),ce=q.firstChild;return q.style.setProperty("text-align","center"),q.style.setProperty("color","var(--text-muted)"),q.style.setProperty("padding","2rem"),r(q,()=>t("banking.noRecentSessions"),ce),r(q,y(Ae,{variant:"primary",style:{"margin-top":"1rem"},onClick:()=>d("reconciliation"),get children(){return t("banking.startFirstReconciliation")}}),null),q}}),null),oe})()),U(()=>U(()=>!!(a()==="reconciliation"&&e()))()&&y(Md,{get bankAccountId(){return e().id},get selectedPeriod(){return i()}})),y(Ed,{get isOpen(){return c()},onClose:()=>s(!1),get bankAccount(){return e()}})]}})};ut(["click"]);var Hd=_("<div><div></div><div>"),wn=_("<div>"),Gd=_("<div> • <!> • <!> "),Jd=_("<div><div><div></div><div></div></div><div><div></div><div>"),Qd=_("<div><div>:"),Kd=_("<div>⚠️ <!>: <!> <!>, <!> "),Zd=_("<div><div><div></div><div></div></div><div>"),Ao=_("<div> "),Xd=_("<div>✓ ");const eu=t=>{const{t:e}=We(),n={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"1rem"},i={"font-size":"0.875rem","font-weight":"600",color:"var(--text-muted)","text-transform":"uppercase"},l={padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500","text-transform":"uppercase","letter-spacing":"0.5px"},c={"font-size":"1.1rem","font-weight":"600",color:"var(--text-primary)","margin-bottom":"0.5rem"},s={"font-size":"0.875rem",color:"var(--text-muted)","margin-bottom":"1rem"},a={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"1rem"},d={"font-size":"1.25rem","font-weight":"600",color:"var(--primary-color)"},v={"max-height":"100px","overflow-y":"auto","border-top":"1px solid var(--border-color)","padding-top":"1rem"},f={display:"flex","justify-content":"space-between","align-items":"center","font-size":"0.875rem","margin-bottom":"0.5rem"},T={display:"flex","justify-content":"flex-end","margin-top":"1rem","padding-top":"1rem","border-top":"1px solid var(--border-color)"},L=b=>({draft:{bg:"#fff3cd",color:"#856404"},posted:{bg:"#d4edda",color:"#155724"},void:{bg:"#f8d7da",color:"#721c24"}})[b],D=b=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(b),C=b=>new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),$=L(t.entry.status),x=Math.abs(t.entry.totalDebit-t.entry.totalCredit)<.01;return y(ze,{get children(){return[(()=>{var b=Hd(),O=b.firstChild,oe=O.nextSibling;return o(b,n),o(O,i),r(O,()=>t.entry.entryNumber),r(oe,()=>t.entry.status),j(q=>o(oe,{...l,background:$.bg,color:$.color},q)),b})(),(()=>{var b=wn();return o(b,c),r(b,()=>t.entry.description),b})(),(()=>{var b=Gd(),O=b.firstChild,oe=O.nextSibling,q=oe.nextSibling,ce=q.nextSibling;return ce.nextSibling,o(b,s),r(b,()=>C(t.entry.date),O),r(b,()=>t.entry.reference||e("journal.noReference","No reference"),oe),r(b,()=>e("journal.createdBy","By"),ce),r(b,()=>t.entry.createdBy,null),b})(),(()=>{var b=Jd(),O=b.firstChild,oe=O.firstChild,q=oe.nextSibling,ce=O.nextSibling,Z=ce.firstChild,ue=Z.nextSibling;return o(b,a),oe.style.setProperty("font-size","0.875rem"),oe.style.setProperty("color","var(--text-muted)"),r(oe,()=>e("journal.totalAmount","Total Amount")),o(q,d),r(q,()=>D(t.entry.totalDebit)),ce.style.setProperty("text-align","right"),Z.style.setProperty("font-size","0.875rem"),Z.style.setProperty("color","var(--text-muted)"),r(Z,()=>e("journal.lines","Lines")),ue.style.setProperty("font-weight","600"),r(ue,()=>t.entry.lines.length),b})(),U(()=>!x&&(()=>{var b=Kd(),O=b.firstChild,oe=O.nextSibling,q=oe.nextSibling,ce=q.nextSibling,Z=ce.nextSibling,ue=Z.nextSibling,ye=ue.nextSibling,X=ye.nextSibling;return X.nextSibling,b.style.setProperty("padding","0.5rem"),b.style.setProperty("border-radius","var(--border-radius-sm)"),b.style.setProperty("background","#f8d7da"),b.style.setProperty("color","#721c24"),b.style.setProperty("font-size","0.875rem"),b.style.setProperty("margin-bottom","1rem"),r(b,()=>e("journal.entryNotBalancedShort","Entry is not balanced"),oe),r(b,()=>e("journal.debit"),ce),r(b,()=>D(t.entry.totalDebit),ue),r(b,()=>e("journal.credit"),X),r(b,()=>D(t.entry.totalCredit),null),b})()),(()=>{var b=Qd(),O=b.firstChild,oe=O.firstChild;return o(b,v),O.style.setProperty("font-weight","500"),O.style.setProperty("margin-bottom","0.5rem"),O.style.setProperty("font-size","0.875rem"),r(O,()=>e("journal.accountLines","Account Lines"),oe),r(b,()=>t.entry.lines.slice(0,3).map(q=>(()=>{var ce=Zd(),Z=ce.firstChild,ue=Z.firstChild,ye=ue.nextSibling,X=Z.nextSibling;return o(ce,f),Z.style.setProperty("flex","1"),ue.style.setProperty("font-weight","500"),r(ue,()=>q.accountName),ye.style.setProperty("font-size","0.75rem"),ye.style.setProperty("color","var(--text-muted)"),r(ye,()=>q.description||e("journal.noDescription","No description")),X.style.setProperty("text-align","right"),r(X,(()=>{var Y=U(()=>q.debitAmount>0);return()=>Y()&&(()=>{var W=Ao(),J=W.firstChild;return W.style.setProperty("color","#4caf50"),W.style.setProperty("font-weight","500"),r(W,()=>e("journal.debitShort","Dr."),J),r(W,()=>D(q.debitAmount),null),W})()})(),null),r(X,(()=>{var Y=U(()=>q.creditAmount>0);return()=>Y()&&(()=>{var W=Ao(),J=W.firstChild;return W.style.setProperty("color","#f44336"),W.style.setProperty("font-weight","500"),r(W,()=>e("journal.creditShort","Cr."),J),r(W,()=>D(q.creditAmount),null),W})()})(),null),r(X,(()=>{var Y=U(()=>!!q.reconciled);return()=>Y()&&(()=>{var W=Xd();return W.firstChild,W.style.setProperty("font-size","0.75rem"),W.style.setProperty("color","#4caf50"),r(W,()=>e("banking.reconciled","Reconciled"),null),W})()})(),null),ce})()),null),r(b,(()=>{var q=U(()=>t.entry.lines.length>3);return()=>q()&&(()=>{var ce=wn();return ce.style.setProperty("text-align","center"),ce.style.setProperty("color","var(--text-muted)"),ce.style.setProperty("font-size","0.875rem"),r(ce,()=>e("journal.andMoreLines","... and {count} more lines").replace("{count}",(t.entry.lines.length-3).toString())),ce})()})(),null),b})(),(()=>{var b=wn();return o(b,T),r(b,y(Ae,{variant:"primary",size:"sm",onClick:()=>t.onViewDetails?.(t.entry),get children(){return e("journal.viewDetails","View Details")}})),b})()]}})},tu=[{id:"je1",entryNumber:"JE-2024-001",date:"2024-01-15",description:"Customer Payment Received - ABC Corp",reference:"INV-2024-001",status:"posted",createdBy:"John Doe",createdAt:"2024-01-15T09:00:00Z",postedAt:"2024-01-15T09:05:00Z",totalDebit:5e3,totalCredit:5e3,lines:[{id:"jel1",accountId:"1002",accountName:"Bank - Checking Account",description:"Payment from ABC Corp",debitAmount:5e3,creditAmount:0,reconciled:!0,reconciledWith:"eb1"},{id:"jel2",accountId:"2001",accountName:"Trade Receivables",description:"Payment received for INV-2024-001",debitAmount:0,creditAmount:5e3}]},{id:"je2",entryNumber:"JE-2024-002",date:"2024-01-14",description:"Office Supplies Purchase",reference:"PO-2024-001",status:"posted",createdBy:"Jane Smith",createdAt:"2024-01-14T10:00:00Z",postedAt:"2024-01-14T10:15:00Z",totalDebit:250,totalCredit:250,lines:[{id:"jel3",accountId:"5200",accountName:"Office Expenses",description:"Office supplies from Staples",debitAmount:250,creditAmount:0},{id:"jel4",accountId:"1002",accountName:"Bank - Checking Account",description:"Payment to Staples",debitAmount:0,creditAmount:250,reconciled:!0,reconciledWith:"eb2"}]},{id:"je3",entryNumber:"JE-2024-003",date:"2024-01-13",description:"Monthly Rent Payment",reference:"RENT-2024-01",status:"posted",createdBy:"John Doe",createdAt:"2024-01-13T08:00:00Z",postedAt:"2024-01-13T08:30:00Z",totalDebit:2e3,totalCredit:2e3,lines:[{id:"jel5",accountId:"5200",accountName:"Rent Expense",description:"January office rent",debitAmount:2e3,creditAmount:0},{id:"jel6",accountId:"1002",accountName:"Bank - Checking Account",description:"Rent payment",debitAmount:0,creditAmount:2e3,reconciled:!1}]},{id:"je4",entryNumber:"JE-2024-004",date:"2024-01-12",description:"Wire Transfer - Capital Investment",reference:"WIRE-001",status:"posted",createdBy:"Admin",createdAt:"2024-01-12T14:00:00Z",postedAt:"2024-01-12T14:30:00Z",totalDebit:1e4,totalCredit:1e4,lines:[{id:"jel7",accountId:"1002",accountName:"Bank - Checking Account",description:"Wire transfer received",debitAmount:1e4,creditAmount:0,reconciled:!1},{id:"jel8",accountId:"8",accountName:"Owner's Equity",description:"Capital investment",debitAmount:0,creditAmount:1e4}]},{id:"je5",entryNumber:"JE-2024-005",date:"2024-01-11",description:"Salary Payment - John Doe",reference:"PAY-2024-001",status:"posted",createdBy:"HR Manager",createdAt:"2024-01-11T16:00:00Z",postedAt:"2024-01-11T16:30:00Z",totalDebit:3500,totalCredit:3500,lines:[{id:"jel9",accountId:"13",accountName:"Salaries Expense",description:"Monthly salary - John Doe",debitAmount:3500,creditAmount:0},{id:"jel10",accountId:"1002",accountName:"Bank - Checking Account",description:"Salary payment",debitAmount:0,creditAmount:3500,reconciled:!1}]},{id:"je6",entryNumber:"JE-2024-006",date:"2024-01-10",description:"Product Sales - Multiple Customers",reference:"SALES-2024-010",status:"posted",createdBy:"Sales Manager",createdAt:"2024-01-10T11:00:00Z",postedAt:"2024-01-10T11:30:00Z",totalDebit:8500,totalCredit:8500,lines:[{id:"jel11",accountId:"1001",accountName:"Petty Cash",description:"Cash sales",debitAmount:1500,creditAmount:0},{id:"jel12",accountId:"2001",accountName:"Trade Receivables",description:"Credit sales",debitAmount:7e3,creditAmount:0},{id:"jel13",accountId:"10",accountName:"Sales Revenue",description:"Product sales revenue",debitAmount:0,creditAmount:8500}]},{id:"je7",entryNumber:"JE-2024-007",date:"2024-01-09",description:"Inventory Purchase",reference:"PO-2024-002",status:"draft",createdBy:"Warehouse Manager",createdAt:"2024-01-09T15:00:00Z",totalDebit:15e3,totalCredit:15e3,lines:[{id:"jel14",accountId:"3",accountName:"Inventory",description:"Product inventory purchase",debitAmount:15e3,creditAmount:0},{id:"jel15",accountId:"5",accountName:"Accounts Payable",description:"Amount owed to supplier",debitAmount:0,creditAmount:15e3}]},{id:"je8",entryNumber:"JE-2024-008",date:"2024-01-08",description:"Utility Bills Payment",reference:"UTIL-2024-01",status:"posted",createdBy:"Admin",createdAt:"2024-01-08T09:00:00Z",postedAt:"2024-01-08T09:30:00Z",totalDebit:450,totalCredit:450,lines:[{id:"jel16",accountId:"14",accountName:"Operating Expenses",description:"Electricity and water bills",debitAmount:450,creditAmount:0},{id:"jel17",accountId:"1003",accountName:"Bank - Savings Account",description:"Utility payment",debitAmount:0,creditAmount:450}]}],[Nt,kn]=ne(tu),Io=()=>Nt().filter(e=>e.status==="posted").flatMap(e=>e.lines.filter(n=>["1001","1002","1003"].includes(n.accountId))).map(e=>{const n=Nt().find(i=>i.lines.some(l=>l.id===e.id));return n?{id:`eb_${e.id}`,accountId:e.accountId,date:n.date,description:n.description,reference:n.reference,debitAmount:e.debitAmount,creditAmount:e.creditAmount,category:e.accountName,isReconciled:e.reconciled||!1,reconciledWith:e.reconciledWith,createdAt:n.createdAt}:null}).filter(e=>e!==null),Ht={get journalEntries(){return Nt()},addJournalEntry(t){const e={...t,id:Date.now().toString()};return kn([...Nt(),e]),e},updateJournalEntry(t,e){kn(Nt().map(n=>n.id===t?{...n,...e}:n))},deleteJournalEntry(t){const e=Nt().find(n=>n.id===t);if(e&&e.status==="posted")throw new Error("Cannot delete posted journal entries. Void them instead.");kn(Nt().filter(n=>n.id!==t))},voidJournalEntry(t){this.updateJournalEntry(t,{status:"void"})},postJournalEntry(t){const e=Nt().find(n=>n.id===t);if(!e)throw new Error("Journal entry not found");if(Math.abs(e.totalDebit-e.totalCredit)>.01)throw new Error("Journal entry is not balanced. Debits must equal credits.");this.updateJournalEntry(t,{status:"posted",postedAt:new Date().toISOString()}),Io()},getJournalEntryById(t){return Nt().find(e=>e.id===t)},getJournalEntriesByStatus(t){return Nt().filter(e=>e.status===t)},getJournalEntriesByDateRange(t,e){return Nt().filter(n=>n.date>=t&&n.date<=e)},getJournalEntriesByAccount(t){return Nt().filter(e=>e.lines.some(n=>n.accountId===t))},getNextEntryNumber(){const t=new Date().getFullYear(),n=Nt().filter(i=>i.entryNumber.includes(t.toString())).reduce((i,l)=>{const c=parseInt(l.entryNumber.split("-").pop()||"0");return c>i?c:i},0);return`JE-${t}-${String(n+1).padStart(3,"0")}`},validateJournalEntry(t){const e=[];if(t.date||e.push("Date is required"),t.description||e.push("Description is required"),(!t.lines||t.lines.length===0)&&e.push("At least one line item is required"),t.lines){const n=t.lines.reduce((l,c)=>l+(c.debitAmount||0),0),i=t.lines.reduce((l,c)=>l+(c.creditAmount||0),0);Math.abs(n-i)>.01&&e.push(`Entry is not balanced. Debit: ${n}, Credit: ${i}`),t.lines.forEach((l,c)=>{l.accountId||e.push(`Line ${c+1}: Account is required`),l.debitAmount===0&&l.creditAmount===0&&e.push(`Line ${c+1}: Either debit or credit amount must be provided`),l.debitAmount>0&&l.creditAmount>0&&e.push(`Line ${c+1}: Cannot have both debit and credit amounts`)})}return{isValid:e.length===0,errors:e}},getBankRelatedEntries(){return Io()}};var ru=_("<form><div></div><div><div><h4></h4></div><div><div><div><strong></strong></div><div><strong></strong></div><div><strong></strong></div><div><strong></strong></div><div><strong></strong></div></div></div><div><div><strong>: </strong></div><div><strong>: </strong></div><div></div></div></div><div>"),Eo=_("<div>");const Xo=t=>{const{t:e}=We(),[n,i]=ne({entryNumber:"",date:new Date().toISOString().split("T")[0],description:"",reference:"",createdBy:"Current User"}),[l,c]=ne([{tempId:`line_${Date.now()}_0`,accountId:"",accountName:"",description:"",debitAmount:0,creditAmount:0},{tempId:`line_${Date.now()}_1`,accountId:"",accountName:"",description:"",debitAmount:0,creditAmount:0}]),[s,a]=ne(null);pr(()=>{if(t.isOpen){if(t.editEntry)i({entryNumber:t.editEntry.entryNumber,date:t.editEntry.date,description:t.editEntry.description,reference:t.editEntry.reference,createdBy:t.editEntry.createdBy}),c(t.editEntry.lines.map((q,ce)=>({...q,tempId:`line_${Date.now()}_${ce}`})));else{const q=Ht.getNextEntryNumber();i({entryNumber:q,date:new Date().toISOString().split("T")[0],description:"",reference:"",createdBy:"Current User"}),c([{tempId:`line_${Date.now()}_0`,accountId:"",accountName:"",description:"",debitAmount:0,creditAmount:0},{tempId:`line_${Date.now()}_1`,accountId:"",accountName:"",description:"",debitAmount:0,creditAmount:0}])}a(null)}});const d={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},v={display:"grid","grid-template-columns":"2fr 2fr 1fr 1fr 1fr",gap:"1rem","align-items":"end","margin-bottom":"1rem",padding:"1rem",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)",background:"var(--background-color)"},f={display:"flex","justify-content":"space-between","align-items":"center",padding:"1rem",background:"var(--surface-color)",border:"1px solid var(--border-color)","border-radius":"var(--border-radius-sm)","margin-top":"1rem"},T=()=>et.accounts.map(q=>({value:q.id,label:`${q.accountNumber} - ${q.name}`})),L=(q,ce)=>{i(Z=>({...Z,[q]:ce}))},D=(q,ce,Z)=>{c(ue=>ue.map(ye=>{if(ye.tempId===q){const X={...ye,[ce]:Z};if(ce==="accountId"&&typeof Z=="string"){const Y=et.getAccountById(Z);Y&&(X.accountName=Y.name)}return X}return ye}))},C=()=>{c(q=>[...q,{tempId:`line_${Date.now()}_${q.length}`,accountId:"",accountName:"",description:"",debitAmount:0,creditAmount:0}])},$=q=>{l().length>2&&c(ce=>ce.filter(Z=>Z.tempId!==q))},x=()=>{const q=l().reduce((Z,ue)=>Z+(ue.debitAmount||0),0),ce=l().reduce((Z,ue)=>Z+(ue.creditAmount||0),0);return{totalDebit:q,totalCredit:ce,isBalanced:Math.abs(q-ce)<.01}},b=q=>{q.preventDefault(),a(null);const ce=n(),Z=l(),{totalDebit:ue,totalCredit:ye,isBalanced:X}=x();if(!ce.description){a(e("forms.descriptionRequired","Description is required"));return}if(Z.length<2){a(e("journal.minTwoLinesRequired","At least 2 line items are required"));return}if(!X){a(e("journal.entryNotBalanced","Entry is not balanced. Debit: ${debit}, Credit: ${credit}").replace("${debit}",`$${ue.toFixed(2)}`).replace("${credit}",`$${ye.toFixed(2)}`));return}for(let W=0;W<Z.length;W++){const J=Z[W];if(!J.accountId){a(e("journal.lineAccountRequired","Line {lineNumber}: Account is required").replace("{lineNumber}",(W+1).toString()));return}if(J.debitAmount===0&&J.creditAmount===0){a(e("journal.lineAmountRequired","Line {lineNumber}: Either debit or credit amount must be provided").replace("{lineNumber}",(W+1).toString()));return}if((J.debitAmount||0)>0&&(J.creditAmount||0)>0){a(e("journal.lineBothAmounts","Line {lineNumber}: Cannot have both debit and credit amounts").replace("{lineNumber}",(W+1).toString()));return}}const Y={entryNumber:ce.entryNumber,date:ce.date,description:ce.description,reference:ce.reference,status:"draft",createdBy:ce.createdBy,createdAt:new Date().toISOString(),totalDebit:ue,totalCredit:ye,lines:Z.map((W,J)=>{const{tempId:m,...I}=W;return{id:`jel_${Date.now()}_${J}`,...I}})};try{t.editEntry?Ht.updateJournalEntry(t.editEntry.id,Y):Ht.addJournalEntry(Y),i({entryNumber:Ht.getNextEntryNumber(),date:new Date().toISOString().split("T")[0],description:"",reference:"",createdBy:"Current User"}),c([{tempId:`line_${Date.now()}_0`,accountId:"",accountName:"",description:"",debitAmount:0,creditAmount:0},{tempId:`line_${Date.now()}_1`,accountId:"",accountName:"",description:"",debitAmount:0,creditAmount:0}]),t.onClose()}catch(W){a(W instanceof Error?W.message:e("forms.errorOccurred","An error occurred"))}},O=q=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(q),oe=x();return y($t,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return U(()=>!!t.editEntry)()?e("journal.editEntry"):e("journal.addEntry","Add Journal Entry")},get children(){var q=ru(),ce=q.firstChild,Z=ce.nextSibling,ue=Z.firstChild,ye=ue.firstChild,X=ue.nextSibling,Y=X.firstChild,W=Y.firstChild,J=W.firstChild,m=W.nextSibling,I=m.firstChild,h=m.nextSibling,u=h.firstChild,A=h.nextSibling,S=A.firstChild,w=A.nextSibling,k=w.firstChild,E=X.nextSibling,de=E.firstChild,P=de.firstChild,z=P.firstChild,te=de.nextSibling,H=te.firstChild,Q=H.firstChild,ee=te.nextSibling,ie=Z.nextSibling;return q.addEventListener("submit",b),ce.style.setProperty("display","grid"),ce.style.setProperty("grid-template-columns","1fr 1fr"),ce.style.setProperty("gap","1rem"),r(ce,y(it,{get label(){return e("journal.entryNumber")},get value(){return n().entryNumber},onChange:le=>L("entryNumber",le),get disabled(){return!!t.editEntry},required:!0}),null),r(ce,y(it,{get label(){return e("common.date")},type:"date",get value(){return n().date},onChange:le=>L("date",le),required:!0}),null),r(q,y(it,{get label(){return e("common.description")},get value(){return n().description},onChange:le=>L("description",le),get placeholder(){return e("journal.enterEntryDescription","Enter journal entry description")},required:!0}),Z),r(q,y(it,{get label(){return e("journal.reference")},get value(){return n().reference},onChange:le=>L("reference",le),get placeholder(){return e("journal.enterReferenceNumber","Enter reference number")}}),Z),Z.style.setProperty("margin-top","2rem"),ue.style.setProperty("display","flex"),ue.style.setProperty("justify-content","space-between"),ue.style.setProperty("align-items","center"),ue.style.setProperty("margin-bottom","1rem"),ye.style.setProperty("margin","0"),r(ye,()=>e("journal.entryLines","Journal Entry Lines")),r(ue,y(Ae,{type:"button",variant:"secondary",size:"sm",onClick:C,get children(){return e("journal.addLine","Add Line")}}),null),X.style.setProperty("margin-bottom","1rem"),X.style.setProperty("font-size","0.875rem"),X.style.setProperty("color","var(--text-muted)"),Y.style.setProperty("display","grid"),Y.style.setProperty("grid-template-columns","2fr 2fr 1fr 1fr 1fr"),Y.style.setProperty("gap","1rem"),r(J,()=>e("journal.account")),r(I,()=>e("common.description")),r(u,()=>e("journal.debit")),r(S,()=>e("journal.credit")),r(k,()=>e("common.actions")),r(Z,y(ct,{get each(){return l()},children:le=>(()=>{var R=Eo();return o(R,v),r(R,y(_t,{label:"",get value(){return le.accountId||""},onChange:K=>D(le.tempId,"accountId",K),get options(){return T()}}),null),r(R,y(it,{label:"",get value(){return le.description||""},onChange:K=>D(le.tempId,"description",K),get placeholder(){return e("journal.lineDescription","Line description")}}),null),r(R,y(it,{label:"",type:"number",get value(){return le.debitAmount?.toString()||"0"},onChange:K=>{D(le.tempId,"debitAmount",parseFloat(K)||0),parseFloat(K)>0&&D(le.tempId,"creditAmount",0)},placeholder:"0.00"}),null),r(R,y(it,{label:"",type:"number",get value(){return le.creditAmount?.toString()||"0"},onChange:K=>{D(le.tempId,"creditAmount",parseFloat(K)||0),parseFloat(K)>0&&D(le.tempId,"debitAmount",0)},placeholder:"0.00"}),null),r(R,y(Ae,{type:"button",variant:"outline",size:"sm",onClick:()=>$(le.tempId),get disabled(){return l().length<=2},get children(){return e("common.remove","Remove")}}),null),R})()}),E),o(E,f),r(P,()=>e("journal.totalDebit","Total Debit"),z),r(P,()=>O(oe.totalDebit),null),r(H,()=>e("journal.totalCredit","Total Credit"),Q),r(H,()=>O(oe.totalCredit),null),ee.style.setProperty("font-weight","600"),r(ee,(()=>{var le=U(()=>!!oe.isBalanced);return()=>le()?`✓ ${e("journal.balanced")}`:`⚠️ ${e("journal.notBalanced","Not Balanced")}`})()),r(q,(()=>{var le=U(()=>!!s());return()=>le()&&(()=>{var R=Eo();return R.style.setProperty("padding","1rem"),R.style.setProperty("border-radius","var(--border-radius-sm)"),R.style.setProperty("margin-top","1rem"),R.style.setProperty("background","#f8d7da"),R.style.setProperty("color","#721c24"),R.style.setProperty("border","1px solid #f5c6cb"),r(R,s),R})()})(),ie),o(ie,d),r(ie,y(Ae,{variant:"secondary",type:"button",get onClick(){return t.onClose},get children(){return e("common.cancel")}}),null),r(ie,y(Ae,{variant:"primary",type:"submit",get disabled(){return!oe.isBalanced},get children(){return U(()=>!!t.editEntry)()?e("journal.updateEntry","Update Entry"):e("journal.saveAsDraft","Save as Draft")}}),null),j(le=>(le=oe.isBalanced?"#4caf50":"#f44336")!=null?ee.style.setProperty("color",le):ee.style.removeProperty("color")),q}})};var nu=_("<div><div>⚠️</div><div></div><div></div><div>"),ou=_("<div><div></div><div></div><div></div><div></div><div>"),iu=_("<div><button></button><button> (<!>)</button><button> (<!>/<!>)"),Lo=_("<div>"),lu=_("<div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><span></span><span></span></div><div><div><h4></h4><div></div></div><div>"),An=_("<div><span></span><span>"),In=_("<div><strong>:</strong> "),su=_("<div><div><div></div><div></div><div></div><div></div><div></div></div><div><div><strong>:</strong> </div><div><strong>:</strong> </div><div></div></div><div><div><strong>🔗 Reconciliation Summary</strong></div><div><div><div><strong>Total Lines:</strong> </div><div><strong>Reconciled:</strong> </div><div><strong>Unreconciled:</strong> </div></div><div><div><strong>Bank Accounts:</strong> </div><div><strong>Bank Reconciled:</strong> "),au=_("<div><div><div></div><div></div></div><div></div><div></div><div></div><div>"),cu=_("<div><span>✓ "),du=_("<span>(<!>)"),uu=_("<div><strong>Bank Pending:</strong> "),yu=_("<div><div>Reconciled Lines:"),mu=_("<div><div>⚠️ Pending Bank Reconciliation:</div><div>Visit Bank Consolidations to reconcile these transactions"),vu=_("<div><div><div><span></span><h3></h3></div><div><div><div></div><div>Total Lines</div></div><div><div></div><div>Reconciled</div></div><div><div></div><div>Pending"),gu=_("<div><h4>✅ Reconciled Lines (<!>)"),pu=_("<div><div><div></div><div></div></div><div></div><div></div><div></div><div><div>✓ Matched"),fu=_("<div>→ "),bu=_("<div><h4>⏳ Unreconciled Lines (<!>)"),hu=_("<div><div><div></div><div></div></div><div></div><div></div><div></div><div><div>⏳ Pending"),Su=_("<div>Bank account"),Pu=_("<div><div>💡 Reconciliation Tip</div><div>This entry has unreconciled bank account transactions. Visit <strong>Bank Consolidations</strong> to match these with bank statements.");const $u=t=>{const{t:e}=We(),[n,i]=ne("details"),[l,c]=ne(!1),s=Fe(()=>t.entryId?Ht.getJournalEntryById(t.entryId):null),a={"text-align":"center","margin-bottom":"2rem",position:"relative"},d={position:"absolute",top:"0",right:"0",display:"flex",gap:"0.5rem"},v={"font-size":"0.875rem","font-weight":"600",color:"var(--text-muted)","text-transform":"uppercase","margin-bottom":"0.5rem"},f={"font-size":"1.5rem","font-weight":"600",color:"var(--text-primary)",margin:"0.5rem 0"},T={"font-size":"2rem","font-weight":"700",color:"var(--primary-color)","margin-bottom":"0.5rem"},L={padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500","text-transform":"uppercase","letter-spacing":"0.5px","margin-bottom":"1rem",display:"inline-block"},D={display:"flex","justify-content":"space-between","align-items":"center",padding:"0.75rem 0","border-bottom":"1px solid var(--border-color)"},C={"font-weight":"500",color:"var(--text-muted)","font-size":"0.875rem"},$={"font-weight":"600",color:"var(--text-primary)"},x={display:"flex","border-bottom":"1px solid var(--border-color)","margin-bottom":"1.5rem"},b=m=>({padding:"0.75rem 1rem",background:"none",border:"none",cursor:"pointer","font-weight":"500",color:m?"var(--primary-color)":"var(--text-muted)","border-bottom":m?"2px solid var(--primary-color)":"2px solid transparent",transition:"all 0.2s ease"}),O={display:"grid","grid-template-columns":"2fr 2.5fr 1fr 1fr 1.5fr",gap:"1rem",padding:"1rem 0","border-bottom":"1px solid var(--border-color)","align-items":"center"},oe={...O,"font-weight":"600","font-size":"0.875rem",color:"var(--text-muted)","border-bottom":"2px solid var(--border-color)"},q={display:"flex","justify-content":"space-between","align-items":"center",padding:"1rem",background:"var(--surface-color)","border-radius":"var(--border-radius-sm)","margin-top":"1rem"},ce={display:"flex",gap:"1rem","justify-content":"flex-end","margin-top":"2rem"},Z=m=>({draft:{bg:"#fff3cd",color:"#856404"},posted:{bg:"#d4edda",color:"#155724"},void:{bg:"#f8d7da",color:"#721c24"}})[m],ue=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(m),ye=m=>new Date(m).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),X=m=>new Date(m).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),Y=()=>{entry.status==="posted"&&!confirm(e("journal.confirmEditPosted","This entry has been posted. Editing will create a new draft copy. Continue?"))||c(!0)},W=()=>{if(s()&&confirm(e("journal.confirmPost","Are you sure you want to post this journal entry? This action cannot be undone.")))try{Ht.postJournalEntry(s().id)}catch(m){alert(m instanceof Error?m.message:e("forms.errorPostingEntry","An error occurred while posting the entry"))}},J=()=>{s()&&confirm(e("journal.confirmVoid","Are you sure you want to void this journal entry?"))&&Ht.voidJournalEntry(s().id)};return[y($t,{get isOpen(){return t.isOpen},get onClose(){return t.onClose},get title(){return e("journal.entryDetails","Journal Entry Details")},get children(){return U(()=>!s())()?(()=>{var m=nu(),I=m.firstChild,h=I.nextSibling,u=h.nextSibling,A=u.nextSibling;return m.style.setProperty("text-align","center"),m.style.setProperty("padding","3rem"),m.style.setProperty("color","var(--text-muted)"),I.style.setProperty("font-size","1.5rem"),I.style.setProperty("margin-bottom","1rem"),h.style.setProperty("font-size","1.1rem"),h.style.setProperty("margin-bottom","0.5rem"),r(h,()=>e("journal.entryNotFound","Entry Not Found")),u.style.setProperty("font-size","0.875rem"),r(u,()=>e("journal.entryNotFoundMessage","The journal entry you're looking for could not be found or may have been deleted.")),A.style.setProperty("margin-top","2rem"),r(A,y(Ae,{variant:"primary",get onClick(){return t.onClose},get children(){return e("common.close")}})),m})():(()=>{const m=s(),I=Z(m.status),h=Math.abs(m.totalDebit-m.totalCredit)<.01;return[(()=>{var u=ou(),A=u.firstChild,S=A.nextSibling,w=S.nextSibling,k=w.nextSibling,E=k.nextSibling;return o(u,a),r(A,y(Ae,{variant:"outline",size:"sm",onClick:Y,get title(){return e("journal.editEntryTooltip","Edit this journal entry")},get children(){return e("common.edit")}}),null),r(A,(()=>{var de=U(()=>m.status==="draft");return()=>de()&&y(Ae,{variant:"primary",size:"sm",onClick:W,disabled:!h,get title(){return h?e("journal.postEntryTooltip","Post this journal entry"):e("journal.entryMustBeBalanced","Entry must be balanced to post")},get children(){return e("journal.post","Post")}})})(),null),r(A,(()=>{var de=U(()=>m.status==="posted");return()=>de()&&y(Ae,{variant:"outline",size:"sm",onClick:J,style:{color:"#dc3545","border-color":"#dc3545"},get title(){return e("journal.voidEntryTooltip","Void this journal entry")},get children(){return e("entryBooks.void","Void")}})})(),null),o(S,v),r(S,()=>m.entryNumber),o(w,f),r(w,()=>m.description),o(k,T),r(k,()=>ue(m.totalDebit)),r(E,()=>m.status),j(de=>{var P=d,z={...L,background:I.bg,color:I.color};return de.e=o(A,P,de.e),de.t=o(E,z,de.t),de},{e:void 0,t:void 0}),u})(),(()=>{var u=iu(),A=u.firstChild,S=A.nextSibling,w=S.firstChild,k=w.nextSibling;k.nextSibling;var E=S.nextSibling,de=E.firstChild,P=de.nextSibling,z=P.nextSibling,te=z.nextSibling;return te.nextSibling,o(u,x),A.$$click=()=>i("details"),r(A,()=>e("common.details")),S.$$click=()=>i("lines"),r(S,()=>e("journal.journalLines","Journal Lines"),w),r(S,()=>m.lines.length,k),E.$$click=()=>i("reconciliation"),r(E,()=>e("banking.reconciliation","Reconciliation"),de),r(E,()=>m.lines.filter(H=>H.reconciled).length,P),r(E,()=>m.lines.length,te),j(H=>{var Q=b(n()==="details"),ee=b(n()==="lines"),ie=b(n()==="reconciliation");return H.e=o(A,Q,H.e),H.t=o(S,ee,H.t),H.a=o(E,ie,H.a),H},{e:void 0,t:void 0,a:void 0}),u})(),U(()=>U(()=>n()==="details")()&&(()=>{var u=lu(),A=u.firstChild,S=A.firstChild,w=S.nextSibling,k=A.nextSibling,E=k.firstChild,de=E.nextSibling,P=k.nextSibling,z=P.firstChild,te=z.nextSibling,H=P.nextSibling,Q=H.firstChild,ee=Q.nextSibling,ie=H.nextSibling,le=ie.firstChild,R=le.nextSibling,K=ie.nextSibling,pe=K.firstChild,fe=pe.nextSibling,M=K.nextSibling,F=M.firstChild,N=F.nextSibling,ae=M.nextSibling,re=ae.firstChild,ve=re.firstChild,ge=ve.nextSibling,g=re.nextSibling;return r(S,()=>e("common.date")),r(w,()=>ye(m.date)),r(E,()=>e("journal.reference")),r(de,()=>m.reference||e("common.notAvailable","N/A")),r(z,()=>e("journal.totalDebit")),r(te,()=>ue(m.totalDebit)),r(Q,()=>e("journal.totalCredit")),r(ee,()=>ue(m.totalCredit)),r(le,()=>e("journal.balanceStatus","Balance Status")),r(R,()=>h?`${e("journal.balanced")} ✓`:`${e("journal.unbalanced","Unbalanced")} (${ue(Math.abs(m.totalDebit-m.totalCredit))} ${e("journal.difference","difference")})`),r(pe,()=>e("journal.createdBy")),r(fe,()=>m.createdBy),r(F,()=>e("journal.createdAt","Created At")),r(N,()=>X(m.createdAt)),r(u,(()=>{var p=U(()=>!!m.postedAt);return()=>p()&&(()=>{var G=An(),me=G.firstChild,V=me.nextSibling;return r(me,()=>e("journal.postedAt","Posted At")),r(V,()=>X(m.postedAt)),j(se=>{var B=D,be=C,xe=$;return se.e=o(G,B,se.e),se.t=o(me,be,se.t),se.a=o(V,xe,se.a),se},{e:void 0,t:void 0,a:void 0}),G})()})(),ae),ae.style.setProperty("margin-top","2rem"),ae.style.setProperty("padding-top","1rem"),ae.style.setProperty("border-top","2px solid var(--border-color)"),re.style.setProperty("display","flex"),re.style.setProperty("justify-content","space-between"),re.style.setProperty("align-items","center"),re.style.setProperty("margin-bottom","1rem"),ve.style.setProperty("margin","0"),ve.style.setProperty("font-size","1rem"),r(ve,()=>e("journal.quickActions","Quick Actions")),ge.style.setProperty("display","flex"),ge.style.setProperty("gap","0.5rem"),r(ge,y(Ae,{variant:"primary",size:"sm",onClick:Y,get children(){return["✏️ ",U(()=>e("journal.editEntry"))]}}),null),r(ge,(()=>{var p=U(()=>m.status==="draft");return()=>p()&&y(Ae,{variant:"outline",size:"sm",onClick:W,disabled:!h,style:{"border-color":h?"#4caf50":"#f44336",color:h?"#4caf50":"#f44336"},get children(){return h?`✓ ${e("journal.postEntry","Post Entry")}`:`⚠️ ${e("journal.fixBalance","Fix Balance")}`}})})(),null),r(ge,(()=>{var p=U(()=>m.status==="posted");return()=>p()&&y(Ae,{variant:"outline",size:"sm",onClick:J,style:{color:"#dc3545","border-color":"#dc3545"},get children(){return["🗑️ ",U(()=>e("journal.voidEntry","Void Entry"))]}})})(),null),g.style.setProperty("padding","1rem"),g.style.setProperty("border-radius","var(--border-radius-sm)"),g.style.setProperty("font-size","0.875rem"),r(g,(()=>{var p=U(()=>m.status==="draft");return()=>p()&&(()=>{var G=In(),me=G.firstChild,V=me.firstChild;return me.nextSibling,r(me,()=>e("journal.draftEntry","Draft Entry"),V),r(G,()=>e("journal.draftEntryDescription","This entry can be edited and posted."),null),r(G,()=>!h&&` ⚠️ ${e("journal.entryMustBeBalancedBeforePosting","Entry must be balanced before posting.")}`,null),G})()})(),null),r(g,(()=>{var p=U(()=>m.status==="posted");return()=>p()&&(()=>{var G=In(),me=G.firstChild,V=me.firstChild;return me.nextSibling,r(me,()=>e("journal.postedEntry","Posted Entry"),V),r(G,()=>e("journal.postedEntryDescription","This entry has been posted to the general ledger. Editing will create a new draft copy."),null),G})()})(),null),r(g,(()=>{var p=U(()=>m.status==="void");return()=>p()&&(()=>{var G=In(),me=G.firstChild,V=me.firstChild;return me.nextSibling,r(me,()=>e("journal.voidEntry"),V),r(G,()=>e("journal.voidEntryDescription","This entry has been voided and cannot be modified."),null),G})()})(),null),j(p=>{var G=D,me=C,V=$,se=D,B=C,be=$,xe=D,Se=C,_e=$,Ee=D,Me=C,$e=$,Ce=D,De=C,Te={...$,color:h?"#4caf50":"#f44336"},Be=D,Re=C,Pe=$,qe=D,Ke=C,Ge=$,he=m.status==="draft"?"#fff3cd":m.status==="posted"?"#d4edda":"#f8d7da";return p.e=o(A,G,p.e),p.t=o(S,me,p.t),p.a=o(w,V,p.a),p.o=o(k,se,p.o),p.i=o(E,B,p.i),p.n=o(de,be,p.n),p.s=o(P,xe,p.s),p.h=o(z,Se,p.h),p.r=o(te,_e,p.r),p.d=o(H,Ee,p.d),p.l=o(Q,Me,p.l),p.u=o(ee,$e,p.u),p.c=o(ie,Ce,p.c),p.w=o(le,De,p.w),p.m=o(R,Te,p.m),p.f=o(K,Be,p.f),p.y=o(pe,Re,p.y),p.g=o(fe,Pe,p.g),p.p=o(M,qe,p.p),p.b=o(F,Ke,p.b),p.T=o(N,Ge,p.T),he!==p.A&&((p.A=he)!=null?g.style.setProperty("background",he):g.style.removeProperty("background")),p},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0}),u})()),U(()=>U(()=>n()==="lines")()&&(()=>{var u=su(),A=u.firstChild,S=A.firstChild,w=S.nextSibling,k=w.nextSibling,E=k.nextSibling,de=E.nextSibling,P=A.nextSibling,z=P.firstChild,te=z.firstChild,H=te.firstChild;te.nextSibling;var Q=z.nextSibling,ee=Q.firstChild,ie=ee.firstChild;ee.nextSibling;var le=Q.nextSibling,R=P.nextSibling,K=R.firstChild,pe=K.nextSibling,fe=pe.firstChild,M=fe.firstChild,F=M.firstChild;F.nextSibling;var N=M.nextSibling,ae=N.firstChild;ae.nextSibling;var re=N.nextSibling,ve=re.firstChild;ve.nextSibling;var ge=fe.nextSibling,g=ge.firstChild,p=g.firstChild;p.nextSibling;var G=g.nextSibling,me=G.firstChild;return me.nextSibling,r(S,()=>e("journal.account")),r(w,()=>e("common.description")),r(k,()=>e("journal.debit")),r(E,()=>e("journal.credit")),r(de,()=>e("banking.reconciliation")),r(u,y(ct,{get each(){return m.lines},children:V=>(()=>{var se=au(),B=se.firstChild,be=B.firstChild,xe=be.nextSibling,Se=B.nextSibling,_e=Se.nextSibling,Ee=_e.nextSibling,Me=Ee.nextSibling;return be.style.setProperty("font-weight","500"),r(be,()=>V.accountName),xe.style.setProperty("font-size","0.75rem"),xe.style.setProperty("color","var(--text-muted)"),r(xe,()=>et.getAccountById(V.accountId)?.accountNumber||V.accountId),Se.style.setProperty("font-size","0.875rem"),r(Se,()=>V.description||"-"),_e.style.setProperty("font-weight","600"),r(_e,(()=>{var $e=U(()=>V.debitAmount>0);return()=>$e()?ue(V.debitAmount):"-"})()),Ee.style.setProperty("font-weight","600"),r(Ee,(()=>{var $e=U(()=>V.creditAmount>0);return()=>$e()?ue(V.creditAmount):"-"})()),r(Me,(()=>{var $e=U(()=>!!V.reconciled);return()=>$e()?(()=>{var Ce=cu(),De=Ce.firstChild;return De.firstChild,Ce.style.setProperty("display","flex"),Ce.style.setProperty("align-items","center"),Ce.style.setProperty("gap","0.5rem"),Ce.style.setProperty("color","#4caf50"),Ce.style.setProperty("font-size","0.875rem"),De.style.setProperty("font-weight","600"),r(De,()=>e("banking.reconciled"),null),r(Ce,(()=>{var Te=U(()=>!!V.reconciledWith);return()=>Te()&&(()=>{var Be=du(),Re=Be.firstChild,Pe=Re.nextSibling;return Pe.nextSibling,Be.style.setProperty("font-size","0.75rem"),Be.style.setProperty("color","var(--text-muted)"),Be.style.setProperty("font-style","italic"),r(Be,()=>V.reconciledWith,Pe),Be})()})(),null),Ce})():(()=>{var Ce=Lo();return Ce.style.setProperty("color","var(--text-muted)"),Ce.style.setProperty("font-size","0.875rem"),r(Ce,()=>e("banking.notReconciled","Not Reconciled")),Ce})()})()),j($e=>{var Ce=O,De=V.debitAmount>0?"#4caf50":"var(--text-muted)",Te=V.creditAmount>0?"#f44336":"var(--text-muted)";return $e.e=o(se,Ce,$e.e),De!==$e.t&&(($e.t=De)!=null?_e.style.setProperty("color",De):_e.style.removeProperty("color")),Te!==$e.a&&(($e.a=Te)!=null?Ee.style.setProperty("color",Te):Ee.style.removeProperty("color")),$e},{e:void 0,t:void 0,a:void 0}),se})()}),P),o(P,q),r(te,()=>e("journal.totalDebit"),H),r(z,()=>ue(m.totalDebit),null),r(ee,()=>e("journal.totalCredit"),ie),r(Q,()=>ue(m.totalCredit),null),(h?"#4caf50":"#f44336")!=null?le.style.setProperty("color",h?"#4caf50":"#f44336"):le.style.removeProperty("color"),le.style.setProperty("font-weight","600"),r(le,()=>h?`✓ ${e("journal.balanced")}`:`⚠️ ${e("journal.notBalanced","Not Balanced")}`),R.style.setProperty("margin-top","1rem"),R.style.setProperty("padding","1rem"),R.style.setProperty("border-radius","var(--border-radius-sm)"),R.style.setProperty("font-size","0.875rem"),K.style.setProperty("margin-bottom","0.5rem"),pe.style.setProperty("display","grid"),pe.style.setProperty("grid-template-columns","1fr 1fr"),pe.style.setProperty("gap","1rem"),M.style.setProperty("margin-bottom","0.25rem"),r(M,()=>m.lines.length,null),N.style.setProperty("margin-bottom","0.25rem"),N.style.setProperty("color","#4caf50"),r(N,()=>m.lines.filter(V=>V.reconciled).length,null),re.style.setProperty("color","#f44336"),r(re,()=>m.lines.filter(V=>!V.reconciled).length,null),g.style.setProperty("margin-bottom","0.25rem"),r(g,()=>m.lines.filter(V=>["1001","1002","1003"].includes(V.accountId)).length,null),G.style.setProperty("margin-bottom","0.25rem"),G.style.setProperty("color","#4caf50"),r(G,()=>m.lines.filter(V=>["1001","1002","1003"].includes(V.accountId)&&V.reconciled).length,null),r(ge,(()=>{var V=U(()=>m.lines.filter(se=>["1001","1002","1003"].includes(se.accountId)&&!se.reconciled).length>0);return()=>V()&&(()=>{var se=uu(),B=se.firstChild;return B.nextSibling,se.style.setProperty("color","#f44336"),r(se,()=>m.lines.filter(be=>["1001","1002","1003"].includes(be.accountId)&&!be.reconciled).length,null),se})()})(),null),r(R,(()=>{var V=U(()=>m.lines.filter(se=>se.reconciled).length>0);return()=>V()&&(()=>{var se=yu(),B=se.firstChild;return se.style.setProperty("margin-top","0.75rem"),se.style.setProperty("padding-top","0.75rem"),se.style.setProperty("border-top","1px solid var(--border-color)"),B.style.setProperty("margin-bottom","0.5rem"),B.style.setProperty("font-weight","500"),r(se,()=>m.lines.filter(be=>be.reconciled).map(be=>(()=>{var xe=An(),Se=xe.firstChild,_e=Se.nextSibling;return xe.style.setProperty("display","flex"),xe.style.setProperty("justify-content","space-between"),xe.style.setProperty("margin-bottom","0.25rem"),xe.style.setProperty("font-size","0.8rem"),r(Se,()=>be.accountName),_e.style.setProperty("color","var(--text-muted)"),r(_e,()=>be.reconciledWith?`→ ${be.reconciledWith}`:"Manual"),xe})()),null),se})()})(),null),r(R,(()=>{var V=U(()=>m.lines.filter(se=>!se.reconciled&&["1001","1002","1003"].includes(se.accountId)).length>0);return()=>V()&&(()=>{var se=mu(),B=se.firstChild,be=B.nextSibling;return se.style.setProperty("margin-top","0.75rem"),se.style.setProperty("padding-top","0.75rem"),se.style.setProperty("border-top","1px solid var(--border-color)"),B.style.setProperty("margin-bottom","0.5rem"),B.style.setProperty("font-weight","500"),B.style.setProperty("color","#f44336"),r(se,()=>m.lines.filter(xe=>!xe.reconciled&&["1001","1002","1003"].includes(xe.accountId)).map(xe=>(()=>{var Se=An(),_e=Se.firstChild,Ee=_e.nextSibling;return Se.style.setProperty("display","flex"),Se.style.setProperty("justify-content","space-between"),Se.style.setProperty("margin-bottom","0.25rem"),Se.style.setProperty("font-size","0.8rem"),Se.style.setProperty("color","#f44336"),r(_e,()=>xe.accountName),r(Ee,()=>ue(xe.debitAmount||xe.creditAmount)),Se})()),be),be.style.setProperty("margin-top","0.5rem"),be.style.setProperty("font-size","0.75rem"),be.style.setProperty("color","var(--text-muted)"),be.style.setProperty("font-style","italic"),se})()})(),null),j(V=>{var se=oe,B=m.lines.some(be=>be.reconciled)?"#e8f5e8":"#fff3cd";return V.e=o(A,se,V.e),B!==V.t&&((V.t=B)!=null?R.style.setProperty("background",B):R.style.removeProperty("background")),V},{e:void 0,t:void 0}),u})()),U(()=>U(()=>n()==="reconciliation")()&&(()=>{var u=vu(),A=u.firstChild,S=A.firstChild,w=S.firstChild,k=w.nextSibling,E=S.nextSibling,de=E.firstChild,P=de.firstChild,z=P.nextSibling,te=de.nextSibling,H=te.firstChild,Q=H.nextSibling,ee=te.nextSibling,ie=ee.firstChild,le=ie.nextSibling;return A.style.setProperty("margin-bottom","1.5rem"),A.style.setProperty("padding","1rem"),A.style.setProperty("border-radius","var(--border-radius)"),A.style.setProperty("border","1px solid var(--border-color)"),S.style.setProperty("display","flex"),S.style.setProperty("align-items","center"),S.style.setProperty("gap","0.5rem"),S.style.setProperty("margin-bottom","1rem"),w.style.setProperty("font-size","1.5rem"),r(w,(()=>{var R=U(()=>!!m.lines.every(K=>K.reconciled));return()=>R()?"✅":m.lines.some(K=>K.reconciled)?"🔄":"⏳"})()),k.style.setProperty("margin","0"),k.style.setProperty("font-size","1.2rem"),r(k,(()=>{var R=U(()=>!!m.lines.every(K=>K.reconciled));return()=>R()?"Fully Reconciled":m.lines.some(K=>K.reconciled)?"Partially Reconciled":"Unreconciled"})()),E.style.setProperty("display","grid"),E.style.setProperty("grid-template-columns","1fr 1fr 1fr"),E.style.setProperty("gap","1rem"),de.style.setProperty("text-align","center"),P.style.setProperty("font-size","2rem"),P.style.setProperty("font-weight","700"),P.style.setProperty("color","var(--primary-color)"),r(P,()=>m.lines.length),z.style.setProperty("font-size","0.875rem"),z.style.setProperty("color","var(--text-muted)"),te.style.setProperty("text-align","center"),H.style.setProperty("font-size","2rem"),H.style.setProperty("font-weight","700"),H.style.setProperty("color","#4caf50"),r(H,()=>m.lines.filter(R=>R.reconciled).length),Q.style.setProperty("font-size","0.875rem"),Q.style.setProperty("color","var(--text-muted)"),ee.style.setProperty("text-align","center"),ie.style.setProperty("font-size","2rem"),ie.style.setProperty("font-weight","700"),ie.style.setProperty("color","#f44336"),r(ie,()=>m.lines.filter(R=>!R.reconciled).length),le.style.setProperty("font-size","0.875rem"),le.style.setProperty("color","var(--text-muted)"),r(u,(()=>{var R=U(()=>m.lines.filter(K=>K.reconciled).length>0);return()=>R()&&(()=>{var K=gu(),pe=K.firstChild,fe=pe.firstChild,M=fe.nextSibling;return M.nextSibling,K.style.setProperty("margin-bottom","1.5rem"),pe.style.setProperty("margin","0 0 1rem 0"),pe.style.setProperty("font-size","1.1rem"),pe.style.setProperty("color","#4caf50"),pe.style.setProperty("display","flex"),pe.style.setProperty("align-items","center"),pe.style.setProperty("gap","0.5rem"),r(pe,()=>m.lines.filter(F=>F.reconciled).length,M),r(K,()=>m.lines.filter(F=>F.reconciled).map(F=>(()=>{var N=pu(),ae=N.firstChild,re=ae.firstChild,ve=re.nextSibling,ge=ae.nextSibling,g=ge.nextSibling,p=g.nextSibling,G=p.nextSibling,me=G.firstChild;return N.style.setProperty("display","grid"),N.style.setProperty("grid-template-columns","2fr 2fr 1fr 1fr 1.5fr"),N.style.setProperty("gap","1rem"),N.style.setProperty("padding","0.75rem"),N.style.setProperty("margin-bottom","0.5rem"),N.style.setProperty("background","#f0f9f0"),N.style.setProperty("border-radius","var(--border-radius-sm)"),N.style.setProperty("align-items","center"),N.style.setProperty("font-size","0.875rem"),re.style.setProperty("font-weight","500"),r(re,()=>F.accountName),ve.style.setProperty("font-size","0.75rem"),ve.style.setProperty("color","var(--text-muted)"),r(ve,()=>et.getAccountById(F.accountId)?.accountNumber),ge.style.setProperty("color","var(--text-muted)"),r(ge,()=>F.description||"No description"),g.style.setProperty("font-weight","600"),r(g,(()=>{var V=U(()=>F.debitAmount>0);return()=>V()?ue(F.debitAmount):"-"})()),p.style.setProperty("font-weight","600"),r(p,(()=>{var V=U(()=>F.creditAmount>0);return()=>V()?ue(F.creditAmount):"-"})()),G.style.setProperty("color","#4caf50"),me.style.setProperty("font-weight","500"),r(G,(()=>{var V=U(()=>!!F.reconciledWith);return()=>V()&&(()=>{var se=fu();return se.firstChild,se.style.setProperty("font-size","0.75rem"),se.style.setProperty("font-style","italic"),r(se,()=>F.reconciledWith,null),se})()})(),null),j(V=>{var se=F.debitAmount>0?"#4caf50":"var(--text-muted)",B=F.creditAmount>0?"#f44336":"var(--text-muted)";return se!==V.e&&((V.e=se)!=null?g.style.setProperty("color",se):g.style.removeProperty("color")),B!==V.t&&((V.t=B)!=null?p.style.setProperty("color",B):p.style.removeProperty("color")),V},{e:void 0,t:void 0}),N})()),null),K})()})(),null),r(u,(()=>{var R=U(()=>m.lines.filter(K=>!K.reconciled).length>0);return()=>R()&&(()=>{var K=bu(),pe=K.firstChild,fe=pe.firstChild,M=fe.nextSibling;return M.nextSibling,K.style.setProperty("margin-bottom","1.5rem"),pe.style.setProperty("margin","0 0 1rem 0"),pe.style.setProperty("font-size","1.1rem"),pe.style.setProperty("color","#f44336"),pe.style.setProperty("display","flex"),pe.style.setProperty("align-items","center"),pe.style.setProperty("gap","0.5rem"),r(pe,()=>m.lines.filter(F=>!F.reconciled).length,M),r(K,()=>m.lines.filter(F=>!F.reconciled).map(F=>(()=>{var N=hu(),ae=N.firstChild,re=ae.firstChild,ve=re.nextSibling,ge=ae.nextSibling,g=ge.nextSibling,p=g.nextSibling,G=p.nextSibling,me=G.firstChild;return N.style.setProperty("display","grid"),N.style.setProperty("grid-template-columns","2fr 2fr 1fr 1fr 1.5fr"),N.style.setProperty("gap","1rem"),N.style.setProperty("padding","0.75rem"),N.style.setProperty("margin-bottom","0.5rem"),N.style.setProperty("background","#fff9f0"),N.style.setProperty("border-radius","var(--border-radius-sm)"),N.style.setProperty("align-items","center"),N.style.setProperty("font-size","0.875rem"),N.style.setProperty("border","1px solid #ffe0b3"),re.style.setProperty("font-weight","500"),r(re,()=>F.accountName),ve.style.setProperty("font-size","0.75rem"),ve.style.setProperty("color","var(--text-muted)"),r(ve,()=>et.getAccountById(F.accountId)?.accountNumber),ge.style.setProperty("color","var(--text-muted)"),r(ge,()=>F.description||"No description"),g.style.setProperty("font-weight","600"),r(g,(()=>{var V=U(()=>F.debitAmount>0);return()=>V()?ue(F.debitAmount):"-"})()),p.style.setProperty("font-weight","600"),r(p,(()=>{var V=U(()=>F.creditAmount>0);return()=>V()?ue(F.creditAmount):"-"})()),G.style.setProperty("color","#f44336"),me.style.setProperty("font-weight","500"),r(G,(()=>{var V=U(()=>!!["1001","1002","1003"].includes(F.accountId));return()=>V()&&(()=>{var se=Su();return se.style.setProperty("font-size","0.75rem"),se.style.setProperty("font-style","italic"),se})()})(),null),j(V=>{var se=F.debitAmount>0?"#4caf50":"var(--text-muted)",B=F.creditAmount>0?"#f44336":"var(--text-muted)";return se!==V.e&&((V.e=se)!=null?g.style.setProperty("color",se):g.style.removeProperty("color")),B!==V.t&&((V.t=B)!=null?p.style.setProperty("color",B):p.style.removeProperty("color")),V},{e:void 0,t:void 0}),N})()),null),r(K,(()=>{var F=U(()=>m.lines.filter(N=>!N.reconciled&&["1001","1002","1003"].includes(N.accountId)).length>0);return()=>F()&&(()=>{var N=Pu(),ae=N.firstChild,re=ae.nextSibling;return N.style.setProperty("padding","0.75rem"),N.style.setProperty("background","#ffebee"),N.style.setProperty("border-radius","var(--border-radius-sm)"),N.style.setProperty("margin-top","1rem"),N.style.setProperty("border","1px solid #ffcdd2"),ae.style.setProperty("font-weight","500"),ae.style.setProperty("margin-bottom","0.5rem"),ae.style.setProperty("color","#f44336"),re.style.setProperty("font-size","0.875rem"),re.style.setProperty("color","var(--text-muted)"),N})()})(),null),K})()})(),null),j(R=>(R=m.lines.every(K=>K.reconciled)?"#e8f5e8":m.lines.some(K=>K.reconciled)?"#fff3cd":"#ffebee")!=null?A.style.setProperty("background",R):A.style.removeProperty("background")),u})()),(()=>{var u=Lo();return o(u,ce),r(u,y(Ae,{variant:"secondary",get onClick(){return t.onClose},get children(){return e("common.close")}}),null),r(u,y(Ae,{variant:"primary",onClick:Y,get children(){return e("journal.editEntry")}}),null),r(u,(()=>{var A=U(()=>m.status==="draft");return()=>A()&&y(Ae,{variant:"outline",onClick:W,disabled:!h,style:{"border-color":"#4caf50",color:h?"#4caf50":"var(--text-muted)"},get children(){return h?e("journal.postEntry","Post Entry"):e("journal.entryNotBalanced","Entry Not Balanced")}})})(),null),r(u,(()=>{var A=U(()=>m.status==="posted");return()=>A()&&y(Ae,{variant:"outline",onClick:J,style:{color:"#dc3545","border-color":"#dc3545"},get children(){return e("journal.voidEntry","Void Entry")}})})(),null),u})()]})()}}),U(()=>U(()=>!!s())()&&y(Xo,{get isOpen(){return l()},onClose:()=>{c(!1)},get editEntry(){return s()}}))]};ut(["click"]);var xu=_("<div><div><h2></h2><p></p></div><div>"),Wt=_("<div>"),Cu=_("<div> <!> • <!> "),_u=_("<div><div><label></label></div><div><label></label></div><div><label></label></div><div><label></label><input type=date></div><div><label></label><input type=date></div><div><label></label></div><div>"),wu=_("<div><span>:</span><span> "),Xr=_("<span>: "),ku=_("<div><br>");const Au=()=>{const{t}=We(),[e,n]=ne(!1),[i,l]=ne(null),[c,s]=ne(!1),[a,d]=ne(null),[v,f]=ne("all"),[T,L]=ne("all"),[D,C]=ne(""),[$,x]=ne(""),[b,O]=ne("date"),[oe,q]=ne("desc"),ce={display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"2rem"},Z={display:"flex",gap:"1rem","align-items":"center","margin-bottom":"2rem",padding:"1.5rem",background:"var(--surface-color)","border-radius":"var(--border-radius)",border:"1px solid var(--border-color)","flex-wrap":"wrap"},ue={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem","margin-bottom":"2rem"},ye={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(400px, 1fr))",gap:"1.5rem"},X=()=>[{value:"all",label:t("journal.allEntries","All Entries")},{value:"draft",label:t("journal.draft")},{value:"posted",label:t("journal.posted")},{value:"void",label:t("entryBooks.void","Void")}],Y=()=>[{value:"all",label:t("accounts.allAccounts","All Accounts")},...et.accounts.map(k=>({value:k.id,label:`${k.accountNumber} - ${k.name}`}))],W=()=>[{value:"date",label:t("common.date")},{value:"entryNumber",label:t("journal.entryNumber")},{value:"amount",label:t("common.amount")}],J=()=>{let k=Ht.journalEntries;return v()!=="all"&&(k=k.filter(E=>E.status===v())),T()!=="all"&&(k=k.filter(E=>E.lines.some(de=>de.accountId===T()))),D()&&(k=k.filter(E=>E.date>=D())),$()&&(k=k.filter(E=>E.date<=$())),k=[...k].sort((E,de)=>{let P=0;switch(b()){case"date":P=new Date(E.date).getTime()-new Date(de.date).getTime();break;case"entryNumber":P=E.entryNumber.localeCompare(de.entryNumber);break;case"amount":P=E.totalDebit-de.totalDebit;break}return oe()==="asc"?P:-P}),k},m=()=>{const k=Ht.journalEntries,E=k.filter(Q=>Q.status==="draft"),de=k.filter(Q=>Q.status==="posted"),P=k.filter(Q=>Q.status==="void"),z=de.reduce((Q,ee)=>Q+ee.totalDebit,0),te=de.reduce((Q,ee)=>Q+ee.totalCredit,0),H=k.filter(Q=>Q.lines.some(ee=>["1001","1002","1003"].includes(ee.accountId)&&!ee.reconciled)).length;return{totalEntries:k.length,draftEntries:E.length,postedEntries:de.length,voidEntries:P.length,totalDebit:z,totalCredit:te,unreconciledEntries:H}},I=k=>{d(k.id),s(!0)},h=()=>{l(null),n(!0)},u=()=>{n(!1),l(null)},A=k=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(k),S=m(),w=J();return y(zt,{get title(){return t("entryBooks.title")},get children(){return[(()=>{var k=xu(),E=k.firstChild,de=E.firstChild,P=de.nextSibling,z=E.nextSibling;return o(k,ce),de.style.setProperty("margin","0 0 0.5rem 0"),de.style.setProperty("font-size","1.5rem"),r(de,()=>t("journal.title")),P.style.setProperty("margin","0"),P.style.setProperty("color","var(--text-muted)"),r(P,()=>t("entryBooks.subtitle","Manage accounting entries and general ledger records")),z.style.setProperty("display","flex"),z.style.setProperty("gap","1rem"),r(z,y(Ae,{variant:"secondary",onClick:()=>window.location.href="/bank-consolidations",get children(){return t("entryBooks.viewReconciliation","View Reconciliation")}}),null),r(z,y(Ae,{variant:"primary",onClick:h,get children(){return t("journal.addEntry","Add Journal Entry")}}),null),k})(),(()=>{var k=Wt();return o(k,ue),r(k,y(ze,{get title(){return t("entryBooks.totalEntries","Total Entries")},get subtitle(){return t("entryBooks.allJournalEntries","All journal entries")},get children(){return[(()=>{var E=Wt();return E.style.setProperty("font-size","1.5rem"),E.style.setProperty("font-weight","600"),E.style.setProperty("color","var(--primary-color)"),E.style.setProperty("margin-bottom","0.5rem"),r(E,()=>S.totalEntries),E})(),(()=>{var E=Cu(),de=E.firstChild,P=de.nextSibling,z=P.nextSibling,te=z.nextSibling;return te.nextSibling,E.style.setProperty("font-size","0.875rem"),E.style.setProperty("color","var(--text-muted)"),r(E,()=>S.postedEntries,de),r(E,()=>t("journal.posted").toLowerCase(),P),r(E,()=>S.draftEntries,te),r(E,()=>t("journal.draft").toLowerCase(),null),r(E,(()=>{var H=U(()=>S.voidEntries>0);return()=>H()&&` • ${S.voidEntries} ${t("entryBooks.void","void").toLowerCase()}`})(),null),E})()]}}),null),r(k,y(ze,{get title(){return t("journal.totalDebits")},get subtitle(){return t("entryBooks.postedEntriesOnly","Posted entries only")},get children(){return[(()=>{var E=Wt();return E.style.setProperty("font-size","1.5rem"),E.style.setProperty("font-weight","600"),E.style.setProperty("color","#4caf50"),E.style.setProperty("margin-bottom","0.5rem"),r(E,()=>A(S.totalDebit)),E})(),(()=>{var E=Wt();return E.style.setProperty("font-size","0.875rem"),E.style.setProperty("color","var(--text-muted)"),r(E,()=>t("entryBooks.fromPostedEntries","From {count} posted entries").replace("{count}",S.postedEntries.toString())),E})()]}}),null),r(k,y(ze,{get title(){return t("journal.totalCredits")},get subtitle(){return t("entryBooks.postedEntriesOnly","Posted entries only")},get children(){return[(()=>{var E=Wt();return E.style.setProperty("font-size","1.5rem"),E.style.setProperty("font-weight","600"),E.style.setProperty("color","#f44336"),E.style.setProperty("margin-bottom","0.5rem"),r(E,()=>A(S.totalCredit)),E})(),(()=>{var E=Wt();return E.style.setProperty("font-size","0.875rem"),E.style.setProperty("color","var(--text-muted)"),r(E,()=>t("entryBooks.fromPostedEntries","From {count} posted entries").replace("{count}",S.postedEntries.toString())),E})()]}}),null),r(k,y(ze,{get title(){return t("banking.unreconciled","Unreconciled")},get subtitle(){return t("banking.title")},get children(){return[(()=>{var E=Wt();return E.style.setProperty("font-size","1.5rem"),E.style.setProperty("font-weight","600"),E.style.setProperty("margin-bottom","0.5rem"),r(E,()=>S.unreconciledEntries),j(de=>(de=S.unreconciledEntries>0?"#ff9800":"#4caf50")!=null?E.style.setProperty("color",de):E.style.removeProperty("color")),E})(),(()=>{var E=Wt();return E.style.setProperty("font-size","0.875rem"),E.style.setProperty("color","var(--text-muted)"),r(E,(()=>{var de=U(()=>S.unreconciledEntries>0);return()=>de()?t("entryBooks.needBankReconciliation","Need bank reconciliation"):t("entryBooks.allReconciled","All reconciled")})()),E})()]}}),null),k})(),(()=>{var k=_u(),E=k.firstChild,de=E.firstChild,P=E.nextSibling,z=P.firstChild,te=P.nextSibling,H=te.firstChild,Q=te.nextSibling,ee=Q.firstChild,ie=ee.nextSibling,le=Q.nextSibling,R=le.firstChild,K=R.nextSibling,pe=le.nextSibling,fe=pe.firstChild,M=pe.nextSibling;return o(k,Z),E.style.setProperty("min-width","150px"),de.style.setProperty("display","block"),de.style.setProperty("margin-bottom","0.5rem"),de.style.setProperty("font-weight","500"),de.style.setProperty("font-size","0.875rem"),r(de,()=>t("common.status")),r(E,y(_t,{label:"",get value(){return v()},onChange:f,get options(){return X()}}),null),P.style.setProperty("min-width","200px"),z.style.setProperty("display","block"),z.style.setProperty("margin-bottom","0.5rem"),z.style.setProperty("font-weight","500"),z.style.setProperty("font-size","0.875rem"),r(z,()=>t("journal.account")),r(P,y(_t,{label:"",get value(){return T()},onChange:L,get options(){return Y()}}),null),te.style.setProperty("min-width","120px"),H.style.setProperty("display","block"),H.style.setProperty("margin-bottom","0.5rem"),H.style.setProperty("font-weight","500"),H.style.setProperty("font-size","0.875rem"),r(H,()=>t("entryBooks.sortBy","Sort By")),r(te,y(_t,{label:"",get value(){return b()},onChange:O,get options(){return W()}}),null),Q.style.setProperty("min-width","130px"),ee.style.setProperty("display","block"),ee.style.setProperty("margin-bottom","0.5rem"),ee.style.setProperty("font-weight","500"),ee.style.setProperty("font-size","0.875rem"),r(ee,()=>t("entryBooks.fromDate","From Date")),ie.addEventListener("change",F=>C(F.target.value)),ie.style.setProperty("padding","0.75rem"),ie.style.setProperty("border","1px solid var(--border-color)"),ie.style.setProperty("border-radius","var(--border-radius-sm)"),ie.style.setProperty("font-family","inherit"),ie.style.setProperty("width","100%"),le.style.setProperty("min-width","130px"),R.style.setProperty("display","block"),R.style.setProperty("margin-bottom","0.5rem"),R.style.setProperty("font-weight","500"),R.style.setProperty("font-size","0.875rem"),r(R,()=>t("entryBooks.toDate","To Date")),K.addEventListener("change",F=>x(F.target.value)),K.style.setProperty("padding","0.75rem"),K.style.setProperty("border","1px solid var(--border-color)"),K.style.setProperty("border-radius","var(--border-radius-sm)"),K.style.setProperty("font-family","inherit"),K.style.setProperty("width","100%"),pe.style.setProperty("min-width","100px"),fe.style.setProperty("display","block"),fe.style.setProperty("margin-bottom","0.5rem"),fe.style.setProperty("font-weight","500"),fe.style.setProperty("font-size","0.875rem"),r(fe,()=>t("entryBooks.order","Order")),r(pe,y(_t,{label:"",get value(){return oe()},onChange:q,get options(){return[{value:"desc",label:t("entryBooks.newest","Newest")},{value:"asc",label:t("entryBooks.oldest","Oldest")}]}}),null),M.style.setProperty("display","flex"),M.style.setProperty("align-items","end"),M.style.setProperty("gap","0.5rem"),r(M,y(Ae,{variant:"outline",size:"sm",onClick:()=>{f("all"),L("all"),C(""),x(""),O("date"),q("desc")},get children(){return t("entryBooks.resetFilters","Reset Filters")}})),j(()=>ie.value=D()),j(()=>K.value=$()),k})(),U(()=>U(()=>!!(v()!=="all"||T()!=="all"||D()||$()))()&&(()=>{var k=wu(),E=k.firstChild,de=E.firstChild,P=E.nextSibling,z=P.firstChild;return k.style.setProperty("display","flex"),k.style.setProperty("gap","0.5rem"),k.style.setProperty("align-items","center"),k.style.setProperty("margin-bottom","1rem"),k.style.setProperty("padding","0.75rem"),k.style.setProperty("background","var(--surface-color)"),k.style.setProperty("border-radius","var(--border-radius-sm)"),k.style.setProperty("border","1px solid var(--border-color)"),E.style.setProperty("font-size","0.875rem"),E.style.setProperty("font-weight","500"),r(E,()=>t("entryBooks.activeFilters","Active filters"),de),r(k,(()=>{var te=U(()=>v()!=="all");return()=>te()&&(()=>{var H=Xr(),Q=H.firstChild;return H.style.setProperty("padding","0.25rem 0.5rem"),H.style.setProperty("background","var(--primary-color)"),H.style.setProperty("color","white"),H.style.setProperty("border-radius","12px"),H.style.setProperty("font-size","0.75rem"),r(H,()=>t("common.status"),Q),r(H,v,null),H})()})(),P),r(k,(()=>{var te=U(()=>T()!=="all");return()=>te()&&(()=>{var H=Xr(),Q=H.firstChild;return H.style.setProperty("padding","0.25rem 0.5rem"),H.style.setProperty("background","var(--primary-color)"),H.style.setProperty("color","white"),H.style.setProperty("border-radius","12px"),H.style.setProperty("font-size","0.75rem"),r(H,()=>t("journal.account"),Q),r(H,()=>et.getAccountById(T())?.name||t("common.unknown","Unknown"),null),H})()})(),P),r(k,(()=>{var te=U(()=>!!D());return()=>te()&&(()=>{var H=Xr(),Q=H.firstChild;return H.style.setProperty("padding","0.25rem 0.5rem"),H.style.setProperty("background","var(--primary-color)"),H.style.setProperty("color","white"),H.style.setProperty("border-radius","12px"),H.style.setProperty("font-size","0.75rem"),r(H,()=>t("entryBooks.from","From"),Q),r(H,D,null),H})()})(),P),r(k,(()=>{var te=U(()=>!!$());return()=>te()&&(()=>{var H=Xr(),Q=H.firstChild;return H.style.setProperty("padding","0.25rem 0.5rem"),H.style.setProperty("background","var(--primary-color)"),H.style.setProperty("color","white"),H.style.setProperty("border-radius","12px"),H.style.setProperty("font-size","0.75rem"),r(H,()=>t("entryBooks.to","To"),Q),r(H,$,null),H})()})(),P),P.style.setProperty("margin-left","auto"),P.style.setProperty("font-size","0.875rem"),P.style.setProperty("color","var(--text-muted)"),r(P,()=>w.length,z),r(P,()=>t("entryBooks.entriesFound","{count} entries found").replace("{count}",w.length.toString()),null),k})()),U(()=>U(()=>w.length===0)()?y(ze,{get title(){return t("entryBooks.noJournalEntries","No Journal Entries")},get subtitle(){return t("entryBooks.startByCreating","Start by creating your first entry")},get children(){var k=ku(),E=k.firstChild;return k.style.setProperty("text-align","center"),k.style.setProperty("color","var(--text-muted)"),k.style.setProperty("padding","2rem"),r(k,()=>t("entryBooks.noEntriesMatch","No journal entries match your current filters."),E),r(k,y(Ae,{variant:"primary",style:{"margin-top":"1rem"},onClick:h,get children(){return t("entryBooks.createFirstEntry","Create First Entry")}}),null),k}}):(()=>{var k=Wt();return o(k,ye),r(k,y(ct,{each:w,children:E=>y(eu,{entry:E,onViewDetails:I})})),k})()),y(Xo,{get isOpen(){return e()},onClose:u,get editEntry(){return i()}}),y($u,{get isOpen(){return c()},onClose:()=>{s(!1),d(null)},get entryId(){return a()}})]}})};var Do=_("<div>"),Iu=_("<div>$23,450"),Eu=_("<div>$87,230"),Lu=_("<div>$5,670"),Du=_("<div><div><div><div>INV-2024-001</div><div>Acme Corporation</div></div><div>$5,250.00</div><div></div></div><div><div><div>INV-2024-002</div><div>Tech Solutions Inc.</div></div><div>$3,750.00</div><div></div></div><div><div><div>INV-2024-003</div><div>Global Services Ltd.</div></div><div>$8,900.00</div><div></div></div><div><div><div>INV-2024-004</div><div>StartUp Co.</div></div><div>$2,100.00</div><div>");const Nu=()=>{const{t}=We(),e={display:"flex","flex-direction":"column",gap:"1rem"},n={display:"flex","justify-content":"space-between","align-items":"center",padding:"1rem",background:"var(--surface-color)","border-radius":"var(--border-radius)",border:"1px solid var(--border-color)"},i={flex:"1"},l={"font-weight":"600","margin-bottom":"0.25rem"},c={color:"var(--text-muted)","font-size":"0.875rem"},s={"font-size":"1.25rem","font-weight":"600",color:"var(--primary-color)"},a=v=>({padding:"0.25rem 0.75rem","border-radius":"9999px","font-size":"0.75rem","font-weight":"500","text-transform":"uppercase","letter-spacing":"0.5px",background:v==="paid"?"#d4edda":v==="pending"?"#fff3cd":"#f8d7da",color:v==="paid"?"#155724":v==="pending"?"#856404":"#721c24"}),d={display:"grid","grid-template-columns":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem","margin-bottom":"2rem"};return y(zt,{get title(){return t("invoices.title","Invoices")},get children(){return[(()=>{var v=Do();return v.style.setProperty("margin-bottom","2rem"),r(v,y(Ae,{variant:"primary",get children(){return t("invoices.createNew","Create New Invoice")}})),v})(),(()=>{var v=Do();return o(v,d),r(v,y(ze,{get title(){return t("invoices.totalOutstanding","Total Outstanding")},get subtitle(){return t("invoices.unpaidInvoices","Unpaid invoices")},get children(){var f=Iu();return f.style.setProperty("font-size","1.5rem"),f.style.setProperty("font-weight","600"),f.style.setProperty("color","var(--primary-color)"),f}}),null),r(v,y(ze,{get title(){return t("invoices.thisMonth","This Month")},get subtitle(){return t("invoices.revenueCollected","Revenue collected")},get children(){var f=Eu();return f.style.setProperty("font-size","1.5rem"),f.style.setProperty("font-weight","600"),f.style.setProperty("color","var(--primary-color)"),f}}),null),r(v,y(ze,{get title(){return t("invoices.overdue","Overdue")},get subtitle(){return t("invoices.pastDueInvoices","Past due invoices")},get children(){var f=Lu();return f.style.setProperty("font-size","1.5rem"),f.style.setProperty("font-weight","600"),f.style.setProperty("color","var(--primary-color)"),f}}),null),v})(),y(ze,{get title(){return t("invoices.recentInvoices","Recent Invoices")},get subtitle(){return t("invoices.latestBillingActivity","Latest billing activity")},get children(){var v=Du(),f=v.firstChild,T=f.firstChild,L=T.firstChild,D=L.nextSibling,C=T.nextSibling,$=C.nextSibling,x=f.nextSibling,b=x.firstChild,O=b.firstChild,oe=O.nextSibling,q=b.nextSibling,ce=q.nextSibling,Z=x.nextSibling,ue=Z.firstChild,ye=ue.firstChild,X=ye.nextSibling,Y=ue.nextSibling,W=Y.nextSibling,J=Z.nextSibling,m=J.firstChild,I=m.firstChild,h=I.nextSibling,u=m.nextSibling,A=u.nextSibling;return o(v,e),r($,()=>t("invoices.paid","Paid")),r(ce,()=>t("invoices.pending","Pending")),r(W,()=>t("invoices.overdue","Overdue")),r(A,()=>t("invoices.paid","Paid")),j(S=>{var w=n,k=i,E=l,de=c,P=s,z=a("paid"),te=n,H=i,Q=l,ee=c,ie=s,le=a("pending"),R=n,K=i,pe=l,fe=c,M=s,F=a("overdue"),N=n,ae=i,re=l,ve=c,ge=s,g=a("paid");return S.e=o(f,w,S.e),S.t=o(T,k,S.t),S.a=o(L,E,S.a),S.o=o(D,de,S.o),S.i=o(C,P,S.i),S.n=o($,z,S.n),S.s=o(x,te,S.s),S.h=o(b,H,S.h),S.r=o(O,Q,S.r),S.d=o(oe,ee,S.d),S.l=o(q,ie,S.l),S.u=o(ce,le,S.u),S.c=o(Z,R,S.c),S.w=o(ue,K,S.w),S.m=o(ye,pe,S.m),S.f=o(X,fe,S.f),S.y=o(Y,M,S.y),S.g=o(W,F,S.g),S.p=o(J,N,S.p),S.b=o(m,ae,S.b),S.T=o(I,re,S.T),S.A=o(h,ve,S.A),S.O=o(u,ge,S.O),S.I=o(A,g,S.I),S},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0,O:void 0,I:void 0}),v}})]}})};var Tu=_("<div><main>");const Bu=t=>[y(Bl,{}),U(()=>t.children)],Mu=()=>(()=>{var t=Tu(),e=t.firstChild;return r(e,y(yl,{root:Bu,get children(){return[y(qt,{path:"/",component:Kl}),y(qt,{path:"/accounts",component:Os}),y(qt,{path:"/accounts/:id",component:Ys}),y(qt,{path:"/entry-books",component:Au}),y(qt,{path:"/employees",component:bd}),y(qt,{path:"/bank-consolidations",component:Wd}),y(qt,{path:"/balance-sheet",component:Ks}),y(qt,{path:"/invoices",component:Nu}),y(qt,{path:"/inventory",component:Vc}),y(qt,{path:"/products",component:cd})]}})),r(t,(()=>{var n=U(()=>!1);return()=>n()&&y(Vl,{})})(),null),t})(),Ru=document.getElementById("root");ki(()=>y(Mu,{}),Ru);
